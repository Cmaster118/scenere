{"version":3,"sources":["utils/axiosAPI.jsx","utils/graphs.jsx","utils/sidebarCustom.jsx","utils/networkGraph.jsx","utils/infoDisplayMulti.jsx","utils/index.js","utils/webLegend.jsx","components/authPages/signIn.jsx","components/authPages/signUp.jsx","components/authPages/forgot.jsx","components/authPages/verifyEmail.jsx","components/landingPages/header.jsx","components/landingPages/features.jsx","components/landingPages/aboutUs.jsx","components/landingPages/betaReqContact.jsx","components/landingPages/contactUs.jsx","components/navigation.jsx","components/footer.jsx","components/landingPagesCore.jsx","components/authPagesCore.jsx","components/contentCommonCore.jsx","components/dashboard.jsx","components/userData.jsx","components/userPages/writingSuggestion.jsx","components/userPages/userProfile.jsx","components/userPages/journalView.jsx","components/userPages/journalMake.jsx","components/userPages/userPrompts.jsx","components/userPages/userSecurity.jsx","components/userPages/userInvite.jsx","components/userPages/userSyncSettings.jsx","components/userPages/userWeb.jsx","components/userPagesCore.jsx","components/companyPages/companyEHI.jsx","components/companyPages/companyInvites.jsx","components/companyPages/companyPermissions.jsx","components/companyPages/companySettings.jsx","components/companyPages/selectCompany.jsx","components/companyPages/suggestionBox.jsx","components/companyPages/companyView.jsx","components/companyPages/companyPrompts.jsx","components/companyPages/companyWeb.jsx","components/companyPagesCore.jsx","components/LoadingScreen.jsx","App.js","reportWebVitals.js","index.js"],"names":["hostName","axiosInstance","axios","create","baseURL","withCredentials","accessToken","setAccessToken","token","convertSummaryType","convertDate","date","yyyy","getFullYear","toString","mm","getMonth","dd","getDate","mmChars","split","ddChars","checkError","err","response","errStatus","status","errData","data","errorName","errorSet","push","String","APISignIn","isUserOrEmail","requestUsername","requestPassword","callbackFunction","callbackFailure","password","post","then","res","console","log","catch","result","APIResendValidator","config","headers","Authorization","get","APISaveJournal","postingDate","promptValue","targetDiv","content","editorBlock","randomID","Math","random","substr","shorthand","targetDivision","undefined","forDate","usedPromptKeyText","richText","APIDivisionInvitesSet","targetInvite","targetAction","reqDiv","put","succData","APIDivisionSettingsGet","targetCompany","APIDivisionSettingsEdit","dataSet","APIUserInvitesSet","APIGetSearchPrompts","searchTerm","searchTypes","searchFilters","APISetNonDivisionEvents","savedID","incomingId","incomingDivision","incomingEnabledDiv","id","enabledDiv","APIGetDivisionWeb","divisionID","targetDate","dateReq","toJSON","APIGetUserWeb","arbitraryLineData","inputXAxis","inputDataList","builtData","dataIndex","label","fill","backgroundColor","borderColor","labels","datasets","getRadarEmotionData","inputData","borderWidth","testMaxMin","inputMax","inputAve","inputMin","stackedBarData","inputData1","inputData2","inputData3","stackedBarData2Test","stacked2BarData1Data","stacked3BarData1Data","frequencyBarData","labelsSet","index","validStates","Sidebar","props","setUserFlag","nextThing","setState","showUserActions","showUserEmailScan","setCompanyFlag","showCompanyDataFlag","showCompanyEmailFlag","showCompanySettingsFlag","setCompanyName","name","currentCompanyName","setUserName","currentUserName","disableMenu","enabled","activateMenu","reqState","find","element","displayState","state","displayMenu","this","className","to","basePath","React","Component","convertScanToWidth","weight","cappedWeight","convertScanToColor","senti","red","green","cappedSenti","floor","redHex","greenHex","blueHex","graphOptions","nodes","mass","shape","chosen","node","values","selected","hovering","shadow","color","mod","edges","arrowStrikethrough","smooth","edge","size","layout","hierarchical","interaction","hover","dragNodes","physics","solver","maxVelocity","minVelocity","height","ShowWebInfoComponent","Accordion","Toggle","as","Card","Header","variant","eventKey","Collapse","timedLoadStorage","key","loadData","Store","remove","dateSaved","Date","now","timedSaveStorage","length","storageTime","setHours","getHours","setDate","setSeconds","getSeconds","storeData","getTime","set","error","deleteStorageKey","debugPagename","signIn","resetErrors","usernameError","passwordError","isWrongError","networkError","miscError","userFieldChange","event","username","target","value","emailFieldChange","email","passFieldChange","remFieldChange","remember","handleSubmitFailure","responseData","networkErrorFlag","usernameErrorFlag","passwordErrorFlag","isWrongErrorFlag","unhandledErrorFlag","serverErrorFlag","debugSet","unhandledError","serverError","signInState","handleSubmitSuccess","incomingToken","access","displayName","signInEmailMode","loginSave","history","reRouteTarget","handleSubmit","usedName","preventDefault","emailError","emailClass","usernameClass","passwordClass","show1","onSubmit","type","onChange","placeholder","htmlFor","forgotPath","Alert","show","Heading","withRouter","signup","usernameFieldChange","password2","passwordErrorDetail","pass2FieldChange","firstNameFieldChange","firstName","lastnameFieldChange","lastName","checkFieldChange","checkField","nowSendEmailFailure","nowSendEmailState","nowSendEmailCallback","nowSendEmail","nowSignInFailure","nowSignInState","nowSignInCallback","nowSignIn","handleSignUpSubmitFailure","usernameErrorDetails","passwordErrorDetails","emailErrorFlag","emailErrorDetails","usernameErrorDetail","emailErrorDetail","handleSignUpSubmitState","handleSignUpSubmitCallback","responseStatus","handleSignUpSubmit","requestPassword1","requestPassword2","first_name","last_name","outData","APISignUp","legalError","show0","forgotPassword","goSignIn","arePasswordsSame","password1","swapToCode","currentState","generalErrorDetail","forceSwapForTesting","Number","sendEmailState","validateCodeState","submitPasswordState","sendEmailSuccess","successCode","successData","sendEmailFailure","sendEmail","targetEmail","APIForgotEmailSend","checkTokenFailure","tokenErrorDetails","checkTokenSuccess","checkToken","passToken","resetToken","submitPasswordFailure","errorText","newState","submitPasswordSuccess","submitPasswords","APIForgotEmailChangePassword","tokenFieldChange","pass1FieldChange","passwordsSameError","uncaughtError","currentField","currentButton","currentMessage","onClick","showWaiting","showError","indexKey","displayedError","thing","verifyEmail","gotoDash","reRouteSuccessTarget","handleVerifyFailure","tokenErrorFlag","tokenError","tokenErrorDetail","validateStatus","handleVerifyCallback","incomingStatus","incomingData","done","handleVerifySubmit","activateToken","APIValidateAccount","reSendEmailFailure","refreshToken","reSendEmail","sendEmailStatus","reSendEmailCallback","resend","tokenClass","displayBody","showSuccess","testAnother","testLeft","contact","handleEmailStatus","callbackSuccess","APIBetaSignEmail","companyFieldChange","company","contentFieldChange","emailContactState","APIContactUsEmail","navigation","triggerLogout","logout","reRouteSignIn","iconButton","userDisplay","currentUser","reRouteSignUp","reRouteDashboard","data-toggle","aria-haspopup","aria-expanded","aria-labelledby","reRouteUserInvites","reRouteUserSecurity","reRouteUserPermissions","reRouteLanding","data-target","aria-controls","aria-label","footer","checkDebugFlag","debugFlag","changeFlag","inputBool","clearDebug","debugDisplay","clearPage","pageName","copySet","changeKey","itemTag","itemValue","buttonTrigger","ENABLEBUTTON","displayDebug","pageStuff","contentKey","switchClass","showClear","FreePages","AuthPages","backButton","goBack","example","debugPageName","debugPageNameDiv","ContentPages","componentDidMount","currentDivisionID","changeCompanyMenuItems","checkParentIsLoaded","waitForParent","setInterval","sourceString","clearCompanyData","EHIData","currentCompanyDataName","currentCompanyDataType","selectedSummaryWeekData","validCompanySummaryDates","selectedSuggestDay","selectedSuggestDayData","validDivisionSuggestionDates","parentHasLoaded","clearInterval","loadFromLocalStorage","pageIsLoaded","changeUserMenuItems","checkActiveUser","loadOtherData","getJournalPrompts","getValidDates","getValidWebDates","getUserCompanyPermsApp","getSearchFilters","getValidJournalDates","getValidNonJournalDates","filtersFailure","returnData","getFiltersErrors","getFiltersStatus","filtersCallback","incomingFilters","validFilters","nameList","APIGetSearchFilters","journalPromptsFailure","journalPromptsErrors","getJournalPromptsStatus","journalPromptsCallback","incomingPrompts","journalValidPrompts","APIGetJournalPrompts","checkActiveUserFailure","checkActiveUserStatus","checkActiveUserError","checkActiveUserCallback","ActiveState","activateRedirect","isActive","APICheckActive","getValidWebDatesFailure","getValidWebDatesStatus","getValidWebDatesError","getValidWebDatesCallback","incomingWebDates","validUserWebDates","APIGetUserWebDates","journalDatesFailure","getJournalDatesStatus","getJournalDatesError","journalDatesCallback","incomingJournalDates","incomingJournalAIDates","len","validJournalDates","validJournalScanDates","todayDateFull","todayDate","tempAIObject","tempJoObject","item","newDate","checkDate","hasAI","usedPromptKey","APIGetJournalDates","nonJournalDatesFailure","getNonJournalDatesStatus","getNonJournalDatesError","nonJournalDatesCallback","incomingNonJournalDates","validNonJournalDates","APIGetNonJournalDates","companyListFailure","getUserCompanyPermsAppStatus","getUserCompanyPermsAppError","companyListCallback","incomingCompanyList","userLoadedCompanyList","selectableCount","selectableIndex","checkIndex1","indexOf","checkIndex2","getCompanyDataRequest","reqPerms","APIGetUsersPermTree","companyDatesFailure","getThatData","getCompanyValidDatesStatus","getCompanyValidDatesError","companyDatesCallback","incomingDatesObject","getCompanyValidDates","tempObjectSorter","typeName","summaryType","hasPrompts","APIGetCompanyValidDates","companySuggestionDateFailure","getCompanyValidSuggestionDatesStatus","getCompanyValidSuggestionDatesError","companySuggestionDateCallback","incomingDatesList","getCompanyValidSuggestionDates","datesData","APIGetSuggestionDates","companySuggestionDataFailure","tokenHasRefreshed","getCompanySuggestionDataStatus","getCompanySuggestionDataError","companySuggestionDataCallback","givenDate","getCompanySuggestionData","selectedDate","APIGetSuggestionData","companyDataFailure","getCompanyWeeklySummaryStatus","getCompanyWeeklySummaryError","companyDataCallback","incomingDataDict","companyMessage","selectedCompanyDate","currentDivisionName","currentCompanyDataID","getCompanyWeeklySummary","APIGetCompanySummary","companyEHIFailure","getCompanyEHIDataStatus","getCompanyEHIDataError","companyEHICallback","incomingEHIData","getCompanyEHIData","APIGetServerEHIData","getDivisionWebDatesFailure","incomingError","getDivisionWebDates","getDatesWebStatus","getDatesWebError","getDivisionWebDatesCallback","incomingDates","validDivisionWebDates","APIGetDivisionWebDates","divisionObj","adminCheck","perm","viewerCheck","currentDivisionPerms","changeMenuCompanyName","getCompanyDataStatus","changeCompanyPrompt","selectedCompanyPrompt","currentTarget","changeCompanyAspect","selectedCompanyAspect","changeCompanyDay","selectedCompanyDay","reloadPage","currentDate","selectedSuggestionDate","lastGovernedCompanyRequestStatus","journalValidUserPrompts","path","match","url","exact","component","toUserPage","toCompanyPage","reRouteUser","loadCompanyData","activateUserMenu","reRouteCompany","resetCompanySelectStatus","changeSelectedCompany","activateCompanyMenu","checkIfDoneToday","currentDivObj","promptID","nonJournalPromptsDone","journalPromptsDone","journalScanPromptsDone","matchToday","currentDivID","i","numberPrompts","targetSet","pIndex","allowCompanySelect","indexPerm","companyDisplay","Paginator","btnLen","prevAlter","nextAlter","activePage","totalLoaded","numPerPage","numberButtons","altered","altI","changeToNum","changePrevNext","styles","editor","border","minHeight","textAlign","StyleButton","onToggle","e","style","active","onMouseDown","BLOCK_TYPES","BlockStyleControls","editorState","selection","getSelection","blockType","getCurrentContent","getBlockForKey","getStartKey","getType","map","INLINE_STYLES","InlineStyleControls","currentStyle","getCurrentInlineStyle","has","suggestionMake","initializeSubList","generateingList","permType","permIndex","toggleBlockType","RichUtils","toggleInlineStyle","inlineStyle","handleKeyCommand","command","changePageTo","newPage","pageNum","changePageFwdBck","subList","setCompany","setSuggestionDivision","numChooseLimit","focusMe","refs","focus","displayDivisionList","selectedDivisionFull","selectedPerms","adjustedIndex","getButtonClass","errorCheckingClass","lastRequestStatus","showSubmit","postSuggestionStatus","errorParse","suggestionErrors","spellCheck","ref","saveToServer","UserProfile","initAdmin","adminSubList","initViews","viewSubList","initSends","sendSubList","initGovs","govSubList","setCurrentData","valueIndex","selectedName","tempGov","tempSen","tempVie","delGoverns","togSends","delViews","setFailure","saveChanges","saveChangesError","saveChangesStatus","setSuccess","triggerRefresh","APIUserSettingsEdit","displayViewSends","displayToggle","buttonClass","extra","disabled","displayOwningCompanyList","tabIndex","role","aria-hidden","data-dismiss","parseEmotion","emotionData","joy","anger","sadness","disgust","fear","AIAspect","MultiIteration","buttonSet","promptQuestions","RatingIteration","LikertIteration","JournalIteration","setAspect","selectedAspect","givenState","EditorState","createEmpty","richData","convertFromRaw","createWithContent","displayStats","tableDisplay","dayData","AIresults","emoValue","document","emotion","dataDocEmo","emoOptions","scale","ticks","beginAtZero","suggestedMin","suggestedMax","Table","bordered","responsive","scope","options","dataBarStack","score","barStackOptions","scales","yAxes","xAxes","entity","emoVal","emoData","dataEntSent","confidence","relevance","sentiment","dataEntOptions","text","count","colSpan","keyData","dataRadar","dataRadarOptions","dataKeySent","dataKeyOptions","readOnly","Body","ButtonGroup","toggle","radio","idx","ToggleButton","checked","foundData","viewJournalData","checkThing","deepIndex","viewNonJournalData","displayButtonSet","dispClass","selectedJournalViewDiv","changeSelectedJournalViewDiv","selectedDivID","showResult","promptTitle","promptBody","markLength","pickJournalCalenderDateStatus","pickNonJournalCalenderDateStatus","alreadyStacked","journalViewErrors","nonJournalViewErrors","pickDate","tileClassName","view","hasJournal","minDetail","maxDetail","initialSave","selectMulti","saveTo","disableThis","displayColor","alreadyDone","choices","selectRating","selectLikert","incomingState","getPlainText","convertToRaw","lastTargetDiv","lastPromptID","lastInitialSave","displayStuff","journalCreate","journalPostFailure","saveCurrent","journalErrors","postJournalStatus","journalPostCallback","incomingStuff","postJournal","incomingID","incomingEditor","incomingTargetDivision","inputDate","journalContent","richContent","nonJournalPostFailure","nonJournalErrors","postNonJournalStatus","nonJournalPostCallback","postNonJournal","incomingValue","chosenValue","APISaveNonJournal","checkDataSet","savePromptData","targetID","identifier","duplicate","prop","promptData","promptList","selectedDivision","selectDisplayButton","promptSet","currentDisplayDivision","dataTarget","classSet","divisionName","promptDisplay","outputThing","setData","saveData","triggerType","promptType","PromptDisplayUser","initTypeFlags","createdList","initNameFlags","setLastClickedEvent","lastClickedEventIndex","changeInput","searchText","changeFilterType1","alteredFlags","filterTypeFlags","slice","changeFilterType2","filterNameFlags","getEventsFailure","getEvents","getEventsStatus","getEventsError","getEventsSuccess","incomingEvents","sortedUser","eventsGlobBin","eventsUserBin","userName","APIGetUserEvents","createEvent","newEvents","enabledUserFieldChange","alteredEvents","promptsBin","changeTrigger","idNumberName","deleteEventFailure","tokenHasRefreshedError","deleteEventStatus","deleteEventError","deleteEventCallback","storedID","incomingMessage","valueInt","temp","splice","deleteEvent","selectedEvent","APIDeleteUserEvents","deleteEventPrompt","eventIndex","promptIndex","saveEventsFailure","saveEventStatus","saveEventError","saveEventsSuccess","savedIndex","saveUserEvent","newTrigger","newEnabled","newEnabledShare","newPrompts","incomingEnabled","incomingEnabledShare","incomingType","sharingEnabled","APISetUserEvents","searchForPromptsFailure","searchForPrompts","searchForStatus","searchForError","searchForPromptsCallback","hasSent","filterTypeSet","filterNameSet","addingEventPrompt","targetIndex","promptReport","addedPrompt","userEvents","thisEvent","displayCurrentPrompts","indexSub","subset","substring","unsavedCheck","displayLength","showSearchPrompts","alteredIndex","displayIndFilters","tagIndex","displayClass","aria-describedby","SecurityPages","oldPasswordChange","oldPassword","oldPasswordError","newPasswordChange","newPassword","newPasswordError","newPassword2Change","newPassword2","newEmailChange","newEmail","newNewFirstChange","newFirstName","newLastNameChange","newLastName","getDataFailure","getCurrentData","getCurrentDataError","getCurrentDataStatus","getDataSuccess","APIGetUserDetails","changeEmailFailure","changeEmail","changeGeneralError","changeEmailStatus","changeEmailSuccess","changeNameFailure","changeName","changeNameStatus","changeNameSuccess","newFirst","newLast","APIChangeUserName","changePasswordFailure","oldPassErr","newPassErr","newPassErrMess","changePassword","check","newPasswordErrorMessage","changePasswordStatus","changePasswordSuccess","newPass","oldPass","oldPass2","APIChangeUserPassword","currentEmail","currentFirstName","currentLastName","oldPasswordClass","inviteType","UserInvitePage","getUserInvitesFailure","getUserInvites","getUserInvitesErrors","getUserInvitesStatus","getUserInvitesSuccess","invitesUserSide","invitesDivisionSide","whoIsOrigin","invitePendingList","inviteActiveList","APIUserInvitesGet","inviteFailure","submitCode","submitCodeErrors","submitCodeStatus","inviteSuccess","inviteCode","APIUserInviteCode","spendInviteFailure","baseTryAgain","spendInviteErrors","spendInviteStatus","spendInviteSuccess","inviteYes","inviteNo","codeFieldChange","displayWaiting","displaySuccessInvite","displayErrors","currentInvitesDisplayList","inviteDivision","targetRole","invitesDisplayList","UserSync","href","UserWeb","GenerateTestInfo","toSetList","numNodes","maxNodes","minNodes","maxSenti","minSenti","freq","maxFreq","minFreq","timedRefresh","GenerateGraph","defineGraph","indexTo","background","from","width","sanityCheck","j","selectStuffPrimary","getUserWebFailure","getUserWebRecent","getWebStatus","getUserWebCallback","incomingWeb","webThing","loadedData","graphDataPrimary","loadedDataDate","getUserWebPreviousFailure","getUserWebPreviousCallback","webDate","getUserWebPrevious","incomingDate","selectedWebDay","dert","maxNodeFieldChange","minNodeFieldChange","maxSentiFieldChange","minSentiFieldChange","maxFreqFieldChange","minFreqFieldChange","selectedNodes","eventsPrimary","select","show2","show3","displayMessage","hasWeb","year","month","day","graph","events","getNetwork","network","DefaultView","initializeSuggestionDivision","generatingList","changeSuggestionContent","suggestionEditorState","suggestionPostFailureCallback","postSuggestion","suggestionPostCallback","suggestionContent","currentSuggestionDivision","createdDate","APISaveSuggestion","refreshCompleted","journalDataFailure","journalDataCallback","incomingFullData","nonJournalDataFailure","nonJournalDataCallback","incomingNonJournalData","pickJournalCalenderDate","selectedJournalDate","APIGetJournalData","APIGetNonJournalData","journalMessage","historyGraphTimings","dayLength","weekLength","GraphTimingButtons","currentDisplay","graphState","currentTimeIndex","timeIndex","timescaleList","usedPrompt","EHIselectedPrompt","usedTimescale","EHIselectedTimescale","timescale","dataLabels","dataData","lineOptions","lineData","timecode","dayCount","ehiDaysLabels","ehiDaysData","EHISetPrompt","EHISetTimescale","EHITimeToggle","CompanyInvites","tiggerReload","getDivisionData","getDivisionsInvites","getFailure","getDivisionDataError","getDivisionDataStatus","getSuccess","companyFullName","getInvitesFailure","getInvitesStatus","getInvitesError","getInvitesSuccess","APIDivisionInvitesGet","createInvitesStatus","createInvitesError","inviteUser","targetUser","APIDivisionInvitesCreate","useInvitesStatus","useInvitesError","spendInviteSuccessYes","successType","spendInviteSuccessNo","triggerDropdown","invitesDisplayPendingList","showTargetRole","showSuccessAcc","showSuccessRej","showSuccessInvite","CompanyPermissions","getPermissionsStatus","getPermissionsError","numChild","admins","views","sends","governs","adminsIDs","viewsIDs","sendsIDs","governsIDs","delAdmins","delSends","setPermissionsStatus","setPermissionsError","testData","toggleDelete","splitEvent","valueNameIndex","tempAdm","adminUserList","viewingUserList","sentUserList","governedUserList","viewingPermsCheck","CompanySettings","getSettingsStatus","getSettingsError","expiryDate","viewPerms","divisionFieldChange","newViewPerms","permRender","selectCompany","getData","getDataRequest","keyID","displayData","suggestion","dataDay","currentSelectedDayFilter","validDays","changeSelected","purity","showPrompts","givenPrompt","promptChoices","activeSet","dataBarSet","barOptionsFreq","ProgressBar","magicSet","emoMax","max","emoAve","ave","emoMin","min","dataDocumentEmo","radarOptions","emoThresh","threshold","dataBar","barOptions","dataBarNorm","sentimentBarData","thresholdPos","thresholdNeg","barOptionsNorm","relData","scoreData","scoreOptions","arguments","currentSummaryDate","summaryResult","messageLine1","currentCompany","messageLine2","messageLine3","hasSummary","numValues","validSummaryDates","PromptDisplay","sortedGlobal","sortedCompany","sortedDivision","eventsCompBin","eventsDivBin","APIGetDivisionEvents","redirectErrorPath","saveDivEvent","newEnabledDiv","APISetDivisionEvents","saveNonDivEventsFailure","saveGlobventsSuccess","saveCompEventsSuccess","saveGlobEvent","saveCompEvent","APIDeleteDivisionEvents","enabledGlobalFieldChange","enabledCompanyFieldChange","enabledDivisionFieldChange","enabledDivisionFieldChangeSuper","searchType","showGlobalEvents","showCompEvents","showDivisionEvents","ViewCompanyWeb","testInfo","numIDs","toStuff","maxRelations","maxRels","minRels","trackStuff","selectedNodeID","nodeSet","edgeToSet","edgeFromSet","edgeIndex","checkingIndex","selectedToEdges","selectedFromEdges","getCompanyWebFailure","getCompanyWebRecent","getCompanyWebCallback","getCompanyWebPreviousFailure","getCompanyWebPreviousCallback","getCompanyWebPrevious","maxRelsFieldChange","minRelsFieldChange","click","displayNodes","displayToEdges","displayFromEdges","changeEHIPrompt","EHISelectedPrompt","changeEHITimescale","EHISelectedTimescale","dateRangeChoice","EHITimespan","companySelectPage","selectedDay","selectedPrompt","setPrompt","setAI","setDay","LoadingScreen","Spinner","animation","nonUpdateRefreshingToken","App","debug","clearDebugPage","changeDebugKey","itemKey","sidebar","nextState","changeMenuUserName","newName","newCompany","lastUserSet","user","login","lastAccess","silentTokenUpdate","killAccessToken","rememberMe","timerSet","timedRefreshToken","refreshFailure","callbackSignal","refreshCallback","silentRefreshToken","callbackWhenDone","callbackRetrySignal","APIRefreshToken","triggerSilentRefreshToken","callbackRefresh","deleteServerCookiesFailure","deleteServerCookiesCallback","deleteServerCookies","APISignOut","each","authToken","debugMode","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","getElementById"],"mappings":";wUAGMA,EAAW,qCAIXC,EAAgBC,IAAMC,OAAO,CAClCC,QAASJ,EAETK,iBAAiB,IAOdC,EAAc,GACLC,EAAiB,SAACC,GAE9B,OADAF,EAAcE,GACP,GASFC,EAAqB,CAC1B,MACA,OACA,QACA,QAGKC,EAAc,SAACC,GACnB,IAAIC,EAAOD,EAAKE,cAAcC,WAC1BC,GAAMJ,EAAKK,WAAW,GAAGF,WACzBG,EAAMN,EAAKO,UAAUJ,WAErBK,EAAUJ,EAAGK,MAAM,IACnBC,EAAUJ,EAAGG,MAAM,IAEvB,OAAOR,EAAO,KAAOO,EAAQ,GAAGJ,EAAG,IAAII,EAAQ,IAAM,KAAOE,EAAQ,GAAGJ,EAAG,IAAII,EAAQ,KAWlFC,EAAa,SAACC,GAInB,GAAKA,EAAIC,SAIJ,CACJ,IAAIC,EAAYF,EAAIC,SAASE,OACzBC,EAAUJ,EAAIC,SAASI,KAG3B,GAAkB,MAAdH,EAAmB,CAItB,IAAK,IAAII,KAAaF,EACrB,GAA2B,uDAAvBA,EAAQE,GACX,MAAO,CAAC,OAAS,EAAG,SAAW,CAAE,CAAC,IAAM,EAAG,KAAOF,EAAQE,MAI5D,MAAO,CAAC,OAAS,EAAG,SAAW,CAAE,CAAC,IAAM,EAAG,KAAO,qBAE9C,GAAkB,MAAdJ,EAGR,MAAO,CAAC,OAAS,EAAG,SAAW,CAAE,CAAC,KAAO,EAAG,KAAO,uBAE/C,GAAkB,MAAdA,EAER,MAAO,CAAC,OAAS,EAAG,SAAW,CAAE,CAAC,IAAM,EAAG,KAAO,mBAE9C,GAAkB,MAAdA,EAAmB,CAE3B,IAAIK,EAAW,GAEf,IAAK,IAAID,KAAaF,EACH,aAAdE,EACHC,EAASC,KAAM,CAAC,IAAM,EAAG,KAAOC,OAAOL,EAAQE,MAEzB,aAAdA,EACRC,EAASC,KAAM,CAAC,IAAM,EAAG,KAAOC,OAAOL,EAAQE,MAEzB,qBAAdA,EACRC,EAASC,KAAM,CAAC,IAAM,EAAG,KAAOC,OAAOL,EAAQE,MAEzB,UAAdA,EACRC,EAASC,KAAM,CAAC,IAAM,EAAG,KAAOC,OAAOL,EAAQE,MAEzB,QAAdA,EACRC,EAASC,KAAM,CAAC,IAAM,EAAG,KAAOC,OAAOL,EAAQE,MAEzB,UAAdA,EACRC,EAASC,KAAM,CAAC,IAAM,EAAG,KAAOC,OAAOL,EAAQE,MAEzB,WAAdA,EACRC,EAASC,KAAM,CAAC,IAAM,EAAG,KAAOC,OAAOL,EAAQE,MAEzB,WAAdA,EACRC,EAASC,KAAM,CAAC,IAAM,EAAG,KAAOC,OAAOL,EAAQE,MAG/CC,EAASC,KAAM,CAAC,IAAM,EAAG,KAAOC,OAAOL,EAAQE,MAIjD,MAAO,CAAC,OAAS,EAAG,SAAWC,GAE3B,OAAkB,MAAdL,EAED,CAAC,OAAS,EAAG,SAAW,CAAE,CAAC,KAAO,EAAG,KAAO,mBAK5C,CAAC,OAAS,EAAG,SAAW,CAAE,CAAC,KAAO,EAAG,KAAO,gCAvEpD,MAAO,CAAC,OAAS,EAAG,SAAW,CAAE,CAAC,KAAO,EAAG,KAAO,oBAgIxCQ,EAAY,SAACC,EAAeC,EAAiBC,EAAiBC,EAAkBC,GAC5F,IAAIV,EAAO,CACVW,SAAUH,GAGPF,EACHN,EAAI,MAAYO,EAGhBP,EAAI,SAAeO,EAIpBlC,EAAcuC,KAAK,uBAAwBZ,GAC1Ca,MAAM,SAAAC,GACNC,QAAQC,IAAIF,GAEZL,EAAiBK,EAAId,SAErBiB,OAAO,SAAAtB,GAEP,IAAIuB,EAASxB,EAAWC,GAGxBe,EAAgBQ,OA0ELC,EAAqB,SAACV,EAAkBC,GACpD,IAAMU,EAAS,CACdC,QAAS,CAAEC,cAAc,OAAD,OAAS5C,KAElCL,EAAckD,IAAI,0BAA2BH,GAC5CP,MAAK,SAAAC,GAGJL,OAEDQ,OAAO,SAAAtB,GACP,IAAIuB,EAASxB,EAAWC,GAExBe,EAAgBQ,OAwMLM,EAAiB,SAACC,EAAaC,EAAaC,EAAWC,EAASC,EAAapB,EAAkBC,GAE3G,IAAMoB,EAAWC,KAAKC,SAAS9C,SAAS,IAAI+C,OAAO,EAAG,GAEhDb,EAAS,CACdC,QAAS,CAAEC,cAAc,OAAD,OAAS5C,KAG9BsB,EAAO,GAEVA,EADiB,QAAd2B,EACI,CACNO,UAAW,UAAUJ,EAErBK,oBAAgBC,EAIhBC,QAASvD,EAAa2C,GAEtBa,kBAAmBZ,EAEnBE,QAASA,EACTW,SAAUV,GAIJ,CACNK,UAAW,SAASJ,EAEpBK,eAAgBR,EAIhBU,QAASvD,EAAa2C,GAEtBa,kBAAmBZ,EAEnBE,QAASA,EACTW,SAAUV,GAKZxD,EAAcuC,KAAK,wBAAyBZ,EAAMoB,GACjDP,MAAM,SAAAC,GACNL,EAAiBK,EAAId,SAErBiB,OAAO,SAAAtB,GAEP,IAAIuB,EAASxB,EAAWC,GAExBe,EAAgBQ,OA6gBLsB,EAAwB,SAACL,EAAgBM,EAAcC,EAAcjC,EAAkBC,GAEnG,IAAMU,EAAS,CACdC,QAAS,CAAEC,cAAc,OAAD,OAAS5C,KAG5BsB,EAAO,CACZ2C,OAAOR,EACPM,aAAaA,EACbC,aAAaA,GAGdrE,EAAcuE,IAAI,0BAA2B5C,EAAMoB,GAClDP,MAAO,SAAAC,GAIP,IAAI+B,EAAW/B,EAAId,KAEnBS,EAAkBoC,MAElB5B,OAAO,SAAAtB,GAEP,IAAIuB,EAASxB,EAAWC,GAExBe,EAAgBQ,OA6BL4B,EAAyB,SAACC,EAAetC,EAAkBC,GAEvE,IAAMU,EAAS,CACdC,QAAS,CAAEC,cAAc,OAAD,OAAS5C,KAGlCL,EAAckD,IAAI,+BAA+BwB,EAAe3B,GAC/DP,MAAO,SAAAC,GAIP,IAAI+B,EAAW/B,EAAId,KAAK,GAExBS,EAAiBoC,MAEjB5B,OAAO,SAAAtB,GAEP,IAAIuB,EAASxB,EAAWC,GAExBe,EAAgBQ,OAKL8B,EAA0B,SAACC,EAASxC,EAAkBC,GAElE,IAAMU,EAAS,CACdC,QAAS,CAAEC,cAAc,OAAD,OAAS5C,KAO5BsB,EAAOiD,EAEb5E,EAAcuE,IAAI,wBAAyB5C,EAAMoB,GAChDP,MAAO,SAAAC,GAIP,IAAI+B,EAAW/B,EAAId,KAEnBS,EAAiBoC,MAEjB5B,OAAO,SAAAtB,GAEP,IAAIuB,EAASxB,EAAWC,GAExBe,EAAgBQ,OAsFLgC,EAAoB,SAACT,EAAcC,EAAcjC,EAAkBC,GAE/E,IAAMU,EAAS,CACdC,QAAS,CAAEC,cAAc,OAAD,OAAS5C,KAG5BsB,EAAO,CACZyC,aAAaA,EACbC,aAAaA,GAGdrE,EAAcuE,IAAI,sBAAuB5C,EAAMoB,GAC9CP,MAAO,SAAAC,GAGP,IAAI+B,EAAW/B,EAAId,KAEnBS,EAAkBoC,MAElB5B,OAAO,SAAAtB,GAEP,IAAIuB,EAASxB,EAAWC,GAExBe,EAAgBQ,OA0GLiC,EAAsB,SAACC,EAAYC,EAAaC,EAAe7C,EAAkBC,GAE7F,IAAMU,EAAS,CACdC,QAAS,CAAEC,cAAc,OAAD,OAAS5C,KAGlCL,EAAckD,IAAI,iCAAmC6B,EAAa,eAAiBC,EAAc,iBAAmBC,EAAelC,GAClIP,MAAO,SAAAC,GAEP,IAAI+B,EAAW/B,EAAId,KAEnBS,EAAkBoC,MAElB5B,OAAO,SAAAtB,GAEP,IAAIuB,EAASxB,EAAWC,GAExBe,EAAgBQ,OAsDLqC,EAA0B,SAACC,EAASC,EAAYC,EAAkBC,EAAoBlD,EAAkBC,GAEpH,IAAMU,EAAS,CACdC,QAAS,CAAEC,cAAc,OAAD,OAAS5C,KAG5BsB,EAAO,CAGZ4D,GAAIH,EACJd,OAAQe,EAERG,WAAYF,GAIbtF,EAAcuC,KAAK,6BAA8BZ,EAAMoB,GACtDP,MAAO,SAAAC,GAEP,IAAI+B,EAAW/B,EAAId,KAEnBS,EAAkB+C,EAASX,MAE3B5B,OAAO,SAAAtB,GACP,IAAIuB,EAASxB,EAAWC,GAExBe,EAAgBQ,OA8JL4C,EAAoB,SAACC,EAAYC,EAAYvD,EAAkBC,GAC3E,IAAMU,EAAS,CACdC,QAAS,CAAEC,cAAc,OAAD,OAAS5C,KAG9BuF,EAAU,cACO7B,IAAf4B,IACLC,EAAUD,EAAWE,SAAS1E,MAAM,KAAK,IAG1CnB,EAAckD,IAAI,mCAAmCwC,EAAW,YAAYE,EAAS7C,GACpFP,MACA,SAAAC,GACCL,EAAiBK,EAAId,SAEtBiB,OAAO,SAAAtB,GAEP,IAAIuB,EAASxB,EAAWC,GAExBe,EAAgBQ,OAwBLiD,EAAgB,SAACH,EAAYvD,EAAkBC,GAC3D,IAAMU,EAAS,CACdC,QAAS,CAAEC,cAAc,OAAD,OAAS5C,KAG9BuF,EAAU,cACO7B,IAAf4B,IACLC,EAAUD,EAAWE,SAAS1E,MAAM,KAAK,IAG1CnB,EAAckD,IAAI,gCAAgC0C,EAAS7C,GAC1DP,MACA,SAAAC,GACEL,EAAiBK,EAAId,SAEvBiB,OAAO,SAAAtB,GAEP,IAAIuB,EAASxB,EAAWC,GAExBe,EAAgBQ,OC5qDLkD,EAAoB,SAACC,EAAYC,GAE7C,IAAIC,EAAY,GACZC,EAAY,EAChB,IAAKA,KAAaF,EACjBC,EAAUpE,KAAK,CACdsE,MAAOH,EAAcE,GAAWC,MAChCzE,KAAMsE,EAAcE,GAAWxE,KAC/B0E,MAAM,EACNC,gBAAiB,oBACjBC,YAAa,4BASf,MALa,CACZC,OAAQR,EACRS,SAAUP,IAwBCQ,EAAsB,SAACC,GAenC,MAba,CACZH,OAAQ,CAAC,MAAO,QAAS,UAAW,UAAW,QAC9CC,SAAU,CACV,CACCL,MAAO,oBACPzE,KAAMgF,EACNL,gBAAiB,0BACjBC,YAAa,wBACbK,YAAa,MA+JJC,EAAa,SAACC,EAAUC,EAAUC,GA4B9C,MA3Ba,CACZR,OAAQ,CAAC,MAAO,QAAS,UAAW,UAAW,QAC9CC,SAAU,CACV,CACCL,MAAO,MACPzE,KAAMmF,EACNR,gBAAiB,0BACjBC,YAAa,wBACbK,YAAa,GAEd,CACCR,MAAO,MACPzE,KAAMoF,EACNT,gBAAiB,0BACjBC,YAAa,wBACbK,YAAa,GAEd,CACCR,MAAO,MACPzE,KAAMqF,EACNV,gBAAiB,0BACjBC,YAAa,wBACbK,YAAa,MAwDJK,EAAiB,SAACC,EAAYC,EAAYC,GAsBtD,MArBa,CACZZ,OAAQ,CAAC,SACTC,SAAU,CACT,CACCL,MAAO,UACPzE,KAAMuF,EACNZ,gBAAiB,qBAElB,CACCF,MAAO,UACPzE,KAAMwF,EACNb,gBAAiB,qBAElB,CACCF,MAAO,UACPzE,KAAMyF,EACNd,gBAAiB,wBA8CRe,EAAsB,SAACH,EAAYC,EAAYC,GAsB3D,MArBa,CACZZ,OAAQ,CAAC,YAAa,aACtBC,SAAU,CACT,CACCL,MAAO,UACPzE,KAAMuF,EACNZ,gBAAiB,qBAElB,CACCF,MAAO,UACPzE,KAAMwF,EACNb,gBAAiB,qBAElB,CACCF,MAAO,UACPzE,KAAMyF,EACNd,gBAAiB,wBAQRgB,EAAuB,SAACX,GAYpC,MAXa,CACZH,OAAQ,CAAC,YAAa,aACtBC,SAAU,CACT,CACCL,MAAO,QACPzE,KAAMgF,EACNL,gBAAiB,wBAiCRiB,EAAuB,SAACZ,GAYpC,MAXa,CACZH,OAAQ,CAAC,aAAc,YAAa,aACpCC,SAAU,CACT,CACCL,MAAO,QACPzE,KAAMgF,EACNL,gBAAiB,wBAwDRkB,EAAmB,SAAEb,GAIjC,IAAIc,EAAY,GACZ7C,EAAU,GACd,IAAK,IAAI8C,KAASf,EACjBc,EAAU3F,KAAM4F,GAChB9C,EAAQ9C,KAAM6E,EAAUe,IA8BzB,MA3Ba,CACZlB,OAAQiB,EACRhB,SAAU,CACT,CACAL,MAAO,CAAC,cACRzE,KAAMiD,EACN0B,gBAAiB,CAChB,0BACA,0BACA,0BACA,0BACA,2BACA,2BAEDC,YAAa,CACZ,wBACA,wBACA,wBACA,wBACA,yBACA,yBAEAK,YAAa,M,gBC/fXe,EAAc,CAAC,EAAE,GAEVC,EAAb,kDAEC,WAAYC,GAAQ,IAAD,8BACZ,cAAMA,IAkBbC,YAAc,SAACC,GACd,GAAyB,kBAAdA,EACV,OAAO,GAGW,IAAfA,EACH,EAAKC,SAAS,CACbC,iBAAiB,EACjBC,mBAAmB,IAGE,IAAdH,EACR,EAAKC,SAAS,CACbC,iBAAiB,IAGI,IAAdF,GACR,EAAKC,SAAS,CACbE,mBAAmB,KArCH,EA0CnBC,eAAiB,SAACJ,GACjB,GAAyB,kBAAdA,EACV,OAAO,GAGW,IAAfA,EACH,EAAKC,SAAS,CACbI,qBAAqB,EACrBC,sBAAsB,EACtBC,yBAAyB,IAGJ,IAAdP,EACR,EAAKC,SAAS,CACbI,qBAAqB,IAGA,IAAdL,EACR,EAAKC,SAAS,CACbK,sBAAsB,IAGD,IAAdN,GACR,EAAKC,SAAS,CACbM,yBAAyB,KAlET,EAuEnBC,eAAiB,SAACC,GACjB,EAAKR,SAAS,CACbS,mBAAoBD,KAzEH,EA6EnBE,YAAc,SAACF,GACd,EAAKR,SAAS,CACbW,gBAAiBH,KA/EA,EAmFnBI,YAAc,WAEb,EAAKZ,SAAS,CACba,SAAS,KAtFQ,EA0FnBC,aAAe,SAACC,GAKf,YAAmBhF,IAFF4D,EAAYqB,MAAK,SAAAC,GAAO,OAAIA,IAAYF,MAGxD,EAAKf,SAAS,CACba,SAAQ,EACRK,aAAcH,KAER,IAGP,EAAKf,SAAS,CACba,SAAQ,KAEF,IAxGR,EAAKM,MAAQ,CAEZN,SAAQ,EACRK,aAAa,EAEbjB,iBAAgB,EAChBC,mBAAkB,EAElBE,qBAAoB,EACpBC,sBAAqB,EACrBC,yBAAwB,EAExBG,mBAAmB,cACnBE,gBAAgB,YAfC,EAFpB,0CAsHC,WAEC,IAAIS,EAAc,GAElB,OAAOC,KAAKF,MAAMD,cACjB,KAAK,EACJE,EAAYtH,KACX,qBAAKwH,UAAU,4CAAf,SACC,6BACED,KAAKF,MAAMR,mBAFiD,MAM5DU,KAAKF,MAAMlB,iBACdmB,EAAYtH,KACX,cAAC,IAAD,CAAMwH,UAAU,kBAAkBC,GAAIF,KAAKxB,MAAM2B,SAAS,mCAA1D,iCAAkG,KAGlG,cAAC,IAAD,CAAMF,UAAU,kBAAkBC,GAAIF,KAAKxB,MAAM2B,SAAS,kCAA1D,+BAAiG,KAGjG,cAAC,IAAD,CAAMF,UAAU,kBAAkBC,GAAIF,KAAKxB,MAAM2B,SAAS,sCAA1D,6BAAqG,MAMvGJ,EAAYtH,KACX,qBAAKwH,UAAU,4CAAf,SACC,iDAD8D,QAM5DD,KAAKF,MAAMjB,mBACdkB,EAAYtH,KACX,cAAC,IAAD,CAAMwH,UAAU,kBAAkBC,GAAIF,KAAKxB,MAAM2B,SAAS,8BAA1D,6BAA6F,MAM/FJ,EAAYtH,KACX,qBAAKwH,UAAU,4CAAf,SACC,2CAD8D,OAK/D,cAAC,IAAD,CAAMA,UAAU,kBAAkBC,GAAIF,KAAKxB,MAAM2B,SAAS,kCAA1D,iCAAiG,MAKlGJ,EAAYtH,KACX,cAAC,IAAD,CAAMwH,UAAU,kBAAkBC,GAAIF,KAAKxB,MAAM2B,SAAS,uCAA1D,0BAAsG,MAIvG,MACD,KAAK,EACJJ,EAAYtH,KACX,cAAC,IAAD,CAAMwH,UAAU,4CAA4CC,GAAIF,KAAKxB,MAAM2B,SAAS,uCAApF,SACC,6BACEH,KAAKF,MAAMV,sBAFkH,KAKhI,cAAC,IAAD,CAAMa,UAAU,wCAAwCC,GAAIF,KAAKxB,MAAM2B,SAAS,uCAAhF,SACC,qDAD2H,QAMzHH,KAAKF,MAAMf,qBACdgB,EAAYtH,KACX,cAAC,IAAD,CAAMwH,UAAU,wCAAwCC,GAAIF,KAAKxB,MAAM2B,SAAS,oCAAhF,qBAAyH,KAGxH,cAAC,IAAD,CAAMF,UAAU,wCAAwCC,GAAIF,KAAKxB,MAAM2B,SAAS,wCAAhF,2BAA6H,KAG7H,cAAC,IAAD,CAAMF,UAAU,wCAAwCC,GAAIF,KAAKxB,MAAM2B,SAAS,4CAAhF,gCAAiI,MAKhIH,KAAKF,MAAMd,sBACde,EAAYtH,KACX,qBAAKwH,UAAU,4CAAf,SACC,iDAD8D,OAM/D,cAAC,IAAD,CAAMA,UAAU,wCAAwCC,GAAIF,KAAKxB,MAAM2B,SAAS,oCAAhF,4BAAyH,MAKvHH,KAAKF,MAAMb,yBACdc,EAAYtH,KAEX,qBAAKwH,UAAU,4CAAf,SACC,2CAD8D,OAK/D,cAAC,IAAD,CAAMA,UAAU,wCAAwCC,GAAIF,KAAKxB,MAAM2B,SAAS,wCAAhF,+BAA6H,KAG7H,cAAC,IAAD,CAAMF,UAAU,wCAAwCC,GAAIF,KAAKxB,MAAM2B,SAAS,wCAAhF,yBAA6H,KAG7H,cAAC,IAAD,CAAMF,UAAU,wCAAwCC,GAAIF,KAAKxB,MAAM2B,SAAS,sCAAhF,gCAA2H,KAG3H,cAAC,IAAD,CAAMF,UAAU,wCAAwCC,GAAIF,KAAKxB,MAAM2B,SAAS,yCAAhF,2BAA8H,MAKhI,MACD,QACCJ,EAAYtH,KACX,qBAAKwH,UAAU,aAAf,kCAMH,OACC,qBAAKA,UAAU,gBAAf,SACED,KAAKF,MAAMN,SACX,cAAC,QAAD,UACC,sBAAKS,UAAU,aAAf,UACC,cAAC,IAAD,CAAMA,UAAU,uCAAuCC,GAAIF,KAAKxB,MAAM2B,SAAS,aAA/E,uBAGCJ,aA/PR,GAA6BK,IAAMC,WCNtBC,EAAqB,SAACC,GAGlC,IAMIC,EAAeD,EASnB,OAPIC,EARc,EASjBA,EATiB,EAWTA,EAVS,IAWjBA,EAXiB,GAcXA,GAEKC,EAAqB,SAACC,GAElC,IAAIC,EAAM,EACNC,EAAQ,EAMRC,EAAcH,EACdG,EAHa,EAIhBA,EAJgB,EAMRA,GALQ,IAMhBA,GANgB,GASbH,EAAQ,EACXC,EAAMtG,KAAKyG,MAAM,KAAMJ,GAGvBE,EAAQvG,KAAKyG,MAAM,IAAIJ,GAGxB,IAAIK,EAASJ,EAAInJ,SAAS,IACtBmJ,EAAM,KACRI,EAAS,IAAIA,GAGf,IAAIC,EAAWJ,EAAMpJ,SAAS,IAC1BoJ,EAAQ,KACVI,EAAW,IAAIA,GAGjB,IAAIC,GA9BO,GA8BQzJ,SAAS,IAK5B,MAAO,IAAMuJ,EAASC,GAHpBC,EAAU,IAAIA,IAKJC,EAAe,CAC3BC,MAAO,CACNC,KAAK,IACLC,MAAO,MAUPC,OAAQ,CACPC,KAAM,SAASC,EAAQtF,EAAIuF,EAAUC,GACpCF,EAAOG,QAAS,EAChBH,EAAOI,MAAQ,WAGhB7E,MAAO,SAASyE,EAAQtF,EAAIuF,EAAUC,GAErCF,EAAOK,IAAM,UAIhBC,MAAO,CACNF,MAAO,UACPG,oBAAoB,EAGpBC,OAAQ,CAAC,KAAO,WAEhBV,OAAQ,CAEPW,KAAM,SAAST,EAAQtF,EAAIuF,EAAUC,GAEpCF,EAAOG,QAAS,GAGjB5E,MAAO,SAASyE,EAAQtF,EAAIuF,EAAUC,GAErCF,EAAOU,KAAO,GACdV,EAAOK,IAAM,UAOhBM,OAAQ,CACPC,cAAc,GAEfC,YAAY,CACXC,OAAM,EACNC,WAAW,GAEZC,QAAS,CAERC,OAAQ,YACRC,YAAa,GACbC,YAAa,IAUdC,OAAQ,S,2BC7HIC,GAAb,kDAEC,WAAYrE,GAAQ,IAAD,8BACZ,cAAMA,IACDsB,MAAQ,GAFD,EAFpB,0CASC,WACC,OACC,qBAAKG,UAAU,iBAAf,SACC,qBAAKA,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,eAAC6C,EAAA,EAAD,WACC,cAACA,EAAA,EAAUC,OAAX,CAAkBC,GAAIC,IAAKC,OAAQjD,UAAU,wCAAwCkD,QAAQ,OAAOC,SAAS,OAA7G,SACC,sBAAKnD,UAAU,MAAf,UACC,qBAAKA,UAAU,UAGf,qBAAKA,UAAU,MAAf,wCAGA,qBAAKA,UAAU,QAAf,SACC,cAAC,IAAD,WAKH,cAAC6C,EAAA,EAAUO,SAAX,CAAoBD,SAAS,OAAOnD,UAAU,SAA9C,SAEC,sBAAKA,UAAU,MAAf,UACC,qBAAKA,UAAU,QACf,sBAAKA,UAAU,OAAf,UACC,2CACW,iDAEX,iGAGA,4HAGC,uBAHD,6EAOA,6BACC,4DAED,+BACC,iEAGA,gEAGA,mFAEC,uBAFD,uDAOF,qBAAKA,UAAU,0BAhExB,GAA0CG,IAAMC,WCKnCiD,ICTkBlD,IAAMC,UDSL,SAACkD,GAEhC,IAAIC,EAAWC,IAAM5J,IAAI0J,GAGzB,QAAiB7I,IAAb8I,EACH,OAAO,EAER,QAAyB9I,IAArB8I,EAAQ,KAEX,OADAC,IAAMC,OAAOH,GACN,EAIR,IAAII,EAAYH,EAAQ,WAGxB,OAFUI,KAAKC,MAELF,GAETF,IAAMC,OAAOH,GACN,GAMDC,EAAQ,OAEHM,GAAmB,SAACP,EAAKjL,EAAMyL,GAK3C,IACC,IAAIC,EAAc,IAAIJ,KAEP,IAAXG,EACHC,EAAYC,SAASD,EAAYE,WAAW,GAEzB,IAAXH,EACRC,EAAYG,QAAQH,EAAYpM,UAAU,GAEvB,IAAXmM,EACRC,EAAYG,QAAQH,EAAYpM,UAAU,GAI1CoM,EAAYI,WAAWJ,EAAYK,aAAa,IAGjD,IAAIC,EAAY,CAAC,WAAaN,EAAYO,UAAW,KAAOjM,GAC5DmL,IAAMe,IAAIjB,EAAKe,GACd,MAAOG,GACR,OAAO,EAGR,OAAO,GAwCKC,GAAmB,SAACnB,GAChCE,IAAMC,OAAOH,IErGRoB,GAAgB,SAEhBC,G,kDAGL,WAAYpG,GAAQ,IAAD,8BACZ,cAAMA,IAuCbqG,YAAc,WACb,EAAKlG,SAAS,CACbmG,eAAe,EACfC,eAAe,EACfC,cAAc,EACdC,cAAc,EACdC,WAAW,KA9CM,EAkDnBC,gBAAkB,SAACC,GAClB,EAAKzG,SAAS,CACb0G,SAAUD,EAAME,OAAOC,QAExB,EAAKV,eAtDa,EAyDnBW,iBAAmB,SAACJ,GACnB,EAAKzG,SAAS,CACb8G,MAAOL,EAAME,OAAOC,QAErB,EAAKV,eA7Da,EAgEnBa,gBAAkB,SAACN,GAClB,EAAKzG,SAAS,CACb1F,SAAUmM,EAAME,OAAOC,QAExB,EAAKV,eApEa,EAuEnBc,eAAiB,SAACP,GAEjB,EAAKzG,SAAS,CACbiH,UAAW,EAAK9F,MAAM8F,WAEvB,EAAKf,eA5Ea,EA+EnBgB,oBAAsB,SAACC,GAEtB,IAAIC,GAAmB,EAEnBC,GAAoB,EACpBC,GAAoB,EACpBC,GAAmB,EAEnBC,GAAqB,EACrBC,GAAkB,EAGtB,GAA+B,IAA3BN,EAAY,OACfC,GAAmB,OAGf,GAA+B,IAA3BD,EAAY,OACpB,IAAK,IAAIzH,KAASyH,EAAY,SACkB,IAA3CA,EAAY,SAAazH,GAAzB,IACH2H,GAAoB,EAE+B,IAA3CF,EAAY,SAAazH,GAAzB,IACR4H,GAAoB,EAE+B,IAA3CH,EAAY,SAAazH,GAAzB,IACR6H,GAAmB,EAGnBC,GAAqB,OAKY,IAA3BL,EAAY,QAIe,IAA3BA,EAAY,UAHpBM,GAAkB,GAOnB,EAAK5H,MAAM6H,SAAS1B,GAAe,UAAWjM,OAAOoN,EAAY,SACjE,EAAKnH,SAAS,CAEbsG,aAAcc,EAEdjB,cAAekB,EACfjB,cAAekB,EACfjB,aAAckB,EAEdI,eAAgBH,EAChBI,YAAaH,EAEbI,YAAY,KApIK,EAuInBC,oBAAsB,SAACC,GAEtB,IAAI1P,EAAc0P,EAAcC,OAI5BC,EAAc,EAAK9G,MAAMuF,SAEzB,EAAKvF,MAAM+G,kBACdD,EAAc,EAAK9G,MAAM2F,OAGR,EAAKjH,MAAMsI,UAAW9P,EAAa4P,EAAa,EAAK9G,MAAM8F,WAQ5E,EAAKpH,MAAM6H,SAAS1B,GAAe,WAAY,iBAC/C,EAAKnG,MAAMuI,QAAQtO,KAAK,EAAK+F,MAAMwI,gBAInC,EAAKrI,SAAS,CACb6H,YAAY,KAjKI,EAqKnBS,aAAe,SAAA7B,GAEd,IAAI8B,EAAW,EAAKpH,MAAMuF,SACtB,EAAKvF,MAAM+G,kBACdK,EAAW,EAAKpH,MAAM2F,OAGvB9M,EAAU,EAAKmH,MAAM+G,gBAAiBK,EAAU,EAAKpH,MAAM7G,SAAU,EAAKwN,oBAAqB,EAAKZ,qBAEpG,EAAKlH,SAAS,CACb6H,YAAY,IAGbpB,EAAM+B,kBAhLA,EAAKrH,MAAQ,CAOlB0G,YAAa,EAIb1B,eAAe,EACfsC,YAAY,EACZrC,eAAe,EACfC,cAAc,EAEdC,cAAc,EACdC,WAAW,EAEX2B,iBAAiB,EAEjBpB,MAAO,GACPJ,SAAU,GAKVpM,SAAU,GAEV2M,UAAU,GA/BO,E,qDAoCnB,c,oBAiJA,WAEC,IAAIyB,EAAa,IACbrH,KAAKF,MAAMsH,YAAcpH,KAAKF,MAAMkF,gBACvCqC,EAAa,cAGd,IAAIC,EAAgB,IAChBtH,KAAKF,MAAMgF,eAAiB9E,KAAKF,MAAMkF,gBAC1CsC,EAAgB,cAGjB,IAAIC,EAAgB,IAChBvH,KAAKF,MAAMiF,eAAiB/E,KAAKF,MAAMkF,gBAC1CuC,EAAgB,cAIjB,IAAIC,EAAmC,IAA3BxH,KAAKF,MAAM0G,YAIvB,OACC,sBAAKvG,UAAU,wBAAf,UAEC,uBAAMwH,SAAUzH,KAAKiH,aAArB,UACC,yCAEA,mBAAGhH,UAAU,cAAb,SAA4BD,KAAKF,MAAMkF,aAAe,sCAAsC,KAE3FhF,KAAKF,MAAM+G,gBACX,sBAAK5G,UAAU,aAAf,UACC,0CACA,uBAAOyH,KAAK,OAAOzH,UAAW,gBAAgBoH,EAAY9B,MAAOvF,KAAKF,MAAM2F,MAAOkC,SAAU3H,KAAKwF,iBAAkBoC,YAAY,gBAChI,mBAAG3H,UAAU,cAAb,SAA4BD,KAAKF,MAAMsH,WAAa,sBAAsB,QAG3E,sBAAKnH,UAAU,aAAf,UACC,6CACA,uBAAOyH,KAAK,OAAOzH,UAAW,gBAAgBqH,EAAe/B,MAAOvF,KAAKF,MAAMuF,SAAUsC,SAAU3H,KAAKmF,gBAAiByC,YAAY,mBACrI,mBAAG3H,UAAU,cAAb,SAA4BD,KAAKF,MAAMgF,cAAgB,yBAAyB,QAIlF,sBAAK7E,UAAU,aAAf,UACC,6CACA,uBAAOyH,KAAK,WAAWzH,UAAW,gBAAgBsH,EAAehC,MAAOvF,KAAKF,MAAM7G,SAAU0O,SAAU3H,KAAK0F,gBAAiBkC,YAAY,mBACzI,mBAAG3H,UAAU,cAAb,SAA4BD,KAAKF,MAAMiF,cAAgB,2BAA2B,QAGnF,sBAAK9E,UAAU,aAAf,UACC,uBAAOA,UAAU,qBAAqB4H,QAAQ,eAA9C,+BACA,uBAAOH,KAAK,WAAWzH,UAAU,qBAAqB/D,GAAG,eAAeqJ,MAAOvF,KAAKF,MAAM8F,SAAU+B,SAAU3H,KAAK2F,oBAGnH3F,KAAKF,MAAMoF,UAAY,mBAAGjF,UAAU,qBAAb,gCAAoDvF,EAC3EsF,KAAKF,MAAMmF,aAAe,mBAAGhF,UAAU,gCAAb,4CAA2EvF,EACtG,wBAAQgN,KAAK,SAASzH,UAAU,yBAAhC,oBAEA,sBAAKA,UAAU,MAAf,UAEC,qBAAKA,UAAU,QACf,qBAAKA,UAAU,QACf,qBAAKA,UAAU,QACf,mBAAGA,UAAU,gCAAb,SACC,cAAC,IAAD,CAAMA,UAAU,kBAAkBC,GAAIF,KAAKxB,MAAMsJ,WAAjD,sCASH,eAACC,EAAA,EAAD,CAAOC,KAAMR,EAAOrE,QAAQ,UAA5B,UACC,cAAC4E,EAAA,EAAME,QAAP,sBACA,uBACA,sDAGA,iC,GAxQgB7H,IAAMC,WA+QZ6H,eAAWtD,ICjRpBuD,G,kDAEL,WAAY3J,GAAQ,IAAD,8BACZ,cAAMA,IAoCb4J,oBAAsB,SAAChD,GACtB,EAAKzG,SAAU,CAAC0G,SAAUD,EAAME,OAAOC,SAtCrB,EAyCnBC,iBAAmB,SAACJ,GACnB,EAAKzG,SAAU,CAAC8G,MAAOL,EAAME,OAAOC,SA1ClB,EA6CnBG,gBAAkB,SAACN,GAClB,EAAKzG,SAAS,CACb1F,SAAUmM,EAAME,OAAOC,MAEvBR,cAAeK,EAAME,OAAOC,QAAU,EAAKzF,MAAMuI,UACjDC,oBAAoB,6BAlDH,EAsDnBC,iBAAmB,SAACnD,GACnB,EAAKzG,SAAS,CACb0J,UAAWjD,EAAME,OAAOC,MAExBR,cAAeK,EAAME,OAAOC,QAAU,EAAKzF,MAAM7G,SACjDqP,oBAAoB,6BA3DH,EA+DnBE,qBAAuB,SAACpD,GACvB,EAAKzG,SAAU,CAAC8J,UAAWrD,EAAME,OAAOC,SAhEtB,EAmEnBmD,oBAAsB,SAACtD,GACtB,EAAKzG,SAAU,CAACgK,SAAUvD,EAAME,OAAOC,SApErB,EAuEnBqD,iBAAmB,SAACxD,GACnB,EAAKzG,SAAU,CAACkK,WAAYzD,EAAME,OAAOC,SAxEvB,EA4EnBuD,oBAAsB,WAErBzP,QAAQC,IAAI,oBACZ,EAAKkF,MAAMuI,QAAQtO,KAAK,EAAK+F,MAAMwI,eACnC,EAAKrI,SAAS,CACboK,kBAAkB,KAjFD,EAoFnBC,qBAAuB,WAEtB,EAAKxK,MAAMuI,QAAQtO,KAAK,EAAK+F,MAAMwI,eACnC,EAAKrI,SAAS,CACboK,kBAAkB,KAxFD,EA2FnBE,aAAe,WAEdxP,EAAmB,EAAKuP,qBAAsB,EAAKF,qBACnD,EAAKnK,SAAS,CACboK,kBAAkB,KA/FD,EAqGnBG,iBAAmB,WAElB7P,QAAQC,IAAI,uFACZ,EAAKkF,MAAMuI,QAAQtO,KAAK,EAAK+F,MAAMwI,eAEnC,EAAKrI,SAAS,CACbwK,eAAe,KA3GE,EA+GnBC,kBAAoB,SAAC1C,GACA,EAAKlI,MAAMsI,UAAWJ,EAAe,EAAK5G,MAAMuF,UAAU,IAE7EhM,QAAQC,IAAI,oBACZ,EAAK2P,iBAGL5P,QAAQC,IAAI,mBACZ,EAAKkF,MAAMuI,QAAQtO,KAAK,EAAK+F,MAAMwI,gBAEpC,EAAKrI,SAAS,CACbwK,eAAe,KA1HE,EA6HnBE,UAAY,WACX1Q,GAAU,EAAO,EAAKmH,MAAMuF,SAAU,EAAKvF,MAAM7G,SAAU,EAAKmQ,kBAAmB,EAAKF,kBACxF,EAAKvK,SAAS,CACbwK,eAAe,KAhIE,EAoInBG,0BAA4B,SAACxD,GAE5B,IAAIC,GAAmB,EAEnBC,GAAoB,EACpBuD,EAAuB,GAEvBtD,GAAoB,EACpBuD,EAAuB,GAEvBC,GAAiB,EACjBC,EAAoB,GAEpBvD,GAAqB,EACrBC,GAAkB,EAGtB,GAA+B,IAA3BN,EAAY,OACfC,GAAmB,OAGf,GAA+B,IAA3BD,EAAY,OACpB,IAAK,IAAIzH,KAASyH,EAAY,SACkB,IAA3CA,EAAY,SAAazH,GAAzB,KACH2H,GAAoB,EACpBuD,EAAuBzD,EAAY,SAAazH,GAAzB,MAE4B,IAA3CyH,EAAY,SAAazH,GAAzB,KACR4H,GAAoB,EACpBuD,EAAuB1D,EAAY,SAAazH,GAAzB,MAE4B,IAA3CyH,EAAY,SAAazH,GAAzB,KACRoL,GAAiB,EAEjBC,EAAoB,mBAGpBvD,GAAqB,OAKY,IAA3BL,EAAY,QAIe,IAA3BA,EAAY,UAHpBM,GAAkB,GAOnB,EAAKzH,SAAS,CACbsG,aAAac,EAEbjB,cAAckB,EACd2D,oBAAoBJ,EAEpBxE,cAAckB,EACdqC,oBAAoBkB,EAEpBpC,WAAWqC,EACXG,iBAAiBF,EAEjBpD,eAAeH,EACfI,YAAYH,EAEZyD,wBAAwB,KArMP,EAwMnBC,2BAA6B,SAACC,GACN,MAAnBA,IAEH1Q,QAAQC,IAAI,yCACZ,EAAK+P,YAEL,EAAK1K,SAAS,CACbkL,wBAAwB,MA/MR,EAmNnBG,mBAAqB,SAAC5E,GAEhB,EAAKtF,MAAM+I,aRqBO,SAAChQ,EAAiBoR,EAAkBC,EAAkBzE,EAAOgD,EAAWE,EAAU5P,EAAkBC,GAC5H,IAAMV,EAAO,CACZ+M,SAAUxM,EACVI,SAAUgR,EACV5B,UAAW6B,EACXzE,MAAOA,EACP0E,WAAY1B,EACZ2B,UAAWzB,GAKZhS,EAAcuC,KAAK,qBAAsBZ,GACxCa,MAAM,SAAAC,GAEN,IAAIiR,EAAUjR,EAAIhB,OAClBW,EAAiBsR,MAEjB9Q,OAAO,SAAAtB,GACP,IAAIuB,EAASxB,EAAWC,GAGxBe,EAAgBQ,MQpCf8Q,CAAU,EAAKxK,MAAMuF,SAAU,EAAKvF,MAAM7G,SAAU,EAAK6G,MAAMuI,UAAW,EAAKvI,MAAM2F,MAAO,EAAK3F,MAAM2I,UAAW,EAAK3I,MAAM6I,SAAU,EAAKmB,2BAA4B,EAAKR,2BAC7K,EAAK3K,SAAS,CACbkL,wBAAwB,EACxBU,YAAY,MATblR,QAAQC,IAAI,yBACZ,EAAKqF,SAAS,CACb4L,YAAY,KAWdnF,EAAM+B,kBAjOA,EAAKrH,MAAQ,CAElBuF,SAAU,GACVI,MAAO,GACPxM,SAAU,GACVoP,UAAW,GACXI,UAAW,GACXE,SAAU,GAEV1D,cAAa,EAGbH,eAAc,EACd6E,oBAAqB,yBAErBvC,YAAW,EACXwC,iBAAkB,yBAElB7E,eAAc,EACduD,oBAAoB,0BAEpBhC,gBAAe,EACfC,aAAY,EAEZsC,YAAY,EAEZE,kBAAmB,EACnBI,eAAgB,EAChBU,wBAAwB,EAExBU,YAAW,GAhCM,E,0CAsOnB,WACC,IAAIjD,EAAgB,eAChBtH,KAAKF,MAAMgF,gBACdwC,GAAiB,eAGlB,IAAID,EAAa,eACbrH,KAAKF,MAAMsH,aACdC,GAAc,eAGf,IAAIE,EAAgB,eAChBvH,KAAKF,MAAMiF,gBACdwC,GAAiB,eAGlB,IAAIiD,EAAQxK,KAAKF,MAAMyK,WACnB/C,EAA+C,IAAvCxH,KAAKF,MAAM+J,wBAEvB,OAEC,qBAAK5J,UAAU,SAAf,SACC,sBAAKA,UAAU,YAAf,UACC,qBAAKA,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,6CAGF,uBAAMwH,SAAUzH,KAAKgK,mBAArB,UACC,sBAAK9N,GAAG,aAAR,UACC,qBAAK+D,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,sBAAKA,UAAU,aAAf,UACC,uBAAO/D,GAAG,aAAV,sBACA,uBAAOwL,KAAK,OAAOzH,UAAWqH,EAAe/B,MAAOvF,KAAKF,MAAMuF,SAAUsC,SAAU3H,KAAKoI,oBAAqBR,YAAY,mBACzH,mBAAG3H,UAAU,cAAb,SAA4BD,KAAKF,MAAMgF,cAAgB9E,KAAKF,MAAM6J,oBAAoB,YAIzF,qBAAK1J,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,sBAAKA,UAAU,aAAf,UACC,uBAAO/D,GAAG,aAAV,2BACA,uBAAOwL,KAAK,QAAQzH,UAAWoH,EAAY9B,MAAOvF,KAAKF,MAAM2F,MAAOkC,SAAU3H,KAAKwF,iBAAkBoC,YAAY,gBACjH,mBAAG3H,UAAU,cAAb,SAA4BD,KAAKF,MAAMsH,WAAapH,KAAKF,MAAM8J,iBAAiB,YAInF,qBAAK3J,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,sBAAKA,UAAU,aAAf,UACC,uBAAO/D,GAAG,aAAV,sBACA,uBAAOwL,KAAK,WAAWzH,UAAWsH,EAAehC,MAAOvF,KAAKF,MAAM7G,SAAU0O,SAAU3H,KAAK0F,gBAAiBkC,YAAY,0BAI5H,qBAAK3H,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,sBAAKA,UAAU,aAAf,UACC,uBAAO/D,GAAG,aAAV,8BACA,uBAAOwL,KAAK,WAAWzH,UAAWsH,EAAehC,MAAOvF,KAAKF,MAAMuI,UAAWV,SAAU3H,KAAKuI,iBAAkBX,YAAY,qBAC3H,mBAAG3H,UAAU,cAAb,SAA4BD,KAAKF,MAAMiF,cAAgB/E,KAAKF,MAAMwI,oBAAoB,YAIzF,qBAAKrI,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,sBAAKA,UAAU,aAAf,UACC,uBAAO/D,GAAG,aAAV,wBACA,uBAAOwL,KAAK,OAAOzH,UAAU,eAAesF,MAAOvF,KAAKF,MAAM2I,UAAWd,SAAU3H,KAAKwI,qBAAsBZ,YAAY,sBAI7H,qBAAK3H,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,sBAAKA,UAAU,aAAf,UACC,uBAAO/D,GAAG,aAAV,uBACA,uBAAOwL,KAAK,OAAOzH,UAAU,eAAesF,MAAOvF,KAAKF,MAAM6I,SAAUhB,SAAU3H,KAAK0I,oBAAqBd,YAAY,wBAM5H,qBAAK3H,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,sBAAKA,UAAU,aAAf,UACC,uBAAOyH,KAAK,WAAWzH,UAAU,qBAAqB/D,GAAG,eAAeqJ,MAAOvF,KAAKF,MAAM+I,WAAYlB,SAAU3H,KAAK4I,mBACrH,uBAAO3I,UAAU,qBAAqB4H,QAAQ,eAA9C,iCAIH,qBAAK5H,UAAU,MAAf,SACC,sBAAKA,UAAU,MAAf,UACED,KAAKF,MAAMmF,aAAe,mBAAGhF,UAAU,gCAAb,4CAA2EvF,EACtG,wBAAQgN,KAAK,SAASzH,UAAU,yBAAhC,4BAKH,eAAC8H,EAAA,EAAD,CAAOC,KAAMwC,EAAOrH,QAAQ,SAA5B,UACC,cAAC4E,EAAA,EAAME,QAAP,sBACA,uBACA,oFAGA,0BAGD,eAACF,EAAA,EAAD,CAAOC,KAAMR,EAAOrE,QAAQ,UAA5B,UACC,cAAC4E,EAAA,EAAME,QAAP,sBACA,uBACA,iFAGA,0BAGD,qBAAKhI,UAAU,WAAf,SACC,qBAAKA,UAAU,mB,GA9VAG,IAAMC,WAwWZ6H,eAAWC,ICzWpBsC,G,kDAEL,WAAYjM,GAAQ,IAAD,8BACZ,cAAMA,IAwCbkM,SAAW,WACV,EAAKlM,MAAMuI,QAAQtO,KAAK,EAAK+F,MAAMwI,gBA1CjB,EA6CnB2D,iBAAmB,WAElB,OAAQ,EAAK7K,MAAM8K,YAAc,EAAK9K,MAAMuI,WA/C1B,EAkDnBwC,WAAa,WACZ,EAAKlM,SAAS,CACbmM,aAAc,EACdC,mBAAoB,MArDH,EAyDnBC,oBAAsB,SAAC5F,GACtB,EAAKzG,SAAS,CACbmM,aAAcG,OAAO7F,EAAME,OAAOC,OAClCwF,mBAAoB,GAEpBG,eAAgB,EAChBC,kBAAmB,EACnBC,oBAAqB,KAhEJ,EAoEnBC,iBAAmB,SAACC,EAAaC,GAEhC,EAAK5M,SAAS,CACbmM,aAAc,EACdC,mBAAmB,GAEnBG,eAAe,KA1EE,EA6EnBM,iBAAmB,SAAC1F,GAEnB,IAAI4D,EAAoB,GAGxB,GAA+B,IAA3B5D,EAAY,aAIX,GAA+B,IAA3BA,EAAY,aAIhB,GAA+B,IAA3BA,EAAY,OACpB,IAAK,IAAIzH,KAASyH,EAAY,SAG7B4D,EAAkBjR,KAAKqN,EAAY,SAAazH,GAAzB,WAKW,IAA3ByH,EAAY,QAIZA,EAAY,OAIrB,EAAKnH,SAAS,CACboM,mBAAmBrB,EAEnBwB,eAAe,KA9GE,EAiHnBO,UAAY,YT2RqB,SAACA,EAAW1S,EAAkBC,GAG/D,IAAMV,EAAO,CACZoT,YAAaD,GAGd9U,EAAcuC,KAAK,kCAAmCZ,GACrDa,MAAK,SAAAC,GAEJL,EAAiBK,EAAIhB,WAGtBmB,OAAM,SAAAtB,GACN,IAAIuB,EAASxB,EAAWC,GAExBe,EAAgBQ,MSzShBmS,CAAmB,EAAK7L,MAAM2F,MAAO,EAAK4F,iBAAkB,EAAKG,kBAEjE,EAAK7M,SAAS,CACbuM,eAAe,KAtHE,EA0HnBU,kBAAoB,SAAC9F,GAEpB,IAAI+F,EAAoB,GAExB,GAA+B,IAA3B/F,EAAY,aAIX,GAA+B,IAA3BA,EAAY,aAIhB,GAA+B,IAA3BA,EAAY,OACpB,IAAK,IAAIzH,KAASyH,EAAY,SAE7B+F,EAAkBpT,KAAKqN,EAAY,SAAazH,GAAzB,WAKW,IAA3ByH,EAAY,QAIZA,EAAY,OAIrB,EAAKnH,SAAS,CACboM,mBAAmBc,EAEnBV,kBAAkB,KAzJD,EA4JnBW,kBAAoB,SAACR,GAEpB,EAAK3M,SAAS,CACbmM,aAAc,EACdC,mBAAmB,GAEnBI,kBAAkB,KAlKD,EAqKnBY,WAAa,WT2PwB,IAACC,EAAWjT,EAAkBC,EAA7BgT,ESzPb,EAAKlM,MAAMmM,WTyPalT,ESzPD,EAAK+S,kBTyPc9S,ESzPK,EAAK4S,kBTgQ7EjV,EAAckD,IAAI,wCAAwCmS,EAJ3C,IAKd7S,MAAK,SAAAC,GACJL,EAAiBK,EAAIhB,WAGtBmB,OAAM,SAAAtB,GACN,IAAIuB,EAASxB,EAAWC,GAExBe,EAAgBQ,MStQhB,EAAKmF,SAAS,CACboM,mBAAmB,GACnBI,kBAAkB,EAElBC,oBAAoB,KA7KH,EAiLnBc,sBAAwB,SAACpG,GACxB,IAAIqG,EAAY,GACZC,EAAW,EAEf,GAA+B,IAA3BtG,EAAY,aAIX,GAA+B,IAA3BA,EAAY,aAIhB,GAA+B,IAA3BA,EAAY,OACpB,IAAK,IAAIzH,KAASyH,EAAY,SAE7BqG,EAAU1T,KAAKqN,EAAY,SAAazH,GAAzB,WAQmB,IAA3ByH,EAAY,QAIe,IAA3BA,EAAY,QAIe,IAA3BA,EAAY,SACpBqG,EAAU1T,KAAK,wBACf2T,EAAW,GAGZ,EAAKzN,SAAS,CACboM,mBAAoBoB,EAEpBrB,aAAcsB,EAEdhB,oBAAoB,KA1NH,EA6NnBiB,sBAAwB,SAACf,GAExB,EAAK3M,SAAS,CACbmM,aAAc,EACdC,mBAAmB,GACnBK,oBAAoB,KAlOH,EAqOnBkB,gBAAkB,WAGb,EAAK3B,sBT4MiC,SAACqB,EAAWpB,EAAWvC,EAAWtP,EAAkBC,GAE/F,IAAMV,EAAO,CACZW,SAAS2R,EACTvC,UAAUA,EACV2D,UAAUA,GAGXrV,EAAcuE,IAAI,+BAAgC5C,GACjDa,MAAK,SAAAC,GAEJL,EAAiBK,EAAIhB,WAGtBmB,OAAM,SAAAtB,GACN,IAAIuB,EAASxB,EAAWC,GAExBe,EAAgBQ,MS3Nf+S,CAA6B,EAAKzM,MAAMmM,WAAY,EAAKnM,MAAM8K,UAAW,EAAK9K,MAAMuI,UAAW,EAAKgE,sBAAuB,EAAKH,uBAEjI,EAAKvN,SAAS,CACbyM,oBAAoB,MA7OJ,EAsPnB5F,iBAAmB,SAACJ,GACnB,EAAKzG,SAAS,CACb8G,MAAOL,EAAME,OAAOC,SAxPH,EA4PnBiH,iBAAmB,SAACpH,GACnB,EAAKzG,SAAS,CACbsN,WAAY7G,EAAME,OAAOC,SA9PR,EAkQnBkH,iBAAmB,SAACrH,GACnB,EAAKzG,SAAS,CACbiM,UAAWxF,EAAME,OAAOC,SApQP,EAwQnBgD,iBAAmB,SAACnD,GACnB,EAAKzG,SAAS,CACb0J,UAAWjD,EAAME,OAAOC,MACxBmH,mBAAoBtH,EAAME,OAAOC,QAAU,EAAKzF,MAAM8K,aAzQjD,EAAK9K,MAAQ,CAQlBgL,aAAc,EAEdrF,MAAO,GACPwG,WAAY,GAEZrB,UAAU,GACVvC,UAAU,GAEVqE,oBAAoB,EAEpB3B,mBAAoB,GAEpB4B,eAAe,EAEfzB,eAAgB,EAChBC,kBAAmB,EACnBC,oBAAqB,GA1BJ,E,qDA+BnB,WACCpL,KAAKrB,SAAS,CACb8G,MAAO,GACPwG,WAAY,GACZrB,UAAW,GACXvC,UAAW,O,oBA2Ob,WAEC,IAAIuE,EAAe,KACfC,EAAgB,KAChBC,EAAiB,KAGW,IAA5B9M,KAAKF,MAAMgL,cAEdgC,EACC,qBAAK7M,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,qIAQH2M,EACC,qBAAK3M,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,sBAAKA,UAAU,aAAf,UACC,kDACA,uBAAOyH,KAAK,QAAQzH,UAAU,eAAesF,MAAOvF,KAAKF,MAAM2F,MAAOkC,SAAU3H,KAAKwF,iBAAkBoC,YAAY,uBAMvHiF,EAAgB,CAEd,qBAAK5M,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,wBAAQA,UAAU,kBAAkB8M,QAAS/M,KAAKyL,UAAlD,qBAFwB,GAQ1B,qBAAKxL,UAAU,MAAf,SACC,qBAAKA,UAAU,UAAf,SACC,wBAAQA,UAAU,kBAAkB8M,QAAS/M,KAAK6K,WAAlD,uCAFwB,KAYQ,IAA5B7K,KAAKF,MAAMgL,cAEnBgC,EACC,qBAAK7M,UAAU,MAAf,SACC,qHAOF2M,EACC,qBAAK3M,UAAU,MAAf,SACC,sBAAKA,UAAU,aAAf,UACC,gDACA,uBAAOyH,KAAK,OAAOzH,UAAU,eAAesF,MAAOvF,KAAKF,MAAMmM,WAAYtE,SAAU3H,KAAKwM,iBAAkB5E,YAAY,qBAK1HiF,EACC,qBAAK5M,UAAU,MAAf,SACC,wBAAQA,UAAU,kBAAkB8M,QAAS/M,KAAK+L,WAAlD,2BAOkC,IAA5B/L,KAAKF,MAAMgL,cAEnBgC,EAAiB,CAChB,qBAAK7M,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,8DAFwB,IAMvBD,KAAKF,MAAM4M,oBACdI,EAAerU,KACd,qBAAKwH,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,mBAAGA,UAAU,cAAb,0CAFwB,IAQ5B2M,EAAe,CAEb,qBAAK3M,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,qBAAKA,UAAU,aAAf,SACC,uBAAOyH,KAAK,WAAWzH,UAAU,eAAesF,MAAOvF,KAAKF,MAAM8K,UAAWjD,SAAU3H,KAAKyM,iBAAkB7E,YAAY,wBAHnG,GAS1B,qBAAK3H,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,qBAAKA,UAAU,aAAf,SACC,uBAAOyH,KAAK,WAAWzH,UAAU,eAAesF,MAAOvF,KAAKF,MAAMuI,UAAWV,SAAU3H,KAAKuI,iBAAkBX,YAAY,2BAHnG,IAS5BiF,EACC,qBAAK5M,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,wBAAQA,UAAU,kBAAkB8M,QAAS/M,KAAKsM,gBAAlD,yBAQiC,IAA5BtM,KAAKF,MAAMgL,eACnBgC,EACC,qBAAK7M,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,6EAIH2M,EAAe,KAEfC,EACC,qBAAK5M,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,wBAAQA,UAAU,kBAAkB8M,QAAS/M,KAAK0K,SAAlD,2BAUJ,IAAIsC,EAA4C,IAA9BhN,KAAKF,MAAMoL,gBAAyD,IAAjClL,KAAKF,MAAMqL,mBAA8D,IAAnCnL,KAAKF,MAAMsL,oBAElG6B,EAA0C,IAA9BjN,KAAKF,MAAMoL,gBAAyD,IAAjClL,KAAKF,MAAMqL,mBAA8D,IAAnCnL,KAAKF,MAAMsL,oBAEhG8B,EAAW,EACXC,EAAiB,GAErB,IAAK,IAAIC,KAASpN,KAAKF,MAAMiL,mBAC5BoC,EAAe1U,KACd,8BACEuH,KAAKF,MAAMiL,mBAAmBqC,IADtBF,IAIXA,IAOD,OAJ8B,IAA1BC,EAAepJ,SAClBoJ,EAAiB,kBAIjB,sBAAKlN,UAAU,eAAf,UAEC,wBAAQA,UAAU,4BAA4B8M,QAAS/M,KAAKgL,oBAAqBzF,MAAO,EAAxF,gBAGA,wBAAQtF,UAAU,4BAA4B8M,QAAS/M,KAAKgL,oBAAqBzF,MAAO,EAAxF,gBAGA,wBAAQtF,UAAU,4BAA4B8M,QAAS/M,KAAKgL,oBAAqBzF,MAAO,EAAxF,gBAGA,wBAAQtF,UAAU,4BAA4B8M,QAAS/M,KAAKgL,oBAAqBzF,MAAO,EAAxF,gBAIA,qBAAKtF,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,6DAKD6M,EACAF,EACAC,EAED,eAAC9E,EAAA,EAAD,CAAOC,KAAMgF,EAAa7J,QAAQ,UAAlC,UACC,cAAC4E,EAAA,EAAME,QAAP,sBACA,uBACA,8EAGA,0BAGD,eAACF,EAAA,EAAD,CAAOC,MAvDS,EAuDU7E,QAAQ,UAAlC,UACC,cAAC4E,EAAA,EAAME,QAAP,sBACA,uBACA,wEAGA,0BAGD,eAACF,EAAA,EAAD,CAAOC,KAAMiF,EAAW9J,QAAQ,SAAhC,UACC,cAAC4E,EAAA,EAAME,QAAP,qBACA,uBACA,4BACEkF,IAEF,iC,GAnfwB/M,IAAMC,WA2fpB6H,eAAWuC,IC3fpB4C,G,kDAEL,WAAY7O,GAAQ,IAAD,8BACZ,cAAMA,IAqBbgO,iBAAmB,SAACpH,GACnB,EAAKzG,SAAU,CAACzH,MAAOkO,EAAME,OAAOC,SAvBlB,EAyBnB+H,SAAW,WACV,EAAK9O,MAAMuI,QAAQtO,KAAK,EAAK+F,MAAM+O,uBA1BjB,EA8BnBC,oBAAsB,SAAC1H,GAEtB,IAAI2H,GAAiB,EACjB5B,EAAoB,GAGxB,GAA+B,IAA3B/F,EAAY,aAIX,GAA+B,IAA3BA,EAAY,aAIhB,GAA+B,IAA3BA,EAAY,OACpB,IAAK,IAAIzH,KAASyH,EAAY,SACkB,IAA3CA,EAAY,SAAazH,GAAzB,MACHoP,GAAiB,EACjB5B,EAAoB/F,EAAY,SAAazH,GAAzB,WAKa,IAA3ByH,EAAY,QAIZA,EAAY,OAIrB,EAAKnH,SAAS,CACb+O,WAAWD,EACXE,iBAAiB9B,EAEjB+B,eAAgB,KAjEC,EAoEnBC,qBAAuB,SAACC,EAAgBC,GAChB,MAAnBD,IAEHzU,QAAQC,IAAI,4BACZ,EAAKqF,SAAS,CACbqP,MAAK,EACLJ,eAAgB,MA1EA,EA+EnBK,mBAAqB,SAAC7I,IVuLW,SAAC8I,EAAenV,EAAkBC,GACnE,IAAMU,EAAS,CACdC,QAAS,CAAEC,cAAc,OAAD,OAAS5C,KAElCL,EAAckD,IAAI,6BAA6BqU,EAAexU,GAC7DP,MAAK,SAAAC,GACJL,EAAiBK,EAAIhB,OAAQgB,EAAId,SAElCiB,OAAO,SAAAtB,GACP,IAAIuB,EAASxB,EAAWC,GAGxBe,EAAgBQ,MUjMhB2U,CAAoB,EAAKrO,MAAM5I,MAAO,EAAK2W,qBAAsB,EAAKL,qBAEtE,EAAK7O,SAAS,CACbiP,eAAgB,IAGjBxI,EAAM+B,kBAvFY,EA0FnBiH,mBAAqB,SAACtI,GAEU,IAA3BA,EAAY,SAIoB,IAA3BA,EAAY,OACpB,EAAKtH,MAAM6P,aAAc,EAAKC,aAGK,IAA3BxI,EAAY,QAIe,IAA3BA,EAAY,QAIZA,EAAY,QAIrB,EAAKnH,SAAS,CACb4P,gBAAiB,KAjHA,EAoHnBC,oBAAsB,WAErB,EAAK7P,SAAS,CACb8P,OAAO,4BACPF,gBAAiB,KAxHA,EA4HnBD,YAAc,WAEb7U,EAAoB,EAAK+U,oBAAqB,EAAKJ,oBACnD,EAAKzP,SAAS,CACb4P,gBAAiB,KA9HZ,EAAKzO,MAAQ,CAMlB5I,MAAO,GACPwW,YAAW,EACXC,iBAAiB,MAEjBK,MAAK,EAELS,OAAO,GAEPb,eAAgB,EAChBW,gBAAiB,GAjBA,E,0CAoInB,WAEC,IAAIG,EAAa,eACb1O,KAAKF,MAAM4N,aACdgB,GAAc,eAGf,IAAIC,EAAc,GA8CjBA,EA7CI3O,KAAKF,MAAMkO,KA8Cd,gCACC,qBAAK/N,UAAU,MAAf,SACC,sBAAKA,UAAU,MAAf,UACC,4CACA,oGAGF,qBAAKA,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,wBAAQA,UAAU,eAAe8M,QAAS/M,KAAKsN,SAA/C,sCArDH,gCACC,qBAAKrN,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,2DAGF,sBAAMwH,SAAUzH,KAAKiO,mBAArB,SACC,sBAAK/R,GAAG,aAAR,UACC,qBAAK+D,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,0IAGF,qBAAKA,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,sBAAKA,UAAU,aAAf,UACC,uBAAO/D,GAAG,aAAV,+BACA,uBAAOwL,KAAK,OAAOzH,UAAWyO,EAAYnJ,MAAOvF,KAAKF,MAAMuF,SAAUsC,SAAU3H,KAAKwM,iBAAkB5E,YAAY,UACnH,mBAAG3H,UAAU,cAAb,SAA4BD,KAAKF,MAAM4N,WAAa1N,KAAKF,MAAM6N,iBAAiB,YAInF,qBAAK1N,UAAU,WAAf,SACC,qBAAKA,UAAU,MAAf,SACC,wBAAQyH,KAAK,SAASzH,UAAU,yBAAhC,6BAKJ,qBAAKA,UAAU,WAAf,SACC,qBAAKA,UAAU,MAAf,SACC,wBAAQ8M,QAAS/M,KAAKsO,YAAarO,UAAU,yBAA7C,yCAGF,qBAAKA,UAAU,WAAf,SACC,qBAAKA,UAAU,MAAf,SACED,KAAKF,MAAM2O,cAyBjB,IAAIzB,EAA4C,IAA9BhN,KAAKF,MAAM8N,gBAAuD,IAA/B5N,KAAKF,MAAMyO,gBAC5DK,EAA4C,IAA9B5O,KAAKF,MAAM8N,gBAAuD,IAA/B5N,KAAKF,MAAMyO,gBAC5DtB,EAA0C,IAA9BjN,KAAKF,MAAM8N,gBAAuD,IAA/B5N,KAAKF,MAAMyO,gBAE9D,OAEC,qBAAKtO,UAAU,SAAf,SACC,sBAAKA,UAAU,YAAf,UACE0O,EAED,eAAC5G,EAAA,EAAD,CAAOC,KAAMgF,EAAa7J,QAAQ,UAAlC,UACC,cAAC4E,EAAA,EAAME,QAAP,sBACA,uBACA,8EAGA,0BAGD,eAACF,EAAA,EAAD,CAAOC,KAAM4G,EAAazL,QAAQ,UAAlC,UACC,cAAC4E,EAAA,EAAME,QAAP,sBACA,uBACA,wEAGA,0BAGD,eAACF,EAAA,EAAD,CAAOC,KAAMiF,EAAW9J,QAAQ,SAAhC,UACC,cAAC4E,EAAA,EAAME,QAAP,qBACA,uBACA,uEAGA,mC,GA/OoB7H,IAAMC,WAuPjB6H,eAAWmF,IClOXnK,GAzBA,SAAC1E,GAEf,OACC,wBAAQyB,UAAU,SAAlB,SACC,qBAAKA,UAAU,QAAf,SACC,qBAAKA,UAAU,UAAf,SACC,qBAAKA,UAAU,YAAf,SACC,qBAAKA,UAAU,MAAf,SACC,sBAAKA,UAAU,iCAAf,UACC,iDAGA,qE,wCCmGO4O,GA9GK,SAACrQ,GAEpB,OACC,qBAAKyB,UAAU,cAAc/D,GAAG,WAAhC,SACC,sBAAK+D,UAAU,YAAf,UACC,qBAAKA,UAAU,UAAf,SACC,sBAAKA,UAAU,MAAf,UACC,oBAAIA,UAAU,gBAAd,sBAGA,mBAAGA,UAAU,8BAAb,8BAMF,sBAAKA,UAAU,WAAf,UACC,sBAAKA,UAAU,6BAAf,UACC,sBAAKA,UAAU,MAAf,UACC,qBAAKA,UAAU,QACf,qBAAKA,UAAU,MAAf,SACC,cAAC,KAAD,CAAOA,UAAU,SAAS2B,MAAM,QAAQM,KAAM,OAE/C,qBAAKjC,UAAU,WAEhB,qBAAKA,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,mDAKF,qBAAKA,UAAU,MAAf,SACC,mBAAGA,UAAU,iBAAb,wHAKF,sBAAKA,UAAU,6BAAf,UACC,sBAAKA,UAAU,MAAf,UACC,qBAAKA,UAAU,QACf,qBAAKA,UAAU,MAAf,SACC,cAAC,KAAD,CAAOA,UAAU,SAAS2B,MAAM,QAAQM,KAAM,OAE/C,qBAAKjC,UAAU,WAGhB,qBAAKA,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,mDAKF,qBAAKA,UAAU,MAAf,SACC,mBAAGA,UAAU,iBAAb,wHAKF,sBAAKA,UAAU,6BAAf,UACC,sBAAKA,UAAU,MAAf,UACC,qBAAKA,UAAU,QACf,qBAAKA,UAAU,MAAf,SACC,cAAC,KAAD,CAAMA,UAAU,SAAS2B,MAAM,QAAQM,KAAM,OAE9C,qBAAKjC,UAAU,WAEhB,qBAAKA,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,mDAKF,qBAAKA,UAAU,MAAf,SACC,mBAAGA,UAAU,iBAAb,wHAKF,sBAAKA,UAAU,6BAAf,UACC,sBAAKA,UAAU,MAAf,UACC,qBAAKA,UAAU,QACf,qBAAKA,UAAU,MAAf,SACC,cAAC,KAAD,CAASA,UAAU,SAAS2B,MAAM,QAAQM,KAAM,OAEjD,qBAAKjC,UAAU,WAEhB,qBAAKA,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,mDAKF,qBAAKA,UAAU,MAAf,SACC,mBAAGA,UAAU,iBAAb,iIChCQ6O,GAlEE,SAACtQ,GAEjB,OACC,qBAAKtC,GAAG,QAAR,SACC,sBAAK+D,UAAU,YAAf,UACC,qBAAKA,UAAU,UAAf,SACC,sBAAKA,UAAU,MAAf,UACC,oBAAIA,UAAU,gBAAd,sBAGA,mBAAGA,UAAU,8BAAb,8BAKF,qBAAKA,UAAU,UAAf,SACC,qBAAKA,UAAU,iBAAf,qHAID,qBAAKA,UAAU,UAAf,SACC,oBAAIA,UAAU,uBAAd,mCAID,sBAAKA,UAAU,iCAAf,UACC,qBAAKA,UAAU,MAAf,SACC,+BACC,4DAGA,4DAGA,4DAGA,iEAMF,qBAAKA,UAAU,iBAAf,SACC,+BACC,4DAGA,4DAGA,4DAGA,0EC2BQ8O,G,kDA7Ed,WAAYvQ,GAAQ,IAAD,8BACZ,cAAMA,IAObgH,iBAAmB,SAACJ,GACnB,EAAKzG,SAAU,CAAC8G,MAAOL,EAAME,OAAOC,SATlB,EAYnBvM,gBAAkB,WACjB,EAAK2F,SAAS,CACbqQ,kBAAmB,KAdF,EAiBnBC,gBAAkB,WACjB,EAAKtQ,SAAS,CACbqQ,kBAAmB,KAnBF,EAsBnB/H,aAAe,SAAC7B,GAGU,KAArB,EAAKtF,MAAM2F,Sd+Ve,SAACA,EAAO1M,EAAkBC,GACzD,IAAMV,EAAO,CACZmN,MAAOA,GAGR9O,EAAcuC,KAAK,sBAAuBZ,GACzCa,MAAM,SAAAC,GAGFA,EAAIhB,UAIRmB,OAAO,SAAAtB,GACP,IAAIuB,EAASxB,EAAWC,GAExBe,EAAgBQ,Mc3WhB0V,CAAiB,EAAKpP,MAAM2F,MAAO,EAAKwJ,gBAAiB,EAAKjW,iBAC9DoM,EAAM+B,iBAEN,EAAKxI,SAAS,CACbqQ,kBAAmB,MA/Bd,EAAKlP,MAAQ,CAClB2F,MAAO,GACPuJ,kBAAmB,GAJF,E,0CAqCnB,WACC,OAEC,qBAAK9S,GAAG,UAAR,SACC,sBAAK+D,UAAU,YAAf,UACC,qBAAKA,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,gCACC,8CAGA,yFAOH,sBAAMwH,SAAUzH,KAAKiH,aAArB,SACC,sBAAKhH,UAAU,MAAf,UACC,qBAAKA,UAAU,MAAf,SACC,qBAAKA,UAAU,aAAf,SACC,uBAAOyH,KAAK,QAAQzH,UAAU,eAAesF,MAAOvF,KAAKF,MAAM2F,MAAOkC,SAAU3H,KAAKwF,iBAAkBoC,YAAY,oBAKrH,sBAAK3H,UAAU,MAAf,UACC,0BACA,wBAAQyH,KAAK,SAASzH,UAAU,yBAAhC,oC,GArEcG,IAAMC,WCuIb0O,G,kDApId,WAAYvQ,GAAQ,IAAD,8BACZ,cAAMA,IAgBbgK,qBAAuB,SAACpD,GACvB,EAAKzG,SAAU,CAAC8J,UAAWrD,EAAME,OAAOC,SAlBtB,EAqBnBmD,oBAAsB,SAACtD,GACtB,EAAKzG,SAAU,CAACgK,SAAUvD,EAAME,OAAOC,SAtBrB,EAyBnBC,iBAAmB,SAACJ,GACnB,EAAKzG,SAAU,CAAC8G,MAAOL,EAAME,OAAOC,SA1BlB,EA6BnB4J,mBAAqB,SAAC/J,GACrB,EAAKzG,SAAU,CAACyQ,QAAShK,EAAME,OAAOC,SA9BpB,EAiCnB8J,mBAAqB,SAACjK,GACrB,EAAKzG,SAAU,CAACzE,QAASkL,EAAME,OAAOC,SAlCpB,EAqCnBvM,gBAAkB,WACjB,EAAK2F,SAAS,CACb2Q,kBAAmB,KAvCF,EA0CnBL,gBAAkB,WACjB,EAAKtQ,SAAS,CACb2Q,kBAAmB,KA5CF,EA+CnBrI,aAAe,SAAC7B,GAGU,KAArB,EAAKtF,MAAM2F,Sf0SgB,SAACgD,EAAWE,EAAUlD,EAAO2J,EAASlV,EAASnB,EAAkBC,GACjG,IAAMV,EAAO,CAEZmQ,UAAWA,EACXE,SAAUA,EAEVlD,MAAOA,EACP2J,QAASA,EAETlV,QAASA,GAGVvD,EAAcuC,KAAK,yBAA0BZ,GAC5Ca,MAAM,SAAAC,GAGFA,EAAIhB,UAIRmB,OAAO,SAAAtB,GACP,IAAIuB,EAASxB,EAAWC,GAExBe,EAAgBQ,Me7ThB+V,CAAkB,EAAKzP,MAAM2I,UAAW,EAAK3I,MAAM6I,SAAU,EAAK7I,MAAM2F,MAAO,EAAK3F,MAAMsP,QAAS,EAAKtP,MAAM5F,QAAS,EAAK+U,gBAAiB,EAAKjW,iBAClJoM,EAAM+B,iBAEN,EAAKxI,SAAS,CACb2Q,kBAAmB,MAxDd,EAAKxP,MAAQ,CAElB2I,UAAW,GACXE,SAAU,GAEVlD,MAAO,GACP2J,QAAS,GAETlV,QAAU,GAEVoV,kBAAmB,GAZF,E,0CA8DnB,WACC,OAEC,qBAAKpT,GAAG,UAAR,SACC,sBAAK+D,UAAU,YAAf,UACC,qBAAKA,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,gCACC,4CAGA,2EAOH,uBAAMwH,SAAUzH,KAAKiH,aAArB,UACC,sBAAKhH,UAAU,MAAf,UACC,qBAAKA,UAAU,MAAf,SACC,sBAAKA,UAAU,aAAf,UACC,+CACA,uBAAOyH,KAAK,OAAOzH,UAAU,eAAesF,MAAOvF,KAAKF,MAAM2I,UAAWd,SAAU3H,KAAKwI,qBAAsBZ,YAAY,oBAG5H,qBAAK3H,UAAU,MAAf,SACC,sBAAKA,UAAU,aAAf,UACC,8CACA,uBAAOyH,KAAK,OAAOzH,UAAU,eAAesF,MAAOvF,KAAKF,MAAM6I,SAAUhB,SAAU3H,KAAK0I,oBAAqBd,YAAY,sBAI3H,sBAAK3H,UAAU,MAAf,UACC,qBAAKA,UAAU,MAAf,SACC,sBAAKA,UAAU,aAAf,UACC,kDACA,uBAAOyH,KAAK,QAAQzH,UAAU,eAAesF,MAAOvF,KAAKF,MAAM2F,MAAOkC,SAAU3H,KAAKwF,iBAAkBoC,YAAY,qBAGrH,qBAAK3H,UAAU,MAAf,SACC,sBAAKA,UAAU,aAAf,UACC,4CACA,uBAAOyH,KAAK,OAAOzH,UAAU,eAAesF,MAAOvF,KAAKF,MAAMsP,QAASzH,SAAU3H,KAAKmP,mBAAoBvH,YAAY,yBAKzH,qBAAK3H,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,sBAAKA,UAAU,aAAf,UACC,4CACA,0BAAWyH,KAAK,OAAOzH,UAAU,eAAesF,MAAOvF,KAAKF,MAAM5F,QAASyN,SAAU3H,KAAKqP,mBAAoBzH,YAAY,mBAK7H,qBAAK3H,UAAU,WAAf,SACC,qBAAKA,UAAU,MAAf,SACC,wBAAQyH,KAAK,SAASzH,UAAU,yBAAhC,0C,GA5HcG,IAAMC,WCCtBmP,G,kDAEL,WAAYhR,GAAQ,IAAD,8BAClB,cAAMA,IAKPiR,cAAgB,WACf,EAAKjR,MAAM6H,SAXS,SAWe,gBAAiB,aACpD,EAAK7H,MAAMkR,SACX,EAAKlR,MAAMuI,QAAQtO,KAAK,EAAK+F,MAAMmR,gBAPnC,EAAK7P,MAAQ,GAFK,E,0CAYnB,WACC,IAAI8P,EAAa,KACbC,EAAc,KA4DlB,YA1D+BnV,IAA3BsF,KAAKxB,MAAMsR,YACdF,EAAa,CACX,oBAAI3P,UAAW,WAAf,SACA,cAAC,IAAD,CAAMA,UAAU,WAAWC,GAAIF,KAAKxB,MAAMuR,cAA1C,sBAD+B,KAM/B,oBAAI9P,UAAW,WAAf,SACA,cAAC,IAAD,CAAMA,UAAU,WAAWC,GAAIF,KAAKxB,MAAMmR,cAA1C,sBADgC,OAkBlCC,EAAa,CACX,oBAAI3P,UAAW,WAAf,SACA,cAAC,IAAD,CAAMA,UAAU,WAAWC,GAAIF,KAAKxB,MAAMwR,iBAA1C,wBADgC,MAOlCH,EACC,sBAAK5P,UAAU,WAAf,UACC,qBAAKA,UAAU,WAAWyH,KAAK,SAASxL,GAAG,qBAAqB+T,cAAY,WAAWC,gBAAc,OAAOC,gBAAc,QAA1H,SACEnQ,KAAKxB,MAAMsR,cAEb,sBAAK7P,UAAU,oCAAoCmQ,kBAAgB,qBAAnE,UACC,cAAC,IAAD,CAAMnQ,UAAU,gBAAgBC,GAAIF,KAAKxB,MAAM6R,mBAA/C,qBAGA,cAAC,IAAD,CAAMpQ,UAAU,gBAAgBC,GAAIF,KAAKxB,MAAM8R,oBAA/C,sBAGA,cAAC,IAAD,CAAMrQ,UAAU,gBAAgBC,GAAIF,KAAKxB,MAAM+R,uBAA/C,yBAGA,cAAC,IAAD,CAAMtQ,UAAU,gBAAgBC,GAAIF,KAAKxB,MAAMgS,eAAgBzD,QAAS/M,KAAKyP,cAA7E,2BAd6B,MAwBhC,qBAAKxP,UAAU,aAAf,SAEC,qBAAKA,UAAU,8CAAf,SACC,sBAAKA,UAAU,kBAAf,UACC,cAAC,IAAD,CAAMA,UAAU,eAAeC,GAAIF,KAAKxB,MAAMgS,eAA9C,6BAmBA,qBAAKvQ,UAAU,aAIf,wBACCA,UAAU,iBACVyH,KAAK,SACLuI,cAAY,WACZQ,cAAY,oBACZC,gBAAc,mBACdP,gBAAc,QACdQ,aAAW,oBAPZ,SAUC,sBAAM1Q,UAAU,0BAGjB,qBAAKA,UAAU,2BAA2B/D,GAAG,mBAA7C,SACC,qBAAI+D,UAAU,qBAAd,UACE2P,EACAC,kB,GAxHgBzP,IAAMC,WAkIhB6H,eAAWsH,IC8DXoB,G,kDA7Ld,WAAYpS,GAAQ,IAAD,8BACZ,cAAMA,IAUbqS,eAAiB,WAChB,OAAO,EAAK/Q,MAAMgR,WAZA,EAenBC,WAAa,SAACC,GAEb,MAAyB,mBAAdA,IAMX,EAAKrS,SAAS,CACbmS,UAAWE,KAGL,IA3BW,EA8BnBC,WAAa,WACZ,EAAKtS,SAAS,CACbuS,aAAc,MAhCG,EAoCnBC,UAAY,SAACC,GACZ,IAAIC,EAAU,EAAKvR,MAAMoR,aACzBG,EAAQD,GAAY,GAEpB,EAAKzS,SAAS,CACbuS,aAAcG,KAzCG,EA6CnBC,UAAY,SAACF,EAAUG,EAASC,GAE/B,IAAK,EAAK1R,MAAMgR,UACf,OAAO,EAGR,IAAIO,EAAU,EAAKvR,MAAMoR,aAYzB,OAVME,KAAYC,IACjBA,EAAQD,GAAY,IAGrBC,EAAQD,GAAUG,GAAWC,EAE7B,EAAK7S,SAAS,CACbuS,aAAcG,KAGR,GA/DW,EAkEnBI,cAAgB,WACf,EAAKV,YAAY,EAAKjR,MAAMgR,YAjEtB,EAAKhR,MAAQ,CAElB4R,cAAc,EAEdZ,WAAW,EACXI,aAAc,IAPG,E,0CAsEnB,WAEC,IAAIS,EAAe,GAEnB,GAAI3R,KAAKF,MAAMgR,UAAW,CAEzB,IAAIzS,EAAQ,EACZ,IAAK,IAAIkF,KAAOvD,KAAKF,MAAMoR,aAAc,CAExC,IAAIU,EAAY,CAEd,sBAAK3R,UAAU,MAAf,UACC,qBAAKA,UAAU,MAAf,SACC,uCAED,qBAAKA,UAAU,MAAf,SACC,0CALwB5B,MAW5B,IAAK,IAAIwT,KAAc7R,KAAKF,MAAMoR,aAAa3N,GAEpB,kBAAfsO,GAA+E,kBAA7C7R,KAAKF,MAAMoR,aAAa3N,GAAKsO,KAI1ED,EAAUnZ,KACT,sBAAKwH,UAAU,MAAf,UACC,qBAAKA,UAAU,MAAf,SACE4R,IAEF,qBAAK5R,UAAU,MAAf,SACED,KAAKF,MAAMoR,aAAa3N,GAAKsO,OALNxT,IAS3BA,GAAS,GAGVsT,EAAalZ,KACZ,qBAAKwH,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,eAAC6C,EAAA,EAAD,WACC,cAACA,EAAA,EAAUC,OAAX,CAAkBC,GAAIC,IAAKC,OAAQjD,UAAU,SAASkD,QAAQ,OAAOC,SAAU,MAAM/E,EAArF,SACEkF,IAGF,cAACT,EAAA,EAAUO,SAAX,CAAoBD,SAAU,MAAM/E,EAApC,SACC,8BACEuT,YAToBrO,IAgB3BlF,GAAS,GAIX,IAAIyT,EAAc,oBACb9R,KAAKF,MAAMgR,YACfgB,EAAc,6BAGf,IAAIC,EAAa/R,KAAKF,MAAM4R,cAAgB1R,KAAKF,MAAMgR,UAIvD,OACC,qBAAK7Q,UAAU,sBAAf,SACC,wBAAQA,UAAU,eAAlB,SACC,qBAAKA,UAAU,YAAf,SAEC,sBAAKA,UAAU,MAAf,UACED,KAAKF,MAAMgR,UACX,qBAAK7Q,UAAU,MAAf,SACC,eAAC6C,EAAA,EAAD,CAAW7C,UAAU,aAArB,UACC,cAAC6C,EAAA,EAAUC,OAAX,CAAkBC,GAAIC,IAAKC,OAAQjD,UAAU,SAASkD,QAAQ,OAAOC,SAAU,SAA/E,wBAGA,cAACN,EAAA,EAAUO,SAAX,CAAoBD,SAAU,SAA9B,SACC,8BACEuO,WAML,qBAAK1R,UAAU,MAAf,SACC,mBAAGA,UAAU,6BAAb,6CAKD8R,GACA,qBAAK9R,UAAU,OAAf,SACC,wBAAQA,UAAU,4BAA4B8M,QAAS/M,KAAKiR,WAA5D,iBAKDjR,KAAKF,MAAM4R,cACX,qBAAKzR,UAAU,OAAf,SACC,wBAAQA,UAAW6R,EAAa/E,QAAS/M,KAAKyR,cAA9C,8B,GAnLYrR,IAAMC,WCKrB2R,G,kDAEL,WAAYxT,GAAQ,IAAD,8BACZ,cAAMA,IACDsB,MAAQ,GAFD,E,0CASnB,WAEC,OACC,sBAAKG,UAAU,YAAf,UAEC,cAAC,GAAD,IAEA,cAAC,GAAD,IAGA,cAAC,GAAD,IACA,cAAC,GAAD,IAGA,cAAC,GAAD,W,GAzBoBG,IAAMC,WAmCf6H,eAAW8J,ICjCpBC,G,kDAEL,WAAYzT,GAAQ,IAAD,8BACZ,cAAMA,IAQb0T,WAAa,WACZ,EAAK1T,MAAMuI,QAAQoL,UARb,EAAKrS,MAAQ,CAGlBsS,QAAS,GALQ,E,0CAenB,WAEC,OACC,qBAAKnS,UAAU,YAAf,SACC,qBAAKA,UAAU,YAAf,SACC,qBAAKA,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,2C,GAvBkBG,IAAMC,WC4BxBgS,IDKSnK,YAAW+J,ICLJ,kBAChBK,GAAmB,iBAEnBC,G,kDAEL,WAAY/T,GAAQ,IAAD,8BACZ,cAAMA,IA2FbgU,kBAAoB,YAGoB,IAAlC,EAAK1S,MAAM2S,mBACf,EAAKjU,MAAMkU,wBAAwB,GAGrB,EAAKC,wBAGnB,EAAKC,cAAgBC,YAAY,EAAKF,oBA9GtB,OAQC,EA2GnBlD,cAAgB,SAACqD,GAChBzZ,QAAQC,IAAIwZ,GACZ,EAAKtU,MAAMkR,SACX,EAAKlR,MAAM6H,SAASgM,GAAe,iBAAkBS,GACrD,EAAKtU,MAAMuI,QAAQtO,KAAK,EAAK+F,MAAMmR,gBA/GjB,EAkHnBoD,iBAAmB,WAClB,EAAKpU,SAAS,CAEbqU,QAAS,GAETC,4BAAuBvY,EACvBwY,4BAAuBxY,EACvByY,wBAAwB,GACxBC,yBAAyB,GAEzBC,oBAAoB,EACpBC,uBAAwB,GACxBC,6BAA6B,MA9HZ,EAkInBZ,oBAAsB,WAErB,OAAI,EAAKnU,MAAMgV,iBACdC,cAAc,EAAKb,eAEnB,EAAKpP,YAEE,QAE4B9I,IAA3B,EAAK8D,MAAMsR,kBAAf,GA3Ia,EAuJnB4D,qBAAuB,WACFpQ,GAAiB,EAAK9E,MAAMsR,YAAY,mBAe5D,EAAKnR,SAAS,CACbgV,cAAc,KAxKG,EA4KnBnQ,SAAW,WAGV,EAAKhF,MAAMoV,qBAAqB,GAChC,EAAKC,mBAhLa,EAoLnBC,cAAgB,WACf,EAAKC,oBACL,EAAKC,gBAEL,EAAKC,mBAEL,EAAKC,yBACL,EAAKC,mBAKL,EAAKxV,SAAS,CACbgV,cAAc,KAjMG,EAwMnBK,cAAgB,WACf,EAAKI,uBACL,EAAKC,2BA1Ma,EA+MnBC,eAAiB,SAACxO,GACjB,IAAIyO,EAEJ,GAA+B,IAA3BzO,EAAY,YAIX,IAA+B,IAA3BA,EAAY,OAGpB,OAFA,EAAKtH,MAAM6H,SAASgM,GAAe,oBAAqB,oBACxD,EAAK7T,MAAM6P,aAAa,EAAKyF,eAIM,IAA3BhO,EAAY,QAIe,IAA3BA,EAAY,QAIe,IAA3BA,EAAY,QAIZA,EAAY,OAIrB,EAAKtH,MAAM6H,SAASgM,GAAe,cAAe,WAElDkC,EAAazO,EAAY,SACzB,EAAKnH,SAAS,CACb6V,iBAAiBD,EACjBE,iBAAiB,KAjPA,EAoPnBC,gBAAkB,SAACC,GAClB,EAAKnW,MAAM6H,SAASgM,GAAe,cAAepH,OAAO0J,EAAgB5Q,SACzE,EAAKpF,SAAS,CACbiW,aAAcD,EACdF,iBAAiB,KAxPA,EA2PnBN,iBAAmB,WAClB,QAAiCzZ,IAA3B,EAAK8D,MAAMsR,YAA4B,EpBgCZ,SAAC/W,EAAkBC,GACrD,IAAMU,EAAS,CACdC,QAAS,CAAEC,cAAc,OAAD,OAAS5C,KAGlCL,EAAckD,IAAI,wBAAyBH,GAC1CP,MACA,SAAAC,GAEC,IAAIyb,EAAW,GAEf,IAAK,IAAIxW,KAASjF,EAAId,KACrBuc,EAASpc,KAAKW,EAAId,KAAK+F,GAAOc,MAG/BpG,EAAiB8b,MAElBtb,OAAO,SAAAtB,GAEP,IAAIuB,EAASxB,EAAWC,GAExBe,EAAgBQ,MoBjDdsb,CAAoB,EAAKJ,gBAAiB,EAAKJ,gBAC/C,EAAK3V,SAAS,CACb8V,iBAAiB,SASnB,EAAKhF,cAAc,qBA3QF,EAiRnBsF,sBAAwB,SAACjP,GACxB,IAAIyO,EAEJ,GAA+B,IAA3BzO,EAAY,YAIX,IAA+B,IAA3BA,EAAY,OAGpB,OAFA,EAAKtH,MAAM6H,SAASgM,GAAe,oBAAqB,wBACxD,EAAK7T,MAAM6P,aAAa,EAAKyF,eAIM,IAA3BhO,EAAY,QAIe,IAA3BA,EAAY,QAIe,IAA3BA,EAAY,QAIZA,EAAY,OAIrB,EAAKtH,MAAM6H,SAASgM,GAAe,eAAgB,WAEnDkC,EAAazO,EAAY,SACzB,EAAKnH,SAAS,CACbqW,qBAAqBT,EACrBU,wBAAwB,KAnTP,EAsTnBC,uBAAyB,SAACC,GAOzB,EAAK3W,MAAM6H,SAASgM,GAAe,eAAgBpH,OAAOkK,EAAgBpR,SAC1E,EAAKpF,SAAS,CACbyW,oBAAqBD,EACrBF,wBAAwB,KAhUP,EAmUnBlB,kBAAoB,WACnB,QAAiCrZ,IAA3B,EAAK8D,MAAMsR,YAA4B,EpBiPX,SAAC/W,EAAkBC,GACtD,IAAMU,EAAS,CACdC,QAAS,CAAEC,cAAc,OAAD,OAAS5C,KAElCL,EAAckD,IAAI,wBAAyBH,GAC1CP,MACA,SAAAC,GAoBCL,EAAkBK,EAAId,SAEvBiB,OAAO,SAAAtB,GACP,IAAIuB,EAASxB,EAAWC,GAExBe,EAAgBQ,MoB5Qd6b,CAAsB,EAAKH,uBAAwB,EAAKH,uBACxD,EAAKpW,SAAS,CACbsW,wBAAwB,SAS1B,EAAKxF,cAAc,sBAnVF,EAyVnB6F,uBAAyB,SAACxP,GACzB,IAAIyO,EAEJ,GAA+B,IAA3BzO,EAAY,YAIX,IAA+B,IAA3BA,EAAY,OAGpB,OAFA,EAAKtH,MAAM6H,SAASgM,GAAe,oBAAqB,oBACxD,EAAK7T,MAAM6P,aAAa,EAAK7K,UAIM,IAA3BsC,EAAY,QAIe,IAA3BA,EAAY,QAIe,IAA3BA,EAAY,QAIZA,EAAY,OAIrB,EAAKtH,MAAM6H,SAASgM,GAAe,cAAe,SAClDkC,EAAazO,EAAY,SAEzB,EAAKnH,SAAS,CACb4W,sBAAuB,EACvBC,qBAAsBjB,KA3XL,EA+XnBkB,wBAA0B,SAACC,IAEN,IAAhBA,GAEH,EAAKlX,MAAMoV,oBAAoB,GAC/B,EAAKjV,SAAS,CACb4W,sBAAuB,IAGxB,EAAK/W,MAAM6H,SAASgM,GAAe,cAAe,QAClD,EAAKyB,kBAIL,EAAKtV,MAAM6H,SAASgM,GAAe,cAAe,SAClD,EAAK7T,MAAMuI,QAAQtO,KAAK,EAAK+F,MAAMmX,oBA9YlB,EAiZnB9B,gBAAkB,gBACgBnZ,IAA3B,EAAK8D,MAAMsR,cpB7IW,SAAC/W,EAAkBC,GAEhD,IAAMU,EAAS,CACdC,QAAS,CACRC,cAAc,OAAD,OAAS5C,GACtB,eAAgB,mBAChB,OAAU,qBAIZL,EAAckD,IAAI,qBAAsBH,GACvCP,MAAK,SAAAC,GACLL,EAAiBK,EAAId,KAAK,GAAGsd,aAE7Brc,OAAO,SAAAtB,GACP,IAAIuB,EAASxB,EAAWC,GAGxBe,EAAgBQ,MoB4Hfqc,CAAe,EAAKJ,wBAAyB,EAAKH,wBAClD,EAAK3W,SAAS,CACb4W,sBAAuB,KAIxB,EAAK9F,cAAc,oBAzZF,EA6ZnBqG,wBAA0B,SAAChQ,GAC1B,IAAIyO,EAEJ,GAA+B,IAA3BzO,EAAY,aAIX,GAA+B,IAA3BA,EAAY,OAGpB,OAFA,EAAKtH,MAAM6H,SAASgM,GAAe,oBAAqB,kBACxD,EAAK7T,MAAM6P,aAAc,EAAKyF,eAI/B,EAAKtV,MAAM6H,SAASgM,GAAe,iBAAkB,WAErDkC,EAAazO,EAAY,SACzB,EAAKnH,SAAS,CACboX,uBAAwB,EACxBC,sBAAuBzB,KA/aN,EAkbnB0B,yBAA2B,SAACC,GAK3B,EAAK1X,MAAM6H,SAASgM,GAAe,iBAAkBpH,OAAOiL,EAAiBnS,SAC1EmS,EAAiBnS,OAAS,GAC5B,EAAKvF,MAAMoV,oBAAoB,GAEhC,EAAKjV,SAAS,CACbwX,kBAAmBD,EACnBH,uBAAwB,KA7bP,EAgcnB9B,iBAAmB,WAKlB,QAAiCvZ,IAA3B,EAAK8D,MAAMsR,YAA4B,EpBwpCb,SAAC/W,EAAkBC,GACpD,IAAMU,EAAS,CACdC,QAAS,CAAEC,cAAc,OAAD,OAAS5C,KAGlCL,EAAckD,IAAI,wBAAyBH,GAC1CP,MACA,SAAAC,GACCL,EAAiBK,EAAId,SAEtBiB,OAAO,SAAAtB,GAEP,IAAIuB,EAASxB,EAAWC,GAExBe,EAAgBQ,MoBjqCd4c,CAAmB,EAAKH,yBAA0B,EAAKH,yBACvD,EAAKnX,SAAS,CACboX,uBAAwB,SAU1B,EAAKtG,cAAc,qBAtdF,EA0dnB4G,oBAAsB,SAACvQ,GACtB,IAAIyO,EAEJ,GAA+B,IAA3BzO,EAAY,YAIX,IAA+B,IAA3BA,EAAY,OAGpB,OAFA,EAAKtH,MAAM6H,SAASgM,GAAe,oBAAqB,sBACxD,EAAK7T,MAAM6P,aAAc,EAAKyF,eAIK,IAA3BhO,EAAY,QAIe,IAA3BA,EAAY,QAIe,IAA3BA,EAAY,QAIZA,EAAY,OAIrB,EAAKtH,MAAM6H,SAASgM,GAAe,oBAAqB,SACxDkC,EAAazO,EAAY,SACzB,EAAKnH,SAAS,CACb2X,sBAAuB,EACvBC,qBAAsBhC,KA3fL,EA+fnBiC,qBAAuB,SAACC,EAAsBC,GAK7C,IAAItJ,EAAQ,GACRuJ,EAAM,EACV,IAAKvJ,KAASqJ,EACbE,GAAO,EAER,IAAKvJ,KAASsJ,EACbC,GAAO,EAKR,EAAKnY,MAAM6H,SAASgM,GAAe,oBAAqBsE,GACxD,EAAKhY,SAAS,CACbiY,kBAAmBH,EACnBI,sBAAuBH,EACvBJ,sBAAuB,KAnhBN,EAshBnBlC,qBAAuB,WAKtB,QAAiC1Z,IAA3B,EAAK8D,MAAMsR,YAA4B,EpB+Db,SAAC/W,EAAkBC,GACpD,IAAMU,EAAS,CACdC,QAAS,CAAEC,cAAc,OAAD,OAAS5C,KAGlCL,EAAckD,IAAI,wBAAyBH,GAC1CP,MACA,SAAAC,GAGC,IAAI0d,EAAgB,IAAIlT,KACpBmT,EAAYD,EAAcvf,cAAc,IAAIuf,EAAcpf,WAAW,IAAKof,EAAclf,UAExFof,EAAe,GACfC,EAAe,GAEnB,IAAK,IAAIC,KAAQ9d,EAAId,KAAK,CACzB,IAAM6e,EAAU,IAAIvT,KAAKxK,EAAId,KAAK4e,GAAMvc,SAClCyc,EAAYD,EAAQ5f,cAAc,IAAI4f,EAAQzf,WAAW,KAAKyf,EAAQvf,UAAU,GAG7C,OAArCwB,EAAId,KAAK4e,GAAT,iBACH9d,EAAId,KAAK4e,GAAT,eAAmC,OAGhC9d,EAAId,KAAK4e,GAAMG,OACdD,KAAaJ,EACZ5d,EAAId,KAAK4e,GAAMzc,kBAAkBuc,EAAaI,GACjDJ,EAAaI,GAAWhe,EAAId,KAAK4e,GAAMzc,gBAAgBhC,KAAMW,EAAId,KAAK4e,GAAMI,eAG5EN,EAAaI,GAAWhe,EAAId,KAAK4e,GAAMzc,gBAAkB,CAAErB,EAAId,KAAK4e,GAAMI,gBAI3EN,EAAaI,GAAa,GAC1BJ,EAAaI,GAAWhe,EAAId,KAAK4e,GAAMzc,gBAAkB,CAAErB,EAAId,KAAK4e,GAAMI,gBAGvEP,IAAcK,IACb,UAAWJ,EACV5d,EAAId,KAAK4e,GAAMzc,kBAAkBuc,EAAY,MAChDA,EAAY,MAAU5d,EAAId,KAAK4e,GAAMzc,gBAAgBhC,KAAMW,EAAId,KAAK4e,GAAMI,eAG1EN,EAAY,MAAU5d,EAAId,KAAK4e,GAAMzc,gBAAkB,CAAErB,EAAId,KAAK4e,GAAMI,gBAIzEN,EAAY,MAAY,GACxBA,EAAY,MAAU5d,EAAId,KAAK4e,GAAMzc,gBAAkB,CAAErB,EAAId,KAAK4e,GAAMI,mBAItEF,KAAaH,EACZ7d,EAAId,KAAK4e,GAAMzc,kBAAkBwc,EAAaG,GACjDH,EAAaG,GAAWhe,EAAId,KAAK4e,GAAMzc,gBAAgBhC,KAAMW,EAAId,KAAK4e,GAAMI,eAG5EL,EAAaG,GAAWhe,EAAId,KAAK4e,GAAMzc,gBAAkB,CAAErB,EAAId,KAAK4e,GAAMI,gBAI3EL,EAAaG,GAAa,GAC1BH,EAAaG,GAAWhe,EAAId,KAAK4e,GAAMzc,gBAAkB,CAAErB,EAAId,KAAK4e,GAAMI,gBAGvEP,IAAcK,IACb,UAAWH,EACV7d,EAAId,KAAK4e,GAAMzc,kBAAkBwc,EAAY,MAChDA,EAAY,MAAU7d,EAAId,KAAK4e,GAAMzc,gBAAgBhC,KAAMW,EAAId,KAAK4e,GAAMI,eAG1EL,EAAY,MAAU7d,EAAId,KAAK4e,GAAMzc,gBAAkB,CAAErB,EAAId,KAAK4e,GAAMI,gBAIzEL,EAAY,MAAY,GACxBA,EAAY,MAAU7d,EAAId,KAAK4e,GAAMzc,gBAAkB,CAAErB,EAAId,KAAK4e,GAAMI,kBAK5Eve,EAAiBke,EAAcD,MAEhCzd,OAAO,SAAAtB,GACP,IAAIuB,EAASxB,EAAWC,GAGxBe,EAAgBQ,MoBnJd+d,CAAmB,EAAKf,qBAAsB,EAAKH,qBACnD,EAAK1X,SAAS,CACb2X,sBAAuB,SAUzB,EAAK7G,cAAc,yBA5iBF,EAgjBnB+H,uBAAyB,SAAC1R,GACzB,IAAIyO,EAEJ,GAA+B,IAA3BzO,EAAY,YAIX,IAA+B,IAA3BA,EAAY,OAGpB,OAFA,EAAKtH,MAAM6H,SAASgM,GAAe,oBAAqB,2BACxD,EAAK7T,MAAM6P,aAAc,EAAKyF,eAIK,IAA3BhO,EAAY,QAIe,IAA3BA,EAAY,QAIe,IAA3BA,EAAY,QAIZA,EAAY,OAIrB,EAAKtH,MAAM6H,SAASgM,GAAe,yBAA0B,SAC7DkC,EAAazO,EAAY,SACzB,EAAKnH,SAAS,CACb8Y,yBAA0B,EAC1BC,wBAAyBnD,KAjlBR,EAqlBnBoD,wBAA0B,SAACC,GAI1B,IAAIxK,EAAQ,GAERuJ,EAAM,EACV,IAAKvJ,KAASwK,EACbjB,GAAO,EAKR,EAAKnY,MAAM6H,SAASgM,GAAe,yBAA0BsE,GAC7D,EAAKhY,SAAS,CACbkZ,qBAAsBD,EACtBH,yBAA0B,KArmBT,EAwmBnBpD,wBAA0B,WAGzB,QAAiC3Z,IAA3B,EAAK8D,MAAMsR,YAA4B,EpB4EV,SAAC/W,EAAkBC,GACvD,IAAMU,EAAS,CACdC,QAAS,CAAEC,cAAc,OAAD,OAAS5C,KAElCL,EAAckD,IAAI,2BAA4BH,GAC7CP,MACA,SAAAC,GAGC,IAAI0d,EAAgB,IAAIlT,KACpBmT,EAAYD,EAAcvf,cAAc,IAAIuf,EAAcpf,WAAW,IAAKof,EAAclf,UAExFqf,EAAe,GACnB,IAAK,IAAIC,KAAQ9d,EAAId,KAAK,CACzB,IAAM6e,EAAU,IAAIvT,KAAKxK,EAAId,KAAK4e,GAAMvc,SAClCyc,EAAYD,EAAQ5f,cAAc,IAAI4f,EAAQzf,WAAW,KAAKyf,EAAQvf,UAAU,GAG7C,OAArCwB,EAAId,KAAK4e,GAAT,iBACH9d,EAAId,KAAK4e,GAAT,eAAmC,OAGhCE,KAAaH,EACZ7d,EAAId,KAAK4e,GAAMzc,kBAAkBwc,EAAaG,GACjDH,EAAaG,GAAWhe,EAAId,KAAK4e,GAAMzc,gBAAgBhC,KAAMW,EAAId,KAAK4e,GAAMI,eAG5EL,EAAaG,GAAWhe,EAAId,KAAK4e,GAAMzc,gBAAkB,CAAErB,EAAId,KAAK4e,GAAMI,gBAI3EL,EAAaG,GAAa,GAC1BH,EAAaG,GAAWhe,EAAId,KAAK4e,GAAMzc,gBAAkB,CAAErB,EAAId,KAAK4e,GAAMI,gBAGvEP,IAAcK,IACb,UAAWH,EACV7d,EAAId,KAAK4e,GAAMzc,kBAAkBwc,EAAY,MAChDA,EAAY,MAAU7d,EAAId,KAAK4e,GAAMzc,gBAAgBhC,KAAMW,EAAId,KAAK4e,GAAMI,eAG1EL,EAAY,MAAU7d,EAAId,KAAK4e,GAAMzc,gBAAkB,CAAErB,EAAId,KAAK4e,GAAMI,gBAIzEL,EAAY,MAAY,GACxBA,EAAY,MAAU7d,EAAId,KAAK4e,GAAMzc,gBAAkB,CAAErB,EAAId,KAAK4e,GAAMI,iBAK3Eve,EAAiBke,MAElB1d,OAAO,SAAAtB,GACP,IAAIuB,EAASxB,EAAWC,GAGxBe,EAAgBQ,MoBhIdse,CAAsB,EAAKH,wBAAyB,EAAKH,wBACzD,EAAK7Y,SAAS,CACb8Y,yBAA0B,SAU5B,EAAKhI,cAAc,6BA5nBF,EAioBnBsI,mBAAqB,SAACjS,GACrB,IAAIyO,EAEJ,GAA+B,IAA3BzO,EAAY,YAIX,IAA+B,IAA3BA,EAAY,OAGpB,OAFA,EAAKtH,MAAM6H,SAASgM,GAAe,oBAAqB,yBACxD,EAAK7T,MAAM6P,aAAa,EAAKyF,eAIM,IAA3BhO,EAAY,QAIe,IAA3BA,EAAY,QAIe,IAA3BA,EAAY,QAIZA,EAAY,OAIrB,EAAKtH,MAAM6H,SAASgM,GAAe,kBAAmB,SACtDkC,EAAazO,EAAY,SACzB,EAAKnH,SAAS,CACbqZ,6BAA8B,EAC9BC,4BAA6B1D,KAlqBZ,EAqqBnB2D,oBAAsB,SAACC,GAGtB,EAAKxZ,SAAS,CACbyZ,sBAAuBD,EACvBH,6BAA8B,IAM/B,IAAIK,EAAkB,EAClBC,GAAmB,EACvB,IAAK,IAAIja,KAAS8Z,EAAqB,CACtC,IAAII,EAAcJ,EAAoB9Z,GAApB,KAAmCma,QAAQ,GACzDC,EAAcN,EAAoB9Z,GAApB,KAAmCma,QAAQ,IACxDD,GAAe,GAAKE,GAAe,KACvCJ,GAAmB,EAEnBC,EAAkBG,EACdF,GAAe,IAClBD,EAAkBC,IAKrB,EAAK/Z,MAAM6H,SAASgM,GAAe,kBAAmBpH,OAAOkN,EAAoBpU,SAIzD,IAApBsU,GAAyBA,GAAmB,GAC/C,EAAKK,sBAAuBP,EAAoBG,KApsB/B,EAusBnBpE,uBAAyB,WACxB,QAAiCxZ,IAA3B,EAAK8D,MAAMsR,YAA4B,EpBgHZ,SAAC6I,EAAU5f,EAAkBC,GAE/D,IAAMU,EAAS,CACdC,QAAS,CAAEC,cAAc,OAAD,OAAS5C,KAGlCL,EAAckD,IAAI,yCAAyC8e,EAAUjf,GACpEP,MAAO,SAAAC,GASNL,EAAiBK,EAAId,KAAJ,YAEjBiB,OAAO,SAAAtB,GAEP,IAAIuB,EAASxB,EAAWC,GAExBe,EAAgBQ,MoBhIfof,CAAoB,CAAC,QAAS,OAAQ,OAAQ,OAAQ,EAAKV,oBAAqB,EAAKH,oBACrF,EAAKpZ,SAAS,CACbqZ,6BAA8B,SAShC,EAAKvI,cAAc,wBAztBF,EA6tBnBoJ,oBAAsB,SAAC/S,GACtB,IAAIyO,EAEJ,GAA+B,IAA3BzO,EAAY,YAIX,IAA+B,IAA3BA,EAAY,OAGpB,OAFA,EAAKtH,MAAM6H,SAASiM,GAAkB,oBAAqB,uBAC3D,EAAK9T,MAAM6P,aAAa,EAAKyK,aAIM,IAA3BhT,EAAY,QAIe,IAA3BA,EAAY,QAIe,IAA3BA,EAAY,QAIZA,EAAY,OAIrB,EAAKtH,MAAM6H,SAASiM,GAAkB,qBAAsB,WAC5DiC,EAAazO,EAAY,SACzB,EAAKnH,SAAS,CACboa,2BAA4B,EAC5BC,0BAA2BzE,KA9vBV,EAiwBnB0E,qBAAuB,SAACC,GAEvB,IAAInV,EAAS,EAEb,IAAK,IAAIqJ,KAAS8L,EACjBnV,GAAUmV,EAAoB9L,GAAOrJ,OAGtC,EAAKvF,MAAM6H,SAASiM,GAAkB,qBAAsBvO,GAC5D,EAAKpF,SAAS,CACbyU,yBAA0B8F,EAC1BH,2BAA4B,KA5wBX,EA+wBnBI,qBAAuB,WACtB,IAAwC,IAAlC,EAAKrZ,MAAM2S,kBAA2B,EpBkEP,SAACpW,EAAYtD,EAAkBC,GAErE,IAAMU,EAAS,CACdC,QAAS,CAAEC,cAAc,OAAD,OAAS5C,KAGlCL,EAAckD,IAAI,gCAAgCwC,EAAY3C,GAC7DP,MAAO,SAAAC,GAEN,IAAIggB,EAAmB,GAGnBlC,EAAO,GACX,IAAKA,KAAQ9d,EAAId,KAAK,CAIrB,IAAI+gB,EAAWliB,EAAoBiC,EAAId,KAAK4e,GAAMoC,aAE3CD,KAAYD,IAClBA,EAAiBC,GAAY,IAE9BD,EAAiBC,GAAU5gB,KAAM,CAAC,KAAOW,EAAId,KAAK4e,GAAMvc,QAAS,IAAMvB,EAAId,KAAK4e,GAAMqC,aAKvFxgB,EAAiBqgB,MAElB7f,OAAO,SAAAtB,GAEP,IAAIuB,EAASxB,EAAWC,GAExBe,EAAgBQ,MoB/FdggB,CAAwB,EAAK1Z,MAAM2S,kBAAmB,EAAKwG,qBAAsB,EAAKJ,qBACtF,EAAKla,SAAS,CACboa,2BAA4B,MAtxBb,EAmyBnBU,6BAA+B,SAAC3T,GAC/B,IAAIyO,EAEJ,GAA+B,IAA3BzO,EAAY,YAIX,IAA+B,IAA3BA,EAAY,OAGpB,OAFA,EAAKtH,MAAM6H,SAASiM,GAAkB,oBAAqB,mCAC3D,EAAK9T,MAAM6P,aAAa,EAAKyK,aAIM,IAA3BhT,EAAY,QAIe,IAA3BA,EAAY,QAIe,IAA3BA,EAAY,QAIZA,EAAY,OAIrB,EAAKtH,MAAM6H,SAASiM,GAAkB,gCAAiC,WACvEiC,EAAazO,EAAY,SACzB,EAAKnH,SAAS,CACb+a,qCAAsC,EACtCC,oCAAqCpF,KAp0BpB,EAu0BnBqF,8BAAgC,SAACC,GAGhC,EAAKrb,MAAM6H,SAASiM,GAAkB,gCAAiCrH,OAAO4O,EAAkB9V,SAChG,EAAKpF,SAAS,CACb4U,6BAA8BsG,EAC9BH,qCAAsC,KA70BrB,EAg1BnBI,+BAAiC,WAChC,IAAwC,IAAlC,EAAKha,MAAM2S,kBAA2B,EpBgGT,SAACpX,EAAetC,EAAkBC,GAEtE,IAAMU,EAAS,CACdC,QAAS,CAAEC,cAAc,OAAD,OAAS5C,KAGlCL,EAAckD,IAAI,0CAA0CwB,EAAe3B,GAC1EP,MAAO,SAAAC,GAEP,IAAI2gB,EAAY,GAEZ7C,EAAO,GACX,IAAKA,KAAQ9d,EAAId,KAAM,CAEtB,IAAM6e,EAAU,IAAIvT,KAAKxK,EAAId,KAAK4e,IAC5BE,EAAYD,EAAQ5f,cAAc,IAAI4f,EAAQzf,WAAW,KAAKyf,EAAQvf,UAAU,GAGtFmiB,EAAUthB,KAAK2e,GAIhBre,EAAiBghB,MAGjBxgB,OAAO,SAAAtB,GAEP,IAAIuB,EAASxB,EAAWC,GAExBe,EAAgBQ,MoBzHdwgB,CAAsB,EAAKla,MAAM2S,kBAAmB,EAAKmH,8BAA+B,EAAKH,8BAC7F,EAAK9a,SAAS,CACb+a,qCAAsC,MAv1BvB,EAo2BnBO,6BAA+B,SAACnU,GAC/B,IAAIyO,EAEJ,GAA+B,IAA3BzO,EAAY,YAIX,IAA+B,IAA3BA,EAAY,OAGpB,OAFA,EAAKtH,MAAM6H,SAASiM,GAAkB,oBAAqB,4BAC3D,EAAK9T,MAAM6P,aAAa,EAAK6L,mBAIM,IAA3BpU,EAAY,QAIe,IAA3BA,EAAY,QAIe,IAA3BA,EAAY,QAIZA,EAAY,OAIrB,EAAKtH,MAAM6H,SAASiM,GAAkB,+BAAgC,WACtEiC,EAAazO,EAAY,SACzB,EAAKnH,SAAS,CACbwb,+BAAgC,EAChCC,8BAA+B7F,KAr4Bd,EAw4BnB8F,8BAAgC,SAAC/d,EAAYyR,GAE5C,EAAKvP,MAAM6H,SAASiM,GAAkB,+BAAgC,YACtE,IAAIgI,EAAY,IAAI1W,KAAKtH,GACzB,EAAKqC,SAAS,CACb0U,mBAAoBiH,EACpBhH,uBAAwBvF,EACxBoM,+BAAgC,KA/4Bf,EAk5BnBI,yBAA2B,SAACC,GAE3B,IAAwC,IAAlC,EAAK1a,MAAM2S,kBAA2B,CAE3C,EAAK9T,SAAS,CACb4b,yBAAyBC,KpB2DO,SAACnf,EAAeiB,EAAYvD,EAAkBC,GAEjF,IAAMU,EAAS,CACdC,QAAS,CAAEC,cAAc,OAAD,OAAS5C,KAG5BuF,EAAUD,EAAWE,SAAS1E,MAAM,KAAK,GAE/CnB,EAAckD,IAAI,yCAAyCwB,EAAc,YAAYkB,EAAS7C,GAC7FP,MAAO,SAAAC,GAKPL,EAAiBuD,EAAYlD,EAAId,SAEjCiB,OAAO,SAAAtB,GAEP,IAAIuB,EAASxB,EAAWC,GAExBe,EAAgBQ,MoBzEdihB,CAAqB,EAAK3a,MAAM2S,kBAAmB+H,EAAc,EAAKH,8BAA+B,EAAKJ,8BAC1G,EAAKtb,SAAS,CACbwb,+BAAgC,SAUlC,EAAKxb,SAAS,KAz6BG,EA+6BnB+b,mBAAqB,SAAC5U,GACrB,IAAIyO,EAEJ,GAA+B,IAA3BzO,EAAY,YAIX,IAA+B,IAA3BA,EAAY,OAGpB,OAFA,EAAKtH,MAAM6H,SAASiM,GAAkB,oBAAqB,8BAC3D,EAAK9T,MAAM6P,aAAa,EAAK6L,mBAIM,IAA3BpU,EAAY,QAIe,IAA3BA,EAAY,QAIe,IAA3BA,EAAY,QAIZA,EAAY,OAIrB,EAAKtH,MAAM6H,SAASiM,GAAkB,4BAA6B,WACnEiC,EAAazO,EAAY,SACzB,EAAKnH,SAAS,CACbgc,8BAA+B,EAC/BC,6BAA8BrG,KAh9Bb,EAm9BnBsG,oBAAsB,SAACC,EAAkBxB,GAExC,EAAK9a,MAAM6H,SAASiM,GAAkB,4BAA6B,WAGnE,EAAK3T,SAAS,CAEboc,eAAgB,wBAA0B,EAAKjb,MAAM2S,kBAAoB,QAAU,EAAK3S,MAAMkb,oBAAoBxjB,WAClH2b,wBAAyB2H,EACzB5H,uBAAwBoG,EACxBrG,uBAAwB,EAAKnT,MAAMmb,oBACnCC,qBAAsB,EAAKpb,MAAM2S,kBAEjCkI,8BAA+B,KAh+Bd,EAm+BnBQ,wBAA0B,SAACX,GAI1B,IAAwC,IAAlC,EAAK1a,MAAM2S,kBAA2B,EpB/GV,SAACpW,EAAYid,EAAakB,EAAczhB,EAAkBC,GAE7F,IACMuD,EADW,IAAIqH,KAAK4W,EAAajW,WACZ/H,SAAS1E,MAAM,KAAK,GAEzC4B,EAAS,CACdC,QAAS,CAAEC,cAAc,OAAD,OAAS5C,KAGlCL,EAAckD,IAAI,mCAAmC0C,EAAQ,WAAWF,EAAW,SAASid,EAAa5f,GACxGP,MACA,SAAAC,GAOCL,EAAiBK,EAAId,KAAK,GAAIghB,MAE/B/f,OAAO,SAAAtB,GAEP,IAAIuB,EAASxB,EAAWC,GAExBe,EAAgBQ,MoB2Fd4hB,CAAqB,EAAKtb,MAAM2S,kBANhB,EAMgD+H,EAAc,EAAKK,oBAAqB,EAAKH,oBAC7G,EAAK/b,SAAS,CACbgc,8BAA+B,EAE/BK,oBAAoBR,EAEpBvH,4BAAuBvY,EACvBwY,4BAAuBxY,EACvByY,wBAAwB,OAn/BT,EA+/BnB+G,kBAAoB,aA//BD,EAmgCnBmB,kBAAoB,SAACvV,GACpB,IAAIyO,EAEJ,GAA+B,IAA3BzO,EAAY,YAIX,IAA+B,IAA3BA,EAAY,OAGpB,OAFA,EAAKtH,MAAM6H,SAASiM,GAAkB,oBAAqB,qBAC3D,EAAK9T,MAAM6P,aAAa,EAAKyK,aAIM,IAA3BhT,EAAY,QAIe,IAA3BA,EAAY,QAIe,IAA3BA,EAAY,QAIZA,EAAY,OAIrB,EAAKtH,MAAM6H,SAASiM,GAAkB,mBAAoB,WAC1DiC,EAAazO,EAAY,SACzB,EAAKnH,SAAS,CACb2c,wBAAyB,EACzBC,uBAAwBhH,KApiCP,EAuiCnBiH,mBAAqB,SAACC,GACrB,EAAKjd,MAAM6H,SAASiM,GAAkB,mBAAoB,WAE1D,EAAK3T,SAAS,CACbqU,QAASyI,EACTH,wBAAyB,KA5iCR,EAgjCnBI,kBAAoB,WACnB,IAAwC,IAAlC,EAAK5b,MAAM2S,kBAA2B,EpB7JX,SAACpX,EAAetC,EAAkBC,GAEpE,IAAMU,EAAS,CACdC,QAAS,CAAEC,cAAc,OAAD,OAAS5C,KAGlCL,EAAckD,IAAI,8BAA8BwB,EAAe3B,GAC9DP,MAAO,SAAAC,GAGHA,EAAId,KAAKyL,OAAS,EAIrBhL,EAAiBK,EAAId,KAAK,GAAT,YAIjBU,OAGDO,OAAO,SAAAtB,GAEP,IAAIuB,EAASxB,EAAWC,GAExBe,EAAgBQ,MoByIdmiB,CAAoB,EAAK7b,MAAM2S,kBAAmB,EAAK+I,mBAAoB,EAAKH,mBAChF,EAAK1c,SAAS,CACb2c,wBAAyB,MAxjCV,EAqkCnBM,2BAA6B,SAACC,GAG7B,GAAiC,IAA7BA,EAAa,YAIZ,IAAgC,IAA5BA,EAAa,OAGrB,OAFA,EAAKrd,MAAM6H,SAASiM,GAAkB,oBAAqB,2BAC3D,EAAK9T,MAAM6P,aAAa,EAAKyN,qBAIrBD,EAAa,OAItB,EAAKrd,MAAM6H,SAASiM,GAAkB,yBAA0B,WAChE,EAAK3T,SAAS,CACbod,kBAAmB,EACnBC,iBAAkBH,EAAa,YAzlCd,EA4lCnBI,4BAA8B,SAACC,GAG3BA,EAAcnY,OAAS,GACzB,EAAKvF,MAAMkU,uBAAuB,GAGnC,EAAKlU,MAAM6H,SAASiM,GAAkB,yBAA0BrH,OAAOiR,EAAcnY,SACrF,EAAKpF,SAAS,CACbwd,sBAAuBD,EACvBH,kBAAmB,KAtmCF,EAymCnBD,oBAAsB,WACrB,IAAwC,IAAlC,EAAKtd,MAAMiU,kBAA2B,EpBwcR,SAACpW,EAAYtD,EAAkBC,GACpE,IAAMU,EAAS,CACdC,QAAS,CAAEC,cAAc,OAAD,OAAS5C,KAGlCL,EAAckD,IAAI,oCAAoCwC,EAAY3C,GACjEP,MACA,SAAAC,GACCL,EAAiBK,EAAId,SAEtBiB,OAAO,SAAAtB,GAEP,IAAIuB,EAASxB,EAAWC,GAExBe,EAAgBQ,MoBldd4iB,CAAwB,EAAKtc,MAAM2S,kBAAmB,EAAKwJ,4BAA6B,EAAKL,4BAC7F,EAAKjd,SAAS,CACbod,kBAAmB,SAQrB,EAAKvd,MAAMuI,QAAQtO,KAAK,EAAK+F,MAAMwI,gBAxnClB,EA4nCnB8R,YAAc,WAGb,EAAK/F,mBAEL,EAAK2I,oBACL,EAAKvC,uBACL,EAAKW,iCACL,EAAKgC,uBApoCa,EAsoCnBpD,sBAAwB,SAAC2D,GACxB,EAAK7d,MAAMkU,wBAAwB,GAGnC,IAAI4J,EAAaD,EAAYE,KAAK/D,QAAQ,IAAM,EAC5CgE,EAAcH,EAAYE,KAAK/D,QAAQ,IAAM,EAC7C8D,GACH,EAAK9d,MAAMkU,uBAAuB,GAClC,EAAKlU,MAAMkU,uBAAuB,IAE1B8J,GACR,EAAKhe,MAAMkU,uBAAuB,GAInC5O,GAAkB,EAAKtF,MAAMsR,YAAY,kBAAmBuM,EAAa,GAGrEC,GAAcE,GAEjB,EAAK7d,SAAS,CACbsc,oBAAqBoB,EAAYld,KACjCsT,kBAAmB4J,EAAYngB,GAC/BugB,qBAAsBJ,EAAYE,MAChC,EAAKzD,aAER,EAAKta,MAAMke,sBAAsBL,EAAYld,OAI7C,EAAKR,SAAS,CACbge,sBAAqB,KArqCL,EA2qCnBC,oBAAsB,SAACxX,GACtB,EAAKzG,SAAS,CACbke,sBAAsBzX,EAAM0X,cAAcvX,SA7qCzB,EAgrCnBwX,oBAAsB,SAAC3X,GACtB,EAAKzG,SAAS,CACbqe,sBAAsB5X,EAAM0X,cAAcvX,SAlrCzB,EAqrCnB0X,iBAAmB,SAAC7X,GACnB,EAAKzG,SAAS,CACbue,mBAAmB9X,EAAM0X,cAAcvX,SAvrCtB,EA4rCnB4X,WAAa,WACZ,EAAK3Z,YA3rCC,EAAK1D,MAAQ,CAElBsd,YAAa,IAAIxZ,KAGjBgT,kBAAkB,GAClBC,sBAAuB,GAEvBmE,oBAAqB,IAAIpX,KACzByZ,uBAAwB,IAAIzZ,KAG5BoP,QAAS,GAGTkK,mBAAmB,MACnBL,sBAAsB,OACtBG,sBAAsB,UAEtBjC,eAAgB,kDAGhBtI,mBAAmB,EACnBwI,oBAAoB,OAGpBhI,4BAAuBvY,EACvBwY,4BAAuBxY,EACvByY,wBAAyB,GACzBC,yBAAyB,GAGzBC,oBAAoB,EACpBC,uBAAwB,GACxBC,6BAA6B,GAE7B4I,sBAAuB,GACvBJ,kBAAmB,EACnBC,iBAAkB,GAElBsB,sCAAiC5iB,EAEjC0d,sBAAuB,GAEvB7C,sBAAuB,EACvBC,qBAAsB,GAEtBc,sBAAuB,EACvBC,qBAAsB,GAEtByB,6BAA8B,EAC9BC,4BAA6B,GAE7Bc,2BAA4B,EAC5BC,0BAA2B,GAC3BU,qCAAsC,EACtCC,oCAAqC,GACrC2B,wBAAyB,EACzBC,uBAAwB,GAExBpB,+BAAgC,EAChCC,8BAA+B,GAC/BO,8BAA+B,EAC/BC,6BAA8B,GAE9B+B,sBAAsB,EAEtBY,wBAAyB,GACzBnI,oBAAqB,GACrBJ,qBAAsB,GACtBC,wBAAyB,EAEzB4C,qBAAsB,GACtBH,wBAAyB,GACzBD,yBAA0B,EAE1BtB,kBAAmB,GACnBJ,uBAAwB,GACxBC,sBAAuB,EAEvBpB,aAAc,GACdJ,iBAAkB,GAClBC,iBAAkB,EAElBd,cAAc,GAEf,EAAKf,mBAAgBlY,EAxFH,E,0CAksCnB,WAAU,IAAD,OAEJsS,EAAqD,IAAvChN,KAAKF,MAAMmV,yBAAsE,IAArCjV,KAAKF,MAAMyV,uBAAoE,IAArCvV,KAAKF,MAAMwW,uBAA2E,IAA5CtW,KAAKF,MAAMkY,6BAE7J,OACC,sBAAK/X,UAAU,eAAf,UAEE+M,GAAe,cAAC,GAAD,IAEhB,sBAAK/M,UAAU,kBAAf,WAEG+M,GAEF,eAAC,IAAD,WACC,cAAC,IAAD,CAAOwQ,KAAMxd,KAAKxB,MAAMif,MAAMC,IAAKC,OAAK,EAACC,UAAW,kBAAM,cAAC,GAAD,CACxDC,WAAY,EAAKrf,MAAMif,MAAMC,IAAI,yBACjCI,cAAe,EAAKtf,MAAMif,MAAMC,IAAI,6BAEpCtI,oBAAqB,EAAKtV,MAAMsV,oBAEhCgD,sBAAuB,EAAKtY,MAAMsY,sBAElCP,qBAAsB,EAAK/X,MAAM+X,qBACjCjB,kBAAmB,EAAK9W,MAAM8W,kBAC9BC,sBAAuB,EAAK/W,MAAM+W,sBAElCsG,WAAY,EAAKA,gBAGnB,cAAC,IAAD,CAAOK,KAAMxd,KAAKxB,MAAMif,MAAMC,IAAI,YAAaE,UAAW,kBAAM,cAAC,GAAD,CAE9DG,YAAa,EAAKvf,MAAMuf,YAExB/J,cAAe,EAAKA,cAEpBoJ,YAAa,EAAKtd,MAAMsd,YAExB/O,aAAc,EAAK7P,MAAM6P,aACzByB,YAAa,EAAKtR,MAAMsR,YAExBkO,gBAAiB,EAAKlK,cACtBqC,kBAAqB,EAAKrW,MAAMqW,kBAEhC0B,qBAAsB,EAAK/X,MAAM+X,qBACjCjB,kBAAmB,EAAK9W,MAAM8W,kBAC9BC,sBAAuB,EAAK/W,MAAM+W,sBAElCyG,iCAAkC,EAAKxd,MAAMwd,iCAE7C/d,YAAa,EAAKf,MAAMe,YACxB0e,iBAAkB,EAAKzf,MAAMyf,iBAE7B7F,sBAAuB,EAAKtY,MAAMsY,sBAElChD,oBAAqB,EAAKtV,MAAMsV,oBAChCJ,qBAAsB,EAAKlV,MAAMkV,qBAEjCJ,aAAc,EAAK9U,MAAM8U,aAEzBvO,SAAU,EAAK7H,MAAM6H,cAGvB,cAAC,IAAD,CAAOmX,KAAMxd,KAAKxB,MAAMif,MAAMC,IAAI,eAAgBE,UAAW,kBAAM,cAAC,GAAD,CAEjEvP,aAAc,EAAK7P,MAAM6P,aACzBmF,gBAAiB,EAAK1T,MAAM6T,aAC5B7D,YAAa,EAAKtR,MAAMsR,YAExBoO,eAAgB,EAAK1f,MAAM0f,eAC3B9F,sBAAuB,EAAKtY,MAAMsY,sBAClC+F,yBAA0B,EAAKA,yBAE/Bf,YAAa,EAAKtd,MAAMsd,YAExBnC,oBAAqB,EAAKnb,MAAMmb,oBAChCvC,sBAAuB,EAAKA,sBAE5BjG,kBAAmB,EAAK3S,MAAM2S,kBAE9BuI,oBAAqB,EAAKlb,MAAMkb,oBAEhCmB,sBAAyB,EAAKrc,MAAMqc,sBAEpC5I,6BAA8B,EAAKzT,MAAMyT,6BAEzCF,mBAAoB,EAAKvT,MAAMuT,mBAC/BC,uBAAwB,EAAKxT,MAAMwT,uBACnCiH,yBAA0B,EAAKA,yBAE/BvH,QAAS,EAAKlT,MAAMkT,QAEpBC,uBAAwB,EAAKnT,MAAMmT,uBACnCC,uBAAwB,EAAKpT,MAAMoT,uBAEnCE,yBAA0B,EAAKtT,MAAMsT,yBAErC2H,eAAgB,EAAKjb,MAAMib,eAC3B5H,wBAAyB,EAAKrT,MAAMqT,wBACpC+J,mBAAoB,EAAKpd,MAAMod,mBAC/BL,sBAAuB,EAAK/c,MAAM+c,sBAClCG,sBAAuB,EAAKld,MAAMkd,sBAElCJ,oBAAqB,EAAKA,oBAC1BG,oBAAqB,EAAKA,oBAC1BE,iBAAkB,EAAKA,iBACvBmB,sBAAuB,EAAKA,sBAE5BjF,qBAAsB,EAAKA,qBAC3BgC,wBAAyB,EAAKA,wBAE9B6C,gBAAiB,EAAKtK,qBAEtBnU,YAAa,EAAKf,MAAMe,YACxB8e,oBAAqB,EAAK7f,MAAM6f,oBAEhC1B,qBAAsB,EAAK7c,MAAM6c,qBACjC5D,2BAA4B,EAAKjZ,MAAMiZ,2BACvCC,0BAA2B,EAAKlZ,MAAMkZ,0BAEtCU,qCAAsC,EAAK5Z,MAAM4Z,qCACjDC,oCAAqC,EAAK7Z,MAAM6Z,oCAEhD2B,wBAAyB,EAAKxb,MAAMwb,wBACpCC,uBAAwB,EAAKzb,MAAMyb,uBAEnCpB,+BAAgC,EAAKra,MAAMqa,+BAC3CC,8BAA+B,EAAKta,MAAMsa,8BAE1CO,8BAA+B,EAAK7a,MAAM6a,8BAC1CC,6BAA8B,EAAK9a,MAAM8a,6BAEzCmB,kBAAmB,EAAKjc,MAAMic,kBAC9BC,iBAAkB,EAAKlc,MAAMkc,iBAE7BpH,aAAc,EAAK9U,MAAM8U,aAEzBvO,SAAU,EAAK7H,MAAM6H,iBAOxB,qBAAKpG,UAAU,YAAf,SACC,qBAAKA,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SAEC,eAAC8H,EAAA,EAAD,CAAOC,KAAMgF,EAAa7J,QAAQ,UAAlC,UACC,cAAC4E,EAAA,EAAME,QAAP,sBACA,uBACA,sDAGA,0C,GA71CkB7H,IAAMC,WAy2ClB6H,eAAWqK,IC34CpB+L,ICFiBle,IAAMC,UDEJ,SAACke,EAAeC,EAAUC,EAAuBC,EAAoBC,GAC7F,IAAIC,GAAa,EAEbC,EAAeN,EAAa,GAKhC,QAA8B7jB,IAA1B+jB,QACoC/jB,IAAnC+jB,EAAqB,OACpBI,KAAgBJ,EAAqB,MACxC,IAAK,IAAIK,KAAKL,EAAqB,MAAUI,GAE5C,GAAwD,OAApDJ,EAAqB,MAAUI,GAAcC,IAG5CN,IAAaC,EAAqB,MAAUI,GAAcC,GAA7C,WAA+D,CAChFF,GAAa,EACb,MAML,QAA2BlkB,IAAvBgkB,QACiChkB,IAAhCgkB,EAAkB,OACjBG,KAAgBH,EAAkB,MACrC,IAAK,IAAII,KAAKJ,EAAkB,MAAUG,GACzC,GAAqD,OAAjDH,EAAkB,MAAUG,GAAcC,IAGzCN,IAAaE,EAAkB,MAAUG,GAAcC,GAA1C,WAA4D,CAC7EF,GAAa,EACb,MAML,QAA+BlkB,IAA3BikB,QACqCjkB,IAApCikB,EAAsB,OACrBE,KAAgBF,EAAsB,MACzC,IAAK,IAAIG,KAAKH,EAAsB,MAAUE,GAE7C,GAAyD,OAArDF,EAAsB,MAAUE,GAAcC,IAG7CN,IAAaG,EAAsB,MAAUE,GAAcC,GAA9C,WAAgE,CACjFF,GAAa,EACb,MAML,OAAOA,IAwJO1W,gBArJM,SAAC1J,GAErB,IAAIugB,EAAgB,EACpB,IAAK,IAAI3R,KAAS5O,EAAM4W,oBAEvB,QAAyC1a,IAArC8D,EAAM4W,oBAAoBhI,GAAsB,CAGnD,IAAI4R,EAAY,MAMhB,IAAK,IAAIC,KALJzgB,EAAM4W,oBAAoBhI,GAA1B,WAEJ4R,EAAYxgB,EAAM4W,oBAAoBhI,GAA1B,WAGM5O,EAAM4W,oBAAoBhI,GAA1B,UAA+C,CACjE,IAAIoR,EAAWhgB,EAAM4W,oBAAoBhI,GAA1B,UAA8C6R,GAA9C,WAGFX,GAAiBU,EAAWR,EAAUhgB,EAAMqZ,qBAAsBrZ,EAAMoY,kBAAmBpY,EAAMqY,wBAE7GkI,KAMJ,IAAIG,EAAqB,EAKzB,IAAK,IAAI7gB,KAASG,EAAM4Z,sBACvB,IAAK,IAAI+G,KAAa3gB,EAAM4Z,sBAAsB/Z,GAA5B,KACrB,GAA8D,IAA1DG,EAAM4Z,sBAAsB/Z,GAA5B,KAA2C8gB,IAA8E,IAA1D3gB,EAAM4Z,sBAAsB/Z,GAA5B,KAA2C8gB,GAAkB,CAC/HD,IACA,MAOH,IAAIrP,EACH,gCACC,sBAAK5P,UAAU,kBAAf,UACC,4BAAI8e,IADL,6BAGA,cAAC,IAAD,CAAM9e,UAAU,4BAA4BC,GAAI1B,EAAMqf,WAAtD,oCAQEuB,EAAkB,yCAErBA,EADGF,EAAqB,EAEvB,gCACC,sBAAKjf,UAAU,kBAAf,UACC,4BAAIif,IADL,yBAGA,cAAC,IAAD,CAAMjf,UAAU,4BAA4BC,GAAI1B,EAAMsf,cAAtD,uCAQD,qBAAK7d,UAAU,kBAAf,+BASF,OACC,qBAAKA,UAAU,cAAf,SACC,sBAAKA,UAAU,YAAf,UAGC,sBAAKA,UAAU,OAAf,UACC,qBAAKA,UAAU,WAAf,SACC,qBAAKA,UAAU,UAAf,SACC,qBAAKA,UAAU,cAAf,SACC,qBAAKA,UAAU,cAAf,SACC,mDAQJ,sBAAKA,UAAU,WAAf,UACC,qBAAKA,UAAU,UAAf,SAEC,qBAAKA,UAAU,cAAf,SACC,qBAAKA,UAAU,YAAf,SACE4P,QAMJ,qBAAK5P,UAAU,UAAf,SAEC,qBAAKA,UAAU,cAAf,SACC,qBAAKA,UAAU,YAAf,SACEmf,WAOL,qBAAKnf,UAAU,WAAf,SACC,qBAAKA,UAAU,UAAf,SACC,qBAAKA,UAAU,cAAf,SACC,qBAAKA,UAAU,YAAf,SACC,6BACC,4BACC,wBAAQA,UAAU,kBAAkB8M,QAASvO,EAAM2e,WAAnD,0CAhDI,U,SEtITkC,G,kDAEL,WAAY7gB,GAAQ,IAAD,8BACZ,cAAMA,IACPsB,MAAQ,CACZwf,OAAQ,GAHS,E,0CAOnB,WAEC,IAAIC,EAAY,GACZC,EAAY,GAEZxf,KAAKxB,MAAMihB,YAAc,IAC5BF,EAAY,YAGTvf,KAAKxB,MAAMihB,YAAczf,KAAKxB,MAAMkhB,YAAY1f,KAAKxB,MAAMmhB,WAAW,IACzEH,EAAY,YAIb,IADA,IAAII,EAAgB,GACXd,GAAK9e,KAAKF,MAAMwf,OAAQR,GAAK9e,KAAKF,MAAMwf,OAAQR,IAAK,CAC7D,IAAIe,EAAU,GAEVC,EAAOhB,EAAE9e,KAAKxB,MAAMihB,WACpBK,EAAO,GAAKA,GAAQ9f,KAAKxB,MAAMkhB,YAAY1f,KAAKxB,MAAMmhB,aAIhD,IAANb,IACHe,EAAU,WAGXD,EAAcnnB,KACb,wBAAgBwH,UAAW,2BAA6B4f,EAASta,MAAOua,EAAM/S,QAAS/M,KAAKxB,MAAMuhB,YAAlG,SACED,GADWhB,KAMf,OACC,qBAAK7e,UAAY,YAAjB,SACC,qBAAKA,UAAY,YAAjB,SACC,qBAAKA,UAAU,MAAf,SACC,sBAAKA,UAAU,MAAf,UACC,wBAAQA,UAAW,2BAA6Bsf,EAAWha,MAAM,MAAMwH,QAAS/M,KAAKxB,MAAMwhB,eAA3F,kBAICJ,EAED,wBAAQ3f,UAAW,2BAA6Buf,EAAWja,MAAM,MAAMwH,QAAS/M,KAAKxB,MAAMwhB,eAA3F,+B,GArDiB5f,IAAMC,WAgExB4f,GAAS,CACbC,OAAQ,CACNC,OAAQ,iBACRC,UAAW,MACdC,UAAW,SAKNC,G,kDACL,aAAe,IAAD,8BACb,gBACKC,SAAW,SAACC,GAEhBA,EAAErZ,iBACF,EAAK3I,MAAM+hB,SAAS,EAAK/hB,MAAMiiB,QALnB,E,0CASd,WACC,IAAIxgB,EAAY,0BAKhB,OAJID,KAAKxB,MAAMkiB,SACdzgB,GAAa,WAIb,wBAAQA,UAAWA,EAAW0gB,YAAa3gB,KAAKugB,SAAhD,SACEvgB,KAAKxB,MAAMzB,Y,GAlBUqD,IAAMC,WAwB1BugB,GAAc,CACnB,CAAC7jB,MAAO,KAAM0jB,MAAO,cACrB,CAAC1jB,MAAO,KAAM0jB,MAAO,cACrB,CAAC1jB,MAAO,KAAM0jB,MAAO,gBACrB,CAAC1jB,MAAO,KAAM0jB,MAAO,eACrB,CAAC1jB,MAAO,KAAM0jB,MAAO,eACrB,CAAC1jB,MAAO,KAAM0jB,MAAO,cAErB,CAAC1jB,MAAO,KAAM0jB,MAAO,uBACrB,CAAC1jB,MAAO,KAAM0jB,MAAO,sBAIhBI,GAAqB,SAACriB,GAC3B,IAAOsiB,EAAetiB,EAAfsiB,YACDC,EAAYD,EAAYE,eACxBC,EAAYH,EACfI,oBACAC,eAAeJ,EAAUK,eACzBC,UAEH,OACC,qBAAKphB,UAAU,sBAAf,SACE2gB,GAAYU,KAAI,SAAC5Z,GAAD,OAChB,cAAC,GAAD,CAECgZ,OAAQhZ,EAAK+Y,QAAUQ,EACvBlkB,MAAO2K,EAAK3K,MACZwjB,SAAU/hB,EAAM+hB,SAChBE,MAAO/Y,EAAK+Y,OAJP/Y,EAAK3K,aAWTwkB,GAAgB,CACrB,CAACxkB,MAAO,OAAQ0jB,MAAO,QACvB,CAAC1jB,MAAO,SAAU0jB,MAAO,UACzB,CAAC1jB,MAAO,YAAa0jB,MAAO,cAIvBe,GAAsB,SAAChjB,GAC5B,IAAMijB,EAAejjB,EAAMsiB,YAAYY,wBAEvC,OACC,qBAAKzhB,UAAU,sBAAf,SACEshB,GAAcD,KAAI,SAAC5Z,GAAD,OAClB,cAAC,GAAD,CAECgZ,OAAQe,EAAaE,IAAIja,EAAK+Y,OAC9B1jB,MAAO2K,EAAK3K,MACZwjB,SAAU/hB,EAAM+hB,SAChBE,MAAO/Y,EAAK+Y,OAJP/Y,EAAK3K,aAYT6kB,G,kDAEL,WAAYpjB,GAAQ,IAAD,8BACZ,cAAMA,IAabqjB,kBAAoB,WAEnB,IAAIC,EAAkB,GAGtB,IAAK,IAAIzjB,KAAS,EAAKG,MAAM4Z,sBAAuB,CAEnD,IAAI2J,GAAY,EAChB,IAAK,IAAIC,KAAa,EAAKxjB,MAAM4Z,sBAAsB/Z,GAAjC,KAC8C,IAA/D,EAAKG,MAAM4Z,sBAAsB/Z,GAAjC,KAAgD2jB,KAGnDD,EAAW,GAITA,GAAY,GAAKA,EAAW,GAC/BD,EAAgBrpB,KAAM,EAAK+F,MAAM4Z,sBAAsB/Z,IAIzD,OAAOyjB,GAnCW,EAwCnBG,gBAAkB,SAAChB,GAClB,EAAKziB,MAAMmJ,SACVua,aAAUD,gBACT,EAAKzjB,MAAMsiB,YACXG,KA5CgB,EAiDnBkB,kBAAoB,SAACC,GACpB,EAAK5jB,MAAMmJ,SACDua,aAAUC,kBAClB,EAAK3jB,MAAMsiB,YACXsB,KArDgB,EA0DnBC,iBAAmB,SAACC,EAASxB,GAC5B,IAAM1U,EAAW8V,aAAUG,iBAAiBvB,EAAawB,GAEzD,OAAIlW,GACH,EAAK5N,MAAMmJ,SAASyE,GACb,WAGD,eAlEW,EAqEnBmW,aAAe,SAACnd,GAEf,IAAIod,EAAUvX,OAAO7F,EAAME,OAAOC,OAGlC,EAAK5G,SAAS,CACb8jB,QAASD,KA3EQ,EA8EnBE,iBAAmB,SAACtd,GAEnB,IAAIod,EAAUvX,OAAO,EAAKnL,MAAM2iB,SAEhC,GAA2B,QAAvBrd,EAAME,OAAOC,OAGhB,IAFAid,GAAoB,GAEN,EAAK1iB,MAAM6iB,QAAQ5e,OAAO,EAAKjE,MAAM6f,WAClD,YAGG,GAA2B,QAAvBva,EAAME,OAAOC,QACrBid,GAAoB,GAEN,EACb,OAIF,EAAK7jB,SAAS,CACb8jB,QAASD,KAlGQ,EAsGnBI,WAAa,SAACxd,GACb,EAAK5G,MAAMqkB,sBAAsB5X,OAAO7F,EAAME,OAAOC,SArG/C,EAAKzF,MAAQ,CAClB2iB,QAAQ,EACR9C,WAAW,EAEXmD,eAAe,EAEfH,QAAS,EAAKd,qBAGf,EAAKkB,QAAU,kBAAM,EAAKC,KAAK9C,OAAO+C,SAXpB,E,0CA0GnB,WAGC,IAAIC,EAAsB,GAEtBC,EAAuB,oBACvBC,EAAgB,EAEpB,IAAK,IAAI/kB,KAAS2B,KAAKxB,MAAM4Z,sBACxBpY,KAAKxB,MAAMiU,oBAAsBzS,KAAKxB,MAAM4Z,sBAAsB/Z,GAAjC,KACpC8kB,EAAuBnjB,KAAKxB,MAAM4Z,sBAAsB/Z,GAAjC,KAEnB2B,KAAKxB,MAAM4Z,sBAAsB/Z,GAAjC,KAAgDma,QAAQ,KAC3D4K,EAAgB,IAKnB,IAAK,IAAI/kB,EAAQ,EAAGA,EAAQ2B,KAAKF,MAAM6f,WAAYthB,IAAS,CAE3D,IAAIglB,EAAgBhlB,EAAQ2B,KAAKF,MAAM2iB,QAAQziB,KAAKF,MAAM6f,WACtD0D,EAAgBrjB,KAAKF,MAAM6iB,QAAQ5e,QAAUsf,EAAgB,QAGvB3oB,IAAtCsF,KAAKF,MAAM6iB,QAAQU,IAIvBH,EAAoBzqB,KACnB,qBAAIwH,UAAU,oEAAd,UACE,qBAAKA,UAAU,MAAf,SACED,KAAKF,MAAM6iB,QAAQU,GAAnB,WAEF,qBAAKpjB,UAAU,QAAf,SACC,wBAAQA,UAAU,kBAAkBsF,MAAOvF,KAAKF,MAAM6iB,QAAQU,GAAnB,GAAyCtW,QAAS/M,KAAK4iB,WAAlG,yBALoFvkB,IAatD,IAA/B6kB,EAAoBnf,QACvBmf,EAAoBzqB,KACnB,qBAAKwH,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,uFADwB,MAQ3B,IAAIqjB,EAAiB,OAEpBA,GADGF,EAAgB,EACD,cAGA,aAGnB,IAAIG,EAAqB,IACY,IAAjCvjB,KAAKxB,MAAMglB,oBACdD,EAAoB,cAGrB,IAGIE,EAAiD,IAApCzjB,KAAKxB,MAAMklB,qBACxB9U,EAAkD,IAApC5O,KAAKxB,MAAMklB,qBACzBzW,EAAgD,IAApCjN,KAAKxB,MAAMklB,qBAEvBC,EAAa,GACjB,IAAK,IAAItlB,KAAS2B,KAAKxB,MAAMolB,iBAC5BD,EAAWlrB,KACVuH,KAAKxB,MAAMolB,iBAAiBvlB,GAA5B,MASF,OAN0B,IAAtBslB,EAAW5f,QACd4f,EAAWlrB,KACV,YAKD,qBAAKwH,UAAU,WAAf,SACC,sBAAKA,UAAU,kBAAf,UAEC,qBAAKA,UAAU,WAAf,SACC,qBAAKA,UAAU,MAAf,SACC,sBAAKA,UAAU,cAAf,UACC,qBAAKA,UAAU,cAAf,SACC,qBAAKA,UAAU,MAAf,SACC,qBAAKA,UAAU,WAAf,SACC,qBAAKA,UAAWsjB,EAAhB,SACC,6BAAI,0EAKR,sBAAKtjB,UAAU,YAAf,UAEC,qBAAKA,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,oBAAIA,UAAU,aAAd,SACEijB,QAKJ,cAAC,GAAD,CACCzD,WAAYzf,KAAKF,MAAM2iB,QAEvBzC,eAAgBhgB,KAAK0iB,iBACrB3C,YAAa/f,KAAKuiB,aAElB7C,YAAa1f,KAAKF,MAAM6iB,QAAQ5e,OAChC4b,WAAY3f,KAAKF,MAAM6f,uBAO5B,qBAAK1f,UAAU,WAAf,SACC,qBAAKA,UAAU,MAAf,SACC,sBAAKA,UAAU,cAAf,UACC,sBAAKA,UAAU,cAAf,UACC,6BAAI,0DACJ,qBAAKA,UAAU,MAAf,SACC,qBAAKA,UAAU,WAAf,SACC,qBAAKA,UAAWsjB,EAAhB,SACC,6BAAI,4BAAIJ,eAKZ,sBAAKljB,UAAU,YAAf,UAEC,qBAAKA,UAAU,MAAf,SACC,sBAAKA,UAAU,MAAf,UACC,cAAC,GAAD,CACC6gB,YAAa9gB,KAAKxB,MAAMsiB,YACxBP,SAAUvgB,KAAKiiB,kBAEhB,cAAC,GAAD,CACCnB,YAAa9gB,KAAKxB,MAAMsiB,YACxBP,SAAUvgB,KAAKmiB,yBAKlB,sBAAKliB,UAAU,MAAf,UACC,qBAAKA,UAAU,UAEf,qBAAKA,UAAU,MAAM8M,QAAS/M,KAAK+iB,QAAnC,SACC,qBAAK7mB,GAAG,aAAR,SACC,qBAAKukB,MAAOR,GAAOC,OAAnB,SACC,cAAC,UAAD,CAECY,YAAa9gB,KAAKxB,MAAMsiB,YACxBnZ,SAAU3H,KAAKxB,MAAMmJ,SACrB0a,iBAAkBriB,KAAKqiB,iBAEvBwB,YAAY,EACZjc,YApGM,GAsGNkc,IAAI,iBAKR,qBAAK7jB,UAAU,aAIhB,qBAAKA,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,wBAAQA,UAAWqjB,EAAgB3C,YAAa3gB,KAAKxB,MAAMulB,aAA3D,6CAaN,eAAChc,EAAA,EAAD,CAAOC,KAAMyb,EAAYtgB,QAAQ,UAAjC,UACC,cAAC4E,EAAA,EAAME,QAAP,sBACA,uBACA,+DAGA,0BAGD,eAACF,EAAA,EAAD,CAAOC,KAAM4G,EAAazL,QAAQ,UAAlC,UACC,cAAC4E,EAAA,EAAME,QAAP,uBACA,uBACA,mEAGA,0BAGD,eAACF,EAAA,EAAD,CAAOC,KAAMiF,EAAW9J,QAAQ,SAAhC,UACC,cAAC4E,EAAA,EAAME,QAAP,qBACA,uBACA,4BACE0b,IAEF,mC,GAnUuBvjB,IAAMC,WA4UpB6H,eAAW0Z,IC5epBvP,GAAgB,eAGhB2R,G,kDAEL,WAAYxlB,GAAQ,IAAD,8BAClB,cAAMA,IAiBPylB,UAAY,WACX,IAAIC,EAAe,GACnB,IAAK,IAAI7lB,KAAS,EAAKG,MAAM4Z,sBAExB,EAAK5Z,MAAM4Z,sBAAsB/Z,GAAjC,KAAgDma,QAAQ,IAAM,GACjE0L,EAAazrB,KAAK,EAAK+F,MAAM4Z,sBAAsB/Z,IAGrD,OAAO6lB,GA1BW,EA6BnBC,UAAY,WACX,IAAIC,EAAc,GAClB,IAAK,IAAI/lB,KAAS,EAAKG,MAAM4Z,sBAExB,EAAK5Z,MAAM4Z,sBAAsB/Z,GAAjC,KAAgDma,QAAQ,IAAM,GACjE4L,EAAY3rB,KAAK,EAAK+F,MAAM4Z,sBAAsB/Z,IAGpD,OAAO+lB,GArCW,EAwCnBC,UAAY,WACX,IAAIC,EAAc,GAClB,IAAK,IAAIjmB,KAAS,EAAKG,MAAM4Z,sBAExB,EAAK5Z,MAAM4Z,sBAAsB/Z,GAAjC,KAAgDma,QAAQ,IAAM,GACjE8L,EAAY7rB,KAAK,EAAK+F,MAAM4Z,sBAAsB/Z,IAGpD,OAAOimB,GAhDW,EAmDnBC,SAAW,WACV,IAAIC,EAAa,GACjB,IAAK,IAAInmB,KAAS,EAAKG,MAAM4Z,sBAExB,EAAK5Z,MAAM4Z,sBAAsB/Z,GAAjC,KAAgDma,QAAQ,IAAM,GACjEgM,EAAW/rB,KAAK,EAAK+F,MAAM4Z,sBAAsB/Z,IAGnD,OAAOmmB,GA3DW,EA8DnBC,eAAiB,SAACrf,GAEjB,IAAIsf,EAAazZ,OAAO7F,EAAME,OAAOC,OAEjCof,EAAe,WAIfC,EAAU,GACVC,EAAU,GACVC,EAAU,GACd,OAAO1f,EAAME,OAAOnG,MACnB,IAAK,MACJylB,EAAQnsB,KAAM,EAAKqH,MAAM0kB,WAAWE,GAAtB,IACdC,EAAe,EAAK7kB,MAAM0kB,WAAWE,GAAtB,SACf,MACD,IAAK,MACJG,EAAQpsB,KAAM,EAAKqH,MAAMskB,YAAYM,GAAvB,IACdC,EAAe,EAAK7kB,MAAMskB,YAAYM,GAAvB,SACf,MACD,IAAK,SACJG,EAAQpsB,KAAM,EAAKqH,MAAMokB,aAAaQ,GAAxB,IACdC,EAAe,EAAK7kB,MAAMokB,aAAaQ,GAAxB,SACf,MACD,IAAK,MACJI,EAAQrsB,KAAM,EAAKqH,MAAMskB,YAAYM,GAAvB,IACdC,EAAe,EAAK7kB,MAAMskB,YAAYM,GAAvB,SACf,MACD,QACCrrB,QAAQC,IAAI,mCAGd,EAAKqF,SAAS,CACbomB,WAAYH,EACZI,SAAUH,EACVI,SAAUH,EAEVH,aAAcA,KAnGG,EAuGnBO,WAAa,SAACpf,GACb,IAAIyO,EACJ,GAA+B,IAA3BzO,EAAY,YAIX,IAA+B,IAA3BA,EAAY,OAGpB,OAFA,EAAKtH,MAAM6H,SAASgM,GAAe,oBAAqB,6BACxD,EAAK7T,MAAM6P,aAAa,EAAK8W,eAIM,IAA3Brf,EAAY,QAIe,IAA3BA,EAAY,QAIe,IAA3BA,EAAY,QAIZA,EAAY,OAIrB,EAAKtH,MAAM6H,SAASgM,GAAe,eAAgB,WACnDkC,EAAazO,EAAY,SACzB,EAAKnH,SAAS,CACbymB,iBAAkB7Q,EAClB8Q,kBAAmB,KAvIF,EA0InBC,WAAa,SAAC/Z,GAIb,EAAK/M,MAAM6H,SAASgM,GAAe,eAAgB,WAGnD,EAAK7T,MAAM+mB,iBACX,EAAK5mB,SAAS,CACb0mB,kBAAmB,KAnJF,EAsJnBF,YAAc,YxB6/BoB,SAAC5pB,EAASxC,EAAkBC,GAE9D,IAAMU,EAAS,CACdC,QAAS,CAAEC,cAAc,OAAD,OAAS5C,KAO5BsB,EAAOiD,EAEb5E,EAAcuE,IAAI,2BAA4B5C,EAAMoB,GACnDP,MAAO,SAAAC,GAIP,IAAI+B,EAAW/B,EAAId,KAEnBS,EAAiBoC,MAEjB5B,OAAO,SAAAtB,GAEP,IAAIuB,EAASxB,EAAWC,GAExBe,EAAgBQ,MwB7gChBgsB,CARe,CAGd,SAAW,EAAK1lB,MAAMmlB,SACtB,UAAY,EAAKnlB,MAAMklB,SACvB,WAAa,EAAKllB,MAAMilB,YAGO,EAAKO,WAAY,EAAKJ,YAEtD,EAAKvmB,SAAS,CACbomB,WAAY,GACZC,SAAU,GACVC,SAAU,GAEVN,aAAc,WACdU,kBAAmB,KArKpB,EAAKvlB,MAAQ,CACZmlB,SAAS,GACTD,SAAU,GACVD,WAAY,GAEZb,aAAc,EAAKD,YACnBG,YAAa,EAAKD,YAClBG,YAAa,EAAKD,YAClBG,WAAY,EAAKD,WAEjBI,aAAc,WACdU,kBAAmB,EACnBD,iBAAkB,IAdD,E,0CA2KnB,WAEC,IAAIK,EAAmB,GACvB,IAAK,IAAI3G,KAAK9e,KAAKF,MAAMokB,aAAc,CAEtC,IAAIwB,EAAgB,MAChBC,EAAc,eAEdtnB,EAAQ2B,KAAKF,MAAMwkB,YAAY9L,QAAQxY,KAAKF,MAAMokB,aAAapF,IAC/DzgB,GAAS,IACZqnB,EAAgB,KAChBC,EAAc,iBAGf,IAAIC,EAAQ,IAEZvnB,EAAQ2B,KAAKF,MAAMklB,SAASxM,QAAQxY,KAAKF,MAAMokB,aAAapF,GAAxB,MACvB,IACZ8G,EAAQ,eAGTvnB,EAAQ2B,KAAKF,MAAMmlB,SAASzM,QAAQxY,KAAKF,MAAMokB,aAAapF,GAAxB,MACvB,IACZ8G,EAAQ,aAGTH,EAAiBhtB,KAChB,qBAAYwH,UAAW,iDAAiD2lB,EAAxE,UACC,qBAAK3lB,UAAU,oBAAf,SACED,KAAKF,MAAMokB,aAAapF,GAAxB,WAEF,qBAAK7e,UAAU,MAAf,mBAGA,qBAAKA,UAAU,QAAf,SACC,wBAAQA,UAAW,SAAS0lB,EAAY,cAAexmB,KAAK,SAASoG,MAAOuZ,EAAG7O,cAAY,QAAQQ,cAAY,qBAAqB1D,QAAS/M,KAAKykB,eAAlJ,SACEiB,MAGH,qBAAKzlB,UAAU,QAAf,SACC,wBAAQA,UAAU,mCAAmCd,KAAK,MAAMoG,MAAOuZ,EAAG7O,cAAY,QAAQQ,cAAY,iBAAiB1D,QAAS/M,KAAKykB,eAAgBoB,UAAQ,EAAjK,mBAbO/G,IAmBX,IAAK,IAAIA,KAAK9e,KAAKF,MAAMskB,YAAa,CAErC,IAAIsB,EAAgB,MAChBC,EAAc,eAEdtnB,EAAQ2B,KAAKF,MAAMwkB,YAAY9L,QAAQxY,KAAKF,MAAMskB,YAAYtF,IAC9DzgB,GAAS,IACZqnB,EAAgB,KAChBC,EAAc,iBAGf,IAAIC,EAAQ,IAEZvnB,EAAQ2B,KAAKF,MAAMklB,SAASxM,QAAQxY,KAAKF,MAAMskB,YAAYtF,GAAvB,MACvB,IACZ8G,EAAQ,eAGTvnB,EAAQ2B,KAAKF,MAAMmlB,SAASzM,QAAQxY,KAAKF,MAAMskB,YAAYtF,GAAvB,MACvB,IACZ8G,EAAQ,aAGTH,EAAiBhtB,KAChB,qBAAYwH,UAAW,iDAAiD2lB,EAAxE,UACC,qBAAK3lB,UAAU,oBAAf,SACED,KAAKF,MAAMskB,YAAYtF,GAAvB,WAEF,qBAAK7e,UAAU,MAAf,oBAGA,qBAAKA,UAAU,QAAf,SACC,wBAAQA,UAAW,SAAS0lB,EAAY,cAAexmB,KAAK,MAAMoG,MAAOuZ,EAAG7O,cAAY,QAAQQ,cAAY,qBAAqB1D,QAAS/M,KAAKykB,eAA/I,SACEiB,MAGH,qBAAKzlB,UAAU,QAAf,SACC,wBAAQA,UAAU,gCAAgCd,KAAK,MAAMoG,MAAOuZ,EAAG7O,cAAY,QAAQQ,cAAY,iBAAiB1D,QAAS/M,KAAKykB,eAAtI,mBAbO3F,IAmBqB,IAA5B2G,EAAiB1hB,QAEpB0hB,EAAiBhtB,KAChB,oBAAYwH,UAAU,gDAAtB,kBAAS,IAMX,IAAI6lB,EAA2B,GAC/B,GAAI9lB,KAAKF,MAAM0kB,WAAWzgB,OAAS,EAClC,IAAK,IAAI+a,KAAK9e,KAAKF,MAAM0kB,WAAY,CACpC,IAAIoB,EAAQ,GAEA5lB,KAAKF,MAAMilB,WAAWvM,QAAQxY,KAAKF,MAAM0kB,WAAW1F,GAAtB,KAC7B,IACZ8G,EAAQ,aAGTE,EAAyBrtB,KACxB,qBAAYwH,UAAW,iDAAiD2lB,EAAxE,UACC,qBAAK3lB,UAAU,oBAAf,SACED,KAAKF,MAAM0kB,WAAW1F,GAAtB,WAEF,qBAAK7e,UAAU,QAAf,SACC,wBAAQA,UAAU,gCAAgCd,KAAK,MAAMoG,MAAOuZ,EAAG7O,cAAY,QAAQQ,cAAY,iBAAiB1D,QAAS/M,KAAKykB,eAAtI,mBALO3F,SAaXgH,EAAyBrtB,KACxB,oBAAYwH,UAAU,gDAAtB,kBAAS,IAOX,IAAI+M,EAA+C,IAAjChN,KAAKF,MAAMulB,kBAEzBpY,EAA6C,IAAjCjN,KAAKF,MAAMulB,kBAEvB1B,EAAa,GACjB,IAAK,IAAItlB,KAAS2B,KAAKF,MAAMslB,iBAC5BzB,EAAWlrB,KACVuH,KAAKF,MAAMslB,iBAAiB/mB,GAA5B,MASF,OAN0B,IAAtBslB,EAAW5f,QACd4f,EAAWlrB,KACV,YAKD,qBAAKwH,UAAU,cAAf,SACC,sBAAKA,UAAU,YAAf,UAEC,qBAAKA,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,sBAAKA,UAAU,cAAf,UACC,qBAAKA,UAAU,cAAf,SACC,mEAED,qBAAKA,UAAU,YAAf,SACC,qBAAIA,UAAU,aAAd,UACC,qBAAaA,UAAW,gDAAxB,UACC,qBAAKA,UAAU,oBAAf,mCAGA,qBAAKA,UAAU,MAAf,kBAGA,qBAAKA,UAAU,QAAf,2BAGA,qBAAKA,UAAU,aAVN,GAaTwlB,cAON,qBAAKxlB,UAAU,MAAf,SACC,sBAAKA,UAAU,MAAf,UACC,sBAAKA,UAAU,cAAf,UACC,qBAAKA,UAAU,cAAf,SACC,uEAED,qBAAKA,UAAU,YAAf,SACC,oBAAIA,UAAU,aAAd,SACE6lB,SAKJ,eAAC/d,EAAA,EAAD,CAAOC,KAAMgF,EAAa7J,QAAQ,UAAlC,UACC,cAAC4E,EAAA,EAAME,QAAP,sBACA,uBACA,+DAGA,0BAGD,eAACF,EAAA,EAAD,CAAOC,MArEM,EAqEa7E,QAAQ,UAAlC,UACC,cAAC4E,EAAA,EAAME,QAAP,uBACA,uBACA,yCAGA,0BAGD,eAACF,EAAA,EAAD,CAAOC,KAAMiF,EAAW9J,QAAQ,SAAhC,UACC,cAAC4E,EAAA,EAAME,QAAP,sBACA,uBACA,4BACE0b,IAEF,+BAMH,qBAAK1jB,UAAU,aAAa/D,GAAG,gBAAgB6pB,SAAS,KAAKC,KAAK,SAAS5V,kBAAgB,qBAAqB6V,cAAY,OAA5H,SACE,qBAAKhmB,UAAU,qCAAqC+lB,KAAK,WAAzD,SACD,sBAAK/lB,UAAU,gBAAf,UACE,sBAAKA,UAAU,eAAf,UACD,oBAAIA,UAAU,cAAc/D,GAAG,qBAA/B,iCACA,wBAAQwL,KAAK,SAASzH,UAAU,QAAQimB,eAAa,QAAQvV,aAAW,QAAxE,SACE,sBAAMsV,cAAY,OAAlB,uBAGD,sBAAKhmB,UAAU,aAAf,UACD,kFACA,gCAAMD,KAAKF,MAAM6kB,aAAjB,OACA,uEAEC,sBAAK1kB,UAAU,eAAf,UACD,wBAAQyH,KAAK,SAASzH,UAAU,iBAAiBimB,eAAa,QAAQnZ,QAAS/M,KAAKmlB,YAApF,iBACA,wBAAQzd,KAAK,SAASzH,UAAU,kBAAkBimB,eAAa,QAA/D,0BAMF,qBAAKjmB,UAAU,aAAa/D,GAAG,oBAAoB6pB,SAAS,KAAKC,KAAK,SAAS5V,kBAAgB,oBAAoB6V,cAAY,OAA/H,SACE,qBAAKhmB,UAAU,qCAAqC+lB,KAAK,WAAzD,SACD,sBAAK/lB,UAAU,gBAAf,UACE,sBAAKA,UAAU,eAAf,UACD,oBAAIA,UAAU,cAAc/D,GAAG,qBAA/B,8CACA,wBAAQwL,KAAK,SAASzH,UAAU,QAAQimB,eAAa,QAAQvV,aAAW,QAAxE,SACE,sBAAMsV,cAAY,OAAlB,uBAGD,sBAAKhmB,UAAU,aAAf,UACD,qFACA,gCAAMD,KAAKF,MAAM6kB,aAAjB,UAEC,sBAAK1kB,UAAU,eAAf,UACD,wBAAQyH,KAAK,SAASzH,UAAU,iBAAiBimB,eAAa,QAAQnZ,QAAS/M,KAAKmlB,YAApF,iBACA,wBAAQzd,KAAK,SAASzH,UAAU,kBAAkBimB,eAAa,QAA/D,mC,GA/amB9lB,IAAMC,WA2bjB6H,eAAW8b,I,wDClbpBmC,GAAe,SAACC,GAErB,MADW,CAACA,EAAYC,IAAKD,EAAYE,MAAOF,EAAYG,QAASH,EAAYI,QAASJ,EAAYK,OAKjGC,GAAW,CACb,CAAEvnB,KAAM,UAAWoG,MAAO,WAC1B,CAAEpG,KAAM,YAAaoG,MAAO,aAC5B,CAAEpG,KAAM,WAAYoG,MAAO,YAC9B,CAAEpG,KAAM,WAAYoG,MAAO,aAItB0a,GAAS,CACbC,OAAQ,CAENE,UAAW,MACdC,UAAW,SAINsG,GAAiB,SAACnoB,GAEvB,IAAIooB,EAAY,GAChB,IAAK,IAAIrjB,KAAO/E,EAAMqoB,gBAAiB,CAEtC,IAAIjR,EAAW,WACV3K,OAAOzM,EAAMiD,YAAcwJ,OAAO1H,KACtCqS,EAAW,IAGZgR,EAAUnuB,KACT,wBAAQiP,KAAK,SAAmBnC,MAAOhC,EAAKtD,UAAW,oBAAoB2V,EAAS,UAApF,SAAgGpX,EAAMqoB,gBAAgBtjB,IAA3FA,IAI7B,OACC,qBAAKtD,UAAU,iBAAf,SACE2mB,KAKEE,GAAkB,SAACtoB,GAGxB,IAAIoX,EAAW,CAAC,WAAY,WAAY,WAAY,WAAY,WAAY,YACxEpX,EAAMiD,UAAY,GAAKjD,EAAMiD,SAAWmU,EAAS7R,SACpD6R,EAASpX,EAAMiD,UAAY,IAG5B,IAAImlB,EAAY,GAChB,IAAK,IAAIvoB,KAASuX,EACjBgR,EAAUnuB,KACT,wBAAQiP,KAAK,SAAqBnC,MAAOlH,EAAO4B,UAAW,oBAAoB2V,EAASvX,GAAO,UAA/F,SAA2GA,GAAhFA,IAI7B,OACC,qBAAK4B,UAAU,kBAAf,SACE2mB,KAKEG,GAAkB,SAACvoB,GAExB,IAAIoX,EAAW,CAAC,WAAY,WAAY,WAAY,WAAY,YAC5DpX,EAAMiD,UAAY,GAAKjD,EAAMiD,SAAWmU,EAAS7R,SACpD6R,EAASpX,EAAMiD,UAAY,IAG5B,IAAImlB,EAAY,GAChB,IAAK,IAAIvoB,KAASuX,EACjBgR,EAAUnuB,KACT,wBAAQiP,KAAK,SAAqBnC,MAAOlH,EAAO4B,UAAW,oBAAoB2V,EAASvX,GAAO,UAA/F,SAA2GA,EAAM,GAAtFA,IAI7B,OACC,sBAAK4B,UAAU,kBAAf,UACC,sBAAMA,UAAU,wBAAwB4lB,UAAQ,EAAhD,6BACCe,EACD,sBAAM3mB,UAAU,wBAAwB4lB,UAAQ,EAAhD,8BAKGmB,G,kDAEL,WAAYxoB,GAAQ,IAAD,8BAClB,cAAMA,IAMPyoB,UAAY,SAAC7hB,GACZ,EAAKzG,SAAS,CACbuoB,eAAe9hB,EAAM0X,cAAcvX,SAPpC,EAAKzF,MAAQ,CACZonB,eAAgB,WAHC,E,0CAanB,WAAU,IAAD,OAGJC,EAAaC,eAAYC,cAE7B,GAA8B,OAAxBrnB,KAAKxB,MAAM3D,SAAoB,CACpC,IAAIysB,EAAWC,0BAAgBvnB,KAAKxB,MAAM3D,UAC1CssB,EAAaC,eAAYI,kBAAkBF,GAI5C,IAAIG,EAAe,GACfC,EAAe,GACfC,EAAU3nB,KAAKxB,MAAMopB,UACzB,GAAkB,OAAZD,QAAmCjtB,IAAZitB,GAEV3nB,KAAKF,MAAMonB,kBAAkBS,EAC9B,CAEhB,IAAIpsB,EAAUosB,EAAQ3nB,KAAKF,MAAMonB,gBAEjC,OAAOlnB,KAAKF,MAAMonB,gBACjB,IAAK,UACJ,IAAIW,EAAW1B,GAAc5qB,EAAQusB,SAASC,SAE1CC,EAAa3qB,EAAqBwqB,GAClCI,ExBxFO,CACdC,MAAO,CACRC,MAAO,CACNC,aAAa,EACbC,aAAc,EACdC,aAAc,KwBqFXb,EAAahvB,KACZ,eAAC8vB,GAAA,EAAD,CAAOC,UAAQ,EAACC,YAAU,EAA1B,UACC,gCACC,6BACC,oBAAIC,MAAM,MAAV,4CAGF,gCACC,6BACC,6BACC,cAAC,SAAD,CAAOpwB,KAAM0vB,EAAYW,QAASV,OAF3B,OAPoB,MAejC,MACA,IAAK,YAEJ,IAAMW,ExByKE,CACZzrB,OAAQ,CAAC,SACTC,SAAU,CACT,CACCL,MAAO,QACPzE,KwB9K6C,CAACiD,EAAQusB,SAASe,OxB+K/D5rB,gBAAiB,uBwB9KT6rB,ExBgJK,CACfC,OAAQ,CACPC,MAAO,CACN,CAECb,MAAO,CACNC,aAAa,EACbC,cAAe,EACfC,aAAc,KAIjBW,MAAO,CACN,MwB3JExB,EAAahvB,KAEZ,eAAC8vB,GAAA,EAAD,CAAOC,UAAQ,EAACC,YAAU,EAA1B,UACC,gCACC,6BACC,oBAAIC,MAAM,MAAV,8CAGF,gCACC,6BACC,6BACC,cAAC,OAAD,CAAKpwB,KAAMswB,EAAcD,QAASG,OAF3B,OAPoB,MAgBjC,MACA,IAAK,WAGJ,IAAK,IAAIzqB,KAAS9C,EAAS,CAC1B,IAAI2tB,EAAS3tB,EAAQ8C,GAGjB8qB,EAAShD,GAAc+C,EAAOnB,SAE9BqB,EAAU/rB,EAAqB8rB,GAC/BlB,ExB7IM,CACdC,MAAO,CACRC,MAAO,CACNC,aAAa,EACbC,aAAc,EACdC,aAAc,KwB0IJe,EAAcnrB,EACnB,CAACgrB,EAAOI,WAAYJ,EAAOK,UAAWL,EAAOM,UAAUX,QAElDY,ExB4GI,CACfV,OAAQ,CACPC,MAAO,CACN,CAECb,MAAO,CACNC,aAAa,EACbC,cAAe,EACfC,aAAc,KAIjBW,MAAO,CACN,MwBvHGvB,EAAajvB,KACZ,+BACC,oBAAIiwB,MAAM,MAAV,SAAiBQ,EAAOQ,OACxB,6BAAKR,EAAOxhB,OACZ,6BAAKwhB,EAAOS,QACZ,oBAAIC,QAAQ,IAAZ,SAAgB,cAAC,OAAD,CAAKtxB,KAAM+wB,EAAaV,QAASc,MACjD,6BAAI,cAAC,SAAD,CAAOnxB,KAAM8wB,EAAST,QAASV,QAL3B5pB,IAUiB,IAAxBqpB,EAAa3jB,QAChB2jB,EAAajvB,KACZ,6BACC,oBAAImxB,QAAQ,IAAZ,yBADQ,IAMXnC,EAAahvB,KACZ,eAAC8vB,GAAA,EAAD,CAAOC,UAAQ,EAACC,YAAU,EAA1B,UACC,gCACC,+BACC,oBAAIC,MAAM,MAAV,kBACA,oBAAIA,MAAM,MAAV,kBACA,oBAAIA,MAAM,MAAV,0BACA,oBAAIA,MAAM,MAAV,wBACA,oBAAIA,MAAM,MAAV,uBACA,oBAAIA,MAAM,MAAV,uBACA,oBAAIA,MAAM,MAAV,0BAIF,gCACEhB,MAd4B,MAkBjC,MACA,IAAK,WAEJ,IAAK,IAAIrpB,KAAS9C,EAAS,CAC1B,IAAIsuB,EAAUtuB,EAAQ8C,GAElB8qB,EAAShD,GAAc0D,EAAQ9B,SAE7B+B,EAAYzsB,EAAqB8rB,GACjCY,ExBnMI,CACd7B,MAAO,CACRC,MAAO,CACNC,aAAa,EACbC,aAAc,EACdC,aAAc,KwBkMJ0B,EAAc/rB,EACnB,CAAC4rB,EAAQN,UAAWM,EAAQL,UAAUX,QAEjCoB,ExBoDI,CACflB,OAAQ,CACPC,MAAO,CACN,CAECb,MAAO,CACNC,aAAa,EACbC,cAAe,EACfC,aAAc,KAIjBW,MAAO,CACN,MwB/DGvB,EAAajvB,KACZ,+BACC,oBAAIiwB,MAAM,MAAV,SAAiBmB,EAAQH,OACzB,6BAAKG,EAAQF,QACb,oBAAIC,QAAQ,IAAZ,SAAgB,cAAC,OAAD,CAAKtxB,KAAM0xB,EAAarB,QAASsB,MACjD,6BAAI,cAAC,SAAD,CAAO3xB,KAAMwxB,EAAWnB,QAASoB,QAJ7B1rB,IASiB,IAAxBqpB,EAAa3jB,QAChB2jB,EAAajvB,KACZ,6BACC,oBAAImxB,QAAQ,IAAZ,yBADQ,IAMXnC,EAAahvB,KACZ,eAAC8vB,GAAA,EAAD,CAAOC,UAAQ,EAACC,YAAU,EAA1B,UACC,gCACC,+BACC,oBAAIC,MAAM,MAAV,kBACA,oBAAIA,MAAM,MAAV,0BACA,oBAAIA,MAAM,MAAV,6BACA,oBAAIA,MAAM,MAAV,uBACA,oBAAIA,MAAM,MAAV,0BAIF,gCACEhB,MAZ4B,MAgBjC,MACA,QACEruB,QAAQC,IAAI,iCAWjB,OAN4B,IAAxBmuB,EAAa1jB,QAChB0jB,EAAahvB,KACZ,uBAKD,qBAAKwH,UAAU,mBAAf,SAGC,eAAC6C,EAAA,EAAD,WAEC,cAACA,EAAA,EAAUC,OAAX,CAAkBC,GAAIC,IAAKC,OAAQC,QAAQ,OAAOC,SAAS,IAA3D,SACC,qBAAKqd,MAAOR,GAAOC,OAAnB,SACC,cAAC,UAAD,CACCY,YAAaqG,EACbvf,YAAa,gBACbsiB,UAAU,QAKb,cAACpnB,EAAA,EAAUO,SAAX,CAAoBD,SAAS,IAA7B,SAEC,cAACH,EAAA,EAAD,UACC,eAACA,EAAA,EAAKknB,KAAN,WACC,qBAAKlqB,UAAU,WAAf,SACC,qBAAKA,UAAU,MAAf,SACC,cAACmqB,GAAA,EAAD,CAAaC,QAAM,EAAnB,SACE3D,GAASpF,KAAI,SAACgJ,EAAOC,GAAR,OACb,cAACC,GAAA,EAAD,CAEC9iB,KAAK,QACLvE,QAAQ,OACRhE,KAAK,QACLoG,MAAO+kB,EAAM/kB,MACbklB,QAAS,EAAK3qB,MAAMonB,iBAAmBoD,EAAM/kB,MAC7CoC,SAAU,EAAKsf,UAPhB,SASEqD,EAAMnrB,MARForB,YAeV,uBAEA,qBAAKtqB,UAAU,WAAf,SACC,qBAAKA,UAAU,MAAf,SACEwnB,sB,GAzPoBrnB,IAAMC,WAirBtB6H,gBAxaK,SAAC1J,GAEpB,IAkDIksB,EAAY,GAChB,IAAK,IAAIrsB,KAASG,EAAMmsB,gBAEvB,GAAInsB,EAAMmsB,gBAAgBtsB,GAAtB,aAEH,GAAuD,OAAnDG,EAAMmsB,gBAAgBtsB,GAAtB,eAAyD,CAE5D,IAAIusB,GAAa,EACjB,IAAK,IAAIC,KAAaH,EACrB,IAAoC,IAAhCA,EAAUG,GAAV,GAAoC,CACvCD,GAAa,EACb,MAOGA,GACJF,EAAUjyB,KALE,CACZ,aAAe,OACf,IAAM,QAMH,CAEJ,IAAImyB,GAAa,EACjB,IAAK,IAAIC,KAAaH,EACrB,GAAIA,EAAUG,GAAV,KAA+BrsB,EAAMmsB,gBAAgBtsB,GAAtB,kBAAuD,CACzFusB,GAAa,EACb,MAGGA,GACJF,EAAUjyB,KAAM+F,EAAMmsB,gBAAgBtsB,GAAtB,oBAId,CAGJ,IAAIusB,GAAa,EACjB,IAAK,IAAIC,KAAaH,EACrB,IAAoC,IAAhCA,EAAUG,GAAV,GAAoC,CACvCD,GAAa,EACb,MAOGA,GACJF,EAAUjyB,KALE,CACZ,aAAe,gBACf,IAAM,IAOT,IAAK,IAAI4F,KAASG,EAAMssB,mBAGvB,GAAItsB,EAAMssB,mBAAmBzsB,GAAzB,aAEH,GAA0D,OAAtDG,EAAMssB,mBAAmBzsB,GAAzB,eAA4D,CAC/D,IAAIusB,GAAa,EACjB,IAAK,IAAIC,KAAaH,EACrB,IAAoC,IAAhCA,EAAUG,GAAV,GAAoC,CACvCD,GAAa,EACb,MAOGA,GACJF,EAAUjyB,KALE,CACZ,aAAe,OACf,IAAM,QAMH,CACJ,IAAImyB,GAAa,EACjB,IAAK,IAAIC,KAAaH,EACrB,GAAIA,EAAUG,GAAV,KAA+BrsB,EAAMssB,mBAAmBzsB,GAAzB,kBAA0D,CAC5FusB,GAAa,EACb,MAGGA,GACJF,EAAUjyB,KAAM+F,EAAMssB,mBAAmBzsB,GAAzB,oBAMd,CACJ,IAAIusB,GAAa,EACjB,IAAK,IAAIC,KAAaH,EACrB,IAAoC,IAAhCA,EAAUG,GAAV,GAAoC,CACvCD,GAAa,EACb,MAOGA,GACJF,EAAUjyB,KALE,CACZ,aAAe,gBACf,IAAM,IAQT,IAAIsyB,EAAmB,GACvB,IAAK,IAAI1sB,KAASqsB,EAAW,CAC5B,IAAIM,EAAY,4BACZtyB,OAAO8F,EAAMysB,0BAA4B5sB,IAC5C2sB,EAAY,qBAGbD,EAAiBtyB,KAChB,wBAAoBwH,UAAW+qB,EAAWzlB,MAAOlH,EAAO0O,QAASvO,EAAM0sB,6BAAvE,SACER,EAAUrsB,GAAV,cADWA,IAMiB,IAA5B0sB,EAAiBhnB,QACpBgnB,EAAiBtyB,KAChB,qBAAawH,UAAU,4BAAvB,qBAAU,IAMZ,IAAIkrB,GAAiB,EACjB3sB,EAAMysB,wBAA0B,GAAKzsB,EAAMysB,uBAAyBP,EAAU3mB,SACjFonB,EAAgBT,EAAUlsB,EAAMysB,wBAAhB,IAGjB,IAAIG,EAAa,GACjB,IAAK,IAAI/sB,KAASG,EAAMssB,mBAAoB,CAE3C,IACC,GAAMtsB,EAAMssB,mBAAmBzsB,GAAzB,oBAA4D8sB,EACjE,SAGF,SAEC,IAAyB,IAAnBA,EACL,SAIF,IAAIE,EAAc,kBACdC,EAAa,wBACjB,GAAyD,OAArD9sB,EAAMssB,mBAAmBzsB,GAAzB,cAAJ,CAGC,OAFAgtB,EAAc7sB,EAAMssB,mBAAmBzsB,GAAzB,mBAELG,EAAMssB,mBAAmBzsB,GAAzB,0BAER,KAAK,EACJitB,EAAa,cAAC,GAAD,CACZ7pB,SAAWjD,EAAMssB,mBAAmBzsB,GAAzB,cAEZ,MAED,KAAK,EACJitB,EAAa,cAAC,GAAD,CACZ7pB,SAAWjD,EAAMssB,mBAAmBzsB,GAAzB,cAEZ,MAED,KAAK,EACJitB,EAAa,cAAC,GAAD,CACZzE,gBAAkBroB,EAAMssB,mBAAmBzsB,GAAzB,4BAClBoD,SAAWjD,EAAMssB,mBAAmBzsB,GAAzB,cAiBf+sB,EAAW3yB,KACV,qBAAKwH,UAAU,MAAf,SACC,sBAAKA,UAAU,MAAf,UACC,6BAAKorB,IACL,8BAAMC,IACN,2BAJwBjtB,KAc5B,IAAK,IAAIA,KAASG,EAAMmsB,gBAAiB,CAExC,IACC,GAAMnsB,EAAMmsB,gBAAgBtsB,GAAtB,oBAAyD8sB,EAC9D,SAGF,SAEC,IAAyB,IAAnBA,EACL,SAIF,IAAIE,EAAc,kBACdC,EAAa,aAEjB,GAAsD,OAAlD9sB,EAAMmsB,gBAAgBtsB,GAAtB,gBACHgtB,EAAc7sB,EAAMmsB,gBAAgBtsB,GAAtB,mBAGuD,IAAhEG,EAAMmsB,gBAAgBtsB,GAAtB,0BAJN,CAaA,IACCitB,EAAa,cAAC,GAAD,CACZpxB,QAAUsE,EAAMmsB,gBAAgBtsB,GAAtB,QACVxD,SAAW2D,EAAMmsB,gBAAgBtsB,GAAtB,SAEXgZ,MAAO7Y,EAAMmsB,gBAAgBtsB,GAAtB,MACPupB,UAAYppB,EAAMmsB,gBAAgBtsB,GAAtB,WAGd,SACChF,QAAQC,IAAI,gCAGb,IAAIiyB,EAAaH,EAAWrnB,OAC5BqnB,EAAW3yB,KACV,qBAAKwH,UAAU,MAAf,SACC,sBAAKA,UAAU,MAAf,UACC,6BAAKorB,IACL,8BAAMC,IACN,2BAJwBjtB,EAAQktB,KAWpC,IAAI9H,EAAqD,IAAxCjlB,EAAMgtB,+BAAkF,IAA3ChtB,EAAMitB,iCAEhExe,EAAoD,IAAxCzO,EAAMgtB,+BAAkF,IAA3ChtB,EAAMitB,iCAE/DC,GAAiB,EAEjB/H,EAAa,GACjB,IAAK,IAAItlB,KAASG,EAAMmtB,kBAGuB,IAA1CntB,EAAMmtB,kBAAkBttB,GAAxB,KAAgDqtB,IACnDA,GAAiB,EAEjB/H,EAAWlrB,KACV+F,EAAMmtB,kBAAkBttB,GAAxB,OAKH,IAAK,IAAIA,KAASG,EAAMotB,qBAG0B,IAA7CptB,EAAMotB,qBAAqBvtB,GAA3B,KAAmDqtB,IACtDA,GAAiB,EACjB/H,EAAWlrB,KACV+F,EAAMotB,qBAAqBvtB,GAA3B,OAWH,OAN0B,IAAtBslB,EAAW5f,QACd4f,EAAWlrB,KACV,YAKD,qBAAKwH,UAAU,WAAf,SACC,sBAAKA,UAAU,yCAAf,UAEC,qBAAKA,UAAU,iCAAf,SACC,qBAAKA,UAAU,YAAf,SACC,8BACC,cAAC,KAAD,CACCA,UAAU,SACV0H,SAAUnJ,EAAMqtB,SAChBtmB,MAAO/G,EAAM4e,YACb0O,cAtWe,SAAC,GAAoB,IAAlBz0B,EAAiB,EAAjBA,KAGxB,GAAa,UAH4B,EAAX00B,KAGR,CAErB,IAAM3U,EAAY/f,EAAKE,cAAc,IAAIF,EAAKK,WAAW,IAAIL,EAAKO,UAG9Dyf,GAAQ,EACR2U,GAAa,EAEjB,IAAK,IAAI3tB,KAASG,EAAMoY,kBAEvB,GAAIQ,IAAc/Y,EAAO,CACxB2tB,GAAa,EACb,MAIF,IAAK,IAAI3tB,KAASG,EAAMqY,sBAEvB,GAAIO,IAAc/Y,EAAO,CACxBgZ,GAAQ,EACR,MAKF,IAAK2U,EACJ,IAAK,IAAI3tB,KAASG,EAAMqZ,qBACvB,GAAIT,IAAc/Y,EAAO,CACxB2tB,GAAa,EACb,MAKH,GAAI3U,EACH,MAAO,kBACD,GAAI2U,EACV,MAAO,oBAgUHC,UAAW,OACXC,UAAW,gBAKf,qBAAKjsB,UAAU,UAAf,SACC,qBAAKA,UAAU,MAAf,SACC,sBAAKA,UAAU,cAAf,UACC,sBAAKA,UAAU,cAAf,6BACkBzB,EAAM4e,YAAY5lB,cAEpC,sBAAKyI,UAAU,YAAf,UACC,qBAAKA,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,kCAID,qBAAKA,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACE8qB,MAGH,uBACCK,YAML,eAACrjB,EAAA,EAAD,CAAOC,KAAMyb,EAAYtgB,QAAQ,UAAjC,UACC,cAAC4E,EAAA,EAAME,QAAP,sBACA,uBACA,+DAGA,0BAGD,eAACF,EAAA,EAAD,CAAOC,MAvFQ,EAuFW7E,QAAQ,UAAlC,UACC,cAAC4E,EAAA,EAAME,QAAP,uBACA,uBACA,4DAGA,0BAGD,eAACF,EAAA,EAAD,CAAOC,KAAMiF,EAAW9J,QAAQ,SAAhC,UACC,cAAC4E,EAAA,EAAME,QAAP,qBACA,uBACA,4BACG0b,IAEH,kCC3wBC1D,GAAS,CACbC,OAAQ,CACNC,OAAQ,iBACRC,UAAW,MACdC,UAAW,SAaNhO,GAAgB,eAGhBiO,G,kDACL,aAAe,IAAD,8BACb,gBACKC,SAAW,SAACC,GAEhBA,EAAErZ,iBACF,EAAK3I,MAAM+hB,SAAS,EAAK/hB,MAAMiiB,QALnB,E,0CASd,WACC,IAAIxgB,EAAY,0BAKhB,OAJID,KAAKxB,MAAMkiB,SACdzgB,GAAa,WAIb,wBAAQA,UAAWA,EAAW0gB,YAAa3gB,KAAKugB,SAAhD,SACEvgB,KAAKxB,MAAMzB,Y,GAlBUqD,IAAMC,WAwB1BugB,GAAc,CACnB,CAAC7jB,MAAO,KAAM0jB,MAAO,cACrB,CAAC1jB,MAAO,KAAM0jB,MAAO,cACrB,CAAC1jB,MAAO,KAAM0jB,MAAO,gBACrB,CAAC1jB,MAAO,KAAM0jB,MAAO,eACrB,CAAC1jB,MAAO,KAAM0jB,MAAO,eACrB,CAAC1jB,MAAO,KAAM0jB,MAAO,eAOhBI,GAAqB,SAACriB,GAC3B,IAAOsiB,EAAetiB,EAAfsiB,YACDC,EAAYD,EAAYE,eACxBC,EAAYH,EACfI,oBACAC,eAAeJ,EAAUK,eACzBC,UAEH,OACC,qBAAKphB,UAAU,sBAAf,SACE2gB,GAAYU,KAAI,SAAC5Z,GAAD,OAChB,cAAC,GAAD,CAECgZ,OAAQhZ,EAAK+Y,QAAUQ,EACvBlkB,MAAO2K,EAAK3K,MACZwjB,SAAU/hB,EAAM+hB,SAChBE,MAAO/Y,EAAK+Y,OAJP/Y,EAAK3K,aAYTwkB,GAAgB,CACrB,CAACxkB,MAAO,OAAQ0jB,MAAO,QACvB,CAAC1jB,MAAO,SAAU0jB,MAAO,UACzB,CAAC1jB,MAAO,YAAa0jB,MAAO,cAIvBe,GAAsB,SAAChjB,GAC5B,IAAMijB,EAAejjB,EAAMsiB,YAAYY,wBAEvC,OACC,qBAAKzhB,UAAU,sBAAf,SACEshB,GAAcD,KAAI,SAAC5Z,GAAD,OAClB,cAAC,GAAD,CAECgZ,OAAQe,EAAaE,IAAIja,EAAK+Y,OAC9B1jB,MAAO2K,EAAK3K,MACZwjB,SAAU/hB,EAAM+hB,SAChBE,MAAO/Y,EAAK+Y,OAJP/Y,EAAK3K,aAWT4pB,G,kDACL,WAAYnoB,GAAQ,IAAD,8BAClB,cAAMA,IAMPgF,SAAW,WACV,QAA+B9I,IAA3B,EAAK8D,MAAM2tB,YACd,OAAO,EAAK3tB,MAAM2tB,YAAX,MATU,EAcnBC,YAAc,SAAChnB,GAEd,EAAKzG,SAAS,CACb8C,SAAU2D,EAAME,OAAOC,QAGxB,EAAK/G,MAAM6tB,OAAO,EAAK7tB,MAAMvE,UAAW,EAAKuE,MAAMtC,GAAI,EAAGkJ,EAAME,OAAOC,QAlBvE,EAAKzF,MAAQ,CACZ2B,SAAU,EAAK+B,YAHE,E,0CAuBnB,WAEC,IAAI8oB,EAAc,GACdC,EAAe,UACfvsB,KAAKxB,MAAMguB,cACdF,EAAc,YACdC,EAAe,UAGhB,IAAI3F,EAAY,GAChB,IAAK,IAAIrjB,KAAOvD,KAAKxB,MAAMiuB,QAAS,CAEnC,IAAI7W,EAAW,GACX5V,KAAKF,MAAM2B,WAAa8B,IAC3BqS,EAAW,UAGZgR,EAAUnuB,KACT,wBAAQiP,KAAK,SAAmBqF,QAAS/M,KAAKosB,YAAa7mB,MAAOhC,EAAKtD,UAAW,mBAAmBssB,EAAa,IAAI3W,EAAS0W,EAA/H,SAA6ItsB,KAAKxB,MAAMiuB,QAAQlpB,IAArIA,IAI7B,OACC,sBAAKtD,UAAU,kBAAf,UACED,KAAKxB,MAAMguB,aACX,qBAAKvsB,UAAU,MAAf,SACC,qBAAKA,UAAU,mBAAf,kCAKF,qBAAKA,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,qBAAKA,UAAU,YAAY+lB,KAAK,QAAQrV,aAAW,MAAnD,SACEiW,e,GA1DqBxmB,IAAMC,WAmE7BymB,G,kDACL,WAAYtoB,GAAQ,IAAD,8BAClB,cAAMA,IAMPgF,SAAW,WACV,YAA+B9I,IAA3B,EAAK8D,MAAM2tB,YACP,EAAK3tB,MAAM2tB,YAAX,MAEA,GAXU,EAcnBO,aAAe,SAACtnB,GACf,IAAI/G,EAAQ4M,OAAO7F,EAAME,OAAOC,OAEhC,EAAK5G,SAAS,CACb8C,SAAUpD,IAGX,EAAKG,MAAM6tB,OAAO,EAAK7tB,MAAMvE,UAAW,EAAKuE,MAAMtC,GAAI,EAAGmC,IAnB1D,EAAKyB,MAAQ,CACZ2B,SAAU,EAAK+B,YAHE,E,0CAwBnB,WAEC,IAAIoS,EAAW,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IAChC5V,KAAKF,MAAM2B,UAAY,GAAKzB,KAAKF,MAAM2B,SAAWmU,EAAS7R,SAC9D6R,EAAS5V,KAAKF,MAAM2B,UAAY,UAGjC,IAAI6qB,EAAc,GACdC,EAAe,UACfvsB,KAAKxB,MAAMguB,cACdF,EAAc,YACdC,EAAe,UAGhB,IAAI3F,EAAY,GAChB,IAAK,IAAIvoB,KAASuX,EACjBgR,EAAUnuB,KACT,wBAAQiP,KAAK,SAAqBqF,QAAS/M,KAAK0sB,aAAcnnB,MAAOlH,EAAO4B,UAAW,mBAAmBssB,EAAa,IAAI3W,EAASvX,GAASiuB,EAA7I,SAA2JjuB,GAAhIA,IAI7B,OACC,sBAAK4B,UAAU,kBAAf,UACED,KAAKxB,MAAMguB,aACX,qBAAKvsB,UAAU,MAAf,SACC,qBAAKA,UAAU,mBAAf,kCAKF,qBAAKA,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,qBAAKA,UAAU,YAAY+lB,KAAK,QAAQrV,aAAW,MAAnD,SACCiW,e,GA1DuBxmB,IAAMC,WAmE9B0mB,G,kDACL,WAAYvoB,GAAQ,IAAD,8BAClB,cAAMA,IAMPgF,SAAW,WACV,YAA+B9I,IAA3B,EAAK8D,MAAM2tB,YACP,EAAK3tB,MAAM2tB,YAAX,MAEA,GAXU,EAcnBQ,aAAe,SAACvnB,GACf,IAAI/G,EAAQ4M,OAAO7F,EAAME,OAAOC,OAEhC,EAAK5G,SAAS,CACb8C,SAAUpD,IAGX,EAAKG,MAAM6tB,OAAO,EAAK7tB,MAAMvE,UAAW,EAAKuE,MAAMtC,GAAI,EAAGmC,IAnB1D,EAAKyB,MAAQ,CACZ2B,SAAU,EAAK+B,YAHE,E,0CAwBnB,WAEC,IAAIoS,EAAW,CAAC,GAAI,GAAI,GAAI,GAAI,IAC5B5V,KAAKF,MAAM2B,UAAY,GAAKzB,KAAKF,MAAM2B,SAAWmU,EAAS7R,SAC9D6R,EAAS5V,KAAKF,MAAM2B,UAAY,UAGjC,IAAI6qB,EAAc,GACdC,EAAe,UACfvsB,KAAKxB,MAAMguB,cACdF,EAAc,YACdC,EAAe,WAGhB,IAAI3F,EAAY,GAChB,IAAK,IAAIvoB,KAASuX,EACjBgR,EAAUnuB,KACT,wBAAQiP,KAAK,SAAqBqF,QAAS/M,KAAK2sB,aAAcpnB,MAAOlH,EAAO4B,UAAW,mBAAmBssB,EAAa,IAAI3W,EAASvX,GAASiuB,EAA7I,SAA2JjuB,EAAM,GAAtIA,IAI7B,OACC,sBAAK4B,UAAU,kBAAf,UACED,KAAKxB,MAAMguB,aACX,qBAAKvsB,UAAU,MAAf,SACC,qBAAKA,UAAU,mBAAf,kCAKF,qBAAKA,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,sBAAKA,UAAU,YAAY+lB,KAAK,QAAQrV,aAAW,MAAnD,UACC,sBAAM1Q,UAAU,wBAAwB4lB,UAAQ,EAAhD,6BACCe,EACD,sBAAM3mB,UAAU,wBAAwB4lB,UAAQ,EAAhD,wC,GA5DuBzlB,IAAMC,WAqE9B2mB,G,kDACL,WAAYxoB,GAAQ,IAAD,8BAClB,cAAMA,IAgCPgF,SAAW,WACV,YAA+B9I,IAA3B,EAAK8D,MAAM2tB,YAEP/E,eAAYI,kBAAmBD,0BAAe,EAAK/oB,MAAM2tB,YAAX,aAG/C/E,eAAYC,eAvCD,EA0CnB1f,SAAW,SAACilB,GACX,EAAKjuB,SAAS,CACbmiB,YAAY8L,IAIb,EAAKpuB,MAAM6tB,OAAO,EAAK7tB,MAAMvE,UAAW,EAAKuE,MAAMtC,GAAI,EAAG,CAAC,IAAM0wB,EAAc1L,oBAAoB2L,eAAgB,MAAQC,wBAAaF,EAAc1L,wBAhDpI,EAmDnBe,gBAAkB,SAAChB,GAClB,EAAKtZ,SACJua,aAAUD,gBACT,EAAKniB,MAAMghB,YACXG,KAvDgB,EA4DnBkB,kBAAoB,SAACC,GACpB,EAAKza,SACKua,aAAUC,kBAClB,EAAKriB,MAAMghB,YACXsB,KAhEgB,EAqEnBC,iBAAmB,SAACC,EAASxB,GAC5B,IAAM1U,EAAW8V,aAAUG,iBAAiBvB,EAAawB,GAEzD,OAAIlW,GACH,EAAKzE,SAASyE,GACP,WAGD,eA3EP,EAAKtM,MAAQ,CACZitB,cAAevuB,EAAMvE,UACrB+yB,aAAcxuB,EAAMtC,GACpB+wB,gBAAiBzuB,EAAM2tB,YACvBrL,YAAa,EAAKtd,YAEnB,EAAKuf,QAAU,SAAC3d,GAAD,OAAW,EAAK4d,KAAK9C,OAAO+C,SAC3C,EAAK1C,SAAW,SAACC,GAEhBA,EAAErZ,kBAXe,E,0CAgFnB,WAEC,IAAI+lB,EAAe,GAKnB,OAJIltB,KAAKxB,MAAMguB,cACdU,EAAe,8BAIf,sBAAKjtB,UAAU,2BAAf,UAEED,KAAKxB,MAAMguB,aACX,qBAAKvsB,UAAU,MAAf,SACC,qBAAKA,UAAU,mBAAf,mCAMAD,KAAKxB,MAAMguB,aACZ,qBAAKvsB,UAAU,MAAf,SACC,sBAAKA,UAAU,MAAf,UACC,cAAC,GAAD,CACC6gB,YAAa9gB,KAAKF,MAAMghB,YACxBP,SAAUvgB,KAAKiiB,kBAEhB,cAAC,GAAD,CACCnB,YAAa9gB,KAAKF,MAAMghB,YACxBP,SAAUvgB,KAAKmiB,yBAMnB,qBAAKliB,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAM8M,QAAS/M,KAAK+iB,QAAnC,SAEC,qBAAK7mB,GAAG,aAAR,SACC,qBAAKukB,MAAOR,GAAOC,OAAnB,SACC,cAAC,UAAD,CACCY,YAAa9gB,KAAKF,MAAMghB,YACxBnZ,SAAU3H,KAAK2H,SACf0a,iBAAkBriB,KAAKqiB,iBAEvBwB,YAAY,EACZjc,YAAaslB,EAEbhD,SAAUlqB,KAAKxB,MAAMguB,YAErB1I,IAAI,yB,uCAhHZ,SAAgCtlB,EAAOsB,GAEtC,OAAIA,EAAMktB,eAAiBxuB,EAAMtC,IAAM4D,EAAMitB,gBAAkBvuB,EAAMvE,eAE1CS,IAAtB8D,EAAM2tB,YAEF,CAACrL,YAAasG,eAAYI,kBAAmBD,0BAAe/oB,EAAM2tB,YAAN,aAAuCa,aAAcxuB,EAAMtC,GAAI6wB,cAAevuB,EAAMvE,WAIjJ,CAAC6mB,YAAasG,eAAYC,cAAe2F,aAAcxuB,EAAMtC,GAAI6wB,cAAevuB,EAAMvE,WAGtF,CAAC6mB,YAAahhB,EAAMghB,iB,GA9BC1gB,IAAMC,WA8I/B8sB,G,kDAEL,WAAY3uB,GAAQ,IAAD,8BACZ,cAAMA,IAcb4uB,mBAAqB,SAACtnB,GACrB,IAAIyO,EAEJ,GAA+B,IAA3BzO,EAAY,YAIX,IAA+B,IAA3BA,EAAY,OAGpB,OAFA,EAAKtH,MAAM6H,SAASgM,GAAe,oBAAqB,wBACxD,EAAK7T,MAAM6P,aAAa,EAAKgf,aAIM,IAA3BvnB,EAAY,QAIe,IAA3BA,EAAY,QAIe,IAA3BA,EAAY,QAIZA,EAAY,OAIrB,EAAKtH,MAAM6H,SAASgM,GAAe,kBAAmB,WACtDkC,EAAazO,EAAY,SACzB,EAAKnH,SAAS,CACb2uB,cAAe/Y,EACfgZ,kBAAkB,KAhDD,EAmDnBC,oBAAsB,SAACC,GAEtB,EAAKjvB,MAAM6H,SAASgM,GAAe,kBAAmB,WAEtD,EAAK1T,SAAS,CACb2uB,cAAe,GACfC,kBAAkB,KAzDD,EA4DnBG,YAAc,SAACC,EAAYC,EAAgBC,GAE1C,IAAIC,EAAY,EAAKtvB,MAAM4e,YACvB2Q,EAAiBH,EAAc,IAC/BI,EAAcJ,EAAc,MAEhC,QAAmBlzB,IAAfizB,EACH7zB,EAAgBg0B,EAAWH,EAAYE,EAAwBE,EAAgBC,EAAa,EAAKR,oBAAqB,EAAKJ,wBAEvH,CAGJtzB,EAAgBg0B,EADD,OACsBD,EAAwBE,EAAgBC,EAAa,EAAKR,oBAAqB,EAAKJ,oBAE1H,EAAKzuB,SAAS,CACb4uB,kBAAkB,KA3ED,EA+EnBU,sBAAwB,SAACnoB,GACxB,IAAIyO,EAEJ,GAA+B,IAA3BzO,EAAY,YAIX,IAA+B,IAA3BA,EAAY,OAGpB,OAFA,EAAKtH,MAAM6H,SAASgM,GAAe,oBAAqB,6BACxD,EAAK7T,MAAM6P,aAAa,EAAKgf,aAIM,IAA3BvnB,EAAY,QAIe,IAA3BA,EAAY,QAIe,IAA3BA,EAAY,QAIZA,EAAY,OAIrB,EAAKtH,MAAM6H,SAASgM,GAAe,uBAAwB,WAC3DkC,EAAazO,EAAY,SACzB,EAAKnH,SAAS,CACbuvB,iBAAkB3Z,EAClB4Z,qBAAqB,KAhHJ,EAmHnBC,uBAAyB,SAACX,GAEzB,EAAKjvB,MAAM6H,SAASgM,GAAe,uBAAwB,WAE3D,EAAK1T,SAAS,CACb2uB,cAAe,GACfa,qBAAqB,KAzHJ,EA4HnBE,eAAiB,SAACV,EAAYW,EAAeT,GAE5C,IAAIC,EAAY,EAAKtvB,MAAM4e,iBAER1iB,IAAfizB,I1BpC2B,SAAC5zB,EAAaC,EAAaC,EAAW8T,EAAchV,EAAkBC,GAEtG,IAAMoB,EAAWC,KAAKC,SAAS9C,SAAS,IAAI+C,OAAO,EAAG,GAEhDb,EAAS,CACdC,QAAS,CAAEC,cAAc,OAAD,OAAS5C,KAG9BsB,EAAO,GAEVA,EADiB,QAAd2B,EACI,CACNO,UAAW,SAASJ,EAEpBK,oBAAgBC,EAIhBC,QAASvD,EAAa2C,GAEtBa,kBAAmBZ,EAEnBu0B,YAAaxgB,GAIP,CACNvT,UAAW,UAAUJ,EAErBK,eAAgBR,EAIhBU,QAASvD,EAAa2C,GAEtBa,kBAAmBZ,EAEnBu0B,YAAaxgB,GAKfpX,EAAcuC,KAAK,2BAA4BZ,EAAMoB,GACpDP,MAAM,SAAAC,GACNL,EAAiBK,EAAId,SAErBiB,OAAO,SAAAtB,GAEP,IAAIuB,EAASxB,EAAWC,GAExBe,EAAgBQ,M0BZfg1B,CAAmBV,EAAWH,EAAYE,EAAwBS,EAAe,EAAKF,uBAAwB,EAAKH,uBACnH,EAAKtvB,SAAS,CACbwvB,qBAAqB,KAItB,EAAKxvB,SAAS,CACbuvB,iBAAkB,CAAC,CAAC,KAAO,EAAG,KAAO,uBACrCC,qBAAqB,KAzIL,EA8InBM,aAAe,WACd,IAAIlzB,EAAU+H,GAAiB,mBAAmB,EAAK9E,MAAMsR,aAC7D,GAAgB,IAAZvU,QAGC,GAAgB,IAAZA,QAGJ,GAAgB,IAAZA,EAIR,OAAOA,EAGR,MAAO,IA7JW,EAgKnBmzB,eAAiB,SAACC,EAAUC,EAAYlnB,EAAMpP,GAE7C,IAAIu2B,EAAY,GAChB,IAAK,IAAIC,KAAQ,EAAKhvB,MAAMivB,WAC3BF,EAAUC,GAAQ,EAAKhvB,MAAMivB,WAAWD,GAGnCH,KAAYE,IACjBA,EAAUF,GAAY,IAGjBC,KAAcC,EAAUF,KAC7BE,EAAUF,GAAUC,GAAc,IAGnCC,EAAUF,GAAUC,GAAc,CAAC,KAAOlnB,EAAM,KAAOpP,GAEvD,EAAKqG,SAAS,CACbowB,WAAYF,IAIb/qB,GAAiB,mBAAmB,EAAKtF,MAAMsR,YAAa+e,EAAW,IAtLrD,EAyLnBxB,YAAc,WAEb,IAAIsB,GAAY,EAChB,GAAI,EAAKnwB,MAAMwwB,WAAWjrB,OAAS,GAAK,EAAKjE,MAAMmvB,kBAAoB,GAAK,EAAKnvB,MAAMmvB,iBAAmB,EAAKzwB,MAAMwwB,WAAWjrB,OAAhI,CAGE4qB,EADG,EAAKnwB,MAAMwwB,WAAW,EAAKlvB,MAAMmvB,kBAAjC,SACQ,MAGA,EAAKzwB,MAAMwwB,WAAW,EAAKlvB,MAAMmvB,kBAAjC,aAUb,IAAK,IAAIzQ,KAAY,EAAK1e,MAAMivB,WAAWJ,GAAW,CAEpC,EAAKrQ,iBAAiBqQ,EAAUnQ,SAKC9jB,IAA9C,EAAKoF,MAAMivB,WAAWJ,GAAUnQ,KAIuB,IAAtD,EAAK1e,MAAMivB,WAAWJ,GAAUnQ,GAAhC,KAEJ,EAAKkP,YAAalP,EAAU,EAAK1e,MAAMivB,WAAWJ,GAAUnQ,GAAhC,KAAmDmQ,GAI/E,EAAKN,eAAgB7P,EAAU,EAAK1e,MAAMivB,WAAWJ,GAAUnQ,GAAhC,KAAmDmQ,GAGtE,MAhOI,EAwOnBO,oBAAsB,SAAC9pB,GAEtB,EAAKzG,SAAS,CACbswB,iBAAiBhkB,OAAO7F,EAAME,OAAOC,OAErC+nB,cAAe,GACfC,kBAAmB,EAEnBW,iBAAkB,GAClBC,qBAAsB,KAjPL,EAqPnB7P,iBAAmB,SAACO,EAAcL,GACjC,IAAII,GAAa,EAKjB,QAAkDlkB,IAA9C,EAAK8D,MAAMigB,sBAAX,OACCI,KAAgB,EAAKrgB,MAAMigB,sBAAX,MACnB,IAAK,IAAIK,KAAK,EAAKtgB,MAAMigB,sBAAX,MAA0CI,GAEvD,GAAmE,OAA/D,EAAKrgB,MAAMigB,sBAAX,MAA0CI,GAAcC,IAGvDN,IAAa,EAAKhgB,MAAMigB,sBAAX,MAA0CI,GAAcC,GAAxD,WAA0E,CAC3FF,GAAa,EACb,MAMJ,QAA+ClkB,IAA3C,EAAK8D,MAAMkgB,mBAAX,OACCG,KAAgB,EAAKrgB,MAAMkgB,mBAAX,MACnB,IAAK,IAAII,KAAK,EAAKtgB,MAAMkgB,mBAAX,MAAuCG,GAEpD,GAAgE,OAA5D,EAAKrgB,MAAMkgB,mBAAX,MAAuCG,GAAcC,IAGpDN,IAAa,EAAKhgB,MAAMkgB,mBAAX,MAAuCG,GAAcC,GAArD,WAAuE,CACxFF,GAAa,EACb,MAMJ,QAAmDlkB,IAA/C,EAAK8D,MAAMmgB,uBAAX,OACCE,KAAgB,EAAKrgB,MAAMmgB,uBAAX,MACnB,IAAK,IAAIG,KAAK,EAAKtgB,MAAMmgB,uBAAX,MAA2CE,GAExD,GAAoE,OAAhE,EAAKrgB,MAAMmgB,uBAAX,MAA2CE,GAAcC,IAGxDN,IAAa,EAAKhgB,MAAMmgB,uBAAX,MAA2CE,GAAcC,GAAzD,WAA2E,CAC5FF,GAAa,EACb,MAMJ,OAAOA,GAtSD,EAAK9e,MAAQ,CAClBivB,WAAY,EAAKN,eAEjBQ,iBAAkB,EAElB3B,cAAe,GACfC,kBAAmB,EAEnBW,iBAAkB,GAClBC,qBAAsB,GAXL,E,0CA2SnB,WAEC,IAAIgB,EAAY,GACZC,EAAyB,iBACzBvQ,GAAgB,EAChB7e,KAAKxB,MAAMwwB,WAAWjrB,OAAS,GAAK/D,KAAKF,MAAMmvB,kBAAoB,GAAKjvB,KAAKF,MAAMmvB,iBAAmBjvB,KAAKxB,MAAMwwB,WAAWjrB,SAE3H/D,KAAKxB,MAAMwwB,WAAWhvB,KAAKF,MAAMmvB,kBAAjC,UACHG,EAAyB,kBACzBvQ,EAAe,QAGfuQ,EAAyB,eAAiBpvB,KAAKxB,MAAMwwB,WAAWhvB,KAAKF,MAAMmvB,kBAAjC,uBAC1CpQ,EAAe7e,KAAKxB,MAAMwwB,WAAWhvB,KAAKF,MAAMmvB,kBAAjC,cAEhBE,EAAYnvB,KAAKxB,MAAMwwB,WAAWhvB,KAAKF,MAAMmvB,kBAAjC,WAGb,IAAIlE,EAAmB,GAEvB,IAAK,IAAI1sB,KAAS2B,KAAKxB,MAAMwwB,WAE5B,GAAIhvB,KAAKxB,MAAMwwB,WAAW3wB,GAAtB,SAA0C,CAC7C,IAAIgxB,EAAarvB,KAAKxB,MAAMwwB,WAAW3wB,GAAtB,WAEbixB,EAAW,4BACX52B,OAAOsH,KAAKF,MAAMmvB,oBAAsB5wB,IAC3CixB,EAAW,qBAGZvE,EAAiBtyB,KAChB,wBAAoBwH,UAAWqvB,EAAU/pB,MAAOlH,EAAO0O,QAAS/M,KAAKkvB,oBAArE,SACEG,GADWhxB,QAKV,CACJ,IAAIgxB,EAAarvB,KAAKxB,MAAMwwB,WAAW3wB,GAAtB,UAEbixB,EAAW,4BACX52B,OAAOsH,KAAKF,MAAMmvB,oBAAsB5wB,IAC3CixB,EAAW,qBAGZvE,EAAiBtyB,KAChB,wBAAoBwH,UAAWqvB,EAAU/pB,MAAOlH,EAAO0O,QAAS/M,KAAKkvB,oBAArE,SACEG,EAAWE,cADAlxB,IAWhB,IAAImxB,EAAgB,GACpB,IAAK,IAAInxB,KAAS8wB,EAAW,CAE5B,IAAIM,EAAc,wBACdjR,EAAW2Q,EAAU9wB,GAAV,WAEXugB,EAAa5e,KAAKse,iBAAiBO,EAAcL,GAEjDkR,EAAU1vB,KAAKF,MAAMivB,WAAWlQ,GAChC8Q,OAAWj1B,EACf,IACCi1B,EAAWD,EAAQlR,GAEpB,UAIA,OAAS2Q,EAAU9wB,GAAV,YAER,KAAK,EAEJoxB,EAAc,cAAC,GAAD,CACbtD,YAAawD,EACbzzB,GAAIsiB,EACJvkB,UAAW4kB,EACXwN,OAAQrsB,KAAK0uB,eACblC,YAAa5N,IAEd,MAED,KAAK,EACJ6Q,EAAc,cAAC,GAAD,CAEbtD,YAAawD,EACbzzB,GAAIsiB,EACJvkB,UAAW4kB,EACXwN,OAAQrsB,KAAK0uB,eACblC,YAAa5N,IAEd,MAED,KAAK,EACJ6Q,EAAc,cAAC,GAAD,CAEbtD,YAAawD,EACbzzB,GAAIsiB,EACJvkB,UAAW4kB,EACXwN,OAAQrsB,KAAK0uB,eACblC,YAAa5N,IAEd,MAED,KAAK,EACJ6Q,EAAc,cAAC,GAAD,CAEbhD,QAAS0C,EAAU9wB,GAAV,cAET8tB,YAAawD,EACbzzB,GAAIsiB,EACJvkB,UAAW4kB,EACXwN,OAAQrsB,KAAK0uB,eACblC,YAAa5N,IAEd,MACD,QACC6Q,EAAc,wBAKhBD,EAAc/2B,KACb,gCACC,qBAAKwH,UAAU,WAAf,SACC,sBAAKA,UAAU,MAAf,UACC,6BACEkvB,EAAU9wB,GAAV,OAEF,8BACEoxB,SAIJ,yBAXSpxB,IAiBZ,GAA6B,IAAzBmxB,EAAczrB,OAAc,CAC/B,IACIya,EAAW,OAEXI,GAAa,EACjB,IAAK,IAAIE,KAAK9e,KAAKxB,MAAMigB,sBAAX,MACb,GAAKD,IAAaxe,KAAKxB,MAAMigB,sBAAX,MAA0CK,GAAI,CAC/DF,GAAa,EACb,MAGF,IAAK,IAAIE,KAAK9e,KAAKxB,MAAMkgB,mBAAX,MACb,GAAKF,IAAaxe,KAAKxB,MAAMkgB,mBAAX,MAAuCI,GAAI,CAC5DF,GAAa,EACb,MAGF,IAAK,IAAIE,KAAK9e,KAAKxB,MAAMmgB,uBAAX,MACb,GAAKH,IAAaxe,KAAKxB,MAAMmgB,uBAAX,MAA2CG,GAAI,CAChEF,GAAa,EACb,MAIF,IAAI8Q,EAAU1vB,KAAKF,MAAMivB,WAAWlQ,GAChC8Q,OAAWj1B,EACf,IACCi1B,EAAWD,EAAO,KAEnB,UAIAF,EAAc/2B,KACb,gCACC,qBAAKwH,UAAU,WAAf,SACC,sBAAKA,UAAU,MAAf,UACC,6EAGA,8BACC,cAAC,GAAD,CACCksB,YAAawD,EACbzzB,GAAIsiB,EACJvkB,UA3CS,MA4CToyB,OAAQrsB,KAAK0uB,eACblC,YAAa5N,WAKjB,yBAjBS,IAuBZ,IAAI5R,EAA+C,IAAjChN,KAAKF,MAAMytB,mBAA+D,IAApCvtB,KAAKF,MAAMquB,qBAC/Dvf,EAA+C,IAAjC5O,KAAKF,MAAMytB,mBAA+D,IAApCvtB,KAAKF,MAAMquB,qBAC/DlhB,EAA6C,IAAjCjN,KAAKF,MAAMytB,mBAA+D,IAApCvtB,KAAKF,MAAMquB,qBAI7DxK,EAAa,GACjB,IAAK,IAAItlB,KAAS2B,KAAKF,MAAMwtB,cAC5B3J,EAAWlrB,KACVuH,KAAKF,MAAMwtB,cAAcjvB,GAAzB,MAGF,IAAK,IAAIA,KAAS2B,KAAKF,MAAMouB,iBAC5BvK,EAAWlrB,KACVuH,KAAKF,MAAMouB,iBAAiB7vB,GAA5B,MAUF,OAP0B,IAAtBslB,EAAW5f,QACd4f,EAAWlrB,KACV,YAMD,qBAAKwH,UAAU,WAAf,SACC,sBAAKA,UAAU,kBAAf,UAEC,sBAAKA,UAAU,cAAf,UACC,sBAAKA,UAAU,cAAf,UACC,qBAAKA,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,6BACEmvB,QAIJ,qBAAKnvB,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACE8qB,SAIJ,sBAAK9qB,UAAU,YAAf,UACEuvB,EAED,qBAAKvvB,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,wBAAQA,UAAU,0BAA0B0gB,YAAa3gB,KAAKqtB,YAA9D,+BAMJ,eAACtlB,EAAA,EAAD,CAAOC,KAAMgF,EAAa7J,QAAQ,UAAlC,UACC,cAAC4E,EAAA,EAAME,QAAP,sBACA,uBACA,+DAGA,0BAGD,eAACF,EAAA,EAAD,CAAOC,KAAM4G,EAAazL,QAAQ,UAAlC,UACC,cAAC4E,EAAA,EAAME,QAAP,uBACA,uBACA,gDAGA,0BAGD,eAACF,EAAA,EAAD,CAAOC,KAAMiF,EAAW9J,QAAQ,SAAhC,UACC,cAAC4E,EAAA,EAAME,QAAP,qBACA,uBACA,4BACE0b,IAEF,mC,GApkBsBvjB,IAAMC,WA6kBnB6H,eAAWilB,I,UCjhCpB9a,GAAgB,eAEhBud,GAAc,CACnB,QACA,SACA,YACA,aACA,eACA,cACA,YACA,cACA,aAGKC,GAAa,CAClB,OACA,SACA,SACA,QACA,WAIKxQ,G,kDAEL,WAAY7gB,GAAQ,IAAD,8BACZ,cAAMA,IACPsB,MAAQ,CACZwf,OAAQ,GAHS,E,0CAOnB,WAEC,IAAIC,EAAY,GACZC,EAAY,GAEZxf,KAAKxB,MAAMihB,YAAc,IAC5BF,EAAY,YAGTvf,KAAKxB,MAAMihB,YAAczf,KAAKxB,MAAMkhB,YAAY1f,KAAKxB,MAAMmhB,WAAW,IACzEH,EAAY,YAIb,IADA,IAAII,EAAgB,GACXd,GAAK9e,KAAKF,MAAMwf,OAAQR,GAAK9e,KAAKF,MAAMwf,OAAQR,IAAK,CAC7D,IAAIe,EAAU,GAEVC,EAAOhB,EAAE9e,KAAKxB,MAAMihB,WACpBK,EAAO,GAAKA,GAAQ9f,KAAKxB,MAAMkhB,YAAY1f,KAAKxB,MAAMmhB,aAIhD,IAANb,IACHe,EAAU,WAGXD,EAAcnnB,KACb,wBAAgBwH,UAAW,2BAA6B4f,EAASta,MAAOua,EAAM/S,QAAS/M,KAAKxB,MAAMuhB,YAAlG,SACED,GADWhB,KAMf,OACC,qBAAK7e,UAAY,YAAjB,SACC,qBAAKA,UAAY,YAAjB,SACC,qBAAKA,UAAU,MAAf,SACC,sBAAKA,UAAU,MAAf,UACC,wBAAQA,UAAW,2BAA6Bsf,EAAWha,MAAM,MAAMwH,QAAS/M,KAAKxB,MAAMwhB,eAA3F,kBAICJ,EAED,wBAAQ3f,UAAW,2BAA6Buf,EAAWja,MAAM,MAAMwH,QAAS/M,KAAKxB,MAAMwhB,eAA3F,+B,GArDiB5f,IAAMC,WAgExByvB,G,kDAEL,WAAYtxB,GAAQ,IAAD,8BACZ,cAAMA,IA2CbuxB,cAAgB,WAEf,IADA,IAAIC,EAAc,GACTlR,EAAI,EAAGA,EAAI+Q,GAAW9rB,OAAQ+a,IACtCkR,EAAYv3B,MAAK,GAGlB,OAAOu3B,GAlDW,EAqDnBC,cAAgB,WAEf,IADA,IAAID,EAAc,GACTlR,EAAI,EAAGA,EAAI,EAAKtgB,MAAMoW,aAAa7Q,OAAQ+a,IACnDkR,EAAYv3B,MAAK,GAGlB,OAAOu3B,GA3DW,EA8DnBE,oBAAsB,SAAC9qB,GACtB,EAAKzG,SAAS,CACbwxB,sBAAuBllB,OAAO7F,EAAME,OAAOC,UAhE1B,EAoEnB6qB,YAAc,SAAChrB,GACd,EAAKzG,SAAS,CACb0xB,WAAYjrB,EAAME,OAAOC,SAtER,EA0EnB+qB,kBAAoB,SAAClrB,GACpB,IAAImrB,EAAe,EAAKzwB,MAAM0wB,gBAAgBC,QAE9CF,EAAatlB,OAAO7F,EAAME,OAAOC,SAAWgrB,EAAatlB,OAAO7F,EAAME,OAAOC,QAE7E,EAAK5G,SAAS,CACb6xB,gBAAiBD,KAhFA,EAmFnBG,kBAAoB,SAACtrB,GAEpB,IAAImrB,EAAe,EAAKzwB,MAAM6wB,gBAAgBF,QAE9CF,EAAatlB,OAAO7F,EAAME,OAAOC,SAAWgrB,EAAatlB,OAAO7F,EAAME,OAAOC,QAE7E,EAAK5G,SAAS,CACbgyB,gBAAiBJ,KA1FA,EA8FnBK,iBAAmB,SAAC9qB,GACnB,IAAIyO,EAEJ,GAA+B,IAA3BzO,EAAY,YAIX,IAA+B,IAA3BA,EAAY,OAGpB,OAFA,EAAKtH,MAAM6H,SAASgM,GAAe,oBAAqB,4BACxD,EAAK7T,MAAM6P,aAAa,EAAKwiB,WAIM,IAA3B/qB,EAAY,QAIe,IAA3BA,EAAY,QAIe,IAA3BA,EAAY,QAIZA,EAAY,OAIrB,EAAKtH,MAAM6H,SAASgM,GAAe,sBAAuB,WAC1DkC,EAAazO,EAAY,SACzB,EAAKnH,SAAS,CACbmyB,gBAAiB,EACjBC,eAAgBxc,KA/HC,EAkInByc,iBAAmB,SAACC,GAGnB,IACIC,EAAa,GAEjB,IAAK,IAAI7yB,KAAS4yB,EAObA,EAAe5yB,GAAf,cAAyC,EAAKG,MAAMsR,aAItDohB,EAAWz4B,KAAKw4B,EAAe5yB,IASlC,EAAKG,MAAM6H,SAASgM,GAAe,sBAAuB,WAC1D,EAAK1T,SAAS,CACbwyB,cAzBkB,GA0BlBC,cAAeF,EAEfJ,gBAAiB,KAjKA,EAoKnBD,UAAY,WACX,QAAiCn2B,IAA3B,EAAK8D,MAAMsR,YAA4B,E3B+nCf,SAACuhB,EAAUt4B,EAAkBC,GAE5D,IAAMU,EAAS,CACdC,QAAS,CAAEC,cAAc,OAAD,OAAS5C,KAGlCL,EAAckD,IAAI,sBAAuBH,GACxCP,MAAO,SAAAC,GAEP,IAAI+B,EAAW/B,EAAId,KACnB,IAAK,IAAI+F,KAASlD,EACjBA,EAASkD,GAAT,SAA6B,EAI9BtF,EAAkBoC,MAElB5B,OAAO,SAAAtB,GAEP,IAAIuB,EAASxB,EAAWC,GAExBe,EAAgBQ,M2BjpCd83B,CAAkB,EAAK9yB,MAAMsR,YAAa,EAAKkhB,iBAAkB,EAAKJ,kBACtE,EAAKjyB,SAAS,CACbmyB,gBAAiB,MA1KF,EAsLnBS,YAAc,WACb,IAAIC,EAAY,EAAK1xB,MAAMsxB,cAAcX,QAGzCe,EAAU/4B,KACT,CAAC,IAAM,EAAG,YAAc,EAAG,WAAa,GAAI,gBAAiB,EAAM,YAAa,EAAO,SAAU,IAGlG,EAAKkG,SAAS,CACbyyB,cAAeI,KA/LE,EAmMnBC,uBAAyB,SAACrsB,GAEzB,IAAIssB,EAAgB,EAAK5xB,MAAMsxB,cAAcX,QAC7CiB,EAActsB,EAAME,OAAOnG,MAA3B,YAAkDuyB,EAActsB,EAAME,OAAOnG,MAA3B,WAClDuyB,EAActsB,EAAME,OAAOnG,MAA3B,SAA8C,EAE9C,EAAKR,SAAS,CACbyyB,cAAeM,KA1ME,EA8MnBnP,aAAe,SAACnd,GAEf,IAAIod,EAAUvX,OAAO7F,EAAME,OAAOC,OAGlC,EAAK5G,SAAS,CACb8jB,QAASD,KApNQ,EAuNnBE,iBAAmB,SAACtd,GAEnB,IAAIod,EAAUvX,OAAO,EAAKnL,MAAM2iB,SAEhC,GAA2B,QAAvBrd,EAAME,OAAOC,OAGhB,IAFAid,GAAoB,GAEN,EAAK1iB,MAAM6xB,WAAW5tB,OAAO,EAAKjE,MAAM6f,WACrD,YAGG,GAA2B,QAAvBva,EAAME,OAAOC,QACrBid,GAAoB,GAEN,EACb,OAIF,EAAK7jB,SAAS,CACb8jB,QAASD,KA3OQ,EA+OnBoP,cAAgB,SAACxsB,GAEhB,IAAIysB,EAAezsB,EAAME,OAAOnG,KAAKrH,MAAM,KACvC45B,EAAgB,EAAK5xB,MAAMsxB,cAAcX,QAG7CiB,EAAeG,EAAa,IAA5B,YAAkD5mB,OAAO4mB,EAAa,IACtEH,EAAeG,EAAa,IAA5B,SAA8C,EAE9C,EAAKlzB,SAAS,CACbyyB,cAAeM,KAzPE,EA4PnBxB,oBAAsB,SAAC9qB,GACtB,EAAKzG,SAAS,CACbwxB,sBAAuBllB,OAAO7F,EAAME,OAAOC,UA9P1B,EAkQnBusB,mBAAqB,SAAChsB,GACrB,IAAIyO,EAEJ,GAA+B,IAA3BzO,EAAY,YAIX,IAA+B,IAA3BA,EAAY,OAGpB,OAFA,EAAKtH,MAAM6H,SAASgM,GAAe,oBAAqB,sBACxD,EAAK7T,MAAM6P,aAAa,EAAK0jB,wBAIM,IAA3BjsB,EAAY,QAIe,IAA3BA,EAAY,QAIe,IAA3BA,EAAY,QAIZA,EAAY,OAIrB,EAAKtH,MAAM6H,SAASgM,GAAe,gBAAiB,WACpDkC,EAAazO,EAAY,SACzB,EAAKnH,SAAS,CACbqzB,kBAAmB,EACnBC,iBAAkB1d,KAnSD,EAsSnB2d,oBAAsB,SAACC,EAAUC,GAGhC,IAAIC,EAAWpnB,OAAOknB,GAClBG,EAAO,EAAKxyB,MAAMsxB,cAAcX,QACpC6B,EAAKC,OAAOF,EAAS,GAErB,EAAK7zB,MAAM6H,SAASgM,GAAe,gBAAiB,WACpD,EAAK1T,SAAS,CACbyyB,cAAekB,IAGQ,IAApBF,GACH,EAAKzzB,SAAS,CACbqzB,kBAAmB,KApTH,EAyTnBQ,YAAc,SAACptB,GAEd,IAAIqtB,EAAgB,EAAK3yB,MAAMsxB,cAAenmB,OAAO7F,EAAME,OAAOC,QAE9DrJ,EAAKu2B,EAAa,GAEjBA,EAAa,U3B4lCe,SAAC32B,EAASC,EAAYhD,EAAkBC,GAE1E,IAAMU,EAAS,CACdC,QAAS,CAAEC,cAAc,OAAD,OAAS5C,KAG5BsB,EAAO,CAGZ4D,GAAIH,GAGLpF,EAAcuC,KAAK,yBAA0BZ,EAAMoB,GAClDP,MAAO,SAAAC,GAEP,IAAI+B,EAAW/B,EAAId,KAEnBS,EAAkB+C,EAASX,MAE3B5B,OAAO,SAAAtB,GACP,IAAIuB,EAASxB,EAAWC,GAExBe,EAAgBQ,M2B7mCfk5B,CAAqBznB,OAAO7F,EAAME,OAAOC,OAAQrJ,EAAI,EAAKg2B,oBAAqB,EAAKJ,oBACpF,EAAKnzB,SAAS,CACbqzB,kBAAmB,KALpB,EAAKE,oBAAqBjnB,OAAO7F,EAAME,OAAOC,OAAQ,IAjUrC,EA2UnBotB,kBAAoB,SAACvtB,GACpB,IAAIwtB,EAAa3nB,OAAO7F,EAAME,OAAOnG,MACjC0zB,EAAc5nB,OAAO7F,EAAME,OAAOC,OAElC+sB,EAAO,EAAKxyB,MAAMsxB,cAAcX,QACpC6B,EAAKM,GAAL,WAA+BL,OAAQM,EAAY,GACnDP,EAAKM,GAAL,SAA8B,EAK9B,EAAKj0B,SAAS,CACbyyB,cAAekB,KAvVE,EA2VnBQ,kBAAoB,SAAChtB,GACpB,IAAIyO,EAEJ,GAA+B,IAA3BzO,EAAY,YAIX,IAA+B,IAA3BA,EAAY,OAGpB,OAFA,EAAKtH,MAAM6H,SAASgM,GAAe,oBAAqB,4BACxD,EAAK7T,MAAM6P,aAAa,EAAK0jB,wBAIM,IAA3BjsB,EAAY,QAIe,IAA3BA,EAAY,QAIe,IAA3BA,EAAY,QAIZA,EAAY,OAIrB,EAAKtH,MAAM6H,SAASgM,GAAe,uBAAwB,WAC3DkC,EAAazO,EAAY,SACzB,EAAKnH,SAAS,CACbo0B,gBAAiB,EACjBC,eAAgBze,KA5XC,EA+XnB0e,kBAAoB,SAACC,EAAYd,GAChC,IAAM,EAAKtyB,MAAMsxB,cAAc8B,GAAzB,QAAkD,CACvD,IAAIZ,EAAO,EAAKxyB,MAAMsxB,cAAcX,QACpC6B,EAAKY,GAAL,GAAyBjoB,OAAOmnB,EAAgBt6B,MAAM,KAAK,IAC3Dw6B,EAAKY,GAAL,SAA8B,EAE9B,EAAKv0B,SAAS,CACbyyB,cAAekB,IAIjB,EAAK9zB,MAAM6H,SAASgM,GAAe,uBAAwB,WAC3D,EAAK1T,SAAS,CACbo0B,gBAAiB,KA5YA,EA+YnBI,cAAgB,SAAC/tB,GAEhB,IAAIqtB,EAAgB,EAAK3yB,MAAMsxB,cAAchsB,EAAME,OAAOC,OAEtDrJ,EAAKu2B,EAAa,GAClBW,EAAaX,EAAa,YAC1BY,EAAaZ,EAAa,WAC1Ba,EAAkBb,EAAa,eAE/Bc,EAAa,GACjB,IAAK,IAAIl1B,KAASo0B,EAAa,WAC9Bc,EAAW96B,KAAMg6B,EAAa,WAAep0B,GAA5B,a3B69BY,SAACvC,EAASC,EAAYy3B,EAAiBC,EAAsBC,EAAcve,EAAiBpc,EAAkBC,GAE7I,IAAMU,EAAS,CACdC,QAAS,CAAEC,cAAc,OAAD,OAAS5C,KAG5BsB,EAAO,CAGZ4D,GAAIH,EAGJI,WAAYq3B,EACZG,eAAgBF,EAEhB7D,YAAa8D,EACbvE,UAAWha,GAGZxe,EAAcuC,KAAK,sBAAuBZ,EAAMoB,GAC/CP,MAAO,SAAAC,GAEP,IAAI+B,EAAW/B,EAAId,KAEnBS,EAAkB+C,EAASX,MAE3B5B,OAAO,SAAAtB,GACP,IAAIuB,EAASxB,EAAWC,GAExBe,EAAgBQ,M2Bv/BhBo6B,CAAkB3oB,OAAO7F,EAAME,OAAOC,OAAQrJ,EAAIm3B,EAAYC,EAAiBF,EAAYG,EAAY,EAAKN,kBAAmB,EAAKH,mBACpI,EAAKn0B,SAAS,CACbo0B,gBAAiB,KA/ZA,EA2dnBc,wBAA0B,SAAC/tB,GAC1B,IAAIyO,EAEJ,GAA+B,IAA3BzO,EAAY,YAIX,IAA+B,IAA3BA,EAAY,OAGpB,OAFA,EAAKtH,MAAM6H,SAASgM,GAAe,oBAAqB,uBACxD,EAAK7T,MAAM6P,aAAa,EAAKylB,kBAIM,IAA3BhuB,EAAY,QAIe,IAA3BA,EAAY,QAIe,IAA3BA,EAAY,QAIZA,EAAY,OAIrB,EAAKtH,MAAM6H,SAASgM,GAAe,iBAAkB,WACrDkC,EAAazO,EAAY,SACzB,EAAKnH,SAAS,CACbo1B,gBAAiB,EACjBC,eAAgBzf,KA5fC,EA+fnB0f,yBAA2B,SAAC9e,GAE3B,EAAK3W,MAAM6H,SAASgM,GAAe,iBAAkB,WACrD,EAAK1T,SAAS,CACbgzB,WAAYxc,EACZ+e,SAAS,EAETH,gBAAiB,KAtgBA,EAygBnBD,iBAAmB,WAKlB,IAAIK,EAAgB,GACpB,IAAK,IAAI91B,KAAS,EAAKyB,MAAM0wB,gBACxB,EAAK1wB,MAAM0wB,gBAAgBnyB,IAC9B81B,EAAc17B,KAAK4F,GAIrB,IAAI+1B,EAAgB,GACpB,IAAK,IAAI/1B,KAAS,EAAKyB,MAAM6wB,gBACxB,EAAK7wB,MAAM6wB,gBAAgBtyB,IAC9B+1B,EAAc37B,KAAK,EAAK+F,MAAMoW,aAAavW,IAO5C5C,EAAqB,EAAKqE,MAAMuwB,WAAY8D,EAAeC,EAAe,EAAKH,yBAA0B,EAAKJ,yBAC9G,EAAKl1B,SAAS,CACbo1B,gBAAiB,KAjiBD,EA0iBnBM,kBAAoB,SAACjvB,GACpB,IAAIktB,EAAO,EAAKxyB,MAAMsxB,cAAcX,QAChCoC,EAAc5nB,OAAO7F,EAAME,OAAOC,OAClC+uB,EAAc,EAAKx0B,MAAMqwB,sBAE7B,GAAImE,GAAe,EAAG,CAGrB,IAEIC,EAAe,OACJ75B,IAHF43B,EAAKgC,GAAL,WAAgC30B,MAAK,SAAAC,GAAO,OAAIA,EAAO,aAAmB,EAAKE,MAAM6xB,WAAYkB,GAAvB,eAItFP,EAAKgC,GAAL,SAA+B,EAC/BhC,EAAKgC,GAAL,WAAgC77B,KAAK,EAAKqH,MAAM6xB,WAAYkB,IAC5D0B,EAAe,GAGfA,EAAe,EAGhB,EAAK51B,SAAS,CACbyyB,cAAekB,EACfkC,YAAaD,MA9jBf,EAAKz0B,MAAQ,CAEZqxB,cAAe,GACfC,cAAe,GAEfO,WAAY,GAGZlP,QAAS,EACT9C,WAAY,EAEZ0Q,WAAY,GAEZG,gBAAiB,EAAKT,gBACtBY,gBAAiB,EAAKV,gBAEtBiE,SAAS,EAET/D,uBAAwB,EAExBqE,YAAa,EAEb1D,gBAAiB,EACjBC,eAAgB,GAEhBgC,gBAAiB,EACjBC,eAAgB,GAEhBe,gBAAiB,EACjBC,eAAgB,GAEhBhC,kBAAmB,EACnBC,iBAAkB,IAlCD,E,qDAsCnB,WAGCjyB,KAAK6wB,c,oBA6hBN,WAAU,IAAD,OAGJ4D,EAAa,GAHT,WAMCp2B,GAER,IAAIq2B,EAAY,EAAK50B,MAAMsxB,cAAc/yB,GAGrCs2B,EAAwB,GAC5B,IAAK,IAAIC,KAAYF,EAAS,WAAgB,CAE7C,IAAIG,EAASH,EAAS,WAAeE,GAAxB,KAA0CE,UAAU,EAAG,IAAM,MAG1EH,EAAsBl8B,KAErB,+BACC,oBAAIiwB,MAAM,MAAV,SACC,wBAAQzoB,UAAU,4BAA4BgQ,cAAY,WAAWQ,cAAa,yBAAyBpS,EAAMu2B,EAAjH,SACEC,MAGH,6BAAKhF,GAAW6E,EAAS,WAAeE,GAAxB,cAEhB,6BACC,wBAAQ30B,UAAU,QAAQyH,KAAK,SAASnC,MAAOqvB,EAAUz1B,KAAMd,EAAO0O,QAAS,EAAK4lB,kBAAmBhiB,aAAW,QAAlH,sBATOikB,GAcT,6BACC,oBAAIlM,MAAM,MAAMkB,QAAQ,IAAI3pB,UAAU,WAAW/D,GAAI,wBAAwBmC,EAAMu2B,EAAnF,SACEF,EAAS,WAAeE,GAAxB,QAFM,EAAIA,EAAWF,EAAS,WAAe3wB,SAQb,IAAjC4wB,EAAsB5wB,QACzB4wB,EAAsBl8B,KACrB,6BACC,oBAAIiwB,MAAM,MAAMkB,QAAQ,IAAxB,4BADQ,IASX,IAAImL,GAAgBL,EAAS,QAEzBM,EAAgB,EACpB,IACCA,EAAgBN,EAAS,WAAe3wB,OAEzC,UAKA0wB,EAAWh8B,KAEV,qBAAKwH,UAAU,sCAAf,SACC,sBAAKA,UAAU,OAAf,UACC,sBAAKA,UAAU,cAAf,UACG80B,GACD,qBAAK90B,UAAU,cAAf,8BAFF,SAOC,wBAAQA,UAAU,gCAAgCd,KAAK,OAAOoG,MAAOlH,EAAO0O,QAAS,EAAKylB,YAA1F,kBAID,sBAAKvyB,UAAU,YAAf,UACC,sBAAKA,UAAU,MAAf,UACC,qBAAKA,UAAU,QACf,qBAAKA,UAAU,OAAf,2BAGA,qBAAKA,UAAU,OAAf,SACC,sBAAKA,UAAU,WAAf,UACC,qBAAKA,UAAU,yBAAyByH,KAAK,SAASxL,GAAI,cAAcmC,EAAO4R,cAAY,WAAWC,gBAAc,OAAOC,gBAAc,QAAzI,SACGyf,GAAa8E,EAAS,eAEzB,qBAAKz0B,UAAU,gBAAgBmQ,kBAAiB,cAAc/R,EAA9D,SACEuxB,GAAYtO,KAAI,SAACgJ,EAAOC,GAAR,OAChB,8BACC,wBAAQtqB,UAAU,gBAAgBd,KAAO,CAACd,EAAOksB,GAAOxd,QAAS,EAAK6kB,cAAtE,SACEtH,KAFOC,aASd,qBAAKtqB,UAAU,WAEhB,sBAAKA,UAAU,UAAf,UACC,qBAAKA,UAAU,QACf,sBAAKA,UAAU,OAAf,UACC,4BAAG,4BAAG,4BAAI+0B,QADX,cAGA,qBAAK/0B,UAAU,YAAf,SACC,wBAAQA,UAAU,oBAAoByH,KAAK,SAASuI,cAAY,WAAWQ,cAAa,YAAYpS,EAAO8R,gBAAc,QAAQO,gBAAe,WAAWrS,EAA3J,oBAID,qBAAK4B,UAAU,WAEhB,sBAAKA,UAAU,MAAf,UACC,qBAAKA,UAAU,QACf,qBAAKA,UAAU,MAAf,SACC,sBAAKA,UAAU,iCAAf,UACC,uBAAOyH,KAAK,WAAWzH,UAAU,uBAAuB/D,GAAI,kBAAkBmC,EAAOc,KAAMd,EAAOkH,MAAOmvB,EAAS,WAAgB/sB,SAAU,EAAK8pB,uBAAwBhH,QAASiK,EAAS,aAC3L,uBAAOz0B,UAAU,uBAAuB4H,QAAS,kBAAkBxJ,EAAnE,0BAGF,qBAAK4B,UAAU,WAEhB,qBAAKA,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,wBAAQA,UAAU,kBAAkBsF,MAAOlH,EAAO0O,QAAS,EAAKomB,cAAhE,yBAQH,qBAAKlzB,UAAU,WAAW/D,GAAI,WAAWmC,EAAzC,SACC,sBAAK4B,UAAU,iBAAf,UAEC,wBAAOA,UAAU,QAAjB,UACC,gCACC,+BACC,oBAAIyoB,MAAM,MAAV,kBAEA,oBAAIA,MAAM,MAAV,kBAEA,oBAAIA,MAAM,MAAV,yBAIF,gCACEiM,MAZ0B,KAgB7B,wBAAQ10B,UAAU,kBAAkBsF,MAAOlH,EAAO0O,QAAS,EAAKmjB,oBAAqBjgB,cAAY,QAAQQ,cAAY,cAArH,qCAxFsDpS,KA3D5D,IAAK,IAAIA,KAAS2B,KAAKF,MAAMsxB,cAAgB,EAApC/yB,GAgKiB,IAAtBo2B,EAAW1wB,QACd0wB,EAAWh8B,KACV,qBAAKwH,UAAU,MAAf,0BAA0B,IAO5B,IAAIg1B,EAAoB,GAGxB,GAAIj1B,KAAKF,MAAM6xB,WAAW5tB,OAAS,EAIlC,IAAK,IAAI1F,EAAQ,EAAGA,EAAQ2B,KAAKF,MAAM6f,WAAYthB,IAAS,CAG3D,IAAI62B,EAAe72B,EAAQ2B,KAAKF,MAAM2iB,QAAQziB,KAAKF,MAAM6f,WAGzD,GAAIuV,GAAgBl1B,KAAKF,MAAM6xB,WAAW5tB,OAEzC,MAGD,IAAI8wB,EAAS70B,KAAKF,MAAM6xB,WAAWuD,GAAtB,KAA4CJ,UAAU,EAAG,IAAM,MAExEK,EAAoB,GACxB,IAAK,IAAIC,KAAYp1B,KAAKF,MAAM6xB,WAAWuD,GAAtB,iBACpBC,EAAkB18B,KACjB,qBAAKwH,UAAU,aAAf,SACC,qBAAKA,UAAU,OAAf,SACED,KAAKF,MAAM6xB,WAAWuD,GAAtB,iBAAwDE,GAAxD,UAK4B,IAA7BD,EAAkBpxB,QACrBoxB,EAAkB18B,KACjB,qBAAKwH,UAAU,uBAAf,0BAOFg1B,EAAkBx8B,KAEjB,+BACC,oBAAIiwB,MAAM,MAAV,SACC,wBAAQzoB,UAAU,4BAA4BgQ,cAAY,WAAWQ,cAAa,oBAAoBykB,EAAtG,SACEL,MAIH,6BAAMhF,GAAW7vB,KAAKF,MAAM6xB,WAAWuD,GAAtB,cACjB,6BACC,wBAAQj1B,UAAU,4BAA4BgQ,cAAY,WAAWQ,cAAa,mBAAmBykB,EAArG,SACGl1B,KAAKF,MAAM6xB,WAAWuD,GAAtB,iBAAwDnxB,WAG5D,6BACC,wBAAQ9D,UAAU,4BAA4BsF,MAAO2vB,EAAcnoB,QAAS/M,KAAKq0B,kBAAjF,mBAdOa,GAmBT,6BACC,oBAAIxM,MAAM,MAAMkB,QAAQ,IAAI3pB,UAAU,WAAW/D,GAAI,mBAAmBg5B,EAAxE,SACGl1B,KAAKF,MAAM6xB,WAAWuD,GAAtB,QAFK,EAAIA,EAAel1B,KAAKF,MAAM6xB,WAAW5tB,QAKlD,6BACC,oBAAI2kB,MAAM,MAAMkB,QAAQ,IAAI3pB,UAAU,WAAW/D,GAAI,kBAAkBg5B,EAAvE,SACC,sBAAKj1B,UAAU,MAAf,UACC,qBAAKA,UAAU,QACbk1B,EACF,qBAAKl1B,UAAU,cALT,EAAIi1B,EAAe,EAAEl1B,KAAKF,MAAM6xB,WAAW5tB,cAalD/D,KAAKF,MAAMo0B,QACde,EAAkBx8B,KACjB,6BACC,oBAAIiwB,MAAM,MAAMkB,QAAQ,IAAxB,0BADQ,IAQVqL,EAAkBx8B,KACjB,6BACC,oBAAIiwB,MAAM,MAAMkB,QAAQ,IAAxB,kCADQ,IAWZ,IAAI5c,EAA6C,IAA/BhN,KAAKF,MAAMgxB,iBAAwD,IAA/B9wB,KAAKF,MAAMizB,iBAA0D,IAAjC/yB,KAAKF,MAAMkyB,kBACjGpjB,EAA6C,IAA/B5O,KAAKF,MAAMizB,iBAA0D,IAAjC/yB,KAAKF,MAAMkyB,kBAC7D/kB,EAA2C,IAA/BjN,KAAKF,MAAMgxB,iBAAwD,IAA/B9wB,KAAKF,MAAMizB,iBAA0D,IAAjC/yB,KAAKF,MAAMkyB,kBAI/FmC,EAAgB,GACpB,IAAK,IAAI91B,KAASwxB,GAAY,CAE7B,IAAIwF,EAAe,sBACfr1B,KAAKF,MAAM0wB,gBAAgBnyB,KAC9Bg3B,EAAe,eAGhBlB,EAAc17B,KACb,qBAAKwH,UAAU,OAAf,SACC,wBAAQA,UAAW,OAASo1B,EAAc9vB,MAAOlH,EAAmB0O,QAAS/M,KAAKswB,kBAAlF,SACET,GAAWxxB,IADgDA,IADnCA,IAQ7B,IAAI+1B,EAAgB,GACpB,IAAK,IAAI/1B,KAAS2B,KAAKxB,MAAMoW,aAAc,CAE1C,IAAIygB,EAAe,sBACfr1B,KAAKF,MAAM6wB,gBAAgBtyB,KAC9Bg3B,EAAe,eAGhBjB,EAAc37B,KACb,qBAAKwH,UAAU,OAAf,SACC,wBAAQA,UAAW,OAASo1B,EAAc9vB,MAAOlH,EAAmB0O,QAAS/M,KAAK0wB,kBAAlF,SACE1wB,KAAKxB,MAAMoW,aAAavW,IADmCA,IADnCA,IAS7B,OACC,sBAAK4B,UAAU,gBAAf,UAEE+M,GAAe,cAAC,GAAD,IAEhB,sBAAK/M,UAAU,kBAAf,WAEG+M,GACF,qBAAK/M,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,sBAAKA,UAAU,cAAf,UACC,qBAAKA,UAAU,cAAf,SACC,yDAED,sBAAKA,UAAU,YAAf,UACC,qBAAKA,UAAU,MAAf,SACEw0B,IAEF,qBAAKx0B,UAAU,WAAf,SACC,qBAAKA,UAAU,MAAf,SACC,wBAAQA,UAAU,kBAAkB8M,QAAS/M,KAAKuxB,YAAlD,wCAWN,eAACxpB,EAAA,EAAD,CAAOC,KAAMgF,EAAa7J,QAAQ,UAAlC,UACC,cAAC4E,EAAA,EAAME,QAAP,sBACA,uBACA,+DAGA,0BAGD,eAACF,EAAA,EAAD,CAAOC,KAAM4G,EAAazL,QAAQ,UAAlC,UACC,cAAC4E,EAAA,EAAME,QAAP,uBACA,uBACA,2DAEE,uBAFF,kDAKA,0BAGD,eAACF,EAAA,EAAD,CAAOC,KAAMiF,EAAW9J,QAAQ,SAAhC,UACC,cAAC4E,EAAA,EAAME,QAAP,qBACA,uBACA,4BA3Fa,CAAC,mBA8Fd,0BAGD,qBAAKhI,UAAU,aAAa/D,GAAG,aAAa6pB,SAAS,KAAKC,KAAK,SAAS5V,kBAAgB,cAAc6V,cAAY,OAAlH,SACC,qBAAKhmB,UAAU,qCAAqC+lB,KAAK,WAAzD,SACC,sBAAK/lB,UAAU,gBAAf,UACC,sBAAKA,UAAU,eAAf,UAEC,oBAAIA,UAAU,cAAd,4BACA,wBAAQyH,KAAK,iBAAiBzH,UAAU,QAAQimB,eAAa,QAAQvV,aAAW,QAAhF,SACE,sBAAMsV,cAAY,OAAlB,uBAIH,sBAAKhmB,UAAU,aAAf,UAEC,qBAAKA,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,sBAAKA,UAAU,sBAAf,UACC,uBAAOyH,KAAK,SAASzH,UAAU,uBAAuB2H,YAAY,cAAc+I,aAAW,SAAS2kB,mBAAiB,eAAe3tB,SAAU3H,KAAKowB,cACnJ,wBAAQnwB,UAAU,4BAA4B/D,GAAG,eAAe6Q,QAAS/M,KAAK8zB,iBAA9E,SACC,cAAC,KAAD,CAAQ7zB,UAAU,SAAS2B,MAAM,QAAQM,KAAM,cAMnD,qBAAKjC,UAAU,MAAf,SACC,sBAAKA,UAAU,MAAf,UAEC,wBAAQA,UAAU,4BAA4BgQ,cAAY,WAAWQ,cAAa,yBAAlF,6BAGA,uBACA,sBAAKxQ,UAAU,WAAW/D,GAAI,wBAA9B,UACC,qBAAK+D,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,6CAGF,sBAAKA,UAAU,MAAf,UACC,qBAAKA,UAAU,QACdk0B,EACD,qBAAKl0B,UAAU,WAEhB,sBAAKA,UAAU,MAAf,UACC,qBAAKA,UAAU,QACdm0B,EACD,qBAAKn0B,UAAU,WAEhB,+BAKH,wBAAOA,UAAU,QAAjB,UACC,gCACC,+BACC,oBAAIyoB,MAAM,MAAV,kBAEA,oBAAIA,MAAM,MAAV,kBACA,oBAAIA,MAAM,MAAV,uBACA,oBAAIA,MAAM,MAAV,sBAIF,gCACEuM,MAZ0B,KAgBD,IAA3Bj1B,KAAKF,MAAM00B,aACX,qBAAKv0B,UAAU,MAAf,SACC,qBAAKA,UAAU,mBAAf,sBAK0B,IAA3BD,KAAKF,MAAM00B,aACX,qBAAKv0B,UAAU,MAAf,SACC,qBAAKA,UAAU,mBAAf,uCAOH,qBAAKA,UAAU,eAAf,SAEC,cAAC,GAAD,CACCwf,WAAYzf,KAAKF,MAAM2iB,QAEvBzC,eAAgBhgB,KAAK0iB,iBACrB3C,YAAa/f,KAAKuiB,aAElB7C,YAAa1f,KAAKF,MAAM6xB,WAAW5tB,OACnC4b,WAAY3f,KAAKF,MAAM6f,gC,GA7hCDvf,IAAMC,WAyiCvB6H,eAAW4nB,ICloCpBzd,GAAgB,gBAEhBkjB,G,kDACL,WAAY/2B,GAAQ,IAAD,8BACZ,cAAMA,IAmCbg3B,kBAAoB,SAACpwB,GACpB,EAAKzG,SAAS,CACb82B,YAAarwB,EAAME,OAAOC,MAC1BmwB,kBAAkB,KAvCD,EA0CnBC,kBAAoB,SAACvwB,GACpB,EAAKzG,SAAS,CACbi3B,YAAaxwB,EAAME,OAAOC,MAC1BswB,kBAAkB,KA7CD,EAgDnBC,mBAAqB,SAAC1wB,GACrB,EAAKzG,SAAS,CACbo3B,aAAc3wB,EAAME,OAAOC,MAC3BswB,kBAAkB,KAnDD,EAsDnBG,eAAiB,SAAC5wB,GACjB,EAAKzG,SAAS,CACbs3B,SAAU7wB,EAAME,OAAOC,SAxDN,EA2DnB2wB,kBAAoB,SAAC9wB,GACpB,EAAKzG,SAAS,CACbw3B,aAAc/wB,EAAME,OAAOC,SA7DV,EAgEnB6wB,kBAAoB,SAAChxB,GACpB,EAAKzG,SAAS,CACb03B,YAAajxB,EAAME,OAAOC,SAlET,EAsEnB+wB,eAAiB,SAACxwB,GACjB,IAAIyO,EACJ,GAA+B,IAA3BzO,EAAY,YAIX,IAA+B,IAA3BA,EAAY,OAGpB,OAFA,EAAKtH,MAAM6H,SAASgM,GAAe,oBAAqB,yBACxD,EAAK7T,MAAM6P,aAAa,EAAKkoB,gBAIM,IAA3BzwB,EAAY,QAIe,IAA3BA,EAAY,QAIe,IAA3BA,EAAY,QAIZA,EAAY,OAIrB,EAAKtH,MAAM6H,SAASgM,GAAe,oBAAqB,WACxDkC,EAAazO,EAAY,SACzB,EAAKnH,SAAS,CACb63B,oBAAqBjiB,EACrBkiB,qBAAsB,KAtGL,EAyGnBC,eAAiB,SAACnrB,GAIjB,EAAK/M,MAAM6H,SAASgM,GAAe,oBAAqB,WACxD,EAAK1T,SAAS,CAEb83B,qBAAsB,KAhHL,EAmHnBF,eAAiB,Y5B8oCe,SAACx9B,EAAkBC,GACnD,IAAMU,EAAS,CACdC,QAAS,CAAEC,cAAc,OAAD,OAAS5C,KAGlCL,EAAckD,IAAI,uBAAwBH,GACzCP,MAAO,SAAAC,GAEP,IAAI+B,EAAW/B,EAAId,KAEnBS,EAAkBoC,MAElB5B,OAAO,SAAAtB,GAEP,IAAIuB,EAASxB,EAAWC,GAExBe,EAAgBQ,M4B7pChBm9B,CAAmB,EAAKD,eAAgB,EAAKJ,gBAC7C,EAAK33B,SAAS,CACb83B,qBAAsB,KAtHL,EA0HnBG,mBAAqB,SAAC9wB,GACrB,IAAIyO,EACJ,GAA+B,IAA3BzO,EAAY,YAIX,IAA+B,IAA3BA,EAAY,OAGpB,OAFA,EAAKtH,MAAM6P,aAAa,EAAKwoB,kBAC7B,EAAKr4B,MAAM6H,SAASgM,GAAe,oBAAqB,gBAIrB,IAA3BvM,EAAY,QAIe,IAA3BA,EAAY,QAIe,IAA3BA,EAAY,QAIZA,EAAY,OAIrB,EAAKtH,MAAM6H,SAASgM,GAAe,eAAgB,WACnDkC,EAAazO,EAAY,SAEzB,EAAKnH,SAAS,CACbm4B,mBAAoBviB,EACpBwiB,kBAAmB,KA3JF,EA8JnBC,mBAAqB,SAACzrB,GAGrB,EAAK/M,MAAM6H,SAASgM,GAAe,eAAgB,WACnD,EAAK1T,SAAS,CACbo4B,kBAAmB,KAnKF,EAsKnBF,YAAc,WAGT,GAzKc,EAkLnBI,kBAAoB,SAACnxB,GACpB,IAAIyO,EACJ,GAA+B,IAA3BzO,EAAY,aAIX,GAA+B,IAA3BA,EAAY,OAGpB,OAFA,EAAKtH,MAAM6P,aAAa,EAAK6oB,iBAC7B,EAAK14B,MAAM6H,SAASgM,GAAe,oBAAqB,eAIzD,EAAK7T,MAAM6H,SAASgM,GAAe,cAAe,WAClDkC,EAAazO,EAAY,SAEzB,EAAKnH,SAAS,CACbm4B,mBAAoBviB,EACpB4iB,iBAAkB,KAnMD,EAsMnBC,kBAAoB,SAAC7rB,GACpB,EAAK/M,MAAM6H,SAASgM,GAAe,cAAe,WAClD,EAAK1T,SAAS,CACbw4B,iBAAkB,KAzMD,EA4MnBD,WAAa,Y5BmmCmB,SAACG,EAAUC,EAASv+B,EAAkBC,GAEtE,IAAMU,EAAS,CACdC,QAAS,CAAEC,cAAc,OAAD,OAAS5C,KAI5BsB,EAAO,CACZ6R,WAAWktB,EACXjtB,UAAUktB,GAGX3gC,EAAcuE,IAAI,uBAAwB5C,EAAMoB,GAC/CP,MAAO,SAAAC,GAEP,IAAI+B,EAAW/B,EAAId,KAEnBS,EAAkBoC,MAElB5B,OAAO,SAAAtB,GAEP,IAAIuB,EAASxB,EAAWC,GAExBe,EAAgBQ,M4BznChB+9B,CAAoB,EAAKz3B,MAAMq2B,aAAc,EAAKr2B,MAAMu2B,YAAa,EAAKe,kBAAmB,EAAKH,mBAClG,EAAKt4B,SAAS,CACbw3B,aAAc,GACdE,YAAa,GACbc,iBAAkB,KAjND,EAqNnBK,sBAAwB,SAAC1xB,GAExB,IAAI2xB,GAAa,EACbC,GAAa,EACbC,EAAiB,GAGrB,GAA+B,IAA3B7xB,EAAY,YAIX,IAA+B,IAA3BA,EAAY,OAGpB,OAFA,EAAKtH,MAAM6H,SAASgM,GAAe,oBAAqB,wBACxD,EAAK7T,MAAM6P,aAAa,EAAKupB,gBAGzB,GAA+B,IAA3B9xB,EAAY,OAEpB,IAAK,IAAI+xB,KAAS/xB,EAAY,SACkB,IAA3CA,EAAY,SAAa+xB,GAAzB,MACHH,GAAa,EACbC,EAAiB7xB,EAAY,SAAa+xB,GAAzB,WAIgB,IAA3B/xB,EAAY,SAEpB2xB,GAAa,GAGd,EAAKj5B,MAAM6H,SAASgM,GAAe,kBAAmB,WAGtD,EAAK1T,SAAS,CACb+2B,iBAAkB+B,EAClB5B,iBAAkB6B,EAClBI,wBAAyBH,EACzBI,qBAAsB,KA1PL,EA6PnBC,sBAAwB,SAACzsB,GACxB,EAAK/M,MAAM6H,SAASgM,GAAe,kBAAmB,WACtD,EAAK1T,SAAS,CACb82B,YAAa,GACbG,YAAa,GACbG,aAAc,GACdL,kBAAkB,EAClBG,kBAAkB,EAClBkC,qBAAsB,KArQL,EAwQnBH,eAAiB,WACZ,EAAK93B,MAAM81B,YAAY7xB,OAAS,GAAK,EAAKjE,MAAMi2B,aAAe,EAGlE,EAAKp3B,SAAS,CACbk3B,kBAAkB,EAClBiC,wBAAyB,6BAKvB,EAAKh4B,MAAM81B,cAAgB,EAAK91B,MAAMi2B,e5BujCP,SAACkC,EAASC,EAASC,EAAUp/B,EAAkBC,GAEnF,IAAMU,EAAS,CACdC,QAAS,CAAEC,cAAc,OAAD,OAAS5C,KAI5BsB,EAAO,CACZm9B,YAAYwC,EACZh/B,SAASi/B,EACT7vB,UAAU8vB,GAGXxhC,EAAcuE,IAAI,2BAA4B5C,EAAMoB,GACnDP,MAAO,SAAAC,GAEP,IAAI+B,EAAW/B,EAAId,KAEnBS,EAAkBoC,MAElB5B,OAAO,SAAAtB,GAEP,IAAIuB,EAASxB,EAAWC,GAExBe,EAAgBQ,M4BrkChB4+B,CAAwB,EAAKt4B,MAAM21B,YAAa,EAAK31B,MAAM81B,YAAa,EAAK91B,MAAMi2B,aAAc,EAAKiC,sBAAuB,EAAKR,uBAClI,EAAK74B,SAAS,CACb+2B,kBAAkB,EAClBG,kBAAkB,EAClBkC,qBAAsB,KAXtB,EAAKp5B,SAAS,CACbk3B,kBAAkB,EAClBiC,wBAAyB,6BAtRrB,EAAKh4B,MAAQ,CAElBu4B,aAAc,WACdC,iBAAkB,WAClBC,gBAAiB,WAEjBtC,SAAU,GACVE,aAAc,GACdE,YAAa,GAEbZ,YAAa,GACbG,YAAa,GACbG,aAAc,GAEdU,qBAAsB,EAEtBsB,qBAAsB,EACtBZ,iBAAkB,EAClBJ,kBAAmB,EAEnBP,oBAAqB,GACrBM,mBAAoB,GAEpBpB,kBAAkB,EAClBG,kBAAkB,EAElBiC,wBAAyB,4BA5BR,E,qDAgCnB,c,oBAqQA,WAEC,IAAIzwB,EAAa,eAKbmxB,EAAmB,eACnBx4B,KAAKF,MAAM41B,mBACd8C,GAAoB,eAGrB,IAAIjxB,EAAgB,eAChBvH,KAAKF,MAAM+1B,mBACdtuB,GAAiB,eAIlB,IAAIyF,EAAkD,IAApChN,KAAKF,MAAM22B,qBACzB7nB,EAAkD,IAApC5O,KAAKF,MAAMi4B,qBACzB9qB,EAAgD,IAApCjN,KAAKF,MAAM22B,qBAEvB9S,EAAa,GACjB,IAAK,IAAItlB,KAAS2B,KAAKF,MAAM02B,oBAC5B7S,EAAWlrB,KACVuH,KAAKF,MAAM02B,oBAAoBn4B,GAA/B,MAGF,IAAK,IAAIA,KAAS2B,KAAKF,MAAMg3B,mBAC5BnT,EAAWlrB,KACVuH,KAAKF,MAAMg3B,mBAAmBz4B,GAA9B,MASF,OAN0B,IAAtBslB,EAAW5f,QACd4f,EAAWlrB,KACV,YAKD,sBAAKwH,UAAU,cAAf,UACC,sBAAKA,UAAU,YAAf,UAEC,qBAAKA,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,sBAAKA,UAAU,cAAf,UACC,qBAAKA,UAAU,cAAf,SACC,8DAED,qBAAKA,UAAU,YAAf,SACC,qBAAKA,UAAU,aAAf,SACC,eAAC6C,EAAA,EAAD,WACC,cAACA,EAAA,EAAUC,OAAX,CAAkBC,GAAIC,IAAKC,OAAQjD,UAAU,wCAAwCkD,QAAQ,OAAOC,SAAS,QAA7G,SACC,sBAAKnD,UAAU,MAAf,UACC,qBAAKA,UAAU,UAGf,qBAAKA,UAAU,MAAf,0BAGA,qBAAKA,UAAU,QAAf,SACC,cAAC,IAAD,WAKH,cAAC6C,EAAA,EAAUO,SAAX,CAAoBpD,UAAU,SAASmD,SAAS,QAAhD,SAgCC,8BACC,qBAAKnD,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,uCAOH,cAAC6C,EAAA,EAAUC,OAAX,CAAkBC,GAAIC,IAAKC,OAAQjD,UAAU,wCAAwCkD,QAAQ,OAAOC,SAAS,OAA7G,SAEC,sBAAKnD,UAAU,MAAf,UACC,qBAAKA,UAAU,UAGf,qBAAKA,UAAU,MAAf,6BAGA,qBAAKA,UAAU,QAAf,SACC,cAAC,IAAD,WAKH,cAAC6C,EAAA,EAAUO,SAAX,CAAoBpD,UAAU,SAASmD,SAAS,OAAhD,SACC,8BACC,qBAAKnD,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,uCAOH,cAAC6C,EAAA,EAAUC,OAAX,CAAkBC,GAAIC,IAAKC,OAAQjD,UAAU,wCAAwCkD,QAAQ,OAAOC,SAAS,OAA7G,SACC,sBAAKnD,UAAU,MAAf,UACC,qBAAKA,UAAU,UAGf,qBAAKA,UAAU,MAAf,6BAGA,qBAAKA,UAAU,QAAf,SACC,cAAC,IAAD,WAKH,cAAC6C,EAAA,EAAUO,SAAX,CAAoBpD,UAAU,SAASmD,SAAS,OAAhD,SACC,gCACC,sBAAKnD,UAAU,iBAAf,UACC,gCAAO,6BAAI,iDACX,uBAAOyH,KAAK,WAAWzH,UAAWu4B,EAAkBjzB,MAAOvF,KAAKF,MAAM21B,YAAa9tB,SAAU3H,KAAKw1B,kBAAmB5tB,YAAY,mBACjI,mBAAG3H,UAAU,cAAb,SAA4BD,KAAKF,MAAM41B,iBAAmB,oBAAoB,QAE/E,sBAAKz1B,UAAU,iBAAf,UACC,gCAAO,6BAAI,iDACX,uBAAOyH,KAAK,WAAWzH,UAAWsH,EAAehC,MAAOvF,KAAKF,MAAM81B,YAAajuB,SAAU3H,KAAK21B,kBAAmB/tB,YAAY,sBAE/H,sBAAK3H,UAAU,iBAAf,UACC,gCAAO,6BAAI,yDACX,uBAAOyH,KAAK,WAAWzH,UAAWsH,EAAehC,MAAOvF,KAAKF,MAAMi2B,aAAcpuB,SAAU3H,KAAK81B,mBAAoBluB,YAAY,mBAChI,mBAAG3H,UAAU,cAAb,SAA4BD,KAAKF,MAAM+1B,iBAAmB71B,KAAKF,MAAMg4B,wBAAwB,QAE9F,wBAAQpwB,KAAK,SAASzH,UAAU,+BAA+B8M,QAAS/M,KAAK43B,eAA7E,gDAWR,eAAC7vB,EAAA,EAAD,CAAOC,KAAMgF,EAAa7J,QAAQ,UAAlC,UACC,cAAC4E,EAAA,EAAME,QAAP,sBACA,uBACA,+DAGA,0BAGD,eAACF,EAAA,EAAD,CAAOC,KAAM4G,EAAazL,QAAQ,UAAlC,UACC,cAAC4E,EAAA,EAAME,QAAP,uBACA,uBACA,yCAGA,0BAGD,eAACF,EAAA,EAAD,CAAOC,KAAMiF,EAAW9J,QAAQ,SAAhC,UACC,cAAC4E,EAAA,EAAME,QAAP,sBACA,uBACA,4BACE0b,IAEF,6BAKD,qBAAK1jB,UAAU,aAAa/D,GAAG,kBAAkB6pB,SAAS,KAAKC,KAAK,SAAS5V,kBAAgB,kBAAkB6V,cAAY,OAA3H,SACE,qBAAKhmB,UAAU,qCAAqC+lB,KAAK,WAAzD,SACD,sBAAK/lB,UAAU,gBAAf,UACE,sBAAKA,UAAU,eAAf,UACD,oBAAIA,UAAU,cAAc/D,GAAG,qBAA/B,yBACA,wBAAQwL,KAAK,SAASzH,UAAU,QAAQimB,eAAa,QAAQvV,aAAW,QAAxE,SACE,sBAAMsV,cAAY,OAAlB,uBAGD,sBAAKhmB,UAAU,aAAf,UAIA,sBAAKA,UAAU,aAAf,UACC,uBAAO/D,GAAG,aAAV,4BACA,uBAAOwL,KAAK,OAAOzH,UAAWoH,EAAY9B,MAAOvF,KAAKF,MAAMq2B,aAAcxuB,SAAU3H,KAAKk2B,kBAAmBtuB,YAAY,4BAEzH,sBAAK3H,UAAU,aAAf,UACC,uBAAO/D,GAAG,aAAV,2BACA,uBAAOwL,KAAK,OAAOzH,UAAWoH,EAAY9B,MAAOvF,KAAKF,MAAMu2B,YAAa1uB,SAAU3H,KAAKo2B,kBAAmBxuB,YAAY,8BAGxH,sBAAK3H,UAAU,eAAf,UACD,wBAAQyH,KAAK,SAASzH,UAAU,4BAA4BimB,eAAa,QAAQnZ,QAAS/M,KAAKk3B,WAA/F,yBACA,wBAAQxvB,KAAK,SAASzH,UAAU,kBAAkBimB,eAAa,QAA/D,qC,GAxgBqB9lB,IAAMC,WAmhBnB6H,eAAWqtB,ICthBpBkD,GAAa,CAAC,UAAW,aAAc,eAAgB,iBAEvDpmB,GAAgB,eAEhBqmB,G,kDACL,WAAYl6B,GAAQ,IAAD,8BACZ,cAAMA,IAqBbm6B,sBAAwB,SAAE7yB,GACzB,IAAIyO,EACJ,GAA+B,IAA3BzO,EAAY,YAIX,IAA+B,IAA3BA,EAAY,OAGpB,OAFA,EAAKtH,MAAM6H,SAASgM,GAAe,oBAAqB,qBACxD,EAAK7T,MAAM6P,aAAa,EAAKuqB,gBAIM,IAA3B9yB,EAAY,QAIe,IAA3BA,EAAY,QAIe,IAA3BA,EAAY,QAIZA,EAAY,OAIrB,EAAKtH,MAAM6H,SAASgM,GAAe,eAAgB,WACnDkC,EAAazO,EAAY,SACzB,EAAKnH,SAAS,CACbk6B,qBAAsBtkB,EACtBukB,qBAAqB,KAtDJ,EAyDnBC,sBAAwB,SAAEhrB,GAIzB,IAAIirB,EAAkB,GAClBC,EAAsB,GAE1B,IAAK,IAAI56B,KAAS0P,EAEuB,IAApCA,EAAa1P,GAAO66B,YACvBD,EAAoBxgC,KAAMsV,EAAa1P,IAGK,IAApC0P,EAAa1P,GAAO66B,aAC5BF,EAAgBvgC,KAAMsV,EAAa1P,IAIrC,EAAKG,MAAM6H,SAASgM,GAAe,eAAgB,WACnD,EAAK1T,SAAS,CACbw6B,kBAAmBF,EACnBG,iBAAkBJ,EAElBF,qBAAqB,KAhFJ,EAmFnBF,eAAiB,Y7B0nCe,SAAC7/B,EAAkBC,GAEnD,IAAMU,EAAS,CACdC,QAAS,CAAEC,cAAc,OAAD,OAAS5C,KAGlCL,EAAckD,IAAI,uBAAwBH,GACzCP,MAAO,SAAAC,GAIP,IAAI+B,EAAW/B,EAAId,KAEnBS,EAAiBoC,MAEjB5B,OAAO,SAAAtB,GAEP,IAAIuB,EAASxB,EAAWC,GAExBe,EAAgBQ,M6B5oChB6/B,CAAoB,EAAKN,sBAAuB,EAAKJ,uBACrD,EAAKh6B,SAAS,CACbm6B,qBAAqB,KAtFJ,EA0FnBQ,cAAgB,SAACxzB,GAEhB,IAAIyO,EACJ,GAA+B,IAA3BzO,EAAY,YAIX,IAA+B,IAA3BA,EAAY,OAGpB,OAFA,EAAKtH,MAAM6H,SAASgM,GAAe,oBAAqB,oBACxD,EAAK7T,MAAM6P,aAAa,EAAKkrB,YAIzB,GAA+B,IAA3BzzB,EAAY,aAIhB,GAA+B,IAA3BA,EAAY,OACpB,IAAK,IAAIzH,KAASyH,EAAY,SACkB,IAA3CA,EAAY,SAAazH,GAAzB,KAGgD,IAA3CyH,EAAY,SAAazH,GAAzB,KAGAyH,EAAY,SAAazH,GAAzB,SAUyB,IAA3ByH,EAAY,QAIZA,EAAY,OAIrB,EAAKtH,MAAM6H,SAASgM,GAAe,cAAe,SAClDkC,EAAazO,EAAY,SACzB,EAAKnH,SAAS,CACb66B,iBAAkBjlB,EAClBklB,iBAAiB,KAzIA,EA4InBC,cAAgB,SAACnuB,GAEhB,EAAK/M,MAAM6H,SAASgM,GAAe,cAAe,WAClD,EAAK1T,SAAS,CACb86B,iBAAiB,KAhJA,EAmJnBF,WAAa,Y7BgiCmB,SAACI,EAAY5gC,EAAkBC,GAE/D,IAAMU,EAAS,CACdC,QAAS,CAAEC,cAAc,OAAD,OAAS5C,KAOlCL,EAAckD,IAAI,mCAAmC8/B,EAAYjgC,GAChEP,MAAO,SAAAC,GAEP,IAAI+B,EAAW/B,EAAId,KAEnBS,EAAkBoC,MAElB5B,OAAO,SAAAtB,GAEP,IAAIuB,EAASxB,EAAWC,GAExBe,EAAgBQ,M6BjjChBogC,CAAoB,EAAK95B,MAAM65B,WAAY,EAAKD,cAAe,EAAKJ,eACpE,EAAK36B,SAAS,CACb86B,iBAAiB,KAzJA,EA6JnBI,mBAAqB,SAAC/zB,GACrB,IAAIyO,EACJ,GAA+B,IAA3BzO,EAAY,YAIX,IAA+B,IAA3BA,EAAY,OAGpB,OAFA,EAAKtH,MAAM6H,SAASgM,GAAe,oBAAqB,qBACxD,EAAK7T,MAAM6P,aAAa,EAAKyrB,cAIM,IAA3Bh0B,EAAY,QAIe,IAA3BA,EAAY,QAIe,IAA3BA,EAAY,QAIZA,EAAY,OAIrByO,EAAazO,EAAY,SACzB,EAAKtH,MAAM6H,SAASgM,GAAe,eAAgB,WAEnD,EAAKumB,iBACL,EAAKp6B,MAAM+mB,iBACX,EAAK5mB,SAAS,CACbo7B,kBAAmBxlB,EACnBylB,kBAAmB,KAhMF,EAmMnBC,mBAAqB,SAAC1uB,GAIrB,EAAK/M,MAAM6H,SAASgM,GAAe,eAAgB,WACnD,EAAKumB,iBACL,EAAKp6B,MAAM+mB,iBACX,EAAK5mB,SAAS,CACbq7B,kBAAmB,KA3MF,EA8MnBE,UAAY,SAAC90B,GAKZ,IACIrK,EAAeqK,EAAME,OAAOC,MAChC/J,EAAoBT,EAFP,EAE6B,EAAKk/B,mBAAoB,EAAKJ,oBACxE,EAAKl7B,SAAS,CACbq7B,kBAAmB,KAvNF,EA0NnBG,SAAW,SAAC/0B,GAKX,IACIrK,EAAeqK,EAAME,OAAOC,MAEhC/J,EAAoBT,EAHP,EAG6B,EAAKk/B,mBAAoB,EAAKJ,oBACxE,EAAKl7B,SAAS,CACbq7B,kBAAmB,KApOF,EAwOnBI,gBAAkB,SAACh1B,GAClB,EAAKzG,SAAS,CACbg7B,WAAYv0B,EAAME,OAAOC,SA1OR,EA8OnBu0B,aAAe,WACdzgC,QAAQC,IAAI,2CA7ON,EAAKwG,MAAQ,CAClB65B,WAAY,GAEZR,kBAAmB,GACnBC,iBAAkB,GAElBN,qBAAsB,EACtBW,iBAAkB,EAClBO,kBAAoB,EAEpBnB,qBAAsB,GACtBW,iBAAkB,GAClBO,kBAAmB,IAdF,E,qDAkBnB,WACC/5B,KAAK44B,mB,oBA+NN,WAIC,IAAIyB,EAAqD,IAApCr6B,KAAKF,MAAMg5B,sBAA+D,IAAjC94B,KAAKF,MAAMk6B,mBAA2D,IAAhCh6B,KAAKF,MAAM25B,iBAC3Ga,EAAuD,IAAhCt6B,KAAKF,MAAM25B,iBAElCc,EAAoD,IAApCv6B,KAAKF,MAAMg5B,sBAA+D,IAAjC94B,KAAKF,MAAMk6B,mBAA2D,IAAhCh6B,KAAKF,MAAM25B,iBAE1G9V,EAAa,GACjB,IAAK,IAAItlB,KAAS2B,KAAKF,MAAM+4B,qBAC5BlV,EAAWlrB,KACVuH,KAAKF,MAAM+4B,qBAAqBx6B,GAAhC,MAGF,IAAK,IAAIA,KAAS2B,KAAKF,MAAM05B,iBAC5B7V,EAAWlrB,KACVuH,KAAKF,MAAM05B,iBAAiBn7B,GAA5B,MAGF,IAAK,IAAIA,KAAS2B,KAAKF,MAAMi6B,kBAC5BpW,EAAWlrB,KACVuH,KAAKF,MAAMi6B,kBAAkB17B,GAA7B,MAGwB,IAAtBslB,EAAW5f,QACd4f,EAAWlrB,KACV,YAIF,IAAI+hC,EAA4B,GAChC,IAAK,IAAI1b,KAAK9e,KAAKF,MAAMq5B,kBAAmB,CAE3CqB,EAA0B/hC,KACzB,qBAAIwH,UAAW,gDAAf,UACC,qBAAKA,UAAU,oBAAf,SACED,KAAKF,MAAMq5B,kBAAkBra,GAAG2b,iBAElC,qBAAKx6B,UAAU,oBAAf,SACEw4B,GAAWz4B,KAAKF,MAAMq5B,kBAAkBra,GAAG4b,cAE7C,qBAAKz6B,UAAU,UAGf,qBAAKA,UAAU,YAV2D6e,IAgBpC,IAArC0b,EAA0Bz2B,QAC7By2B,EAA0B/hC,KACzB,oBAAIwH,UAAU,kBAAd,wBAAqC,IAMvC,IAAI06B,EAAqB,GACzB,IAAK,IAAI7b,KAAK9e,KAAKF,MAAMs5B,iBAAkB,CAE1CuB,EAAmBliC,KAClB,qBAAIwH,UAAW,gDAAf,UACC,qBAAKA,UAAU,oBAAf,SACED,KAAKF,MAAMs5B,iBAAiBta,GAAG2b,iBAEjC,qBAAKx6B,UAAU,oBAAf,SACEw4B,GAAWz4B,KAAKF,MAAMs5B,iBAAiBta,GAAG4b,cAE5C,qBAAKz6B,UAAU,QAAf,SACC,wBAAQA,UAAU,iCAAiCsF,MAAOvF,KAAKF,MAAMs5B,iBAAiBta,GAAG5iB,GAAI6Q,QAAS/M,KAAKk6B,UAA3G,iBAED,qBAAKj6B,UAAU,QAAf,SACC,wBAAQA,UAAU,gCAAgCsF,MAAOvF,KAAKF,MAAMs5B,iBAAiBta,GAAG5iB,GAAI6Q,QAAS/M,KAAKm6B,SAA1G,mBAXyErb,IAwB7E,OARkC,IAA9B6b,EAAmB52B,QACtB42B,EAAmBliC,KAClB,oBAAIwH,UAAU,kBAAd,wBAAqC,IAOtC,qBAAKA,UAAU,aAAf,SACC,sBAAKA,UAAU,YAAf,UAEEo6B,GAAkB,cAAC,GAAD,KACjBA,GAEF,gCACC,qBAAKp6B,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,sBAAKA,UAAU,cAAf,UACC,qBAAKA,UAAU,cAAf,SACC,qDAED,qBAAKA,UAAU,YAAf,SACC,sBAAKA,UAAU,aAAf,UACC,qBAAKA,UAAU,kBAAf,SACC,uBAAOyH,KAAK,OAAOzH,UAAU,eAAesF,MAAOvF,KAAKF,MAAM65B,WAAYhyB,SAAU3H,KAAKo6B,gBAAiBxyB,YAAY,iBAEvH,qBAAK3H,UAAU,kBAAf,SACC,wBAAQA,UAAU,kBAAkB8M,QAAS/M,KAAKu5B,WAAlD,kCAUN,qBAAKt5B,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,sBAAKA,UAAU,cAAf,UACC,qBAAKA,UAAU,cAAf,SACC,gEAED,qBAAKA,UAAU,YAAf,SACC,qBAAIA,UAAU,aAAd,UAEC,oBAAIA,UAAU,kBAAd,SACC,sBAAKA,UAAU,MAAf,UACC,qBAAKA,UAAU,UAEf,qBAAKA,UAAU,oBAAf,SACC,gDAED,qBAAKA,UAAU,oBAAf,SACC,8CAED,qBAAKA,UAAU,UAEf,qBAAKA,UAAU,eAZqB,GAgBrCu6B,cAON,qBAAKv6B,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,sBAAKA,UAAU,cAAf,UACC,qBAAKA,UAAU,cAAf,SACC,2DAED,qBAAKA,UAAU,YAAf,SACC,qBAAIA,UAAU,aAAd,UAEC,oBAAIA,UAAU,kBAAd,SACC,sBAAKA,UAAU,MAAf,UACC,qBAAKA,UAAU,UAEf,qBAAKA,UAAU,oBAAf,SACC,gDAED,qBAAKA,UAAU,oBAAf,SACC,8CAED,qBAAKA,UAAU,UAEf,qBAAKA,UAAU,eAZqB,GAgBrC06B,iBAcP,eAAC5yB,EAAA,EAAD,CAAOC,KAAMqyB,EAAgBl3B,QAAQ,UAArC,UACC,cAAC4E,EAAA,EAAME,QAAP,sBACA,uBACA,wDAGA,0BAGD,eAACF,EAAA,EAAD,CAAOC,KAAMsyB,EAAsBn3B,QAAQ,UAA3C,UACC,cAAC4E,EAAA,EAAME,QAAP,uBACA,uBACA,0DAGA,0BAGD,eAACF,EAAA,EAAD,CAAOC,KAAMuyB,EAAep3B,QAAQ,SAApC,UACC,cAAC4E,EAAA,EAAME,QAAP,qBACA,uBACA,4BACE0b,IAEF,mC,GAvcuBvjB,IAAMC,WA+cpB6H,eAAWwwB,ICpdpBkC,G,kDAEL,WAAYp8B,GAAQ,IAAD,8BAClB,cAAMA,IACDsB,MAAQ,GAFK,E,0CAOnB,WACC,OACC,qBAAKG,UAAU,mBAAf,SACC,qBAAKA,UAAU,YAAf,SACC,qBAAKA,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,sBAAKA,UAAU,cAAf,UACC,qBAAKA,UAAU,cAAf,iCAGA,qBAAKA,UAAU,YAAf,SACC,qBAAIA,UAAU,aAAd,UACC,qBAAKA,UAAU,kBAAf,+CAGA,qBAAKA,UAAU,kBAAf,SACC,mBAAG46B,K9BmBNnkC,E8BnB0B,YAAvB,2D,GAzBY0J,IAAMC,WAsCd6H,eAAW0yB,I,oBCzBpBvoB,GAAgB,YAShByoB,G,kDAEL,WAAYt8B,GAAQ,IAAD,8BACZ,cAAMA,IA0Bbu8B,iBAAmB,WAKlB,IAHA,IAAIC,EAAY,GAEVC,EAAW5gC,KAAKyG,MAAOzG,KAAKC,UAAU,EAAKwF,MAAMo7B,SAAS,EAAKp7B,MAAMq7B,UAAU,EAAKr7B,MAAMq7B,UACvFrc,EAAI,EAAGA,EAAImc,EAAUnc,IAC7Bkc,EAAUviC,KACT,CAAC,SAAW,cAAgBqmB,EAAG5e,GAAG4e,EAAG0K,UAAUnvB,KAAKC,UAAU,EAAKwF,MAAMs7B,SAAS,EAAKt7B,MAAMu7B,UAAU,EAAKv7B,MAAMu7B,SAAUC,KAAKjhC,KAAKC,UAAU,EAAKwF,MAAMy7B,QAAQ,EAAKz7B,MAAM07B,SAAW,EAAK17B,MAAM07B,UAYtM,MARe,CAAC,CACf,GAAK,EACL,KAAQ,kBACR,WAAa,EAEb,MAAQR,KA3CS,EAiDnBS,aAAe,aAjDI,EAqDnBC,cAAgB,SAAC3tB,GAEhB,IAEI4tB,EAAc,CAACx6B,MAAM,GAAIW,MAAO,IAEpC,IAAK,IAAIzD,KAAS0P,EAAc,CAE/B,IAAI7Q,EAAc,UACdD,EAAkB,UAgBtB,IAAK,IAAI2+B,KAfL7tB,EAAa1P,GAAb,YAEHpB,EAAkB,WAGnB0+B,EAAW,MAAUljC,KAAK,CACzByD,GAAI6R,EAAa1P,GAAb,GACJtB,MAAOgR,EAAa1P,GAAb,KAEPuD,MAAO,CACNue,OAAOjjB,EACP2+B,WAAW5+B,KAIO8Q,EAAa1P,GAAb,MAA8B,CACjDs9B,EAAW,MAAUljC,KAAK,CACzBqjC,KAAM/tB,EAAa1P,GAAb,GACN6B,GAAI6N,EAAa1P,GAAb,MAA6Bu9B,GAA7B,GAEJ7+B,OAAQ1C,KAAKyG,MA5BA,IA4BgBiN,EAAa1P,GAAb,MAA6Bu9B,GAA7B,WA5BhB,KA4B+EpkC,WAAa,KAAO6C,KAAKyG,MAAMiN,EAAa1P,GAAb,MAA6Bu9B,GAA7B,MAA+CpkC,WAG1KukC,MAAOz7B,EAAmByN,EAAa1P,GAAb,MAA6Bu9B,GAA7B,MAC1Bh6B,MAAOnB,EAAmBsN,EAAa1P,GAAb,MAA6Bu9B,GAA7B,aAM3B,IAAII,GAAc,EAClB,IAAK,IAAIC,KAAKN,EAAW,MACxB,GAAGA,EAAW,MAAUM,GAArB,KAAkCluB,EAAa1P,GAAb,MAA6Bu9B,GAA7B,GAA6C,CACjFI,GAAc,EACd,MAGEA,GAIJL,EAAW,MAAUljC,KAAK,CACzByD,GAAI6R,EAAa1P,GAAb,MAA6Bu9B,GAA7B,GACJ7+B,MAAOgR,EAAa1P,GAAb,MAA6Bu9B,GAA7B,SAEPh6B,MAAO,CACNue,OAAOjjB,EACP2+B,WAAW,cAMf,OAAOF,GApHW,EAuHnBO,mBAAqB,SAAC92B,KAvHH,EA2HnB+2B,kBAAoB,SAACtgB,GAEpB,GAAiC,IAA7BA,EAAa,YAGZ,IAAgC,IAA5BA,EAAa,OAIrB,OAFA,EAAKrd,MAAM6H,SAASgM,GAAe,oBAAqB,qBACxD,EAAK7T,MAAM6P,aAAa,EAAK+tB,kBAGrBvgB,EAAa,OAItB,EAAKrd,MAAM6H,SAASgM,GAAe,eAAgB,WACnD,EAAK1T,SAAS,CACb09B,aAAc,EACdrgB,iBAAkBH,EAAa,YA7Id,EAgJnBygB,mBAAqB,SAACC,GACrBljC,QAAQC,IAAIijC,GACZ,IAAIC,EAAW,GACXD,EAAYx4B,OAAS,IAExBy4B,EAAWD,EAAY,GAAZ,cAGZ,EAAK/9B,MAAM6H,SAASgM,GAAe,eAAgB,WACnD,EAAK1T,SAAS,CACb89B,WAAYD,EACZE,iBAAkB,EAAKhB,cAAec,GACtCG,eAAgBJ,EAAY,GAAZ,QAChBF,aAAc,KA7JG,EAgKnBD,iBAAmB,WAClB,IAAwC,IAAlC,EAAK59B,MAAMiU,kBAA2B,CAK1ChW,OAAe/B,EAAW,EAAK4hC,mBAAoB,EAAKH,mBACxD,EAAKx9B,SAAS,CACb09B,aAAc,SAQhB,EAAK79B,MAAMuI,QAAQtO,KAAK,EAAK+F,MAAMwI,gBAhLlB,EAoLnB41B,0BAA4B,SAAC/gB,GAE5B,GAAiC,IAA7BA,EAAa,YAGZ,IAAgC,IAA5BA,EAAa,OAIrB,OAFA,EAAKrd,MAAM6H,SAASgM,GAAe,oBAAqB,qBACxD,EAAK7T,MAAM6P,aAAa,EAAKotB,cAGrB5f,EAAa,OAItB,EAAKrd,MAAM6H,SAASgM,GAAe,eAAgB,WACnD,EAAK1T,SAAS,CACb09B,aAAc,EACdrgB,iBAAkBH,EAAa,YAtMd,EAyMnBghB,2BAA6B,SAACN,GAC7B,IAAIC,EAAW,GACXM,EAAU,UACVP,EAAYx4B,OAAS,IAExBy4B,EAAWD,EAAY,GAAZ,aACXO,EAAUP,EAAY,GAAZ,SAGX,EAAK/9B,MAAM6H,SAASgM,GAAe,eAAgB,WACnD,EAAK1T,SAAS,CACb89B,WAAYD,EACZE,iBAAkB,EAAKhB,cAAec,GACtCG,eAAgBG,EAChBT,aAAc,KAvNG,EA0NnBU,mBAAqB,SAACC,GACrB,IAAwC,IAAlC,EAAKx+B,MAAMiU,kBAA2B,CAK1ChW,EAAeugC,EAAc,EAAKH,2BAA4B,EAAKD,2BACnE,EAAKj+B,SAAS,CACb09B,aAAc,SAQhB,EAAK79B,MAAMuI,QAAQtO,KAAK,EAAK+F,MAAMwI,gBA1OlB,EA+OnB6kB,SAAW,SAACrR,GACX,EAAK7b,SAAS,CACbs+B,eAAeziB,IAGhB,EAAKuiB,mBAAmBviB,IApPN,EAuPnBhX,SAAW,WACV,IAAM05B,EAAO,EAAKnC,mBAKlB,EAAKp8B,SAAS,CACbg+B,eAHgB,UAIhBF,WAAYS,EAAKn5B,OACjB24B,iBAAkB,EAAKhB,cAAewB,MAhQrB,EAoQnBC,mBAAqB,SAAC/3B,GACrB,EAAKzG,SAAU,CAACu8B,SAAUjwB,OAAO7F,EAAME,OAAOC,UArQ5B,EAuQnB63B,mBAAqB,SAACh4B,GACrB,EAAKzG,SAAU,CAACw8B,SAAUlwB,OAAO7F,EAAME,OAAOC,UAxQ5B,EA2QnB83B,oBAAsB,SAACj4B,GACtB,EAAKzG,SAAU,CAACy8B,SAAUnwB,OAAO7F,EAAME,OAAOC,UA5Q5B,EA8QnB+3B,oBAAsB,SAACl4B,GACtB,EAAKzG,SAAU,CAAC08B,SAAUpwB,OAAO7F,EAAME,OAAOC,UA/Q5B,EAkRnBg4B,mBAAqB,SAACn4B,GACrB,EAAKzG,SAAU,CAAC48B,QAAStwB,OAAO7F,EAAME,OAAOC,UAnR3B,EAqRnBi4B,mBAAqB,SAACp4B,GACrB,EAAKzG,SAAU,CAAC68B,QAASvwB,OAAO7F,EAAME,OAAOC,UApRvC,EAAKzF,MAAQ,CAElBo7B,SAAS,GACTC,SAAS,EAETC,SAAS,EACTC,UAAU,EAEVE,QAAQ,EACRC,QAAQ,EAERmB,eAAgB,OAChBF,WAAY,GACZC,iBAAkB,EAAKhB,cAAe,IAEtC+B,cAAe,CAAC,QAEhBpB,aAAc,EACdtgB,kBAAmB,EACnBC,iBAAkB,GAElBihB,eAAgB,IAAIr5B,MAvBH,E,0CAyRnB,WAAU,IAAD,OAwCF85B,EAAgB,CACrBC,OAAQ39B,KAAKk8B,oBAGV1xB,EAAoC,IAA5BxK,KAAKF,MAAMu8B,aACnB70B,EAAoC,IAA5BxH,KAAKF,MAAMu8B,aACnBuB,EAAoC,IAA5B59B,KAAKF,MAAMu8B,aACnBwB,EAAoC,IAA5B79B,KAAKF,MAAMu8B,aAEnByB,EAAiB,WACa,YAA9B99B,KAAKF,MAAM68B,iBACdmB,EAAiB,qBAAuB99B,KAAKF,MAAM68B,gBAGpD,IAAI1vB,EAAY,GAChB,IAAK,IAAI5O,KAAS2B,KAAKF,MAAMkc,iBAC5B/O,EAAUxU,KACT,8BACEuH,KAAKF,MAAMkc,iBAAiB3d,GAA5B,QAMJ,OACC,sBAAK4B,UAAU,4BAAf,UACC,sBAAKA,UAAU,mCAAf,UACC,qBAAKA,UAAU,WAAf,SACC,qBAAKA,UAAU,MAAf,SACC,wBAAQA,UAAU,eAAe8M,QAAS/M,KAAKo8B,iBAA/C,kDAKF,qBAAKn8B,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,eAAC6C,EAAA,EAAD,WACC,cAACA,EAAA,EAAUC,OAAX,CAAkBC,GAAIC,IAAKC,OAAQjD,UAAU,wCAAwCkD,QAAQ,OAAOC,SAAS,OAA7G,SACC,sBAAKnD,UAAU,MAAf,UACC,qBAAKA,UAAU,UAGf,qBAAKA,UAAU,MAAf,gCAGA,qBAAKA,UAAU,QAAf,SACC,cAAC,IAAD,WAKH,cAAC6C,EAAA,EAAUO,SAAX,CAAoBD,SAAS,OAA7B,SAEC,sBAAKnD,UAAU,MAAf,UACC,qBAAKA,UAAU,QACf,qBAAKA,UAAU,OAAf,SACC,cAAC,KAAD,CACC0H,SAAU3H,KAAK6rB,SACftmB,MAAOvF,KAAKF,MAAMm9B,eAClBnR,cAjGY,SAAC,GAAoB,IAAlBz0B,EAAiB,EAAjBA,KAAM00B,EAAW,EAAXA,KAE1BgS,GAAS,EAETC,EAAOtlC,OAAQrB,EAAKE,eACpB0mC,EAAQvlC,OAAQrB,EAAKK,WAAW,GAEhCumC,EAAQ,KACXA,EAAQ,IAAIA,GAGb,IAAIC,EAAMxlC,OAAOrB,EAAKO,WAClBsmC,EAAM,KACTA,EAAM,IAAIA,GAGX,IAAM9mB,EAAY4mB,EAAK,IAAIC,EAAM,IAAIC,EAGrC,GAAa,UAATnS,EAEH,IACCgS,EAAS,EAAKv/B,MAAM2X,kBAAkBxW,MAAM,SAAAC,GAAO,OAAIA,EAAO,UAAgBwX,KAE/E,UAMD,GAAI2mB,EACH,MAAO,mBAoEC9R,UAAW,OACXC,UAAW,YAGb,qBAAKjsB,UAAU,oBAQpB,qBAAKA,UAAU,WAAf,SACC,qBAAKA,UAAU,MAAf,SAEC,eAAC6C,EAAA,EAAD,WACC,cAACA,EAAA,EAAUC,OAAX,CAAkBC,GAAIC,IAAKC,OAAQjD,UAAU,wCAAwCkD,QAAQ,OAAOC,SAAS,OAA7G,SACC,sBAAKnD,UAAU,MAAf,UACC,qBAAKA,UAAU,UAGf,qBAAKA,UAAU,MAAf,+BAGA,qBAAKA,UAAU,QAAf,SACC,cAAC,IAAD,WAKH,cAAC6C,EAAA,EAAUO,SAAX,CAAoBD,SAAS,OAA7B,SAEC,gCACC,qBAAKnD,UAAU,WAAf,SACC,qBAAKA,UAAU,MAAf,SACC,sBAAKA,UAAU,aAAf,UACC,uBAAO/D,GAAG,aAAV,uBACA,uBAAOwL,KAAK,SAASzH,UAAU,eAAesF,MAAOvF,KAAKF,MAAMo7B,SAAUvzB,SAAU3H,KAAKm9B,mBAAoBv1B,YAAY,0BAEzH,uBAAO1L,GAAG,aAAV,uBACA,uBAAOwL,KAAK,SAASzH,UAAU,eAAesF,MAAOvF,KAAKF,MAAMq7B,SAAUxzB,SAAU3H,KAAKo9B,mBAAoBx1B,YAAY,iCAK5H,qBAAK3H,UAAU,WAAf,SACC,qBAAKA,UAAU,MAAf,SACC,sBAAKA,UAAU,aAAf,UACC,uBAAO/D,GAAG,aAAV,2BACA,uBAAOwL,KAAK,SAASzH,UAAU,eAAesF,MAAOvF,KAAKF,MAAMs7B,SAAUzzB,SAAU3H,KAAKq9B,oBAAqBz1B,YAAY,wBAE1H,uBAAO1L,GAAG,aAAV,0BACA,uBAAOwL,KAAK,SAASzH,UAAU,eAAesF,MAAOvF,KAAKF,MAAMu7B,SAAU1zB,SAAU3H,KAAKs9B,oBAAqB11B,YAAY,+BAK7H,qBAAK3H,UAAU,WAAf,SACC,qBAAKA,UAAU,MAAf,SACC,sBAAKA,UAAU,aAAf,UACC,uBAAO/D,GAAG,aAAV,8BACA,uBAAOwL,KAAK,SAASzH,UAAU,eAAesF,MAAOvF,KAAKF,MAAMy7B,QAAS5zB,SAAU3H,KAAKu9B,mBAAoB31B,YAAY,2BAExH,uBAAO1L,GAAG,aAAV,8BACA,uBAAOwL,KAAK,SAASzH,UAAU,eAAesF,MAAOvF,KAAKF,MAAM07B,QAAS7zB,SAAU3H,KAAKw9B,mBAAoB51B,YAAY,kCAK3H,sBAAK3H,UAAU,MAAf,UACC,qBAAKA,UAAU,QACf,qBAAKA,UAAU,OAAf,SACC,wBAAQA,UAAU,oBAAoB8M,QAAS/M,KAAKwD,SAApD,4BAID,qBAAKvD,UAAU,uBASrB,qBAAKA,UAAU,SAAf,SACmC,IAAjCD,KAAKF,MAAM28B,WAAW14B,OACtB,sBAAK9D,UAAU,WAAf,UACEuK,GAAS,qBAAKvK,UAAU,MAAf,4CACTuH,GAAS,qBAAKvH,UAAU,MAAf,6BACT29B,GAAS,qBAAK39B,UAAU,MAAf,wCAGX,8BACC,gCACC,qBAAKA,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,4BAAI69B,QAGN,cAAC,KAAD,CACCK,MAAOn+B,KAAKF,MAAM48B,iBAClB/T,QAASznB,EACTk9B,OAAQV,EACRW,WAAY,SAAAC,cAUjB,cAAC,GAAD,IACA,qBAAKr+B,UAAU,gBAIhB,eAAC8H,EAAA,EAAD,CAAOC,KAAMR,EAAOrE,QAAQ,UAA5B,UACC,cAAC4E,EAAA,EAAME,QAAP,sBACA,uBACA,sDAGA,0BAGD,eAACF,EAAA,EAAD,CAAOC,KAAM61B,EAAO16B,QAAQ,SAA5B,UACC,cAAC4E,EAAA,EAAME,QAAP,qBACA,uBACEgF,EACF,iC,GApgBiB7M,IAAMC,WA2gBb6H,eAAW4yB,ICxhBpBzoB,GAAgB,YAEhBksB,GAAc,SAAC//B,GAEpB,OACC,qBAAKyB,UAAU,cAAf,SACC,4EASGsS,G,kDAEL,WAAY/T,GAAQ,IAAD,8BACZ,cAAMA,IAqCbggC,6BAA+B,WAE9B,IAAIC,EAAiB,GACrB,IAAK,IAAIpgC,KAAS,EAAKG,MAAM4Z,sBAAuB,CAEnD,IAAI2J,GAAY,EAChB,IAAK,IAAIC,KAAa,EAAKxjB,MAAM4Z,sBAAsB/Z,GAAjC,KAC8C,IAA/D,EAAKG,MAAM4Z,sBAAsB/Z,GAAjC,KAAgD2jB,KAGnDD,EAAW,GAITA,GAAY,GAAKA,EAAW,GAC/B0c,EAAehmC,KAAM,EAAK+F,MAAM4Z,sBAAsB/Z,IAIxD,OAA8B,IAA1BogC,EAAe16B,OACX06B,EAAe,GAAf,IAGA,GA7DU,EAgEnBC,wBAA0B,SAAC9R,GAE1B,EAAKjuB,SAAS,CACbggC,sBAAsB/R,KAnEL,EAwEnBgS,8BAAgC,SAAC94B,GAChC,IAAIyO,EAEJ,GAA+B,IAA3BzO,EAAY,YAIX,IAA+B,IAA3BA,EAAY,OAGpB,OAFA,EAAKtH,MAAM6P,aAAa,EAAKwwB,qBAC7B,EAAKrgC,MAAM6H,SAASgM,GAAe,oBAAqB,mBAIrB,IAA3BvM,EAAY,QAIe,IAA3BA,EAAY,QAIe,IAA3BA,EAAY,QAIZA,EAAY,OAIrB,EAAKtH,MAAM6H,SAASgM,GAAe,kBAAmB,WACtDkC,EAAazO,EAAY,SACzB,EAAKnH,SAAS,CACbilB,iBAAkBrP,EAClBmP,qBAAqB,KAzGJ,EA4GnBob,uBAAyB,SAACrR,GAEzB,EAAKjvB,MAAM6H,SAASgM,GAAe,kBAAmB,WACtD,EAAK1T,SAAS,CACbilB,iBAAkB,GAClBF,qBAAqB,KAjHJ,EAoHnBmb,eAAiB,WAEhB,IAAI/Q,EAAY,EAAKtvB,MAAM4e,YACvB2hB,EAAoB,EAAKj/B,MAAM6+B,sBAAsBzd,oBAAoB2L,eACzEmB,EAAclB,wBAAa,EAAKhtB,MAAM6+B,sBAAsBzd,qBAC5DzmB,EAAiB,EAAKqF,MAAMk/B,2BAIN,IAApBvkC,IhC0TyB,SAACV,EAAaU,EAAgBP,EAASC,EAAapB,EAAkBC,GAEtG,IAAMU,EAAS,CACdC,QAAS,CAAEC,cAAc,OAAD,OAAS5C,KAI5BsB,EAAO,CACZ2C,OAAQR,EACRA,eAAgBA,EAEhBwkC,YAAa7nC,EAAa2C,GAC1BG,QAASA,EAETW,SAAUV,GAGXxD,EAAcuC,KAAK,0BAA2BZ,EAAMoB,GACnDP,MAAM,SAAAC,GACNL,EAAiBK,EAAId,SAErBiB,OAAO,SAAAtB,GACP,IAAIuB,EAASxB,EAAWC,GAExBe,EAAgBQ,MgCjVf0lC,CAAmBpR,EAAWrzB,EAAgBskC,EAAmB/Q,EAAa,EAAK8Q,uBAAwB,EAAKF,+BAChH,EAAKjgC,SAAS,CACb+kB,qBAAqB,MAItBrqB,QAAQC,IAAI,gBAEZ,EAAKqF,SAAS,CACbilB,iBAAkB,CAAE,qCAvIJ,EA4InBub,iBAAmB,WAClB9lC,QAAQC,IAAI,2CA7IM,EAgJnB8lC,mBAAqB,SAACt5B,GACrB,IAAIyO,EAE2B,IAA3BzO,EAAY,SAIoB,IAA3BA,EAAY,QACpB,EAAKtH,MAAM6P,aAAa,EAAK8wB,kBAC7B,EAAK3gC,MAAM6H,SAASgM,GAAe,oBAAqB,qBAGrB,IAA3BvM,EAAY,QAIe,IAA3BA,EAAY,QAIe,IAA3BA,EAAY,QAIZA,EAAY,QAIrB,EAAKtH,MAAM6H,SAASgM,GAAe,mBAAoB,WACvDkC,EAAazO,EAAY,SACzB,EAAKnH,SAAS,CACbgtB,kBAAmBpX,EACnBiX,8BAA8B,KAhLb,EAmLnB6T,oBAAsB,SAACC,GAEtB,EAAK9gC,MAAM6H,SAASgM,GAAe,mBAAoB,WACvD,EAAK1T,SAAS,CACbgsB,gBAAiB2U,EAEjB9T,8BAA8B,KAzLb,EA4LnB+T,sBAAwB,SAACz5B,GACxB,IAAIyO,EAAazO,EAAY,SAGE,IAA3BA,EAAY,SAMoB,IAA3BA,EAAY,QACpB,EAAKtH,MAAM6P,aAAa,EAAK8wB,kBAC7B,EAAK3gC,MAAM6H,SAASgM,GAAe,oBAAqB,0BAGrB,IAA3BvM,EAAY,QAIe,IAA3BA,EAAY,QAIe,IAA3BA,EAAY,QAIZA,EAAY,QAIrB,EAAKtH,MAAM6H,SAASgM,GAAe,wBAAyB,WAC5D,EAAK1T,SAAS,CACbitB,qBAAsBrX,EACtBkX,iCAAiC,KA9NhB,EAiOnB+T,uBAAyB,SAACC,GAEzB,EAAKjhC,MAAM6H,SAASgM,GAAe,wBAAyB,WAC5D,EAAK1T,SAAS,CAGbmsB,mBAAoB2U,EAEpBhU,iCAAiC,KAzOhB,EA4OnBiU,wBAA0B,SAACllB,GAC1B,EAAK7b,SAAS,CACbghC,oBAAoBnlB,KhCmhBU,SAACA,EAAczhB,EAAkBC,GACjE,IAAMU,EAAS,CACdC,QAAS,CAAEC,cAAc,OAAD,OAAS5C,KAI5BuF,EAAUie,EAAahe,SAAS1E,MAAM,KAAK,GAEjDnB,EAAckD,IAAI,gCAAgC0C,EAAS7C,GAC1DP,MACA,SAAAC,GAsBCL,EAAiBK,EAAId,SAGtBiB,OAAO,SAAAtB,GAEP,IAAIuB,EAASxB,EAAWC,GAExBe,EAAgBQ,MgC/iBfomC,CAAmBplB,EAAc,EAAK6kB,oBAAqB,EAAKD,oBhCmjB/B,SAAC5kB,EAAczhB,EAAkBC,GACpE,IAAMU,EAAS,CACdC,QAAS,CAAEC,cAAc,OAAD,OAAS5C,KAI5BuF,EAAUie,EAAahe,SAAS1E,MAAM,KAAK,GAEjDnB,EAAckD,IAAI,mCAAmC0C,EAAS7C,GAC7DP,MACA,SAAAC,GAECL,EAAiBK,EAAId,SAGtBiB,OAAO,SAAAtB,GAEP,IAAIuB,EAASxB,EAAWC,GAExBe,EAAgBQ,MgCrkBfqmC,CAAsBrlB,EAAc,EAAKglB,uBAAwB,EAAKD,uBACtE,EAAK5gC,SAAS,CACb6sB,8BAA8B,EAC9BC,iCAAiC,EAEjCd,gBAAiB,GACjBG,mBAAoB,MAhQJ,EAwQnBjI,sBAAwB,SAACpoB,GACxB,EAAKkE,SAAS,CACbqgC,0BAA0BvkC,KA1QT,EA8QnBywB,6BAA+B,SAAC9lB,GAC/B,EAAKzG,SAAS,CACbssB,uBAAwB7lB,EAAME,OAAOC,SA9QhC,EAAKzF,MAAQ,CAClB6/B,oBAAqB,IAAI/7B,KAEzBqnB,uBAAwB,EAExB7V,oBAAqB,GAErB0qB,eAAgB,qCAChB/R,eAAgB,yBAEhBpD,gBAAiB,GACjBG,mBAAoB,GAEpB6T,sBAAuBvX,eAAYC,cACnCzD,iBAAkB,GAElB+H,kBAAmB,GACnBC,qBAAsB,GACtB5W,qBAAsB,GAEtBgqB,0BAA2B,EAAKR,+BAEhC9a,qBAAsB,EACtB8H,8BAA+B,EAC/BC,iCAAkC,GA1BjB,E,qDA+BnB,WACCzrB,KAAKxB,MAAMyf,iBAAiB,K,kCAE7B,WACCje,KAAKxB,MAAMe,gB,oBAmPZ,WAAU,IAAD,OAEJokB,EAAa,GACjB,IAAK,IAAItlB,KAAS2B,KAAKF,MAAMkV,qBAC5B2O,EAAWlrB,KACVuH,KAAKF,MAAMkV,qBAAqB3W,GAAhC,MASF,OAN0B,IAAtBslB,EAAW5f,QACd4f,EAAWlrB,KACV,YAKD,qBAAKwH,UAAU,eAAf,SAEC,qBAAKA,UAAU,YAAf,SAEC,qBAAKA,UAAU,eAAf,SAEC,qBAAKA,UAAU,UAAf,SACC,eAAC,IAAD,WACC,cAAC,IAAD,CAAOud,KAAMxd,KAAKxB,MAAMif,MAAMC,IAAI,gBAAiBE,UAAW,kBAAM,cAAC,GAAD,CAElEvP,aAAc,EAAK7P,MAAM6P,aAEzB+O,YAAa,EAAK5e,MAAM4e,YACxBpJ,cAAe,EAAKxV,MAAMwV,cAE1Bgb,WAAY,EAAKxwB,MAAM4W,oBAEvBqJ,sBAAuB,EAAKjgB,MAAMqZ,qBAClC6G,mBAAoB,EAAKlgB,MAAMoY,kBAC/B+H,uBAAwB,EAAKngB,MAAMqY,sBAEnC/G,YAAa,EAAKtR,MAAMsR,YAExBzJ,SAAU,EAAK7H,MAAM6H,cAGvB,cAAC,IAAD,CAAOmX,KAAMxd,KAAKxB,MAAMif,MAAMC,IAAI,eAAgBE,UAAW,kBAAM,cAAC,GAAD,CACjER,YAAa,EAAKtd,MAAM6/B,oBAExBhV,gBAAiB,EAAK7qB,MAAM6qB,gBAC5BG,mBAAoB,EAAKhrB,MAAMgrB,mBAE/BjT,qBAAsB,EAAKrZ,MAAMqZ,qBACjCjB,kBAAmB,EAAKpY,MAAMoY,kBAC9BC,sBAAuB,EAAKrY,MAAMqY,sBAElCgV,SAAU,EAAK6T,wBAEfzU,uBAAwB,EAAKnrB,MAAMmrB,uBACnCC,6BAA8B,EAAKA,6BAEnCS,kBAAmB,EAAK7rB,MAAM6rB,kBAC9BC,qBAAsB,EAAK9rB,MAAM8rB,qBAEjCJ,8BAA+B,EAAK1rB,MAAM0rB,8BAC1CC,iCAAkC,EAAK3rB,MAAM2rB,sCAG/C,cAAC,IAAD,CAAOjO,KAAMxd,KAAKxB,MAAMif,MAAMC,IAAI,mBAAoBE,UAAW,kBAAM,cAAC,GAAD,CAErExF,sBAAuB,EAAK5Z,MAAM4Z,sBAClCoL,kBAAmB,EAAKhlB,MAAM8e,iCAE9BuF,sBAAuB,EAAKA,sBAC5BpQ,kBAAmB,EAAK3S,MAAMk/B,0BAE9Br3B,SAAU,EAAK+2B,wBAEf5d,YAAa,EAAKhhB,MAAM6+B,sBACxB5a,aAAc,EAAK8a,eAEnBjb,iBAAkB,EAAK9jB,MAAM8jB,iBAC7BF,qBAAsB,EAAK5jB,MAAM4jB,qBAEjCrd,SAAU,EAAK7H,MAAM6H,cAGvB,cAAC,IAAD,CAAOmX,KAAMxd,KAAKxB,MAAMif,MAAMC,IAAI,mBAAoBE,UAAW,kBAAM,cAAC,GAAD,CAErE9N,YAAa,EAAKtR,MAAMsR,YAExBsI,sBAAuB,EAAK5Z,MAAM4Z,sBAElCmN,eAAgB,EAAK/mB,MAAMwf,gBAC3B3P,aAAc,EAAK7P,MAAM6P,aAEzBhI,SAAU,EAAK7H,MAAM6H,cAGvB,cAAC,IAAD,CAAOmX,KAAMxd,KAAKxB,MAAMif,MAAMC,IAAI,gBAAiBE,UAAW,kBAAM,cAAC,GAAD,CAClEvP,aAAc,EAAK7P,MAAM6P,aAEzBhI,SAAU,EAAK7H,MAAM6H,cAGvB,cAAC,IAAD,CAAOmX,KAAMxd,KAAKxB,MAAMif,MAAMC,IAAI,cAAeE,UAAW,kBAAM,cAAC,GAAD,CAChE2H,eAAgB,EAAK/mB,MAAMwf,gBAC3B3P,aAAc,EAAK7P,MAAM6P,aAEzBhI,SAAU,EAAK7H,MAAM6H,cAGvB,cAAC,IAAD,CAAOmX,KAAMxd,KAAKxB,MAAMif,MAAMC,IAAI,WAAYE,UAAW,kBAAM,cAAC,GAAD,CAC7D2H,eAAgB,EAAK/mB,MAAMwf,gBAC3B3P,aAAc,EAAK7P,MAAM6P,aACzB8H,kBAAqB,EAAK3X,MAAM2X,kBAEhC9P,SAAU,EAAK7H,MAAM6H,cAGvB,cAAC,IAAD,CAAOmX,KAAMxd,KAAKxB,MAAMif,MAAMC,IAAI,oBAAqBE,UAAW,kBAAM,cAAC,GAAD,CACtEvP,aAAc,EAAK7P,MAAM6P,kBAG3B,cAAC,IAAD,CAAOmP,KAAMxd,KAAKxB,MAAMif,MAAMC,IAAI,eAAgBE,UAAW,kBAAM,cAAC,GAAD,CACjE9N,YAAa,EAAKtR,MAAMsR,YACxBzB,aAAc,EAAK7P,MAAM6P,aAEzBuG,aAAc,EAAKpW,MAAMoW,aACzBvO,SAAU,EAAK7H,MAAM6H,cAGvB,cAAC,IAAD,CAAOmX,KAAMxd,KAAKxB,MAAMif,MAAMC,IAAI,IAAKE,UAAW,kBAAM,cAAC,GAAD,sB,GAvZrCxd,IAAMC,WAoalB6H,eAAWqK,ICpbpB+N,G,kDACL,aAAe,IAAD,8BACb,gBACKC,SAAW,SAACC,GAChBA,EAAErZ,iBACF,EAAK3I,MAAM+hB,SAAS,EAAK/hB,MAAM+G,QAJnB,E,0CAQd,WACC,IAAItF,EAAY,0BAKhB,OAJID,KAAKxB,MAAMkiB,SACdzgB,GAAa,WAIb,wBAAQA,UAAWA,EAAW8M,QAAS/M,KAAKugB,SAA5C,SACEvgB,KAAKxB,MAAMzB,Y,GAjBUqD,IAAMC,WAwB1B0/B,GAAsB,CAC3B,CAAChjC,MAAM,MAAOwI,MAAM,EAAGy6B,UAAU,EAAGC,WAAW,GAC/C,CAACljC,MAAM,QAASwI,MAAM,EAAGy6B,UAAU,IAAKC,WAAW,IACnD,CAACljC,MAAM,UAAWwI,MAAM,EAAGy6B,UAAU,IAAKC,WAAW,IACrD,CAACljC,MAAM,UAAWwI,MAAM,EAAGy6B,UAAU,GAAIC,WAAW,IACpD,CAACljC,MAAM,UAAWwI,MAAM,EAAGy6B,UAAU,GAAKC,WAAW,GACrD,CAACljC,MAAM,QAASwI,MAAM,EAAGy6B,UAAU,EAAGC,WAAW,IAG5CC,GAAqB,SAAC1hC,GAC3B,IAAM2hC,EAAiB3hC,EAAM4hC,WAE7B,OACC,qBAAKngC,UAAU,cAAf,SACE8/B,GAAoBze,KAAI,SAAC5Z,GAAD,OACxB,cAAC,GAAD,CAECgZ,OAAQyf,IAAmBz4B,EAAKnC,MAChCxI,MAAO2K,EAAK3K,MACZwjB,SAAU/hB,EAAM+hB,SAChBhb,MAAOmC,EAAKnC,OAJPmC,EAAK3K,aAwKAmL,gBA3JI,SAAC1J,GAEnB,IAAM6hC,EAAmB7hC,EAAM8hC,UAE3BC,EAAgB,GAChBvR,EAAa,GACjB,IAAK,IAAIzrB,KAAO/E,EAAMwU,QAErBgc,EAAWv2B,KAAM,CAAC0G,KAAKoE,EAAKgC,MAAMhC,IAGT,IAAtByrB,EAAWjrB,QACdirB,EAAWv2B,KAAM,CAAC0G,KAAK,cAAeoG,MAAM,SAG7C,IAAMi7B,EAAahiC,EAAMiiC,kBACnBC,EAAgBliC,EAAMmiC,qBAExBplC,EAAU,GACd,QAAoCb,IAA9B8D,EAAMwU,QAAQwtB,GAA4B,CAE/C,IAAK,IAAII,KAAapiC,EAAMwU,QAAQwtB,GAEnCD,EAAc9nC,KAAM,CAAC0G,KAAKyhC,EAAWr7B,MAAMq7B,SAGOlmC,IAA7C8D,EAAMwU,QAAQwtB,GAAYE,KAC/BnlC,EAAUiD,EAAMwU,QAAQwtB,GAAYE,IAIT,IAAzBH,EAAcx8B,QACjBw8B,EAAc9nC,KAAM,CAAC0G,KAAK,qBAAsBoG,MAAM,SAGvD,IAAMs7B,EAAa,GACbC,EAAW,GAEbC,EhC/EY,CACfhY,OAAQ,CACPC,MAAO,CACN,CACCb,MAAO,CACNC,aAAa,OgC2Ed4Y,EAAWtkC,EAAkB,GAAI,CAAC,KAEtC,QAAkBhC,IAAZa,EAAwB,CAC7B,IAAK,IAAI0lC,KAAY1lC,EACpBslC,EAAWpoC,KAAKwoC,GAChBH,EAASroC,KAAK8C,EAAQ0lC,IAGvB,IAAIC,EAAWnB,GAAoBM,GAAkBL,UACpC,IAAbkB,IACHA,EAAWL,EAAW98B,QAGvB,IAAIo9B,EAAgBN,EAAWpQ,OAAOyQ,GAClCE,EAAc,CACjBrkC,MAAM,YAENzE,KAAKwoC,EAASrQ,OAAOyQ,IAGtBF,EAAWtkC,EAAkBykC,EAAe,CAACC,IAG9C,OACC,qBAAKnhC,UAAU,aAAf,SACC,sBAAKA,UAAU,kBAAf,UAEC,qBAAKA,UAAU,UAAf,SACC,qBAAKA,UAAU,MAAf,SAEC,sBAAKA,UAAU,cAAf,UACC,qBAAKA,UAAU,cAAf,6BAGA,sBAAKA,UAAU,YAAf,UAEC,qBAAKA,UAAU,UAAf,SACC,qBAAKA,UAAU,MAAf,SACC,cAACmqB,GAAA,EAAD,CAAaC,QAAM,EAAnB,SACE2E,EAAW1N,KAAI,SAACgJ,EAAOC,GAAR,OAChB,cAACC,GAAA,EAAD,CAEC9iB,KAAK,QACLvE,QAAQ,UACRhE,KAAK,QACLoG,MAAO+kB,EAAM/kB,MACbklB,QAAS+V,IAAelW,EAAM/kB,MAC9BoC,SAAUnJ,EAAM6iC,aAPjB,SASE/W,EAAMnrB,MARForB,YAeT,qBAAKtqB,UAAU,UAAf,SACC,qBAAKA,UAAU,MAAf,SACC,cAACmqB,GAAA,EAAD,CAAaC,QAAM,EAAnB,SACEkW,EAAcjf,KAAI,SAACgJ,EAAOC,GAAR,OACnB,cAACC,GAAA,EAAD,CAEC9iB,KAAK,QACLvE,QAAQ,YACRhE,KAAK,QACLoG,MAAO+kB,EAAM/kB,MACbklB,QAASiW,IAAkBpW,EAAM/kB,MACjCoC,SAAUnJ,EAAM8iC,gBAPjB,SASEhX,EAAMnrB,MARForB,sBAoBb,qBAAKtqB,UAAU,UAAf,SACC,qBAAKA,UAAU,MAAf,SACC,sBAAKA,UAAU,cAAf,UACC,sBAAKA,UAAU,cAAf,UACC,8BACC,4BAAG,2DAIJ,2CACUugC,KAEV,0CACSE,QAGV,sBAAKzgC,UAAU,YAAf,UACC,cAAC,QAAD,CACC3H,KAAM0oC,EACNrY,QAASoY,IAGV,cAAC,GAAD,CACCX,WAAYC,EACZ9f,SAAU/hB,EAAM+iC,kCC7MnB9I,GAAa,CAAC,UAAW,QAAS,kBAAmB,iBACrDpmB,GAAgB,mBAEhBmvB,G,kDAEL,WAAYhjC,GAAQ,IAAD,8BACZ,cAAMA,IAkCbijC,aAAe,WACd,EAAKC,kBACL,EAAKC,uBArCa,EAwCnBC,WAAa,SAAC97B,GACb,IAAIyO,EAEJ,GAA+B,IAA3BzO,EAAY,YAIX,IAA+B,IAA3BA,EAAY,OAGpB,OAFA,EAAKtH,MAAM6H,SAASgM,GAAe,oBAAqB,0BACxD,EAAK7T,MAAM6P,aAAa,EAAKqzB,iBAIM,IAA3B57B,EAAY,QAIe,IAA3BA,EAAY,QAIe,IAA3BA,EAAY,QAIZA,EAAY,OAIrB,EAAKtH,MAAM6H,SAASgM,GAAe,oBAAqB,WACxDkC,EAAazO,EAAY,SACzB,EAAKnH,SAAS,CACbkjC,qBAAsBttB,EACtButB,sBAAuB,KAzEN,EA4EnBC,WAAa,SAACx2B,GAGb,EAAK/M,MAAM6H,SAASgM,GAAe,oBAAqB,WACxD,EAAK1T,SAAS,CACbqjC,gBAAiBz2B,EAAW,aAC5BgkB,aAAchkB,EAAW,aACzBouB,WAAYpuB,EAAW,WAEvBu2B,sBAAuB,KArFN,EAwFnBJ,gBAAkB,WAEjB,GAAI,EAAKljC,MAAMiU,mBAAqB,EAAG,CAIrCrX,EAAyB,EAAKoD,MAAMiU,kBAAmB,EAAKsvB,WAAY,EAAKH,YAE7E,EAAKjjC,SAAS,CACbmjC,sBAAuB,MAjGR,EA4GnBG,kBAAoB,SAACn8B,GACpB,IAAIyO,EAEJ,GAA+B,IAA3BzO,EAAY,YAIX,IAA+B,IAA3BA,EAAY,OAGpB,OAFA,EAAKtH,MAAM6H,SAASgM,GAAe,oBAAqB,6BACxD,EAAK7T,MAAM6P,aAAa,EAAKszB,qBAIM,IAA3B77B,EAAY,QAIe,IAA3BA,EAAY,QAIe,IAA3BA,EAAY,QAIZA,EAAY,OAIrB,EAAKtH,MAAM6H,SAASgM,GAAe,uBAAwB,WAC3DkC,EAAazO,EAAY,SACzB,EAAKnH,SAAS,CACbujC,iBAAkB,EAClBC,gBAAiB5tB,KA7IA,EAgJnB6tB,kBAAoB,SAACr0B,GAIpB,IAAIirB,EAAkB,GAClBC,EAAsB,GAE1B,IAAK,IAAI56B,KAAS0P,EAEuB,IAApCA,EAAa1P,GAAO66B,YACvBD,EAAoBxgC,KAAMsV,EAAa1P,IAGK,IAApC0P,EAAa1P,GAAO66B,aAC5BF,EAAgBvgC,KAAMsV,EAAa1P,IAIrC,EAAKG,MAAM6H,SAASgM,GAAe,uBAAwB,WAC3D,EAAK1T,SAAS,CACbw6B,kBAAmBF,EACnBG,iBAAkBJ,EAElBkJ,iBAAkB,KAvKD,EA0KnBP,oBAAsB,WACrB,GAAI,EAAKnjC,MAAMiU,mBAAqB,EAAG,ElC45BJ,SAACpX,EAAetC,EAAkBC,GAEtE,IAAMU,EAAS,CACdC,QAAS,CAAEC,cAAc,OAAD,OAAS5C,KAGlCL,EAAckD,IAAI,mCAAmCwB,EAAe3B,GACnEP,MAAO,SAAAC,GAIP,IAAI+B,EAAW/B,EAAId,KAEnBS,EAAiBoC,MAEjB5B,OAAO,SAAAtB,GAEP,IAAIuB,EAASxB,EAAWC,GAExBe,EAAgBQ,MkC56Bd6oC,CAAwB,EAAK7jC,MAAMiU,kBAAmB,EAAK2vB,kBAAmB,EAAKH,mBACnF,EAAKtjC,SAAS,CACbujC,iBAAkB,MAhLH,EA0LnB5I,cAAgB,SAACxzB,GAChB,IAAIyO,EAEJ,GAA+B,IAA3BzO,EAAY,YAIX,IAA+B,IAA3BA,EAAY,OAGpB,OAFA,EAAKtH,MAAM6H,SAASgM,GAAe,oBAAqB,gCACxD,EAAK7T,MAAM6P,aAAa,EAAK6L,mBAIM,IAA3BpU,EAAY,QAIe,IAA3BA,EAAY,QAIe,IAA3BA,EAAY,QAIZA,EAAY,OAIrB,EAAKtH,MAAM6H,SAASgM,GAAe,0BAA2B,WAC9DkC,EAAazO,EAAY,SACzB,EAAKnH,SAAS,CACb2jC,oBAAqB,EACrBC,mBAAoBhuB,KA3NH,EA8NnBmlB,cAAgB,SAACnuB,GAIhB,EAAK/M,MAAM6H,SAASgM,GAAe,0BAA2B,WAC9D,EAAK1T,SAAS,CACb2jC,oBAAqB,KApOJ,EAuOnBE,WAAa,SAACp9B,IlCqyByB,SAAC3K,EAAgBM,EAAcC,EAAcjC,EAAkBC,GACtG,IAAMU,EAAS,CACdC,QAAS,CAAEC,cAAc,OAAD,OAAS5C,KAG5BsB,EAAO,CACZ2C,OAAOR,EACPgoC,WAAW1nC,EACXC,aAAaA,GAGdrE,EAAcuC,KAAK,6BAA8BZ,EAAMoB,GACtDP,MAAO,SAAAC,GAIP,IAAI+B,EAAW/B,EAAId,KAEnBS,EAAkBoC,MAElB5B,OAAO,SAAAtB,GAEP,IAAIuB,EAASxB,EAAWC,GAExBe,EAAgBQ,MkC1zBhBkpC,CAA2B,EAAKlkC,MAAMiU,kBAAmB,EAAK3S,MAAM2iC,WAAY,EAAK3iC,MAAM46B,WAAY,EAAKhB,cAAe,EAAKJ,eAChI,EAAK36B,SAAS,CACb2jC,oBAAqB,KA5OJ,EAgPnBzI,mBAAqB,SAAC/zB,GACrB,IAAIyO,EAEJ,GAA+B,IAA3BzO,EAAY,YAIX,IAA+B,IAA3BA,EAAY,OAGpB,OAFA,EAAKtH,MAAM6H,SAASgM,GAAe,oBAAqB,+BACxD,EAAK7T,MAAM6P,aAAa,EAAK6L,mBAIM,IAA3BpU,EAAY,QAIe,IAA3BA,EAAY,QAIe,IAA3BA,EAAY,QAIZA,EAAY,OAIrB,EAAKtH,MAAM6H,SAASgM,GAAe,yBAA0B,WAC7DkC,EAAazO,EAAY,SACzB,EAAKnH,SAAS,CACbgkC,iBAAkB,EAClBC,gBAAiBruB,IAGlB,EAAKotB,uBApRa,EAsRnBkB,sBAAwB,SAACt3B,GAGxB,EAAK/M,MAAM6H,SAASgM,GAAe,yBAA0B,WAC7D,EAAKovB,eAEL,EAAK9iC,SAAS,CACbmkC,YAAa,EACbH,iBAAkB,KA9RD,EAiSnBzI,UAAY,SAAC90B,GACZ/L,QAAQC,IAAI,UAIZ,IACIyB,EAAeqK,EAAME,OAAOC,MAChCzK,EAAwB,EAAK0D,MAAMiU,kBAAmB1X,EAFzC,EAE+D,EAAK8nC,sBAAuB,EAAKhJ,oBAC7G,EAAKl7B,SAAS,CACbmkC,aAAc,EACdH,iBAAkB,KA3SD,EA8SnBI,qBAAuB,SAACx3B,GAGvB,EAAK/M,MAAM6H,SAASgM,GAAe,yBAA0B,WAC7D,EAAKovB,eAEL,EAAK9iC,SAAS,CACbmkC,YAAa,EACbH,iBAAkB,KAtTD,EAyTnBxI,SAAW,SAAC/0B,GACX/L,QAAQC,IAAI,QAIZ,IACIyB,EAAeqK,EAAME,OAAOC,MAEhCzK,EAAwB,EAAK0D,MAAMiU,kBAAmB1X,EAHzC,EAG+D,EAAKgoC,qBAAsB,EAAKlJ,oBAC5G,EAAKl7B,SAAS,CACbmkC,aAAc,EACdH,iBAAkB,KApUD,EAwUnBx9B,gBAAkB,SAACC,GAClB,EAAKzG,SAAS,CACb8jC,WAAYr9B,EAAME,OAAOC,SA1UR,EA8UnBy9B,gBAAkB,SAAC59B,GAClB,EAAKzG,SAAS,CACb+7B,WAAWt1B,EAAME,OAAOC,SAhVP,EAoVnB2U,kBAAoB,WACnB7gB,QAAQC,IAAI,4BAnVN,EAAKwG,MAAQ,CAGlB65B,WAAY,UAGZ8I,WAAY,GACZ/H,WAAY,GAEZvB,kBAAmB,GACnBC,iBAAkB,GAElB4I,gBAAiB,UACjBzS,aAAc,UAEduS,sBAAuB,EACvBD,qBAAsB,GACtBK,iBAAkB,EAClBC,gBAAiB,GAEjBG,oBAAqB,EACrBC,mBAAoB,GACpBI,iBAAkB,EAClBC,gBAAiB,GAEjBE,aAAc,GA3BG,E,qDA+BnB,WACC9iC,KAAKyhC,iB,oBAwTN,WACC,IAAIwB,EAA4B,GAEhC,IAAK,IAAInkB,KAAK9e,KAAKF,MAAMq5B,kBAAmB,CAE3C8J,EAA0BxqC,KACzB,qBAAIwH,UAAW,gDAAf,UACC,qBAAKA,UAAU,MAAf,SACED,KAAKF,MAAMq5B,kBAAkBra,GAAG2b,iBAElC,qBAAKx6B,UAAU,MAAf,SACEw4B,GAAWz4B,KAAKF,MAAMq5B,kBAAkBra,GAAG4b,cAE7C,qBAAKz6B,UAAU,QAAf,SACC,wBAAQA,UAAU,iCAAiCsF,MAAOvF,KAAKF,MAAMq5B,kBAAkBra,GAAG5iB,GAAI6Q,QAAS/M,KAAKk6B,UAA5G,iBAED,qBAAKj6B,UAAU,QAAf,SACC,wBAAQA,UAAU,gCAAgCsF,MAAOvF,KAAKF,MAAMq5B,kBAAkBra,GAAG5iB,GAAI6Q,QAAS/M,KAAKm6B,SAA3G,mBAXyErb,IAiBpC,IAArCmkB,EAA0Bl/B,QAC7Bk/B,EAA0BxqC,KACzB,oBAAIwH,UAAU,kBAAd,gCAAqC,IAMvC,IAAI06B,EAAqB,GACzB,IAAK,IAAI7b,KAAK9e,KAAKF,MAAMs5B,iBAAkB,CAE1CuB,EAAmBliC,KAClB,qBAAIwH,UAAW,gDAAf,UACC,qBAAKA,UAAU,MAAf,SACED,KAAKF,MAAMs5B,iBAAiBta,GAAG2b,iBAEjC,qBAAKx6B,UAAU,MAAf,SACEw4B,GAAWz4B,KAAKF,MAAMs5B,iBAAiBta,GAAG4b,cAE5C,qBAAKz6B,UAAU,QAAf,SACC,wBAAQA,UAAU,iCAAiCsF,MAAOvF,KAAKF,MAAMs5B,iBAAiBta,GAAG5iB,GAAI6Q,QAAS/M,KAAKk6B,UAA3G,iBAED,qBAAKj6B,UAAU,QAAf,SACC,wBAAQA,UAAU,gCAAgCsF,MAAOvF,KAAKF,MAAMs5B,iBAAiBta,GAAG5iB,GAAI6Q,QAAS/M,KAAKm6B,SAA1G,mBAXyErb,IAgB3C,IAA9B6b,EAAmB52B,QACtB42B,EAAmBliC,KAClB,oBAAIwH,UAAU,kBAAd,wBAAqC,IAMvC,IAAIijC,EAAiB,iBACS,KAA1BljC,KAAKF,MAAM46B,aACdwI,EAAiBzK,GAAWz4B,KAAKF,MAAM46B,aAIxC,IAAI1tB,EAAmD,IAArChN,KAAKF,MAAMgiC,uBAA+D,IAAhC9hC,KAAKF,MAAMoiC,kBAA0D,IAAhCliC,KAAKF,MAAM6iC,kBAA6D,IAAnC3iC,KAAKF,MAAMwiC,oBAC7Ia,EAAiD,IAAhCnjC,KAAKF,MAAM6iC,kBAAqD,IAA3B3iC,KAAKF,MAAMgjC,YACjEM,EAAiD,IAAhCpjC,KAAKF,MAAM6iC,kBAAqD,IAA3B3iC,KAAKF,MAAMgjC,YACjEO,EAAuD,IAAnCrjC,KAAKF,MAAMwiC,oBAC/Br1B,EAAiD,IAArCjN,KAAKF,MAAMgiC,uBAA+D,IAAhC9hC,KAAKF,MAAMoiC,kBAA0D,IAAhCliC,KAAKF,MAAM6iC,kBAA6D,IAAnC3iC,KAAKF,MAAMwiC,oBAE3I3e,EAAa,GACjB,IAAK,IAAItlB,KAAS2B,KAAKF,MAAM+hC,qBAC5Ble,EAAWlrB,KACVuH,KAAKF,MAAM+hC,qBAAqBxjC,GAAhC,MAGF,IAAK,IAAIA,KAAS2B,KAAKF,MAAMqiC,gBAC5Bxe,EAAWlrB,KACVuH,KAAKF,MAAMqiC,gBAAgB9jC,GAA3B,MAGF,IAAK,IAAIA,KAAS2B,KAAKF,MAAMyiC,mBAC5B5e,EAAWlrB,KACVuH,KAAKF,MAAMyiC,mBAAmBlkC,GAA9B,MAGF,IAAK,IAAIA,KAAS2B,KAAKF,MAAM8iC,gBAC5Bjf,EAAWlrB,KACVuH,KAAKF,MAAM8iC,gBAAgBvkC,GAA3B,MASF,OAN0B,IAAtBslB,EAAW5f,QACd4f,EAAWlrB,KACV,YAKD,qBAAKwH,UAAU,cAAf,SACC,sBAAKA,UAAU,kBAAf,UAEC,sBAAKA,UAAU,MAAf,UACC,qBAAKA,UAAU,MAAf,SACC,sBAAKA,UAAU,cAAf,UACC,qBAAKA,UAAU,cAAf,SACC,8DAED,qBAAKA,UAAU,YAAf,SACED,KAAKF,MAAMkiC,uBAIf,qBAAK/hC,UAAU,MAAf,SACC,sBAAKA,UAAU,cAAf,UACC,qBAAKA,UAAU,cAAf,SACC,+CAED,qBAAKA,UAAU,YAAf,SACED,KAAKF,MAAM65B,qBAKhB,qBAAK15B,UAAU,MAAf,SACC,qBAAKA,UAAU,mBAAf,SACC,sBAAKA,UAAU,cAAf,UACC,qBAAKA,UAAU,cAAf,SACC,wDAED,qBAAKA,UAAU,YAAf,SACC,qBAAIA,UAAU,aAAd,UACC,oBAAIA,UAAU,kBAAd,SACC,sBAAKA,UAAU,MAAf,UACC,qBAAKA,UAAU,UAEf,qBAAKA,UAAU,oBAAf,SACC,4CAED,qBAAKA,UAAU,oBAAf,SACC,8CAED,qBAAKA,UAAU,UAGf,qBAAKA,UAAU,eAbqB,GAiBrCgjC,cAMN,sBAAKhjC,UAAU,MAAf,UACC,qBAAKA,UAAU,mBAAf,SACC,sBAAKA,UAAU,cAAf,UACC,qBAAKA,UAAU,cAAf,SACC,gDAED,qBAAKA,UAAU,YAAf,SACC,qBAAIA,UAAU,aAAd,UACC,oBAAIA,UAAU,kBAAd,SACC,sBAAKA,UAAU,MAAf,UACC,qBAAKA,UAAU,UAEf,qBAAKA,UAAU,oBAAf,SACC,4CAED,qBAAKA,UAAU,oBAAf,SACC,8CAED,qBAAKA,UAAU,UAGf,qBAAKA,UAAU,eAbqB,GAiBrC06B,YAKL,qBAAK16B,UAAU,mBAAf,SACC,sBAAKA,UAAU,cAAf,UACC,qBAAKA,UAAU,cAAf,SACC,+CAED,sBAAKA,UAAU,YAAf,UAEC,qBAAKA,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,uBAAOyH,KAAK,OAAOzH,UAAU,eAAesF,MAAOvF,KAAKF,MAAM2iC,WAAY96B,SAAU3H,KAAKmF,gBAAiByC,YAAY,gCAGxH,sBAAK3H,UAAU,MAAf,UACC,qBAAKA,UAAU,MAAf,SACC,sBAAKA,UAAU,WAAf,UACC,wBAAQA,UAAU,oCAAoCyH,KAAK,SAASxL,GAAG,qBAAqB+T,cAAY,WAAWC,gBAAc,OAAOC,gBAAc,QAAtJ,SACE+yB,IAEF,sBAAKjjC,UAAU,gBAAgBmQ,kBAAgB,mBAA/C,UACC,wBAAQnQ,UAAU,gBAAgBsF,MAAM,IAAIwH,QAAS/M,KAAKgjC,gBAA1D,mBACA,wBAAQ/iC,UAAU,gBAAgBsF,MAAM,IAAIwH,QAAS/M,KAAKgjC,gBAA1D,6BACA,wBAAQ/iC,UAAU,gBAAgBsF,MAAM,IAAIwH,QAAS/M,KAAKgjC,gBAA1D,mCAKH,qBAAK/iC,UAAU,MAAf,SACC,wBAAQA,UAAU,kBAAkB8M,QAAS/M,KAAKwiC,WAAlD,oCAWN,eAACz6B,EAAA,EAAD,CAAOC,KAAMgF,EAAa7J,QAAQ,UAAlC,UACC,cAAC4E,EAAA,EAAME,QAAP,sBACA,uBACA,+DAGA,0BAGD,eAACF,EAAA,EAAD,CAAOC,KAAMm7B,EAAgBhgC,QAAQ,UAArC,UACC,cAAC4E,EAAA,EAAME,QAAP,uBACA,uBACA,8DAGA,0BAGD,eAACF,EAAA,EAAD,CAAOC,KAAMo7B,EAAgBjgC,QAAQ,UAArC,UACC,cAAC4E,EAAA,EAAME,QAAP,uBACA,uBACA,8DAGA,0BAGD,eAACF,EAAA,EAAD,CAAOC,KAAMq7B,EAAmBlgC,QAAQ,UAAxC,UACC,cAAC4E,EAAA,EAAME,QAAP,uBACA,uBACA,0DAGA,0BAGD,eAACF,EAAA,EAAD,CAAOC,KAAMiF,EAAW9J,QAAQ,SAAhC,UACC,cAAC4E,EAAA,EAAME,QAAP,qBACA,uBACA,2DAGA,mC,GAnmBuB7H,IAAMC,WA2mBpB6H,eAAWs5B,IC9mBpBnvB,GAAgB,uBAEhBixB,G,kDAEL,WAAY9kC,GAAQ,IAAD,8BACZ,cAAMA,IAkCbijC,aAAe,WACd,EAAKC,mBApCa,EAuCnBE,WAAa,SAAC97B,GACb,IAAIyO,EAEJ,GAA+B,IAA3BzO,EAAY,YAIX,IAA+B,IAA3BA,EAAY,OAGpB,OAFA,EAAKtH,MAAM6H,SAASgM,GAAe,oBAAqB,iCACxD,EAAK7T,MAAM6P,aAAa,EAAKqzB,iBAIM,IAA3B57B,EAAY,QAIe,IAA3BA,EAAY,QAIe,IAA3BA,EAAY,QAIZA,EAAY,OAIrB,EAAKtH,MAAM6H,SAASgM,GAAe,2BAA4B,WAC/DkC,EAAazO,EAAY,SACzB,EAAKnH,SAAS,CACb4kC,qBAAsB,EACtBC,oBAAqBjvB,KAxEJ,EA2EnBwtB,WAAa,SAACx2B,GAEb,EAAK/M,MAAM6H,SAASgM,GAAe,2BAA4B,WAC/D,EAAK1T,SAAS,CAEbqjC,gBAAiBz2B,EAAW,aAC5BgkB,aAAchkB,EAAW,aACzBk4B,SAAUl4B,EAAW,iBAErBm4B,OAAQn4B,EAAW,kBACnBo4B,MAAOp4B,EAAW,oBAClBq4B,MAAOr4B,EAAW,wBAClBs4B,QAASt4B,EAAW,mBAEpBu4B,UAAWv4B,EAAW,cACtBw4B,SAAUx4B,EAAW,oBACrBy4B,SAAUz4B,EAAW,mBACrB04B,WAAY14B,EAAW,cAEvB24B,UAAW,GACXjf,SAAU,GACVkf,SAAU,GACVpf,WAAY,GAEZwe,qBAAsB,KAnGL,EAsGnB7B,gBAAkB,WAEjB,GAAI,EAAKljC,MAAMiU,mBAAqB,EAAG,CAIrCrX,EAAyB,EAAKoD,MAAMiU,kBAAmB,EAAKsvB,WAAY,EAAKH,YAC7E,EAAKjjC,SAAS,CACb4kC,qBAAsB,MA9GP,EAyHnBre,WAAa,SAACpf,GACb,IAAIyO,EAEJ,GAA+B,IAA3BzO,EAAY,YAIX,IAA+B,IAA3BA,EAAY,OAGpB,OAFA,EAAKtH,MAAM6H,SAASgM,GAAe,oBAAqB,iCACxD,EAAK7T,MAAM6P,aAAa,EAAK8W,aAIM,IAA3Brf,EAAY,QAIe,IAA3BA,EAAY,QAIe,IAA3BA,EAAY,QAIZA,EAAY,OAIrB,EAAKtH,MAAM6H,SAASgM,GAAe,2BAA4B,WAC/DkC,EAAazO,EAAY,SACzB,EAAKnH,SAAS,CACbylC,qBAAsB,EACtBC,oBAAqB9vB,KA1JJ,EA6JnB+Q,WAAa,SAAC/Z,GAIb,EAAK/M,MAAM6H,SAASgM,GAAe,2BAA4B,WAC/D,EAAK7T,MAAM+mB,iBAEX,EAAK5mB,SAAS,CACbylC,qBAAsB,KArKL,EAwKnBjf,YAAc,WAIb,IAEImf,EAAW,CACd,OAAU,EAAK9lC,MAAMiU,kBAErB,OALY,GAOZ,UAAa,EAAK3S,MAAMokC,UACxB,SAAY,EAAKpkC,MAAMmlB,SACvB,UAAa,EAAKnlB,MAAMqkC,SACxB,UAAa,EAAKrkC,MAAMilB,YAGzBzpB,EAA0BgpC,EAAU,EAAKhf,WAAY,EAAKJ,YAC1D,EAAKvmB,SAAS,CACbylC,qBAAsB,KA3LL,EA+LnBG,aAAe,SAACn/B,GAEf,IAAIo/B,EAAap/B,EAAME,OAAOC,MAAMzN,MAAM,KACtC2sC,EAAiBx5B,OAAOu5B,EAAW,IACnCnS,EAAWpnB,OAAOu5B,EAAW,IAE7B7f,EAAe,WAEf+f,EAAU,GACV5f,EAAU,GACVD,EAAU,GACVD,EAAU,GACd,OAAOxf,EAAME,OAAOnG,MACnB,IAAK,MACJulC,EAAQjsC,KAAM45B,GACd1N,EAAe,EAAK7kB,MAAM4jC,OAAOe,GACjC,MAED,IAAK,MACJ3f,EAAQrsB,KAAM45B,GACd1N,EAAe,EAAK7kB,MAAM6jC,MAAMc,GAChC,MAED,IAAK,MACJ5f,EAAQpsB,KAAM45B,GACd1N,EAAe,EAAK7kB,MAAM8jC,MAAMa,GAChC,MAED,IAAK,MACJ7f,EAAQnsB,KAAM45B,GACd1N,EAAe,EAAK7kB,MAAM+jC,QAAQY,GAClC,MAED,QACCprC,QAAQC,IAAI,mCAGd,EAAKqF,SAAS,CACbulC,UAAUQ,EACVzf,SAASH,EACTqf,SAAStf,EACTE,WAAWH,EAEXD,aAAcA,KAxOT,EAAK7kB,MAAQ,CAElBkiC,gBAAiB,UACjBzS,aAAc,UAEduU,UAAW,GACXC,SAAU,GACVC,SAAU,GACVC,WAAY,GAEZP,OAAQ,GACRC,MAAO,GACPC,MAAO,GACPC,QAAS,GAETK,UAAW,GACXjf,SAAU,GACVkf,SAAU,GACVpf,WAAY,GAEZ0e,SAAU,EAEVF,qBAAsB,EACtBC,oBAAqB,GACrBY,qBAAsB,EACtBC,oBAAqB,IA3BJ,E,qDA+BnB,WACCrkC,KAAKyhC,iB,oBA8MN,WACC,IAAIkD,EAAgB,GACpB,IAAK,IAAI7lB,KAAK9e,KAAKF,MAAM4jC,OAAQ,CAChC,IAAI9d,EAAQ,GACA5lB,KAAKF,MAAMokC,UAAU1rB,QAAQxY,KAAKF,MAAMgkC,UAAUhlB,KACjD,IACZ8G,EAAQ,cAGT+e,EAAclsC,KACb,oBAAIwH,UAAW,gDAAgD2lB,EAA/D,SACE5lB,KAAKF,MAAM4jC,OAAO5kB,IADuDA,IAQ5C,IAA7B9e,KAAKF,MAAM4jC,OAAO3/B,QACrB4gC,EAAclsC,KACb,oBAAIwH,UAAU,kBAAd,sBAAqC,IAMvC,IAAI2kC,EAAkB,GACtB,IAAK,IAAI9lB,KAAK9e,KAAKF,MAAM6jC,MAAO,CAC/B,IAAI/d,EAAQ,GACA5lB,KAAKF,MAAMmlB,SAASzM,QAAQxY,KAAKF,MAAMikC,SAASjlB,KAC/C,IACZ8G,EAAQ,cAGTgf,EAAgBnsC,KACf,qBAAIwH,UAAW,iDAAiD2lB,EAAhE,UACE5lB,KAAKF,MAAM6jC,MAAM7kB,GAClB,wBAAQ7e,UAAU,gCAAgCd,KAAK,MAAMoG,MAAQ,CAACuZ,EAAG9e,KAAKF,MAAMikC,SAASjlB,IAAM7O,cAAY,QAAQQ,cAAY,iBAAiB1D,QAAS/M,KAAKukC,aAAlK,iBAF2EzlB,IAQ9C,IAA5B9e,KAAKF,MAAM6jC,MAAM5/B,QACpB6gC,EAAgBnsC,KACf,oBAAIwH,UAAU,kBAAd,sBAAqC,IAMvC,IAAI4kC,EAAe,GACnB,IAAK,IAAI/lB,KAAK9e,KAAKF,MAAM8jC,MAAO,CAC/B,IAAIhe,EAAQ,GACA5lB,KAAKF,MAAMqkC,SAAS3rB,QAAQxY,KAAKF,MAAMkkC,SAASllB,KAC/C,IACZ8G,EAAQ,cAGTif,EAAapsC,KACb,oBAAIwH,UAAW,iDAAiD2lB,EAAhE,SACG5lB,KAAKF,MAAM8jC,MAAM9kB,IADwDA,IAU7C,IAA5B9e,KAAKF,MAAM8jC,MAAM7/B,QACpB8gC,EAAapsC,KACZ,oBAAIwH,UAAU,kBAAd,sBAAqC,IAMvC,IAAI6kC,EAAmB,GACvB,IAAK,IAAIhmB,KAAK9e,KAAKF,MAAM+jC,QAAS,CAEjC,IAAIje,EAAQ,GACA5lB,KAAKF,MAAMilB,WAAWvM,QAAQxY,KAAKF,MAAMmkC,WAAWnlB,KACnD,IACZ8G,EAAQ,cAGTkf,EAAiBrsC,KAChB,qBAAIwH,UAAW,iDAAiD2lB,EAAhE,UACE5lB,KAAKF,MAAM+jC,QAAQ/kB,GACpB,wBAAQ7e,UAAU,gCAAgCd,KAAK,MAAMoG,MAAQ,CAACuZ,EAAG9e,KAAKF,MAAMmkC,WAAWnlB,IAAM7O,cAAY,QAAQQ,cAAY,iBAAiB1D,QAAS/M,KAAKukC,aAApK,iBAF2EzlB,IAQ5C,IAA9B9e,KAAKF,MAAM+jC,QAAQ9/B,QACtB+gC,EAAiBrsC,KAChB,oBAAIwH,UAAU,kBAAd,sBAAqC,IAKvC6kC,EAAiBrsC,KAChB,qBAAIwH,UAAU,kBAAd,iBACMD,KAAKF,MAAM2jC,SADjB,2BAAqC,QAMtC,IAAIz2B,EAAkD,IAApChN,KAAKF,MAAMskC,sBAAkE,IAApCpkC,KAAKF,MAAMyjC,qBAClE30B,EAAkD,IAApC5O,KAAKF,MAAMskC,qBACzBn3B,EAAgD,IAApCjN,KAAKF,MAAMskC,sBAAkE,IAApCpkC,KAAKF,MAAMyjC,qBAEhE5f,EAAa,GACjB,IAAK,IAAItlB,KAAS2B,KAAKF,MAAM0jC,oBAC5B7f,EAAWlrB,KACVuH,KAAKF,MAAM0jC,oBAAoBnlC,GAA/B,MAGF,IAAK,IAAIA,KAAS2B,KAAKF,MAAM0jC,oBAC5B7f,EAAWlrB,KACVuH,KAAKF,MAAM0jC,oBAAoBnlC,GAA/B,MASF,OAN0B,IAAtBslB,EAAW5f,QACd4f,EAAWlrB,KACV,YAKD,qBAAKwH,UAAU,cAAf,SACC,sBAAKA,UAAU,kBAAf,UAEC,qBAAKA,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,sBAAKA,UAAU,cAAf,UACC,qBAAKA,UAAU,cAAf,SACC,6DAED,qBAAKA,UAAU,YAAf,SACED,KAAKF,MAAMkiC,yBAMhB,sBAAK/hC,UAAU,MAAf,UACC,qBAAKA,UAAU,MAAf,SACC,sBAAKA,UAAU,cAAf,UACC,qBAAKA,UAAU,cAAf,SACC,kDAED,qBAAKA,UAAU,YAAf,SACE0kC,SAIJ,qBAAK1kC,UAAU,MAAf,SACC,sBAAKA,UAAU,cAAf,UACC,qBAAKA,UAAU,cAAf,SACC,uDAED,qBAAKA,UAAU,YAAf,SACC,6BACE2kC,cAsBN,qBAAK3kC,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,sBAAKA,UAAU,cAAf,UACC,qBAAKA,UAAU,cAAf,SACC,iDAED,qBAAKA,UAAU,YAAf,SACC,6BACE6kC,aAON,eAAC/8B,EAAA,EAAD,CAAOC,KAAMgF,EAAa7J,QAAQ,UAAlC,UACC,cAAC4E,EAAA,EAAME,QAAP,sBACA,uBACA,+DAGA,0BAGD,eAACF,EAAA,EAAD,CAAOC,KAAM4G,EAAazL,QAAQ,UAAlC,UACC,cAAC4E,EAAA,EAAME,QAAP,uBACA,uBACA,6CAGA,0BAGD,eAACF,EAAA,EAAD,CAAOC,KAAMiF,EAAW9J,QAAQ,SAAhC,UACC,cAAC4E,EAAA,EAAME,QAAP,qBACA,uBACA,4BACE0b,IAEF,0BAGD,qBAAK1jB,UAAU,aAAa/D,GAAG,gBAAgB6pB,SAAS,KAAKC,KAAK,SAAS5V,kBAAgB,qBAAqB6V,cAAY,OAA5H,SACE,qBAAKhmB,UAAU,qCAAqC+lB,KAAK,WAAzD,SACD,sBAAK/lB,UAAU,gBAAf,UACE,sBAAKA,UAAU,eAAf,UACD,oBAAIA,UAAU,cAAc/D,GAAG,qBAA/B,iCACA,wBAAQwL,KAAK,SAASzH,UAAU,QAAQimB,eAAa,QAAQvV,aAAW,QAAxE,SACE,sBAAMsV,cAAY,OAAlB,uBAGD,sBAAKhmB,UAAU,aAAf,UACD,kFACA,gCAAMD,KAAKF,MAAM6kB,aAAjB,OACA,yEAEC,sBAAK1kB,UAAU,eAAf,UACD,wBAAQyH,KAAK,SAASzH,UAAU,iBAAiBimB,eAAa,QAAQnZ,QAAS/M,KAAKmlB,YAApF,iBACA,wBAAQzd,KAAK,SAASzH,UAAU,kBAAkBimB,eAAa,QAA/D,mC,GAte0B9lB,IAAMC,WAifxB6H,eAAWo7B,ICnfpByB,GAAoB,CAAC,SAAU,UAAW,kBAC1C1yB,GAAgB,oBAEhB2yB,G,kDAEL,WAAYxmC,GAAQ,IAAD,8BACZ,cAAMA,IAuBbijC,aAAe,WACd,EAAKC,mBAzBa,EA4BnBE,WAAa,SAAC97B,GACb,IAAIyO,EAEJ,GAA+B,IAA3BzO,EAAY,YAIX,IAA+B,IAA3BA,EAAY,OAGpB,OAFA,EAAKtH,MAAM6H,SAASgM,GAAe,oBAAqB,0BACxD,EAAK7T,MAAM6P,aAAa,EAAKqzB,iBAIM,IAA3B57B,EAAY,QAIe,IAA3BA,EAAY,QAIe,IAA3BA,EAAY,QAIZA,EAAY,OAIrB,EAAKtH,MAAM6H,SAASgM,GAAe,oBAAqB,WACxDkC,EAAazO,EAAY,SACzB,EAAKnH,SAAS,CACbsmC,kBAAmB,EACnBC,iBAAkB3wB,KA7DD,EAgEnBwtB,WAAa,SAACx2B,GAGb,EAAK/M,MAAM6H,SAASgM,GAAe,oBAAqB,WACxD,EAAK1T,SAAS,CAEbqjC,gBAAiBz2B,EAAW,aAC5BgkB,aAAchkB,EAAW,aAEzB45B,WAAY55B,EAAW,qBAEvB65B,UAAW75B,EAAW,kBAEtB05B,kBAAmB,KA7EF,EAgFnBvD,gBAAkB,WAEjB,GAAI,EAAKljC,MAAMiU,mBAAqB,EAAG,CAIrCrX,EAAyB,EAAKoD,MAAMiU,kBAAmB,EAAKsvB,WAAY,EAAKH,YAC7E,EAAKjjC,SAAS,CACbsmC,kBAAmB,MAxFJ,EAkGnB/f,WAAa,SAACpf,GACb,IAAIyO,EAEJ,GAA+B,IAA3BzO,EAAY,YAIX,IAA+B,IAA3BA,EAAY,OAGpB,OAFA,EAAKtH,MAAM6H,SAASgM,GAAe,oBAAqB,mCACxD,EAAK7T,MAAM6P,aAAa,EAAK8W,aAIM,IAA3Brf,EAAY,QAIe,IAA3BA,EAAY,QAIe,IAA3BA,EAAY,QAIZA,EAAY,OAIrB,EAAKtH,MAAM6H,SAASgM,GAAe,6BAA8B,WACjEkC,EAAazO,EAAY,SACzB,EAAKnH,SAAS,CACb0mB,kBAAmB,EACnBD,iBAAkB7Q,KAnID,EAsInB+Q,WAAa,SAAC/Z,GAIb,EAAK/M,MAAM6H,SAASgM,GAAe,6BAA8B,WACjE,EAAK7T,MAAM+mB,iBAEX,EAAK5mB,SAAS,CACb0mB,kBAAmB,KA9IF,EAiJnBF,YAAc,WAIb,IAEImf,EAAW,CACd,OAAU,EAAK9lC,MAAMiU,kBAErB,OALY,IAQbnX,EAA0BgpC,EAAU,EAAKhf,WAAY,EAAKJ,YAC1D,EAAKvmB,SAAS,CACb0mB,kBAAmB,KA/JF,EAmKnBggB,oBAAsB,SAACjgC,GACtB,EAAKzG,SAAS,CACb4wB,aAAcnqB,EAAME,OAAOC,SArKV,EAyKnBy9B,gBAAkB,SAAC59B,GAClB,EAAKzG,SAAS,CACbymC,UAAUhgC,EAAME,OAAOnG,QAzKlB,EAAKW,MAAQ,CAElBwlC,aAAc,EACdF,WAAY,EAEZD,WAAY,UAEZnD,gBAAiB,UACjBzS,aAAc,UAEd0V,kBAAmB,EACnBC,iBAAkB,GAElB7f,kBAAmB,EACnBD,iBAAkB,IAhBD,E,qDAoBnB,WACCplB,KAAKyhC,iB,oBA0JN,WAGC,IAAIz0B,EAA+C,IAAjChN,KAAKF,MAAMmlC,kBAEzBh4B,EAA6C,IAAjCjN,KAAKF,MAAMmlC,kBAEvBthB,EAAa,GACjB,IAAK,IAAItlB,KAAS2B,KAAKF,MAAMolC,iBAC5BvhB,EAAWlrB,KACVuH,KAAKF,MAAMolC,iBAAiB7mC,GAA5B,MASF,OAN0B,IAAtBslB,EAAW5f,QACd4f,EAAWlrB,KACV,YAKD,qBAAKwH,UAAU,cAAf,SACC,sBAAKA,UAAU,kBAAf,UAEC,qBAAKA,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,sBAAKA,UAAU,cAAf,UACC,qBAAKA,UAAU,cAAf,SACC,qDAED,qBAAKA,UAAU,YAAf,SACED,KAAKF,MAAMkiC,yBAKhB,qBAAK/hC,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,sBAAKA,UAAU,cAAf,UACC,qBAAKA,UAAU,cAAf,SACC,wDAED,qBAAKA,UAAU,YAAf,SACC,8BACC,uBAAOyH,KAAK,OAAOzH,UAAU,eAAesF,MAAOvF,KAAKF,MAAMyvB,aAAc5nB,SAAU3H,KAAKqlC,oBAAqBz9B,YAAY,yBAOjI,sBAAK3H,UAAU,MAAf,UACC,qBAAKA,UAAU,MAAf,SACC,sBAAKA,UAAU,cAAf,UACC,qBAAKA,UAAU,cAAf,SACC,uDAED,qBAAKA,UAAU,YAAf,SACC,sBAAKA,UAAU,WAAf,UACC,wBAAQA,UAAU,oCAAoCyH,KAAK,SAASxL,GAAG,qBAAqB+T,cAAY,WAAWC,gBAAc,OAAOC,gBAAc,QAAtJ,SACE40B,GAAkB/kC,KAAKF,MAAMslC,aAE/B,sBAAKnlC,UAAU,gBAAgBmQ,kBAAgB,mBAA/C,UACC,wBAAQnQ,UAAU,gBAAgBd,KAAK,IAAI4N,QAAS/M,KAAKgjC,gBAAzD,oBACA,wBAAQ/iC,UAAU,gBAAgBd,KAAK,IAAI4N,QAAS/M,KAAKgjC,gBAAzD,qBACA,wBAAQ/iC,UAAU,gBAAgBd,KAAK,IAAI4N,QAAS/M,KAAKgjC,gBAAzD,yCAML,qBAAK/iC,UAAU,MAAf,SACC,sBAAKA,UAAU,cAAf,UACC,qBAAKA,UAAU,cAAf,SACC,uDAED,qBAAKA,UAAU,iDAAf,SACED,KAAKF,MAAMqlC,qBAMhB,wBAAQllC,UAAU,kBAAkB8M,QAAS/M,KAAKmlB,YAAaU,UAAQ,EAAvE,0BAIA,eAAC9d,EAAA,EAAD,CAAOC,KAAMgF,EAAa7J,QAAQ,UAAlC,UACC,cAAC4E,EAAA,EAAME,QAAP,sBACA,uBACA,+DAGA,0BAGD,eAACF,EAAA,EAAD,CAAOC,MA3FQ,EA2FW7E,QAAQ,UAAlC,UACC,cAAC4E,EAAA,EAAME,QAAP,uBACA,uBACA,4DAGA,0BAGD,eAACF,EAAA,EAAD,CAAOC,KAAMiF,EAAW9J,QAAQ,SAAhC,UACC,cAAC4E,EAAA,EAAME,QAAP,qBACA,uBACA,4BACG0b,IAEH,mC,GA/RwBvjB,IAAMC,WAwSrB6H,eAAW88B,IC5SpBO,GAAa,CAAC,QAAS,SAAU,YAGjClmB,G,kDAEL,WAAY7gB,GAAQ,IAAD,8BACZ,cAAMA,IACPsB,MAAQ,CACZwf,OAAQ,GAHS,E,0CAOnB,WAEC,IAAIC,EAAY,GACZC,EAAY,GAEZxf,KAAKxB,MAAMihB,YAAc,IAC5BF,EAAY,YAGTvf,KAAKxB,MAAMihB,YAAczf,KAAKxB,MAAMkhB,YAAY1f,KAAKxB,MAAMmhB,WAAW,IACzEH,EAAY,YAIb,IADA,IAAII,EAAgB,GACXd,GAAK9e,KAAKF,MAAMwf,OAAQR,GAAK9e,KAAKF,MAAMwf,OAAQR,IAAK,CAC7D,IAAIe,EAAU,GAEVC,EAAOhB,EAAE9e,KAAKxB,MAAMihB,WACpBK,EAAO,GAAKA,GAAQ9f,KAAKxB,MAAMkhB,YAAY1f,KAAKxB,MAAMmhB,aAIhD,IAANb,IACHe,EAAU,WAGXD,EAAcnnB,KACb,wBAAgBwH,UAAW,2BAA6B4f,EAASta,MAAOua,EAAM/S,QAAS/M,KAAKxB,MAAMuhB,YAAlG,SACED,GADWhB,KAMf,OACC,qBAAK7e,UAAY,YAAjB,SACC,qBAAKA,UAAY,YAAjB,SACC,qBAAKA,UAAU,MAAf,SACC,sBAAKA,UAAU,MAAf,UACC,wBAAQA,UAAW,2BAA6Bsf,EAAWha,MAAM,MAAMwH,QAAS/M,KAAKxB,MAAMwhB,eAA3F,kBAICJ,EAED,wBAAQ3f,UAAW,2BAA6Buf,EAAWja,MAAM,MAAMwH,QAAS/M,KAAKxB,MAAMwhB,eAA3F,+B,GArDiB5f,IAAMC,WAgExBmlC,G,kDAEL,WAAYhnC,GAAQ,IAAD,8BACZ,cAAMA,IAebqjB,kBAAoB,WAEnB,IAAIC,EAAkB,GAEtB,IAAK,IAAIzjB,KAAS,EAAKG,MAAM4Z,sBAAuB,CAEnD,IAAI2J,GAAY,EAChB,IAAK,IAAIC,KAAa,EAAKxjB,MAAM4Z,sBAAsB/Z,GAAjC,KAC8C,IAA/D,EAAKG,MAAM4Z,sBAAsB/Z,GAAjC,KAAgD2jB,GAGnDD,EAAW,EAE4D,IAA/D,EAAKvjB,MAAM4Z,sBAAsB/Z,GAAjC,KAAgD2jB,IAKrC,IAAbD,IACLA,EAAW,GAKVA,GAAY,GAAKA,EAAW,GAC/BD,EAAgBrpB,KAAM,CAAC,EAAK+F,MAAM4Z,sBAAsB/Z,GAAQ0jB,IAIlE,OAAOD,GA7CW,EAgDnB2jB,QAAU,SAACrgC,GACV,EAAK5G,MAAMknC,eAAgB,EAAKlnC,MAAM4Z,sBAAsBhT,EAAME,OAAOC,SAjDvD,EAoDnBgd,aAAe,SAACnd,GAEf,IAAIod,EAAUvX,OAAO7F,EAAME,OAAOC,OAGlC,EAAK5G,SAAS,CACb8jB,QAASD,KA1DQ,EA6DnBE,iBAAmB,SAACtd,GAEnB,IAAIod,EAAUvX,OAAO,EAAKnL,MAAM2iB,SAEhC,GAA2B,QAAvBrd,EAAME,OAAOC,OAGhB,IAFAid,GAAoB,GAEN,EAAK1iB,MAAM6iB,QAAQ5e,OAAO,EAAKjE,MAAM6f,WAClD,YAGG,GAA2B,QAAvBva,EAAME,OAAOC,QACrBid,GAAoB,GAEN,EACb,OAIF,EAAK7jB,SAAS,CACb8jB,QAASD,KA/EV,EAAK1iB,MAAQ,CACZ2iB,QAAQ,EACR9C,WAAW,GAEXmD,eAAe,EAEfH,QAAS,EAAKd,qBARG,E,wDAYnB,c,oBAyEA,WAGC,IADA,IAAIqB,EAAsB,GACjB7kB,EAAQ,EAAGA,EAAQ2B,KAAKF,MAAM6f,WAAYthB,IAAS,CAE3D,IAAIglB,EAAgBhlB,EAAQ2B,KAAKF,MAAM2iB,QAAQziB,KAAKF,MAAM6f,WACtD0D,EAAgBrjB,KAAKF,MAAM6iB,QAAQ5e,QAAUsf,EAAgB,QAGvB3oB,IAAtCsF,KAAKF,MAAM6iB,QAAQU,IAIvBH,EAAoBzqB,KACnB,qBAAIwH,UAAU,oEAAd,UACE,qBAAKA,UAAU,MAAf,SACED,KAAKF,MAAM6iB,QAAQU,GAAe,GAAlC,WAEF,qBAAKpjB,UAAU,MAAf,SACEslC,GAAWvlC,KAAKF,MAAM6iB,QAAQU,GAAe,MAE/C,qBAAKpjB,UAAU,QAAf,SACC,wBAAQA,UAAU,kBAAkBsF,MAAO8d,EAAetW,QAAS/M,KAAKylC,QAAxE,sBARoFpnC,IAgBtD,IAA/B6kB,EAAoBnf,QACvBmf,EAAoBzqB,KACnB,qBAAKwH,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,4DADwB,MAS3B,IAAI+M,EAAwD,IAA1ChN,KAAKxB,MAAMua,4BAAwF,IAApD/Y,KAAKxB,MAAMkb,sCAAqF,IAAvC1Z,KAAKxB,MAAM8c,wBACjI1M,EAAwD,IAA1C5O,KAAKxB,MAAMua,4BAAwF,IAApD/Y,KAAKxB,MAAMkb,sCAAqF,IAAvC1Z,KAAKxB,MAAM8c,wBACjIrO,EAAsD,IAA1CjN,KAAKxB,MAAMua,4BAAwF,IAApD/Y,KAAKxB,MAAMkb,sCAAqF,IAAvC1Z,KAAKxB,MAAM8c,wBAM/HqI,EAAa,GACjB,IAAK,IAAItlB,KAAS2B,KAAKxB,MAAM+c,uBAC5BoI,EAAWlrB,KACVuH,KAAKxB,MAAM+c,uBAAuBld,GAAlC,MAGF,IAAK,IAAIA,KAAS2B,KAAKxB,MAAMmb,oCAC5BgK,EAAWlrB,KACVuH,KAAKxB,MAAMmb,oCAAoCtb,GAA/C,MAGF,IAAK,IAAIA,KAAS2B,KAAKxB,MAAMwa,0BAC5B2K,EAAWlrB,KACVuH,KAAKxB,MAAMwa,0BAA0B3a,GAArC,MASF,OAN0B,IAAtBslB,EAAW5f,QACd4f,EAAWlrB,KACV,YAKD,qBAAKwH,UAAU,YAAf,SACC,sBAAKA,UAAU,kBAAf,UAEC,qBAAKA,UAAU,WAAf,SACC,qBAAKA,UAAU,MAAf,SACC,sBAAKA,UAAU,cAAf,UAEC,qBAAKA,UAAU,cAAf,SACC,qBAAKA,UAAU,MAAf,SACC,qBAAKA,UAAU,WAAf,SACC,8DAOH,sBAAKA,UAAU,YAAf,UACC,qBAAKA,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,oBAAIA,UAAU,aAAd,SACEijB,QAKJ,cAAC,GAAD,CACCzD,WAAYzf,KAAKF,MAAM2iB,QAEvBzC,eAAgBhgB,KAAK0iB,iBACrB3C,YAAa/f,KAAKuiB,aAElB7C,YAAa1f,KAAKF,MAAM6iB,QAAQ5e,OAChC4b,WAAY3f,KAAKF,MAAM6f,uBAQ5B,eAAC5X,EAAA,EAAD,CAAOC,KAAMgF,EAAa7J,QAAQ,UAAlC,UACC,cAAC4E,EAAA,EAAME,QAAP,sBACA,uBACA,+DAGA,0BAGD,eAACF,EAAA,EAAD,CAAOC,KAAM4G,EAAazL,QAAQ,UAAlC,UACC,cAAC4E,EAAA,EAAME,QAAP,uBACA,uBACA,mDACqBjI,KAAKxB,MAAMyc,oBADhC,gBAGA,0BAGD,eAAClT,EAAA,EAAD,CAAOC,KAAMiF,EAAW9J,QAAQ,SAAhC,UACC,cAAC4E,EAAA,EAAME,QAAP,qBACA,uBACA,yDAGA,mC,GAhOsB7H,IAAMC,WAyOnB6H,eAAWs9B,IC7JXt9B,gBA7IQ,SAAC1J,GAEvB,IAmBImnC,EAAQ,EACRC,EAAc,GAKlB,IAAM,IAAIC,KAAcrnC,EAAMjD,QAC7BqqC,EAAYntC,KACX,qBAAKwH,UAAU,UAAf,SACC,qBAAKA,UAAU,aAAf,SACEzB,EAAMjD,QAAQsqC,GAAY3rC,WAFCyrC,IAM/BA,GAAS,EAEkB,IAAvBC,EAAY7hC,SAChB6hC,EAAYntC,KACX,qBAAKwH,UAAU,UAAf,SACC,qBAAKA,UAAU,MAAf,+BAD6B0lC,IAM/BA,GAAS,IAGa,IAAlBnnC,EAAMsnC,UACVF,EAAc,CACb,qBAAK3lC,UAAU,UAAf,SACC,qBAAKA,UAAU,MAAf,+BAD6B0lC,KAQhC,IAAII,OAA2BrrC,GACJ,IAAtB8D,EAAM4e,cACV2oB,EAA2B,IAAIniC,MAIhC,IAAIoJ,EAAuD,IAAzCxO,EAAM2b,+BAEpBlN,EAAqD,IAAzCzO,EAAM2b,+BAElBwJ,EAAa,GAEjB,IAAK,IAAItlB,KAASG,EAAM4b,8BACvBuJ,EAAWlrB,KACV+F,EAAM4b,8BAA8B/b,GAApC,MASF,OAN0B,IAAtBslB,EAAW5f,QACd4f,EAAWlrB,KACV,YAKD,qBAAKwH,UAAU,YAAf,SACC,sBAAKA,UAAU,kBAAf,UAEC,sBAAKA,UAAU,UAAf,UACC,qBAAKA,UAAU,WAAf,SACC,cAAC,KAAD,CACCA,UAAU,SACV0H,SAAUnJ,EAAMqtB,SAChBtmB,MAAOwgC,EACPja,cAzFgB,SAAC,GAAoB,IAAlBz0B,EAAiB,EAAjBA,KAGxB,GAAa,UAH4B,EAAX00B,KAGR,CAErB,IAAM3U,EAAY/f,EAAKE,cAAc,IAAIF,EAAKK,WAAW,IAAIL,EAAKO,UAKlE,GAFiB4G,EAAMwnC,UAAUrmC,MAAM,SAAAC,GAAO,OAAIA,IAAYwX,KAG7D,MAAO,oBAgFJ6U,UAAW,OACXC,UAAW,YAIb,qBAAKjsB,UAAU,yBAAf,SACC,sBAAKA,UAAU,cAAf,UACC,qBAAKA,UAAU,cAAf,SACC,yDAA4BzB,EAAMsnC,SAAWtnC,EAAMsnC,QAAQtuC,gBAE5D,qBAAKyI,UAAU,YAAf,SACE2lC,YAML,eAAC79B,EAAA,EAAD,CAAOC,KAAMgF,EAAa7J,QAAQ,UAAlC,UACC,cAAC4E,EAAA,EAAME,QAAP,sBACA,uBACA,+DAGA,0BAGD,eAACF,EAAA,EAAD,CAAOC,MAtDQ,EAsDW7E,QAAQ,UAAlC,UACC,cAAC4E,EAAA,EAAME,QAAP,uBACA,uBACA,4DAGA,0BAGD,eAACF,EAAA,EAAD,CAAOC,KAAMiF,EAAW9J,QAAQ,SAAhC,UACC,cAAC4E,EAAA,EAAME,QAAP,qBACA,uBACA,4BACE0b,IAEF,kC,UC3HC+C,GAAW,CACb,CAAEvnB,KAAM,UAAWoG,MAAO,WAC1B,CAAEpG,KAAM,YAAaoG,MAAO,aAC5B,CAAEpG,KAAM,WAAYoG,MAAO,YAC9B,CAAEpG,KAAM,WAAYoG,MAAO,aAItBpO,GAAqB,CAC1B,QACA,SACA,SACA,UAIKgvB,GAAe,SAACC,GAGrB,MADW,CAACA,EAAYC,IAAKD,EAAYE,MAAOF,EAAYG,QAASH,EAAYI,QAASJ,EAAYK,OAIhGE,G,kDAEN,WAAYnoB,GAAQ,IAAD,8BAClB,cAAMA,IAMPynC,eAAiB,SAAC7gC,GACjB,EAAKzG,SAAS,CACb8C,SAAS2D,EAAME,OAAOpJ,MAPvB,EAAK4D,MAAQ,CACZ2B,SAAU,oBAHO,E,0CAanB,WAEC,IAAIykC,EAASlmC,KAAKxB,MAAMjD,QAAX,eAET4qC,EAAc,GAClB,IAAK,IAAI9nC,KAAS2B,KAAKxB,MAAM4nC,YAAYC,cACxCF,EAAY1tC,KACX,8BACE4F,EAAQ,KAAO2B,KAAKxB,MAAM4nC,YAAYC,cAAchoC,IAD5CA,IAMZ,IAAIunC,EAAc,GACdhf,EAAY,GAChB,IAAK,IAAIvoB,KAAS2B,KAAKxB,MAAMjD,QAAX,KAA4B,CAC7C,IAAI+qC,EAAY,WAChB,GAAItmC,KAAKF,MAAM2B,WAAapD,EAG3B,IAAK,IAAIygB,KAFTwnB,EAAY,GAEEtmC,KAAKxB,MAAM4nC,YAAYC,cAChCvnB,KAAK9e,KAAKxB,MAAMjD,QAAQjD,KAAK+F,GAChCunC,EAAY9mB,GAAK9e,KAAKxB,MAAMjD,QAAQjD,KAAK+F,GAAOygB,GAGhD8mB,EAAY9mB,GAAK,EAMpB8H,EAAUnuB,KACT,qBAAKwH,UAAW,WAAWqmC,EAAU,UAAWpqC,GAAImC,EAAO0O,QAAS/M,KAAKimC,eAAzE,SACE5nC,GAD4FA,IAMhG,IAAMkoC,EAAapoC,EAAkBynC,GAC/BY,EtC6aS,CACfzd,OAAQ,CACPC,MAAO,CAAC,CACNb,MAAO,CACNC,aAAa,EACbC,aAAc,OsChblB,OACC,qBAAKpoB,UAAU,iBAAf,SACC,eAAC6C,EAAA,EAAD,WAEC,eAACA,EAAA,EAAUC,OAAX,CAAkBC,GAAIC,IAAKC,OAAQC,QAAQ,OAAOC,SAAS,IAA3D,UACC,qBAAKnD,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACED,KAAKxB,MAAM4nC,YAAX,QAFsB,KAKzB,qBAAKnmC,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,qBAAKA,UAAU,cAAf,SACC,cAACwmC,GAAA,EAAD,CAAa5iC,IAAMqiC,EAASnpC,MAAK,UAAKmpC,EAAL,0BAHX,QAS1B,cAACpjC,EAAA,EAAUO,SAAX,CAAoBD,SAAS,IAA7B,SAEC,cAACH,EAAA,EAAD,UACC,eAACA,EAAA,EAAKknB,KAAN,WACEvD,EACD,qBAAK3mB,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,cAAC,OAAD,CAAK3H,KAAMiuC,EAAY5d,QAAS6d,QAIlC,qBAAKvmC,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACEkmC,sB,GAxFmB/lC,IAAMC,WAsG9B0mB,G,kDAEL,WAAYvoB,GAAQ,IAAD,8BAClB,cAAMA,IAMPynC,eAAiB,SAAC7gC,GACjB,EAAKzG,SAAS,CACb8C,SAAS2D,EAAME,OAAOpJ,MAPvB,EAAK4D,MAAQ,CACZ2B,SAAU,oBAHO,E,0CAanB,WACC,IAAIykC,EAASlmC,KAAKxB,MAAMjD,QAAX,eAETqqC,EAAc,GACdhf,EAAY,GACZ8f,EAAW,CAAC,UAAW,MAAO,MAAO,MAAO,WAEhD,IAAK,IAAIroC,KAAS2B,KAAKxB,MAAMjD,QAAX,KAA4B,CAC7C,IAAI+qC,EAAY,WAChB,GAAItmC,KAAKF,MAAM2B,WAAapD,EAG3B,IAAK,IAAIygB,KAFTwnB,EAAY,GAEEI,EACT5nB,KAAK9e,KAAKxB,MAAMjD,QAAQjD,KAAK+F,GAChCunC,EAAY9mB,GAAK9e,KAAKxB,MAAMjD,QAAQjD,KAAK+F,GAAOygB,GAGhD8mB,EAAY9mB,GAAK,EAMpB8H,EAAUnuB,KACT,qBAAKwH,UAAW,WAAWqmC,EAAU,UAAWpqC,GAAImC,EAAO0O,QAAS/M,KAAKimC,eAAzE,SACE5nC,GAD4FA,IAQhG,IAAMkoC,EAAapoC,EAAkBynC,GAC/BY,EtC6US,CACfzd,OAAQ,CACPC,MAAO,CAAC,CACNb,MAAO,CACNC,aAAa,EACbC,aAAc,OsChVlB,OACC,qBAAKpoB,UAAU,kBAAf,SACC,eAAC6C,EAAA,EAAD,WAEC,eAACA,EAAA,EAAUC,OAAX,CAAkBC,GAAIC,IAAKC,OAAQC,QAAQ,OAAOC,SAAS,IAA3D,UACC,qBAAKnD,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACED,KAAKxB,MAAM4nC,YAAX,QAFsB,KAKzB,qBAAKnmC,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,qBAAKA,UAAU,cAAf,SACC,cAACwmC,GAAA,EAAD,CAAa5iC,IAAMqiC,EAASnpC,MAAK,UAAKmpC,EAAL,0BAHX,QAS1B,cAACpjC,EAAA,EAAUO,SAAX,CAAoBD,SAAS,IAA7B,SAEC,cAACH,EAAA,EAAD,UACC,eAACA,EAAA,EAAKknB,KAAN,WACEvD,EACD,qBAAK3mB,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,cAAC,OAAD,CAAK3H,KAAMiuC,EAAY5d,QAAS6d,wB,GA5EZpmC,IAAMC,WA0F9BymB,G,kDAEL,WAAYtoB,GAAQ,IAAD,8BAClB,cAAMA,IAMPynC,eAAiB,SAAC7gC,GACjB,EAAKzG,SAAS,CACb8C,SAAS2D,EAAME,OAAOpJ,MAPvB,EAAK4D,MAAQ,CACZ2B,SAAU,oBAHO,E,0CAanB,WAEC,IAEImkC,EAAc,GACdhf,EAAY,GAChB,IAAK,IAAIvoB,KAAS2B,KAAKxB,MAAMjD,QAAX,KAA4B,CAC7C,IAAI+qC,EAAY,WAChB,GAAItmC,KAAKF,MAAM2B,WAAapD,EAAO,CAClCioC,EAAY,GAEZ,IAAK,IAAIxnB,EAAI,EAAGA,GATA,GASkBA,IAC7BA,KAAK9e,KAAKxB,MAAMjD,QAAQjD,KAAK+F,GAChCunC,EAAY9mB,GAAK9e,KAAKxB,MAAMjD,QAAQjD,KAAK+F,GAAOygB,GAGhD8mB,EAAY9mB,GAAK,EAMpB8H,EAAUnuB,KACT,qBAAKwH,UAAW,WAAWqmC,EAAU,UAAWpqC,GAAImC,EAAO0O,QAAS/M,KAAKimC,eAAzE,SACE5nC,GAD4FA,IAMhG,IAAI6nC,EAASlmC,KAAKxB,MAAMjD,QAAX,eACPgrC,EAAapoC,EAAkBynC,GAC/BY,EtCqPS,CACfzd,OAAQ,CACPC,MAAO,CAAC,CACNb,MAAO,CACNC,aAAa,EACbC,aAAc,OsCxPlB,OACC,qBAAKpoB,UAAU,kBAAf,SACC,eAAC6C,EAAA,EAAD,WAEC,eAACA,EAAA,EAAUC,OAAX,CAAkBC,GAAIC,IAAKC,OAAQC,QAAQ,OAAOC,SAAS,IAA3D,UACC,qBAAKnD,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACED,KAAKxB,MAAM4nC,YAAX,QAFsB,KAKzB,qBAAKnmC,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,qBAAKA,UAAU,cAAf,SACC,cAACwmC,GAAA,EAAD,CAAa5iC,IAAMqiC,EAASnpC,MAAK,UAAKmpC,EAAL,0BAHX,QAS1B,cAACpjC,EAAA,EAAUO,SAAX,CAAoBD,SAAS,IAA7B,SAEC,cAACH,EAAA,EAAD,UACC,eAACA,EAAA,EAAKknB,KAAN,WACEvD,EACD,qBAAK3mB,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,cAAC,OAAD,CAAK3H,KAAMiuC,EAAY5d,QAAS6d,wB,GA1EZpmC,IAAMC,WAwF9B2mB,G,kDACL,WAAYxoB,GAAQ,IAAD,8BAClB,cAAMA,IAMPyoB,UAAY,SAAC7hB,GACZ,EAAKzG,SAAS,CACbuoB,eAAe9hB,EAAM0X,cAAcvX,SAPpC,EAAKzF,MAAQ,CACZonB,eAAgB,WAHC,E,0CAanB,WAAU,IAAD,OAEJgf,EAASlmC,KAAKxB,MAAMjD,QAAX,eACT2qC,EAAS,IACZA,EAAS,GAGV,ItCqDkCroC,EAAYC,EAAYC,EsCrDtDxC,EAAUyE,KAAKxB,MAAMjD,QAAX,KAA2ByE,KAAKF,MAAMonB,gBAEhDO,EAAe,GACfC,EAAe,GAEnB,GAAkB,OAAZnsB,QAAmCb,IAAZa,EAG5B,IACC,OAAOyE,KAAKF,MAAMonB,gBACjB,IAAK,UACJ,IAAIyf,EAASxgB,GAAc5qB,EAAQqrC,KAC/BC,EAAS1gB,GAAc5qB,EAAQurC,KAC/BC,EAAS5gB,GAAc5qB,EAAQyrC,KAE7BC,EAAkBzpC,EAAYmpC,EAAQE,EAAQE,GAC9CG,EtCvSK,CACdhf,MAAO,CACRC,MAAO,CACNC,aAAa,EACbC,aAAc,EACdC,aAAc,KsCoSP6e,EAAYhhB,GAAc5qB,EAAQ6rC,WAChCC,EtCnHE,CACblqC,OAAQ,CAAC,MAAO,QAAS,UAAW,UAAW,QAC/CC,SAAU,CACR,CACAL,MAAO,oBACPzE,KsC8GiC6uC,EtC7GjClqC,gBAAiB,CAChB,0BACA,0BACA,0BACA,0BACA,2BACA,2BAEDC,YAAa,CACZ,wBACA,wBACA,wBACA,wBACA,yBACA,yBAEAK,YAAa,KsC8FL+pC,EtCtFK,CACfve,OAAQ,CACPC,MAAO,CAAC,CACNb,MAAO,CACNC,aAAa,EACbC,aAAc,EACdC,aAAc,OsCkFdb,EAAahvB,KACZ,eAAC8vB,GAAA,EAAD,CAAOC,UAAQ,EAACC,YAAU,EAA1B,UACC,gCACC,+BACC,oBAAIC,MAAM,MAAV,0BACA,oBAAIA,MAAM,MAAV,uCAIF,gCACC,+BACC,qBAAIA,MAAM,MAAV,cAAiB,cAAC,SAAD,CAAOpwB,KAAM2uC,EAAiBte,QAASue,IAAxD,OACA,mCAAK,cAAC,OAAD,CAAK5uC,KAAM+uC,EAAS1e,QAAS2e,IAAlC,SAFQ,OAToB,MAiBhC,MACD,IAAK,YAEJ,IAAM1e,EAAehrB,EAAgB,CAACrC,EAAQyrC,KAAM,CAACzrC,EAAQurC,KAAM,CAACvrC,EAAQqrC,MACtE9d,EtCrEK,CACfC,OAAQ,CACPC,MAAO,CACN,CAECb,MAAO,CACNC,aAAa,EACbC,cAAe,EACfC,aAAc,KAIjBW,MAAO,CACN,MsC2DQse,EtC+CoB,SAACjqC,GA4BhC,MA3Ba,CACZH,OAAQ,CAAC,WAAY,YACrBC,SAAU,CACT,CACAL,MAAO,oBACPzE,KAAMgF,EACNL,gBAAiB,CAChB,0BACA,0BACA,0BACA,0BACA,2BACA,2BAEDC,YAAa,CACZ,wBACA,wBACA,wBACA,wBACA,yBACA,yBAEAK,YAAa,KsCtESiqC,CADJ,CAACjsC,EAAQksC,aAAclsC,EAAQmsC,eAEzCC,EtC6EK,CACf5e,OAAQ,CACPC,MAAO,CAAC,CACNb,MAAO,CACNC,aAAa,EACbC,aAAc,EACdC,aAAc,OsChFdb,EAAahvB,KACZ,eAAC8vB,GAAA,EAAD,CAAOC,UAAQ,EAACC,YAAU,EAA1B,UACC,gCACC,+BACC,oBAAIC,MAAM,MAAV,8BACA,oBAAIA,MAAM,MAAV,uCAIF,gCACC,+BACC,oBAAIA,MAAM,MAAV,SAAgB,cAAC,OAAD,CAAKpwB,KAAMswB,EAAcD,QAASG,MAClD,6BAAI,cAAC,OAAD,CAAKxwB,KAAMivC,EAAa5e,QAASgf,QAF7B,OAToB,MAiBhC,MACD,IAAK,WAIJ,IAAK,IAAItpC,KAAS9C,EAAS,CAC1B,IAAI2tB,EAAS3tB,EAAQ8C,GAGjBsoC,EAASxgB,GAAc+C,EAAOnB,QAAQ6e,KACtCC,EAAS1gB,GAAc+C,EAAOnB,QAAQ+e,KACtCC,EAAS5gB,GAAc+C,EAAOnB,QAAQif,KAEtC5d,EAAU5rB,EAAYmpC,EAAQE,EAAQE,GACtC9e,EtC1WM,CACdC,MAAO,CACRC,MAAO,CACNC,aAAa,EACbC,aAAc,EACdC,aAAc,KsCuWJe,GtChCuBxrB,EsCiC5B,CAACqrB,EAAOI,WAAW0d,IAAK9d,EAAOK,UAAUyd,IAAK9d,EAAOM,UAAUwd,KtCjCvBlpC,EsCkCxC,CAACorB,EAAOI,WAAWwd,IAAK5d,EAAOK,UAAUud,IAAK5d,EAAOM,UAAUsd,KtClCX/oC,EsCmCpD,CAACmrB,EAAOI,WAAWsd,IAAK1d,EAAOK,UAAUqd,IAAK1d,EAAOM,UAAUod,KtClCzD,CACZzpC,OAAQ,CAAC,aAAc,YAAa,aACpCC,SAAU,CACT,CACCL,MAAO,UACPzE,KAAMuF,EACNZ,gBAAiB,qBAElB,CACCF,MAAO,UACPzE,KAAMwF,EACNb,gBAAiB,qBAElB,CACCF,MAAO,UACPzE,KAAMyF,EACNd,gBAAiB,wBsCoBRwsB,EtCnHI,CACfV,OAAQ,CACPC,MAAO,CACN,CAECb,MAAO,CACNC,aAAa,EACbC,cAAe,EACfC,aAAc,KAIjBW,MAAO,CACN,MsCwGGvB,EAAajvB,KACZ,+BACC,oBAAIiwB,MAAM,MAAV,SAAiBQ,EAAOQ,OACxB,6BAAKR,EAAOxhB,OACZ,6BAAKwhB,EAAOS,QACZ,oBAAIC,QAAQ,IAAZ,SAAgB,cAAC,OAAD,CAAKtxB,KAAM+wB,EAAaV,QAASc,MACjD,6BAAI,cAAC,SAAD,CAAOnxB,KAAM8wB,EAAST,QAASV,QAL3B5pB,IAUiB,IAAxBqpB,EAAa3jB,QAChB2jB,EAAajvB,KACZ,6BACC,oBAAImxB,QAAQ,IAAZ,yBADQ,IAMXnC,EAAahvB,KACZ,eAAC8vB,GAAA,EAAD,CAAOC,UAAQ,EAACC,YAAU,EAA1B,UACC,gCACC,+BACC,oBAAIC,MAAM,MAAV,kBACA,oBAAIA,MAAM,MAAV,kBACA,oBAAIA,MAAM,MAAV,0BACA,oBAAIA,MAAM,MAAV,wBACA,oBAAIA,MAAM,MAAV,uBACA,oBAAIA,MAAM,MAAV,uBACA,oBAAIA,MAAM,MAAV,0BAIF,gCACEhB,MAd4B,MAmBhC,MACD,IAAK,WAIJ,IAAK,IAAIrpB,KAAS9C,EAAS,CAC1B,IAAIsuB,EAAUtuB,EAAQ8C,GAKlBsoC,EAASxgB,GAAc0D,EAAQ9B,QAAQ6e,KACvCC,EAAS1gB,GAAc0D,EAAQ9B,QAAQ+e,KACvCC,EAAS5gB,GAAc0D,EAAQ9B,QAAQif,KAErCld,EAAYtsB,EAAYmpC,EAAQE,EAAQE,GACxChd,EtC1aI,CACd7B,MAAO,CACRC,MAAO,CACNC,aAAa,EACbC,aAAc,EACdC,aAAc,KsCuaJ0B,EAAchsB,EACnB,CAAC6rB,EAAQN,UAAUyd,IAAKnd,EAAQL,UAAUwd,KAC1C,CAACnd,EAAQN,UAAUud,IAAKjd,EAAQL,UAAUsd,KAC1C,CAACjd,EAAQN,UAAUqd,IAAK/c,EAAQL,UAAUod,MAErC3c,EtCnLI,CACflB,OAAQ,CACPC,MAAO,CACN,CAECb,MAAO,CACNC,aAAa,EACbC,cAAe,EACfC,aAAc,KAIjBW,MAAO,CACN,MsCwKGvB,EAAajvB,KACZ,+BACC,oBAAIiwB,MAAM,MAAV,SAAiBmB,EAAQH,OACzB,6BAAKG,EAAQF,QACb,oBAAIC,QAAQ,IAAZ,SAAgB,cAAC,OAAD,CAAKtxB,KAAM0xB,EAAarB,QAASsB,MACjD,6BAAI,cAAC,SAAD,CAAO3xB,KAAMwxB,EAAWnB,QAASoB,QAJ7B1rB,IASiB,IAAxBqpB,EAAa3jB,QAChB2jB,EAAajvB,KACZ,6BACC,oBAAImxB,QAAQ,IAAZ,yBADQ,IAMXnC,EAAahvB,KACZ,eAAC8vB,GAAA,EAAD,CAAOC,UAAQ,EAACC,YAAU,EAA1B,UACC,gCACC,+BACC,oBAAIC,MAAM,MAAV,kBACA,oBAAIA,MAAM,MAAV,0BACA,oBAAIA,MAAM,MAAV,6BACA,oBAAIA,MAAM,MAAV,uBACA,oBAAIA,MAAM,MAAV,0BAIF,gCACEhB,MAZ4B,MAiBhC,MACD,IAAK,YAIJ,IAAK,IAAIrpB,KAAS9C,EAAS,CAC1B,IAAIqsC,EAAUrsC,EAAQ8C,GAEhBwpC,EAAYjqC,EAAgB,CAACgqC,EAAQ/e,MAAMme,KAAM,CAACY,EAAQ/e,MAAMie,KAAM,CAACc,EAAQ/e,MAAM+d,MACrFkB,EtC5EI,CACf/e,OAAQ,CACPC,MAAO,CAAC,CACNb,MAAO,CACNC,aAAa,EACbC,aAAc,EACdC,aAAc,OsCwEbZ,EAAajvB,KACZ,+BACC,oBAAIiwB,MAAM,MAAV,SAAiBkf,EAAQje,QACzB,6BAAKie,EAAQG,UAAU,GAAGre,OAC1B,6BAAKke,EAAQlgC,OACb,6BAAKkgC,EAAQG,UAAU,GAAGre,OAC1B,oBAAIjJ,MAAO,CAACsb,MAAM,OAAlB,SAA0B,cAAC,OAAD,CAAKzjC,KAAMuvC,EAAWlf,QAASmf,QALjDzpC,IAUiB,IAAxBqpB,EAAa3jB,QAChB2jB,EAAajvB,KACZ,6BACC,oBAAIiwB,MAAM,MAAV,yBADQ,IAMXjB,EAAahvB,KACZ,eAAC8vB,GAAA,EAAD,CAAOC,UAAQ,EAACC,YAAU,EAA1B,UACC,gCACC,+BACC,oBAAIC,MAAM,MAAV,0BACA,oBAAIA,MAAM,MAAV,mBACA,oBAAIA,MAAM,MAAV,oBACA,oBAAIA,MAAM,MAAV,oBACA,oBAAIA,MAAM,MAAV,wBAIF,gCACEhB,MAZ4B,MAiBhC,MACD,QACCruB,QAAQC,IAAI,iCAIf,MAAOmL,GAENgjB,EAAahvB,KACZ,qBAAKwH,UAAU,iBAAf,SACC,qBAAKA,UAAU,MAAf,SACC,8DAFkC,WAYtCwnB,EAAahvB,KACZ,qBAAKwH,UAAU,iBAAf,SACC,qBAAKA,UAAU,MAAf,SACC,8DAFkC,MAQtC,OACC,qBAAKA,UAAU,mBAAf,SACC,eAAC6C,EAAA,EAAD,WAEC,eAACA,EAAA,EAAUC,OAAX,CAAkBC,GAAIC,IAAKC,OAAQC,QAAQ,OAAOC,SAAS,IAA3D,UACC,qBAAKnD,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACED,KAAKxB,MAAM4nC,YAAX,QAFsB,KAKzB,qBAAKnmC,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,qBAAKA,UAAU,cAAf,SACC,cAACwmC,GAAA,EAAD,CAAa5iC,IAAMqiC,EAASnpC,MAAK,UAAKmpC,EAAL,0BAHX,QAS1B,cAACpjC,EAAA,EAAUO,SAAX,CAAoBD,SAAS,IAA7B,SAEC,cAACH,EAAA,EAAD,UACC,eAACA,EAAA,EAAKknB,KAAN,WACC,qBAAKlqB,UAAU,WAAf,SACC,qBAAKA,UAAU,MAAf,SACC,cAACmqB,GAAA,EAAD,CAAaC,QAAM,EAAnB,SACE3D,GAASpF,KAAI,SAACgJ,EAAOC,GAAR,OACb,cAACC,GAAA,EAAD,CAEC9iB,KAAK,QACLvE,QAAQ,OACRhE,KAAK,QACLoG,MAAO+kB,EAAM/kB,MACbklB,QAAS,EAAK3qB,MAAMonB,iBAAmBoD,EAAM/kB,MAC7CoC,SAAU,EAAKsf,UAPhB,SASEqD,EAAMnrB,MARForB,YAeV,uBAEC9C,kB,GAhVsBrnB,IAAMC,WA+jBtB6H,gBAnOY,SAAC1J,GAE3B,IAAI4sB,EAAa,GACb4c,EAAqBxpC,EAAM4e,YAE/B,QAAwB1iB,IAAlB8D,EAAMjD,QAAyB,CAEpCysC,EAAqBxpC,EAAMjD,QAAN,QAErB,IAAIujB,EAAI,EAJ4B,WAK3BzgB,GACR,IAAIwxB,GAAc,EAEdV,EAAY,CAAC,KAAO,YACxB,IAECU,GADAV,EAAY3wB,EAAMjD,QAAN,WAA4BoE,MAAM,SAAAC,GAAO,OAAIA,EAAQgvB,aAAevwB,MAC1D,WAEvB,MAAOoG,IAOP,IAAI6mB,EAAa,aACjB,OAASuE,GAER,KAAK,EACJvE,EAAa,cAAC,GAAD,CACZ8a,YAAajX,EACb5zB,QAASiD,EAAMjD,QAAQ0sC,cAAc5pC,KAEtC,MAED,KAAK,EACJitB,EAAa,cAAC,GAAD,CACZ8a,YAAajX,EACb5zB,QAASiD,EAAMjD,QAAQ0sC,cAAc5pC,KAEtC,MAED,KAAK,EACJitB,EAAa,cAAC,GAAD,CACZ8a,YAAajX,EACb5zB,QAASiD,EAAMjD,QAAQ0sC,cAAc5pC,KAEtC,MAED,KAAK,EACJitB,EAAa,cAAC,GAAD,CACZ8a,YAAajX,EACb5zB,QAASiD,EAAMjD,QAAQ0sC,cAAc5pC,KAEtC,MACD,QACCitB,EAAaA,EAAa,cAAC,GAAD,CACzB8a,YAAc,CAAC,KAAO,cACtB7qC,QAASiD,EAAMjD,QAAQ0sC,cAAc5pC,KAOxC+sB,EAAW3yB,KACV,qBAAKwH,UAAU,MAAf,SACC,sBAAKA,UAAU,MAAf,UACC,8BAAMqrB,IACN,2BAHwBxM,IAO3BA,GAAK,GA/DN,IAAK,IAAIzgB,KAASG,EAAMjD,QAAQ0sC,cAAgB,EAAvC5pC,GAmEgB,IAAtB+sB,EAAWrnB,QACdqnB,EAAW3yB,KACV,qBAAKwH,UAAU,MAAf,SACC,sBAAKA,UAAU,MAAf,UACC,sDACA,2BAHwB,IAS5B,IA6CIioC,EAAe,gCAAkC1pC,EAAM2pC,eACvDC,EAAe,aAAeJ,EAC9BK,EAAe,iBAAmBlxC,GAAmBqH,EAAM8a,aAG3DtM,EAAsD,IAAxCxO,EAAMmc,8BAEpB1N,EAAoD,IAAxCzO,EAAMmc,8BAElB3N,IACHk7B,EAAe,iBACfE,EAAe,UACfC,EAAe,OAGhB,IAAI1kB,EAAa,GAChB,IAAK,IAAItlB,KAASG,EAAMoc,6BACvB+I,EAAWlrB,KACV+F,EAAMoc,6BAA6Bvc,GAAnC,MASH,OAN2B,IAAtBslB,EAAW5f,QACd4f,EAAWlrB,KACV,YAKF,qBAAKwH,UAAU,cAAf,SACC,sBAAKA,UAAU,kBAAf,UAEC,qBAAKA,UAAU,iCAAf,SACC,qBAAKA,UAAU,WAAf,SACC,8BACC,cAAC,KAAD,CACCA,UAAU,SACV0H,SAAUnJ,EAAMqtB,SAChBtmB,MAAO/G,EAAM4e,YACb0O,cAnFe,SAAC,GAAoB,IAAlBz0B,EAAiB,EAAjBA,KAAM00B,EAAW,EAAXA,KAE1Buc,GAAa,EACbC,EAAY,EAEZvK,EAAOtlC,OAAQrB,EAAKE,eACpB0mC,EAAQvlC,OAAQrB,EAAKK,WAAW,GAEhCumC,EAAQ,KACXA,EAAQ,IAAIA,GAGb,IAAIC,EAAMxlC,OAAOrB,EAAKO,WAClBsmC,EAAM,KACTA,EAAM,IAAIA,GAGX,IAAM9mB,EAAY4mB,EAAK,IAAIC,EAAM,IAAIC,EAGrC,GAAa,UAATnS,EAEH,IAECwc,GADAD,EAAa9pC,EAAMgqC,kBAAN,IAA+B7oC,MAAM,SAAAC,GAAO,OAAIA,EAAO,OAAawX,MAC3D,IAEvB,UAMD,GAAIkxB,EACH,OAAIC,EAAY,EACR,kBAGA,mBAgDHtc,UAAW,OACXC,UAAW,gBAMf,qBAAKjsB,UAAU,UAAf,SACC,qBAAKA,UAAU,MAAf,SACC,sBAAKA,UAAU,cAAf,UACC,sBAAKA,UAAU,cAAf,UACC,8BAAMioC,IACN,8BAAME,IACN,8BAAMC,OAEP,qBAAKpoC,UAAU,YAAf,SACEmrB,WAML,eAACrjB,EAAA,EAAD,CAAOC,KAAMgF,EAAa7J,QAAQ,UAAlC,UACC,cAAC4E,EAAA,EAAME,QAAP,sBACA,uBACA,+DAGA,0BAGD,eAACF,EAAA,EAAD,CAAOC,MAjEQ,EAiEW7E,QAAQ,UAAlC,UACC,cAAC4E,EAAA,EAAME,QAAP,uBACA,uBACA,4DAGA,0BAGD,eAACF,EAAA,EAAD,CAAOC,KAAMiF,EAAW9J,QAAQ,SAAhC,UACC,cAAC4E,EAAA,EAAME,QAAP,qBACA,uBACA,4BACE0b,IAEF,kCC92BCtR,GAAgB,mBAEhBud,GAAc,CACnB,QACA,SACA,YACA,aACA,eACA,cACA,YACA,cACA,aAGKC,GAAa,CAClB,OACA,SACA,SACA,QACA,WAIKxQ,G,kDAEL,WAAY7gB,GAAQ,IAAD,8BACZ,cAAMA,IACPsB,MAAQ,CACZwf,OAAQ,GAHS,E,0CAOnB,WAEC,IAAIC,EAAY,GACZC,EAAY,GAEZxf,KAAKxB,MAAMihB,YAAc,IAC5BF,EAAY,YAGTvf,KAAKxB,MAAMihB,YAAczf,KAAKxB,MAAMkhB,YAAY1f,KAAKxB,MAAMmhB,WAAW,IACzEH,EAAY,YAIb,IADA,IAAII,EAAgB,GACXd,GAAK9e,KAAKF,MAAMwf,OAAQR,GAAK9e,KAAKF,MAAMwf,OAAQR,IAAK,CAC7D,IAAIe,EAAU,GAEVC,EAAOhB,EAAE9e,KAAKxB,MAAMihB,WACpBK,EAAO,GAAKA,GAAQ9f,KAAKxB,MAAMkhB,YAAY1f,KAAKxB,MAAMmhB,aAIhD,IAANb,IACHe,EAAU,WAGXD,EAAcnnB,KACb,wBAAgBwH,UAAW,2BAA6B4f,EAASta,MAAOua,EAAM/S,QAAS/M,KAAKxB,MAAMuhB,YAAlG,SACED,GADWhB,KAMf,OACC,qBAAK7e,UAAY,YAAjB,SACC,qBAAKA,UAAY,YAAjB,SACC,qBAAKA,UAAU,MAAf,SACC,sBAAKA,UAAU,MAAf,UACC,wBAAQA,UAAW,2BAA6Bsf,EAAWha,MAAM,MAAMwH,QAAS/M,KAAKxB,MAAMwhB,eAA3F,kBAICJ,EAED,wBAAQ3f,UAAW,2BAA6Buf,EAAWja,MAAM,MAAMwH,QAAS/M,KAAKxB,MAAMwhB,eAA3F,+B,GArDiB5f,IAAMC,WAgExBooC,G,kDAEL,WAAYjqC,GAAQ,IAAD,8BACZ,cAAMA,IA0CbuxB,cAAgB,WAEf,IADA,IAAIC,EAAc,GACTlR,EAAI,EAAGA,EAAI+Q,GAAW9rB,OAAQ+a,IACtCkR,EAAYv3B,MAAK,GAGlB,OAAOu3B,GAjDW,EAoDnBC,cAAgB,WAEf,IADA,IAAID,EAAc,GACTlR,EAAI,EAAGA,EAAI,EAAKtgB,MAAMoW,aAAa7Q,OAAQ+a,IACnDkR,EAAYv3B,MAAK,GAGlB,OAAOu3B,GA1DW,EA6DnBM,kBAAoB,SAAClrB,GACpB,IAAImrB,EAAe,EAAKzwB,MAAM0wB,gBAAgBC,QAE9CF,EAAatlB,OAAO7F,EAAME,OAAOC,SAAWgrB,EAAatlB,OAAO7F,EAAME,OAAOC,QAE7E,EAAK5G,SAAS,CACb6xB,gBAAiBD,KAnEA,EAsEnBG,kBAAoB,SAACtrB,GAEpB,IAAImrB,EAAe,EAAKzwB,MAAM6wB,gBAAgBF,QAE9CF,EAAatlB,OAAO7F,EAAME,OAAOC,SAAWgrB,EAAatlB,OAAO7F,EAAME,OAAOC,QAE7E,EAAK5G,SAAS,CACbgyB,gBAAiBJ,KA7EA,EAiFnBL,oBAAsB,SAAC9qB,GACtB,EAAKzG,SAAS,CACbwxB,sBAAuBllB,OAAO7F,EAAME,OAAOC,UAnF1B,EAuFnBqrB,iBAAmB,SAAC9qB,GACnB,IAAIyO,EAEJ,GAA+B,IAA3BzO,EAAY,YAIX,IAA+B,IAA3BA,EAAY,OAGpB,OAFA,EAAKtH,MAAM6H,SAASgM,GAAe,oBAAqB,4BACxD,EAAK7T,MAAM6P,aAAa,EAAKwiB,WAIM,IAA3B/qB,EAAY,QAIe,IAA3BA,EAAY,QAIe,IAA3BA,EAAY,QAIZA,EAAY,OAIrB,EAAKtH,MAAM6H,SAASgM,GAAe,sBAAuB,WAC1DkC,EAAazO,EAAY,SACzB,EAAKnH,SAAS,CACbmyB,gBAAiB,EACjBC,eAAgBxc,KAxHC,EA2HnByc,iBAAmB,SAACC,GAMnB,IAAIyX,EAAe,GACfC,EAAgB,GAChBC,EAAiB,GAErB,IAAK,IAAIvqC,KAAS4yB,EAG+B,OAA5CA,EAAe5yB,GAAf,eACHqqC,EAAajwC,KAAKw4B,EAAe5yB,IAGzB4yB,EAAe5yB,GAAf,kBAA6C,EAAKG,MAAMiU,kBAChEm2B,EAAenwC,KAAKw4B,EAAe5yB,KAK/B4yB,EAAe5yB,GAAf,gBAA2C4yB,EAAe5yB,GAAf,SAC9CsqC,EAAclwC,KAAKw4B,EAAe5yB,IAMrC,EAAKG,MAAM6H,SAASgM,GAAe,sBAAuB,WAC1D,EAAK1T,SAAS,CACbwyB,cAAeuX,EACfG,cAAeF,EACfG,aAAcF,EAEd9X,gBAAiB,KA/JA,EAkKnBD,UAAY,WACX,IAAwC,IAAlC,EAAKryB,MAAMiU,kBAA2B,ExC2pCV,SAACpW,EAAYtD,EAAkBC,GAElE,IAAMU,EAAS,CACdC,QAAS,CAAEC,cAAc,OAAD,OAAS5C,KAGlCL,EAAckD,IAAI,kCAAkCwC,EAAY3C,GAC/DP,MAAO,SAAAC,GAEP,IAAI+B,EAAW/B,EAAId,KAEnB,IAAK,IAAI+F,KAASlD,EACjBA,EAASkD,GAAT,SAA6B,EAG9BtF,EAAkBoC,MAElB5B,OAAO,SAAAtB,GAEP,IAAIuB,EAASxB,EAAWC,GAExBe,EAAgBQ,MwC7qCduvC,CAAuB,EAAKvqC,MAAMiU,kBAAmB,EAAKue,iBAAkB,EAAKJ,kBACjF,EAAKjyB,SAAS,CACbmyB,gBAAiB,SASnB,EAAKtyB,MAAMuI,QAAQtO,KAAK,EAAK+F,MAAMwqC,oBAjLlB,EAqLnBlW,kBAAoB,SAAChtB,GACpB,IAAIyO,EAEJ,GAA+B,IAA3BzO,EAAY,YAIX,IAA+B,IAA3BA,EAAY,OAGpB,OAFA,EAAKtH,MAAM6H,SAASgM,GAAe,oBAAqB,4BACxD,EAAK7T,MAAM6P,aAAa,EAAK0jB,wBAIM,IAA3BjsB,EAAY,QAIe,IAA3BA,EAAY,QAIe,IAA3BA,EAAY,QAIZA,EAAY,OAIrB,EAAKtH,MAAM6H,SAASgM,GAAe,uBAAwB,WAC3DkC,EAAazO,EAAY,SACzB,EAAKnH,SAAS,CACbo0B,gBAAiB,EACjBC,eAAgBze,KAtNC,EAyNnB0e,kBAAoB,SAACC,EAAYd,GAChC,IAAM,EAAKtyB,MAAMgpC,aAAa5V,GAAxB,QAAiD,CACtD,IAAIZ,EAAO,EAAKxyB,MAAMgpC,aAAarY,QACnC6B,EAAKY,GAAL,GAAyBjoB,OAAOmnB,EAAgBt6B,MAAM,KAAK,IAC3Dw6B,EAAKY,GAAL,SAA8B,EAE9B,EAAKv0B,SAAS,CACbmqC,aAAcxW,IAIhB,EAAK9zB,MAAM6H,SAASgM,GAAe,uBAAwB,WAC3D,EAAK1T,SAAS,CACbo0B,gBAAiB,KAtOA,EAyOnBkW,aAAe,SAAC7jC,GACf,IAAIqtB,EAAgB,EAAK3yB,MAAMgpC,aAAa1jC,EAAME,OAAOC,OAErDrJ,EAAKu2B,EAAa,GAClBW,EAAaX,EAAa,YAC1ByW,EAAgBzW,EAAa,OAC7BY,EAAaZ,EAAa,eAE1Bc,EAAa,GACjB,IAAK,IAAIl1B,KAASo0B,EAAa,WAC9Bc,EAAW96B,KAAMg6B,EAAa,WAAep0B,GAA5B,axCssCgB,SAACvC,EAASC,EAAYC,EAAkBC,EAAoBu3B,EAAiBE,EAAcve,EAAiBpc,EAAkBC,GAEjK,IAAMU,EAAS,CACdC,QAAS,CAAEC,cAAc,OAAD,OAAS5C,KAG5BsB,EAAO,CAGZ4D,GAAIH,EACJd,OAAQe,EAERG,WAAYF,EACZ03B,eAAgBH,EAEhB5D,YAAa8D,EACbvE,UAAWha,GAGZxe,EAAcuC,KAAK,0BAA2BZ,EAAMoB,GACnDP,MAAO,SAAAC,GAEP,IAAI+B,EAAW/B,EAAId,KAEnBS,EAAkB+C,EAASX,MAE3B5B,OAAO,SAAAtB,GACP,IAAIuB,EAASxB,EAAWC,GAExBe,EAAgBQ,MwChuChB2vC,CAAsBl+B,OAAO7F,EAAME,OAAOC,OAAQrJ,EAAI,EAAKsC,MAAMiU,kBAAmBy2B,EAAe7V,EAAYD,EAAYG,EAAY,EAAKN,kBAAmB,EAAKH,mBACpK,EAAKn0B,SAAS,CACbo0B,gBAAiB,KAxPA,EA4PnBqW,wBAA0B,SAACtjC,GAC1B,IAAIyO,EAEJ,GAA+B,IAA3BzO,EAAY,YAIX,IAA+B,IAA3BA,EAAY,OAGpB,OAFA,EAAKtH,MAAM6H,SAASgM,GAAe,oBAAqB,+BACxD,EAAK7T,MAAM6P,aAAa,EAAK0jB,wBAIM,IAA3BjsB,EAAY,QAIe,IAA3BA,EAAY,QAIe,IAA3BA,EAAY,QAIZA,EAAY,OAIrB,EAAKtH,MAAM6H,SAASgM,GAAe,2BAA4B,WAC/DkC,EAAazO,EAAY,SACzB,EAAKnH,SAAS,CACbo0B,gBAAiB,EACjBC,eAAgBze,KA7RC,EAgSnB80B,qBAAuB,SAACnW,EAAYd,GACnC,EAAK5zB,MAAM6H,SAASgM,GAAe,2BAA4B,WAE/D,IAAIigB,EAAO,EAAKxyB,MAAMqxB,cAAcV,QACpC6B,EAAKY,GAAL,SAA8B,EAE9B,EAAKv0B,SAAS,CACbo0B,gBAAiB,EACjB5B,cAAemB,KAxSE,EA2SnBgX,sBAAwB,SAACpW,EAAYd,GACpC,EAAK5zB,MAAM6H,SAASgM,GAAe,2BAA4B,WAE/D,IAAIigB,EAAO,EAAKxyB,MAAM+oC,cAAcpY,QACpC6B,EAAKY,GAAL,SAA8B,EAE9B,EAAKv0B,SAAS,CACbo0B,gBAAiB,EACjB8V,cAAevW,KAnTE,EAsTnBiX,cAAgB,SAACnkC,GAChB,IAAIqtB,EAAgB,EAAK3yB,MAAMqxB,cAAc/rB,EAAME,OAAOC,OAEtDrJ,EAAKu2B,EAAa,GAClByW,EAAgBzW,EAAa,OAEjC52B,EAAyBoP,OAAO7F,EAAME,OAAOC,OAAQrJ,EAAI,EAAKsC,MAAMiU,kBAAmBy2B,EAAe,EAAKG,qBAAsB,EAAKD,yBACtI,EAAKzqC,SAAS,CACbo0B,gBAAiB,KA9TA,EAiUnByW,cAAgB,SAACpkC,GAChB,IAAIqtB,EAAgB,EAAK3yB,MAAM+oC,cAAczjC,EAAME,OAAOC,OAEtDrJ,EAAKu2B,EAAa,GAClByW,EAAgBzW,EAAa,OAEjC52B,EAAyBoP,OAAO7F,EAAME,OAAOC,OAAQrJ,EAAI,EAAKsC,MAAMiU,kBAAmBy2B,EAAe,EAAKI,sBAAuB,EAAKF,yBACvI,EAAKzqC,SAAS,CACbo0B,gBAAiB,KAzUA,EA6UnBc,wBAA0B,SAAC/tB,GAC1B,IAAIyO,EAEJ,GAA+B,IAA3BzO,EAAY,YAIX,IAA+B,IAA3BA,EAAY,OAGpB,OAFA,EAAKtH,MAAM6H,SAASgM,GAAe,oBAAqB,uBACxD,EAAK7T,MAAM6P,aAAa,EAAKylB,kBAIM,IAA3BhuB,EAAY,QAIe,IAA3BA,EAAY,QAIe,IAA3BA,EAAY,QAIZA,EAAY,OAIrB,EAAKtH,MAAM6H,SAASgM,GAAe,iBAAkB,WACrDkC,EAAazO,EAAY,SACzB,EAAKnH,SAAS,CACbo1B,gBAAiB,EACjBC,eAAgBzf,KA9WC,EAiXnB0f,yBAA2B,SAAC9e,GAE3B,EAAK3W,MAAM6H,SAASgM,GAAe,iBAAkB,WACrD,EAAK1T,SAAS,CACbgzB,WAAYxc,EACZ+e,SAAS,EAETH,gBAAiB,KAxXA,EA2XnBD,iBAAmB,WAElB,IAAIK,EAAgB,GACpB,IAAK,IAAI91B,KAAS,EAAKyB,MAAM0wB,gBACxB,EAAK1wB,MAAM0wB,gBAAgBnyB,IAC9B81B,EAAc17B,KAAK4F,GAIrB,IAAI+1B,EAAgB,GACpB,IAAK,IAAI/1B,KAAS,EAAKyB,MAAM6wB,gBACxB,EAAK7wB,MAAM6wB,gBAAgBtyB,IAC9B+1B,EAAc37B,KAAK,EAAK+F,MAAMoW,aAAavW,IAO5C5C,EAAqB,EAAKqE,MAAMuwB,WAAY8D,EAAeC,EAAe,EAAKH,yBAA0B,EAAKJ,yBAC9G,EAAKl1B,SAAS,CACbo1B,gBAAiB,KAhZD,EAyZnBjC,mBAAqB,SAAChsB,GACrB,IAAIyO,EAEJ,GAA+B,IAA3BzO,EAAY,YAIX,IAA+B,IAA3BA,EAAY,OAGpB,OAFA,EAAKtH,MAAM6H,SAASgM,GAAe,oBAAqB,sBACxD,EAAK7T,MAAM6P,aAAa,EAAK0jB,wBAIM,IAA3BjsB,EAAY,QAIe,IAA3BA,EAAY,QAIe,IAA3BA,EAAY,QAIZA,EAAY,OAIrB,EAAKtH,MAAM6H,SAASgM,GAAe,gBAAiB,WACpDkC,EAAazO,EAAY,SACzB,EAAKnH,SAAS,CACbqzB,kBAAmB,EACnBC,iBAAkB1d,KA1bD,EA6bnB2d,oBAAsB,SAACC,EAAUC,GAEhC,IAAIC,EAAWpnB,OAAOknB,GAClBG,EAAO,EAAKxyB,MAAMgpC,aAAarY,QACnC6B,EAAKC,OAAOF,EAAS,GAErB,EAAK7zB,MAAM6H,SAASgM,GAAe,gBAAiB,WACpD,EAAK1T,SAAS,CACbmqC,aAAcxW,IAGS,IAApBF,GACH,EAAKzzB,SAAS,CACbqzB,kBAAmB,KA1cH,EA+cnBQ,YAAc,SAACptB,GACd,IAAIqtB,EAAgB,EAAK3yB,MAAMgpC,aAAc79B,OAAO7F,EAAME,OAAOC,QAE7DrJ,EAAKu2B,EAAa,GAEjBA,EAAa,UxCygCmB,SAAC32B,EAASC,EAAYC,EAAkBjD,EAAkBC,GAEhG,IAAMU,EAAS,CACdC,QAAS,CAAEC,cAAc,OAAD,OAAS5C,KAG5BsB,EAAO,CAGZ4D,GAAIH,EACJd,OAAQe,GAGTrF,EAAcuC,KAAK,6BAA8BZ,EAAMoB,GACtDP,MAAO,SAAAC,GAEP,IAAI+B,EAAW/B,EAAId,KAEnBS,EAAkB+C,EAASX,MAE3B5B,OAAO,SAAAtB,GACP,IAAIuB,EAASxB,EAAWC,GAExBe,EAAgBQ,MwC5hCfiwC,CAAyBx+B,OAAO7F,EAAME,OAAOC,OAAQrJ,EAAI,EAAKsC,MAAMiU,kBAAmB,EAAKyf,oBAAqB,EAAKJ,oBACtH,EAAKnzB,SAAS,CACbqzB,kBAAmB,KALpB,EAAKE,oBAAqBjnB,OAAO7F,EAAME,OAAOC,OAAQ,IArdrC,EA+dnBgsB,YAAc,WACb,IAAIC,EAAY,EAAK1xB,MAAMgpC,aAAarY,QAGxCe,EAAU/4B,KACT,CAAC,IAAM,EAAG,YAAc,EAAG,WAAa,GAAI,gBAAiB,EAAM,QAAS,EAAO,SAAU,IAG9F,EAAKkG,SAAS,CACbmqC,aAActX,KAxeG,EA4enBpB,YAAc,SAAChrB,GAEd,EAAKzG,SAAS,CACb0xB,WAAYjrB,EAAME,OAAOC,SA/eR,EAmfnBotB,kBAAoB,SAACvtB,GACpB,IAAIwtB,EAAa3nB,OAAO7F,EAAME,OAAOnG,MACjC0zB,EAAc5nB,OAAO7F,EAAME,OAAOC,OAElC+sB,EAAO,EAAKxyB,MAAMgpC,aAAarY,QACnC6B,EAAKM,GAAL,WAA+BL,OAAQM,EAAY,GACnDP,EAAKM,GAAL,SAA8B,EAK9B,EAAKj0B,SAAS,CACbmqC,aAAcxW,KA/fG,EAmgBnB+B,kBAAoB,SAACjvB,GACpB,IAAIytB,EAAc5nB,OAAO7F,EAAME,OAAOC,OAElC+uB,EAAc,EAAKx0B,MAAMqwB,sBAE7B,GAAImE,GAAe,EAAG,CACrB,IAAIhC,EAAO,EAAKxyB,MAAMgpC,aAAarY,QAK/B8D,EAAe,OACJ75B,IAHF43B,EAAKgC,GAAL,WAAgC30B,MAAK,SAAAC,GAAO,OAAIA,EAAO,aAAmB,EAAKE,MAAM6xB,WAAYkB,GAAvB,eAItFP,EAAKgC,GAAL,SAA+B,EAC/BhC,EAAKgC,GAAL,WAAgC77B,KAAK,EAAKqH,MAAM6xB,WAAYkB,IAC5D0B,EAAe,GAGfA,EAAe,EAGhB,EAAK51B,SAAS,CACbmqC,aAAcxW,EACdkC,YAAaD,MA1hBG,EA+hBnB3C,cAAgB,SAACxsB,GAChB,IAAIysB,EAAezsB,EAAME,OAAOnG,KAAKrH,MAAM,KAEvC45B,EAAgB,EAAK5xB,MAAMgpC,aAAarY,QAC5CiB,EAAcG,EAAa,IAA3B,YAAgD5mB,OAAO4mB,EAAa,IACpEH,EAAcG,EAAa,IAA3B,SAA4C,EAE5C,EAAKlzB,SAAS,CACbmqC,aAAcpX,KAviBG,EA2iBnBgY,yBAA2B,SAACtkC,GAC3B,IAAIssB,EAAgB,EAAK5xB,MAAMqxB,cAAcV,QAC7CiB,EAActsB,EAAME,OAAOnG,MAA3B,QAA8CuyB,EAActsB,EAAME,OAAOnG,MAA3B,OAC9CuyB,EAActsB,EAAME,OAAOnG,MAA3B,SAA8C,EAE9C,EAAKR,SAAS,CACbwyB,cAAeO,KAjjBE,EAojBnBiY,0BAA4B,SAACvkC,GAC5B,IAAIssB,EAAgB,EAAK5xB,MAAM+oC,cAAcpY,QAC7CiB,EAActsB,EAAME,OAAOnG,MAA3B,QAA8CuyB,EAActsB,EAAME,OAAOnG,MAA3B,OAC9CuyB,EAActsB,EAAME,OAAOnG,MAA3B,SAA8C,EAE9C,EAAKR,SAAS,CACbkqC,cAAenX,KA1jBE,EA6jBnBkY,2BAA6B,SAACxkC,GAC7B,IAAIssB,EAAgB,EAAK5xB,MAAMgpC,aAAarY,QAC5CiB,EAActsB,EAAME,OAAOnG,MAA3B,QAA8CuyB,EAActsB,EAAME,OAAOnG,MAA3B,OAC9CuyB,EAActsB,EAAME,OAAOnG,MAA3B,SAA8C,EAE9C,EAAKR,SAAS,CACbmqC,aAAcpX,KAnkBG,EAskBnBmY,gCAAkC,SAACzkC,GAClC,IAAIssB,EAAgB,EAAK5xB,MAAMgpC,aAAarY,QAC5CiB,EAActsB,EAAME,OAAOnG,MAA3B,gBAAsDuyB,EAActsB,EAAME,OAAOnG,MAA3B,eACtDuyB,EAActsB,EAAME,OAAOnG,MAA3B,SAA8C,EAE9C,EAAKR,SAAS,CACbmqC,aAAcpX,KA5kBG,EAglBnBnP,aAAe,SAACnd,GAEf,IAAIod,EAAUvX,OAAO7F,EAAME,OAAOC,OAGlC,EAAK5G,SAAS,CACb8jB,QAASD,KAtlBQ,EAylBnBE,iBAAmB,SAACtd,GAEnB,IAAIod,EAAUvX,OAAO,EAAKnL,MAAM2iB,SAEhC,GAA2B,QAAvBrd,EAAME,OAAOC,OAGhB,IAFAid,GAAoB,GAEN,EAAK1iB,MAAM6xB,WAAW5tB,OAAO,EAAKjE,MAAM6f,WACrD,YAGG,GAA2B,QAAvBva,EAAME,OAAOC,QACrBid,GAAoB,GAEN,EACb,OAIF,EAAK7jB,SAAS,CACb8jB,QAASD,KA7mBQ,EAinBnBuP,uBAAyB,WACxB14B,QAAQC,IAAI,mDAhnBZ,EAAKwG,MAAQ,CAEZqxB,cAAe,GACf0X,cAAe,GACfC,aAAc,GAEdnX,WAAY,GAEZnB,gBAAiB,EAAKT,gBACtBY,gBAAiB,EAAKV,gBAEtBxN,QAAS,EACT9C,WAAY,EAEZ0Q,WAAY,GACZyZ,WAAY,OAEZ5V,SAAS,EAET/D,uBAAwB,EAExBqE,YAAa,EAEb1D,gBAAiB,EACjBC,eAAgB,GAEhBgC,gBAAiB,EACjBC,eAAgB,GAEhBe,gBAAiB,EACjBC,eAAgB,GAEhBhC,kBAAmB,EACnBC,iBAAkB,IAnCD,E,qDAuCnB,WACCjyB,KAAK6wB,c,oBA6kBN,WAAU,IAAD,OAGJ7jB,EAA6C,IAA/BhN,KAAKF,MAAMgxB,iBAAwD,IAA/B9wB,KAAKF,MAAMizB,iBAA0D,IAAjC/yB,KAAKF,MAAMkyB,kBACjGpjB,EAA6C,IAA/B5O,KAAKF,MAAMizB,iBAA0D,IAAjC/yB,KAAKF,MAAMkyB,kBAC7D/kB,EAA2C,IAA/BjN,KAAKF,MAAMgxB,iBAAwD,IAA/B9wB,KAAKF,MAAMizB,iBAA0D,IAAjC/yB,KAAKF,MAAMkyB,kBAE/FrO,EAAa,GACjB,IAAK,IAAItlB,KAAS2B,KAAKF,MAAMixB,eAC5BpN,EAAWlrB,KACVuH,KAAKF,MAAMixB,eAAe1yB,GAA1B,MAGF,IAAK,IAAIA,KAAS2B,KAAKF,MAAMkzB,eAC5BrP,EAAWlrB,KACVuH,KAAKF,MAAMkzB,eAAe30B,GAA1B,MAGF,IAAK,IAAIA,KAAS2B,KAAKF,MAAMmyB,iBAC5BtO,EAAWlrB,KACVuH,KAAKF,MAAMmyB,iBAAiB5zB,GAA5B,MAGF,IAAK,IAAIA,KAAS2B,KAAKF,MAAMk0B,eAC5BrQ,EAAWlrB,KACVuH,KAAKF,MAAMk0B,eAAe31B,GAA1B,MAGwB,IAAtBslB,EAAW5f,QACd4f,EAAWlrB,KACV,YAIF,IAAIsxC,EAAmB,GACvB,IAAK,IAAI1rC,KAAS2B,KAAKF,MAAMqxB,cAAe,CAC3C,IAAIuD,EAAY10B,KAAKF,MAAMqxB,cAAc9yB,GAErCs2B,EAAwB,GAC5B,IAAK,IAAIC,KAAYF,EAAS,WAAgB,CAC7C,IAAIG,EAASH,EAAS,WAAeE,GAAxB,KAA0CE,UAAU,EAAG,IAAM,MAG1EH,EAAsBl8B,KAErB,+BACC,oBAAIiwB,MAAM,MAAV,SACC,wBAAQzoB,UAAU,4BAA4BgQ,cAAY,WAAWQ,cAAa,6BAA6BpS,EAAMu2B,EAArH,SACEC,MAGH,6BAAKH,EAAS,WAAeE,GAAxB,aACL,6BAAK/E,GAAW6E,EAAS,WAAeE,GAAxB,gBAPRA,GAST,6BACC,oBAAIlM,MAAM,MAAMkB,QAAQ,IAAI3pB,UAAU,WAAW/D,GAAI,4BAA4BmC,EAAMu2B,EAAvF,SACEF,EAAS,WAAeE,GAAxB,QAFM,EAAIA,EAAWF,EAAS,WAAe3wB,SAQb,IAAjC4wB,EAAsB5wB,QACzB4wB,EAAsBl8B,KACrB,6BACC,oBAAIiwB,MAAM,MAAMkB,QAAQ,IAAxB,4BADQ,IAQX,IAAImL,GAAgBL,EAAS,QAE7BqV,EAAiBtxC,KAChB,qBAAKwH,UAAU,sCAAf,SACC,sBAAKA,UAAU,OAAf,UACC,qBAAKA,UAAU,cAAf,SACG80B,GACD,qBAAK90B,UAAU,cAAf,gCAKF,sBAAKA,UAAU,YAAf,UACC,qBAAKA,UAAU,MAAf,SACC,sBAAKA,UAAU,MAAf,2BACiB2vB,GAAa8E,EAAS,kBAGxC,qBAAKz0B,UAAU,UAAf,SACC,sBAAKA,UAAU,MAAf,UACC,4BAAG,4BAAG,4BAAIy0B,EAAS,WAAe3wB,aADnC,WAEC,wBAAQ9D,UAAU,oBAAoBgQ,cAAY,WAAWQ,cAAa,gBAAgBpS,EAAO8R,gBAAc,QAAQO,gBAAe,eAAerS,EAArJ,uBAKF,qBAAK4B,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,sBAAKA,UAAU,iCAAf,UACC,uBAAOyH,KAAK,WAAWzH,UAAU,uBAAuB/D,GAAI,kBAAkBmC,EAAOc,KAAMd,EAAOkH,MAAOmvB,EAAS,OAAY/sB,SAAU3H,KAAK0pC,yBAA0Bjf,QAASiK,EAAS,SACzL,uBAAOz0B,UAAU,uBAAuB4H,QAAS,kBAAkBxJ,EAAnE,8CAIH,qBAAK4B,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,sBAAKA,UAAU,iCAAf,UACC,uBAAOyH,KAAK,WAAWzH,UAAU,uBAAuB/D,GAAI,mBAAmBmC,EAAOc,KAAMd,EAAOkH,MAAOmvB,EAAS,eAAoBjK,QAASiK,EAAS,eAAoB7O,UAAQ,IACrL,uBAAO5lB,UAAU,uBAAuB4H,QAAS,mBAAmBxJ,EAApE,8BAIH,qBAAK4B,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,wBAAQA,UAAU,kBAAkBsF,MAAOlH,EAAO0O,QAAS/M,KAAKupC,cAAhE,8BAMF,qBAAKtpC,UAAU,WAAW/D,GAAI,eAAemC,EAA7C,SACC,qBAAK4B,UAAU,iBAAf,SAEC,wBAAOA,UAAU,QAAjB,UACC,gCACC,+BACC,oBAAIyoB,MAAM,MAAV,kBAEA,oBAAIA,MAAM,MAAV,kBAEA,oBAAIA,MAAM,MAAV,yBAIF,gCACEiM,MAZ0B,gBAlDwBt2B,IAoF5D,IAAI2rC,EAAiB,GACrB,IAAK,IAAI3rC,KAAS2B,KAAKF,MAAM+oC,cAAe,CAC3C,IAAInU,EAAY10B,KAAKF,MAAM+oC,cAAcxqC,GAErCs2B,EAAwB,GAC5B,IAAK,IAAIC,KAAYF,EAAS,WAAgB,CAE7C,IAAIG,EAASH,EAAS,WAAeE,GAAxB,KAA0CE,UAAU,EAAG,IAAM,MAG1EH,EAAsBl8B,KAErB,+BACC,oBAAIiwB,MAAM,MAAV,SACC,wBAAQzoB,UAAU,4BAA4BgQ,cAAY,WAAWQ,cAAa,6BAA6BpS,EAAMu2B,EAArH,SACEC,MAGH,6BAAKH,EAAS,WAAeE,GAAxB,aACL,6BAAK/E,GAAW6E,EAAS,WAAeE,GAAxB,gBAPRA,GAST,6BACC,oBAAIlM,MAAM,MAAMkB,QAAQ,IAAI3pB,UAAU,WAAW/D,GAAI,4BAA4BmC,EAAMu2B,EAAvF,SACEF,EAAS,WAAeE,GAAxB,QAFM,EAAIA,EAAWF,EAAS,WAAe3wB,SASb,IAAjC4wB,EAAsB5wB,QACzB4wB,EAAsBl8B,KACrB,6BACC,oBAAIiwB,MAAM,MAAMkB,QAAQ,IAAxB,4BADQ,IAQX,IAAImL,GAAgBL,EAAS,QAE7BsV,EAAevxC,KACd,qBAAKwH,UAAU,sCAAf,SACC,sBAAKA,UAAU,OAAf,UACC,qBAAKA,UAAU,cAAf,SACG80B,GACD,qBAAK90B,UAAU,cAAf,gCAKF,sBAAKA,UAAU,YAAf,UACC,qBAAKA,UAAU,MAAf,SACC,sBAAKA,UAAU,MAAf,2BACiB2vB,GAAa8E,EAAS,kBAGxC,qBAAKz0B,UAAU,UAAf,SACC,sBAAKA,UAAU,MAAf,UACC,4BAAG,4BAAG,4BAAIy0B,EAAS,WAAe3wB,aADnC,WAEC,wBAAQ9D,UAAU,oBAAoByH,KAAK,SAASuI,cAAY,WAAWQ,cAAa,gBAAgBpS,EAAO8R,gBAAc,QAAQO,gBAAe,eAAerS,EAAnK,uBAKF,qBAAK4B,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,sBAAKA,UAAU,iCAAf,UACC,uBAAOyH,KAAK,WAAWzH,UAAU,uBAAuB/D,GAAI,kBAAkBmC,EAAOc,KAAMd,EAAOkH,MAAOmvB,EAAS,OAAY/sB,SAAU3H,KAAK2pC,0BAA2Blf,QAASiK,EAAS,SAC1L,uBAAOz0B,UAAU,uBAAuB4H,QAAS,kBAAkBxJ,EAAnE,8CAIH,qBAAK4B,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,sBAAKA,UAAU,iCAAf,UACC,uBAAOyH,KAAK,WAAWzH,UAAU,uBAAuB/D,GAAI,mBAAmBmC,EAAOc,KAAMd,EAAOkH,MAAOmvB,EAAS,eAAoBjK,QAASiK,EAAS,eAAoB7O,UAAQ,IACrL,uBAAO5lB,UAAU,uBAAuB4H,QAAS,mBAAmBxJ,EAApE,8BAIH,qBAAK4B,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,wBAAQA,UAAU,kBAAkBsF,MAAOlH,EAAO0O,QAAS/M,KAAKwpC,cAAhE,8BAMF,qBAAKvpC,UAAU,WAAW/D,GAAI,eAAemC,EAA7C,SACC,qBAAK4B,UAAU,iBAAf,SAEC,wBAAOA,UAAU,QAAjB,UACC,gCACC,+BACC,oBAAIyoB,MAAM,MAAV,kBAEA,oBAAIA,MAAM,MAAV,kBAEA,oBAAIA,MAAM,MAAV,yBAIF,gCACEiM,MAZ0B,gBAlDwBt2B,IA0E9B,IAA1B2rC,EAAejmC,QAClBimC,EAAevxC,KACd,qBAAKwH,UAAU,MAAf,0BAA0B,IAQ5B,IAAIgqC,EAAqB,GA9RjB,WA+RC5rC,GACR,IAAIq2B,EAAY,EAAK50B,MAAMgpC,aAAazqC,GAEpCs2B,EAAwB,GAC5B,IAAK,IAAIC,KAAYF,EAAS,WAAgB,CAE7C,IAAIG,EAASH,EAAS,WAAeE,GAAxB,KAA0CE,UAAU,EAAG,IAAM,MAE1EH,EAAsBl8B,KAErB,+BACC,oBAAIiwB,MAAM,MAAV,SACC,wBAAQzoB,UAAU,4BAA4BgQ,cAAY,WAAWQ,cAAa,yBAAyBpS,EAAMu2B,EAAjH,SACEC,MAGH,6BAAKH,EAAS,WAAeE,GAAxB,aACL,6BAAK/E,GAAW6E,EAAS,WAAeE,GAAxB,cAChB,6BACC,wBAAQ30B,UAAU,QAAQyH,KAAK,SAASnC,MAAOqvB,EAAUz1B,KAAMd,EAAO0O,QAAS,EAAK4lB,kBAAmBhiB,aAAW,QAAlH,sBATOikB,GAcT,6BACC,oBAAIlM,MAAM,MAAMkB,QAAQ,IAAI3pB,UAAU,WAAW/D,GAAI,wBAAwBmC,EAAMu2B,EAAnF,SACEF,EAAS,WAAeE,GAAxB,QAFM,EAAIA,EAAWF,EAAS,WAAe3wB,SAQb,IAAjC4wB,EAAsB5wB,QACzB4wB,EAAsBl8B,KACrB,6BACC,oBAAIiwB,MAAM,MAAMkB,QAAQ,IAAxB,4BADQ,IAQX,IAAImL,GAAgBL,EAAS,QAE7BuV,EAAmBxxC,KAElB,qBAAKwH,UAAU,wCAAf,SACC,sBAAKA,UAAU,OAAf,UACC,sBAAKA,UAAU,cAAf,UACG80B,GACD,qBAAK90B,UAAU,cAAf,8BAFF,SAOC,wBAAQA,UAAU,gCAAgCd,KAAK,OAAOoG,MAAOlH,EAAO0O,QAAS,EAAKylB,YAA1F,kBAID,sBAAKvyB,UAAU,YAAf,UACC,sBAAKA,UAAU,MAAf,UACC,qBAAKA,UAAU,QACf,qBAAKA,UAAU,OAAf,2BAGA,qBAAKA,UAAU,MAAf,SACC,sBAAKA,UAAU,WAAf,UACC,qBAAKA,UAAU,yBAAyByH,KAAK,SAASxL,GAAI,cAAcmC,EAAO4R,cAAY,WAAWC,gBAAc,OAAOC,gBAAc,QAAzI,SACGyf,GAAa8E,EAAS,eAEzB,qBAAKz0B,UAAU,gBAAgBmQ,kBAAiB,cAAc/R,EAA9D,SACEuxB,GAAYtO,KAAI,SAACgJ,EAAOC,GAAR,OAChB,8BACC,wBAAQtqB,UAAU,gBAAgBd,KAAO,CAACd,EAAOksB,GAAOxd,QAAS,EAAK6kB,cAAtE,SACEtH,KAFOC,aASd,qBAAKtqB,UAAU,WAEhB,sBAAKA,UAAU,UAAf,UACC,qBAAKA,UAAU,QACf,sBAAKA,UAAU,OAAf,UACC,4BAAG,4BAAG,4BAAIy0B,EAAS,WAAe3wB,aADnC,cAGA,qBAAK9D,UAAU,YAAf,SACC,wBAAQA,UAAU,oBAAoByH,KAAK,SAASuI,cAAY,WAAWQ,cAAa,eAAepS,EAAO8R,gBAAc,QAAQO,gBAAe,cAAcrS,EAAjK,oBAID,qBAAK4B,UAAU,WAEhB,qBAAKA,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,sBAAKA,UAAU,iCAAf,UACC,uBAAOyH,KAAK,WAAWzH,UAAU,uBAAuB/D,GAAI,iBAAiBmC,EAAOc,KAAMd,EAAOkH,MAAOmvB,EAAS,OAAY/sB,SAAU,EAAKiiC,2BAA4Bnf,QAASiK,EAAS,SAC1L,uBAAOz0B,UAAU,uBAAuB4H,QAAS,iBAAiBxJ,EAAlE,8CAIH,qBAAK4B,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,sBAAKA,UAAU,iCAAf,UACC,uBAAOyH,KAAK,WAAWzH,UAAU,uBAAuB/D,GAAI,kBAAkBmC,EAAOc,KAAMd,EAAOkH,MAAOmvB,EAAS,eAAoB/sB,SAAU,EAAKkiC,gCAAiCpf,QAASiK,EAAS,iBACxM,uBAAOz0B,UAAU,uBAAuB4H,QAAS,kBAAkBxJ,EAAnE,iDAIH,qBAAK4B,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,wBAAQA,UAAU,kBAAkBsF,MAAOlH,EAAO0O,QAAS,EAAKk8B,aAAhE,sBAMF,qBAAKhpC,UAAU,WAAW/D,GAAI,cAAcmC,EAA5C,SACC,sBAAK4B,UAAU,iBAAf,UAEC,wBAAOA,UAAU,QAAjB,UACC,gCACC,+BACC,oBAAIyoB,MAAM,MAAV,kBAEA,oBAAIA,MAAM,MAAV,kBAEA,oBAAIA,MAAM,MAAV,yBAIF,gCACEiM,MAZ0B,KAgB7B,wBAAQ10B,UAAU,kBAAkBsF,MAAOlH,EAAO0O,QAAS,EAAKmjB,oBAAqBjgB,cAAY,QAAQQ,cAAY,cAArH,wCA5FuDpS,KA9C9D,IAAK,IAAIA,KAAS2B,KAAKF,MAAMgpC,aAAe,EAAnCzqC,GAwJyB,IAA9B4rC,EAAmBlmC,QACtBkmC,EAAmBxxC,KAClB,qBAAKwH,UAAU,MAAf,0BAA0B,IAM5B,IAAIg1B,EAAoB,GAIxB,GAAIj1B,KAAKF,MAAM6xB,WAAW5tB,OAAS,EAElC,IAAK,IAAI1F,EAAQ,EAAGA,EAAQ2B,KAAKF,MAAM6f,WAAYthB,IAAS,CAE3D,IAAI62B,EAAe72B,EAAQ2B,KAAKF,MAAM2iB,QAAQziB,KAAKF,MAAM6f,WAEzD,GAAIuV,GAAgBl1B,KAAKF,MAAM6xB,WAAW5tB,OACzC,MAGD,IAAI8wB,EAAS70B,KAAKF,MAAM6xB,WAAWuD,GAAtB,KAA4CJ,UAAU,EAAG,IAAM,MAExEK,EAAoB,GACxB,IAAK,IAAIC,KAAYp1B,KAAKF,MAAM6xB,WAAWuD,GAAtB,iBACpBC,EAAkB18B,KACjB,qBAAKwH,UAAU,aAAf,SACC,qBAAKA,UAAU,OAAf,SACED,KAAKF,MAAM6xB,WAAWuD,GAAtB,iBAAwDE,GAAxD,UAK4B,IAA7BD,EAAkBpxB,QACrBoxB,EAAkB18B,KACjB,qBAAKwH,UAAU,uBAAf,0BAOFg1B,EAAkBx8B,KAEjB,+BACC,oBAAIiwB,MAAM,MAAV,SACC,wBAAQzoB,UAAU,4BAA4BgQ,cAAY,WAAWQ,cAAa,oBAAoBykB,EAAtG,SACEL,MAIH,6BAAMhF,GAAW7vB,KAAKF,MAAM6xB,WAAWuD,GAAtB,cACjB,6BACC,wBAAQj1B,UAAU,4BAA4BgQ,cAAY,WAAWQ,cAAa,mBAAmBykB,EAArG,SACGl1B,KAAKF,MAAM6xB,WAAWuD,GAAtB,iBAAwDnxB,WAG5D,6BACC,wBAAQ9D,UAAU,4BAA4BsF,MAAO2vB,EAAcnoB,QAAS/M,KAAKq0B,kBAAjF,mBAdOa,GAmBT,6BACC,oBAAIxM,MAAM,MAAMkB,QAAQ,IAAI3pB,UAAU,WAAW/D,GAAI,mBAAmBg5B,EAAxE,SACGl1B,KAAKF,MAAM6xB,WAAWuD,GAAtB,QAFK,EAAIA,EAAel1B,KAAKF,MAAM6xB,WAAW5tB,QAKlD,6BACC,oBAAI2kB,MAAM,MAAMkB,QAAQ,IAAI3pB,UAAU,WAAW/D,GAAI,kBAAkBg5B,EAAvE,SACC,sBAAKj1B,UAAU,MAAf,UACC,qBAAKA,UAAU,QACbk1B,EACF,qBAAKl1B,UAAU,cALT,EAAIi1B,EAAe,EAAEl1B,KAAKF,MAAM6xB,WAAW5tB,cAalD/D,KAAKF,MAAMo0B,QACde,EAAkBx8B,KACjB,6BACC,oBAAIiwB,MAAM,MAAMkB,QAAQ,IAAxB,0BADQ,IAQVqL,EAAkBx8B,KACjB,6BACC,oBAAIiwB,MAAM,MAAMkB,QAAQ,IAAxB,kCADQ,IASZ,IAAIuK,EAAgB,GACpB,IAAK,IAAI91B,KAASwxB,GAAY,CAE7B,IAAIwF,EAAe,sBACfr1B,KAAKF,MAAM0wB,gBAAgBnyB,KAC9Bg3B,EAAe,eAGhBlB,EAAc17B,KACb,qBAAKwH,UAAU,OAAf,SACC,wBAAQA,UAAW,OAASo1B,EAAc9vB,MAAOlH,EAAmB0O,QAAS/M,KAAKswB,kBAAlF,SACET,GAAWxxB,IADgDA,IADnCA,IAQ7B,IAAI+1B,EAAgB,GACpB,IAAK,IAAI/1B,KAAS2B,KAAKxB,MAAMoW,aAAc,CAE1C,IAAIygB,EAAe,sBACfr1B,KAAKF,MAAM6wB,gBAAgBtyB,KAC9Bg3B,EAAe,eAGhBjB,EAAc37B,KACb,qBAAKwH,UAAU,OAAf,SACC,wBAAQA,UAAW,OAASo1B,EAAc9vB,MAAOlH,EAAmB0O,QAAS/M,KAAK0wB,kBAAlF,SACE1wB,KAAKxB,MAAMoW,aAAavW,IADmCA,IADnCA,IAQ7B,OACC,sBAAK4B,UAAU,gBAAf,UAEE+M,GAAe,cAAC,GAAD,IAChB,sBAAK/M,UAAU,kBAAf,WAEG+M,GACF,gCACC,qBAAK/M,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,sBAAKA,UAAU,cAAf,UACC,qBAAKA,UAAU,cAAf,SACC,0DAED,sBAAKA,UAAU,YAAf,UACC,qBAAKA,UAAU,MAAf,SACEgqC,IAEF,qBAAKhqC,UAAU,WAAf,SACC,qBAAKA,UAAU,MAAf,SACC,wBAAQA,UAAU,kBAAkB8M,QAAS/M,KAAKuxB,YAAlD,wCAUN,qBAAKtxB,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,sBAAKA,UAAU,cAAf,UACC,qBAAKA,UAAU,cAAf,SACC,gEAED,qBAAKA,UAAU,YAAf,SACC,qBAAKA,UAAU,MAAf,SACE+pC,gBA0BP,eAACjiC,EAAA,EAAD,CAAOC,KAAMgF,EAAa7J,QAAQ,UAAlC,UACC,cAAC4E,EAAA,EAAME,QAAP,sBACA,uBACA,+DAGA,0BAGD,eAACF,EAAA,EAAD,CAAOC,KAAM4G,EAAazL,QAAQ,UAAlC,UACC,cAAC4E,EAAA,EAAME,QAAP,uBACA,uBACA,qEAEE,uBAFF,kDAKA,0BAGD,eAACF,EAAA,EAAD,CAAOC,KAAMiF,EAAW9J,QAAQ,SAAhC,UACC,cAAC4E,EAAA,EAAME,QAAP,qBACA,uBACA,4BACG0b,IAEH,0BAGD,qBAAK1jB,UAAU,aAAa/D,GAAG,aAAa6pB,SAAS,KAAKC,KAAK,SAAS5V,kBAAgB,cAAc6V,cAAY,OAAlH,SACC,qBAAKhmB,UAAU,qCAAqC+lB,KAAK,WAAzD,SACC,sBAAK/lB,UAAU,gBAAf,UACC,sBAAKA,UAAU,eAAf,UAEC,oBAAIA,UAAU,cAAd,4BACA,wBAAQyH,KAAK,iBAAiBzH,UAAU,QAAQimB,eAAa,QAAQvV,aAAW,QAAhF,SACE,sBAAMsV,cAAY,OAAlB,uBAIH,sBAAKhmB,UAAU,aAAf,UAEC,qBAAKA,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,sBAAKA,UAAU,sBAAf,UACC,uBAAOyH,KAAK,SAASzH,UAAU,uBAAuB2H,YAAY,cAAc+I,aAAW,SAAS2kB,mBAAiB,eAAe3tB,SAAU3H,KAAKowB,cACnJ,wBAAQnwB,UAAU,4BAA4B/D,GAAG,eAAe6Q,QAAS/M,KAAK8zB,iBAA9E,SACC,cAAC,KAAD,CAAQ7zB,UAAU,SAAS2B,MAAM,QAAQM,KAAM,cAMnD,qBAAKjC,UAAU,MAAf,SACC,sBAAKA,UAAU,MAAf,UAEC,wBAAQA,UAAU,4BAA4BgQ,cAAY,WAAWQ,cAAa,yBAAlF,6BAGA,uBACA,sBAAKxQ,UAAU,WAAW/D,GAAI,wBAA9B,UACC,qBAAK+D,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,6CAGF,sBAAKA,UAAU,MAAf,UACC,qBAAKA,UAAU,QACdk0B,EACD,qBAAKl0B,UAAU,WAEhB,sBAAKA,UAAU,MAAf,UACC,qBAAKA,UAAU,QACdm0B,EACD,qBAAKn0B,UAAU,WAEhB,+BAKH,wBAAOA,UAAU,QAAjB,UACC,gCACC,+BACC,oBAAIyoB,MAAM,MAAV,kBAEA,oBAAIA,MAAM,MAAV,kBACA,oBAAIA,MAAM,MAAV,uBACA,oBAAIA,MAAM,MAAV,sBAIF,gCACEuM,MAZ0B,KAgBD,IAA3Bj1B,KAAKF,MAAM00B,aACX,qBAAKv0B,UAAU,MAAf,SACC,qBAAKA,UAAU,mBAAf,sBAK0B,IAA3BD,KAAKF,MAAM00B,aACX,qBAAKv0B,UAAU,MAAf,SACC,qBAAKA,UAAU,mBAAf,uCAOH,qBAAKA,UAAU,eAAf,SAEC,cAAC,GAAD,CACCwf,WAAYzf,KAAKF,MAAM2iB,QAEvBzC,eAAgBhgB,KAAK0iB,iBACrB3C,YAAa/f,KAAKuiB,aAElB7C,YAAa1f,KAAKF,MAAM6xB,WAAW5tB,OACnC4b,WAAY3f,KAAKF,MAAM6f,gC,GAh3CLvf,IAAMC,WA43CnB6H,eAAWugC,ICj8CpBp2B,GAAgB,gBAGhB63B,G,kDAEL,WAAY1rC,GAAQ,IAAD,8BACZ,cAAMA,IAkCbgU,kBAAoB,aAnCD,EA8CnBG,oBAAsB,WACrB,QAAI,EAAKnU,MAAMgV,kBACdC,cAAc,EAAKb,eAEnBvZ,QAAQC,IAAI,8BAGL,IArDU,EA4DnBoa,qBAAuB,WAuBtB,EAAK/U,SAAS,CACbgV,cAAc,KApFG,EAwFnBonB,iBAAmB,WA2BnB,IAzBA,IAAIoP,EAAW,GAwBTC,EAAS/vC,KAAKC,UAAU,EAAKwF,MAAMo7B,SAAS,EAAKp7B,MAAMq7B,UAAU,EAAKr7B,MAAMo7B,SACzEpc,EAAI,EAAGA,EAAIsrB,EAAQtrB,IAAK,CAKhC,IAHA,IAAIurB,EAAU,GACVC,EAAejwC,KAAKyG,MAAMzG,KAAKC,UAAU,EAAE,EAAKwF,MAAMyqC,QAAQ,EAAKzqC,MAAM0qC,SAAS,EAAK1qC,MAAM0qC,SAExFvO,EAAI,EAAGA,EAAIqO,EAAcrO,IAEjCoO,EAAQ5xC,KAAK,CACZyH,GAAG7F,KAAKyG,MAAMzG,KAAKC,SAAU8vC,GAC7B5gB,UAAUnvB,KAAKC,UAAU,EAAKwF,MAAMs7B,SAAS,EAAKt7B,MAAMu7B,UAAU,EAAKv7B,MAAMu7B,SAC7EC,KAAKjhC,KAAKyG,MAAMzG,KAAKC,UAAU,EAAE,EAAKwF,MAAMy7B,QAAQ,EAAKz7B,MAAM07B,SAAS,EAAK17B,MAAM07B,WAIrF,IAAIiP,EAAapwC,KAAKC,SAAW,GAEjC6vC,EAAS1xC,KACR,CACC,GAAKqmB,EACL,KAAQ,eAAeA,EACvB,UAAa2rB,EAEb,MAAQJ,IAKX,OAAOF,GA9IY,EAiJnBzO,cAAgB,SAAC3tB,GAChB,IAEI4tB,EAAc,CAACx6B,MAAM,GAAIW,MAAO,IAEpC,IAAK,IAAIzD,KAAS0P,EAAc,CAE/B,IACI9Q,EAAkB,UAgBtB,IAAK,IAAI2+B,KAfL7tB,EAAa1P,GAAb,YAEHpB,EAAkB,WAGnB0+B,EAAW,MAAUljC,KAAK,CACzByD,GAAI6R,EAAa1P,GAAb,GACJtB,MAAOgR,EAAa1P,GAAb,KAEPuD,MAAO,CACNue,OAZgB,UAahB0b,WAAW5+B,KAIO8Q,EAAa1P,GAAb,MACnBs9B,EAAW,MAAUljC,KAAK,CACzBqjC,KAAM/tB,EAAa1P,GAAb,GACN6B,GAAI6N,EAAa1P,GAAb,MAA6Bu9B,GAA7B,GAEJ7+B,OAAQ1C,KAAKyG,MA5BA,IA4BgBiN,EAAa1P,GAAb,MAA6Bu9B,GAA7B,WA5BhB,KA4B+EpkC,WAAa,KAAO6C,KAAKyG,MAAMiN,EAAa1P,GAAb,MAA6Bu9B,GAA7B,MAA+CpkC,WAG1KukC,MAAOz7B,EAAmByN,EAAa1P,GAAb,MAA6Bu9B,GAA7B,MAC1Bh6B,MAAOnB,EAAmBsN,EAAa1P,GAAb,MAA6Bu9B,GAA7B,aAO7B,OAAOD,GAzLW,EA4LnBO,mBAAqB,SAAC92B,GAErB,IAAMjE,EAAiBiE,EAAjBjE,MAAOW,EAAUsD,EAAVtD,MAET4oC,GAAkB,EAEtB,GAAIvpC,EAAM4C,OAAS,EAAG,CAIrB,IAAI4mC,EAAU,GACd,IAAI,IAAItsC,KAAS8C,EAEhBwpC,EAAQlyC,KACP,8BACE,EAAKqH,MAAM48B,iBAAX,MAAqCv7B,EAAM9C,IAA3C,OADQA,IAKXqsC,EAAiBvpC,EAAM9C,GAGxB,EAAKM,SAAS,CACb8+B,cAAekN,SAIhB,EAAKhsC,SAAS,CACb8+B,cAAe,CAAC,UAKlB,GAAI37B,EAAMiC,OAAS,EAAG,CAErB,IAAI6mC,EAAY,GACZC,EAAc,GAClB,IAAK,IAAIxsC,KAASyD,EAEjB,IAAK,IAAIgpC,KAAa,EAAKhrC,MAAM48B,iBAAX,MAAsC,CAC3D,IAAIqO,EAAgB,EAAKjrC,MAAM48B,iBAAX,MAAqCoO,GAArC,GACpB,GAAIhpC,EAAMzD,KAAW0sC,EAAe,CAE9BL,IAAmB,EAAK5qC,MAAM48B,iBAAX,MAAqCoO,GAArC,IACvBF,EAAUnyC,KACT,8BACC,sBAAKwH,UAAU,MAAf,UACC,qBAAKA,UAAU,QACf,qBAAKA,UAAU,MAAf,SACE,EAAKH,MAAM48B,iBAAX,MAAqC,EAAK58B,MAAM48B,iBAAX,MAAqCoO,GAArC,MAArC,QAEF,qBAAK7qC,UAAU,MAAf,SACE,EAAKH,MAAM48B,iBAAX,MAAqCoO,GAArC,QAEF,qBAAK7qC,UAAU,YATP5B,IAcPqsC,IAAmB,EAAK5qC,MAAM48B,iBAAX,MAAqCoO,GAArC,MACvBD,EAAYpyC,KACX,8BACC,sBAAKwH,UAAU,MAAf,UACC,qBAAKA,UAAU,QACf,qBAAKA,UAAU,MAAf,SACE,EAAKH,MAAM48B,iBAAX,MAAqC,EAAK58B,MAAM48B,iBAAX,MAAqCoO,GAArC,IAArC,QAEF,qBAAK7qC,UAAU,MAAf,SACE,EAAKH,MAAM48B,iBAAX,MAAqCoO,GAArC,QAEF,qBAAK7qC,UAAU,YATP5B,IAcZ,OAKsB,IAArBusC,EAAU7mC,SACb6mC,EAAY,CAAC,SAEa,IAAvBC,EAAY9mC,SACf8mC,EAAc,CAAC,SAGhB,EAAKlsC,SAAS,CACbqsC,gBAAiBJ,EACjBK,kBAAmBJ,SAIpB,EAAKlsC,SAAS,CACbqsC,gBAAiB,CAAC,QAClBC,kBAAmB,CAAC,WA3RJ,EAgSnBxP,aAAe,aAhSI,EAoSnByP,qBAAuB,SAACrvB,GAEvB,GAAiC,IAA7BA,EAAa,YAGZ,IAAgC,IAA5BA,EAAa,OAIrB,OAFA,EAAKrd,MAAM6H,SAASgM,GAAe,oBAAqB,yBACxD,EAAK7T,MAAM6P,aAAa,EAAK88B,qBAGrBtvB,EAAa,OAItB,EAAKrd,MAAM6H,SAASgM,GAAe,mBAAoB,WACvD,EAAK1T,SAAS,CACb09B,aAAc,EACdrgB,iBAAkBH,EAAa,YAtTd,EAyTnBuvB,sBAAwB,SAAC7O,GACxB,IAAIC,EAAW,GACXD,EAAYx4B,OAAS,IAExBy4B,EAAWD,EAAY,GAAZ,cAGZ,EAAK/9B,MAAM6H,SAASgM,GAAe,mBAAoB,WACvD,EAAK1T,SAAS,CACb89B,WAAYD,EACZE,iBAAkB,EAAKhB,cAAec,GACtCG,eAAgBJ,EAAY,GAAZ,QAChBF,aAAc,KArUG,EA2UnB8O,oBAAsB,WACrB,IAAwC,IAAlC,EAAK3sC,MAAMiU,kBAA2B,CAK1CrW,EAAmB,EAAKoC,MAAMiU,uBAAmB/X,EAAW,EAAK0wC,sBAAuB,EAAKF,sBAC7F,EAAKvsC,SAAS,CACb09B,aAAc,SAQhB,EAAK79B,MAAMuI,QAAQtO,KAAK,EAAK+F,MAAMwI,gBA3VlB,EA+VnBqkC,6BAA+B,SAACxvB,GAE/B,GAAiC,IAA7BA,EAAa,YAGZ,IAAgC,IAA5BA,EAAa,OAIrB,OAFA,EAAKrd,MAAM6H,SAASgM,GAAe,oBAAqB,yBACxD,EAAK7T,MAAM6P,aAAa,EAAKotB,cAGrB5f,EAAa,OAItB,EAAKrd,MAAM6H,SAASgM,GAAe,mBAAoB,WACvD,EAAK1T,SAAS,CACb09B,aAAc,EACdrgB,iBAAkBH,EAAa,YAjXd,EAoXnByvB,8BAAgC,SAAC/O,GAChC,IAAIC,EAAW,GACXM,EAAU,UACVP,EAAYx4B,OAAS,IAExBy4B,EAAWD,EAAY,GAAZ,aACXO,EAAUP,EAAY,GAAZ,SAGX,EAAK/9B,MAAM6H,SAASgM,GAAe,mBAAoB,WACvD,EAAK1T,SAAS,CACb89B,WAAYD,EACZE,iBAAkB,EAAKhB,cAAec,GACtCG,eAAgBG,EAChBT,aAAc,KAlYG,EAuYnBkP,sBAAwB,SAACvO,GACxB,IAAwC,IAAlC,EAAKx+B,MAAMiU,kBAA2B,CAK1CrW,EAAmB,EAAKoC,MAAMiU,kBAAmBuqB,EAAc,EAAKsO,8BAA+B,EAAKD,8BACxG,EAAK1sC,SAAS,CACb09B,aAAc,SAQhB,EAAK79B,MAAMuI,QAAQtO,KAAK,EAAK+F,MAAMwI,gBAvZlB,EA4ZnB6kB,SAAW,SAACrR,GACX,EAAK7b,SAAS,CACbs+B,eAAeziB,IAGhB,EAAK+wB,sBAAsB/wB,IAjaT,EAoanBhX,SAAW,WACV,IAAM05B,EAAO,EAAKnC,mBAKlB,EAAKp8B,SAAS,CACbg+B,eAHgB,UAIhBF,WAAYS,EACZR,iBAAkB,EAAKhB,cAAewB,MA7arB,EAibnBC,mBAAqB,SAAC/3B,GACrB,EAAKzG,SAAU,CAACu8B,SAAUjwB,OAAO7F,EAAME,OAAOC,UAlb5B,EAobnB63B,mBAAqB,SAACh4B,GACrB,EAAKzG,SAAU,CAACw8B,SAAUlwB,OAAO7F,EAAME,OAAOC,UArb5B,EAwbnBimC,mBAAqB,SAACpmC,GACrB,EAAKzG,SAAU,CAAC4rC,QAASt/B,OAAO7F,EAAME,OAAOC,UAzb3B,EA2bnBkmC,mBAAqB,SAACrmC,GACrB,EAAKzG,SAAU,CAAC6rC,QAASv/B,OAAO7F,EAAME,OAAOC,UA5b3B,EA+bnB83B,oBAAsB,SAACj4B,GACtB,EAAKzG,SAAU,CAACy8B,SAAUnwB,OAAO7F,EAAME,OAAOC,UAhc5B,EAkcnB+3B,oBAAsB,SAACl4B,GACtB,EAAKzG,SAAU,CAAC08B,SAAUpwB,OAAO7F,EAAME,OAAOC,UAnc5B,EAscnBg4B,mBAAqB,SAACn4B,GACrB,EAAKzG,SAAU,CAAC48B,QAAStwB,OAAO7F,EAAME,OAAOC,UAvc3B,EAycnBi4B,mBAAqB,SAACp4B,GACrB,EAAKzG,SAAU,CAAC68B,QAASvwB,OAAO7F,EAAME,OAAOC,UAxcvC,EAAKzF,MAAQ,CAElBo7B,SAAU,GACVC,SAAU,EAEVoP,QAAS,EACTC,QAAS,EAETpP,SAAU,EACVC,UAAW,EAEXE,QAAS,EACTC,QAAS,EAETmB,eAAgB,OAChBF,WAAY,GACZC,iBAAkB,EAAKhB,cAAe,IAEtC+B,cAAe,CAAC,QAChBuN,gBAAiB,CAAC,QAClBC,kBAAmB,CAAC,QAEpB5O,aAAc,EACdtgB,kBAAmB,EACnBC,iBAAkB,GAElBihB,eAAgB,IAAIr5B,KAEpB+P,cAAc,GAEf,EAAKf,mBAAgBlY,EAhCH,E,0CA6cnB,WAAU,IAAD,OAwCFgjC,EAAgB,CACrBgO,MAAO1rC,KAAKk8B,oBAGT1xB,EAAoC,IAA5BxK,KAAKF,MAAMu8B,aACnB70B,EAAoC,IAA5BxH,KAAKF,MAAMu8B,aACnBuB,EAAoC,IAA5B59B,KAAKF,MAAMu8B,aACnBwB,EAAoC,IAA5B79B,KAAKF,MAAMu8B,aAEnByB,EAAiB,WACa,SAA9B99B,KAAKF,MAAM68B,iBACdmB,EAAkB,qBAAuB99B,KAAKF,MAAM68B,gBAIrD,IAAIgP,EACJA,EAAe3rC,KAAKF,MAAM29B,cAC1B,IAAImO,EACJA,EAAiB5rC,KAAKF,MAAMkrC,gBAC5B,IAAIa,EACJA,EAAmB7rC,KAAKF,MAAMmrC,kBAE9B,IAAIh+B,EAAY,GAChB,IAAK,IAAI5O,KAAS2B,KAAKF,MAAMkc,iBAC5B/O,EAAUxU,KACT,8BACEuH,KAAKF,MAAMkc,iBAAiB3d,GAA5B,QAMJ,OACC,sBAAK4B,UAAU,8BAAf,UAEC,sBAAKA,UAAU,mCAAf,UACC,qBAAKA,UAAU,WAAf,SACC,qBAAKA,UAAU,MAAf,SACC,wBAAQA,UAAU,eAAe8M,QAAS/M,KAAKmrC,oBAA/C,kDAKF,qBAAKlrC,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SAEC,eAAC6C,EAAA,EAAD,WACC,cAACA,EAAA,EAAUC,OAAX,CAAkBC,GAAIC,IAAKC,OAAQjD,UAAU,wCAAwCkD,QAAQ,OAAOC,SAAS,OAA7G,SACC,sBAAKnD,UAAU,MAAf,UACC,qBAAKA,UAAU,UAGf,qBAAKA,UAAU,MAAf,gCAGA,qBAAKA,UAAU,QAAf,SACC,cAAC,IAAD,WAKH,cAAC6C,EAAA,EAAUO,SAAX,CAAoBD,SAAS,OAA7B,SAEC,sBAAKnD,UAAU,MAAf,UACC,qBAAKA,UAAU,QACf,qBAAKA,UAAU,OAAf,SACC,cAAC,KAAD,CACC0H,SAAU3H,KAAK6rB,SACftmB,MAAOvF,KAAKF,MAAMm9B,eAClBnR,cA3GY,SAAC,GAAoB,IAAlBz0B,EAAiB,EAAjBA,KAAM00B,EAAW,EAAXA,KAE1BgS,GAAS,EAETC,EAAOtlC,OAAQrB,EAAKE,eACpB0mC,EAAQvlC,OAAQrB,EAAKK,WAAW,GAEhCumC,EAAQ,KACXA,EAAQ,IAAIA,GAGb,IAAIC,EAAMxlC,OAAOrB,EAAKO,WAClBsmC,EAAM,KACTA,EAAM,IAAIA,GAGX,IAAM9mB,EAAY4mB,EAAK,IAAIC,EAAM,IAAIC,EAGrC,GAAa,UAATnS,EAEH,IACCgS,EAAS,EAAKv/B,MAAM2d,sBAAsBxc,MAAM,SAAAC,GAAO,OAAIA,EAAO,UAAgBwX,KAEnF,UAMD,GAAI2mB,EACH,MAAO,mBA8EC9R,UAAW,OACXC,UAAW,YAGb,qBAAKjsB,UAAU,oBAQpB,qBAAKA,UAAU,WAAf,SACC,qBAAKA,UAAU,MAAf,SAEC,eAAC6C,EAAA,EAAD,WACC,cAACA,EAAA,EAAUC,OAAX,CAAkBC,GAAIC,IAAKC,OAAQjD,UAAU,wCAAwCkD,QAAQ,OAAOC,SAAS,OAA7G,SACC,sBAAKnD,UAAU,MAAf,UACC,qBAAKA,UAAU,UAGf,qBAAKA,UAAU,MAAf,+BAGA,qBAAKA,UAAU,QAAf,SACC,cAAC,IAAD,WAKH,cAAC6C,EAAA,EAAUO,SAAX,CAAoBD,SAAS,OAA7B,SAEC,gCACC,qBAAKnD,UAAU,WAAf,SACC,qBAAKA,UAAU,MAAf,SACC,sBAAKA,UAAU,aAAf,UACC,uBAAO/D,GAAG,aAAV,uBACA,uBAAOwL,KAAK,SAASzH,UAAU,eAAesF,MAAOvF,KAAKF,MAAMo7B,SAAUvzB,SAAU3H,KAAKm9B,mBAAoBv1B,YAAY,0BAEzH,uBAAO1L,GAAG,aAAV,uBACA,uBAAOwL,KAAK,SAASzH,UAAU,eAAesF,MAAOvF,KAAKF,MAAMq7B,SAAUxzB,SAAU3H,KAAKo9B,mBAAoBx1B,YAAY,iCAK5H,qBAAK3H,UAAU,WAAf,SACC,qBAAKA,UAAU,MAAf,SACC,sBAAKA,UAAU,aAAf,UACC,uBAAO/D,GAAG,aAAV,2BACA,uBAAOwL,KAAK,SAASzH,UAAU,eAAesF,MAAOvF,KAAKF,MAAMyqC,QAAS5iC,SAAU3H,KAAKwrC,mBAAoB5jC,YAAY,+BAExH,uBAAO1L,GAAG,aAAV,2BACA,uBAAOwL,KAAK,SAASzH,UAAU,eAAesF,MAAOvF,KAAKF,MAAM0qC,QAAS7iC,SAAU3H,KAAKyrC,mBAAoB7jC,YAAY,sCAK3H,qBAAK3H,UAAU,WAAf,SACC,qBAAKA,UAAU,MAAf,SACC,sBAAKA,UAAU,aAAf,UACC,uBAAO/D,GAAG,aAAV,2BACA,uBAAOwL,KAAK,SAASzH,UAAU,eAAesF,MAAOvF,KAAKF,MAAMs7B,SAAUzzB,SAAU3H,KAAKq9B,oBAAqBz1B,YAAY,wBAE1H,uBAAO1L,GAAG,aAAV,0BACA,uBAAOwL,KAAK,SAASzH,UAAU,eAAesF,MAAOvF,KAAKF,MAAMu7B,SAAU1zB,SAAU3H,KAAKs9B,oBAAqB11B,YAAY,+BAK7H,qBAAK3H,UAAU,WAAf,SACC,qBAAKA,UAAU,MAAf,SACC,sBAAKA,UAAU,aAAf,UACC,uBAAO/D,GAAG,aAAV,8BACA,uBAAOwL,KAAK,SAASzH,UAAU,eAAesF,MAAOvF,KAAKF,MAAMy7B,QAAS5zB,SAAU3H,KAAKu9B,mBAAoB31B,YAAY,2BAExH,uBAAO1L,GAAG,aAAV,8BACA,uBAAOwL,KAAK,SAASzH,UAAU,eAAesF,MAAOvF,KAAKF,MAAM07B,QAAS7zB,SAAU3H,KAAKw9B,mBAAoB51B,YAAY,kCAK3H,sBAAK3H,UAAU,MAAf,UACC,qBAAKA,UAAU,QACf,qBAAKA,UAAU,OAAf,SACC,wBAAQA,UAAU,oBAAoB8M,QAAS/M,KAAKwD,SAApD,4BAID,qBAAKvD,UAAU,uBASrB,qBAAKA,UAAU,SAAf,SACmC,IAAjCD,KAAKF,MAAM28B,WAAW14B,OACtB,sBAAK9D,UAAU,WAAf,UACEuK,GAAS,qBAAKvK,UAAU,MAAf,4CACTuH,GAAS,qBAAKvH,UAAU,MAAf,6BACT29B,GAAS,qBAAK39B,UAAU,MAAf,wCAGX,gCACC,gCACC,qBAAKA,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,4BAAI69B,QAGN,cAAC,KAAD,CACCK,MAAOn+B,KAAKF,MAAM48B,iBAClB/T,QAASznB,EACTk9B,OAAQV,EACRW,WAAY,SAAAC,UAKd,sBAAKr+B,UAAU,aAAf,UACC,qBAAKA,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,sDAGF,qBAAKA,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACE0rC,SAIJ,sBAAK1rC,UAAU,aAAf,UACC,qBAAKA,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,gEAGF,qBAAKA,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACE2rC,SAIJ,sBAAK3rC,UAAU,aAAf,UACC,qBAAKA,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,kEAGF,qBAAKA,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACE4rC,cAOP,cAAC,GAAD,IACA,qBAAK5rC,UAAU,gBAIhB,eAAC8H,EAAA,EAAD,CAAOC,KAAMR,EAAOrE,QAAQ,UAA5B,UACC,cAAC4E,EAAA,EAAME,QAAP,sBACA,uBACA,sDAGA,0BAGD,eAACF,EAAA,EAAD,CAAOC,KAAM61B,EAAO16B,QAAQ,SAA5B,UACC,cAAC4E,EAAA,EAAME,QAAP,qBACA,uBACEgF,EACF,iC,GAhvBwB7M,IAAMC,WAuvBpB6H,eAAWgiC,ICxwBpB3L,GAAc,SAAC//B,GAEpB,OACC,qBAAKyB,UAAU,cAAf,SACC,4EASGsS,G,kDAEL,WAAY/T,GAAQ,IAAD,8BACZ,cAAMA,IAyBbmU,oBAAsB,WACrB,QAAI,EAAKnU,MAAMgV,kBACdC,cAAc,EAAKb,eACnBvZ,QAAQC,IAAI,kCACZ,EAAKqF,SAAS,CACbgV,cAAc,KAGR,IAlCU,EA6CnBm4B,gBAAkB,SAAC1mC,GAClB,EAAKzG,SAAS,CACbotC,kBAAkB3mC,EAAM0X,cAAcvX,SA/CrB,EAkDnBymC,mBAAqB,SAAC5mC,GACrB,EAAKzG,SAAS,CACbstC,qBAAqB7mC,EAAM0X,cAAcvX,SApDxB,EAwDnBg8B,cAAgB,SAAC2K,GAChB,EAAKvtC,SAAS,CACbwtC,YAAYD,KAxDb,EAAKpsC,MAAQ,CACZqsC,YAAa,EACbJ,kBAAmB,OACnBE,qBAAsB,OAEtBG,kBAAmB,EAEnBz4B,cAAc,GAEf,EAAKf,mBAAgBlY,EAXH,E,qDAcnB,WACCsF,KAAKxB,MAAM6f,oBAAoB,K,kCA0BhC,WACCre,KAAKxB,MAAMe,gB,oBAsBZ,WAAU,IAAD,OAER,OACC,qBAAKU,UAAU,eAAf,SACC,qBAAKA,UAAU,YAAf,SACC,qBAAKA,UAAU,eAAf,SACC,qBAAKA,UAAU,UAAf,SAaC,eAAC,IAAD,WACC,cAAC,IAAD,CAAOud,KAAMxd,KAAKxB,MAAMif,MAAMC,IAAI,iBAAkBC,OAAK,EAACC,UAAW,kBAAM,cAAC,GAAD,CAGzEwuB,kBAAmB,EAAKtsC,MAAMssC,kBAE9BnxB,oBAAqB,EAAKzc,MAAMyc,oBAChC7C,sBAAuB,EAAK5Z,MAAM4Z,sBAElCstB,eAAgB,EAAKlnC,MAAMka,sBAE3BiE,qBAAsB,EAAKne,MAAMme,qBAEjC5D,2BAA4B,EAAKva,MAAMua,2BACvCC,0BAA2B,EAAKxa,MAAMwa,0BAEtCU,qCAAsC,EAAKlb,MAAMkb,qCACjDC,oCAAqC,EAAKnb,MAAMmb,oCAEhD2B,wBAAyB,EAAK9c,MAAM8c,wBACpCC,uBAAwB,EAAK/c,MAAM+c,uBAEnCQ,kBAAmB,EAAKvd,MAAMud,kBAC9BC,iBAAkB,EAAKxd,MAAMwd,sBAI/B,cAAC,IAAD,CAAOwB,KAAMxd,KAAKxB,MAAMif,MAAMC,IAAI,kBAAmBE,UAAW,kBAAM,cAAC,GAAD,CAEpEnL,kBAAmB,EAAKjU,MAAMiU,kBAE9B8S,eAAgB,EAAK/mB,MAAMwf,gBAC3B3P,aAAc,EAAK7P,MAAM6P,aAEzBhI,SAAU,EAAK7H,MAAM6H,cAGvB,cAAC,IAAD,CAAOmX,KAAMxd,KAAKxB,MAAMif,MAAMC,IAAI,gBAAiBE,UAAW,kBAAM,cAAC,GAAD,CAElEnL,kBAAmB,EAAKjU,MAAMiU,kBAE9B8S,eAAgB,EAAK/mB,MAAMwf,gBAC3B3P,aAAc,EAAK7P,MAAM6P,aAEzBhI,SAAU,EAAK7H,MAAM6H,cAGvB,cAAC,IAAD,CAAOmX,KAAMxd,KAAKxB,MAAMif,MAAMC,IAAI,mBAAoBE,UAAW,kBAAM,cAAC,GAAD,CAErEnL,kBAAmB,EAAKjU,MAAMiU,kBAE9B8S,eAAgB,EAAK/mB,MAAMwf,gBAC3B3P,aAAc,EAAK7P,MAAM6P,aAEzBhI,SAAU,EAAK7H,MAAM6H,cAIvB,cAAC,IAAD,CAAOmX,KAAMxd,KAAKxB,MAAMif,MAAMC,IAAI,sBAAuBE,UAAW,kBAAM,cAAC,GAAD,CACxER,YAAa,EAAK5e,MAAM6U,mBACxBG,gBAAiB,EAAK1T,MAAM6T,aAE5BqyB,UAAW,EAAKxnC,MAAM+U,6BAEtBuyB,QAAS,EAAKtnC,MAAM6U,mBACpB9X,QAAS,EAAKiD,MAAM8U,uBACpBuY,SAAU,EAAKrtB,MAAM+b,yBAErB9H,kBAAmB,EAAKjU,MAAMiU,kBAE9B0H,+BAAgC,EAAK3b,MAAM2b,+BAC3CC,8BAA+B,EAAK5b,MAAM4b,mCAG5C,cAAC,IAAD,CAAOoD,KAAMxd,KAAKxB,MAAMif,MAAMC,IAAI,cAAeE,UAAW,kBAAM,cAAC,GAAD,CAChEnL,kBAAmB,EAAKjU,MAAMiU,kBAE9B6tB,UAAW,EAAKxgC,MAAMqsC,YAEtBn5B,QAAS,EAAKxU,MAAMwU,QAEpBytB,kBAAmB,EAAK3gC,MAAMisC,kBAC9BpL,qBAAsB,EAAK7gC,MAAMmsC,qBAEjC5K,aAAc,EAAKyK,gBACnBxK,gBAAiB,EAAK0K,mBACtBzK,cAAe,EAAKA,mBAGtB,cAAC,IAAD,CAAO/jB,KAAMxd,KAAKxB,MAAMif,MAAMC,IAAI,kBAAmBE,UAAW,kBAAM,cAAC,GAAD,CACpER,YAAa,EAAK5e,MAAMwc,oBACxBxH,gBAAiB,EAAK1T,MAAM6T,aAE5Bw0B,eAAgB,EAAK3pC,MAAMyU,uBAC3BqG,YAAa,EAAK9a,MAAM0U,uBAExBs1B,kBAAmB,EAAKhqC,MAAM4U,yBAE9B0qB,eAAgB,EAAKt/B,MAAMuc,eAC3Bxf,QAAS,EAAKiD,MAAM2U,wBAEpBk5B,YAAa,EAAK7tC,MAAM0e,mBACxBovB,eAAgB,EAAK9tC,MAAMqe,sBAC3BqK,eAAgB,EAAK1oB,MAAMwe,sBAE3BuvB,UAAW,EAAK/tC,MAAMoe,oBACtB4vB,MAAO,EAAKhuC,MAAMue,oBAClB0vB,OAAQ,EAAKjuC,MAAMye,iBACnB2F,WAAY,EAAKpkB,MAAM4f,sBAEvBpK,cAAe,EAAKxV,MAAM2a,qBAC1B0S,SAAU,EAAKrtB,MAAM2c,wBAErBR,8BAA+B,EAAKnc,MAAMmc,8BAC1CC,6BAA8B,EAAKpc,MAAMoc,kCAI3C,cAAC,IAAD,CAAO4C,KAAMxd,KAAKxB,MAAMif,MAAMC,IAAI,kBAAmBE,UAAW,kBAAM,cAAC,GAAD,CAEpEvP,aAAc,EAAK7P,MAAM6P,aACzBoE,kBAAmB,EAAKjU,MAAMiU,kBAC9Bu2B,kBAAmB,EAAKxqC,MAAMif,MAAMC,IAAI,iBAExC9I,aAAc,EAAKpW,MAAMoW,aAEzBvO,SAAU,EAAK7H,MAAM6H,cAIvB,cAAC,IAAD,CAAOmX,KAAMxd,KAAKxB,MAAMif,MAAMC,IAAI,cAAeE,UAAW,kBAAM,cAAC,GAAD,CAChEvP,aAAc,EAAK7P,MAAM6P,aACzBmF,gBAAiB,EAAK1T,MAAM6T,aAE5B7D,YAAa,EAAKtR,MAAMsR,YAExBmL,oBAAqB,EAAKzc,MAAMyc,oBAChCxI,kBAAmB,EAAKjU,MAAMiU,kBAE9BzL,cAAe,EAAKxI,MAAMif,MAAMC,IAAI,iBACpCvB,sBAAyB,EAAK3d,MAAM2d,sBAEpC9V,SAAU,EAAK7H,MAAM6H,cAIvB,cAAC,IAAD,CAAOmX,KAAMxd,KAAKxB,MAAMif,MAAMC,IAAI,IAAKE,UAAW,kBAAM,cAAC,GAAD,sB,GAvOrCxd,IAAMC,WAoPlB6H,eAAWqK,I,UCzQbm6B,GAAb,kDAEC,WAAYluC,GAAQ,IAAD,8BACZ,cAAMA,IACDsB,MAAQ,GAFD,EAFpB,0CASC,WACC,OACC,qBAAKG,UAAU,iBAAf,SACC,qBAAKA,UAAU,WAAf,SACC,sBAAKA,UAAU,MAAf,UACC,qBAAKA,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,0BAID,qBAAKA,UAAU,MAAf,SACC,qBAAKA,UAAU,MAAf,SACC,cAAC0sC,GAAA,EAAD,CAASC,UAAU,SAASzpC,QAAQ,2BArB5C,GAAmC/C,IAAMC,WA+B1B6H,eAAWwkC,ICVpBvsC,I,cAAW,YAIXwE,GAAgB,WAElBkoC,IAA2B,EAiYhBC,G,kDA3Xd,WAAYtuC,GAAQ,IAAD,8BAClB,cAAMA,IAuBPi9B,aAAe,aAxBI,EA6BnB5qB,eAAiB,WAChB,IACC,EAAKmS,KAAK+pB,MAAMl8B,iBAEjB,YAjCkB,EAmCnBm8B,eAAiB,SAAC57B,GACjB,IACC,EAAK4R,KAAK+pB,MAAM57B,UAAUC,GAE3B,YAvCkB,EAyCnB67B,eAAiB,SAAC77B,EAAU87B,EAAS17B,GACpC,IACC,EAAKwR,KAAK+pB,MAAMz7B,UAAUF,EAAU87B,EAAS17B,GAE9C,YA7CkB,EAkDnBjS,YAAc,WACb,IACC,EAAKyjB,KAAKmqB,QAAQ5tC,cAEnB,YAtDkB,EAwDnB0e,iBAAmB,WAClB,IACC,EAAK+E,KAAKmqB,QAAQ1tC,aAAa,GAEhC,YA5DkB,EA8DnB4e,oBAAsB,WACrB,IACC,EAAK2E,KAAKmqB,QAAQ1tC,aAAa,GAEhC,YAlEkB,EAoEnBmU,oBAAsB,SAACw5B,GACtB,IACC,EAAKpqB,KAAKmqB,QAAQ1uC,YAAY2uC,GAE/B,YAxEkB,EA0EnB16B,uBAAyB,SAAC06B,GACzB,IACC,EAAKpqB,KAAKmqB,QAAQruC,eAAesuC,GAElC,YA9EkB,EAgFnBC,mBAAqB,SAACC,GACrB,IACC,EAAKtqB,KAAKmqB,QAAQ9tC,YAAYiuC,GAE/B,YApFkB,EAsFnB5wB,sBAAwB,SAAC6wB,GACxB,IACC,EAAKvqB,KAAKmqB,QAAQjuC,eAAequC,GAElC,YA1FkB,EA8FnB75B,qBAAuB,WACtB,IAAI85B,EAAclqC,GAAiB,YAEf,IAAhBkqC,GAOqB,IAAhBA,GAOgB,IAAhBA,EAXR,EAAK7uC,SAAS,CACbgV,cAAc,KAkBf,EAAK05B,mBAAmBG,EAAYC,MAGpC,EAAKC,MAAMF,EAAYG,WAAYH,EAAYC,MAAM,KA1HpC,EA8HnBG,kBAAoB,SAAC12C,GACpB,OAAOD,EAAeC,IA/HJ,EAkInB22C,gBAAkB,WACjB52C,EAAe,KAnIG,EAuInBy2C,MAAQ,SAAEx2C,EAAOmO,EAAUO,GAc1B,OAXA,EAAKynC,mBAAmBhoC,IAEP,IAAbO,GAEH9B,GAAkB,WAAY,CAAC2pC,KAAKpoC,EAAUsoC,WAAWz2C,GAAQ,KAIhD,EAAK02C,kBAAkB12C,KAKxC,EAAKyH,SAAS,CACbmR,YAAazK,EACbyoC,WAAYloC,EAEZ+N,cAAc,IAIf,EAAKo6B,SAAWl7B,YAAY,EAAKm7B,kBAxKjB,OA+KV,IAtKW,EAyKnBC,eAAiB,SAACpyB,EAAeqyB,GAGhC,EAAKjB,eAAetoC,GAAe,iBAAkB,WAErD,EAAK+K,SACLm9B,IAA2B,GA/KT,EAiLnBsB,gBAAkB,SAACznC,EAAewnC,GAEjC,EAAKjB,eAAetoC,GAAe,iBAAkB,YAErD,EAAKipC,kBAAkBlnC,EAAcC,QACrCkmC,IAA2B,EAG3BqB,KAzLkB,EA6LnBE,mBAAqB,SAAEC,I5CnEO,SAACt1C,EAAkBC,EAAiBs1C,GAClE,IAIM50C,EAAS,CACdC,QAAS,CAAEC,cAAc,OAAD,OAAS5C,KAGlCL,EAAcuC,KAAK,2BARN,GAQwCQ,GACpDP,MAAO,SAAAC,GAKPL,EAAiBK,EAAId,KAAMg2C,MAE3B/0C,OAAO,SAAAtB,GAIP,IAAIuB,EAASxB,EAAWC,GAGxBe,EAAgBQ,M4C8ChB+0C,CAAgB,EAAKJ,gBAAiB,EAAKF,eAAgBI,IAhMzC,EAmMnBL,kBAAoB,WACnB,EAAKf,eAAetoC,GAAe,oBAAqB,cACxD,EAAKypC,mBAAmB,EAAK3S,eArMX,EAwMnB+S,0BAA4B,SAAEC,QAIE/zC,IAA3B,EAAKoF,MAAMgQ,aAKT+8B,KACJ,EAAKuB,mBAAoBK,GAGzB5B,IAA2B,IArNX,EA+NnB6B,2BAA6B,SAAC7yB,KA/NX,EAmOnB8yB,4BAA8B,SAACvc,KAnOZ,EAsOnBwc,oBAAsB,Y5ClDG,SAAC71C,EAAkBC,GAC5C,IAIMU,EAAS,CACdC,QAAS,CAAEC,cAAc,OAAD,OAAS5C,KAGlCL,EAAcuC,KAAK,0BARN,GAQuCQ,GACnDP,MAAM,SAAAC,GAGNL,EAAiBK,EAAId,SAErBiB,OAAO,SAAAtB,GAEP,IAAIuB,EAASxB,EAAWC,GAGxBe,EAAgBQ,M4C+BhBq1C,CAAW,EAAKF,4BAA6B,EAAKD,6BAvOhC,EA2OnBh/B,OAAS,WAER,EAAKu9B,eAAetoC,GAAe,kBAAmB,aAEtD,EAAKiqC,sBAELn7B,cAAc,EAAKs6B,UACnB,EAAKV,mBAAmB,WACxB,EAAKO,uBAAkBlzC,GACvBgK,GAAiB,YAEjBA,GAAiB,EAAK5E,MAAMgQ,YAAY,mBACxCpL,GAAiB,EAAK5E,MAAMgQ,YAAY,aAExC,EAAKnR,SAAS,CACbmR,iBAAapV,KAxPd,EAAKoF,MAAQ,CAEZgQ,iBAAapV,EACbozC,YAAY,EAEZn6B,cAAc,GAEf,EAAKo6B,cAAWrzC,EATE,E,qDAanB,WvC4BA+I,IAAMqrC,MAAK,SAASvpC,EAAOhC,GAG1B,IAAII,EAAY4B,EAAK,WACX3B,KAAKC,MACLF,GAETF,IAAMC,OAAOH,MuCjCdvD,KAAK0T,yB,kCAIN,WAECD,cAAczT,KAAK+tC,Y,oBAyOpB,WAAU,IAAD,OAER,OACC,cAAC,IAAD,UACC,sBAAK9tC,UAAU,MAAf,UAEC,cAAC,EAAD,CACC6jB,IAAI,UACJ3jB,SAAUA,KASX,cAAC,GAAD,CAEC2P,YAAa9P,KAAKF,MAAMgQ,YAExBJ,OAAQ1P,KAAK0P,OAEbC,cAAexP,kBACf4P,cAAe5P,kBAEfqQ,eAAgBrQ,YAChB6P,iBAAkB7P,qBAElBkQ,mBAAoBlQ,yCACpBmQ,oBAAqBnQ,2CACrBoQ,uBAAwBpQ,8CAExBkG,SAAUrG,KAAKitC,iBAGhB,eAAC,IAAD,WAEC,cAAC,IAAD,CAAOzvB,KAAMrd,YAAcwd,OAAK,EAACC,UAAW,kBAAM,cAAC,GAAD,OAKlD,cAAC,IAAD,CAAOJ,KAAMrd,kBAAoBwd,OAAK,EAACC,UAAW,kBAAM,cAAC,GAAD,CAEtD9W,UAAW,EAAK4mC,MAEhB1mC,cAAe7G,qBACf2H,WAAY3H,kBAEZkG,SAAU,EAAK4mC,oBAGjB,cAAC,IAAD,CAAOzvB,KAAMrd,kBAAoBwd,OAAK,EAACC,UAAW,kBAAM,cAAC,GAAD,CAEtD5W,cAAe7G,kBAEf2G,UAAW,EAAK4mC,MAGhBqB,UAAW,EAAKjvC,MAAM9I,iBAGxB,cAAC,IAAD,CAAOwmB,KAAMrd,kBAAoBwd,OAAK,EAACC,UAAW,kBAAM,cAAC,GAAD,CAEtDmxB,UAAW,EAAKjvC,MAAM9I,YAEtBqX,aAAc,EAAKmgC,0BACnBxnC,cAAe7G,kBAEfoN,qBAAsBpN,0BAGxB,cAAC,IAAD,CAAOqd,KAAMrd,kBAAoBwd,OAAK,EAACC,UAAW,kBAAM,cAAC,GAAD,CACtD5W,cAAe7G,uBAIjB,cAAC,IAAD,CAAOqd,KAAMrd,mBAAqBwd,OAAK,EAACC,UAAW,kBAAM,cAAC,GAAD,OAKzD,cAAC,IAAD,CAAOJ,KAAMrd,qBAAuByd,UAAW,kBAAM,cAAC,GAAD,CAEnDjI,iBAAkBxV,kBAClBqT,gBAAiB,EAAK1T,MAAM6T,aAE5BtF,aAAc,EAAKmgC,0BACnB9+B,OAAQ,EAAKA,OAEbI,YAAa,EAAKhQ,MAAMgQ,YACxBi/B,UAAW,EAAKjvC,MAAM9I,YAEtB2Y,cAAexP,kBACf+d,eAAgB/d,qBAChB4d,YAAa5d,qBAEbZ,YAAa,EAAKA,YAClB0e,iBAAkB,EAAKA,iBACvBrK,oBAAqB,EAAKA,oBAE1ByK,oBAAqB,EAAKA,oBAC1B3B,sBAAuB,EAAKA,sBAC5BhK,uBAAwB,EAAKA,uBAE7BrM,SAAU,EAAK4mC,uBAMlB,qBAAKhtC,UAAU,YAEf,cAAC,GAAD,CACC6jB,IAAI,QACJhT,UAAW9Q,KAAKF,MAAMkvC,UACtB99B,aAAclR,KAAKF,MAAMoR,wB,GArXb9Q,IAAMC,WCxBT4uC,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBh2C,MAAK,YAAkD,IAA/Ci2C,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,O,cCSdO,IAASC,OAER,cAAC,GAAD,IAEC5nB,SAAS6nB,eAAe,SAM1BV,O","file":"static/js/main.85d490b8.chunk.js","sourcesContent":["import axios from \"axios\"\r\n\r\n// Change this over!\r\nconst hostName = \"https://cmaster.pythonanywhere.com\"\r\n//const hostName = \"http://10.0.0.60:8000\"\r\n\r\n// CSRF TOKEN IS NOT WORKING CORRECTLY!!!\r\nconst axiosInstance = axios.create({\r\n\tbaseURL: hostName,\r\n\t//headers: {'CSRF-TOKEN': getCookie('csrftoken')}\r\n\twithCredentials: true,\r\n});\r\n\r\n// TODO- ADD IN A WAY TO GET THE FILTER LIST!\r\n\r\n//let debugMode = false\r\n\r\nlet accessToken = \"\"\r\nexport const setAccessToken = (token) => {\r\n\taccessToken = token\r\n\treturn true\r\n}\r\n\r\n/*\r\nexport const checkAccessToken = () => {\r\n\tconsole.log(accessToken)\r\n}\r\n*/\r\n\r\nconst convertSummaryType = [\r\n\t\"day\",\r\n\t\"week\",\r\n\t\"month\",\r\n\t\"year\",\r\n]\r\n\r\nconst convertDate = (date) => {\r\n  var yyyy = date.getFullYear().toString();\r\n  var mm = (date.getMonth()+1).toString();\r\n  var dd  = date.getDate().toString();\r\n\r\n  var mmChars = mm.split('');\r\n  var ddChars = dd.split('');\r\n\r\n  return yyyy + '-' + (mmChars[1]?mm:\"0\"+mmChars[0]) + '-' + (ddChars[1]?dd:\"0\"+ddChars[0]);\r\n}\r\n// Maybe, I should keep ALLLLL data related to API stuff over here\r\n// All reformats...\r\n\r\nexport const getHostName = () => {\r\n\treturn hostName\r\n}\r\n\r\n// Put a generalized Error Gathering here? Would save time...\r\n// I would LOVE to make it so that all the general stuf happens in here, but I have yet to figure that out...\r\nconst checkError = (err) => {\r\n\t//console.log(err)\r\n\t// So.... Should I use my [ Action, Display ]\r\n\t// Or, should I simplify just to [ Action ]\r\n\tif (!err.response) {\r\n\t\t// Network Error\r\n\t\treturn {'action':0, 'messages':[ {'mod':-1, 'text':\"Newtork Error\"} ]}\r\n\t}\r\n\telse {\r\n\t\tlet errStatus = err.response.status\r\n\t\tlet errData = err.response.data\r\n\t\t\r\n\t\t// Proper response\r\n\t\tif (errStatus === 401) {\r\n\t\t\t// Unauthorized\r\n\t\t\t// Trigger the LOGOUT function\r\n\t\t\t\r\n\t\t\tfor (let errorName in errData) {\r\n\t\t\t\tif (errData[errorName] === \"No active account found with the given credentials\") {\r\n\t\t\t\t\treturn {'action':3, 'messages':[ {'mod':3, 'text':errData[errorName]} ]}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn {'action':1, 'messages':[ {'mod':1, 'text':\"Try That Again!\"} ]}\r\n\t\t}\r\n\t\telse if (errStatus === 403) {\r\n\t\t\t// Invalid Permissions, find out what it is\r\n\t\t\t// ALSO, remember! if it is a DEACTIVATED account, then it is different!\r\n\t\t\treturn {'action':2, 'messages':[ {'mod':-1, 'text':\"Permission Failed\"} ]}\r\n\t\t}\r\n\t\telse if (errStatus === 404) {\r\n\t\t\t// Currently, either the page doesnt exist, or its my special password failure state...\r\n\t\t\treturn {'action':6, 'messages':[ {'mod':1, 'text':\"404 not found\"} ]}\r\n\t\t}\r\n\t\telse if (errStatus === 400) {\r\n\t\t\t// Bad Request, sort out so its just a single number set...\r\n\t\t\tlet errorSet = []\r\n\t\t\t\r\n\t\t\tfor (let errorName in errData) {\r\n\t\t\t\tif (errorName === \"username\") {\r\n\t\t\t\t\terrorSet.push( {'mod':1, 'text':String(errData[errorName])} )\r\n\t\t\t\t}\r\n\t\t\t\telse if (errorName === \"password\") {\r\n\t\t\t\t\terrorSet.push( {'mod':2, 'text':String(errData[errorName])} )\r\n\t\t\t\t} \r\n\t\t\t\telse if (errorName === \"non_field_errors\") {\r\n\t\t\t\t\terrorSet.push( {'mod':3, 'text':String(errData[errorName])} )\r\n\t\t\t\t}\r\n\t\t\t\telse if (errorName === \"email\") {\r\n\t\t\t\t\terrorSet.push( {'mod':4, 'text':String(errData[errorName])} )\r\n\t\t\t\t}\r\n\t\t\t\telse if (errorName === \"dup\") {\r\n\t\t\t\t\terrorSet.push( {'mod':5, 'text':String(errData[errorName])} )\r\n\t\t\t\t}\r\n\t\t\t\telse if (errorName === \"token\") {\r\n\t\t\t\t\terrorSet.push( {'mod':6, 'text':String(errData[errorName])} )\r\n\t\t\t\t}\r\n\t\t\t\telse if (errorName === \"invite\") {\r\n\t\t\t\t\terrorSet.push( {'mod':7, 'text':String(errData[errorName])} )\r\n\t\t\t\t}\r\n\t\t\t\telse if (errorName === \"status\") {\r\n\t\t\t\t\terrorSet.push( {'mod':8, 'text':String(errData[errorName])} )\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\terrorSet.push( {'mod':0, 'text':String(errData[errorName])} )\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn {'action':3, 'messages':errorSet}\r\n\t\t}\r\n\t\telse if (errStatus === 500) {\r\n\t\t\t// Internal Server Error! Show why in the console!\r\n\t\t\treturn {'action':4, 'messages':[ {'mod':-1, 'text':\"Server Error!\"} ]}\r\n\t\t}\r\n\t\telse {\r\n\t\t\t// Anything I have not determined...\r\n\t\t\t// Raw display\r\n\t\t\treturn {'action':5, 'messages':[ {'mod':-1, 'text':\"Unhandled Response! Error!\"} ]}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const APITestSecurity = () => {\r\n\t\r\n\t/*\r\n\tconst data = {\r\n\t\t//username: \"dummyUser\",\r\n\t\t//password: \"dummyPasswor\",\r\n\t};\r\n\t*/\r\n\t\r\n\tconst config = {\r\n\t\t//headers: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\taxiosInstance.get(\"/link/action\", config)\r\n\t.then( \tres => {\r\n\t\tconsole.log(res)\r\n\t})\r\n\t.catch( err => {\r\n\t\tconsole.log(err)\r\n\t});\r\n}\r\n\r\n// Refresh!\r\nexport const APIRefreshToken = (callbackFunction, callbackFailure, callbackRetrySignal) => {\r\n\tconst data = {\r\n\t\t//token: refreshToken,\r\n\t};\r\n\t\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\taxiosInstance.post(\"/api/customRefreshToken/\", data, config)\r\n\t.then( \tres => {\r\n\t\t//console.log(res)\r\n\t\t\r\n\t\t// If we get here then we should have a new token\r\n\t\t//console.log(\"Token refreshed\")\r\n\t\tcallbackFunction(res.data, callbackRetrySignal)\r\n\t})\r\n\t.catch( err => {\r\n\t\t// Check for a specific error?\r\n\t\t//console.log(err)\r\n\t\t\r\n\t\tlet result = checkError(err, callbackRetrySignal)\r\n\t\t//console.log(result)\r\n\t\t\r\n\t\tcallbackFailure(result)\r\n\t});\r\n}\r\n\r\n// Sign In!\r\nexport const APISignIn = (isUserOrEmail, requestUsername, requestPassword, callbackFunction, callbackFailure) => {\r\n\tlet data = {\r\n\t\tpassword: requestPassword,\r\n\t};\r\n\t\r\n\tif (isUserOrEmail) {\r\n\t\tdata[\"email\"] = requestUsername\r\n\t}\r\n\telse {\r\n\t\tdata[\"username\"] = requestUsername\r\n\t}\r\n\t\r\n\t//{withCredentials: false}\r\n\taxiosInstance.post(\"/api/customGetToken/\", data)\r\n\t.then( res => {\r\n\t\tconsole.log(res)\r\n\t\t//let outData = res.data.access\r\n\t\tcallbackFunction(res.data)\r\n\t})\r\n\t.catch( err => {\r\n\t\t// Find out what error it was, then change the sign in page accordingly by the by...\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\t\r\n\t\tcallbackFailure(result)\r\n\t})\r\n}\r\n\r\n// Sign Out1!\r\nexport const APISignOut = (callbackFunction, callbackFailure) => {\r\n\tconst data = {\r\n\t\t//token: refreshToken,\r\n\t};\r\n\t\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\taxiosInstance.post(\"/api/customDeleteToken/\", data, config)\r\n\t.then( res => {\r\n\t\t//console.log(res)\r\n\t\t//let outData = res.data.access\r\n\t\tcallbackFunction(res.data)\r\n\t})\r\n\t.catch( err => {\r\n\t\t// Find out what error it was, then change the sign in page accordingly by the by...\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\t\r\n\t\tcallbackFailure(result)\r\n\t})\r\n}\r\n\r\n// Sign Up!\r\nexport const APISignUp = (requestUsername, requestPassword1, requestPassword2, email, firstName, lastName, callbackFunction, callbackFailure) => {\r\n\tconst data = {\r\n\t\tusername: requestUsername,\r\n\t\tpassword: requestPassword1,\r\n\t\tpassword2: requestPassword2,\r\n\t\temail: email,\r\n\t\tfirst_name: firstName,\r\n\t\tlast_name: lastName,\r\n\t};\r\n\t\r\n\t// Output of this boi is the error messages and stuff...\r\n\t// Because the only data we really need is that it succeeded before we continue...\r\n\taxiosInstance.post(\"/api/registerUser/\", data )\r\n\t.then( res => { \r\n\t\t//res.data\r\n\t\tlet outData = res.status\r\n\t\tcallbackFunction(outData)\r\n\t})\r\n\t.catch( err => {\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\t\r\n\t\tcallbackFailure(result)\r\n\t})\r\n}\r\n\r\n// Validator Check!\r\nexport const APIValidateAccount = (activateToken, callbackFunction, callbackFailure) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\taxiosInstance.get(\"/api/emailActivate/?token=\"+activateToken, config)\r\n\t.then(res => {\r\n\t\t\tcallbackFunction(res.status, res.data)\r\n\t})\r\n\t.catch( err => {\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\t\r\n\t\tcallbackFailure(result)\r\n\t});\r\n}\r\n\r\n// Resend Validation Email!\r\nexport const APIResendValidator = (callbackFunction, callbackFailure) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\taxiosInstance.get(\"/api/emailVerifyResend/\", config)\r\n\t.then(res => {\r\n\t\t\t//console.log(\"Got Data!\")\r\n\t\t\t//console.log(res.data)\r\n\t\t\tcallbackFunction()\r\n\t})\r\n\t.catch( err => {\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t});\r\n}\r\n\r\n// Check if the user is active!\r\nexport const APICheckActive = (callbackFunction, callbackFailure) => {\r\n\t\r\n\tconst config = {\r\n\t\theaders: { \r\n\t\t\tAuthorization: `JWT ${accessToken}`,\r\n\t\t\t'Content-Type': 'application/json',\r\n\t\t\t'accept': 'application/json'\r\n\t\t}\r\n\t};\r\n\t\r\n\taxiosInstance.get(\"/api/userIsActive/\", config)\r\n\t.then(res => {\r\n\t\tcallbackFunction(res.data[0].isActive)\r\n\t})\r\n\t.catch( err => {\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\t\r\n\t\tcallbackFailure(result)\r\n\t});\r\n}\r\n\r\n// Gatting the Filters from the server!\r\nexport const APIGetSearchFilters = (callbackFunction, callbackFailure) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\taxiosInstance.get(\"/api/getValidFilters/\", config)\r\n\t.then(\r\n\t\tres => {\r\n\t\t\t\r\n\t\t\tlet nameList = []\r\n\t\t\t\r\n\t\t\tfor (let index in res.data) {\r\n\t\t\t\tnameList.push(res.data[index].name)\r\n\t\t\t}\r\n\r\n\t\t\tcallbackFunction(nameList)\r\n\t})\r\n\t.catch( err => {\r\n\t\t\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t});\r\n};\r\n\r\n// Contact Us Email\r\nexport const APIContactUsEmail = (firstName, lastName, email, company, content, callbackFunction, callbackFailure) => {\r\n\tconst data = {\r\n\t\t\t\r\n\t\tfirstName: firstName,\r\n\t\tlastName: lastName,\r\n\t\t\r\n\t\temail: email,\r\n\t\tcompany: company,\r\n\t\t\r\n\t\tcontent: content,\t\t\r\n\t};\r\n\r\n\taxiosInstance.post(\"/api/sendContactEmail/\", data )\r\n\t.then( res => { \r\n\t\r\n\t\t// Successfully Sent the email, can trigger something on this side\r\n\t\tif (res.status === 200) {\r\n\r\n\t\t}\r\n\t})\r\n\t.catch( err => {\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t})\r\n}\r\n\r\n// Beta Sign Up Email\r\nexport const APIBetaSignEmail = (email, callbackFunction, callbackFailure) => {\r\n\tconst data = {\r\n\t\temail: email,\r\n\t};\r\n\r\n\taxiosInstance.post(\"/api/sendBetaEmail/\", data )\r\n\t.then( res => { \r\n\t\r\n\t\t// Successfully Sent the email, can trigger something on this side\r\n\t\tif (res.status === 200) {\r\n\r\n\t\t}\r\n\t})\r\n\t.catch( err => {\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t})\r\n}\r\n\r\n\r\n// Forgot Password Email Send!\r\nexport const APIForgotEmailSend = (sendEmail, callbackFunction, callbackFailure) => {\r\n\r\n\t// Not logged in, so no token\r\n\tconst data = {\r\n\t\ttargetEmail: sendEmail,\r\n\t};\r\n\t\r\n\taxiosInstance.post(\"/api/nonAuthPassword/sendEmail/\", data)\r\n\t.then(res => {\r\n\t\t\t//console.log(res)\r\n\t\t\tcallbackFunction(res.status)\r\n\t\t}\r\n\t)\r\n\t.catch(err => {\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t});\r\n}\r\n// Forgot Password Validator Token Check!\r\nexport const APIForgotEmailValidate = (passToken, callbackFunction, callbackFailure) => {\r\n\r\n\t// Not logged in, so no token\r\n\tconst config = {\r\n\t\t\r\n\t};\r\n\t\r\n\taxiosInstance.get(\"/api/nonAuthPassword/validate/?token=\"+passToken, config)\r\n\t.then(res => {\r\n\t\t\tcallbackFunction(res.status)\r\n\t\t}\r\n\t)\r\n\t.catch(err => {\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t});\r\n}\r\n\r\n// Forgot Password Password Changer!\r\nexport const APIForgotEmailChangePassword = (passToken, password1, password2, callbackFunction, callbackFailure) => {\r\n\t// Not logged in, so no token\r\n\tconst data = {\r\n\t\tpassword:password1,\r\n\t\tpassword2:password2,\r\n\t\tpassToken:passToken,\r\n\t};\r\n\t\r\n\taxiosInstance.put(\"/api/nonAuthPassword/Change/\", data)\r\n\t.then(res => {\r\n\t\t\t// If this triggers, we should be completly fine...\r\n\t\t\tcallbackFunction(res.status)\r\n\t\t}\r\n\t)\r\n\t.catch(err => {\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t});\r\n}\r\n\r\n// Logged In Password Changer!\r\nexport const APILoggedInPasswordChanger = (callbackFunction, callbackFailure) => {\r\n\r\n}\r\n\r\n// Saving of the suggestion...\r\nexport const APISaveSuggestion = (postingDate, targetDivision, content, editorBlock, callbackFunction, callbackFailure) => {\r\n\t\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\t// As UTC: postingDate.toJSON().split(\"T\")[0]\r\n\tconst data = {\r\n\t\treqDiv: targetDivision,\r\n\t\ttargetDivision: targetDivision,\r\n\t\t\r\n\t\tcreatedDate: convertDate( postingDate ),\r\n\t\tcontent: content,\r\n\t\t\r\n\t\trichText: editorBlock,\r\n\t};\r\n\t\r\n\taxiosInstance.post(\"/api/saveNewSuggestion/\", data, config )\r\n\t.then( res => { \r\n\t\tcallbackFunction(res.data)\r\n\t})\r\n\t.catch( err => {\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t})\r\n}\r\n\r\n// Save the journal data...\r\nexport const APISaveJournal = (postingDate, promptValue, targetDiv, content, editorBlock, callbackFunction, callbackFailure) => {\r\n\t\r\n\tconst randomID = Math.random().toString(16).substr(2, 8);\r\n\t\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\tlet data = {}\r\n\tif (targetDiv === \"usr\") {\r\n\t\tdata = {\r\n\t\t\tshorthand: \"WEBUSR:\"+randomID,\r\n\t\t\t\r\n\t\t\ttargetDivision: undefined,\r\n\t\t\t\r\n\t\t\t// Author is filled in based on your Token on the server side...\r\n\t\t\t// The timezone on the server is different.....\r\n\t\t\tforDate: convertDate( postingDate ),\r\n\r\n\t\t\tusedPromptKeyText: promptValue,\r\n\r\n\t\t\tcontent: content,\r\n\t\t\trichText: editorBlock,\r\n\t\t};\r\n\t}\r\n\telse {\r\n\t\tdata = {\r\n\t\t\tshorthand: 'WEBDIV'+randomID,\r\n\t\t\t\r\n\t\t\ttargetDivision: targetDiv,\r\n\t\t\t\r\n\t\t\t// Author is filled in based on your Token on the server side...\r\n\t\t\t// The timezone on the server is different.....\r\n\t\t\tforDate: convertDate( postingDate ),\r\n\r\n\t\t\tusedPromptKeyText: promptValue,\r\n\r\n\t\t\tcontent: content,\r\n\t\t\trichText: editorBlock,\r\n\t\t};\r\n\t}\r\n\t//console.log(data)\r\n\t\r\n\taxiosInstance.post(\"/api/saveUserJournal/\", data, config )\r\n\t.then( res => { \r\n\t\tcallbackFunction(res.data)\r\n\t})\r\n\t.catch( err => {\r\n\t\t// Change this depending on the error...?\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t})\r\n}\r\n\r\n// Save the Non-journal data...\r\nexport const APISaveNonJournal = (postingDate, promptValue, targetDiv, incomingData, callbackFunction, callbackFailure) => {\r\n\t\t\r\n\tconst randomID = Math.random().toString(16).substr(2, 8);\r\n\t\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\tlet data = {}\r\n\tif (targetDiv === \"usr\") {\r\n\t\tdata = {\r\n\t\t\tshorthand: 'WEBUSR'+randomID,\r\n\t\t\t\r\n\t\t\ttargetDivision: undefined,\r\n\t\t\t\r\n\t\t\t// Author is filled in based on your Token on the server side...\r\n\t\t\t// The timezone on the server is different.....\r\n\t\t\tforDate: convertDate( postingDate ),\r\n\r\n\t\t\tusedPromptKeyText: promptValue,\r\n\r\n\t\t\tchosenValue: incomingData,\r\n\t\t};\r\n\t}\r\n\telse {\r\n\t\tdata = {\r\n\t\t\tshorthand: \"WEBDiv:\"+randomID,\r\n\t\t\t\r\n\t\t\ttargetDivision: targetDiv,\r\n\t\t\t\r\n\t\t\t// Author is filled in based on your Token on the server side...\r\n\t\t\t// The timezone on the server is different.....\r\n\t\t\tforDate: convertDate( postingDate ),\r\n\r\n\t\t\tusedPromptKeyText: promptValue,\r\n\r\n\t\t\tchosenValue: incomingData,\r\n\t\t};\r\n\t}\r\n\t\t\r\n\t//console.log(data)\r\n\taxiosInstance.post(\"/api/saveUserNonJournal/\", data, config )\r\n\t.then( res => { \r\n\t\tcallbackFunction(res.data)\r\n\t})\r\n\t.catch( err => {\r\n\t\t// Change this depending on the error...?\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t})\r\n}\r\n\r\nexport const APIGetJournalPrompts = (callbackFunction, callbackFailure) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\taxiosInstance.get(\"/api/getValidPrompts/\", config)\r\n\t.then( \r\n\t\tres => {\r\n\t\t\t//res.data\r\n\t\t\t\r\n\t\t\t/*\r\n\t\t\tlet divType = []\r\n\t\t\tlet perType = []\r\n\t\t\t\r\n\t\t\tfor (let index in res.data) {\r\n\t\t\t\t// User Mode\r\n\t\t\t\tif (\"userTarget\" in res.data[index]) {\r\n\t\t\t\t\tperType.push(res.data[index])\r\n\t\t\t\t}\r\n\t\t\t\t// Division Mode\r\n\t\t\t\tif (\"divTarget\" in res.data[index]) {\r\n\t\t\t\t\tdivType.push(res.data[index])\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t*/\r\n\t\t\t\r\n\t\t\t// This should be ok for now?\r\n\t\t\tcallbackFunction( res.data )\r\n\t})\r\n\t.catch( err => {\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t});\r\n}\r\n\r\n// Get the dates for a specific user, defined in the auth token\r\n// I may have to redo this?\r\nexport const APIGetJournalDates = (callbackFunction, callbackFailure) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\taxiosInstance.get(\"/api/getJournalDates/\", config)\r\n\t.then( \r\n\t\tres => {\r\n\t\t\t//console.log(\"Got Data!\")\r\n\t\t\t\r\n\t\t\tlet todayDateFull = new Date()\r\n\t\t\tlet todayDate = todayDateFull.getFullYear()+\"-\"+todayDateFull.getMonth()+\"-\"+(todayDateFull.getDate())\r\n\r\n\t\t\tlet tempAIObject = []\r\n\t\t\tlet tempJoObject = []\r\n\t\t\t\r\n\t\t\tfor (let item in res.data){\r\n\t\t\t\tconst newDate = new Date(res.data[item].forDate)\r\n\t\t\t\tconst checkDate = newDate.getFullYear()+\"-\"+newDate.getMonth()+\"-\"+(newDate.getDate()+1)\t\r\n\t\t\t\t\r\n\t\t\t\t// This may be unnecessary, and could be moved to the JournalMake...\r\n\t\t\t\tif (res.data[item][\"targetDivision\"] === null) {\r\n\t\t\t\t\tres.data[item][\"targetDivision\"] = \"usr\"\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (res.data[item].hasAI) {\r\n\t\t\t\t\tif (checkDate in tempAIObject) {\r\n\t\t\t\t\t\tif (res.data[item].targetDivision in tempAIObject[checkDate]) {\r\n\t\t\t\t\t\t\ttempAIObject[checkDate][res.data[item].targetDivision].push( res.data[item].usedPromptKey )\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\ttempAIObject[checkDate][res.data[item].targetDivision] = [ res.data[item].usedPromptKey ]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\ttempAIObject[checkDate] = {}\r\n\t\t\t\t\t\ttempAIObject[checkDate][res.data[item].targetDivision] = [ res.data[item].usedPromptKey ]\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (todayDate === checkDate) {\r\n\t\t\t\t\t\tif (\"today\" in tempAIObject) {\r\n\t\t\t\t\t\t\tif (res.data[item].targetDivision in tempAIObject[\"today\"]) {\r\n\t\t\t\t\t\t\t\ttempAIObject[\"today\"][res.data[item].targetDivision].push( res.data[item].usedPromptKey )\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\ttempAIObject[\"today\"][res.data[item].targetDivision] = [ res.data[item].usedPromptKey ]\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\ttempAIObject[\"today\"] = {}\r\n\t\t\t\t\t\t\ttempAIObject[\"today\"][res.data[item].targetDivision] = [ res.data[item].usedPromptKey ]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (checkDate in tempJoObject) {\r\n\t\t\t\t\t\tif (res.data[item].targetDivision in tempJoObject[checkDate]) {\r\n\t\t\t\t\t\t\ttempJoObject[checkDate][res.data[item].targetDivision].push( res.data[item].usedPromptKey )\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\ttempJoObject[checkDate][res.data[item].targetDivision] = [ res.data[item].usedPromptKey ]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\ttempJoObject[checkDate] = {}\r\n\t\t\t\t\t\ttempJoObject[checkDate][res.data[item].targetDivision] = [ res.data[item].usedPromptKey ]\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (todayDate === checkDate) {\r\n\t\t\t\t\t\tif (\"today\" in tempJoObject) {\r\n\t\t\t\t\t\t\tif (res.data[item].targetDivision in tempJoObject[\"today\"]) {\r\n\t\t\t\t\t\t\t\ttempJoObject[\"today\"][res.data[item].targetDivision].push( res.data[item].usedPromptKey )\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\ttempJoObject[\"today\"][res.data[item].targetDivision] = [ res.data[item].usedPromptKey ]\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\ttempJoObject[\"today\"] = {}\r\n\t\t\t\t\t\t\ttempJoObject[\"today\"][res.data[item].targetDivision] = [ res.data[item].usedPromptKey ]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tcallbackFunction(tempJoObject, tempAIObject)\r\n\t})\r\n\t.catch( err => {\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\t\r\n\t\tcallbackFailure(result)\r\n\t});\r\n};\r\n\r\nexport const APIGetNonJournalDates = (callbackFunction, callbackFailure) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\taxiosInstance.get(\"/api/getNonJournalDates/\", config)\r\n\t.then( \r\n\t\tres => {\r\n\t\t\t\r\n\t\t\t//console.log(\"Got Data!\")\r\n\t\t\tlet todayDateFull = new Date()\r\n\t\t\tlet todayDate = todayDateFull.getFullYear()+\"-\"+todayDateFull.getMonth()+\"-\"+(todayDateFull.getDate())\r\n\t\t\t\r\n\t\t\tlet tempJoObject = []\r\n\t\t\tfor (let item in res.data){\r\n\t\t\t\tconst newDate = new Date(res.data[item].forDate)\r\n\t\t\t\tconst checkDate = newDate.getFullYear()+\"-\"+newDate.getMonth()+\"-\"+(newDate.getDate()+1)\r\n\t\t\t\t\r\n\t\t\t\t// This may be unnecessary, and could be moved to the JournalMake...\r\n\t\t\t\tif (res.data[item][\"targetDivision\"] === null) {\r\n\t\t\t\t\tres.data[item][\"targetDivision\"] = \"usr\"\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (checkDate in tempJoObject) {\r\n\t\t\t\t\tif (res.data[item].targetDivision in tempJoObject[checkDate]) {\r\n\t\t\t\t\t\ttempJoObject[checkDate][res.data[item].targetDivision].push( res.data[item].usedPromptKey )\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\ttempJoObject[checkDate][res.data[item].targetDivision] = [ res.data[item].usedPromptKey ]\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\ttempJoObject[checkDate] = {}\r\n\t\t\t\t\ttempJoObject[checkDate][res.data[item].targetDivision] = [ res.data[item].usedPromptKey ]\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (todayDate === checkDate) {\r\n\t\t\t\t\tif (\"today\" in tempJoObject) {\r\n\t\t\t\t\t\tif (res.data[item].targetDivision in tempJoObject[\"today\"]) {\r\n\t\t\t\t\t\t\ttempJoObject[\"today\"][res.data[item].targetDivision].push( res.data[item].usedPromptKey )\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\ttempJoObject[\"today\"][res.data[item].targetDivision] = [ res.data[item].usedPromptKey ]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\ttempJoObject[\"today\"] = {}\r\n\t\t\t\t\t\ttempJoObject[\"today\"][res.data[item].targetDivision] = [ res.data[item].usedPromptKey ]\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tcallbackFunction(tempJoObject)\r\n\t})\r\n\t.catch( err => {\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\t\r\n\t\tcallbackFailure(result)\r\n\t});\r\n};\r\n\r\n// Get the data for a speific date, where the user defined is in the token\r\nexport const APIGetJournalData = (selectedDate, callbackFunction, callbackFailure) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\t//console.log(\"Requesting Date from Server\")\r\n\tconst dateReq = selectedDate.toJSON().split(\"T\")[0]\r\n\t\r\n\taxiosInstance.get(\"/api/getUserJournal/?reqDate=\"+dateReq, config)\r\n\t.then( \r\n\t\tres => {\r\n\t\t\t//console.log(res.data)\r\n\t\t\t/*\r\n\t\t\tlet promptSet = []\r\n\t\t\tlet contentSet = []\r\n\t\t\tlet blockSet = []\r\n\t\t\tlet AISet = []\r\n\t\t\t\r\n\t\t\tfor (let index in res.data) {\r\n\t\t\t\r\n\t\t\t\tpromptSet.push(res.data[index].usedPromptKey)\r\n\t\t\t\tcontentSet.push(res.data[index].content)\r\n\t\t\t\tblockSet.push(res.data[index].richText)\r\n\t\t\t\t\r\n\t\t\t\tlet AIData = {}\r\n\t\t\t\tif (res.data[index].hasAI) {\r\n\t\t\t\t\tAIData = res.data[index].AIresult\r\n\t\t\t\t}\r\n\t\t\t\tAISet.push(AIData)\r\n\t\t\t}\r\n\t\t\t*/\r\n\t\t\t\r\n\t\t\tcallbackFunction(res.data)\r\n\r\n\t})\r\n\t.catch( err => {\r\n\t\t\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t});\r\n};\r\n\r\nexport const APIGetNonJournalData = (selectedDate, callbackFunction, callbackFailure) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\t//console.log(\"Requesting Date from Server\")\r\n\tconst dateReq = selectedDate.toJSON().split(\"T\")[0]\r\n\t\r\n\taxiosInstance.get(\"/api/getUserNonJournal/?reqDate=\"+dateReq, config)\r\n\t.then( \r\n\t\tres => {\r\n\t\t\t//console.log(res.data)\r\n\t\t\tcallbackFunction(res.data)\r\n\r\n\t})\r\n\t.catch( err => {\r\n\t\t\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t});\r\n};\r\n\r\n// Get the company list under the user, defined in the token\r\nexport const APIGetUsersPermTree = (reqPerms, callbackFunction, callbackFailure) => {\r\n\t\t\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\r\n\taxiosInstance.get(\"/api/getUsersPermissionTree/?reqPerms=\"+reqPerms, config)\r\n\t.then( \tres => {\r\n\t\t\t\r\n\t\t\t// Normal behaviour\r\n\t\t\t//console.log(\"Got the tree of companies\")\r\n\t\t\t// Now we convert this data into a tree... Tho why not just use it as is?\r\n\t\t\t//console.log(res.data)\r\n\t\t\t\r\n\t\t\t// Convert the stuff... I am not going to need trees honestly...\r\n\t\t\t\r\n\t\t\tcallbackFunction(res.data[\"divList\"])\r\n\t\t})\r\n\t\t.catch( err => {\r\n\t\t\t\r\n\t\t\tlet result = checkError(err)\r\n\t\t\t//console.log(result)\r\n\t\t\tcallbackFailure(result)\r\n\t\t});\r\n}\r\n\r\nexport const APIGetCompanyValidDates = (divisionID, callbackFunction, callbackFailure) => {\r\n\t\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\taxiosInstance.get(\"/api/getCompanyDates/?reqDiv=\"+divisionID, config)\r\n\t.then( \tres => {\r\n\t\t\t// This is highly likely to be unneeded\r\n\t\t\tlet tempObjectSorter = {}\r\n\t\t\t\r\n\t\t\t//console.log(\"Got Valid Dates!\")\r\n\t\t\tvar item = \"\"\r\n\t\t\tfor (item in res.data){\r\n\t\t\t\t\r\n\t\t\t\t// These dates may be off... I will need to check HOW and WHY.... Because we will need to get the dates from this side..\r\n\t\t\t\t\r\n\t\t\t\tlet typeName = convertSummaryType[ res.data[item].summaryType ]\r\n\r\n\t\t\t\tif ( !(typeName in tempObjectSorter) ) {\r\n\t\t\t\t\ttempObjectSorter[typeName] = []\r\n\t\t\t\t}\r\n\t\t\t\ttempObjectSorter[typeName].push( {'date':res.data[item].forDate, 'num':res.data[item].hasPrompts} )\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//console.log(res.data)\r\n\t\t\t//console.log(tempObjectSorter)\r\n\t\t\tcallbackFunction(tempObjectSorter)\r\n\t})\r\n\t.catch( err => {\r\n\t\t\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t});\r\n}\r\n\r\n// Get a specific company's summary for the list...\r\nexport const APIGetCompanySummary = (divisionID, summaryType, selectedDate, callbackFunction, callbackFailure) => {\r\n\t\r\n\tlet copiedDate = new Date(selectedDate.getTime());\r\n\tconst dateReq = copiedDate.toJSON().split(\"T\")[0]\r\n\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\taxiosInstance.get(\"/api/getCompanySummary/?reqDate=\"+dateReq+\"&reqDiv=\"+divisionID+\"&type=\"+summaryType, config)\r\n\t.then( \r\n\t\tres => {\r\n\t\t\t//console.log(res.data)\r\n\r\n\t\t\t/*for (let index in res.data) {\r\n\t\t\t\tconsole.log(\"obtained a company summary\")\r\n\t\t\t}*/\r\n\r\n\t\t\tcallbackFunction(res.data[0], summaryType)\r\n\t})\r\n\t.catch( err => {\r\n\t\t\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t});\r\n}\r\n\r\nexport const APIGetServerEHIData = (targetCompany, callbackFunction, callbackFailure) => {\r\n\t\t\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\taxiosInstance.get(\"/api/getCompanyEHI/?reqDiv=\"+targetCompany, config)\r\n\t.then( \tres => {\r\n\t\t// Should respond with a 1 length thing\r\n\t\t//console.log(res.data)\r\n\t\tif (res.data.length > 0) {\r\n\t\t\t// Normal behaviour\r\n\t\t\t//console.log(\"Got the company EHI data!\")\r\n\t\t\t\r\n\t\t\tcallbackFunction(res.data[0][\"EHIstorage\"])\r\n\t\t}\r\n\t\telse {\r\n\t\t\t// This should not trigger\r\n\t\t\tcallbackFailure()\r\n\t\t}\r\n\t})\r\n\t.catch( err => {\r\n\t\t\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t});\r\n}\r\n\r\nexport const APIGetSuggestionDates = (targetCompany, callbackFunction, callbackFailure) => {\r\n\t\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\taxiosInstance.get(\"/api/getCompanySuggestionDates/?reqDiv=\"+targetCompany, config)\r\n\t.then( \tres => {\r\n\t\t\r\n\t\tlet datesData = []\r\n\t\t\r\n\t\tlet item = \"\"\r\n\t\tfor (item in res.data) {\r\n\t\t\t\r\n\t\t\tconst newDate = new Date(res.data[item])\r\n\t\t\tconst checkDate = newDate.getFullYear()+\"-\"+newDate.getMonth()+\"-\"+(newDate.getDate()+1)\t\t\r\n\t\t\t//console.log( checkDate )\r\n\t\t\t\t\r\n\t\t\tdatesData.push(checkDate)\r\n\t\t}\r\n\t\t\r\n\t\t//console.log(datesData)\r\n\t\tcallbackFunction(datesData)\r\n\t\t\r\n\t})\r\n\t.catch( err => {\r\n\t\t\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t});\r\n}\r\n\r\nexport const APIGetSuggestionData = (targetCompany, targetDate, callbackFunction, callbackFailure) => {\r\n\t\t\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\tconst dateReq = targetDate.toJSON().split(\"T\")[0]\r\n\t\r\n\taxiosInstance.get(\"/api/getCompanySuggestionData/?reqDiv=\"+targetCompany+\"&reqDate=\"+dateReq, config)\r\n\t.then( \tres => {\r\n\t\t// Should respond with a 1 length thing\r\n\t\t//console.log(res.data)\r\n\t\t\r\n\t\t//console.log(\"Got the suggestion data!\")\r\n\t\tcallbackFunction(targetDate, res.data)\r\n\t})\r\n\t.catch( err => {\r\n\t\t\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t});\r\n}\r\n\r\n// CREATING a new invite from the Company Settings Page\r\nexport const APIDivisionInvitesCreate = (targetDivision, targetInvite, targetAction, callbackFunction, callbackFailure) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\tconst data = {\r\n\t\treqDiv:targetDivision,\r\n\t\ttargetUser:targetInvite,\r\n\t\ttargetAction:targetAction,\r\n\t}\r\n\t\r\n\taxiosInstance.post(\"/api/createDivisionInvite/\", data, config)\r\n\t.then( \tres => {\r\n\t\t//console.log(res)\r\n\t\t// I am clearly not thinking these through correctly...\r\n\t\t//let succCode = res.status\r\n\t\tlet succData = res.data\r\n\r\n\t\tcallbackFunction( succData )\r\n\t})\r\n\t.catch( err => {\r\n\t\t\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t});\r\n}\r\n\r\n// GETTING a divisions Invites, NOT THE HEAD ONE!\r\nexport const APIDivisionInvitesSet = (targetDivision, targetInvite, targetAction, callbackFunction, callbackFailure) => {\r\n\t\t\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\tconst data = {\r\n\t\treqDiv:targetDivision,\r\n\t\ttargetInvite:targetInvite,\r\n\t\ttargetAction:targetAction,\r\n\t}\r\n\t\r\n\taxiosInstance.put(\"/api/setDivisionInvite/\", data, config)\r\n\t.then( \tres => {\r\n\t\t//console.log(res)\r\n\t\t// I am clearly not thinking these through correctly...\r\n\t\t//let succCode = res.status\r\n\t\tlet succData = res.data\r\n\r\n\t\tcallbackFunction( succData )\r\n\t})\r\n\t.catch( err => {\r\n\t\t\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t});\r\n}\r\n\r\n// GETTING a divisions Invites, NOT THE HEAD ONE!\r\nexport const APIDivisionInvitesGet = (targetCompany, callbackFunction, callbackFailure) => {\r\n\t\t\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\taxiosInstance.get(\"/api/getDivisionInvites/?reqDiv=\"+targetCompany, config)\r\n\t.then( \tres => {\r\n\t\t//console.log(res)\r\n\t\t// I am clearly not thinking these through correctly...\r\n\t\t//let succCode = res.status\r\n\t\tlet succData = res.data\r\n\r\n\t\tcallbackFunction(succData)\r\n\t})\r\n\t.catch( err => {\r\n\t\t\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t});\r\n}\r\n\r\n// GETTING a divisions profile, NOT THE HEAD ONE!\r\nexport const APIDivisionSettingsGet = (targetCompany, callbackFunction, callbackFailure) => {\r\n\t\t\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\taxiosInstance.get(\"/api/getDivisionData?reqDiv=\"+targetCompany, config)\r\n\t.then( \tres => {\r\n\t\t//console.log(res)\r\n\t\t// I am clearly not thinking these through correctly...\r\n\t\t//let succCode = res.status\r\n\t\tlet succData = res.data[0]\r\n\r\n\t\tcallbackFunction(succData)\r\n\t})\r\n\t.catch( err => {\r\n\t\t\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t});\r\n}\r\n\r\n// SAVING an edited division's profile, NOT THE HEAD ONE! THAT IS LATER!\r\nexport const APIDivisionSettingsEdit = (dataSet, callbackFunction, callbackFailure) => {\r\n\t\t\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\t//const data = {\r\n\t\t\r\n\t//};\r\n\t\r\n\tconst data = dataSet\r\n\t\r\n\taxiosInstance.put(\"/api/setDivisionData/\", data, config)\r\n\t.then( \tres => {\r\n\t\t\r\n\t\t// I am clearly not thinking these through correctly...\r\n\t\t//let succCode = res.status\r\n\t\tlet succData = res.data\r\n\r\n\t\tcallbackFunction(succData)\r\n\t})\r\n\t.catch( err => {\r\n\t\t\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t});\r\n\t\r\n}\r\n\r\nexport const APIUserSettingsEdit = (dataSet, callbackFunction, callbackFailure) => {\r\n\t\t\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\t//const data = {\r\n\t\t\r\n\t//};\r\n\t\r\n\tconst data = dataSet\r\n\t\r\n\taxiosInstance.put(\"/api/setUserProfileData/\", data, config)\r\n\t.then( \tres => {\r\n\t\t\r\n\t\t// I am clearly not thinking these through correctly...\r\n\t\t//let succCode = res.status\r\n\t\tlet succData = res.data\r\n\r\n\t\tcallbackFunction(succData)\r\n\t})\r\n\t.catch( err => {\r\n\t\t\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t});\r\n\t\r\n}\r\n\r\n// Sign up for the company's governed list that matches this code...\r\nexport const APIUserInviteCode = (inviteCode, callbackFunction, callbackFailure) => {\r\n\t\t\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\t//let data = {\r\n\t//\t\r\n\t//}\r\n\r\n\taxiosInstance.get(\"/api/useDivisionInvite?joinCode=\"+inviteCode, config)\r\n\t.then( \tres => {\r\n\t\t// Should respond with a 1 length thing\r\n\t\tlet succData = res.data\r\n\r\n\t\tcallbackFunction( succData )\r\n\t})\r\n\t.catch( err => {\r\n\t\t\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t});\r\n}\r\n\r\n// Get the invites!\r\nexport const APIUserInvitesGet = (callbackFunction, callbackFailure) => {\r\n\t\t\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\r\n\taxiosInstance.get(\"/api/getUsersInvites\", config)\r\n\t.then( \tres => {\r\n\t\t//console.log(res)\r\n\t\t// I am clearly not thinking these through correctly...\r\n\t\t//let succCode = res.status\r\n\t\tlet succData = res.data\r\n\r\n\t\tcallbackFunction(succData)\r\n\t})\r\n\t.catch( err => {\r\n\t\t\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t});\r\n}\r\n\r\n// Set the invites!\r\nexport const APIUserInvitesSet = (targetInvite, targetAction, callbackFunction, callbackFailure) => {\r\n\t\t\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\tconst data = {\r\n\t\ttargetInvite:targetInvite,\r\n\t\ttargetAction:targetAction,\r\n\t}\r\n\t\r\n\taxiosInstance.put(\"/api/setUserInvite/\", data, config)\r\n\t.then( \tres => {\r\n\t\t// I am clearly not thinking these through correctly...\r\n\t\t//let succCode = res.status\r\n\t\tlet succData = res.data\r\n\r\n\t\tcallbackFunction( succData )\r\n\t})\r\n\t.catch( err => {\r\n\t\t\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t});\r\n}\r\n\r\nexport const APIGetUserDetails = (callbackFunction, callbackFailure) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\taxiosInstance.get(\"/api/getUserDetails/\", config)\r\n\t.then( \tres => {\r\n\t\t//let succCode = res.status\r\n\t\tlet succData = res.data\r\n\r\n\t\tcallbackFunction( succData )\r\n\t})\r\n\t.catch( err => {\r\n\t\t\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t});\r\n}\r\n\r\nexport const APIChangeUserEmail = (newEmail, callbackFunction, callbackFailure) => {\r\n\t\t\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\t// Verify data before we do this?\r\n\tconst data = {\r\n\t\temail:newEmail,\r\n\t}\r\n\t\r\n\taxiosInstance.put(\"/api/updateUserEmail/\", data, config)\r\n\t.then( \tres => {\r\n\t\t//let succCode = res.status\r\n\t\tlet succData = res.data\r\n\r\n\t\tcallbackFunction( succData )\r\n\t})\r\n\t.catch( err => {\r\n\t\t\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t});\r\n}\r\n\r\nexport const APIChangeUserName = (newFirst, newLast, callbackFunction, callbackFailure) => {\r\n\t\t\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\t// Verify data before we do this?\r\n\tconst data = {\r\n\t\tfirst_name:newFirst,\r\n\t\tlast_name:newLast,\r\n\t}\r\n\t\r\n\taxiosInstance.put(\"/api/updateUserName/\", data, config)\r\n\t.then( \tres => {\r\n\t\t//let succCode = res.status\r\n\t\tlet succData = res.data\r\n\r\n\t\tcallbackFunction( succData )\r\n\t})\r\n\t.catch( err => {\r\n\t\t\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t});\r\n}\r\n\r\nexport const APIChangeUserPassword = (newPass, oldPass, oldPass2, callbackFunction, callbackFailure) => {\r\n\t\t\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\t// Verify data before we do this?\r\n\tconst data = {\r\n\t\toldPassword:newPass,\r\n\t\tpassword:oldPass,\r\n\t\tpassword2:oldPass2,\r\n\t}\r\n\t\r\n\taxiosInstance.put(\"/api/updateUserPassword/\", data, config)\r\n\t.then( \tres => {\r\n\t\t//let succCode = res.status\r\n\t\tlet succData = res.data\r\n\r\n\t\tcallbackFunction( succData )\r\n\t})\r\n\t.catch( err => {\r\n\t\t\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t\t\r\n\t});\r\n}\r\n\r\nexport const APIGetSearchPrompts = (searchTerm, searchTypes, searchFilters, callbackFunction, callbackFailure) => {\r\n\t\t\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\taxiosInstance.get(\"/api/searchPrompts/?queryText=\" + searchTerm + \"&queryTypes=\" + searchTypes + \"&queryFilters=\" + searchFilters, config)\r\n\t.then( \tres => {\r\n\t\t//let succCode = res.status\r\n\t\tlet succData = res.data\r\n\r\n\t\tcallbackFunction( succData )\r\n\t})\r\n\t.catch( err => {\r\n\t\t\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t})\r\n}\r\n\r\nexport const APIGetUserEvents = (userName, callbackFunction, callbackFailure) => {\r\n\t\t\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\taxiosInstance.get(\"/api/getUserEvents/\", config)\r\n\t.then( \tres => {\r\n\t\t//let succCode = res.status\r\n\t\tlet succData = res.data\r\n\t\tfor (let index in succData) {\r\n\t\t\tsuccData[index][\"isSaved\"] = true\r\n\t\t}\r\n\t\t\r\n\r\n\t\tcallbackFunction( succData )\r\n\t})\r\n\t.catch( err => {\r\n\t\t\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\t\t\r\n\t})\r\n}\r\n\r\nexport const APIGetDivisionEvents = (divisionID, callbackFunction, callbackFailure) => {\r\n\t\t\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\taxiosInstance.get(\"/api/getDivisionEvents/?reqDiv=\"+divisionID, config)\r\n\t.then( \tres => {\r\n\t\t//let succCode = res.status\r\n\t\tlet succData = res.data\r\n\t\r\n\t\tfor (let index in succData) {\r\n\t\t\tsuccData[index][\"isSaved\"] = true\r\n\t\t}\r\n\t\t\r\n\t\tcallbackFunction( succData )\r\n\t})\r\n\t.catch( err => {\r\n\t\t\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\t\t\r\n\t})\r\n}\r\n\r\nexport const APISetNonDivisionEvents = (savedID, incomingId, incomingDivision, incomingEnabledDiv, callbackFunction, callbackFailure) => {\r\n\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\tconst data = {\r\n\t\t// Supply an ID to update...\r\n\t\t// If this is here, its an update, if it is NOT, its a create\r\n\t\tid: incomingId,\r\n\t\treqDiv: incomingDivision,\r\n\t\t\r\n\t\tenabledDiv: incomingEnabledDiv,\r\n\t\t//sharingEnabled: incomingEnabled,\r\n\t}\r\n\t\r\n\taxiosInstance.post(\"/api/setNonDivisionEvents/\", data, config)\r\n\t.then( \tres => {\r\n\t\t//let succCode = res.status\r\n\t\tlet succData = res.data\r\n\r\n\t\tcallbackFunction( savedID, succData )\r\n\t})\r\n\t.catch( err => {\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t\t\r\n\t\t//callbackFailure( savedID, errCodes, errDatas )\r\n\t\t\r\n\t})\r\n}\r\n\r\nexport const APISetUserEvents = (savedID, incomingId, incomingEnabled, incomingEnabledShare, incomingType, incomingPrompts, callbackFunction, callbackFailure) => {\r\n\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\tconst data = {\r\n\t\t// Supply an ID to update...\r\n\t\t// If this is here, its an update, if it is NOT, its a create\r\n\t\tid: incomingId,\r\n\t\t\r\n\t\t// This is the wrong one but hey\r\n\t\tenabledDiv: incomingEnabled,\r\n\t\tsharingEnabled: incomingEnabledShare,\r\n\t\t\r\n\t\ttriggerType: incomingType,\r\n\t\tpromptSet: incomingPrompts,\r\n\t}\r\n\t\r\n\taxiosInstance.post(\"/api/setUserEvents/\", data, config)\r\n\t.then( \tres => {\r\n\t\t//let succCode = res.status\r\n\t\tlet succData = res.data\r\n\r\n\t\tcallbackFunction( savedID, succData )\r\n\t})\r\n\t.catch( err => {\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t\t\r\n\t\t//callbackFailure( savedID, errCodes, errDatas )\r\n\t\t\r\n\t})\r\n}\r\n\r\nexport const APIDeleteUserEvents = (savedID, incomingId, callbackFunction, callbackFailure) => {\r\n\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\tconst data = {\r\n\t\t// Supply an ID to update...\r\n\t\t// If this is here, its an update, if it is NOT, its a create\r\n\t\tid: incomingId,\r\n\t}\r\n\t\r\n\taxiosInstance.post(\"/api/deleteUserEvents/\", data, config)\r\n\t.then( \tres => {\r\n\t\t//let succCode = res.status\r\n\t\tlet succData = res.data\r\n\r\n\t\tcallbackFunction( savedID, succData )\r\n\t})\r\n\t.catch( err => {\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t\t\r\n\t\t//callbackFailure( savedID, errCodes, errDatas )\r\n\t\t\r\n\t})\r\n}\r\n\r\nexport const APISetDivisionEvents = (savedID, incomingId, incomingDivision, incomingEnabledDiv, incomingEnabled, incomingType, incomingPrompts, callbackFunction, callbackFailure) => {\r\n\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\tconst data = {\r\n\t\t// Supply an ID to update...\r\n\t\t// If this is here, its an update, if it is NOT, its a create\r\n\t\tid: incomingId,\r\n\t\treqDiv: incomingDivision,\r\n\t\t\r\n\t\tenabledDiv: incomingEnabledDiv,\r\n\t\tsharingEnabled: incomingEnabled,\r\n\t\t\r\n\t\ttriggerType: incomingType,\r\n\t\tpromptSet: incomingPrompts,\r\n\t}\r\n\t\r\n\taxiosInstance.post(\"/api/setDivisionEvents/\", data, config)\r\n\t.then( \tres => {\r\n\t\t//let succCode = res.status\r\n\t\tlet succData = res.data\r\n\r\n\t\tcallbackFunction( savedID, succData )\r\n\t})\r\n\t.catch( err => {\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t\t\r\n\t\t//callbackFailure( savedID, errCodes, errDatas )\r\n\t\t\r\n\t})\r\n}\r\n\r\nexport const APIDeleteDivisionEvents = (savedID, incomingId, incomingDivision, callbackFunction, callbackFailure) => {\r\n\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\tconst data = {\r\n\t\t// Supply an ID to update...\r\n\t\t// If this is here, its an update, if it is NOT, its a create\r\n\t\tid: incomingId,\r\n\t\treqDiv: incomingDivision,\r\n\t}\r\n\t\r\n\taxiosInstance.post(\"/api/deleteDivisionEvents/\", data, config)\r\n\t.then( \tres => {\r\n\t\t//let succCode = res.status\r\n\t\tlet succData = res.data\r\n\r\n\t\tcallbackFunction( savedID, succData )\r\n\t})\r\n\t.catch( err => {\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t\t\r\n\t\t//callbackFailure( savedID, errCodes, errDatas )\r\n\t\t\r\n\t})\r\n}\r\n\r\n// Gatting the Web Dates from the server!\r\nexport const APIGetDivisionWebDates = (divisionID, callbackFunction, callbackFailure) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\taxiosInstance.get(\"/api/getDivisionWebDates/?reqDiv=\"+divisionID, config)\r\n\t.then( \r\n\t\tres => {\r\n\t\t\tcallbackFunction(res.data)\r\n\t})\r\n\t.catch( err => {\r\n\t\t\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t});\r\n};\r\n\r\n// Gatting the Web from the server!\r\nexport const APIGetDivisionWeb = (divisionID, targetDate, callbackFunction, callbackFailure) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\tlet dateReq = \"recent\"\r\n\tif (!(targetDate === undefined)) {\r\n\t\tdateReq = targetDate.toJSON().split(\"T\")[0]\r\n\t}\r\n\t\r\n\taxiosInstance.get(\"/api/getDivisionWebData/?reqDiv=\"+divisionID+\"&reqDate=\"+dateReq, config)\r\n\t.then( \r\n\t\tres => {\r\n\t\t\tcallbackFunction(res.data)\r\n\t})\r\n\t.catch( err => {\r\n\t\t\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t});\r\n};\r\n\r\n// Gatting the Web Dates from the server!\r\nexport const APIGetUserWebDates = (callbackFunction, callbackFailure) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\taxiosInstance.get(\"/api/getUserWebDates/\", config)\r\n\t.then( \r\n\t\tres => {\r\n\t\t\tcallbackFunction(res.data)\r\n\t})\r\n\t.catch( err => {\r\n\t\t\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t});\r\n};\r\n\r\n// Gatting the Web from the server!\r\nexport const APIGetUserWeb = (targetDate, callbackFunction, callbackFailure) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\tlet dateReq = \"recent\"\r\n\tif (!(targetDate === undefined)) {\r\n\t\tdateReq = targetDate.toJSON().split(\"T\")[0]\r\n\t}\r\n\t\r\n\taxiosInstance.get(\"/api/getUserWebData/?reqDate=\"+dateReq, config)\r\n\t.then( \r\n\t\tres => {\r\n\t\t\t\tcallbackFunction(res.data)\r\n\t})\r\n\t.catch( err => {\r\n\t\t\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t});\r\n};","// I should use the way I redid this in the side app as a template to simplify this as much as possible\r\n\r\n// First version of a Line graph with Arbitrary everything...\r\nexport const arbitraryLineData = (inputXAxis, inputDataList) => {\r\n\t\r\n\tlet builtData = []\r\n\tlet dataIndex = 0\r\n\tfor (dataIndex in inputDataList) {\r\n\t\tbuiltData.push({\r\n\t\t\tlabel: inputDataList[dataIndex].label,\r\n\t\t\tdata: inputDataList[dataIndex].data,\r\n\t\t\tfill: false,\r\n\t\t\tbackgroundColor: 'rgb(99, 255, 132)',\r\n\t\t\tborderColor: 'rgba(255, 132, 99, 0.2)',\r\n\t\t})\r\n\t}\r\n\t\r\n\tconst data = {\r\n\t\tlabels: inputXAxis,\r\n\t\tdatasets: builtData,\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const arbitraryLineOptions = () => {\r\n\tconst options = {\r\n\t\tscales: {\r\n\t\t\tyAxes: [\r\n\t\t\t\t{\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\n// Initial tests show good results, So I should merge these into as few functions as I can....\r\n// Right now its too many...\r\nexport const getRadarEmotionData = (inputData) => {\r\n\t\r\n\tconst data = {\r\n\t\tlabels: ['Joy', 'Anger', 'Sadness', 'Disgust', 'Fear'],\r\n\t\t\tdatasets: [ \r\n\t\t\t{\r\n\t\t\t\tlabel: 'Confidence Levels',\r\n\t\t\t\tdata: inputData,\r\n\t\t\t\tbackgroundColor: 'rgba(99, 255, 132, 0.2)',\r\n\t\t\t\tborderColor: 'rgba(99, 255, 132, 1)',\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const getRadarEmotionOptions = () => {\r\n\tconst options = {\r\n\t  scale: {\r\n\t\tticks: { \r\n\t\t\tbeginAtZero: true,\r\n\t\t\tsuggestedMin: 0,\r\n\t\t\tsuggestedMax: 1,\r\n\t\t},\r\n\t  },\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\nexport const getSentimentData = (inputData) => {\r\n\tconst data = {\r\n\tlabels: ['Positive', 'Negative'],\r\n\tdatasets: [\r\n\t\t\t{\r\n\t\t\tlabel: ['Sentiment'], \r\n\t\t\tdata: inputData,\r\n\t\t\tbackgroundColor: [\r\n\t\t\t\t'rgba(99, 255, 132, 0.2)',\r\n\t\t\t\t'rgba(54, 162, 235, 0.2)',\r\n\t\t\t\t'rgba(255, 206, 86, 0.2)',\r\n\t\t\t\t'rgba(75, 192, 192, 0.2)',\r\n\t\t\t\t'rgba(153, 102, 255, 0.2)',\r\n\t\t\t\t'rgba(255, 159, 64, 0.2)',\r\n\t\t\t],\r\n\t\t\tborderColor: [\r\n\t\t\t\t'rgba(99, 255, 132, 1)',\r\n\t\t\t\t'rgba(54, 162, 235, 1)',\r\n\t\t\t\t'rgba(255, 206, 86, 1)',\r\n\t\t\t\t'rgba(75, 192, 192, 1)',\r\n\t\t\t\t'rgba(153, 102, 255, 1)',\r\n\t\t\t\t'rgba(255, 159, 64, 1)',\r\n\t\t\t],\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const getSentimentOptions = () => {\r\n\tconst options = {\r\n\t\tcutoutPercentage: 50,\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\nexport const getConceptsData = (inputData, labels) => {\r\n\tconst data = {\r\n\tlabels: labels,\r\n\tdatasets: [\r\n\t\t\t{\r\n\t\t\tlabel: 'Concepts Relevance',\r\n\t\t\tdata: inputData,\r\n\t\t\tbackgroundColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 0.2)',\r\n\t\t\t\t'rgba(54, 162, 235, 0.2)',\r\n\t\t\t\t'rgba(255, 206, 86, 0.2)',\r\n\t\t\t\t'rgba(75, 192, 192, 0.2)',\r\n\t\t\t\t'rgba(153, 102, 255, 0.2)',\r\n\t\t\t\t'rgba(255, 159, 64, 0.2)',\r\n\t\t\t],\r\n\t\t\tborderColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 1)',\r\n\t\t\t\t'rgba(54, 162, 235, 1)',\r\n\t\t\t\t'rgba(255, 206, 86, 1)',\r\n\t\t\t\t'rgba(75, 192, 192, 1)',\r\n\t\t\t\t'rgba(153, 102, 255, 1)',\r\n\t\t\t\t'rgba(255, 159, 64, 1)',\r\n\t\t\t],\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const getConceptsOptions = () => {\r\n\tconst options = {\r\n\t\tscales: {\r\n\t\t\tyAxes: [{\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t\tsuggestedMin: 0,\r\n\t\t\t\t\t\tsuggestedMax: 1,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\n// This can probobly be merged with the other one... but it is here for perhaps a color shift?\r\nexport const getCategoryData = (inputData, labels) => {\r\n\tconst data = {\r\n\tlabels: labels,\r\n\tdatasets: [\r\n\t\t\t{\r\n\t\t\tlabel: 'Categories Score',\r\n\t\t\tdata: inputData,\r\n\t\t\tbackgroundColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 0.2)',\r\n\t\t\t\t'rgba(54, 162, 235, 0.2)',\r\n\t\t\t\t'rgba(255, 206, 86, 0.2)',\r\n\t\t\t\t'rgba(75, 192, 192, 0.2)',\r\n\t\t\t\t'rgba(153, 102, 255, 0.2)',\r\n\t\t\t\t'rgba(255, 159, 64, 0.2)',\r\n\t\t\t],\r\n\t\t\tborderColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 1)',\r\n\t\t\t\t'rgba(54, 162, 235, 1)',\r\n\t\t\t\t'rgba(255, 206, 86, 1)',\r\n\t\t\t\t'rgba(75, 192, 192, 1)',\r\n\t\t\t\t'rgba(153, 102, 255, 1)',\r\n\t\t\t\t'rgba(255, 159, 64, 1)',\r\n\t\t\t],\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const getCategoryOptions = () => {\r\n\tconst options = {\r\n\t\tscales: {\r\n\t\t\tyAxes: [{\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t\tsuggestedMin: 0,\r\n\t\t\t\t\t\tsuggestedMax: 1,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\n// Now we can test to see how this would actually look.\r\nexport const testMaxMin = (inputMax, inputAve, inputMin) => {\r\n\tconst data = {\r\n\t\tlabels: ['Joy', 'Anger', 'Sadness', 'Disgust', 'Fear'],\r\n\t\t\tdatasets: [ \r\n\t\t\t{\r\n\t\t\t\tlabel: 'Max',\r\n\t\t\t\tdata: inputMax,\r\n\t\t\t\tbackgroundColor: 'rgba(99, 255, 132, 0.2)',\r\n\t\t\t\tborderColor: 'rgba(99, 255, 132, 1)',\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Ave',\r\n\t\t\t\tdata: inputAve,\r\n\t\t\t\tbackgroundColor: 'rgba(99, 132, 255, 0.2)',\r\n\t\t\t\tborderColor: 'rgba(99, 132, 255, 1)',\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Min',\r\n\t\t\t\tdata: inputMin,\r\n\t\t\t\tbackgroundColor: 'rgba(255, 99, 132, 0.2)',\r\n\t\t\t\tborderColor: 'rgba(255, 99, 132, 1)',\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\n// How can I make this not terrible back here?\r\nexport const testBarMulti = (inputData) => {\r\n\tconst data = {\r\n\tlabels: ['Joy', 'Anger', 'Sadness', 'Disgust', 'Fear'],\r\n\tdatasets: [\r\n\t\t\t{\r\n\t\t\tlabel: '# Above Threshold',\r\n\t\t\tdata: inputData,\r\n\t\t\tbackgroundColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 0.2)',\r\n\t\t\t\t'rgba(54, 162, 235, 0.2)',\r\n\t\t\t\t'rgba(255, 206, 86, 0.2)',\r\n\t\t\t\t'rgba(75, 192, 192, 0.2)',\r\n\t\t\t\t'rgba(153, 102, 255, 0.2)',\r\n\t\t\t\t'rgba(255, 159, 64, 0.2)',\r\n\t\t\t],\r\n\t\t\tborderColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 1)',\r\n\t\t\t\t'rgba(54, 162, 235, 1)',\r\n\t\t\t\t'rgba(255, 206, 86, 1)',\r\n\t\t\t\t'rgba(75, 192, 192, 1)',\r\n\t\t\t\t'rgba(153, 102, 255, 1)',\r\n\t\t\t\t'rgba(255, 159, 64, 1)',\r\n\t\t\t],\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\nexport const testBarMultiOptions = () => {\r\n\tconst options = {\r\n\t\tscales: {\r\n\t\t\tyAxes: [{\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t\tsuggestedMin: 0,\r\n\t\t\t\t\t\tsuggestedMax: 1,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\nexport const stackedBarData = (inputData1, inputData2, inputData3) => {\r\n\tconst data = {\r\n\t\tlabels: ['Value'],\r\n\t\tdatasets: [\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Minimum',\r\n\t\t\t\tdata: inputData1,\r\n\t\t\t\tbackgroundColor: 'rgb(255, 99, 132)',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Average',\r\n\t\t\t\tdata: inputData2,\r\n\t\t\t\tbackgroundColor: 'rgb(54, 162, 235)',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Maximum',\r\n\t\t\t\tdata: inputData3,\r\n\t\t\t\tbackgroundColor: 'rgb(75, 192, 192)',\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\nexport const stackedBarOptions = () => {\r\n\tconst options = {\r\n\t\tscales: {\r\n\t\t\tyAxes: [\r\n\t\t\t\t{\r\n\t\t\t\t\t//stacked: true,\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t\tsuggestedMin: -1,\r\n\t\t\t\t\t\tsuggestedMax: 1,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\txAxes: [\r\n\t\t\t\t{\r\n\t\t\t\t\t//stacked: true,\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\nexport const stacked1BarData1Data = (inputData) => {\r\n\tconst data = {\r\n\t\tlabels: ['Value'],\r\n\t\tdatasets: [\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Value',\r\n\t\t\t\tdata: inputData,\r\n\t\t\t\tbackgroundColor: 'rgb(54, 162, 235)',\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const stackedBarData2Test = (inputData1, inputData2, inputData3) => {\r\n\tconst data = {\r\n\t\tlabels: ['Relevance', 'Sentiment'],\r\n\t\tdatasets: [\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Minimum',\r\n\t\t\t\tdata: inputData1,\r\n\t\t\t\tbackgroundColor: 'rgb(255, 99, 132)',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Average',\r\n\t\t\t\tdata: inputData2,\r\n\t\t\t\tbackgroundColor: 'rgb(54, 162, 235)',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Maximum',\r\n\t\t\t\tdata: inputData3,\r\n\t\t\t\tbackgroundColor: 'rgb(75, 192, 192)',\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const stacked2BarData1Data = (inputData) => {\r\n\tconst data = {\r\n\t\tlabels: ['Relevance', 'Sentiment'],\r\n\t\tdatasets: [\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Value',\r\n\t\t\t\tdata: inputData,\r\n\t\t\t\tbackgroundColor: 'rgb(54, 162, 235)',\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const stackedBarData3Test = (inputData1, inputData2, inputData3) => {\r\n\tconst data = {\r\n\t\tlabels: ['Confidence', 'Relevance', 'Sentiment'],\r\n\t\tdatasets: [\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Minimum',\r\n\t\t\t\tdata: inputData1,\r\n\t\t\t\tbackgroundColor: 'rgb(255, 99, 132)',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Average',\r\n\t\t\t\tdata: inputData2,\r\n\t\t\t\tbackgroundColor: 'rgb(54, 162, 235)',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Maximum',\r\n\t\t\t\tdata: inputData3,\r\n\t\t\t\tbackgroundColor: 'rgb(75, 192, 192)',\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const stacked3BarData1Data = (inputData) => {\r\n\tconst data = {\r\n\t\tlabels: ['Confidence', 'Relevance', 'Sentiment'],\r\n\t\tdatasets: [\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Value',\r\n\t\t\t\tdata: inputData,\r\n\t\t\t\tbackgroundColor: 'rgb(54, 162, 235)',\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\n\r\nexport const sentimentBarData = (inputData) => {\r\n\tconst data = {\r\n\t\tlabels: ['Positive', 'Negative'],\r\n\t\tdatasets: [\r\n\t\t\t{\r\n\t\t\tlabel: '# Above Threshold',\r\n\t\t\tdata: inputData,\r\n\t\t\tbackgroundColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 0.2)',\r\n\t\t\t\t'rgba(54, 162, 235, 0.2)',\r\n\t\t\t\t'rgba(255, 206, 86, 0.2)',\r\n\t\t\t\t'rgba(75, 192, 192, 0.2)',\r\n\t\t\t\t'rgba(153, 102, 255, 0.2)',\r\n\t\t\t\t'rgba(255, 159, 64, 0.2)',\r\n\t\t\t],\r\n\t\t\tborderColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 1)',\r\n\t\t\t\t'rgba(54, 162, 235, 1)',\r\n\t\t\t\t'rgba(255, 206, 86, 1)',\r\n\t\t\t\t'rgba(75, 192, 192, 1)',\r\n\t\t\t\t'rgba(153, 102, 255, 1)',\r\n\t\t\t\t'rgba(255, 159, 64, 1)',\r\n\t\t\t],\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\nexport const sentimentBarOptions = () => {\r\n\tconst options = {\r\n\t\tscales: {\r\n\t\t\tyAxes: [{\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t\tsuggestedMin: 0,\r\n\t\t\t\t\t\tsuggestedMax: 1,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\nexport const frequencyBarData = ( inputData ) => {\r\n\t\r\n\t//console.log(inputData)\r\n\t\r\n\tlet labelsSet = []\r\n\tlet dataSet = []\r\n\tfor (let index in inputData) {\r\n\t\tlabelsSet.push( index )\r\n\t\tdataSet.push( inputData[index] )\r\n\t}\r\n\t\r\n\tconst data = {\r\n\t\tlabels: labelsSet,\r\n\t\tdatasets: [\r\n\t\t\t{\r\n\t\t\tlabel: ['# Obtained'],\r\n\t\t\tdata: dataSet,\r\n\t\t\tbackgroundColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 0.2)',\r\n\t\t\t\t'rgba(54, 162, 235, 0.2)',\r\n\t\t\t\t'rgba(255, 206, 86, 0.2)',\r\n\t\t\t\t'rgba(75, 192, 192, 0.2)',\r\n\t\t\t\t'rgba(153, 102, 255, 0.2)',\r\n\t\t\t\t'rgba(255, 159, 64, 0.2)',\r\n\t\t\t],\r\n\t\t\tborderColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 1)',\r\n\t\t\t\t'rgba(54, 162, 235, 1)',\r\n\t\t\t\t'rgba(255, 206, 86, 1)',\r\n\t\t\t\t'rgba(75, 192, 192, 1)',\r\n\t\t\t\t'rgba(153, 102, 255, 1)',\r\n\t\t\t\t'rgba(255, 159, 64, 1)',\r\n\t\t\t],\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\nexport const getBarOptionsFreq = () => {\r\n\tconst options = {\r\n\t\tscales: {\r\n\t\t\tyAxes: [{\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t\tsuggestedMin: 0,\r\n\t\t\t\t\t\t//suggestedMax: 1,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\n// -------------------------------This is where my template stuff is ---------------------------------------------------------------\r\nexport const getDoughData = (inputData) => {\r\n\tconst data = {\r\n\t\tlabels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],\r\n\t\tdatasets: [\r\n\t\t\t{\r\n\t\t\t\tlabel: '# of Votes',\r\n\t\t\t\tdata: inputData,\r\n\t\t\t\tbackgroundColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 0.2)',\r\n\t\t\t\t'rgba(54, 162, 235, 0.2)',\r\n\t\t\t\t'rgba(255, 206, 86, 0.2)',\r\n\t\t\t\t'rgba(75, 192, 192, 0.2)',\r\n\t\t\t\t'rgba(153, 102, 255, 0.2)',\r\n\t\t\t\t'rgba(255, 159, 64, 0.2)',\r\n\t\t\t],\r\n\t\t\t\tborderColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 1)',\r\n\t\t\t\t'rgba(54, 162, 235, 1)',\r\n\t\t\t\t'rgba(255, 206, 86, 1)',\r\n\t\t\t\t'rgba(75, 192, 192, 1)',\r\n\t\t\t\t'rgba(153, 102, 255, 1)',\r\n\t\t\t\t'rgba(255, 159, 64, 1)',\r\n\t\t\t],\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const getDoughOptions = () => {\r\n\tconst options = {\r\n\t\tcutoutPercentage: 50,\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\nexport const getRadarData = (inputData) => {\r\n\tconst data = {\r\n\t\tlabels: ['Thing 1', 'Thing 2', 'Thing 3', 'Thing 4', 'Thing 5', 'Thing 6'],\r\n\t\t\tdatasets: [ \r\n\t\t\t{\r\n\t\t\t\tlabel: '# of Votes',\r\n\t\t\t\tdata: inputData,\r\n\t\t\t\tbackgroundColor: 'rgba(99, 255, 132, 0.2)',\r\n\t\t\t\tborderColor: 'rgba(99, 255, 132, 1)',\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const getRadarOptions = () => {\r\n\tconst options = {\r\n\t  scale: {\r\n\t\tticks: { beginAtZero: true },\r\n\t  },\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\nexport const getLineData = (inputData, inputData2) => {\r\n\tconst data = {\r\n\t\tlabels: ['Thing 1', 'Thing 2', 'Thing 3', 'Thing 4', 'Thing 5', 'Thing 6'],\r\n\t\t\tdatasets: [ \r\n\t\t\t{\r\n\t\t\t\tlabel: '# of Votes',\r\n\t\t\t\tdata: inputData,\r\n\t\t\t\tfill: false,\r\n\t\t\t\tbackgroundColor: 'rgb(99, 255, 132)',\r\n\t\t\t\tborderColor: 'rgba(99, 255, 132, 0.2)',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: '# of Votes2',\r\n\t\t\t\tdata: inputData2,\r\n\t\t\t\tfill: false,\r\n\t\t\t\tbackgroundColor: 'rgb(255, 99, 132)',\r\n\t\t\t\tborderColor: 'rgba(255, 99, 132, 0.2)',\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const getLineOptions = () => {\r\n\tconst options = {\r\n\t\tscales: {\r\n\t\t\tyAxes: [\r\n\t\t\t\t{\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\nexport const getBarData = (inputData) => {\r\n\tconst data = {\r\n\tlabels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],\r\n\tdatasets: [\r\n\t\t\t{\r\n\t\t\tlabel: '# of Votes',\r\n\t\t\tdata: inputData,\r\n\t\t\tbackgroundColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 0.2)',\r\n\t\t\t\t'rgba(54, 162, 235, 0.2)',\r\n\t\t\t\t'rgba(255, 206, 86, 0.2)',\r\n\t\t\t\t'rgba(75, 192, 192, 0.2)',\r\n\t\t\t\t'rgba(153, 102, 255, 0.2)',\r\n\t\t\t\t'rgba(255, 159, 64, 0.2)',\r\n\t\t\t],\r\n\t\t\tborderColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 1)',\r\n\t\t\t\t'rgba(54, 162, 235, 1)',\r\n\t\t\t\t'rgba(255, 206, 86, 1)',\r\n\t\t\t\t'rgba(75, 192, 192, 1)',\r\n\t\t\t\t'rgba(153, 102, 255, 1)',\r\n\t\t\t\t'rgba(255, 159, 64, 1)',\r\n\t\t\t],\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const getBarOptions = () => {\r\n\tconst options = {\r\n\t\tscales: {\r\n\t\t\tyAxes: [{\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\nexport const getScatterData = (inputData, inputData2) => {\r\n\tconst data = {\r\n\t\tlabels: ['Thing 1', 'Thing 2', 'Thing 3', 'Thing 4', 'Thing 5', 'Thing 6'],\r\n\t\t\tdatasets: [ \r\n\t\t\t{\r\n\t\t\t\tlabel: '# of Votes',\r\n\t\t\t\tdata: inputData,\r\n\t\t\t\tbackgroundColor: 'rgba(99, 255, 132, 0.2)',\r\n\t\t\t\tborderColor: 'rgba(99, 255, 132, 1)',\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: '# of Votes2',\r\n\t\t\t\tdata: inputData2,\r\n\t\t\t\tbackgroundColor: 'rgba(255, 99, 132, 0.2)',\r\n\t\t\t\tborderColor: 'rgba(255, 99, 132, 1)',\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const getScatterOptions = () => {\r\n\tconst options = {\r\n\t\tscales: {\r\n\t\t\tyAxes: [{\r\n\t\t\t\tticks: {\r\n\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t},\r\n\t\t\t},],\r\n\t\t},\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { slide as Menu } from 'react-burger-menu';\r\n\r\nconst validStates = [0,1]\r\n\r\nexport class Sidebar extends React.Component {\r\n\r\n\tconstructor(props) {\r\n        super(props);\r\n\t\tthis.state = {\r\n\t\t\t\r\n\t\t\tenabled:false,\r\n\t\t\tdisplayState:0,\r\n\t\t\t\r\n\t\t\tshowUserActions:true,\r\n\t\t\tshowUserEmailScan:false,\r\n\t\t\t\r\n\t\t\tshowCompanyDataFlag:true,\r\n\t\t\tshowCompanyEmailFlag:false,\r\n\t\t\tshowCompanySettingsFlag:false,\r\n\t\t\t\r\n\t\t\tcurrentCompanyName:\"No Company!\",\r\n\t\t\tcurrentUserName:\"No User!\",\r\n\t\t}\r\n\t}\r\n\t\r\n\tsetUserFlag = (nextThing) => {\r\n\t\tif (typeof nextThing !== \"number\") {\r\n\t\t\treturn false\r\n\t\t}\r\n\t\t\r\n\t\tif (nextThing === -1) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tshowUserActions: false,\r\n\t\t\t\tshowUserEmailScan: false,\r\n\t\t\t})\r\n\t\t}\r\n\t\telse if (nextThing === 0) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tshowUserActions: true,\r\n\t\t\t})\r\n\t\t}\r\n\t\telse if (nextThing === 1) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tshowUserEmailScan: true,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\t\r\n\tsetCompanyFlag = (nextThing) => {\r\n\t\tif (typeof nextThing !== \"number\") {\r\n\t\t\treturn false\r\n\t\t}\r\n\t\t\r\n\t\tif (nextThing === -1) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tshowCompanyDataFlag: false,\r\n\t\t\t\tshowCompanyEmailFlag: false,\r\n\t\t\t\tshowCompanySettingsFlag: false,\r\n\t\t\t})\r\n\t\t}\r\n\t\telse if (nextThing === 0) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tshowCompanyDataFlag: true,\r\n\t\t\t})\r\n\t\t}\r\n\t\telse if (nextThing === 1) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tshowCompanyEmailFlag: true,\r\n\t\t\t})\r\n\t\t}\r\n\t\telse if (nextThing === 2) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tshowCompanySettingsFlag: true,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\t\r\n\tsetCompanyName = (name) => {\r\n\t\tthis.setState({\r\n\t\t\tcurrentCompanyName: name,\r\n\t\t})\r\n\t}\r\n\t\r\n\tsetUserName = (name) => {\r\n\t\tthis.setState({\r\n\t\t\tcurrentUserName: name,\r\n\t\t})\r\n\t}\r\n\t\r\n\tdisableMenu = () => {\r\n\t\t//console.log(\"Disable Menu\")\r\n\t\tthis.setState({\r\n\t\t\tenabled: false,\r\n\t\t})\r\n\t}\r\n\t\r\n\tactivateMenu = (reqState) => {\r\n\t\t//console.log(\"Activate Menu\")\r\n\t\t//console.log(reqState)\r\n\t\tlet foundState = validStates.find(element => element === reqState);\r\n\t\t\r\n\t\tif (foundState !== undefined) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tenabled:true,\r\n\t\t\t\tdisplayState: reqState,\r\n\t\t\t})\r\n\t\t\treturn true\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.setState({\r\n\t\t\t\tenabled:false,\r\n\t\t\t})\r\n\t\t\treturn false\r\n\t\t}\r\n\t}\r\n\t\r\n\t/*\r\n\t<Link className=\"list-group-item list-group-item-light\" to={this.props.basePath+\"/dashboard/companyMode/companyWeb\"} key=\"4\">\r\n\t\tEmail Scan Settings\r\n\t</Link>,\r\n\t*/\r\n\t\r\n\trender() {\r\n\t\t\r\n\t\tlet displayMenu = []\r\n\t\t\r\n\t\tswitch(this.state.displayState) {\r\n\t\t\tcase 0:\r\n\t\t\t\tdisplayMenu.push(\r\n\t\t\t\t\t<div className=\"list-group-item list-group-item-secondary\" key=\"1\">\r\n\t\t\t\t\t\t<h4>\r\n\t\t\t\t\t\t\t{this.state.currentUserName}\r\n\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\t\tif (this.state.showUserActions) {\r\n\t\t\t\t\tdisplayMenu.push(\r\n\t\t\t\t\t\t<Link className=\"list-group-item\" to={this.props.basePath+\"/dashboard/userMode/journalWrite\"} key=\"2\">\r\n\t\t\t\t\t\t\tMake Today's Journal\r\n\t\t\t\t\t\t</Link>,\r\n\t\t\t\t\t\t<Link className=\"list-group-item\" to={this.props.basePath+\"/dashboard/userMode/journalRead\"} key=\"3\">\r\n\t\t\t\t\t\t\tView past Journals\r\n\t\t\t\t\t\t</Link>,\r\n\t\t\t\t\t\t<Link className=\"list-group-item\" to={this.props.basePath+\"/dashboard/userMode/writeSuggestion\"} key=\"4\">\r\n\t\t\t\t\t\t\tMake Suggestions\r\n\t\t\t\t\t\t</Link>,\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tdisplayMenu.push(\r\n\t\t\t\t\t<div className=\"list-group-item list-group-item-secondary\" key=\"5.5\">\r\n\t\t\t\t\t\t<h4>\r\n\t\t\t\t\t\t\tEmail Scanning\r\n\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t</div>,\r\n\t\t\t\t)\r\n\t\t\t\tif (this.state.showUserEmailScan) {\r\n\t\t\t\t\tdisplayMenu.push(\r\n\t\t\t\t\t\t<Link className=\"list-group-item\" to={this.props.basePath+\"/dashboard/userMode/userWeb\"} key=\"6\">\r\n\t\t\t\t\t\t\tView Contact Web\r\n\t\t\t\t\t\t</Link>,\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tdisplayMenu.push(\r\n\t\t\t\t\t<div className=\"list-group-item list-group-item-secondary\" key=\"4.5\">\r\n\t\t\t\t\t\t<h4>\r\n\t\t\t\t\t\t\tSettings\r\n\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t</div>,\r\n\t\t\t\t\t<Link className=\"list-group-item\" to={this.props.basePath+\"/dashboard/userMode/userPrompts\"} key=\"5\">\r\n\t\t\t\t\t\tEdit Personal Events\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t)\r\n\t\t\t\t\r\n\t\t\t\tdisplayMenu.push(\r\n\t\t\t\t\t<Link className=\"list-group-item\" to={this.props.basePath+\"/dashboard/userMode/userSyncSettings\"} key=\"7\">\r\n\t\t\t\t\t\tSync Settings\r\n\t\t\t\t\t</Link>,\r\n\t\t\t\t)\r\n\t\t\t\tbreak;\r\n\t\t\tcase 1:\r\n\t\t\t\tdisplayMenu.push(\r\n\t\t\t\t\t<Link className=\"list-group-item list-group-item-secondary\" to={this.props.basePath+\"/dashboard/companyMode/companySelect\"} key=\"0\">\r\n\t\t\t\t\t\t<h3>\r\n\t\t\t\t\t\t\t{this.state.currentCompanyName}\r\n\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t</Link>,\r\n\t\t\t\t\t<Link className=\"list-group-item list-group-item-light\" to={this.props.basePath+\"/dashboard/companyMode/companySelect\"} key=\"0.5\">\r\n\t\t\t\t\t\t<h5>\r\n\t\t\t\t\t\t\tSelect New Company\r\n\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t)\r\n\t\t\t\tif (this.state.showCompanyDataFlag) {\r\n\t\t\t\t\tdisplayMenu.push(\r\n\t\t\t\t\t\t<Link className=\"list-group-item list-group-item-light\" to={this.props.basePath+\"/dashboard/companyMode/companyEHI\"} key=\"1\">\r\n\t\t\t\t\t\t\t\tView EHI\r\n\t\t\t\t\t\t\t</Link>,\r\n\t\t\t\t\t\t\t<Link className=\"list-group-item list-group-item-light\" to={this.props.basePath+\"/dashboard/companyMode/companySummary\"} key=\"2\">\r\n\t\t\t\t\t\t\t\tView Summaries\r\n\t\t\t\t\t\t\t</Link>,\r\n\t\t\t\t\t\t\t<Link className=\"list-group-item list-group-item-light\" to={this.props.basePath+\"/dashboard/companyMode/companySuggestions\"} key=\"3\">\r\n\t\t\t\t\t\t\t\tView Suggestion Box\r\n\t\t\t\t\t\t</Link>,\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\tif (this.state.showCompanyEmailFlag) {\r\n\t\t\t\t\tdisplayMenu.push(\r\n\t\t\t\t\t\t<div className=\"list-group-item list-group-item-secondary\" key=\"3.5\">\r\n\t\t\t\t\t\t\t<h4>\r\n\t\t\t\t\t\t\t\tEmail Scanning\r\n\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t</div>,\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Link className=\"list-group-item list-group-item-light\" to={this.props.basePath+\"/dashboard/companyMode/companyWeb\"} key=\"4\">\r\n\t\t\t\t\t\t\tView Web (Beta)\r\n\t\t\t\t\t\t</Link>,\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\tif (this.state.showCompanySettingsFlag) {\r\n\t\t\t\t\tdisplayMenu.push(\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<div className=\"list-group-item list-group-item-secondary\" key=\"4.5\">\r\n\t\t\t\t\t\t\t<h4>\r\n\t\t\t\t\t\t\t\tSettings\r\n\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t</div>,\r\n\t\t\t\t\t\t<Link className=\"list-group-item list-group-item-light\" to={this.props.basePath+\"/dashboard/companyMode/companyPrompts\"} key=\"5\">\r\n\t\t\t\t\t\t\tEdit Prompt Events\r\n\t\t\t\t\t\t</Link>,\r\n\t\t\t\t\t\t<Link className=\"list-group-item list-group-item-light\" to={this.props.basePath+\"/dashboard/companyMode/companyInvites\"} key=\"6\">\r\n\t\t\t\t\t\t\tUser Invites\r\n\t\t\t\t\t\t</Link>,\r\n\t\t\t\t\t\t<Link className=\"list-group-item list-group-item-light\" to={this.props.basePath+\"/dashboard/companyMode/companyPerms\"} key=\"7\">\r\n\t\t\t\t\t\t\tPermission Settings\r\n\t\t\t\t\t\t</Link>,\r\n\t\t\t\t\t\t<Link className=\"list-group-item list-group-item-light\" to={this.props.basePath+\"/dashboard/companyMode/companySettings\"} key=\"8\">\r\n\t\t\t\t\t\t\tMisc. Settings\r\n\t\t\t\t\t\t</Link>,\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tdisplayMenu.push(\r\n\t\t\t\t\t<div className=\"list-group\">\r\n\t\t\t\t\t\tInvalid Menu! Oops!\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className=\"menuContainer\">\r\n\t\t\t\t{this.state.enabled &&\r\n\t\t\t\t\t<Menu>\r\n\t\t\t\t\t\t<div className=\"list-group\">\r\n\t\t\t\t\t\t\t<Link className=\"list-group-item list-group-item-dark\" to={this.props.basePath+\"/dashboard\"}>\r\n\t\t\t\t\t\t\t\tDashboard\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t{displayMenu}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Menu>\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}","export const convertScanToWidth = (weight) => {\r\n\t\r\n\t// At these weights it starts lookin bad....\r\n\tconst maxWeight = 7\r\n\tconst minWeight = 1\r\n\t\r\n\t// So, if the weight coming in is just a number.... and we cant set previous ones, what do we do?\r\n\t// I guess I will keep it like this, that the weight of the line goes up to 7 in the length of time...\r\n\t\r\n\tlet cappedWeight = weight\r\n\r\n\tif (cappedWeight > maxWeight) {\r\n\t\tcappedWeight = maxWeight\r\n\t}\r\n\telse if (cappedWeight < minWeight) {\r\n\t\tcappedWeight = minWeight\r\n\t}\r\n\r\n\treturn cappedWeight\r\n}\r\nexport const convertScanToColor = (senti) => {\r\n\t\r\n\tlet red = 0\r\n\tlet green = 0\r\n\tlet blue = 0\r\n\t\r\n\t\r\n\tconst maxSenti = 1\r\n\tconst minSenti = -1\r\n\tlet cappedSenti = senti\r\n\tif (cappedSenti > maxSenti) {\r\n\t\tcappedSenti = maxSenti\r\n\t}\r\n\telse if (cappedSenti < minSenti) {\r\n\t\tcappedSenti = minSenti\r\n\t}\r\n\t\r\n\tif (senti < 0) {\r\n\t\tred = Math.floor(255*(-senti))\r\n\t}\r\n\telse {\r\n\t\tgreen = Math.floor(255*senti)\r\n\t}\r\n\t\r\n\tlet redHex = red.toString(16)\r\n\tif (red < 15) {\r\n\t\t\tredHex = \"0\"+redHex\r\n\t}\r\n\t\r\n\tlet greenHex = green.toString(16)\r\n\tif (green < 15) {\r\n\t\t\tgreenHex = \"0\"+greenHex\r\n\t}\r\n\t\r\n\tlet blueHex = blue.toString(16)\r\n\tif (blue < 15) {\r\n\t\t\tblueHex = \"0\"+blueHex\r\n\t}\r\n\t\r\n\treturn \"#\" + redHex + greenHex + blueHex\r\n}\r\nexport const graphOptions = {\r\n\tnodes: {\r\n\t\tmass:1.1,\r\n\t\tshape: \"box\",\r\n\t\t//shape: \"dot\",\r\n\t\t//size: 10,\r\n\t\t/*\r\n\t\tcolor: {\r\n\t\t\tborder:\"#000000\",\r\n\t\t\tbackground:\"#FFFFFF\",\r\n\t\t},\r\n\t\t*/\r\n\t\t//physics: false\r\n\t\tchosen: {\r\n\t\t\tnode: function(values, id, selected, hovering) {\r\n\t\t\t\tvalues.shadow = true;\r\n\t\t\t\tvalues.color = \"#AAFFAA\";\r\n\t\t\t\t//console.log(values)\r\n\t\t\t},\r\n\t\t\tlabel: function(values, id, selected, hovering) {\r\n\t\t\t\t//console.log(values)\r\n\t\t\t\tvalues.mod = 'bold';\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tedges: {\r\n\t\tcolor: \"#000000\",\r\n\t\tarrowStrikethrough: true,\r\n\t\t//smooth: {\"type\":\"curvedCW\"},\r\n\t\t//smooth: {\"type\":\"continuous\"},\r\n\t\tsmooth: {\"type\":\"dynamic\"},\r\n\t\t//physics: false,\r\n\t\tchosen: {\r\n\t\t\t\r\n\t\t\tedge: function(values, id, selected, hovering) {\r\n\t\t\t\t//console.log(values)\r\n\t\t\t\tvalues.shadow = true;\r\n\t\t\t\t//values.width = 3;\r\n\t\t\t},\r\n\t\t\tlabel: function(values, id, selected, hovering) {\r\n\t\t\t\t//console.log(values)\r\n\t\t\t\tvalues.size = 20;\r\n\t\t\t\tvalues.mod = 'bold';\r\n\t\t\t\t//values.mod = 'italic';\r\n\t\t\t\t\r\n\t\t\t\t//values.strokeWidth = 15;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tlayout: {\r\n\t\thierarchical: false\r\n\t},\r\n\tinteraction:{\r\n\t\thover:true,\r\n\t\tdragNodes: true,\r\n\t},\r\n\tphysics: {\r\n\t\t//enabled: false,\r\n\t\tsolver: 'barnesHut',\r\n\t\tmaxVelocity: 50,\r\n\t\tminVelocity: 0.1,\r\n\t\t\r\n\t\t/*\r\n\t\tbarnesHut: {\r\n\t\t\t\tgravitationalConstant: -80000, \r\n\t\t\t\tspringConstant: 0.001, \r\n\t\t\t\tspringLength: 200\r\n\t\t\t}\r\n\t\t*/\r\n\t},\r\n\theight: \"500px\"\r\n};","import React from \"react\";\r\n\r\nimport { Accordion, Card } from 'react-bootstrap';\r\n\r\nimport { ChevronDown } from 'react-bootstrap-icons';\r\n\r\nexport class ShowWebInfoComponent extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\t\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"showingWebData\">\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<Accordion>\r\n\t\t\t\t\t\t\t<Accordion.Toggle as={Card.Header} className=\"border btn btn-outline-dark btn-block\" variant=\"link\" eventKey=\"open\">\r\n\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-1\">\r\n\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\tWhat am I looking at here?\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-1\">\r\n\t\t\t\t\t\t\t\t\t\t<ChevronDown />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</Accordion.Toggle>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Accordion.Collapse eventKey=\"open\" className=\"border\">\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-\">\r\n\t\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\t\tThis is a <u>'Contact Web'</u>\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\t\tUsers can sync their Microsoft accounts to their Scenere account\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\t\tThey can have their outgoing work emails scanned\r\n\t\t\t\t\t\t\t\t\t\t\tand the results tallied and displayed here\r\n\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\tIf you would like, press \"Load Example data\"\r\n\t\t\t\t\t\t\t\t\t\t\tto see what one looks like\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t<h5>\r\n\t\t\t\t\t\t\t\t\t\t\t<u>The legend is as follows:</u>\r\n\t\t\t\t\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t\t\t\tWhite labels are a tracked user\r\n\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t\t\t\tRed labels are untracked users\r\n\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t\t\t\tThe arrows are average sentiment/Number of emails\r\n\t\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t\tColor and size is according to those values\r\n\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Accordion.Collapse>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</Accordion>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}","// Lets do some local storage fun time tests!\r\nimport Store from \"store\"\r\n\r\nexport * from \"./axiosAPI\"\r\nexport * from \"./graphs\"\r\nexport * from \"./sidebarCustom\"\r\nexport * from \"./networkGraph\"\r\n\r\nexport * from \"./infoDisplayMulti\"\r\nexport * from \"./webLegend\"\r\n\r\nexport const timedLoadStorage = (key) => {\r\n\t\r\n\tlet loadData = Store.get(key)\r\n\r\n\t// Return 0 if there is no key by this name....\r\n\tif (loadData === undefined) {\r\n\t\treturn 0\r\n\t}\r\n\tif (loadData[\"data\"] === undefined) {\r\n\t\tStore.remove(key)\r\n\t\treturn 2\r\n\t}\r\n\t\r\n\t// Return 1 if the it is to \"old\"\r\n\tlet dateSaved = loadData[\"expiryDate\"]\r\n\tlet now = Date.now()\r\n\t\r\n\tif (now > dateSaved) {\r\n\t\t//console.log(\"Expired\")\r\n\t\tStore.remove(key)\r\n\t\treturn 1\r\n\t}\r\n\telse {\r\n\t\t//console.log(\"Allowed\")\r\n\t}\r\n\r\n\treturn loadData[\"data\"]\r\n}\r\nexport const timedSaveStorage = (key, data, length) => {\r\n\r\n\t// Now, How exactly do I determine when the expiry should be?\r\n\t// So, this is local storage, which is still the single WORST PLACE TO PUT THIS\r\n\t// However, I will wait for next version before I change that\r\n\ttry {\r\n\t\tlet storageTime = new Date()\r\n\t\t\r\n\t\tif (length === 0) {\r\n\t\t\tstorageTime.setHours(storageTime.getHours()+6)\r\n\t\t}\r\n\t\telse if (length === 1) {\r\n\t\t\tstorageTime.setDate(storageTime.getDate()+1)\r\n\t\t}\r\n\t\telse if (length === 2) {\r\n\t\t\tstorageTime.setDate(storageTime.getDate()+7)\r\n\t\t}\r\n\t\telse {\r\n\t\t\t// BASIC!\r\n\t\t\tstorageTime.setSeconds(storageTime.getSeconds()+90)\r\n\t\t}\r\n\t\t\r\n\t\tlet storeData = {\"expiryDate\":storageTime.getTime(), \"data\":data}\r\n\t\tStore.set(key, storeData)\r\n\t} catch (error) {\r\n\t\treturn false\r\n\t}\r\n\r\n\treturn true\r\n}\r\nexport const clearStorage = () => {\r\n\t//console.log(\"Clearing Data...\")\r\n\tStore.clearAll()\r\n\t//console.log(\"Done!\")\r\n\t\r\n\treturn false\r\n}\r\nexport const cleanStorageKeys = () => {\r\n\t//console.log(\"Cleaning Storage contents...\")\r\n\t//let checkValue = 0\r\n\tStore.each(function(value, key) {\r\n\t\t//console.log(key, '==', value)\r\n\t\t\r\n\t\tlet dateSaved = value[\"expiryDate\"]\r\n\t\tlet now = Date.now()\r\n\t\tif (now > dateSaved) {\r\n\t\t\t//console.log(\"Found Expired Key!\")\r\n\t\t\tStore.remove(key)\r\n\t\t\t//checkValue += 1\r\n\t\t}\r\n\t})\r\n\t//console.log(\"Done!\")\r\n\t//console.log(\"Num Cleaned Values:\")\r\n\t//console.log(checkValue)\r\n\t\r\n\treturn false\r\n}\r\n\r\nexport const displayStorageContents = () => {\r\n\tconsole.log(\"Showing Storage contents:\")\r\n\tStore.each(function(value, key) {\r\n\t\tconsole.log(key, '==', value)\r\n\t})\r\n\tconsole.log(\"Done!\")\r\n\t\r\n\treturn false\r\n}\r\n\r\nexport const deleteStorageKey = (key) => {\r\n\tStore.remove(key)\r\n}\r\n\r\n// THIS IS EXAMPLE COMPANY TEST DATA!!!\r\nconst makeCompanyDaydata = () => {\r\n\t\r\n\tlet dayData = {\r\n\t\t\temotion: { \r\n\t\t\t\tmax:{joy:Math.random(), anger:Math.random(), sadness:Math.random(), disgust:Math.random(), fear:Math.random()}, \r\n\t\t\t\tmin:{joy:Math.random(), anger:Math.random(), sadness:Math.random(), disgust:Math.random(), fear:Math.random()}, \r\n\t\t\t\tave:{joy:Math.random(), anger:Math.random(), sadness:Math.random(), disgust:Math.random(), fear:Math.random()},\r\n\t\t\t\t\r\n\t\t\t\tthreshold:{joy:Math.random(), anger:Math.random(), sadness:Math.random(), disgust:Math.random(), fear:Math.random()},\r\n\t\t\t},\r\n\t\t\tsentiment: {\r\n\t\t\t\tmax:2*Math.random()-1, \r\n\t\t\t\tmin:2*Math.random()-1, \r\n\t\t\t\tave:2*Math.random()-1,\r\n\t\t\t\t\r\n\t\t\t\tthresholdPos:Math.random(),\r\n\t\t\t\tthresholdNeg:Math.random(),\r\n\t\t\t},\r\n\t\t\tentities: [\r\n\t\t\t\t{text:\"Example Entity\", \r\n\t\t\t\t\tcount:12,\r\n\t\t\t\t\ttype:\"Whatever\",\r\n\t\t\t\t\tconfidence:{ \r\n\t\t\t\t\t\tmax:Math.random(), \r\n\t\t\t\t\t\tmin:Math.random(), \r\n\t\t\t\t\t\tave:Math.random(),\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tstd:Math.random(),\r\n\t\t\t\t\t},\r\n\t\t\t\t\trelevance:{\r\n\t\t\t\t\t\tmax:Math.random(),\r\n\t\t\t\t\t\tmin:Math.random(),\r\n\t\t\t\t\t\tave:Math.random(),\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tstd:Math.random(),\r\n\t\t\t\t\t},\r\n\t\t\t\t\temotion:{\r\n\t\t\t\t\t\tmax:{joy:Math.random(), anger:Math.random(), sadness:Math.random(), disgust:Math.random(), fear:Math.random()},\r\n\t\t\t\t\t\tmin:{joy:Math.random(), anger:Math.random(), sadness:Math.random(), disgust:Math.random(), fear:Math.random()},\r\n\t\t\t\t\t\tave:{joy:Math.random(), anger:Math.random(), sadness:Math.random(), disgust:Math.random(), fear:Math.random()},\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tstd:{joy:Math.random(), anger:Math.random(), sadness:Math.random(), disgust:Math.random(), fear:Math.random()},\r\n\t\t\t\t\t}, \r\n\t\t\t\t\tsentiment:{\r\n\t\t\t\t\t\tmax:2*Math.random()-1, \r\n\t\t\t\t\t\tmin:2*Math.random()-1, \r\n\t\t\t\t\t\tave:2*Math.random()-1,\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tstd:Math.random(),\r\n\t\t\t\t\t},\r\n\t\t\t\t}, \r\n\t\t\t],\r\n\t\t\tkeywords: [\r\n\t\t\t\t{text:\"Example Keyword\", \r\n\t\t\t\t\tcount:6, \r\n\t\t\t\t\t\r\n\t\t\t\t\trelevance:{\r\n\t\t\t\t\t\tmax:Math.random(),\r\n\t\t\t\t\t\tmin:Math.random(),\r\n\t\t\t\t\t\tave:Math.random(),\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tstd:Math.random(),\r\n\t\t\t\t\t}, \r\n\t\t\t\t\temotion:{\r\n\t\t\t\t\t\tmax:{joy:Math.random(), anger:Math.random(), sadness:Math.random(), disgust:Math.random(), fear:Math.random()},\r\n\t\t\t\t\t\tmin:{joy:Math.random(), anger:Math.random(), sadness:Math.random(), disgust:Math.random(), fear:Math.random()},\r\n\t\t\t\t\t\tave:{joy:Math.random(), anger:Math.random(), sadness:Math.random(), disgust:Math.random(), fear:Math.random()},\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tstd:{joy:Math.random(), anger:Math.random(), sadness:Math.random(), disgust:Math.random(), fear:Math.random()},\r\n\t\t\t\t\t}, \r\n\t\t\t\t\tsentiment:{\r\n\t\t\t\t\t\tmax:2*Math.random()-1, \r\n\t\t\t\t\t\tmin:2*Math.random()-1, \r\n\t\t\t\t\t\tave:2*Math.random()-1,\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tstd:Math.random(),\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\trelations: [\r\n\t\t\t\t{type:\"didTo\", \r\n\t\t\t\t\tcount:4, \r\n\t\t\t\t\tscore:{\r\n\t\t\t\t\t\tmax:2*Math.random()-1, \r\n\t\t\t\t\t\tmin:2*Math.random()-1, \r\n\t\t\t\t\t\tave:2*Math.random()-1,\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tstd:Math.random(),\r\n\t\t\t\t\t}, \r\n\t\t\t\t\targuments:[{text:\"person1\"},{text:\"person2\"}] \r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t}\r\n\treturn dayData\r\n}\r\n\r\nexport const makeCompanyTestDataOtherFormat = () => {\r\n\t\r\n\tconst testData = {\r\n\t\tmon: {\r\n\t\t\tresponsePurity: 90,\r\n\t\t\tp1: {\r\n\t\t\t\tname:\"Prompt 1 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp2: {\r\n\t\t\t\tname:\"Prompt 2 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp3: {\r\n\t\t\t\tname:\"Prompt 3 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp4: {\r\n\t\t\t\tname:\"Prompt 4 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t},\r\n\t\ttue: {\r\n\t\t\tresponsePurity: 23,\r\n\t\t\tp1: {\r\n\t\t\t\tname:\"Prompt 1 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp2: {\r\n\t\t\t\tname:\"Prompt 2 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp3: {\r\n\t\t\t\tname:\"Prompt 3 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp4: {\r\n\t\t\t\tname:\"Prompt 4 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t},\r\n\t\twed: {\r\n\t\t\tresponsePurity: 55,\r\n\t\t\tp1: {\r\n\t\t\t\tname:\"Prompt 1 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp2: {\r\n\t\t\t\tname:\"Prompt 2 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp3: {\r\n\t\t\t\tname:\"Prompt 3 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp4: {\r\n\t\t\t\tname:\"Prompt 4 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t},\r\n\t\tthu: {\r\n\t\t\tresponsePurity: 78,\r\n\t\t\tp1: {\r\n\t\t\t\tname:\"Prompt 1 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp2: {\r\n\t\t\t\tname:\"Prompt 2 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp3: {\r\n\t\t\t\tname:\"Prompt 3 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp4: {\r\n\t\t\t\tname:\"Prompt 4 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t},\r\n\t\tfri: {\r\n\t\t\tresponsePurity: 34,\r\n\t\t\tp1: {\r\n\t\t\t\tname:\"Prompt 1 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp2: {\r\n\t\t\t\tname:\"Prompt 2 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp3: {\r\n\t\t\t\tname:\"Prompt 3 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp4: {\r\n\t\t\t\tname:\"Prompt 4 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t}\r\n\t\t},\r\n\t\tsat: {\r\n\t\t\tresponsePurity: 90,\r\n\t\t\tp1: {\r\n\t\t\t\tname:\"Prompt 1 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp2: {\r\n\t\t\t\tname:\"Prompt 2 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp3: {\r\n\t\t\t\tname:\"Prompt 3 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp4: {\r\n\t\t\t\tname:\"Prompt 4 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t}\r\n\t\t},\r\n\t\tsun: {\r\n\t\t\tresponsePurity: 90,\r\n\t\t\tp1: {\r\n\t\t\t\tname:\"Prompt 1 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp2: {\r\n\t\t\t\tname:\"Prompt 2 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp3: {\r\n\t\t\t\tname:\"Prompt 3 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp4: {\r\n\t\t\t\tname:\"Prompt 4 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t}\r\n\t\t},\r\n\t\tallDay: {\r\n\t\t\tresponsePurity: 90,\r\n\t\t\tp1: {\r\n\t\t\t\tname:\"Prompt 1 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp2: {\r\n\t\t\t\tname:\"Prompt 2 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp3: {\r\n\t\t\t\tname:\"Prompt 3 Full Name!!2\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp4: {\r\n\t\t\t\tname:\"Prompt 4 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\t\t\r\n\treturn testData\r\n}","import React from \"react\";\r\n\r\nexport class WebLegend extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\t\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"webLegendView\">\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t<ul className=\"list-group\">\r\n\t\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t\t<span className=\"border legend-test m-2\">-</span>\r\n\t\t\t\t\t\t\t(White Background)\r\n\t\t\t\t\t\t\tTracked User\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t\t<span className=\"border legend-test\">-</span>\r\n\t\t\t\t\t\t\t(Red Background)\r\n\t\t\t\t\t\t\tUntracked User\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t\t(Red Arrow)\r\n\t\t\t\t\t\t\tLow Overall Sentiment\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t\t(Green Arrow)\r\n\t\t\t\t\t\t\tHigh Overall Sentiment\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t\t(Thin Arrow)\r\n\t\t\t\t\t\t\tLow Email Amount\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t\t(Thick Arrow)\r\n\t\t\t\t\t\t\tHigh Email Amount\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}","import React from \"react\";\r\n\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport { Alert } from 'react-bootstrap';\r\n\r\nimport { APISignIn } from \"../../utils\";\r\n\r\nconst debugPagename = \"SignIn\"\r\n\r\nclass signIn extends React.Component {\r\n\r\n\t// Lets test this out, before we move this over to the App js file\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n          \r\n\t\t\t// Lets do a state machine for the sake of it...\r\n\t\t\t// 0 is \"No result given yet\"\r\n\t\t\t// 1+ would be error codes...\r\n\t\t\t// How can I change this screen as per this?\r\n\t\t\t// Eh, thats later...\r\n\t\t\tsignInState: 0,\r\n\t\t\t\r\n\t\t\t// Switches to display errors on the front page\r\n\t\t\t// Hm, this seems a little bad.... Can I mesh these together while still being readable?\r\n\t\t\tusernameError: false,\r\n\t\t\temailError: false,\r\n\t\t\tpasswordError: false,\r\n\t\t\tisWrongError: false,\r\n\t\t\t\r\n\t\t\tnetworkError: false,\t\t\t\r\n\t\t\tmiscError: false,\r\n\t\t  \r\n\t\t\tsignInEmailMode: false,\r\n\t\t  \r\n\t\t\temail: '',\r\n\t\t\tusername: '',\r\n\t\t\t\r\n\t\t\t// This needs to be hashed as fast as possible...\r\n\t\t\t// But I will worry about security...\r\n\t\t\t// Just note that this is probobly a bad idea...\r\n\t\t\tpassword: '',\r\n\t\t\t\r\n\t\t\tremember: false,\r\n\t\t\t\r\n        };\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\t\r\n\t};\r\n\t\r\n\tresetErrors = () => {\r\n\t\tthis.setState({\r\n\t\t\tusernameError: false,\r\n\t\t\tpasswordError: false,\r\n\t\t\tisWrongError: false,\r\n\t\t\tnetworkError: false,\t\t\t\r\n\t\t\tmiscError: false,\r\n\t\t})\r\n\t}\r\n\t\r\n\tuserFieldChange = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tusername: event.target.value,\r\n\t\t})\r\n\t\tthis.resetErrors()\r\n\t}\r\n\t\r\n\temailFieldChange = (event) => {\r\n\t\tthis.setState({\r\n\t\t\temail: event.target.value,\r\n\t\t})\r\n\t\tthis.resetErrors()\r\n\t}\r\n\t\r\n\tpassFieldChange = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tpassword: event.target.value,\r\n\t\t})\r\n\t\tthis.resetErrors()\r\n\t}\r\n\t\r\n\tremFieldChange = (event) => {\r\n\r\n\t\tthis.setState({\r\n\t\t\tremember: !this.state.remember,\r\n\t\t})\r\n\t\tthis.resetErrors()\r\n\t}\r\n\t\r\n\thandleSubmitFailure = (responseData) => {\r\n\t\t\r\n\t\tlet networkErrorFlag = false\r\n\t\t\r\n\t\tlet usernameErrorFlag = false\r\n\t\tlet passwordErrorFlag = false\r\n\t\tlet isWrongErrorFlag = false\r\n\t\t\r\n\t\tlet unhandledErrorFlag = false\r\n\t\tlet serverErrorFlag = false\r\n\t\t\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\tnetworkErrorFlag = true\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\t\t\tfor (let index in responseData['messages']) {\r\n\t\t\t\tif (responseData['messages'][index]['mod'] === 1) {\r\n\t\t\t\t\tusernameErrorFlag = true\r\n\t\t\t\t}\r\n\t\t\t\telse if (responseData['messages'][index]['mod'] === 2) {\r\n\t\t\t\t\tpasswordErrorFlag = true\r\n\t\t\t\t} \r\n\t\t\t\telse if (responseData['messages'][index]['mod'] === 3) {\r\n\t\t\t\t\tisWrongErrorFlag = true\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tunhandledErrorFlag = true\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\t\t\tserverErrorFlag = true\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\t\t\tserverErrorFlag = true\r\n\t\t}\r\n\t\t\r\n\t\tthis.props.debugSet(debugPagename, \"Failed!\", String(responseData[\"action\"]))\r\n\t\tthis.setState({\r\n\t\t\t\r\n\t\t\tnetworkError: networkErrorFlag,\r\n\t\t\t\t\r\n\t\t\tusernameError: usernameErrorFlag,\r\n\t\t\tpasswordError: passwordErrorFlag,\r\n\t\t\tisWrongError: isWrongErrorFlag,\r\n\t\t\t\t\t\r\n\t\t\tunhandledError: unhandledErrorFlag,\r\n\t\t\tserverError: serverErrorFlag,\r\n\t\t\t\r\n\t\t\tsignInState:3,\r\n\t\t})\r\n\t}\r\n\thandleSubmitSuccess = (incomingToken) => {\r\n\r\n\t\tlet accessToken = incomingToken.access\r\n\t\t\r\n\t\t// Uh Oh, the displayname will be wrong here...\r\n\t\t// Esspecially since the Displayed Username is NOT case sensitive on the other side\r\n\t\tlet displayName = this.state.username\r\n\t\t//.toLowerCase()\r\n\t\tif (this.state.signInEmailMode) {\r\n\t\t\tdisplayName = this.state.email\r\n\t\t}\r\n\r\n\t\tlet sanityCheck = this.props.loginSave( accessToken, displayName, this.state.remember )\r\n\t\tif (sanityCheck) {\r\n\t\t\t/*\r\n\t\t\tthis.setState({\r\n\t\t\t\tsignInState:2,\r\n\t\t\t})\r\n\t\t\t*/\r\n\r\n\t\t\tthis.props.debugSet(debugPagename, \"Function\", \"Login Success\")\r\n\t\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\t}\r\n\t\telse {\r\n\t\t\t//console.log(\"Token Set on OUR END Failed..?\")\r\n\t\t\tthis.setState({\r\n\t\t\t\tsignInState:3,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\thandleSubmit = event => {\r\n\t\t\r\n\t\tlet usedName = this.state.username\r\n\t\tif (this.state.signInEmailMode) {\r\n\t\t\tusedName = this.state.email\r\n\t\t}\r\n\t\t\r\n\t\tAPISignIn(this.state.signInEmailMode, usedName, this.state.password, this.handleSubmitSuccess, this.handleSubmitFailure)\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tsignInState:1,\r\n\t\t})\r\n\t\t\r\n\t\tevent.preventDefault();\t\t\r\n\t}\r\n\t\r\n\trender() {\r\n\t\r\n\t\tlet emailClass = ''\r\n\t\tif (this.state.emailError || this.state.isWrongError) {\r\n\t\t\temailClass = 'bg-warning'\r\n\t\t}\r\n\t\r\n\t\tlet usernameClass = ''\r\n\t\tif (this.state.usernameError || this.state.isWrongError) {\r\n\t\t\tusernameClass = 'bg-warning'\r\n\t\t}\r\n\t\t\r\n\t\tlet passwordClass = ''\r\n\t\tif (this.state.passwordError || this.state.isWrongError) {\r\n\t\t\tpasswordClass = 'bg-warning'\r\n\t\t}\r\n\t\t\r\n\t\t//let show0 = this.state.signInState === 0\r\n\t\tlet show1 = this.state.signInState === 1\r\n\t\t//let show2 = this.state.signInState === 2\r\n\t\t//let show3 = this.state.signInState === 3\r\n\t\r\n\t\treturn (\r\n\t\t\t<div className='container text-center'>\r\n\r\n\t\t\t\t<form onSubmit={this.handleSubmit} >\r\n\t\t\t\t\t<h3>Sign In</h3>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<p className=\"text-danger\">{this.state.isWrongError ? \"Email and/or Password are incorrect\":\"\"}</p>\r\n\t\t\t\t\t\r\n\t\t\t\t\t{this.state.signInEmailMode ?\r\n\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t<label>Email</label>\r\n\t\t\t\t\t\t\t<input type='text' className={'form-control '+emailClass} value={this.state.email} onChange={this.emailFieldChange} placeholder='Enter Email' />\r\n\t\t\t\t\t\t\t<p className=\"text-danger\">{this.state.emailError ? \"Email cant be blank\":\"\"}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t:\r\n\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t<label>Username</label>\r\n\t\t\t\t\t\t\t<input type='text' className={'form-control '+usernameClass} value={this.state.username} onChange={this.userFieldChange} placeholder='Enter Username' />\r\n\t\t\t\t\t\t\t<p className=\"text-danger\">{this.state.usernameError ? \"Username cant be blank\":\"\"}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<label>Password</label>\r\n\t\t\t\t\t\t<input type='password' className={'form-control '+passwordClass} value={this.state.password} onChange={this.passFieldChange} placeholder='Enter password' />\r\n\t\t\t\t\t\t<p className=\"text-danger\">{this.state.passwordError ? \"Password cannot be blank\":\"\"}</p>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<label className='form-control-label' htmlFor='customCheck1' >Keep Me Logged In</label>\r\n\t\t\t\t\t\t<input type='checkbox' className='form-control-input' id='customCheck1' value={this.state.remember} onChange={this.remFieldChange} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t{this.state.miscError ? <p className=\"text-danger border\">Unknown Error</p>:undefined}\r\n\t\t\t\t\t{this.state.networkError ? <p className=\"bg-warning text-danger border\">Server cannot be reached!</p>:undefined}\r\n\t\t\t\t\t<button type='submit' className='btn btn-dark btn-block'>Submit</button>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t<p className='col forgot-password text-dark'>\r\n\t\t\t\t\t\t\t<Link className=\"nav-link border\" to={this.props.forgotPath}>\r\n\t\t\t\t\t\t\t\tForgot password?\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</p>\r\n\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t</form>\r\n\t\t\t\t\r\n\t\t\t\t<Alert show={show1} variant=\"warning\">\r\n\t\t\t\t\t<Alert.Heading>Waiting</Alert.Heading>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t  Waiting for server...\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t</Alert>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(signIn);","import React from \"react\";\r\n\r\nimport { APISignIn, APISignUp, APIResendValidator } from \"../../utils\";\r\nimport { Alert } from 'react-bootstrap';\r\n\r\nimport { withRouter} from \"react-router-dom\";\r\n\r\nclass signup extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\t\t\t\r\n\t\t\tusername: '',\r\n\t\t\temail: '',\r\n\t\t\tpassword: '',\r\n\t\t\tpassword2: '',\r\n\t\t\tfirstName: '',\r\n\t\t\tlastName: '',\r\n\t\t\t\r\n\t\t\tnetworkError:false,\r\n\t\t\t\r\n\t\t\t// Well, I can expand this to be better on our end...\r\n\t\t\tusernameError:false,\r\n\t\t\tusernameErrorDetail: 'Username is unavalible',\r\n\t\t\t\r\n\t\t\temailError:false,\r\n\t\t\temailErrorDetail: 'Email is invalid/taken',\r\n\t\t\t\r\n\t\t\tpasswordError:false,\r\n\t\t\tpasswordErrorDetail:'Passwords do not match!',\r\n\t\t\t\r\n\t\t\tunhandledError:false,\r\n\t\t\tserverError:false,\r\n\t\t\t\r\n\t\t\tcheckField: false,\r\n\t\t\t\r\n\t\t\tnowSendEmailState: 0,\r\n\t\t\tnowSignInState: 0,\r\n\t\t\thandleSignUpSubmitState:0,\r\n\t\t\t\r\n\t\t\tlegalError:false\r\n        };\r\n\t}\r\n\t\r\n\t// Wait, are Usernames a good thing for what we are doing? Hmmmm\r\n\tusernameFieldChange = (event) => {\r\n\t\tthis.setState( {username: event.target.value} )\r\n\t}\r\n\t\r\n\temailFieldChange = (event) => {\r\n\t\tthis.setState( {email: event.target.value} )\r\n\t}\r\n\t\r\n\tpassFieldChange = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tpassword: event.target.value,\r\n\t\t\t\r\n\t\t\tpasswordError: event.target.value !== this.state.password2,\r\n\t\t\tpasswordErrorDetail:'Passwords do not match!'\r\n\t\t})\r\n\t}\r\n\t\r\n\tpass2FieldChange = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tpassword2: event.target.value,\r\n\t\t\t\r\n\t\t\tpasswordError: event.target.value !== this.state.password,\r\n\t\t\tpasswordErrorDetail:'Passwords do not match!'\r\n\t\t})\r\n\t}\r\n\t\r\n\tfirstNameFieldChange = (event) => {\r\n\t\tthis.setState( {firstName: event.target.value} )\r\n\t}\r\n\t\r\n\tlastnameFieldChange = (event) => {\r\n\t\tthis.setState( {lastName: event.target.value} )\r\n\t}\r\n\t\r\n\tcheckFieldChange = (event) => {\r\n\t\tthis.setState( {checkField: event.target.value} )\r\n\t}\r\n\t\r\n\t// CHAIN STEP 3! \r\n\tnowSendEmailFailure = () => {\r\n\t\t// If we fail here, we are totally boned...\r\n\t\tconsole.log(\"Oh no. We failed\")\r\n\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\tthis.setState({\r\n\t\t\tnowSendEmailState:3,\r\n\t\t})\r\n\t}\r\n\tnowSendEmailCallback = () => {\r\n\t\t// Change this to the validator view\r\n\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\tthis.setState({\r\n\t\t\tnowSendEmailState:2,\r\n\t\t})\r\n\t}\r\n\tnowSendEmail = () => {\r\n\t\t// Now sending the validator email...\r\n\t\tAPIResendValidator(this.nowSendEmailCallback, this.nowSendEmailFailure)\r\n\t\tthis.setState({\r\n\t\t\tnowSendEmailState:1,\r\n\t\t})\r\n\t}\r\n\t\r\n\t// Chain Step 2!\r\n\t\r\n\tnowSignInFailure = () => {\r\n\t\t// O h n o\r\n\t\tconsole.log(\"Sign in failed, I dont even know what to do here... Normal errors dont work here...\")\r\n\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\t// This is probobly unecessary...\r\n\t\tthis.setState({\r\n\t\t\tnowSignInState:3,\r\n\t\t})\r\n\t}\r\n\t// I can probobly use this as a intemediary to straight get the incoming token instead of tossing it back up to App.js...\r\n\tnowSignInCallback = (incomingToken) => {\r\n\t\tconst sanityCheck = this.props.loginSave( incomingToken, this.state.username, false )\r\n\t\tif (sanityCheck) {\r\n\t\t\tconsole.log(\"Token registered\")\r\n\t\t\tthis.nowSendEmail()\r\n\t\t}\r\n\t\telse {\r\n\t\t\tconsole.log(\"Token Failed..?\")\r\n\t\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\t}\r\n\t\tthis.setState({\r\n\t\t\tnowSignInState:2,\r\n\t\t})\r\n\t}\r\n\tnowSignIn = () => {\r\n\t\tAPISignIn(false, this.state.username, this.state.password, this.nowSignInCallback, this.nowSignInFailure)\r\n\t\tthis.setState({\r\n\t\t\tnowSignInState:1,\r\n\t\t})\r\n\t}\r\n\t\r\n\thandleSignUpSubmitFailure = (responseData) => {\r\n\t\t//console.log(errorCodes)\r\n\t\tlet networkErrorFlag = false\r\n\t\t\r\n\t\tlet usernameErrorFlag = false\r\n\t\tlet usernameErrorDetails = \"\"\r\n\t\t\r\n\t\tlet passwordErrorFlag = false\r\n\t\tlet passwordErrorDetails = \"\"\r\n\t\t\r\n\t\tlet emailErrorFlag = false\r\n\t\tlet emailErrorDetails = \"\"\r\n\t\t\r\n\t\tlet unhandledErrorFlag = false\r\n\t\tlet serverErrorFlag = false\r\n\t\t\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\tnetworkErrorFlag = true\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\t\t\tfor (let index in responseData['messages']) {\r\n\t\t\t\tif (responseData['messages'][index]['mod'] === 1) {\r\n\t\t\t\t\tusernameErrorFlag = true\r\n\t\t\t\t\tusernameErrorDetails = responseData['messages'][index]['text']\r\n\t\t\t\t}\r\n\t\t\t\telse if (responseData['messages'][index]['mod'] === 2) {\r\n\t\t\t\t\tpasswordErrorFlag = true\r\n\t\t\t\t\tpasswordErrorDetails = responseData['messages'][index]['text']\r\n\t\t\t\t} \r\n\t\t\t\telse if (responseData['messages'][index]['mod'] === 4) {\r\n\t\t\t\t\temailErrorFlag = true\r\n\t\t\t\t\t//emailErrorDetails = responseData['messages'][index]['text']\r\n\t\t\t\t\temailErrorDetails = \"Email is taken!\"\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tunhandledErrorFlag = true\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\t\t\tserverErrorFlag = true\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\t\t\tserverErrorFlag = true\r\n\t\t}\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tnetworkError:networkErrorFlag,\r\n\t\t\t\r\n\t\t\tusernameError:usernameErrorFlag,\r\n\t\t\tusernameErrorDetail:usernameErrorDetails,\r\n\t\t\t\r\n\t\t\tpasswordError:passwordErrorFlag,\r\n\t\t\tpasswordErrorDetail:passwordErrorDetails,\r\n\t\t\t\r\n\t\t\temailError:emailErrorFlag,\r\n\t\t\temailErrorDetail:emailErrorDetails,\r\n\t\t\t\r\n\t\t\tunhandledError:unhandledErrorFlag,\r\n\t\t\tserverError:serverErrorFlag,\r\n\t\t\t\r\n\t\t\thandleSignUpSubmitState:3,\r\n\t\t})\r\n\t}\r\n\thandleSignUpSubmitCallback = (responseStatus) => {\r\n\t\tif (responseStatus === 201) {\r\n\t\t\t//this.props.history.push(this.props.reRouteTarget)\r\n\t\t\tconsole.log(\"Successful Sign up, now signing in...\")\r\n\t\t\tthis.nowSignIn()\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\thandleSignUpSubmitState:2,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\thandleSignUpSubmit = (event) => {\r\n\t\t\r\n\t\tif (!this.state.checkField) {\r\n\t\t\tconsole.log(\"Field was not checked\")\r\n\t\t\tthis.setState({\r\n\t\t\t\tlegalError: true\r\n\t\t\t})\r\n\t\t}\r\n\t\telse {\r\n\t\t\tAPISignUp(this.state.username, this.state.password, this.state.password2, this.state.email, this.state.firstName, this.state.lastName, this.handleSignUpSubmitCallback, this.handleSignUpSubmitFailure)\r\n\t\t\tthis.setState({\r\n\t\t\t\thandleSignUpSubmitState:1,\r\n\t\t\t\tlegalError: false\r\n\t\t\t})\r\n\t\t}\r\n\t\t\r\n\t\tevent.preventDefault();\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tlet usernameClass = 'form-control'\r\n\t\tif (this.state.usernameError) {\r\n\t\t\tusernameClass += ' bg-warning'\r\n\t\t}\r\n\t\t\r\n\t\tlet emailClass = 'form-control'\r\n\t\tif (this.state.emailError) {\r\n\t\t\temailClass += ' bg-warning'\r\n\t\t}\r\n\t\t\r\n\t\tlet passwordClass = 'form-control'\r\n\t\tif (this.state.passwordError) {\r\n\t\t\tpasswordClass += ' bg-warning'\r\n\t\t}\r\n\t\t\r\n\t\tlet show0 = this.state.legalError\r\n\t\tlet show1 = this.state.handleSignUpSubmitState === 1\r\n\t\t\r\n\t\treturn (\r\n\t\t\t\r\n\t\t\t<div className=\"signUp\">\r\n\t\t\t\t<div className=\"container\">\t\t\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<h3>Sign Up</h3>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\t\r\n\t\t\t\t\t<form onSubmit={this.handleSignUpSubmit}>\r\n\t\t\t\t\t\t<div id=\"align-left\">\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t\t\t<label id=\"label-left\">Username</label>\r\n\t\t\t\t\t\t\t\t\t\t<input type='text' className={usernameClass} value={this.state.username} onChange={this.usernameFieldChange} placeholder='Enter Username' />\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-danger\">{this.state.usernameError ? this.state.usernameErrorDetail:\"\"}</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t\t\t<label id=\"align-left\">Email Address</label>\r\n\t\t\t\t\t\t\t\t\t\t<input type='email' className={emailClass} value={this.state.email} onChange={this.emailFieldChange} placeholder='Enter email' />\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-danger\">{this.state.emailError ? this.state.emailErrorDetail:\"\"}</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\t\t\r\n\t\t\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t\t\t<label id=\"align-left\">Password</label>\r\n\t\t\t\t\t\t\t\t\t\t<input type='password' className={passwordClass} value={this.state.password} onChange={this.passFieldChange} placeholder='Enter password' />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\t\t\r\n\t\t\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t\t\t<label id=\"align-left\">Confirm Password</label>\r\n\t\t\t\t\t\t\t\t\t\t<input type='password' className={passwordClass} value={this.state.password2} onChange={this.pass2FieldChange} placeholder='Confirm password' />\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-danger\">{this.state.passwordError ? this.state.passwordErrorDetail:\"\"}</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\t\t\r\n\t\t\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t\t\t<label id=\"align-left\">First Name</label>\r\n\t\t\t\t\t\t\t\t\t\t<input type='text' className='form-control' value={this.state.firstName} onChange={this.firstNameFieldChange} placeholder='First Name' />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\t\t\r\n\t\t\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t\t\t<label id=\"align-left\">Last Name</label>\r\n\t\t\t\t\t\t\t\t\t\t<input type='text' className='form-control' value={this.state.lastName} onChange={this.lastnameFieldChange} placeholder='Last Name' />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t\t<input type='checkbox' className='form-control-input' id='customCheck1' value={this.state.checkField} onChange={this.checkFieldChange} />\r\n\t\t\t\t\t\t\t\t\t<label className='form-control-label' htmlFor='customCheck1' >Legal stuff?</label>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col\">\t\t\r\n\t\t\t\t\t\t\t\t{this.state.networkError ? <p className=\"bg-warning text-danger border\">Server cannot be reached!</p>:undefined}\r\n\t\t\t\t\t\t\t\t<button type='submit' className='btn btn-dark btn-block'>Submit</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\t\t\r\n\t\t\t\t\t</form>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Alert show={show0} variant=\"danger\">\r\n\t\t\t\t\t\t<Alert.Heading>Warning</Alert.Heading>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t  You have to accept the non-existant legal documents\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Alert show={show1} variant=\"warning\">\r\n\t\t\t\t\t\t<Alert.Heading>Waiting</Alert.Heading>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t  This should display while waiting for the return\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"row my-5\">\r\n\t\t\t\t\t\t<div className=\"col\">\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(signup);","import React from \"react\";\r\n\r\nimport { Alert } from 'react-bootstrap';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { APIForgotEmailSend, APIForgotEmailValidate, APIForgotEmailChangePassword } from \"../../utils\";\r\n\r\nclass forgotPassword extends React.Component {\r\n\t\t\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\r\n\t\t\t// This page is one that we need to if the user cannot log in..\r\n\t\t\t// We need to send them to their emails, and then back to here...\r\n\t\t\t// However, we CANNOT RELY on them being logged in...\r\n\t\t\t\r\n\t\t\t// So, therefore.... We shall see if doing the email auth when not logged in will do better or worse...\r\n\t\t\t// If it somehow works better, then I should think of changing the auth page....\r\n\t\t\tcurrentState: 0,\r\n\r\n\t\t\temail: '',\r\n\t\t\tresetToken: '',\r\n\r\n\t\t\tpassword1:'',\r\n\t\t\tpassword2:'',\r\n\r\n\t\t\tpasswordsSameError: false,\r\n\t\t\t\r\n\t\t\tgeneralErrorDetail: [],\r\n\t\t\t\r\n\t\t\tuncaughtError: true,\r\n\t\t\t\r\n\t\t\tsendEmailState: 0,\r\n\t\t\tvalidateCodeState: 0,\r\n\t\t\tsubmitPasswordState: 0,\r\n        };\r\n\t\t\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.setState({\r\n\t\t\temail: '',\r\n\t\t\tresetToken: '',\r\n\t\t\tpassword1: '',\r\n\t\t\tpassword2: '',\r\n\t\t\r\n\t\t})\r\n\t}\r\n\r\n\tgoSignIn = () => {\r\n\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t}\r\n\r\n\tarePasswordsSame = () => {\r\n\t\t// I MAY need something more complicated than this, but it can be this for now....\r\n\t\treturn (this.state.password1 === this.state.password2)\r\n\t}\r\n\r\n\tswapToCode = () => {\r\n\t\tthis.setState({\r\n\t\t\tcurrentState: 1,\r\n\t\t\tgeneralErrorDetail: [],\r\n\t\t})\r\n\t}\r\n\t\r\n\tforceSwapForTesting = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tcurrentState: Number(event.target.value),\r\n\t\t\tgeneralErrorDetail: [],\r\n\t\t\t\r\n\t\t\tsendEmailState: 0,\r\n\t\t\tvalidateCodeState: 0,\r\n\t\t\tsubmitPasswordState: 0,\r\n\t\t})\r\n\t}\r\n\r\n\tsendEmailSuccess = (successCode, successData) => {\r\n\t\t//console.log(\"Email Send Success\")\r\n\t\tthis.setState({\r\n\t\t\tcurrentState: 1,\r\n\t\t\tgeneralErrorDetail:[],\r\n\t\t\t\r\n\t\t\tsendEmailState:2,\r\n\t\t})\r\n\t}\r\n\tsendEmailFailure = (responseData) => {\r\n\t\t\r\n\t\tlet emailErrorDetails = []\r\n\t\t\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\t\t\tfor (let index in responseData['messages']) {\r\n\t\t\t\t// Hmmmmmmmmm\r\n\t\t\t\t//if (responseData['messages'][index]['mod'] === 4) {\r\n\t\t\t\temailErrorDetails.push(responseData['messages'][index]['text'])\r\n\t\t\t\t//}\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\r\n\t\tthis.setState({\r\n\t\t\tgeneralErrorDetail:emailErrorDetails,\r\n\t\t\t\r\n\t\t\tsendEmailState:3,\r\n\t\t})\r\n\t}\r\n\tsendEmail = () => {\r\n\t\t//console.log(\"Sending the Email Here...\")\r\n\t\tAPIForgotEmailSend(this.state.email, this.sendEmailSuccess, this.sendEmailFailure)\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tsendEmailState:1,\r\n\t\t})\r\n\t}\r\n\r\n\tcheckTokenFailure = (responseData) => {\r\n\t\t\r\n\t\tlet tokenErrorDetails = []\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\t\t\tfor (let index in responseData['messages']) {\r\n\t\t\t\t//if (responseData['messages'][index]['mod'] === 4) {\r\n\t\t\t\ttokenErrorDetails.push(responseData['messages'][index]['text'])\r\n\t\t\t\t//}\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tgeneralErrorDetail:tokenErrorDetails,\r\n\t\t\t\r\n\t\t\tvalidateCodeState:3,\r\n\t\t})\r\n\t}\r\n\tcheckTokenSuccess = (successCode) => {\r\n\t\t//console.log(\"Token Matched!\")\r\n\t\tthis.setState({\r\n\t\t\tcurrentState: 2,\r\n\t\t\tgeneralErrorDetail:[],\r\n\t\t\t\r\n\t\t\tvalidateCodeState:2,\r\n\t\t})\r\n\t}\r\n\tcheckToken = () => {\r\n\t\t//console.log(\"Send Token Here...\")\r\n\t\tAPIForgotEmailValidate( this.state.resetToken, this.checkTokenSuccess, this.checkTokenFailure)\r\n\r\n\t\tthis.setState({\r\n\t\t\tgeneralErrorDetail:[],\r\n\t\t\tvalidateCodeState:1,\r\n\t\t\t\r\n\t\t\tsubmitPasswordState:0,\r\n\t\t})\r\n\t}\r\n\t\r\n\tsubmitPasswordFailure = (responseData) => {\r\n\t\tlet errorText = []\r\n\t\tlet newState = 2\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\t\t\tfor (let index in responseData['messages']) {\r\n\t\t\t\t//if (responseData['messages'][index]['mod'] === 2) {\r\n\t\t\t\terrorText.push(responseData['messages'][index]['text'])\r\n\t\t\t\t//}\r\n\t\t\t\t//else {\r\n\t\t\t\t//\tunknownErrorFlag = true\r\n\t\t\t\t//}\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t// 404!\r\n\t\telse if (responseData[\"action\"] === 6) {\r\n\t\t\terrorText.push(\"Token was not found!\")\r\n\t\t\tnewState = 1\r\n\t\t}\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tgeneralErrorDetail: errorText,\r\n\t\t\t\r\n\t\t\tcurrentState: newState,\r\n\t\t\t\r\n\t\t\tsubmitPasswordState:3,\r\n\t\t})\r\n\t}\r\n\tsubmitPasswordSuccess = (successCode) => {\r\n\t\t//console.log(\"Password Reset Success!\")\r\n\t\tthis.setState({\r\n\t\t\tcurrentState: 3,\r\n\t\t\tgeneralErrorDetail:[],\r\n\t\t\tsubmitPasswordState:2,\r\n\t\t})\r\n\t}\r\n\tsubmitPasswords = () => {\r\n\t\t// I can use the API for this...\t\r\n\t\t//console.log(\"Checking Passwords...\")\r\n\t\tif (this.arePasswordsSame()) {\r\n\t\t\t//console.log(\"Passwords Checked out!\")\r\n\t\t\tAPIForgotEmailChangePassword(this.state.resetToken, this.state.password1, this.state.password2, this.submitPasswordSuccess, this.submitPasswordFailure)\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tsubmitPasswordState:1,\r\n\t\t\t})\r\n\t\t}\r\n\t\telse {\r\n\t\t\t//console.log(\"Passwords Failed!\")\r\n\t\t}\r\n\t}\r\n\t\r\n\r\n\temailFieldChange = (event) => {\r\n\t\tthis.setState({\r\n\t\t\temail: event.target.value\r\n\t\t})\r\n\t}\r\n\r\n\ttokenFieldChange = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tresetToken: event.target.value\r\n\t\t})\r\n\t}\r\n\t\r\n\tpass1FieldChange = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tpassword1: event.target.value\r\n\t\t})\r\n\t}\r\n\r\n\tpass2FieldChange = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tpassword2: event.target.value,\r\n\t\t\tpasswordsSameError: event.target.value !== this.state.password1,\r\n\t\t})\r\n\t}\r\n\t\r\n\trender() {\r\n\r\n\t\tlet currentField = null\r\n\t\tlet currentButton = null\r\n\t\tlet currentMessage = null\r\n\r\n\t\t// Enter Email For Recovery State\r\n\t\tif (this.state.currentState === 0) {\r\n\t\t\t\r\n\t\t\tcurrentMessage = (\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<p> \r\n\t\t\t\t\t\t\tEnter your email address.\r\n\t\t\t\t\t\t\tIf it is in the system, we will send you an email address with a code.\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\r\n\t\t\tcurrentField = (\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t<label>Email Address</label>\r\n\t\t\t\t\t\t\t<input type='email' className='form-control' value={this.state.email} onChange={this.emailFieldChange} placeholder='Enter email' />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\r\n\t\t\tcurrentButton = [\r\n\t\t\t\t(\r\n\t\t\t\t\t<div className=\"row\" key={1}>\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<button className=\"btn btn-primary\" onClick={this.sendEmail}>\r\n\t\t\t\t\t\t\t\tSend\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t),(\r\n\t\t\t\t\t<div className=\"row\" key={2}>\r\n\t\t\t\t\t\t<div className=\"col m-2\">\r\n\t\t\t\t\t\t\t<button className=\"btn btn-primary\" onClick={this.swapToCode}>\r\n\t\t\t\t\t\t\t\tAlready have the code!\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\t]\r\n\t\t\t\t\r\n\t\t}\r\n\t\t// Enter Token From Email State\r\n\t\telse if (this.state.currentState === 1) {\r\n\r\n\t\t\tcurrentMessage = (\r\n\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t<p> \r\n\t\t\t\t\t\tCheck your email.\r\n\t\t\t\t\t\tIf your email is correct, then enter the code it gives you here:\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\r\n\t\t\tcurrentField = (\r\n\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<label>Reset token</label>\r\n\t\t\t\t\t\t<input type='text' className='form-control' value={this.state.resetToken} onChange={this.tokenFieldChange} placeholder='Enter Token' />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\r\n\t\t\tcurrentButton = (\r\n\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t<button className=\"btn btn-primary\" onClick={this.checkToken}>\r\n\t\t\t\t\t\tCheck Code\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\t// Enter New Passwords State\r\n\t\telse if (this.state.currentState === 2) {\r\n\t\r\n\t\t\tcurrentMessage = [\r\n\t\t\t\t<div className=\"row\" key={1}> \r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<p> Enter your new password! </p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t]\r\n\t\t\tif (this.state.passwordsSameError) {\r\n\t\t\t\tcurrentMessage.push(\r\n\t\t\t\t\t<div className=\"row\" key={2}> \r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<p className=\"text-danger\"> Passwords do not match! </p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\r\n\t\t\tcurrentField = [\r\n\t\t\t\t( \r\n\t\t\t\t\t<div className=\"row\" key={3}> \r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t<input type='password' className='form-control' value={this.state.password1} onChange={this.pass1FieldChange} placeholder='Enter Password' />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t),\r\n\t\t\t\t(\r\n\t\t\t\t\t<div className=\"row\" key={4}> \r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t<input type='password' className='form-control' value={this.state.password2} onChange={this.pass2FieldChange} placeholder='Re-enter Password' />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\t\r\n\t\t\t\t)\r\n\t\t\t]\r\n\t\t\tcurrentButton = (\r\n\t\t\t\t<div className=\"row\"> \r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<button className=\"btn btn-primary\" onClick={this.submitPasswords}>\r\n\t\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\t// Thank You State\r\n\t\telse if (this.state.currentState === 3) {\r\n\t\t\tcurrentMessage = (\r\n\t\t\t\t<div className=\"row\"> \r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<p> Password has been successfullty reset! </p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t\tcurrentField = null\r\n\r\n\t\t\tcurrentButton = (\r\n\t\t\t\t<div className=\"row\"> \r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<button className=\"btn btn-primary\" onClick={this.goSignIn}>\r\n\t\t\t\t\t\t\tSign In!\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\t//let showIdle = this.state.sendEmailState === 0\r\n\t\tlet showWaiting = this.state.sendEmailState === 1 || this.state.validateCodeState === 1 || this.state.submitPasswordState === 1\r\n\t\tlet showSuccess = false//this.state.sendEmailState === 2 || this.state.validateCodeState === 2 || this.state.submitPasswordState === 2\r\n\t\tlet showError = this.state.sendEmailState === 3 || this.state.validateCodeState === 3 || this.state.submitPasswordState === 3\r\n\r\n\t\tlet indexKey = 0\r\n\t\tlet displayedError = []\r\n\t\t\r\n\t\tfor (let thing in this.state.generalErrorDetail) {\r\n\t\t\tdisplayedError.push( \r\n\t\t\t\t<div key={indexKey}>\r\n\t\t\t\t\t{this.state.generalErrorDetail[thing]}\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t\tindexKey++;\r\n\t\t}\r\n\t\t\r\n\t\tif (displayedError.length === 0) {\r\n\t\t\tdisplayedError = \"Unknown Error!\"\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div className='container-sm'>\r\n\t\t\t\r\n\t\t\t\t<button className=\"btn btn-outline-secondary\" onClick={this.forceSwapForTesting} value={0}>\r\n\t\t\t\t\tT0\r\n\t\t\t\t</button>\r\n\t\t\t\t<button className=\"btn btn-outline-secondary\" onClick={this.forceSwapForTesting} value={1}>\r\n\t\t\t\t\tT1\r\n\t\t\t\t</button>\r\n\t\t\t\t<button className=\"btn btn-outline-secondary\" onClick={this.forceSwapForTesting} value={2}>\r\n\t\t\t\t\tT2\r\n\t\t\t\t</button>\r\n\t\t\t\t<button className=\"btn btn-outline-secondary\" onClick={this.forceSwapForTesting} value={3}>\r\n\t\t\t\t\tT3\r\n\t\t\t\t</button>\r\n\t\t\t\t\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<h3> Forgot your password? </h3>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{/*Change to proper Submit Form...*/}\r\n\t\t\t\t{currentMessage}\r\n\t\t\t\t{currentField}\r\n\t\t\t\t{currentButton}\r\n\t\t\t\t\r\n\t\t\t\t<Alert show={showWaiting} variant=\"warning\">\r\n\t\t\t\t\t<Alert.Heading>Waiting</Alert.Heading>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t  Waiting for server response for submission...\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t</Alert>\r\n\t\t\t\t\r\n\t\t\t\t<Alert show={showSuccess} variant=\"success\">\r\n\t\t\t\t\t<Alert.Heading>Waiting</Alert.Heading>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t  This should display if we got a success\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t</Alert>\r\n\t\t\t\t\r\n\t\t\t\t<Alert show={showError} variant=\"danger\">\r\n\t\t\t\t\t<Alert.Heading>Error!</Alert.Heading>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\t{displayedError}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t</Alert>\r\n\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(forgotPassword);","import React from \"react\";\r\n\r\nimport { withRouter} from \"react-router-dom\";\r\nimport { Alert } from 'react-bootstrap';\r\nimport { APIValidateAccount, APIResendValidator } from \"../../utils\";\r\n\r\nclass verifyEmail extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\t\t\t\r\n\t\t\t// You need to enter a token from the email address...\r\n\t\t\t// The user will also NEED to be logged in at this point in order for this to work...\r\n\t\t\t// User will be redirected to this page if they are not active...\r\n\t\t\t// And ALL API CALLS WILL FAIL! Unless they enter this code correctly, before it expires\r\n\t\t\ttoken: '',\r\n\t\t\ttokenError:false,\r\n\t\t\ttokenErrorDetail:'???',\r\n\t\t\t\r\n\t\t\tdone:false,\r\n\t\t\t\r\n\t\t\tresend:\"\",\r\n\t\t\t\r\n\t\t\tvalidateStatus: 0,\r\n\t\t\tsendEmailStatus: 0,\r\n        };\r\n\t}\r\n\t\r\n\t// Wait, are Usernames a good thing for what we are doing? Hmmmm\r\n\ttokenFieldChange = (event) => {\r\n\t\tthis.setState( {token: event.target.value} )\r\n\t}\r\n\tgotoDash = () => {\r\n\t\tthis.props.history.push(this.props.reRouteSuccessTarget)\r\n\t}\r\n\t\r\n\t// Data is mostly used for error displaying here honestly\r\n\thandleVerifyFailure = (responseData) => {\r\n\t\t\r\n\t\tlet tokenErrorFlag = false\r\n\t\tlet tokenErrorDetails = \"\"\r\n\t\t\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\t\t\tfor (let index in responseData['messages']) {\r\n\t\t\t\tif (responseData['messages'][index]['mod'] === 1) {\r\n\t\t\t\t\ttokenErrorFlag = true\r\n\t\t\t\t\ttokenErrorDetails = responseData['messages'][index]['text']\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\ttokenError:tokenErrorFlag,\r\n\t\t\ttokenErrorDetail:tokenErrorDetails,\r\n\t\t\t\r\n\t\t\tvalidateStatus: 3,\r\n\t\t})\r\n\t}\r\n\thandleVerifyCallback = (incomingStatus, incomingData) => {\r\n\t\tif (incomingStatus === 200) {\r\n\t\t\t// Successful verification!!\r\n\t\t\tconsole.log(\"Successful Verification!\")\r\n\t\t\tthis.setState({\r\n\t\t\t\tdone:true,\r\n\t\t\t\tvalidateStatus: 2,\r\n\t\t\t})\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\thandleVerifySubmit = (event) => {\r\n\t\t\r\n\t\tAPIValidateAccount( this.state.token, this.handleVerifyCallback, this.handleVerifyFailure)\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tvalidateStatus: 1,\r\n\t\t})\r\n\t\t\r\n\t\tevent.preventDefault();\r\n\t}\r\n\t\r\n\treSendEmailFailure = (responseData) => {\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\t\t\tthis.props.refreshToken( this.reSendEmail )\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tsendEmailStatus: 3,\r\n\t\t})\r\n\t}\r\n\treSendEmailCallback = () => {\r\n\t\t// Change this to the validator view\r\n\t\tthis.setState({\r\n\t\t\tresend:\"A new code has been sent!\",\r\n\t\t\tsendEmailStatus: 2,\r\n\t\t})\r\n\t\t\r\n\t}\r\n\treSendEmail = () => {\r\n\t\t// Now sending the validator email...\r\n\t\tAPIResendValidator( this.reSendEmailCallback, this.reSendEmailFailure)\r\n\t\tthis.setState({\r\n\t\t\tsendEmailStatus: 1,\r\n\t\t})\r\n\t}\r\n\t\r\n\trender() {\r\n\t\t\r\n\t\tlet tokenClass = 'form-control'\r\n\t\tif (this.state.tokenError) {\r\n\t\t\ttokenClass += ' bg-warning'\r\n\t\t}\r\n\t\t\r\n\t\tlet displayBody = []\r\n\t\tif (!this.state.done) {\r\n\t\t\tdisplayBody = (\r\n\t\t\t\t<div>\t\t\t\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<h3>Activate your account</h3>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\t\r\n\t\t\t\t\t<form onSubmit={this.handleVerifySubmit}>\r\n\t\t\t\t\t\t<div id=\"align-left\">\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<p> Check your email, you should have received a code, enter it here and your account will be activated!</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t\t\t<label id=\"label-left\">Enter token here:</label>\r\n\t\t\t\t\t\t\t\t\t\t<input type='text' className={tokenClass} value={this.state.username} onChange={this.tokenFieldChange} placeholder='Token' />\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-danger\">{this.state.tokenError ? this.state.tokenErrorDetail:\"\"}</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"row my-2\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\t\t\r\n\t\t\t\t\t\t\t\t\t<button type='submit' className='btn btn-dark btn-block'>Submit</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\t\t\r\n\t\t\t\t\t</form>\r\n\t\t\t\t\t<div className=\"row my-2\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<button onClick={this.reSendEmail} className='btn btn-dark btn-block'>Re-send Activation code</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\t\r\n\t\t\t\t\t<div className=\"row my-2\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t{this.state.resend}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\telse {\r\n\t\t\tdisplayBody = (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<h3>Thank you!</h3>\r\n\t\t\t\t\t\t\t<p>Account has been activated! Press here to go to the dashboard:</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<button className=\"btn btn-dark\" onClick={this.gotoDash}>To the Dashboard!</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\t//let showIdle = this.state.validateStatus === 0 || this.state.sendEmailStatus === 0\r\n\t\tlet showWaiting = this.state.validateStatus === 1 || this.state.sendEmailStatus === 1\r\n\t\tlet showSuccess = this.state.validateStatus === 2 || this.state.sendEmailStatus === 2\r\n\t\tlet showError = this.state.validateStatus === 3 || this.state.sendEmailStatus === 3\r\n\t\t\r\n\t\treturn (\r\n\t\t\t\r\n\t\t\t<div className=\"signUp\">\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t{displayBody}\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Alert show={showWaiting} variant=\"warning\">\r\n\t\t\t\t\t\t<Alert.Heading>Waiting</Alert.Heading>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t  Waiting for server response for submission...\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Alert show={showSuccess} variant=\"success\">\r\n\t\t\t\t\t\t<Alert.Heading>Waiting</Alert.Heading>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t  This should display if we got a success\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Alert show={showError} variant=\"danger\">\r\n\t\t\t\t\t\t<Alert.Heading>Error!</Alert.Heading>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t  This should display if we got an error\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(verifyEmail);","import React from \"react\";\r\n\r\nconst Header = (props) => {\r\n\t\r\n\treturn (\r\n\t\t<header className=\"header\">\r\n\t\t\t<div className='intro'>\r\n\t\t\t\t<div className='overlay'>\r\n\t\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col col-md-offset-2 intro-text\">\r\n\t\t\t\t\t\t\t\t<h1>\r\n\t\t\t\t\t\t\t\t\tProject Scenere\r\n\t\t\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t\t\t\t<h5>\r\n\t\t\t\t\t\t\t\t\tWelcome to the Alpha!\r\n\t\t\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</header>\r\n\t);\r\n\t\t\r\n}\r\n\r\nexport default Header;","import React from \"react\";\r\nimport { Alarm, Award, Flag, Hexagon } from 'react-bootstrap-icons';\r\n\r\nconst testAnother = (props) => {\r\n\t\r\n\treturn (\r\n\t\t<div className=\"text-center\" id='features'>\r\n\t\t\t<div className=\"container\">\r\n\t\t\t\t<div className=\"row m-3\">\r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<h2 className=\"section-title\">\r\n\t\t\t\t\t\t\tFeatures\r\n\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t<p className=\"text-muted section-subtitle\">\r\n\t\t\t\t\t\t\tLorem ipsum\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<div className=\"row my-2\">\r\n\t\t\t\t\t<div className=\"col-sm-6 col-md-6 col-lg-3\">\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t<Alarm className=\"iconBG\" color=\"white\" size={72} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t<h3>\r\n\t\t\t\t\t\t\t\t\tFeature Title\r\n\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<p className=\"col text-muted\">\r\n\t\t\t\t\t\t\t\tLorem ipsum dolor sit amet placerat facilisis felis mi in tempus eleifend pellentesque natoque etiam.\t\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-sm-6 col-md-6 col-lg-3\">\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t<Award className=\"iconBG\" color=\"white\" size={72} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t<h3>\r\n\t\t\t\t\t\t\t\t\tFeature Title\r\n\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<p className=\"col text-muted\">\r\n\t\t\t\t\t\t\t\tLorem ipsum dolor sit amet placerat facilisis felis mi in tempus eleifend pellentesque natoque etiam.\t\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-sm-6 col-md-6 col-lg-3\">\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t<Flag className=\"iconBG\" color=\"white\" size={72} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t<h3>\r\n\t\t\t\t\t\t\t\t\tFeature Title\r\n\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<p className=\"col text-muted\">\r\n\t\t\t\t\t\t\t\tLorem ipsum dolor sit amet placerat facilisis felis mi in tempus eleifend pellentesque natoque etiam.\t\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-sm-6 col-md-6 col-lg-3\">\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t<Hexagon className=\"iconBG\" color=\"white\" size={72} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t<h3>\r\n\t\t\t\t\t\t\t\t\tFeature Title\r\n\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<p className=\"col text-muted\">\r\n\t\t\t\t\t\t\t\tLorem ipsum dolor sit amet placerat facilisis felis mi in tempus eleifend pellentesque natoque etiam.\t\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n\t\t\r\n}\r\n\r\nexport default testAnother;","import React from \"react\";\r\n\r\nconst testLeft = (props) => {\r\n\t\r\n\treturn (\r\n\t\t<div id='about'>\r\n\t\t\t<div className=\"container\">\r\n\t\t\t\t<div className=\"row m-4\">\r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<h2 className=\"section-title\">\r\n\t\t\t\t\t\t\tAbout Us\r\n\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t<p className=\"text-muted section-subtitle\">\r\n\t\t\t\t\t\t\tLorem ipsum\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"row m-4\">\r\n\t\t\t\t\t<div className=\"col text-muted\">\r\n\t\t\t\t\t\tLorem ipsum dolor sit amet placerat facilisis felis mi in tempus eleifend pellentesque natoque etiam.\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"row m-4\">\r\n\t\t\t\t\t<h5 className=\"col about-subsection\">\r\n\t\t\t\t\t\tTitle of Subsection\r\n\t\t\t\t\t</h5>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"row my-2 about-text text-muted\">\r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\tLorem ipsum dolor sit amet\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\tLorem ipsum dolor sit amet\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\tLorem ipsum dolor sit amet\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\tLorem ipsum dolor sit amet\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"col list-style\">\r\n\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\tLorem ipsum dolor sit amet\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\tLorem ipsum dolor sit amet\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\tLorem ipsum dolor sit amet\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\tLorem ipsum dolor sit amet\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n\t\t\r\n}\r\n\r\nexport default testLeft;","import React from \"react\";\r\nimport {APIBetaSignEmail} from \"../../utils\";\r\n\r\nclass contact extends React.Component {\r\n\t\r\n\t// Load this fromt the rest of it if we are logged in...\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\t\t\temail: '',\r\n\t\t\thandleEmailStatus: 0,\r\n        };\r\n\t}\r\n\t\r\n\temailFieldChange = (event) => {\r\n\t\tthis.setState( {email: event.target.value} )\r\n\t}\r\n\t\r\n\tcallbackFailure = () => {\r\n\t\tthis.setState({\r\n\t\t\thandleEmailStatus: 3,\r\n\t\t})\r\n\t}\t\r\n\tcallbackSuccess = () => {\r\n\t\tthis.setState({\r\n\t\t\thandleEmailStatus: 2,\r\n\t\t})\r\n\t}\r\n\thandleSubmit = (event) => {\r\n\t\t\r\n\t\t// Need to do a check on if this is a valid email\r\n\t\tif (this.state.email === \"\") {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tAPIBetaSignEmail(this.state.email, this.callbackSuccess, this.callbackFailure)\r\n\t\tevent.preventDefault();\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\thandleEmailStatus: 1,\r\n\t\t})\r\n\t}\r\n\t\r\n\trender() {\r\n\t\treturn (\r\n\t\t\r\n\t\t\t<div id=\"contact\">\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<h2>\r\n\t\t\t\t\t\t\t\t\tBeta Request\r\n\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\tInterested in beta testing? Enter you email below\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t\t<form onSubmit={this.handleSubmit}>\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col\">\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t\t<input type='email' className='form-control' value={this.state.email} onChange={this.emailFieldChange} placeholder='Enter email' />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{/*\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"row\"> */}\r\n\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t<label></label>\r\n\t\t\t\t\t\t\t\t<button type='submit' className='btn btn-dark btn-block'>Send!</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default contact;","import React from \"react\";\r\nimport {APIContactUsEmail} from \"../../utils\";\r\n\r\nclass contact extends React.Component {\r\n\t\r\n\t// Load this fromt the rest of it if we are logged in...\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\t\t\t\r\n\t\t\tfirstName: '',\r\n\t\t\tlastName: '',\r\n\t\t\t\r\n\t\t\temail: '',\r\n\t\t\tcompany: '',\r\n\t\t\t\r\n\t\t\tcontent : '',\r\n\t\t\t\r\n\t\t\temailContactState: 0,\r\n        };\r\n\t}\r\n\t\r\n\t// Wait, are Usernames a good thing for what we are doing? Hmmmm\r\n\tfirstNameFieldChange = (event) => {\r\n\t\tthis.setState( {firstName: event.target.value} )\r\n\t}\r\n\t\r\n\tlastnameFieldChange = (event) => {\r\n\t\tthis.setState( {lastName: event.target.value} )\r\n\t}\r\n\t\r\n\temailFieldChange = (event) => {\r\n\t\tthis.setState( {email: event.target.value} )\r\n\t}\r\n\t\r\n\tcompanyFieldChange = (event) => {\r\n\t\tthis.setState( {company: event.target.value} )\r\n\t}\r\n\t\r\n\tcontentFieldChange = (event) => {\r\n\t\tthis.setState( {content: event.target.value} )\r\n\t}\r\n\t\r\n\tcallbackFailure = () => {\r\n\t\tthis.setState({\r\n\t\t\temailContactState: 3,\r\n\t\t})\r\n\t}\r\n\tcallbackSuccess = () => {\r\n\t\tthis.setState({\r\n\t\t\temailContactState: 2,\r\n\t\t})\r\n\t}\r\n\thandleSubmit = (event) => {\r\n\t\t\r\n\t\t// Need to do a check on if this is a valid email\r\n\t\tif (this.state.email === \"\") {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tAPIContactUsEmail(this.state.firstName, this.state.lastName, this.state.email, this.state.company, this.state.content, this.callbackSuccess, this.callbackFailure)\r\n\t\tevent.preventDefault();\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\temailContactState: 1,\r\n\t\t})\r\n\t}\r\n\t\r\n\trender() {\r\n\t\treturn (\r\n\t\t\r\n\t\t\t<div id=\"contact\">\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<h2>\r\n\t\t\t\t\t\t\t\t\tContact Us\r\n\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\tLorem ipsum dolor sit amet placerat\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t\t<form onSubmit={this.handleSubmit}>\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col\">\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t\t<label>First Name</label>\r\n\t\t\t\t\t\t\t\t\t<input type='text' className='form-control' value={this.state.firstName} onChange={this.firstNameFieldChange} placeholder='First Name' />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col\">\t\r\n\t\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t\t<label>Last Name</label>\r\n\t\t\t\t\t\t\t\t\t<input type='text' className='form-control' value={this.state.lastName} onChange={this.lastnameFieldChange} placeholder='Last Name' />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col\">\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t\t<label>Email Address</label>\r\n\t\t\t\t\t\t\t\t\t<input type='email' className='form-control' value={this.state.email} onChange={this.emailFieldChange} placeholder='Enter email' />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col\">\t\r\n\t\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t\t<label>Company</label>\r\n\t\t\t\t\t\t\t\t\t<input type='text' className='form-control' value={this.state.company} onChange={this.companyFieldChange} placeholder='Company Name' />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col\">\t\r\n\t\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t\t<label>Content</label>\r\n\t\t\t\t\t\t\t\t\t<textarea  type='text' className='form-control' value={this.state.content} onChange={this.contentFieldChange} placeholder='Content' />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<div className=\"row my-1\">\r\n\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t<button type='submit' className='btn btn-dark btn-block'>Send Message</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\t\r\n\t\t\t\t\t</form>\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default contact;","import React from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nconst debugPageName = \"NavBar\"\r\n\r\nclass navigation extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n        };\r\n\t}\r\n\t\r\n\ttriggerLogout = () => {\r\n\t\tthis.props.debugSet(debugPageName, \"Manual Logout\", \"Triggered\")\r\n\t\tthis.props.logout()\r\n\t\tthis.props.history.push(this.props.reRouteSignIn)\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tlet iconButton = null\r\n\t\tlet userDisplay = null\r\n\r\n\t\tif (this.props.currentUser === undefined) {\r\n\t\t\ticonButton = [\r\n\t\t\t\t(<li className={'nav-item'} key='1'>\r\n\t\t\t\t\t<Link className=\"nav-link\" to={this.props.reRouteSignUp}>\r\n\t\t\t\t\t\tSign Up\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</li>),\r\n\r\n\t\t\t\t(<li className={'nav-item'}  key='2'>\r\n\t\t\t\t\t<Link className=\"nav-link\" to={this.props.reRouteSignIn}>\r\n\t\t\t\t\t\tSign In\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</li>)\r\n\t\t\t]\r\n\r\n\t\t\t/*\r\n\t\t\tuserDisplay = (\r\n\t\t\t\t<li className={'nav-item'}  key='3'>\t\r\n\t\t\t\t\t<Link className=\"nav-link\" to={this.props.reRouteSignIn}>\r\n\t\t\t\t\t\tNone\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t\t*/\r\n\t\t}\r\n\t\telse {\r\n\t\t\ticonButton = [\r\n\t\t\t\t(<li className={'nav-item'}  key='1'>\t\r\n\t\t\t\t\t<Link className=\"nav-link\" to={this.props.reRouteDashboard}>\r\n\t\t\t\t\t\tDashboard\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</li>)\r\n\t\t\t]\r\n\r\n\t\t\tuserDisplay = (\r\n\t\t\t\t<div className='dropdown'  key='5'>\r\n\t\t\t\t\t<div className=\"nav-link\" type=\"button\" id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n\t\t\t\t\t\t{this.props.currentUser}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"dropdown-menu dropdown-menu-right\" aria-labelledby=\"dropdownMenuButton\">\r\n\t\t\t\t\t\t<Link className=\"dropdown-item\" to={this.props.reRouteUserInvites}>\r\n\t\t\t\t\t\t\tInvites\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t<Link className=\"dropdown-item\" to={this.props.reRouteUserSecurity}>\r\n\t\t\t\t\t\t\tSecurity\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t<Link className=\"dropdown-item\" to={this.props.reRouteUserPermissions}>\r\n\t\t\t\t\t\t\tPermissions\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t<Link className=\"dropdown-item\" to={this.props.reRouteLanding} onClick={this.triggerLogout}>\r\n\t\t\t\t\t\t\tSign Out\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\t//fixed-top\r\n\t\treturn (\r\n\t\t\t<div className=\"navigation\">\r\n\t\t\t\r\n\t\t\t\t<nav className=\"navbar navbar-expand-lg navbar-dark bg-dark\">\r\n\t\t\t\t\t<div className=\"container-fluid\">\r\n\t\t\t\t\t\t<Link className=\"navbar-brand\" to={this.props.reRouteLanding}>\r\n\t\t\t\t\t\t\tProject Scenere\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t{/*\r\n\t\t\t\t\t\t<button onClick={this.saveToStorage}>\r\n\t\t\t\t\t\t\tTest Save\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button onClick={this.getFromStorage}>\r\n\t\t\t\t\t\t\tTest Load\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button onClick={this.clearTheStorage}>\r\n\t\t\t\t\t\t\tClear\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button onClick={this.checkTheStorage}>\r\n\t\t\t\t\t\t\tCheck Contents\r\n\t\t\t\t\t\t</button> \r\n\t\t\t\t\t\t*/}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<div className=\"dropdown\">\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclassName=\"navbar-toggler\"\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\tdata-toggle=\"collapse\"\r\n\t\t\t\t\t\t\tdata-target=\"#navbarResponsive\"\r\n\t\t\t\t\t\t\taria-controls=\"navbarResponsive\"\r\n\t\t\t\t\t\t\taria-expanded=\"false\"\r\n\t\t\t\t\t\t\taria-label=\"Toggle navigation\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<span className=\"navbar-toggler-icon\"></span>\r\n\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t<div className=\"collapse navbar-collapse\" id=\"navbarResponsive\">\r\n\t\t\t\t\t\t\t<ul className=\"navbar-nav ml-auto\">\r\n\t\t\t\t\t\t\t\t{iconButton}\r\n\t\t\t\t\t\t\t\t{userDisplay}\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</nav>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(navigation);","import React from \"react\";\r\n\r\nimport { Accordion, Card } from 'react-bootstrap';\r\n\r\nclass footer extends React.Component {\r\n\t\r\n\t// Imma just cheat and put this stuff here...\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\t\t\t\r\n\t\t\tENABLEBUTTON: false,\r\n\t\t\t\r\n\t\t\tdebugFlag: false,\r\n\t\t\tdebugDisplay: {},\r\n        };\r\n\t}\r\n\t\r\n\tcheckDebugFlag = () => {\r\n\t\treturn this.state.debugFlag\r\n\t}\r\n\t\r\n\tchangeFlag = (inputBool) => {\r\n\r\n\t\tif (typeof inputBool !== \"boolean\" ) {\r\n\t\t\treturn false\r\n\t\t}\r\n\t\t\r\n\t\t//setDebugMode(inputBool)\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tdebugFlag: inputBool,\r\n\t\t})\r\n\t\t\r\n\t\treturn true\r\n\t}\r\n\t\r\n\tclearDebug = () => {\r\n\t\tthis.setState({\r\n\t\t\tdebugDisplay: {},\r\n\t\t})\r\n\t}\r\n\t\r\n\tclearPage = (pageName) => {\r\n\t\tlet copySet = this.state.debugDisplay\r\n\t\tcopySet[pageName] = {}\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tdebugDisplay: copySet,\r\n\t\t})\r\n\t}\r\n\t\r\n\tchangeKey = (pageName, itemTag, itemValue) => {\r\n\r\n\t\tif (!this.state.debugFlag) {\r\n\t\t\treturn false\r\n\t\t}\r\n\r\n\t\tlet copySet = this.state.debugDisplay\r\n\t\t\r\n\t\tif (!(pageName in copySet)) {\r\n\t\t\tcopySet[pageName] = {}\r\n\t\t}\r\n\t\t\r\n\t\tcopySet[pageName][itemTag] = itemValue\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tdebugDisplay: copySet,\r\n\t\t})\r\n\t\t\r\n\t\treturn true\r\n\t}\r\n\t\r\n\tbuttonTrigger = () => {\r\n\t\tthis.changeFlag(!this.state.debugFlag)\r\n\t}\r\n\r\n\trender() {\r\n\t\t\r\n\t\tlet displayDebug = []\r\n\t\t\r\n\t\tif (this.state.debugFlag) {\r\n\r\n\t\t\tlet index = 0\r\n\t\t\tfor (let key in this.state.debugDisplay) {\r\n\t\t\t\t\r\n\t\t\t\tlet pageStuff = [\r\n\t\t\t\t\t(\r\n\t\t\t\t\t\t<div className=\"row\" key={index++}>\r\n\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t<u>Name</u>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t<u>Value</u>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)\r\n\t\t\t\t]\r\n\t\t\t\t\r\n\t\t\t\tfor (let contentKey in this.state.debugDisplay[key]) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (typeof contentKey !== \"string\" || typeof this.state.debugDisplay[key][contentKey] === \"object\") {\r\n\t\t\t\t\t\tcontinue\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tpageStuff.push(\r\n\t\t\t\t\t\t<div className=\"row\" key={index}>\r\n\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t{contentKey}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t{this.state.debugDisplay[key][contentKey]}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)\r\n\t\t\t\t\tindex += 1\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tdisplayDebug.push(\r\n\t\t\t\t\t<div className=\"row\" key={key}>\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<Accordion>\r\n\t\t\t\t\t\t\t\t<Accordion.Toggle as={Card.Header} className=\"border\" variant=\"link\" eventKey={\"key\"+index}>\r\n\t\t\t\t\t\t\t\t\t{key}\r\n\t\t\t\t\t\t\t\t</Accordion.Toggle>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey={\"key\"+index}>\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t{pageStuff}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</Accordion.Collapse>\r\n\t\t\t\t\t\t\t</Accordion>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\t\tindex += 1\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tlet switchClass = \"btn btn-secondary\"\t\r\n\t\tif (!this.state.debugFlag) {\r\n\t\t\tswitchClass = \"btn btn-outline-secondary\"\r\n\t\t}\r\n\t\t\r\n\t\tlet showClear = (this.state.ENABLEBUTTON && this.state.debugFlag)\r\n\t\t\r\n\t\t// I dont actually have a Copywrite though... Is it bad to have this on?\r\n\t\t//Copyright &copy;\r\n\t\treturn (\r\n\t\t\t<div className=\"footer fixed-bottom\">\r\n\t\t\t\t<footer className=\"py-3 bg-dark\">\r\n\t\t\t\t\t<div className=\"container\">\r\n\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t{this.state.debugFlag ?\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<Accordion className=\"text-white\">\r\n\t\t\t\t\t\t\t\t\t\t<Accordion.Toggle as={Card.Header} className=\"border\" variant=\"link\" eventKey={\"opener\"}>\r\n\t\t\t\t\t\t\t\t\t\t\tDebug Mode\r\n\t\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\r\n\t\t\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey={\"opener\"}>\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{displayDebug}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</Accordion.Collapse>\r\n\t\t\t\t\t\t\t\t\t</Accordion>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"m-0 text-center text-white\">\r\n\t\t\t\t\t\t\t\t\t\tNightingale Technologies 2021\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t{showClear &&\r\n\t\t\t\t\t\t\t\t<div className=\"col-\">\r\n\t\t\t\t\t\t\t\t\t<button className=\"btn btn-outline-secondary\" onClick={this.clearDebug}>\r\n\t\t\t\t\t\t\t\t\t\tc\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t{this.state.ENABLEBUTTON &&\r\n\t\t\t\t\t\t\t\t<div className=\"col-\">\r\n\t\t\t\t\t\t\t\t\t<button className={switchClass} onClick={this.buttonTrigger}>\r\n\t\t\t\t\t\t\t\t\t\t.\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</footer>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default footer;","import React from \"react\";\r\n\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nimport { Header, Features, About, ContactUs, BetaContact} from \"./landingPages\";\r\n// Services, Testimonials, ContactInfo,\r\n\r\n// I honestly dont know what to put in the Free pages yet...\r\n\r\nclass FreePages extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\t\t\t\r\n        };\r\n\t}\r\n\t\r\n\t// Rendering this with Bootstrap React.... To see if there is anything really interesting I can do with it\r\n\t// So far it doesnt look all that different \r\n\trender() {\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className=\"freePages\">\r\n\t\t\t\r\n\t\t\t\t<Header />\r\n\t\t\t\t\r\n\t\t\t\t<BetaContact \r\n\t\t\t\t\t\r\n\t\t\t\t/>\r\n\t\t\t\t<Features />\r\n\t\t\t\t<About />\r\n\t\t\t\t{/* <Services /> */}\r\n\t\t\t\t{/* <Testimonials /> */}\r\n\t\t\t\t<ContactUs \r\n\t\t\t\t\t\r\n\t\t\t\t/>\r\n\t\t\t\t{/* <ContactInfo /> */}\r\n\t\t\t\t{/*Would this be better as an empty set?*/}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(FreePages);","import React from \"react\";\r\n\r\nimport { withRouter } from \"react-router-dom\";\r\n//import { ButtonGroup, ToggleButton } from 'react-bootstrap';\r\n\r\n//import Store from \"store\"\r\n\r\n//import {makeCompanyTestData} from \"../utils\";\r\n\r\n// Then lets start here...With the Signin, and Sign Up pages\r\n\r\nclass AuthPages extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\t\t\t\r\n\t\t\t// hmmmm\r\n\t\t\texample: 0,\r\n        };\r\n\t}\r\n\t\r\n\tbackButton = () => {\r\n\t\tthis.props.history.goBack()\r\n\t}\r\n\t\r\n\t// Rendering this with Bootstrap React.... To see if there is anything really interesting I can do with it\r\n\t// So far it doesnt look all that different \r\n\trender() {\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className=\"authPages\">\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\tAuthorization Pages\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(AuthPages);","import React from \"react\";\r\n\r\nimport { withRouter, Route, Switch } from \"react-router-dom\";\r\n//import { ButtonGroup, ToggleButton } from 'react-bootstrap'\r\nimport { Alert } from 'react-bootstrap';\r\n\r\n//SetCompany\r\nimport { UserPages, CompanyPages, Dashboard, Loading } from \".\"\r\n\r\n//import { timedLoadStorage } from \"../utils\";\r\n//import { CompanyPages } from \"./companyPages\"\r\n//import { UserPages } from \"./userPages\"\r\nimport { APIGetJournalPrompts, APIGetJournalDates, APIGetNonJournalDates, APIGetSuggestionDates, APIGetSuggestionData, APIGetUsersPermTree, APIGetCompanyValidDates, APIGetCompanySummary, APIGetServerEHIData, APIGetDivisionWebDates, APICheckActive } from \"../utils\";\r\nimport { APIGetUserWebDates, APIGetSearchFilters } from \"../utils\";\r\n\r\n//, deleteStorageKey\r\nimport { timedLoadStorage, timedSaveStorage } from \"../utils\";\r\n//convertFromRaw\r\n\r\n// This needs to be changed out as this is now in 2 files....\r\n/*const daySet = [\r\n    { name: 'Monday', value: 'mon' },\r\n    { name: 'Tuesday', value: 'tue' },\r\n    { name: 'Wednesday', value: 'wed' },\r\n\t{ name: 'Thursday', value: 'thu' },\r\n\t{ name: 'Friday', value: 'fri' },\r\n\t{ name: 'Saturday', value: 'sat' },\r\n\t{ name: 'Sunday', value: 'sun' },\r\n\t{ name: 'All', value: 'allDay' },\r\n];\r\n*/\r\n\r\nconst fakeUse = (input) => {\r\n\t\r\n}\r\n\r\nconst waitTimeMS = 100\r\n//const debugPageName = \"Content Common UserHalf\"\r\n//const debugPageNameDiv = \"Content Common DivisionHalf\"\r\nconst debugPageName = \"Content Common\"\r\nconst debugPageNameDiv = \"Content Common\"\r\n\r\nclass ContentPages extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\t\t\t\r\n\t\t\tcurrentDate: new Date(),\r\n\t\t\t\r\n\t\t\t// If I put the calender in the sidebar, we shall put this here...\r\n\t\t\tvalidJournalDates:[],\r\n\t\t\tvalidJournalScanDates: [],\r\n\t\t\t\r\n\t\t\tselectedCompanyDate: new Date(),\r\n\t\t\tselectedSuggestionDate: new Date(),\r\n\t\t\t\r\n\t\t\t// EHI Page State...\r\n\t\t\tEHIData: [],\r\n\t\t\t\r\n\t\t\t// Company Summary View Save State\r\n\t\t\tselectedCompanyDay:\"mon\",\r\n\t\t\tselectedCompanyPrompt:\"misc\",\r\n\t\t\tselectedCompanyAspect:\"emotion\",\r\n\t\t\t\r\n\t\t\tcompanyMessage: \"Choose a date and company to view that summary!\",\r\n\t\t\t\r\n\t\t\t// Version 2 of the Company Data Selection\r\n\t\t\tcurrentDivisionID:-1,\r\n\t\t\tcurrentDivisionName:\"None\",\r\n\t\t\t\r\n\t\t\t// Last data obtained for company summary\r\n\t\t\tcurrentCompanyDataName:undefined,\r\n\t\t\tcurrentCompanyDataType:undefined,\r\n\t\t\tselectedSummaryWeekData: {},\r\n\t\t\tvalidCompanySummaryDates:[],\r\n\t\t\t\r\n\t\t\t// Suggestions!\r\n\t\t\tselectedSuggestDay: false,\r\n\t\t\tselectedSuggestDayData: [],\r\n\t\t\tvalidDivisionSuggestionDates:[],\r\n\t\t\t\r\n\t\t\tvalidDivisionWebDates: [],\r\n\t\t\tgetDatesWebStatus: 0,\r\n\t\t\tgetDatesWebError: [],\r\n\t\t\t\r\n\t\t\tlastGovernedCompanyRequestStatus:undefined,\r\n\t\t\t\r\n\t\t\tuserLoadedCompanyList: [],\r\n\t\t\t\r\n\t\t\tcheckActiveUserStatus: 0,\r\n\t\t\tcheckActiveUserError: [],\r\n\t\t\t\r\n\t\t\tgetJournalDatesStatus: 0,\r\n\t\t\tgetJournalDatesError: [],\r\n\t\t\t\r\n\t\t\tgetUserCompanyPermsAppStatus: 0,\r\n\t\t\tgetUserCompanyPermsAppError: [],\r\n\t\t\t\r\n\t\t\tgetCompanyValidDatesStatus: 0,\r\n\t\t\tgetCompanyValidDatesError: [],\r\n\t\t\tgetCompanyValidSuggestionDatesStatus: 0,\r\n\t\t\tgetCompanyValidSuggestionDatesError: [],\r\n\t\t\tgetCompanyEHIDataStatus: 0,\r\n\t\t\tgetCompanyEHIDataError: [],\r\n\t\t\t\r\n\t\t\tgetCompanySuggestionDataStatus: 0,\r\n\t\t\tgetCompanySuggestionDataError: [],\r\n\t\t\tgetCompanyWeeklySummaryStatus: 0,\r\n\t\t\tgetCompanyWeeklySummaryError: [],\r\n\t\t\t\r\n\t\t\tgetCompanyDataStatus: true,\r\n\t\t\t\r\n\t\t\tjournalValidUserPrompts: [],\r\n\t\t\tjournalValidPrompts: [],\r\n\t\t\tjournalPromptsErrors: [],\r\n\t\t\tgetJournalPromptsStatus: 0,\r\n\t\t\t\r\n\t\t\tvalidNonJournalDates: [],\r\n\t\t\tgetNonJournalDatesError: [],\r\n\t\t\tgetNonJournalDatesStatus: 0,\r\n\t\t\t\r\n\t\t\tvalidUserWebDates: {},\r\n\t\t\tgetValidWebDatesStatus: [],\r\n\t\t\tgetValidWebDatesError: 0,\r\n\t\t\t\r\n\t\t\tvalidFilters: [],\r\n\t\t\tgetFiltersErrors: [],\r\n\t\t\tgetFiltersStatus: 0,\r\n\t\t\t\r\n\t\t\tpageIsLoaded: false,\r\n        };\r\n\t\tthis.waitForParent = undefined;\r\n\t}\r\n\t\r\n\t// This will run when this component is loaded...\r\n\tcomponentDidMount = () => {\r\n\t\t// On refresh, these will load before App.js has a chance to load in the token...\r\n\t\t\r\n\t\tif ( this.state.currentDivisionID === -1) {\r\n\t\t\tthis.props.changeCompanyMenuItems(-1)\r\n\t\t}\r\n\t\r\n\t\tlet isLoaded = this.checkParentIsLoaded()\r\n\t\tif (!isLoaded) {\t\r\n\t\t\t// Wait until app.js has loaded....\r\n\t\t\tthis.waitForParent = setInterval(this.checkParentIsLoaded, waitTimeMS)\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\ttriggerLogout = (sourceString) => {\r\n\t\tconsole.log(sourceString)\r\n\t\tthis.props.logout()\r\n\t\tthis.props.debugSet(debugPageName, \"Logout Trigger\", sourceString)\r\n\t\tthis.props.history.push(this.props.reRouteSignIn)\r\n\t}\r\n\t\r\n\tclearCompanyData = () => {\r\n\t\tthis.setState({\r\n\t\t\t// Clear EHI Data....\r\n\t\t\tEHIData: [],\r\n\t\t\t\r\n\t\t\tcurrentCompanyDataName:undefined,\r\n\t\t\tcurrentCompanyDataType:undefined,\r\n\t\t\tselectedSummaryWeekData:{},\r\n\t\t\tvalidCompanySummaryDates:[],\r\n\t\t\t\r\n\t\t\tselectedSuggestDay: false,\r\n\t\t\tselectedSuggestDayData: [],\r\n\t\t\tvalidDivisionSuggestionDates:[],\r\n\t\t})\r\n\t}\r\n\t\r\n\tcheckParentIsLoaded = () => {\r\n\t\t\r\n\t\tif (this.props.parentHasLoaded) {\r\n\t\t\tclearInterval(this.waitForParent)\r\n\t\t\t//console.log(\"Content page Finished Loading!\")\r\n\t\t\tthis.loadData()\r\n\t\t\t\r\n\t\t\treturn true\r\n\t\t}\r\n\t\telse if (this.props.currentUser === undefined) {\r\n\t\t\t// NO USER! FECK\r\n\t\t\t//clearInterval(this.waitForParent)\r\n\t\t\t//this.triggerLogout(\"NO USER CHECK\")\r\n\t\t\t\r\n\t\t\t//return true\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn false\r\n\t\t}\r\n\t}\r\n\t\r\n\tloadFromLocalStorage = () => {\r\n\t\tlet lastDivObject = timedLoadStorage(this.props.currentUser+'/lastGotCompany');\r\n\t\t\r\n\t\tif (lastDivObject === 0) {\r\n\t\t\t//console.log(\"No User In the Storage!\")\r\n\t\t}\r\n\t\telse if (lastDivObject === 1) {\r\n\t\t\t//console.log(\"Session was expired!\")\r\n\t\t}\r\n\t\telse if (lastDivObject === 2) {\r\n\t\t\t//console.log(\"Invalid Save!\")\r\n\t\t}\r\n\t\telse {\r\n\t\t\t//this.getCompanyDataRequest(lastDivObject)\r\n\t\t}\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tpageIsLoaded: true,\r\n\t\t})\r\n\t}\r\n\t\r\n\tloadData = () => {\r\n\t\t\r\n\t\t// Do have this as a check on the server side in everything... A special error\r\n\t\tthis.props.changeUserMenuItems(-1)\r\n\t\tthis.checkActiveUser()\r\n\t\t// We will wait for this to return true before we continue\r\n\t}\r\n\t\r\n\tloadOtherData = () => {\r\n\t\tthis.getJournalPrompts()\r\n\t\tthis.getValidDates()\r\n\t\t\r\n\t\tthis.getValidWebDates()\r\n\t\t\r\n\t\tthis.getUserCompanyPermsApp()\r\n\t\tthis.getSearchFilters()\r\n\t\t\r\n\t\t// This must trigger once all are done...\r\n\t\t// Right now this triggers nce they are all started. Which is of course the wrong time.\r\n\t\t// This also is a notification for lower down things that we are done loading, and they can start their loads...\r\n\t\tthis.setState({\r\n\t\t\tpageIsLoaded: true,\r\n\t\t})\r\n\t\t\r\n\t\t// Check to see if there was a previous load we want...\r\n\t\t//this.loadFromLocalStorage()\r\n\t}\r\n\t\r\n\tgetValidDates = () => {\r\n\t\tthis.getValidJournalDates()\r\n\t\tthis.getValidNonJournalDates()\r\n\t}\r\n\t\r\n\t// I should consider rolling this into the other callbacks...\r\n\t// All API calls WILL fail if they are not active...\r\n\tfiltersFailure = (responseData) => {\r\n\t\tlet returnData = []\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.debugSet(debugPageName, \"Refresh Triggered\", \"Filters Get\")\r\n\t\t\tthis.props.refreshToken(this.loadOtherData)\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageName, \"Get Filters\", \"FAILURE\")\r\n\t\t\r\n\t\treturnData = responseData['messages']\r\n\t\tthis.setState({\r\n\t\t\tgetFiltersErrors:returnData,\r\n\t\t\tgetFiltersStatus:3,\r\n\t\t})\r\n\t}\r\n\tfiltersCallback = (incomingFilters) => {\r\n\t\tthis.props.debugSet(debugPageName, \"Get Filters\", Number(incomingFilters.length))\r\n\t\tthis.setState({\r\n\t\t\tvalidFilters: incomingFilters,\r\n\t\t\tgetFiltersStatus:2,\r\n\t\t})\r\n\t}\r\n\tgetSearchFilters = () => {\r\n\t\tif (!(this.props.currentUser === undefined)) {\t\r\n\t\t\tlet checkData = undefined\r\n\t\t\tif (checkData === undefined) {\r\n\t\t\t\t//console.log(\"Filters are not in storage!\")\r\n\t\t\t\tAPIGetSearchFilters(this.filtersCallback, this.filtersFailure)\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tgetFiltersStatus:1,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tconsole.log(\"Filters ARE in storage!\")\r\n\t\t\t\t//this.journalPromptsCallback(checkData.???, checkData.???)\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.triggerLogout(\"GetSearchFilters\")\r\n\t\t}\r\n\t}\r\n\t\r\n\t// I should consider rolling this into the other callbacks...\r\n\t// All API calls WILL fail if they are not active...\r\n\tjournalPromptsFailure = (responseData) => {\r\n\t\tlet returnData = []\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.debugSet(debugPageName, \"Refresh Triggered\", \"Journal Prompts\")\r\n\t\t\tthis.props.refreshToken(this.loadOtherData)\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageName, \"Get Journals\", \"FAILURE\")\r\n\t\t\r\n\t\treturnData = responseData['messages']\r\n\t\tthis.setState({\r\n\t\t\tjournalPromptsErrors:returnData,\r\n\t\t\tgetJournalPromptsStatus:3,\r\n\t\t})\r\n\t}\r\n\tjournalPromptsCallback = (incomingPrompts) => {\r\n\t\t// I could define the new Editors here?\r\n\t\t// Or do I just store this shiz into storage?\r\n\t\t// Hm, how much... SHOULD go into storage?\r\n\t\t//console.log(incomingPrompts)\r\n\t\t//console.log(incomingPersonalPrompts)\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageName, \"Get Journals\", Number(incomingPrompts.length))\r\n\t\tthis.setState({\r\n\t\t\tjournalValidPrompts: incomingPrompts,\r\n\t\t\tgetJournalPromptsStatus:2,\r\n\t\t})\r\n\t}\r\n\tgetJournalPrompts = () => {\r\n\t\tif (!(this.props.currentUser === undefined)) {\t\r\n\t\t\tlet checkData = undefined\r\n\t\t\tif (checkData === undefined) {\r\n\t\t\t\t//console.log(\"Prompts are not in storage!\")\r\n\t\t\t\tAPIGetJournalPrompts( this.journalPromptsCallback, this.journalPromptsFailure)\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tgetJournalPromptsStatus:1,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tconsole.log(\"Prompts ARE in storage!\")\r\n\t\t\t\t//this.journalPromptsCallback(checkData.???, checkData.???)\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.triggerLogout(\"GetJournalPrompts\")\r\n\t\t}\r\n\t}\r\n\t\r\n\t// There IS a *Isactive* in Django, but that will be used to close accounds due to how its coded\r\n\t// But we should check here, and redirect to the Verification page if we fail...\r\n\tcheckActiveUserFailure = (responseData) => {\r\n\t\tlet returnData = []\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t//console.log(\"WHY\")\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.debugSet(debugPageName, \"Refresh Triggered\", \"Active User\")\r\n\t\t\tthis.props.refreshToken(this.loadData)\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageName, \"Active User\", \"Error\")\r\n\t\treturnData = responseData['messages']\r\n\r\n\t\tthis.setState({\r\n\t\t\tcheckActiveUserStatus: 3,\r\n\t\t\tcheckActiveUserError: returnData,\r\n\t\t})\r\n\r\n\t}\r\n\tcheckActiveUserCallback = (ActiveState) => {\r\n\t\t\r\n\t\tif (ActiveState === true) {\r\n\t\t\t//console.log(\"User is considered Active\")\r\n\t\t\tthis.props.changeUserMenuItems(0)\r\n\t\t\tthis.setState({\r\n\t\t\t\tcheckActiveUserStatus: 2,\r\n\t\t\t})\r\n\t\t\t// Continue!\r\n\t\t\tthis.props.debugSet(debugPageName, \"Active User\", \"True\")\r\n\t\t\tthis.loadOtherData()\r\n\t\t}\r\n\t\telse {\r\n\t\t\t//console.log(\"User needs to activate account\")\r\n\t\t\tthis.props.debugSet(debugPageName, \"Active User\", \"False\")\r\n\t\t\tthis.props.history.push(this.props.activateRedirect)\r\n\t\t}\r\n\t}\r\n\tcheckActiveUser = () => {\r\n\t\tif (!(this.props.currentUser === undefined)) {\t\r\n\t\t\tAPICheckActive(this.checkActiveUserCallback, this.checkActiveUserFailure)\r\n\t\t\tthis.setState({\r\n\t\t\t\tcheckActiveUserStatus: 1,\r\n\t\t\t})\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.triggerLogout(\"CheckActiveUser\")\r\n\t\t}\r\n\t}\r\n\t\r\n\tgetValidWebDatesFailure = (responseData) => {\r\n\t\tlet returnData = []\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.debugSet(debugPageName, \"Refresh Triggered\", \"Web Dates\")\r\n\t\t\tthis.props.refreshToken( this.loadOtherData )\r\n\t\t\treturn\r\n\t\t}\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageName, \"Get Valid Webs\", \"Failure\")\r\n\t\t\r\n\t\treturnData = responseData['messages']\r\n\t\tthis.setState({\r\n\t\t\tgetValidWebDatesStatus: 3,\r\n\t\t\tgetValidWebDatesError: returnData,\r\n\t\t})\r\n\t}\r\n\tgetValidWebDatesCallback = (incomingWebDates) => {\r\n\t\t//console.log(incomingWebDates)\r\n\t\t//Store.set(this.props.currentUser+\"-ValidDates\", {\"journalDates\":incomingJournalDates ,\"AIDates\":incomingJournalAIDates})\r\n\t\t// Hmmmmmm, how should I do this?\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageName, \"Get Valid Webs\", Number(incomingWebDates.length))\r\n\t\tif(incomingWebDates.length > 0) {\r\n\t\t\tthis.props.changeUserMenuItems(1)\r\n\t\t}\r\n\t\tthis.setState({\r\n\t\t\tvalidUserWebDates: incomingWebDates,\r\n\t\t\tgetValidWebDatesStatus: 2,\r\n\t\t})\r\n\t}\r\n\tgetValidWebDates = () => {\r\n\t\t\r\n\t\t//console.log(\"Running a journal dates check\")\r\n\t\t\r\n\t\t// Check if the user is a valid one... As this is loaded in App.js\r\n\t\tif (!(this.props.currentUser === undefined)) {\t\t\r\n\t\t\t// We have to overwrite it if the data is old though...\r\n\t\t\tlet checkData = undefined//Store.get(this.props.currentUser+\"-ValidDates\")\r\n\t\t\tif (checkData === undefined) {\r\n\t\t\t\t//console.log(\"Valid journal Dates were not in the cookies!\")\r\n\t\t\t\tAPIGetUserWebDates(this.getValidWebDatesCallback, this.getValidWebDatesFailure)\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tgetValidWebDatesStatus: 1,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t//console.log(\"Valid Journal dates WERE in the cockies!\")\r\n\t\t\t\tthis.getValidWebDatesCallback(checkData.journalDates, checkData.AIDates)\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\t//console.log(\"Invalid User\")\r\n\t\t\tthis.triggerLogout(\"GetValidWebDates\")\r\n\t\t}\r\n\t}\r\n\t\r\n\tjournalDatesFailure = (responseData) => {\r\n\t\tlet returnData = []\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.debugSet(debugPageName, \"Refresh Triggered\", \"Journal Dates\")\r\n\t\t\tthis.props.refreshToken( this.loadOtherData )\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageName, \"Get Journal Dates\", \"Error\")\r\n\t\treturnData = responseData['messages']\r\n\t\tthis.setState({\r\n\t\t\tgetJournalDatesStatus: 3,\r\n\t\t\tgetJournalDatesError: returnData,\r\n\t\t})\r\n\t}\r\n\t// Journal Date Stuff----------------------------------------------------------------------\r\n\tjournalDatesCallback = (incomingJournalDates, incomingJournalAIDates) => {\r\n\t\t\r\n\t\t//console.log(incomingJournalDates)\r\n\t\t//console.log(incomingJournalAIDates)\r\n\t\t\r\n\t\tlet thing = \"\"\r\n\t\tlet len = 0\r\n\t\tfor (thing in incomingJournalDates) {\r\n\t\t\tlen += 1\r\n\t\t}\r\n\t\tfor (thing in incomingJournalAIDates) {\r\n\t\t\tlen += 1\r\n\t\t}\r\n\t\tfakeUse(thing)\r\n\t\t\r\n\t\t//Store.set(this.props.currentUser+\"-ValidDates\", {\"journalDates\":incomingJournalDates ,\"AIDates\":incomingJournalAIDates})\r\n\t\tthis.props.debugSet(debugPageName, \"Get Journal Dates\", len)\r\n\t\tthis.setState({\r\n\t\t\tvalidJournalDates: incomingJournalDates,\r\n\t\t\tvalidJournalScanDates: incomingJournalAIDates,\r\n\t\t\tgetJournalDatesStatus: 2,\r\n\t\t})\r\n\t}\r\n\tgetValidJournalDates = () => {\r\n\t\t\r\n\t\t//console.log(\"Running a journal dates check\")\r\n\t\t\r\n\t\t// Check if the user is a valid one... As this is loaded in App.js\r\n\t\tif (!(this.props.currentUser === undefined)) {\t\t\r\n\t\t\t// We have to overwrite it if the data is old though...\r\n\t\t\tlet checkData = undefined//Store.get(this.props.currentUser+\"-ValidDates\")\r\n\t\t\tif (checkData === undefined) {\r\n\t\t\t\t//console.log(\"Valid journal Dates were not in the cookies!\")\r\n\t\t\t\tAPIGetJournalDates(this.journalDatesCallback, this.journalDatesFailure)\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tgetJournalDatesStatus: 1,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t//console.log(\"Valid Journal dates WERE in the cockies!\")\r\n\t\t\t\tthis.journalDatesCallback(checkData.journalDates, checkData.AIDates)\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\t//console.log(\"Invalid User\")\r\n\t\t\tthis.triggerLogout(\"GetValidJournalDates\")\r\n\t\t}\r\n\t}\r\n\t\r\n\tnonJournalDatesFailure = (responseData) => {\r\n\t\tlet returnData = []\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.debugSet(debugPageName, \"Refresh Triggered\", \"Multi Choice Dates\")\r\n\t\t\tthis.props.refreshToken( this.loadOtherData )\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageName, \"Get Multi Choice Dates\", \"Error\")\r\n\t\treturnData = responseData['messages']\r\n\t\tthis.setState({\r\n\t\t\tgetNonJournalDatesStatus: 3,\r\n\t\t\tgetNonJournalDatesError: returnData,\r\n\t\t})\r\n\t}\r\n\t// Journal Date Stuff----------------------------------------------------------------------\r\n\tnonJournalDatesCallback = (incomingNonJournalDates) => {\r\n\t\t\r\n\t\t//console.log(incomingNonJournalDates)\r\n\t\t\r\n\t\tlet thing = \"\"\r\n\t\t\r\n\t\tlet len = 0\r\n\t\tfor (thing in incomingNonJournalDates) {\r\n\t\t\tlen += 1\r\n\t\t}\r\n\t\tfakeUse(thing)\r\n\t\t\r\n\t\t//Store.set(this.props.currentUser+\"-ValidDates\", {\"journalDates\":incomingJournalDates ,\"AIDates\":incomingJournalAIDates})\r\n\t\tthis.props.debugSet(debugPageName, \"Get Multi Choice Dates\", len)\r\n\t\tthis.setState({\r\n\t\t\tvalidNonJournalDates: incomingNonJournalDates,\r\n\t\t\tgetNonJournalDatesStatus: 2,\r\n\t\t})\r\n\t}\r\n\tgetValidNonJournalDates = () => {\r\n\t\t\r\n\t\t// Check if the user is a valid one... As this is loaded in App.js\r\n\t\tif (!(this.props.currentUser === undefined)) {\t\t\r\n\t\t\t// We have to overwrite it if the data is old though...\r\n\t\t\tlet checkData = undefined//Store.get(this.props.currentUser+\"-ValidDates\")\r\n\t\t\tif (checkData === undefined) {\r\n\t\t\t\t//console.log(\"Valid journal Dates were not in the cookies!\")\r\n\t\t\t\tAPIGetNonJournalDates(this.nonJournalDatesCallback, this.nonJournalDatesFailure)\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tgetNonJournalDatesStatus: 1,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t//console.log(\"Valid Journal dates WERE in the cockies!\")\r\n\t\t\t\tthis.nonJournalDatesCallback(checkData)\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\t//console.log(\"Invalid User\")\r\n\t\t\tthis.triggerLogout(\"GetValidNon-JournalDates\")\r\n\t\t}\r\n\t}\r\n\t\r\n\t// Company Axios/State stuff---------------------------------------------------------------------\r\n\tcompanyListFailure = (responseData) => {\r\n\t\tlet returnData = []\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.debugSet(debugPageName, \"Refresh Triggered\", \"Get Company List\")\r\n\t\t\tthis.props.refreshToken(this.loadOtherData)\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageName, \"Get Permissions\", \"Error\")\r\n\t\treturnData = responseData['messages']\r\n\t\tthis.setState({\r\n\t\t\tgetUserCompanyPermsAppStatus: 3,\r\n\t\t\tgetUserCompanyPermsAppError: returnData,\r\n\t\t})\r\n\t}\r\n\tcompanyListCallback = (incomingCompanyList) => {\r\n\t\t\r\n\t\t//Store.set(this.props.currentUser+'-loadedList', incomingCompanyList)\r\n\t\tthis.setState({\r\n\t\t\tuserLoadedCompanyList: incomingCompanyList,\r\n\t\t\tgetUserCompanyPermsAppStatus: 2,\r\n\t\t})\r\n\t\t\r\n\t\t// Check to see if the loaded stuff has any admin or viewers in it\r\n\t\t// If the answer is ONLY ONE, auto load the company data...\r\n\t\t// Note to self, I could maybe use this down in te Company pages core...\r\n\t\tlet selectableCount = 0\r\n\t\tlet selectableIndex = -1\r\n\t\tfor (let index in incomingCompanyList) {\r\n\t\t\tlet checkIndex1 = incomingCompanyList[index][\"perm\"].indexOf(0)\r\n\t\t\tlet checkIndex2 = incomingCompanyList[index][\"perm\"].indexOf(1)\r\n\t\t\tif ( checkIndex1 > -1 || checkIndex2 > -1 ) {\r\n\t\t\t\tselectableCount += 1\r\n\t\t\t\t\r\n\t\t\t\tselectableIndex = checkIndex2\r\n\t\t\t\tif (checkIndex1 > -1) {\r\n\t\t\t\t\tselectableIndex = checkIndex1\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.props.debugSet(debugPageName, \"Get Permissions\", Number(incomingCompanyList.length))\r\n\t\t// Auto trigger a load? This may be bad if the user is not needing the company mode\r\n\t\t// It MAY BE BETTER to put this over into the company pages....\r\n\t\t// Perms can be loaded here... Hm\r\n\t\tif (selectableCount === 1 && selectableCount > -1) {\r\n\t\t\tthis.getCompanyDataRequest( incomingCompanyList[selectableIndex] )\r\n\t\t}\r\n\t}\r\n\tgetUserCompanyPermsApp = (  ) => {\r\n\t\tif (!(this.props.currentUser === undefined)) {\t\r\n\t\t\t// We still have to check for date related reworks...\r\n\t\t\tlet checkData = undefined//Store.get(this.props.currentUser+\"-companyPermViewTree\")\r\n\t\t\tlet checkData2 = undefined//Store.get(this.props.currentUser+\"-companyPermViewNames\")\r\n\t\t\tif (checkData === undefined || checkData2 === undefined) {\r\n\t\t\t\t//console.log(\"Company list was not in the cookies!\")\r\n\t\t\t\tAPIGetUsersPermTree([\"admin\", \"view\", 'send', 'gov'], this.companyListCallback, this.companyListFailure)\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tgetUserCompanyPermsAppStatus: 1,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t//console.log(\"Company Tree WAS in the cookies!\")\r\n\t\t\t\tthis.companyListCallback(checkData, checkData2)\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.triggerLogout(\"GetUserCompanyPerms\")\r\n\t\t}\r\n\t}\r\n\t\r\n\tcompanyDatesFailure = (responseData) => {\r\n\t\tlet returnData = []\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.debugSet(debugPageNameDiv, \"Refresh Triggered\", \"Division Dates\")\r\n\t\t\tthis.props.refreshToken(this.getThatData)\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageNameDiv, \"Get Division Dates\", \"FAILURE\")\r\n\t\treturnData = responseData['messages']\r\n\t\tthis.setState({\r\n\t\t\tgetCompanyValidDatesStatus: 3,\r\n\t\t\tgetCompanyValidDatesError: returnData,\r\n\t\t})\r\n\t}\r\n\tcompanyDatesCallback = (incomingDatesObject) => {\r\n\t\t//Store.set(this.props.currentUser+\"-\"+this.state.currentDivisionID+\"-ValidDates\", {'dates':incomingDatesList})\r\n\t\tlet length = 0\r\n\t\t\r\n\t\tfor (let thing in incomingDatesObject) {\r\n\t\t\tlength += incomingDatesObject[thing].length\r\n\t\t}\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageNameDiv, \"Get Division Dates\", length)\r\n\t\tthis.setState({\r\n\t\t\tvalidCompanySummaryDates: incomingDatesObject,\r\n\t\t\tgetCompanyValidDatesStatus: 2,\r\n\t\t})\r\n\t}\r\n\tgetCompanyValidDates = () => {\r\n\t\tif (!(this.state.currentDivisionID === -1)) {\r\n\t\t\tlet checkData = undefined//Store.get(this.props.currentUser+\"-\"+this.state.currentDivisionID+\"-ValidDates\")\r\n\t\t\tif (checkData === undefined) {\r\n\t\t\t\t//console.log(\"Company dates were not in the cookies\")\r\n\t\t\t\tAPIGetCompanyValidDates(this.state.currentDivisionID, this.companyDatesCallback, this.companyDatesFailure)\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tgetCompanyValidDatesStatus: 1,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t//console.log(\"Company Dates WERE in the coockies!\")\r\n\t\t\t\tthis.companyDatesCallback(checkData[\"dates\"])\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\t//console.log(\"Invalid company!\")\r\n\t\t}\r\n\t}\r\n\t\r\n\tcompanySuggestionDateFailure = (responseData) => {\r\n\t\tlet returnData = []\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.debugSet(debugPageNameDiv, \"Refresh Triggered\", \"Division Suggesstion Dates\")\r\n\t\t\tthis.props.refreshToken(this.getThatData)\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageNameDiv, \"Get Division Suggestion Dates\", \"FAILURE\")\r\n\t\treturnData = responseData['messages']\r\n\t\tthis.setState({\r\n\t\t\tgetCompanyValidSuggestionDatesStatus: 3,\r\n\t\t\tgetCompanyValidSuggestionDatesError: returnData,\r\n\t\t})\r\n\t}\r\n\tcompanySuggestionDateCallback = (incomingDatesList) => {\r\n\t\t//Store.set(this.props.currentUser+\"-\"+this.state.currentDivisionID+\"-ValidSuggestionDates\", {'dates':incomingDatesList})\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageNameDiv, \"Get Division Suggestion Dates\", Number(incomingDatesList.length))\r\n\t\tthis.setState({\r\n\t\t\tvalidDivisionSuggestionDates: incomingDatesList,\r\n\t\t\tgetCompanyValidSuggestionDatesStatus: 2,\r\n\t\t})\r\n\t}\r\n\tgetCompanyValidSuggestionDates = () => {\r\n\t\tif (!(this.state.currentDivisionID === -1)) {\r\n\t\t\tlet checkData = undefined//Store.get(this.props.currentUser+\"-\"+this.state.currentDivisionID+\"-ValidSuggestionDates\")\r\n\t\t\tif (checkData === undefined) {\r\n\t\t\t\t//console.log(\"Division suggestion dates were not in the cookies...\")\r\n\t\t\t\tAPIGetSuggestionDates(this.state.currentDivisionID, this.companySuggestionDateCallback, this.companySuggestionDateFailure)\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tgetCompanyValidSuggestionDatesStatus: 1,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t//console.log(\"Division suggestion dates WERE in the coockies!\")\r\n\t\t\t\tthis.companySuggestionDateCallback(checkData[\"dates\"])\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\t//console.log(\"Invalid company!\")\r\n\t\t}\r\n\t}\r\n\t\r\n\tcompanySuggestionDataFailure = (responseData) => {\r\n\t\tlet returnData = []\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.debugSet(debugPageNameDiv, \"Refresh Triggered\", \"Company Suggestions\")\r\n\t\t\tthis.props.refreshToken(this.tokenHasRefreshed)\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageNameDiv, \"Get Division Suggestion Data\", \"Failure\")\r\n\t\treturnData = responseData['messages']\r\n\t\tthis.setState({\r\n\t\t\tgetCompanySuggestionDataStatus: 3,\r\n\t\t\tgetCompanySuggestionDataError: returnData,\r\n\t\t})\r\n\t}\r\n\tcompanySuggestionDataCallback = (targetDate, incomingData) => {\r\n\t\t//Store.set(this.props.currentUser+\"-\"+this.state.currentDivisionID+\"-\"+targetDate+\"-suggestions\", {'data':incomingData})\r\n\t\tthis.props.debugSet(debugPageNameDiv, \"Get Division Suggestion Data\", \"Got Data\")\r\n\t\tlet givenDate = new Date(targetDate)\r\n\t\tthis.setState({\r\n\t\t\tselectedSuggestDay: givenDate,\r\n\t\t\tselectedSuggestDayData: incomingData,\r\n\t\t\tgetCompanySuggestionDataStatus: 2,\r\n\t\t})\r\n\t}\r\n\tgetCompanySuggestionData = (selectedDate) => {\r\n\t\t\r\n\t\tif (!(this.state.currentDivisionID === -1)) {\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tgetCompanySuggestionData:selectedDate,\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\tlet checkData = undefined//Store.get(this.props.currentUser+\"-\"+this.state.currentDivisionID+\"-\"+selectedDate+\"-suggestions\")\r\n\t\t\tif (checkData === undefined) {\r\n\t\t\t\t//console.log(\"Division suggestion data was not in the cookies\")\r\n\t\t\t\tAPIGetSuggestionData(this.state.currentDivisionID, selectedDate, this.companySuggestionDataCallback, this.companySuggestionDataFailure)\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tgetCompanySuggestionDataStatus: 1,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t//console.log(\"Division suggestion dates WERE in the coockies!\")\r\n\t\t\t\t//this.companySuggestionDataCallback()\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\t//console.log(\"Invalid company!\")\r\n\t\t\tthis.setState({\r\n\t\t\t\t\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\t\r\n\tcompanyDataFailure = (responseData) => {\r\n\t\tlet returnData = []\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.debugSet(debugPageNameDiv, \"Refresh Triggered\", \"Division Summary Data\")\r\n\t\t\tthis.props.refreshToken(this.tokenHasRefreshed)\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageNameDiv, \"Get Division Summary Data\", \"Failure\")\r\n\t\treturnData = responseData['messages']\r\n\t\tthis.setState({\r\n\t\t\tgetCompanyWeeklySummaryStatus: 3,\r\n\t\t\tgetCompanyWeeklySummaryError: returnData,\r\n\t\t})\r\n\t}\r\n\tcompanyDataCallback = (incomingDataDict, summaryType) => {\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageNameDiv, \"Get Division Summary Data\", \"Success\")\r\n\t\t\r\n\t\t//Store.set(this.props.currentUser+\"-\"+this.state.currentDivisionID+\"-\"+anchorDate+\"Data\", {'data':incomingDataDict})\r\n\t\tthis.setState({\r\n\r\n\t\t\tcompanyMessage: \"Showing Summary for: \" + this.state.currentDivisionID + \" On: \" + this.state.selectedCompanyDate.toString(),\r\n\t\t\tselectedSummaryWeekData: incomingDataDict,\r\n\t\t\tcurrentCompanyDataType: summaryType,\r\n\t\t\tcurrentCompanyDataName: this.state.currentDivisionName,\r\n\t\t\tcurrentCompanyDataID: this.state.currentDivisionID,\r\n\r\n\t\t\tgetCompanyWeeklySummaryStatus: 2,\r\n\t\t})\r\n\t}\r\n\tgetCompanyWeeklySummary = (selectedDate) => {\r\n\t\t\r\n\t\tlet summaryType = 0\r\n\t\t\r\n\t\tif (!(this.state.currentDivisionID === -1)) {\r\n\t\t\tlet checkData = undefined//Store.get(this.props.currentUser+\"-\"+this.state.currentDivisionID+\"-\"+anchorDate+\"Data\")\r\n\t\t\tif (checkData === undefined) {\r\n\t\t\t\t//console.log(\"Company Summary Data was not in the coockies\")\r\n\t\t\t\tAPIGetCompanySummary(this.state.currentDivisionID, summaryType, selectedDate, this.companyDataCallback, this.companyDataFailure)\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tgetCompanyWeeklySummaryStatus: 1,\r\n\t\t\t\t\t\r\n\t\t\t\t\tselectedCompanyDate:selectedDate,\r\n\t\t\t\r\n\t\t\t\t\tcurrentCompanyDataName:undefined,\r\n\t\t\t\t\tcurrentCompanyDataType:undefined,\r\n\t\t\t\t\tselectedSummaryWeekData:{},\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.companyDataCallback(checkData[\"data\"], summaryType)\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\t//console.log(\"Invalid company!\")\r\n\t\t}\r\n\t}\r\n\t\r\n\ttokenHasRefreshed = () => {\r\n\t\t//console.log(\"Tell the user to redo that!\")\r\n\t}\r\n\t\r\n\tcompanyEHIFailure = (responseData) => {\r\n\t\tlet returnData = []\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.debugSet(debugPageNameDiv, \"Refresh Triggered\", \"Division EHI\")\r\n\t\t\tthis.props.refreshToken(this.getThatData)\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageNameDiv, \"Get Division EHI\", \"Failure\")\r\n\t\treturnData = responseData['messages']\r\n\t\tthis.setState({\r\n\t\t\tgetCompanyEHIDataStatus: 3,\r\n\t\t\tgetCompanyEHIDataError: returnData,\r\n\t\t})\r\n\t}\r\n\tcompanyEHICallback = (incomingEHIData) => {\r\n\t\tthis.props.debugSet(debugPageNameDiv, \"Get Division EHI\", \"Success\")\r\n\t\t//Store.set(this.props.currentUser+'-'+this.state.currentDivisionID+'-EHI', {'labelsDays':incomingEHIDaysLabels, 'dataDays':incomingEHIDaysData, 'labelsWeeks':incomingEHIWeeksLabels, 'dataWeeks':incomingEHIWeeksData})\r\n\t\tthis.setState({\r\n\t\t\tEHIData: incomingEHIData,\r\n\t\t\tgetCompanyEHIDataStatus: 2,\r\n\t\t})\r\n\t}\r\n\t// EHI Stuff\r\n\tgetCompanyEHIData = () => {\r\n\t\tif (!(this.state.currentDivisionID === -1)) {\r\n\t\t\tlet checkData = undefined//Store.get(this.props.currentUser+'-'+this.state.currentDivisionID+'-EHI')\r\n\t\t\t// How am I going to check for redos?\r\n\t\t\tif (checkData === undefined) {\r\n\t\t\t\t//console.log(\"Company EHI Data was not in the coockies\")\r\n\t\t\t\tAPIGetServerEHIData(this.state.currentDivisionID, this.companyEHICallback, this.companyEHIFailure)\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tgetCompanyEHIDataStatus: 1,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.companyEHICallback(checkData[\"labelsDays\"], checkData[\"dataDays\"], checkData[\"labelsWeeks\"], checkData[\"dataWeeks\"])\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\t//console.log(\"Invalid company!\")\r\n\t\t}\r\n\t}\r\n\t\r\n\t// Move this up? Move it down? Think of a way to resort this!\r\n\tgetDivisionWebDatesFailure = (incomingError) => {\r\n\t\t\r\n\t\t//Network Error\r\n\t\tif (incomingError['action'] ===\t 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t//Unauthorized\r\n\t\telse if (incomingError['action'] === 1) {\r\n\t\t\tthis.props.debugSet(debugPageNameDiv, \"Refresh Triggered\", \"Division Web Dates\")\r\n\t\t\tthis.props.refreshToken(this.getDivisionWebDates)\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// Obtain error!\r\n\t\telse if (incomingError['action'] === 3) {\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageNameDiv, \"Get Division Web Dates\", \"Failure\")\r\n\t\tthis.setState({\r\n\t\t\tgetDatesWebStatus: 3,\r\n\t\t\tgetDatesWebError: incomingError[\"messages\"],\r\n\t\t})\r\n\t}\r\n\tgetDivisionWebDatesCallback = (incomingDates) => {\r\n\t\t//console.log(incomingWeb)\r\n\t\t\r\n\t\tif(incomingDates.length > 0) {\r\n\t\t\tthis.props.changeCompanyMenuItems(1)\r\n\t\t}\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageNameDiv, \"Get Division Web Dates\", Number(incomingDates.length))\r\n\t\tthis.setState({\r\n\t\t\tvalidDivisionWebDates: incomingDates,\r\n\t\t\tgetDatesWebStatus: 2,\r\n\t\t})\r\n\t}\r\n\tgetDivisionWebDates = () => {\r\n\t\tif (!(this.props.currentDivisionID === -1)) {\r\n\t\t\tlet checkData = undefined\r\n\t\t\tif (checkData === undefined) {\r\n\t\t\t\t\r\n\t\t\t\tAPIGetDivisionWebDates( this.state.currentDivisionID, this.getDivisionWebDatesCallback, this.getDivisionWebDatesFailure)\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tgetDatesWebStatus: 1,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t//this.getDivisionWebDatesCallback(???)\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\t}\r\n\t}\r\n\t\r\n\tgetThatData = () => {\r\n\t\t//console.log(this.state.currentDivisionID)\r\n\t\t// Clear ALL THE DATA from the last company we had set....\r\n\t\tthis.clearCompanyData()\r\n\t\t\r\n\t\tthis.getCompanyEHIData()\r\n\t\tthis.getCompanyValidDates()\r\n\t\tthis.getCompanyValidSuggestionDates()\r\n\t\tthis.getDivisionWebDates()\r\n\t}\r\n\tgetCompanyDataRequest = (divisionObj) => {\r\n\t\tthis.props.changeCompanyMenuItems(-1)\r\n\t\t\r\n\t\t// SANITY CHECK! If I somehow break this and send one that isnt an admin/viewer\r\n\t\tlet adminCheck = divisionObj.perm.indexOf(0) > -1 \r\n\t\tlet viewerCheck = divisionObj.perm.indexOf(1) > -1\r\n\t\tif (adminCheck) {\r\n\t\t\tthis.props.changeCompanyMenuItems(0)\r\n\t\t\tthis.props.changeCompanyMenuItems(2)\r\n\t\t}\r\n\t\telse if (viewerCheck) {\r\n\t\t\tthis.props.changeCompanyMenuItems(0)\r\n\t\t}\r\n\t\t\r\n\t\t// Wait, we need the user in this too... Oops\r\n\t\ttimedSaveStorage( this.props.currentUser+\"/lastGotCompany\", divisionObj, 1)\r\n\t\t\r\n\t\t// So, if this triggers, the menu will be in the proper mode for that....\r\n\t\tif (adminCheck || viewerCheck) {\r\n\r\n\t\t\tthis.setState({\r\n\t\t\t\tcurrentDivisionName: divisionObj.name,\r\n\t\t\t\tcurrentDivisionID: divisionObj.id,\r\n\t\t\t\tcurrentDivisionPerms: divisionObj.perm,\r\n\t\t\t}, this.getThatData )\r\n\t\t\t\r\n\t\t\tthis.props.changeMenuCompanyName(divisionObj.name)\r\n\t\t}\r\n\t\telse {\r\n\t\t\t//console.log(\"Not allowed!\")\r\n\t\t\tthis.setState({\r\n\t\t\t\tgetCompanyDataStatus:false\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\t\r\n\t// Viewing a Company's journal Prompt and Data\r\n\tchangeCompanyPrompt = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tselectedCompanyPrompt:event.currentTarget.value\r\n\t\t})\r\n\t}\r\n\tchangeCompanyAspect = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tselectedCompanyAspect:event.currentTarget.value\r\n\t\t})\r\n\t}\r\n\tchangeCompanyDay = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tselectedCompanyDay:event.currentTarget.value\r\n\t\t});\r\n\t}\r\n\t\r\n\t// Incase something else has to be done, I will do it like this\r\n\treloadPage = () => {\r\n\t\tthis.loadData()\r\n\t}\r\n\t\r\n\t// Rendering this with Bootstrap React.... To see if there is anything really interesting I can do with it\r\n\t// So far it doesnt look all that different \r\n\trender() {\r\n\t\t\r\n\t\tlet showWaiting = this.state.getJournalPromptsStatus === 1 || this.state.checkActiveUserStatus === 1 || this.state.getJournalDatesStatus === 1 || this.state.getUserCompanyPermsAppStatus === 1\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className=\"contentPages\">\r\n\t\t\t\r\n\t\t\t\t{showWaiting && <Loading/>}\r\n\t\t\t\r\n\t\t\t\t<div className=\"container-fluid\">\r\n\r\n\t\t\t\t\t{!showWaiting &&\r\n\r\n\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t<Route path={this.props.match.url} exact component={() => <Dashboard\r\n\t\t\t\t\t\t\t\ttoUserPage={this.props.match.url+\"/userMode/journalWrite\"}\r\n\t\t\t\t\t\t\t\ttoCompanyPage={this.props.match.url+\"/companyMode/companySelect\"}\r\n\r\n\t\t\t\t\t\t\t\tjournalValidPrompts={this.state.journalValidPrompts}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tuserLoadedCompanyList={this.state.userLoadedCompanyList}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tvalidNonJournalDates={this.state.validNonJournalDates}\r\n\t\t\t\t\t\t\t\tvalidJournalDates={this.state.validJournalDates}\r\n\t\t\t\t\t\t\t\tvalidJournalScanDates={this.state.validJournalScanDates}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\treloadPage={this.reloadPage}\r\n\t\t\t\t\t\t\t/>} \r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Route path={this.props.match.url+\"/userMode\"} component={() => <UserPages\r\n\r\n\t\t\t\t\t\t\t\treRouteUser={this.props.reRouteUser}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tgetValidDates={this.getValidDates}\r\n\r\n\t\t\t\t\t\t\t\tcurrentDate={this.state.currentDate}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\trefreshToken={this.props.refreshToken}\r\n\t\t\t\t\t\t\t\tcurrentUser={this.props.currentUser}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tloadCompanyData={this.loadOtherData}\r\n\t\t\t\t\t\t\t\tvalidUserWebDates = {this.state.validUserWebDates}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tvalidNonJournalDates={this.state.validNonJournalDates}\r\n\t\t\t\t\t\t\t\tvalidJournalDates={this.state.validJournalDates}\r\n\t\t\t\t\t\t\t\tvalidJournalScanDates={this.state.validJournalScanDates}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tlastGovernedCompanyRequestStatus={this.state.lastGovernedCompanyRequestStatus}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tdisableMenu={this.props.disableMenu}\r\n\t\t\t\t\t\t\t\tactivateUserMenu={this.props.activateUserMenu}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tuserLoadedCompanyList={this.state.userLoadedCompanyList}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tjournalValidPrompts={this.state.journalValidPrompts}\r\n\t\t\t\t\t\t\t\tjournalPromptsErrors={this.state.journalPromptsErrors}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tvalidFilters={this.state.validFilters}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tdebugSet={this.props.debugSet}\r\n\t\t\t\t\t\t\t/>} \r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Route path={this.props.match.url+\"/companyMode\"} component={() => <CompanyPages\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\trefreshToken={this.props.refreshToken}\r\n\t\t\t\t\t\t\t\tparentHasLoaded={this.state.pageIsLoaded}\r\n\t\t\t\t\t\t\t\tcurrentUser={this.props.currentUser}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\treRouteCompany={this.props.reRouteCompany}\r\n\t\t\t\t\t\t\t\tuserLoadedCompanyList={this.state.userLoadedCompanyList}\r\n\t\t\t\t\t\t\t\tresetCompanySelectStatus={this.resetCompanySelectStatus}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tcurrentDate={this.state.currentDate}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tcurrentDivisionName={this.state.currentDivisionName}\r\n\t\t\t\t\t\t\t\tgetCompanyDataRequest={this.getCompanyDataRequest}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tcurrentDivisionID={this.state.currentDivisionID}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tselectedCompanyDate={this.state.selectedCompanyDate}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tvalidDivisionWebDates = {this.state.validDivisionWebDates}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tvalidDivisionSuggestionDates={this.state.validDivisionSuggestionDates}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tselectedSuggestDay={this.state.selectedSuggestDay}\r\n\t\t\t\t\t\t\t\tselectedSuggestDayData={this.state.selectedSuggestDayData}\r\n\t\t\t\t\t\t\t\tgetCompanySuggestionData={this.getCompanySuggestionData}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tEHIData={this.state.EHIData}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tcurrentCompanyDataName={this.state.currentCompanyDataName}\r\n\t\t\t\t\t\t\t\tcurrentCompanyDataType={this.state.currentCompanyDataType}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tvalidCompanySummaryDates={this.state.validCompanySummaryDates}\r\n\r\n\t\t\t\t\t\t\t\tcompanyMessage={this.state.companyMessage}\r\n\t\t\t\t\t\t\t\tselectedSummaryWeekData={this.state.selectedSummaryWeekData}\r\n\t\t\t\t\t\t\t\tselectedCompanyDay={this.state.selectedCompanyDay}\r\n\t\t\t\t\t\t\t\tselectedCompanyPrompt={this.state.selectedCompanyPrompt}\r\n\t\t\t\t\t\t\t\tselectedCompanyAspect={this.state.selectedCompanyAspect}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tchangeCompanyPrompt={this.changeCompanyPrompt}\r\n\t\t\t\t\t\t\t\tchangeCompanyAspect={this.changeCompanyAspect}\r\n\t\t\t\t\t\t\t\tchangeCompanyDay={this.changeCompanyDay}\r\n\t\t\t\t\t\t\t\tchangeSelectedCompany={this.changeSelectedCompany}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tgetCompanyValidDates={this.getCompanyValidDates}\r\n\t\t\t\t\t\t\t\tgetCompanyWeeklySummary={this.getCompanyWeeklySummary}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tloadCompanyData={this.loadFromLocalStorage}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tdisableMenu={this.props.disableMenu}\r\n\t\t\t\t\t\t\t\tactivateCompanyMenu={this.props.activateCompanyMenu}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tgetCompanyDataStatus={this.state.getCompanyDataStatus}\r\n\t\t\t\t\t\t\t\tgetCompanyValidDatesStatus={this.state.getCompanyValidDatesStatus}\r\n\t\t\t\t\t\t\t\tgetCompanyValidDatesError={this.state.getCompanyValidDatesError}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tgetCompanyValidSuggestionDatesStatus={this.state.getCompanyValidSuggestionDatesStatus}\r\n\t\t\t\t\t\t\t\tgetCompanyValidSuggestionDatesError={this.state.getCompanyValidSuggestionDatesError}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tgetCompanyEHIDataStatus={this.state.getCompanyEHIDataStatus}\r\n\t\t\t\t\t\t\t\tgetCompanyEHIDataError={this.state.getCompanyEHIDataError}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tgetCompanySuggestionDataStatus={this.state.getCompanySuggestionDataStatus}\r\n\t\t\t\t\t\t\t\tgetCompanySuggestionDataError={this.state.getCompanySuggestionDataError}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tgetCompanyWeeklySummaryStatus={this.state.getCompanyWeeklySummaryStatus}\r\n\t\t\t\t\t\t\t\tgetCompanyWeeklySummaryError={this.state.getCompanyWeeklySummaryError}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tgetDatesWebStatus={this.state.getDatesWebStatus}\r\n\t\t\t\t\t\t\t\tgetDatesWebError={this.state.getDatesWebError}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tvalidFilters={this.state.validFilters}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tdebugSet={this.props.debugSet}\r\n\t\t\t\t\t\t\t/>} \r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Switch>\r\n\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t{/*Perhaps I should move forward with moving this to its own component?*/}\r\n\t\t\t\t\t\t\t\t<Alert show={showWaiting} variant=\"warning\">\r\n\t\t\t\t\t\t\t\t\t<Alert.Heading>Waiting</Alert.Heading>\r\n\t\t\t\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t  Waiting for server...\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(ContentPages);","import React from \"react\";\r\nimport { withRouter, Link } from \"react-router-dom\";\r\n\r\n//import { Alert } from 'react-bootstrap'\r\n\r\n// Combine this, and make it better....\r\n// This is FAR TOO INEFFICIENT\r\n// AND has unecessary checks in it\r\nconst checkIfDoneToday = (currentDivObj, promptID, nonJournalPromptsDone, journalPromptsDone, journalScanPromptsDone) => {\r\n\tlet matchToday = false\r\n\r\n\tlet currentDivID = currentDivObj[\"id\"]\r\n\r\n\t// This needs to be put down in the switch statement so all 3 are not run at the same time...\r\n\t// Either that or the if checks :P\r\n\t// Too lazy right now :P\r\n\tif (nonJournalPromptsDone !== undefined) { \r\n\t\tif (nonJournalPromptsDone[\"today\"] !== undefined) {\r\n\t\t\tif (currentDivID in nonJournalPromptsDone[\"today\"]) {\r\n\t\t\t\tfor (let i in nonJournalPromptsDone[\"today\"][currentDivID]) {\r\n\r\n\t\t\t\t\tif (nonJournalPromptsDone[\"today\"][currentDivID][i] === null) {\r\n\t\t\t\t\t\tcontinue\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( promptID === nonJournalPromptsDone[\"today\"][currentDivID][i][\"identifier\"]) {\r\n\t\t\t\t\t\tmatchToday = true\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tif (journalPromptsDone !== undefined) { \r\n\t\tif (journalPromptsDone[\"today\"] !== undefined) {\r\n\t\t\tif (currentDivID in journalPromptsDone[\"today\"]) {\r\n\t\t\t\tfor (let i in journalPromptsDone[\"today\"][currentDivID]) {\r\n\t\t\t\t\tif (journalPromptsDone[\"today\"][currentDivID][i] === null) {\r\n\t\t\t\t\t\tcontinue\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( promptID === journalPromptsDone[\"today\"][currentDivID][i][\"identifier\"]) {\r\n\t\t\t\t\t\tmatchToday = true\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tif (journalScanPromptsDone !== undefined) { \r\n\t\tif (journalScanPromptsDone[\"today\"] !== undefined) {\r\n\t\t\tif (currentDivID in journalScanPromptsDone[\"today\"]) {\r\n\t\t\t\tfor (let i in journalScanPromptsDone[\"today\"][currentDivID]) {\r\n\r\n\t\t\t\t\tif (journalScanPromptsDone[\"today\"][currentDivID][i] === null) {\r\n\t\t\t\t\t\tcontinue\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( promptID === journalScanPromptsDone[\"today\"][currentDivID][i][\"identifier\"]) {\r\n\t\t\t\t\t\tmatchToday = true\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn matchToday\r\n}\r\n\r\nconst modeSelector = (props) => {\r\n\t\r\n\tlet numberPrompts = 0\r\n\tfor (let thing in props.journalValidPrompts) {\r\n\t\t// Valid prompt set\r\n\t\tif (props.journalValidPrompts[thing] !== undefined) {\r\n\t\t\t// Check what ID we are using...\r\n\t\t\t\r\n\t\t\tlet targetSet = \"usr\"\r\n\t\t\tif (!props.journalValidPrompts[thing][\"typeFlag\"]) {\r\n\t\t\t\t//console.log(\"Should be division?\")\r\n\t\t\t\ttargetSet = props.journalValidPrompts[thing][\"divTarget\"]\r\n\t\t\t}\r\n\t\t\t//console.log(targetSet)\r\n\t\t\tfor (let pIndex in props.journalValidPrompts[thing][\"promptSet\"]) {\r\n\t\t\t\tlet promptID = props.journalValidPrompts[thing][\"promptSet\"][pIndex][\"identifier\"]\r\n\t\t\t\t\r\n\t\t\t\t// This doesnt seem to work!\r\n\t\t\t\tlet isDone = checkIfDoneToday(targetSet, promptID, props.validNonJournalDates, props.validJournalDates, props.validJournalScanDates)\r\n\t\t\t\tif (!isDone) {\r\n\t\t\t\t\tnumberPrompts++\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tlet allowCompanySelect = 0\r\n\t// 0 === Admin, 1 === PrivateViewer, 2 === SendsToEmails, 3 === Governed\r\n\t//console.log(props.userLoadedCompanyList)\r\n\t// Find if we have one that is selectable...\r\n\t\r\n\tfor (let index in props.userLoadedCompanyList) {\r\n\t\tfor (let indexPerm in props.userLoadedCompanyList[index][\"perm\"]) {\r\n\t\t\tif (props.userLoadedCompanyList[index][\"perm\"][indexPerm] === 0 || props.userLoadedCompanyList[index][\"perm\"][indexPerm] === 1) {\r\n\t\t\t\tallowCompanySelect++\r\n\t\t\t\tbreak\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t//let userDisplay = (<div>Empty!</div>)\r\n\t// if something?\r\n\tlet userDisplay = (\r\n\t\t<div>\r\n\t\t\t<div className=\"list-group-item\">\r\n\t\t\t\t<b>{numberPrompts}</b> Prompts left for Today\r\n\t\t\t</div>\r\n\t\t\t<Link className=\"btn btn-primary btn-block\" to={props.toUserPage}>\r\n\t\t\t\tChange To User Mode\r\n\t\t\t</Link>\r\n\t\t</div>\r\n\t)\r\n\t\r\n\t\r\n\t\r\n\tlet companyDisplay = (<div>Empty!</div>)\r\n\tif (allowCompanySelect > 0) {\r\n\t\tcompanyDisplay = (\r\n\t\t\t<div>\r\n\t\t\t\t<div className=\"list-group-item\">\r\n\t\t\t\t\t<b>{allowCompanySelect}</b> Viewable Divisions\r\n\t\t\t\t</div>\r\n\t\t\t\t<Link className=\"btn btn-primary btn-block\" to={props.toCompanyPage}>\r\n\t\t\t\t\tChange To Company Mode\r\n\t\t\t\t</Link>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\telse {\r\n\t\tcompanyDisplay = (\r\n\t\t\t<div className=\"list-group-item\">\r\n\t\t\t\tNothing Viewable!\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\t\r\n\tlet showOld = true\r\n\tlet showNew = false\r\n\r\n\treturn (\r\n\t\t<div className=\"defaultView\">\r\n\t\t\t<div className=\"container\">\r\n\t\t\t\r\n\t\t\t{showOld && \r\n\t\t\t\t<div className=\"mt-5\">\r\n\t\t\t\t\t<div className=\"row my-3\">\r\n\t\t\t\t\t\t<div className=\"col m-1\">\r\n\t\t\t\t\t\t\t<div className=\"card shadow\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<h4>\r\n\t\t\t\t\t\t\t\t\t\tDashboard\r\n\t\t\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t\t<div className=\"row my-3\">\r\n\t\t\t\t\t\t<div className=\"col m-1\">\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div className=\"card shadow\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t{userDisplay}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<div className=\"col m-1\">\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div className=\"card shadow\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t{companyDisplay}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"row my-3\">\r\n\t\t\t\t\t\t<div className=\"col m-1\">\r\n\t\t\t\t\t\t\t<div className=\"card shadow\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t<h5>\r\n\t\t\t\t\t\t\t\t\t\t<u>\r\n\t\t\t\t\t\t\t\t\t\t\t<button className=\"btn btn-primary\" onClick={props.reloadPage}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tRefresh Data\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t</u>\r\n\t\t\t\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t{showNew && \r\n\t\t\t\t<div className=\"mt-5\">\r\n\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t\r\n\t)\r\n}\r\n\r\nexport default withRouter(modeSelector);","import React from \"react\";\r\n\r\n//const debugPageName = \"User Data\"\r\n//withRouter\r\n\r\n// This will be used as a test to see if another loading mechanism works\r\nclass UserData extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\t\t\tcurrentUser: \"Nope\",\r\n\t\t};\r\n\t}\r\n\t\r\n\tcomponentDidMount = () => {\r\n\t\t\r\n\t}\r\n\t\r\n\tcheckWholeState = () => {\r\n\t\tconsole.log(\"...This is the currently loaded API stuff...\")\r\n\t\t//console.log(this.state.currentUser)\r\n\t\tconsole.log(\"...END...\")\r\n\t}\r\n\t\r\n\trender() {\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className=\"userDataHolder\">\r\n\t\t\t\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default UserData;","import React from \"react\";\r\n\r\nimport { withRouter } from \"react-router-dom\";\r\n//EditorState, convertToRaw, convertFromRaw\r\nimport {Editor, RichUtils,  } from 'draft-js';\r\nimport { Alert } from 'react-bootstrap';\r\n//ContentState\r\n\r\n// Move this to a util later.... Its used in CompanyPrompts, SelectCompany and Suggestions....\r\nclass Paginator extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n        super(props);\r\n\t\tthis.state = {\r\n\t\t\tbtnLen: 2,\r\n\t\t}\r\n\t}\r\n\t\r\n\trender() {\r\n\t\t\r\n\t\tlet prevAlter = \"\"\r\n\t\tlet nextAlter = \"\"\r\n\t\t\r\n\t\tif (this.props.activePage <= 0) {\r\n\t\t\tprevAlter = \"disabled\"\r\n\t\t}\r\n\r\n\t\tif (this.props.activePage >= this.props.totalLoaded/this.props.numPerPage-1) {\r\n\t\t\tnextAlter = \"disabled\"\r\n\t\t}\r\n\t\t\r\n\t\tlet numberButtons = []\r\n\t\tfor (let i = -this.state.btnLen; i <= this.state.btnLen; i++) {\r\n\t\t\tlet altered = \"\"\r\n\t\t\t\r\n\t\t\tlet altI = i+this.props.activePage\r\n\t\t\tif (altI < 0 || altI >= this.props.totalLoaded/this.props.numPerPage) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (i === 0) {\r\n\t\t\t\taltered = \"active \"\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tnumberButtons.push(\r\n\t\t\t\t<button key={i} className={\"btn btn-outline-primary \" + altered} value={altI} onClick={this.props.changeToNum}>\r\n\t\t\t\t\t{altI}\r\n\t\t\t\t</button>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className = \"paginator\">\r\n\t\t\t\t<div className = \"container\">\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<button className={\"btn btn-outline-primary \" + prevAlter} value=\"bck\" onClick={this.props.changePrevNext}>\r\n\t\t\t\t\t\t\t\tPrev\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t{numberButtons}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<button className={\"btn btn-outline-primary \" + nextAlter} value=\"fwd\" onClick={this.props.changePrevNext}>\r\n\t\t\t\t\t\t\t\tNext\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst styles = {\r\n  editor: {\r\n    border: '1px solid gray',\r\n    minHeight: '6em',\r\n\ttextAlign: 'left',\r\n  }\r\n};\r\n\r\n// START OF EXAMPLE CODE FROM THE DRAFT.JS!!!!!\r\nclass StyleButton extends React.Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.onToggle = (e) => {\r\n\t\t\t//console.log(this.props.style)\r\n\t\t\te.preventDefault();\r\n\t\t\tthis.props.onToggle(this.props.style);\r\n\t\t};\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet className = 'btn btn-outline-primary';\r\n\t\tif (this.props.active) {\r\n\t\t\tclassName += ' active';\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<button className={className} onMouseDown={this.onToggle}>\r\n\t\t\t\t{this.props.label}\r\n\t\t\t</button>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst BLOCK_TYPES = [\r\n\t{label: 'H1', style: 'header-one'},\r\n\t{label: 'H2', style: 'header-two'},\r\n\t{label: 'H3', style: 'header-three'},\r\n\t{label: 'H4', style: 'header-four'},\r\n\t{label: 'H5', style: 'header-five'},\r\n\t{label: 'H6', style: 'header-six'},\r\n\t//{label: 'Blockquote', style: 'blockquote'},\r\n\t{label: 'UL', style: 'unordered-list-item'},\r\n\t{label: 'OL', style: 'ordered-list-item'},\r\n\t//{label: 'Code Block', style: 'code-block'},\r\n];\r\n\r\nconst BlockStyleControls = (props) => {\r\n\tconst {editorState} = props;\r\n\tconst selection = editorState.getSelection();\r\n\tconst blockType = editorState\r\n\t  .getCurrentContent()\r\n\t  .getBlockForKey(selection.getStartKey())\r\n\t  .getType();\r\n\r\n\treturn (\r\n\t\t<div className=\"RichEditor-controls\">\r\n\t\t\t{BLOCK_TYPES.map((type) =>\r\n\t\t\t\t<StyleButton\r\n\t\t\t\t\tkey={type.label}\r\n\t\t\t\t\tactive={type.style === blockType}\r\n\t\t\t\t\tlabel={type.label}\r\n\t\t\t\t\tonToggle={props.onToggle}\r\n\t\t\t\t\tstyle={type.style}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst INLINE_STYLES = [\r\n\t{label: 'Bold', style: 'BOLD'},\r\n\t{label: 'Italic', style: 'ITALIC'},\r\n\t{label: 'Underline', style: 'UNDERLINE'},\r\n\t//{label: 'Monospace', style: 'CODE'},\r\n];\r\n\r\nconst InlineStyleControls = (props) => {\r\n\tconst currentStyle = props.editorState.getCurrentInlineStyle();\r\n\t\r\n\treturn (\r\n\t\t<div className=\"RichEditor-controls\">\r\n\t\t\t{INLINE_STYLES.map((type) =>\r\n\t\t\t\t<StyleButton\r\n\t\t\t\t\tkey={type.label}\r\n\t\t\t\t\tactive={currentStyle.has(type.style)}\r\n\t\t\t\t\tlabel={type.label}\r\n\t\t\t\t\tonToggle={props.onToggle}\r\n\t\t\t\t\tstyle={type.style}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\n// This contains the EditorJS code... So lets do it last as I am unsure as of what to do...\r\nclass suggestionMake extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\t\t\tpageNum:0,\r\n\t\t\tnumPerPage:3,\r\n\t\t\t\r\n\t\t\tnumChooseLimit:5,\r\n\t\t\t\r\n\t\t\tsubList: this.initializeSubList(),\r\n\t\t}\t\r\n\t\t\r\n\t\tthis.focusMe = () => this.refs.editor.focus();\r\n\t}\r\n\t\r\n\tinitializeSubList = () => {\r\n\t\t\r\n\t\tlet generateingList = []\r\n\t\t\r\n\t\t// Hm, this may run multiple times due to my now-messed data reloading structure...\r\n\t\tfor (let index in this.props.userLoadedCompanyList) {\r\n\t\t\t\r\n\t\t\tlet permType = -1\r\n\t\t\tfor (let permIndex in this.props.userLoadedCompanyList[index][\"perm\"]) {\r\n\t\t\t\tif (this.props.userLoadedCompanyList[index][\"perm\"][permIndex] === 3) {\r\n\t\t\t\t\t//console.log(\"Is Admin\")\r\n\t\t\t\t\t// Set the thing to admin no matter what\r\n\t\t\t\t\tpermType = 3\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (permType >= 0 && permType < 4) {\r\n\t\t\t\tgenerateingList.push( this.props.userLoadedCompanyList[index] )\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn generateingList\r\n\t}\r\n\t\r\n\t// Example code... Can I alter this to be more my style?\r\n\t// It works, so its okay for now...\r\n\ttoggleBlockType = (blockType) => {\r\n\t\tthis.props.onChange(\r\n\t\t\tRichUtils.toggleBlockType(\r\n\t\t\t\tthis.props.editorState,\r\n\t\t\t\tblockType\r\n\t\t\t)\r\n\t\t);\r\n\t}\r\n\t\r\n\ttoggleInlineStyle = (inlineStyle) => {\r\n\t\tthis.props.onChange(\r\n            RichUtils.toggleInlineStyle(\r\n\t\t\t\tthis.props.editorState,\r\n\t\t\t\tinlineStyle\r\n            )\r\n        );\r\n\t}\r\n\t\r\n\thandleKeyCommand = (command, editorState) => {\r\n\t\tconst newState = RichUtils.handleKeyCommand(editorState, command);\r\n\r\n\t\tif (newState) {\r\n\t\t\tthis.props.onChange(newState);\r\n\t\t\treturn 'handled';\r\n\t\t}\r\n\r\n\t\treturn 'not-handled';\r\n\t}\r\n\t\r\n\tchangePageTo = (event) => {\r\n\t\t\r\n\t\tlet newPage = Number(event.target.value)\r\n\t\t// Sanity check!\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tpageNum: newPage\r\n\t\t})\r\n\t}\r\n\tchangePageFwdBck = (event) => {\r\n\t\t\r\n\t\tlet newPage = Number(this.state.pageNum)\r\n\t\t\r\n\t\tif (event.target.value === \"fwd\") {\r\n\t\t\tnewPage = newPage + 1\r\n\t\t\r\n\t\t\tif (newPage > this.state.subList.length/this.state.numPerPage) {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if (event.target.value === \"bck\") {\r\n\t\t\tnewPage = newPage - 1\r\n\t\t\t\r\n\t\t\tif (newPage < 0) {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t}\r\n\t\t\t\r\n\t\tthis.setState({\r\n\t\t\tpageNum: newPage\r\n\t\t})\r\n\t}\r\n\t\r\n\tsetCompany = (event) => {\r\n\t\tthis.props.setSuggestionDivision(Number(event.target.value))\r\n\t}\r\n\t\r\n\trender() {\r\n\t\t// Dig following each of the currentSelection...\r\n\t\t\r\n\t\tlet displayDivisionList = []\r\n\t\t\r\n\t\tlet selectedDivisionFull = \"No Valid Company!\"\r\n\t\tlet selectedPerms = 0\r\n\t\t\r\n\t\tfor (let index in this.props.userLoadedCompanyList) {\r\n\t\t\tif (this.props.currentDivisionID === this.props.userLoadedCompanyList[index][\"id\"]) {\r\n\t\t\t\tselectedDivisionFull = this.props.userLoadedCompanyList[index][\"name\"]\r\n\t\t\t\t\r\n\t\t\t\tif (this.props.userLoadedCompanyList[index][\"perm\"].indexOf(3)) {\r\n\t\t\t\t\tselectedPerms = 1\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tfor (let index = 0; index < this.state.numPerPage; index++) {\r\n\t\t\t\r\n\t\t\tlet adjustedIndex = index + this.state.pageNum*this.state.numPerPage\t\t\t\r\n\t\t\tif (adjustedIndex > this.state.subList.length || adjustedIndex < 0) {\r\n\t\t\t\tcontinue\r\n\t\t\t}\r\n\t\t\tif (this.state.subList[adjustedIndex] === undefined) {\r\n\t\t\t\tcontinue\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tdisplayDivisionList.push(\r\n\t\t\t\t<li className=\"list-group-item d-flex justify-content-between align-items-center\" key={index}>\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t{this.state.subList[adjustedIndex][\"fullname\"]}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-2\">\r\n\t\t\t\t\t\t\t<button className=\"btn btn-primary\" value={this.state.subList[adjustedIndex][\"id\"]} onClick={this.setCompany}>\r\n\t\t\t\t\t\t\t\tChoose!\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\tif (displayDivisionList.length === 0) {\r\n\t\t\tdisplayDivisionList.push(\r\n\t\t\t\t<div className=\"row\" key=\"0\">\r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\tThe Server has reported you are not the governed user for any companies!\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\tlet getButtonClass = \"btn \"\r\n\t\tif (selectedPerms > 0) {\r\n\t\t\tgetButtonClass += \"btn-success\"\r\n\t\t}\r\n\t\telse {\r\n\t\t\tgetButtonClass += \"btn-danger\"\r\n\t\t}\r\n\t\t\r\n\t\tlet errorCheckingClass = \"\"\r\n\t\tif (this.props.lastRequestStatus === false) {\r\n\t\t\terrorCheckingClass =' bg-danger'\r\n\t\t}\t\t\r\n\t\t\r\n\t\tlet placeholder = \"\"\r\n\t\t\r\n\t\t//let showIdle = this.props.postSuggestionStatus === 0\r\n\t\tlet showSubmit = this.props.postSuggestionStatus === 1\r\n\t\tlet showSuccess = this.props.postSuggestionStatus === 2\r\n\t\tlet showError = this.props.postSuggestionStatus === 3\r\n\t\t\r\n\t\tlet errorParse = []\r\n\t\tfor (let index in this.props.suggestionErrors) {\r\n\t\t\terrorParse.push(\r\n\t\t\t\tthis.props.suggestionErrors[index][\"text\"]\r\n\t\t\t)\r\n\t\t}\r\n\t\tif (errorParse.length === 0) {\r\n\t\t\terrorParse.push(\r\n\t\t\t\t\"Unknown!\"\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"makeView\">\r\n\t\t\t\t<div className=\"container-fluid\">\r\n\t\t\t\t\r\n\t\t\t\t\t<div className=\"row my-2\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card shadow\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col my-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className={errorCheckingClass}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<h4><u>Which Company Part Is This For?</u></h4>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\t<ul className=\"list-group\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{displayDivisionList}\r\n\t\t\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<Paginator\r\n\t\t\t\t\t\t\t\t\t\tactivePage={this.state.pageNum}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tchangePrevNext={this.changePageFwdBck}\r\n\t\t\t\t\t\t\t\t\t\tchangeToNum={this.changePageTo}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\ttotalLoaded={this.state.subList.length}\r\n\t\t\t\t\t\t\t\t\t\tnumPerPage={this.state.numPerPage}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t\t<div className=\"row my-2\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card shadow\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<h4><u>Writing Suggestion for:</u></h4>\r\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col my-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className={errorCheckingClass}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<h5><b>{selectedDivisionFull}</b></h5>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\t<BlockStyleControls\r\n\t\t\t\t\t\t\t\t\t\t\t\teditorState={this.props.editorState}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonToggle={this.toggleBlockType}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t<InlineStyleControls\r\n\t\t\t\t\t\t\t\t\t\t\t\teditorState={this.props.editorState}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonToggle={this.toggleInlineStyle}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-1\">\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col\" onClick={this.focusMe}>\r\n\t\t\t\t\t\t\t\t\t\t\t<div id=\"align-left\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div style={styles.editor} >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Editor\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t  \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\teditorState={this.props.editorState}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.props.onChange}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleKeyCommand={this.handleKeyCommand}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tspellCheck={true}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={placeholder}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tref=\"editor\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-1\">\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\t<button className={getButtonClass} onMouseDown={this.props.saveToServer}> Save Suggestion </button>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t{/*{showSuccess && successData}\r\n\t\t\t\t\t\t\t\t\t{showSuccess && successData2}\r\n\t\t\t\t\t\t\t\t\t{showNormalError && normalError}\r\n\t\t\t\t\t\t\t\t\t{showUnknownError && unknownError}*/}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Alert show={showSubmit} variant=\"warning\">\r\n\t\t\t\t\t\t<Alert.Heading>Waiting</Alert.Heading>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t  Waiting for server response...\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Alert show={showSuccess} variant=\"success\">\r\n\t\t\t\t\t\t<Alert.Heading>Success!</Alert.Heading>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t  Successfully submitted suggestion!\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Alert show={showError} variant=\"danger\">\r\n\t\t\t\t\t\t<Alert.Heading>Error!</Alert.Heading>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t{errorParse}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default withRouter(suggestionMake);","import React from \"react\";\r\n\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { APIUserSettingsEdit} from \"../../utils\";\r\n\r\n\r\nimport { Alert } from 'react-bootstrap';\r\n\r\nconst debugPageName = \"User Profile\"\r\n\r\n// Trying this in function form instead of class\r\nclass UserProfile extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tdelViews:[],\r\n\t\t\ttogSends: [],\r\n\t\t\tdelGoverns: [],\r\n\t\t\t\r\n\t\t\tadminSubList: this.initAdmin(),\r\n\t\t\tviewSubList: this.initViews(),\r\n\t\t\tsendSubList: this.initSends(),\r\n\t\t\tgovSubList: this.initGovs(),\r\n\t\t\t\r\n\t\t\tselectedName: \"No Name!\",\r\n\t\t\tsaveChangesStatus: 0,\r\n\t\t\tsaveChangesError: [],\r\n        };\r\n\t}\r\n\t\r\n\tinitAdmin = () => {\r\n\t\tlet adminSubList = []\r\n\t\tfor (let index in this.props.userLoadedCompanyList) {\r\n\t\t\t// View\r\n\t\t\tif (this.props.userLoadedCompanyList[index][\"perm\"].indexOf(0) > -1) {\r\n\t\t\t\tadminSubList.push(this.props.userLoadedCompanyList[index])\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn adminSubList\r\n\t}\r\n\t\r\n\tinitViews = () => {\r\n\t\tlet viewSubList = []\r\n\t\tfor (let index in this.props.userLoadedCompanyList) {\r\n\t\t\t// View\r\n\t\t\tif (this.props.userLoadedCompanyList[index][\"perm\"].indexOf(1) > -1) {\r\n\t\t\t\tviewSubList.push(this.props.userLoadedCompanyList[index])\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn viewSubList\r\n\t}\r\n\t\r\n\tinitSends = () => {\r\n\t\tlet sendSubList = []\r\n\t\tfor (let index in this.props.userLoadedCompanyList) {\r\n\t\t\t// Send\r\n\t\t\tif (this.props.userLoadedCompanyList[index][\"perm\"].indexOf(2) > -1 ) {\r\n\t\t\t\tsendSubList.push(this.props.userLoadedCompanyList[index])\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn sendSubList\r\n\t}\r\n\t\r\n\tinitGovs = () => {\r\n\t\tlet govSubList = []\r\n\t\tfor (let index in this.props.userLoadedCompanyList) {\r\n\t\t\t// Govern\r\n\t\t\tif (this.props.userLoadedCompanyList[index][\"perm\"].indexOf(3) > -1 ) {\r\n\t\t\t\tgovSubList.push(this.props.userLoadedCompanyList[index])\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn govSubList\r\n\t}\r\n\t\r\n\tsetCurrentData = (event) => {\r\n\t\t\r\n\t\tlet valueIndex = Number(event.target.value)\r\n\t\t\r\n\t\tlet selectedName = \"No Name!\"\r\n\t\t//console.log(\"Leave\")\r\n\t\t//console.log(valueInt)\r\n\t\t\r\n\t\tlet tempGov = []\r\n\t\tlet tempSen = []\r\n\t\tlet tempVie = []\r\n\t\tswitch(event.target.name) {\r\n\t\t\tcase \"gov\":\r\n\t\t\t\ttempGov.push( this.state.govSubList[valueIndex][\"id\"] )\r\n\t\t\t\tselectedName = this.state.govSubList[valueIndex][\"fullname\"]\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"sen\":\r\n\t\t\t\ttempSen.push( this.state.viewSubList[valueIndex][\"id\"] )\r\n\t\t\t\tselectedName = this.state.viewSubList[valueIndex][\"fullname\"]\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"admSen\":\r\n\t\t\t\ttempSen.push( this.state.adminSubList[valueIndex][\"id\"] )\r\n\t\t\t\tselectedName = this.state.adminSubList[valueIndex][\"fullname\"]\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"vie\":\r\n\t\t\t\ttempVie.push( this.state.viewSubList[valueIndex][\"id\"] )\r\n\t\t\t\tselectedName = this.state.viewSubList[valueIndex][\"fullname\"]\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tconsole.log(\"Failed to have the correct name\")\r\n\t\t}\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tdelGoverns: tempGov,\r\n\t\t\ttogSends: tempSen,\r\n\t\t\tdelViews: tempVie,\r\n\t\t\t\r\n\t\t\tselectedName: selectedName,\r\n\t\t})\r\n\t}\r\n\t\r\n\tsetFailure = (responseData) => {\r\n\t\tlet returnData = []\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.debugSet(debugPageName, \"Refresh Triggered\", \"Save Profile Changes\")\r\n\t\t\tthis.props.refreshToken(this.saveChanges())\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageName, \"Save Changes\", \"Failure\")\r\n\t\treturnData = responseData['messages']\r\n\t\tthis.setState({\r\n\t\t\tsaveChangesError: returnData,\r\n\t\t\tsaveChangesStatus: 3,\r\n\t\t})\r\n\t}\r\n\tsetSuccess = (successData) => {\r\n\t\t//console.log(\"Set Data Success\")\r\n\t\t//console.log(successData)\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageName, \"Save Changes\", \"Success\")\r\n\t\t\r\n\t\t// This needs to be a props refresh..\r\n\t\tthis.props.triggerRefresh()\r\n\t\tthis.setState({\r\n\t\t\tsaveChangesStatus: 2,\r\n\t\t})\r\n\t}\r\n\tsaveChanges = () => {\r\n\t\tlet testData = {\r\n\t\t\t\r\n\t\t\t// Hmm, perhaps the generic way wont work...\r\n\t\t\t\"delViews\":this.state.delViews,\r\n\t\t\t\"togEmails\":this.state.togSends,\r\n\t\t\t\"delGoverns\":this.state.delGoverns,\r\n\t\t}\r\n\t\t\r\n\t\tAPIUserSettingsEdit(  testData, this.setSuccess, this.setFailure )\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tdelGoverns: [],\r\n\t\t\ttogSends: [],\r\n\t\t\tdelViews: [],\r\n\t\t\t\r\n\t\t\tselectedName: \"No Name!\",\r\n\t\t\tsaveChangesStatus: 1,\r\n\t\t})\r\n\t}\r\n\t\r\n\trender() {\r\n\t\t\r\n\t\tlet displayViewSends = []\r\n\t\tfor (let i in this.state.adminSubList) {\r\n\t\t\t\r\n\t\t\tlet displayToggle = \"Off\"\r\n\t\t\tlet buttonClass = \"badge-danger\"\r\n\t\t\t// Blank will just be admin/view for now... Highlighted in green means Email...\r\n\t\t\tlet index = this.state.sendSubList.indexOf(this.state.adminSubList[i])\r\n\t\t\tif (index >= 0) {\r\n\t\t\t\tdisplayToggle = \"On\"\r\n\t\t\t\tbuttonClass = \"badge-success\"\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tlet extra = \"\"\r\n\t\t\t// Sends we are toggling....\r\n\t\t\tindex = this.state.togSends.indexOf(this.state.adminSubList[i][\"id\"])\r\n\t\t\tif (index >= 0) {\r\n\t\t\t\textra = 'bg-warning'\r\n\t\t\t}\r\n\t\t\t// Views we are deleting\r\n\t\t\tindex = this.state.delViews.indexOf(this.state.adminSubList[i][\"id\"])\r\n\t\t\tif (index >= 0) {\r\n\t\t\t\textra = 'bg-danger'\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tdisplayViewSends.push(\r\n\t\t\t\t<li key={i} className={\"list-group-item d-flex justify-content-around \"+extra}>\r\n\t\t\t\t\t<div className=\"col alignOverride\">\r\n\t\t\t\t\t\t{this.state.adminSubList[i][\"fullname\"]}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\tAdmin\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-2\">\r\n\t\t\t\t\t\t<button className={\"badge \"+buttonClass+\" badge-pill\"} name=\"admSen\" value={i} data-toggle=\"modal\" data-target=\"#viewToggleConfirm\" onClick={this.setCurrentData}>\r\n\t\t\t\t\t\t\t{displayToggle}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-1\">\r\n\t\t\t\t\t\t<button className=\"badge badge-secondary badge-pill\" name=\"adm\" value={i} data-toggle=\"modal\" data-target=\"#deleteConfirm\" onClick={this.setCurrentData} disabled>X</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\tfor (let i in this.state.viewSubList) {\r\n\t\t\t\r\n\t\t\tlet displayToggle = \"Off\"\r\n\t\t\tlet buttonClass = \"badge-danger\"\r\n\t\t\t// Blank will just be admin/view for now... Highlighted in green means Email...\r\n\t\t\tlet index = this.state.sendSubList.indexOf(this.state.viewSubList[i])\r\n\t\t\tif (index >= 0) {\r\n\t\t\t\tdisplayToggle = \"On\"\r\n\t\t\t\tbuttonClass = \"badge-success\"\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tlet extra = \"\"\r\n\t\t\t// Sends we are toggling....\r\n\t\t\tindex = this.state.togSends.indexOf(this.state.viewSubList[i][\"id\"])\r\n\t\t\tif (index >= 0) {\r\n\t\t\t\textra = 'bg-warning'\r\n\t\t\t}\r\n\t\t\t// Views we are deleting\r\n\t\t\tindex = this.state.delViews.indexOf(this.state.viewSubList[i][\"id\"])\r\n\t\t\tif (index >= 0) {\r\n\t\t\t\textra = 'bg-danger'\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tdisplayViewSends.push(\r\n\t\t\t\t<li key={i} className={\"list-group-item d-flex justify-content-around \"+extra}>\r\n\t\t\t\t\t<div className=\"col alignOverride\">\r\n\t\t\t\t\t\t{this.state.viewSubList[i][\"fullname\"]}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\tViewer\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-2\">\r\n\t\t\t\t\t\t<button className={\"badge \"+buttonClass+\" badge-pill\"} name=\"sen\" value={i} data-toggle=\"modal\" data-target=\"#viewToggleConfirm\" onClick={this.setCurrentData}>\r\n\t\t\t\t\t\t\t{displayToggle}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-1\">\r\n\t\t\t\t\t\t<button className=\"badge badge-danger badge-pill\" name=\"vie\" value={i} data-toggle=\"modal\" data-target=\"#deleteConfirm\" onClick={this.setCurrentData}>X</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\tif (displayViewSends.length === 0) {\r\n\t\t\t// There was nothing\r\n\t\t\tdisplayViewSends.push(\r\n\t\t\t\t<li key={0} className=\"list-group-item d-flex justify-content-around\">\r\n\t\t\t\t\tNone!\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\tlet displayOwningCompanyList = []\r\n\t\tif (this.state.govSubList.length > 0) {\r\n\t\t\tfor (let i in this.state.govSubList) {\r\n\t\t\t\tlet extra = \"\"\r\n\t\t\t\t\r\n\t\t\t\tlet index = this.state.delGoverns.indexOf(this.state.govSubList[i][\"id\"])\r\n\t\t\t\tif (index >= 0) {\r\n\t\t\t\t\textra = 'bg-danger'\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tdisplayOwningCompanyList.push(\r\n\t\t\t\t\t<li key={i} className={\"list-group-item d-flex justify-content-around \"+extra}>\r\n\t\t\t\t\t\t<div className=\"col alignOverride\">\r\n\t\t\t\t\t\t\t{this.state.govSubList[i][\"fullname\"]}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-1\">\r\n\t\t\t\t\t\t\t<button className=\"badge badge-danger badge-pill\" name=\"gov\" value={i} data-toggle=\"modal\" data-target=\"#deleteConfirm\" onClick={this.setCurrentData}>X</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\t// There was nothing\r\n\t\t\tdisplayOwningCompanyList.push(\r\n\t\t\t\t<li key={0} className=\"list-group-item d-flex justify-content-around\">\r\n\t\t\t\t\tNone!\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\t//let showIdle = this.state.saveChangesStatus === 0\r\n\t\tlet showWaiting = this.state.saveChangesStatus === 1\r\n\t\tlet showSuccess = false//this.state.saveChangesStatus === 2\r\n\t\tlet showError = this.state.saveChangesStatus === 3\r\n\t\t\r\n\t\tlet errorParse = []\r\n\t\tfor (let index in this.state.saveChangesError) {\r\n\t\t\terrorParse.push(\r\n\t\t\t\tthis.state.saveChangesError[index][\"text\"]\r\n\t\t\t)\r\n\t\t}\r\n\t\tif (errorParse.length === 0) {\r\n\t\t\terrorParse.push(\r\n\t\t\t\t\"Unknown!\"\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"defaultView\">\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card shadow\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<h5>Companies you can View data for</h5>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t<ul className=\"list-group\">\r\n\t\t\t\t\t\t\t\t\t\t<li key={-1} className={\"list-group-item d-flex justify-content-around\"}>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col alignOverride\">\r\n\t\t\t\t\t\t\t\t\t\t\t\tCompany Division Name\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\t\tType\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\tNotifications\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</li>\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t{displayViewSends}\r\n\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card shadow\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<h5>Companies getting your Journal Info</h5>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t<ul className=\"list-group\">\r\n\t\t\t\t\t\t\t\t\t\t{displayOwningCompanyList}\r\n\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Alert show={showWaiting} variant=\"warning\">\r\n\t\t\t\t\t\t\t\t<Alert.Heading>Waiting</Alert.Heading>\r\n\t\t\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t  Waiting for server response...\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Alert show={showSuccess} variant=\"success\">\r\n\t\t\t\t\t\t\t\t<Alert.Heading>Success!</Alert.Heading>\r\n\t\t\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t  Success!\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Alert show={showError} variant=\"danger\">\r\n\t\t\t\t\t\t\t\t<Alert.Heading>Danger!</Alert.Heading>\r\n\t\t\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t{errorParse}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t\t<div className=\"modal fade\" id=\"deleteConfirm\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"deleteConfirmation\" aria-hidden=\"true\">\r\n\t\t\t\t\t  <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n\t\t\t\t\t\t<div className=\"modal-content\">\r\n\t\t\t\t\t\t  <div className=\"modal-header\">\r\n\t\t\t\t\t\t\t<h5 className=\"modal-title\" id=\"deleteTitleConfirm\">Delete Confirmation</h5>\r\n\t\t\t\t\t\t\t<button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n\t\t\t\t\t\t\t  <span aria-hidden=\"true\">&times;</span>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t  <div className=\"modal-body\">\r\n\t\t\t\t\t\t\t<div>Are you SURE you want to revoke permission for:</div>\r\n\t\t\t\t\t\t\t<div>{this.state.selectedName}?</div>\r\n\t\t\t\t\t\t\t<div>You will need to be invited back!</div>\r\n\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t  <div className=\"modal-footer\">\r\n\t\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-danger\" data-dismiss=\"modal\" onClick={this.saveChanges}>Yes</button>\r\n\t\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-primary\" data-dismiss=\"modal\">No</button>\r\n\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"modal fade\" id=\"viewToggleConfirm\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"viewToggleConfirm\" aria-hidden=\"true\">\r\n\t\t\t\t\t  <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n\t\t\t\t\t\t<div className=\"modal-content\">\r\n\t\t\t\t\t\t  <div className=\"modal-header\">\r\n\t\t\t\t\t\t\t<h5 className=\"modal-title\" id=\"deleteTitleConfirm\">Toggle Notification Confirmation</h5>\r\n\t\t\t\t\t\t\t<button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n\t\t\t\t\t\t\t  <span aria-hidden=\"true\">&times;</span>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t  <div className=\"modal-body\">\r\n\t\t\t\t\t\t\t<div>Are you SURE you want to toggle notifications for:</div>\r\n\t\t\t\t\t\t\t<div>{this.state.selectedName}?</div>\r\n\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t  <div className=\"modal-footer\">\r\n\t\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-danger\" data-dismiss=\"modal\" onClick={this.saveChanges}>Yes</button>\r\n\t\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-primary\" data-dismiss=\"modal\">No</button>\r\n\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default withRouter(UserProfile);","import React from \"react\";\r\n\r\n//import { useEffect } from \"react\"\r\n\r\nimport Calendar from 'react-calendar'\r\nimport 'react-calendar/dist/Calendar.css';\r\nimport { Radar, Bar } from 'react-chartjs-2';\r\n\r\nimport { ButtonGroup, ToggleButton, Alert, Accordion, Card, Table } from 'react-bootstrap';\r\n\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { Editor, EditorState, convertFromRaw } from 'draft-js';\r\n\r\n//import {isLoggedIn} from '../../utils';\r\nimport {getRadarEmotionData } from '../../utils';\r\nimport {getRadarEmotionOptions, stackedBarOptions} from '../../utils';\r\n\r\nimport { stacked3BarData1Data, stacked2BarData1Data, stacked1BarData1Data } from '../../utils';\r\n\r\n// This is very lean...\r\nconst parseEmotion = (emotionData) => {\r\n\tlet derp = [emotionData.joy, emotionData.anger, emotionData.sadness, emotionData.disgust, emotionData.fear]\r\n\treturn derp;\r\n}\r\n\r\n// Maybe I should move this to getting it from the data...\r\nconst AIAspect = [\r\n    { name: 'Emotion', value: 'emotion' },\r\n    { name: 'Sentiment', value: 'sentiment' },\r\n    { name: 'Entities', value: 'entities' },\r\n\t{ name: 'Keywords', value: 'keywords' },\r\n\t//{ name: 'Relations', value: 'relations' },\r\n];\r\n\r\nconst styles = {\r\n  editor: {\r\n    //border: '1px solid gray',\r\n    minHeight: '6em',\r\n\ttextAlign: 'left',\r\n  }\r\n};\r\n\r\nconst MultiIteration = (props) => {\r\n\t\r\n\tlet buttonSet = []\r\n\tfor (let key in props.promptQuestions) {\r\n\t\t\r\n\t\tlet isActive = \"outline-\"\r\n\t\tif ( Number(props.selected) === Number(key)) {\r\n\t\t\tisActive = \"\"\r\n\t\t}\r\n\t\t\r\n\t\tbuttonSet.push(\r\n\t\t\t<button type=\"button\" key={key} value={key} className={\"btn disabled btn-\"+isActive+\"primary\"}>{props.promptQuestions[key]}</button>\r\n\t\t)\r\n\t}\r\n\t\r\n\treturn (\r\n\t\t<div className=\"MultiIteration\">\r\n\t\t\t{buttonSet}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst RatingIteration = (props) => {\r\n\t\r\n\t// Definetly a better way to do this\r\n\tlet isActive = [\"outline-\", \"outline-\", \"outline-\", \"outline-\", \"outline-\", \"outline-\"]\r\n\tif (props.selected >= 0 && props.selected < isActive.length) {\r\n\t\tisActive[props.selected] = \"\"\r\n\t}\r\n\t\r\n\tlet buttonSet = []\r\n\tfor (let index in isActive) {\r\n\t\tbuttonSet.push(\r\n\t\t\t<button type=\"button\" key={index} value={index} className={\"btn disabled btn-\"+isActive[index]+\"primary\"}>{index}</button>\r\n\t\t)\r\n\t}\r\n\t\r\n\treturn (\r\n\t\t<div className=\"RatingIteration\">\r\n\t\t\t{buttonSet}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst LikertIteration = (props) => {\r\n\t\r\n\tlet isActive = [\"outline-\", \"outline-\", \"outline-\", \"outline-\", \"outline-\"]\r\n\tif (props.selected >= 0 && props.selected < isActive.length) {\r\n\t\tisActive[props.selected] = \"\"\r\n\t}\r\n\t\r\n\tlet buttonSet = []\r\n\tfor (let index in isActive) {\r\n\t\tbuttonSet.push(\r\n\t\t\t<button type=\"button\" key={index} value={index} className={\"btn disabled btn-\"+isActive[index]+\"primary\"}>{index-2}</button>\r\n\t\t)\r\n\t}\r\n\t\r\n\treturn (\r\n\t\t<div className=\"LikertIteration\">\r\n\t\t\t<span className=\"btn btn-link disabled\" disabled>Highly Disagree</span>\r\n\t\t\t{buttonSet}\r\n\t\t\t<span className=\"btn btn-link disabled\" disabled>Highly Agree</span>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nclass JournalIteration extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tselectedAspect: \"emotion\",\r\n\t\t}\t\r\n\t}\r\n\t\r\n\tsetAspect = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tselectedAspect:event.currentTarget.value\r\n\t\t})\r\n\t}\r\n\t\r\n\trender() {\r\n\t\t\r\n\t\t// Making the Editor\r\n\t\tlet givenState = EditorState.createEmpty()\r\n\t\t\r\n\t\tif (!(this.props.richText === null)) {\r\n\t\t\tlet richData = convertFromRaw( this.props.richText )\r\n\t\t\tgivenState = EditorState.createWithContent(richData)\r\n\t\t}\r\n\t\t\r\n\t\t// GETTING WHICH DATA IS SELECTED!\r\n\t\tlet displayStats = []\r\n\t\tlet tableDisplay = []\r\n\t\tlet dayData = this.props.AIresults\r\n\t\tif (!(dayData === null) && !(dayData === undefined)) {\r\n\t\t\r\n\t\t\tlet sanityCheck = this.state.selectedAspect in dayData\r\n\t\t\tif (sanityCheck) {\r\n\t\t\t\t\r\n\t\t\t\tlet dataSet = dayData[this.state.selectedAspect]\r\n\t\t\t\t\r\n\t\t\t\tswitch(this.state.selectedAspect) {\r\n\t\t\t\t\tcase 'emotion':\r\n\t\t\t\t\t\tlet emoValue = parseEmotion( dataSet.document.emotion )\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tlet dataDocEmo = getRadarEmotionData( emoValue )\r\n\t\t\t\t\t\tlet emoOptions = getRadarEmotionOptions()\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tdisplayStats.push(\r\n\t\t\t\t\t\t\t<Table bordered responsive key=\"1\">\r\n\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Whole Journal Emotion Data</th>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t<tr key={0}>\r\n\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t<Radar data={dataDocEmo} options={emoOptions} />\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'sentiment':\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tconst dataBarStack = stacked1BarData1Data( [dataSet.document.score] )\r\n\t\t\t\t\t\tconst barStackOptions = stackedBarOptions()\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tdisplayStats.push(\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Table bordered responsive key=\"1\">\r\n\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Whole Journal Sentiment Data</th>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t<tr key={0}>\r\n\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t<Bar data={dataBarStack} options={barStackOptions} />\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'entities':\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t//console.log(dataSet)\r\n\t\t\t\t\t\tfor (let index in dataSet) {\r\n\t\t\t\t\t\t\tlet entity = dataSet[index]\r\n\t\t\t\t\t\t\t//console.log(entity)\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tlet emoVal = parseEmotion( entity.emotion )\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tlet emoData = getRadarEmotionData( emoVal)\r\n\t\t\t\t\t\t\tlet emoOptions = getRadarEmotionOptions()\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tconst dataEntSent = stacked3BarData1Data(\r\n\t\t\t\t\t\t\t\t[entity.confidence, entity.relevance, entity.sentiment.score],\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\tconst dataEntOptions = stackedBarOptions()\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\ttableDisplay.push(\r\n\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"row\">{entity.text}</th>\r\n\t\t\t\t\t\t\t\t\t<td>{entity.type}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{entity.count}</td>\r\n\t\t\t\t\t\t\t\t\t<td colSpan=\"3\"><Bar data={dataEntSent} options={dataEntOptions} /></td>\r\n\t\t\t\t\t\t\t\t\t<td><Radar data={emoData} options={emoOptions} /></td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (tableDisplay.length === 0) {\r\n\t\t\t\t\t\t\ttableDisplay.push(\r\n\t\t\t\t\t\t\t\t<tr key={0}>\r\n\t\t\t\t\t\t\t\t\t<td colSpan=\"7\">\"Nothing!\"</td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tdisplayStats.push(\r\n\t\t\t\t\t\t\t<Table bordered responsive key=\"2\">\r\n\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Name</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Type</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">#Appearances</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Confidence</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Relevance</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Sentiment</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Emotion</th>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t{tableDisplay}\r\n\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'keywords':\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tfor (let index in dataSet) {\r\n\t\t\t\t\t\t\tlet keyData = dataSet[index]\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tlet emoVal = parseEmotion( keyData.emotion )\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tconst dataRadar = getRadarEmotionData( emoVal )\r\n\t\t\t\t\t\t\tconst dataRadarOptions = getRadarEmotionOptions()\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t//console.log(keyData)\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tconst dataKeySent = stacked2BarData1Data(\r\n\t\t\t\t\t\t\t\t[keyData.relevance, keyData.sentiment.score], \r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\tconst dataKeyOptions = stackedBarOptions()\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\ttableDisplay.push(\r\n\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"row\">{keyData.text}</th>\r\n\t\t\t\t\t\t\t\t\t<td>{keyData.count}</td>\r\n\t\t\t\t\t\t\t\t\t<td colSpan=\"2\"><Bar data={dataKeySent} options={dataKeyOptions} /></td>\r\n\t\t\t\t\t\t\t\t\t<td><Radar data={dataRadar} options={dataRadarOptions} /></td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (tableDisplay.length === 0) {\r\n\t\t\t\t\t\t\ttableDisplay.push(\r\n\t\t\t\t\t\t\t\t<tr key={0}>\r\n\t\t\t\t\t\t\t\t\t<td colSpan=\"5\">\"Nothing!\"</td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tdisplayStats.push(\r\n\t\t\t\t\t\t\t<Table bordered responsive key=\"3\">\r\n\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Name</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">#Appearances</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Relevance Score</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Sentiment</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Emotion</th>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t{tableDisplay}\r\n\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\tconsole.log(\"Invalid AI selection somehow\")\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif (displayStats.length === 0) {\r\n\t\t\tdisplayStats.push(\r\n\t\t\t\t\"Nothing to display!\"\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className=\"JournalIteration\">\r\n\t\t\t\t{/*props.content*/}\r\n\t\t\t\t\r\n\t\t\t\t<Accordion>\r\n\t\t\t\t\r\n\t\t\t\t\t<Accordion.Toggle as={Card.Header} variant=\"link\" eventKey=\"0\">\r\n\t\t\t\t\t\t<div style={styles.editor} >\r\n\t\t\t\t\t\t\t<Editor\r\n\t\t\t\t\t\t\t\teditorState={givenState}\r\n\t\t\t\t\t\t\t\tplaceholder={\"Nothing Here!\"}\r\n\t\t\t\t\t\t\t\treadOnly={true}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Accordion.Toggle>\r\n\t\t\t\t\r\n\t\t\t\t\t<Accordion.Collapse eventKey=\"0\">\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t<div className=\"row my-2\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t<ButtonGroup toggle>\r\n\t\t\t\t\t\t\t\t\t\t\t{AIAspect.map((radio, idx) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ToggleButton\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={idx}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"radio\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"info\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"radio\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={radio.value}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={this.state.selectedAspect === radio.value}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.setAspect}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{radio.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ToggleButton>\r\n\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t</ButtonGroup>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<div className=\"row my-2\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t{displayStats}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</Accordion.Collapse>\r\n\t\t\t\t\t\r\n\t\t\t\t</Accordion>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\n// Main Function\r\nconst JournalView = (props) => {\r\n\t\t\r\n\tconst tileClassName = ({ date, view }) => {\r\n\t\r\n\t\t// Add class to tiles in month view only\r\n\t\tif (view === 'month') {\r\n\t\t\t\r\n\t\t\tconst checkDate = date.getFullYear()+\"-\"+date.getMonth()+\"-\"+date.getDate()\r\n\r\n\t\t\t// Check if a date React-Calendar wants to check is on the list of dates to add class to\r\n\t\t\tlet hasAI = false\r\n\t\t\tlet hasJournal = false\r\n\t\t\t\r\n\t\t\tfor (let index in props.validJournalDates) {\r\n\r\n\t\t\t\tif (checkDate === index) {\r\n\t\t\t\t\thasJournal = true\r\n\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfor (let index in props.validJournalScanDates) {\r\n\r\n\t\t\t\tif (checkDate === index) {\r\n\t\t\t\t\thasAI = true\r\n\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Backup Check...\r\n\t\t\tif (!hasJournal) {\r\n\t\t\t\tfor (let index in props.validNonJournalDates) {\r\n\t\t\t\t\tif (checkDate === index) {\r\n\t\t\t\t\t\thasJournal = true\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (hasAI) {\r\n\t\t\t\treturn 'btn btn-success';\r\n\t\t\t} else if (hasJournal) {\r\n\t\t\t\treturn 'btn btn-warning'\r\n\t\t\t} else {\r\n\t\t\t\t// use the default styling...\r\n\t\t\t\t//return 'btn btn-outline-dark'\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\t\r\n\t// Scanning for divisions...\r\n\tlet foundData = []\r\n\tfor (let index in props.viewJournalData) {\r\n\t\t// Only Division is TRUE, so it is NOT SHARED\r\n\t\tif (props.viewJournalData[index][\"onlyDivision\"]) {\r\n\t\t\t// Is there a DIVISION set?\r\n\t\t\tif (props.viewJournalData[index][\"targetDivision\"] === null) {\r\n\t\t\t\t// No, is a USER TYPE\r\n\t\t\t\tlet checkThing = false\r\n\t\t\t\tfor (let deepIndex in foundData) {\r\n\t\t\t\t\tif (foundData[deepIndex][\"id\"] === -1 ) {\r\n\t\t\t\t\t\tcheckThing = true\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tlet newSet = {\r\n\t\t\t\t\t\"divisionName\":\"User\",\r\n\t\t\t\t\t\"id\":-1,\r\n\t\t\t\t}\r\n\t\t\t\tif (!checkThing) {\r\n\t\t\t\t\tfoundData.push( newSet )\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t// YES, is a DIVISION TYPE\r\n\t\t\t\tlet checkThing = false\r\n\t\t\t\tfor (let deepIndex in foundData) {\r\n\t\t\t\t\tif (foundData[deepIndex][\"id\"] === props.viewJournalData[index][\"targetDivision\"][\"id\"] ) {\r\n\t\t\t\t\t\tcheckThing = true\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (!checkThing) {\r\n\t\t\t\t\tfoundData.push( props.viewJournalData[index][\"targetDivision\"] )\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\t// Alright, so Only division will show up in its own thing....\r\n\t\t\t// NOT only division will... Do what? Think about that...\r\n\t\t\tlet checkThing = false\r\n\t\t\tfor (let deepIndex in foundData) {\r\n\t\t\t\tif (foundData[deepIndex][\"id\"] === -1 ) {\r\n\t\t\t\t\tcheckThing = true\r\n\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tlet newSet = {\r\n\t\t\t\t\"divisionName\":\"Uncategorized\",\r\n\t\t\t\t\"id\":-1,\r\n\t\t\t}\r\n\t\t\tif (!checkThing) {\r\n\t\t\t\tfoundData.push( newSet )\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tfor (let index in props.viewNonJournalData) {\r\n\t\t// Only division is TRUE, so this belongs only to the division specified...\r\n\t\t// What if the section is null though?\r\n\t\tif (props.viewNonJournalData[index][\"onlyDivision\"]) {\r\n\t\t\t\r\n\t\t\tif (props.viewNonJournalData[index][\"targetDivision\"] === null) {\r\n\t\t\t\tlet checkThing = false\r\n\t\t\t\tfor (let deepIndex in foundData) {\r\n\t\t\t\t\tif (foundData[deepIndex][\"id\"] === -1 ) {\r\n\t\t\t\t\t\tcheckThing = true\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tlet newSet = {\r\n\t\t\t\t\t\"divisionName\":\"User\",\r\n\t\t\t\t\t\"id\":-1,\r\n\t\t\t\t}\r\n\t\t\t\tif (!checkThing) {\r\n\t\t\t\t\tfoundData.push( newSet )\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tlet checkThing = false\r\n\t\t\t\tfor (let deepIndex in foundData) {\r\n\t\t\t\t\tif (foundData[deepIndex][\"id\"] === props.viewNonJournalData[index][\"targetDivision\"][\"id\"] ) {\r\n\t\t\t\t\t\tcheckThing = true\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (!checkThing) {\r\n\t\t\t\t\tfoundData.push( props.viewNonJournalData[index][\"targetDivision\"] )\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Only Division is false, but the division section HAS something in it\r\n\t\t// So put those together?\r\n\t\telse {\r\n\t\t\tlet checkThing = false\r\n\t\t\tfor (let deepIndex in foundData) {\r\n\t\t\t\tif (foundData[deepIndex][\"id\"] === -1 ) {\r\n\t\t\t\t\tcheckThing = true\r\n\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tlet newSet = {\r\n\t\t\t\t\"divisionName\":\"Uncategorized\",\r\n\t\t\t\t\"id\":-1,\r\n\t\t\t}\r\n\t\t\tif (!checkThing) {\r\n\t\t\t\tfoundData.push( newSet )\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tlet displayButtonSet = []\r\n\tfor (let index in foundData) {\r\n\t\tlet dispClass = \"btn btn-outline-secondary\"\r\n\t\tif (String(props.selectedJournalViewDiv) === index) {\r\n\t\t\tdispClass = \"btn btn-secondary\"\r\n\t\t}\r\n\t\t\r\n\t\tdisplayButtonSet.push(\r\n\t\t\t<button key={index} className={dispClass} value={index} onClick={props.changeSelectedJournalViewDiv}>\r\n\t\t\t\t{foundData[index][\"divisionName\"]}\r\n\t\t\t</button>\r\n\t\t)\r\n\t}\r\n\t\r\n\tif (displayButtonSet.length === 0) {\r\n\t\tdisplayButtonSet.push(\r\n\t\t\t<div key={0} className=\"btn btn-outline-secondary\">\r\n\t\t\t\tNothing!\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\t\r\n\tlet selectedDivID = -1\r\n\tif (props.selectedJournalViewDiv >= 0 && props.selectedJournalViewDiv < foundData.length) {\r\n\t\tselectedDivID = foundData[props.selectedJournalViewDiv][\"id\"]\r\n\t}\r\n\t\r\n\tlet showResult = []\r\n\tfor (let index in props.viewNonJournalData) {\r\n\t\t\r\n\t\ttry{\r\n\t\t\tif (!(props.viewNonJournalData[index][\"targetDivision\"][\"id\"] === selectedDivID)) {\r\n\t\t\t\tcontinue\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch{\r\n\t\t\t// if it ISNT a \"No seleted set\"... then skip it\r\n\t\t\tif (!(selectedDivID === -1)) {\r\n\t\t\t\tcontinue\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tlet promptTitle = \"No Prompt Data!\"\r\n\t\tlet promptBody = \"Prompt Showing Error!\"\r\n\t\tif (props.viewNonJournalData[index][\"usedPromptKey\"] !== null) {\r\n\t\t\tpromptTitle = props.viewNonJournalData[index][\"usedPromptKey\"][\"text\"]\r\n\t\t\t\r\n\t\t\tswitch ( props.viewNonJournalData[index][\"usedPromptKey\"][\"promptType\"] ) {\r\n\t\t\t\t// Likert\r\n\t\t\t\tcase 1:\r\n\t\t\t\t\tpromptBody = <LikertIteration\r\n\t\t\t\t\t\tselected={ props.viewNonJournalData[index][\"chosenValue\"]}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t// Rating\r\n\t\t\t\tcase 2:\r\n\t\t\t\t\tpromptBody = <RatingIteration\r\n\t\t\t\t\t\tselected={ props.viewNonJournalData[index][\"chosenValue\"]}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t// Multi\r\n\t\t\t\tcase 3:\r\n\t\t\t\t\tpromptBody = <MultiIteration\r\n\t\t\t\t\t\tpromptQuestions={ props.viewNonJournalData[index][\"usedPromptKey\"][\"promptChoices\"] }\r\n\t\t\t\t\t\tselected={ props.viewNonJournalData[index][\"chosenValue\"]}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\t//promptBody = \"Prompt Showing Error!\"\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\t// Well, if we have no prompt, then whatever data is in there we cant parse....\r\n\t\t\tcontinue\r\n\t\t}\r\n\t\t\r\n\t\t//if () {\r\n\t\t\t//<RatingIteration />\r\n\t\t//}\r\n\t\t\r\n\t\tshowResult.push(\r\n\t\t\t<div className=\"row\" key={index}>\r\n\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t<h5>{promptTitle}</h5>\r\n\t\t\t\t\t<div>{promptBody}</div>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t\t//props.viewNonJournalData[index][\"usedPromptKey\"][\"promptType\"]\r\n\t\t//props.viewNonJournalData[index][\"usedPromptKey\"][\"promptChoices\"]\r\n\t\t//props.viewNonJournalData[index][\"chosenValue\"]\r\n\t}\r\n\t\r\n\t//console.log( props.viewJournalData )\r\n\tfor (let index in props.viewJournalData) {\r\n\t\t\r\n\t\ttry {\r\n\t\t\tif (!(props.viewJournalData[index][\"targetDivision\"][\"id\"] === selectedDivID)) {\r\n\t\t\t\tcontinue\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch{\r\n\t\t\t// Well, this doesnt even have a selected Div ID so....\r\n\t\t\tif (!(selectedDivID === -1)) {\r\n\t\t\t\tcontinue\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tlet promptTitle = \"No Prompt Data!\"\r\n\t\tlet promptBody = \"No Prompt!\"\r\n\t\t\r\n\t\tif (props.viewJournalData[index][\"usedPromptKey\"] !== null) {\r\n\t\t\tpromptTitle = props.viewJournalData[index][\"usedPromptKey\"][\"text\"]\r\n\t\t\t\r\n\t\t\t// It ISNT a journal!??!?!\r\n\t\t\tif ( props.viewJournalData[index][\"usedPromptKey\"][\"promptType\"] !== 0 ) {\r\n\t\t\t\tcontinue\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\t// Well, how I have structured this, if it appears in this for loop, then we can assume its a journal for now?\r\n\t\t\t// I should have a specific NULL prompt I give these....\r\n\t\t}\r\n\t\t\r\n\t\ttry {\r\n\t\t\tpromptBody = <JournalIteration\r\n\t\t\t\tcontent={ props.viewJournalData[index][\"content\"] }\r\n\t\t\t\trichText={ props.viewJournalData[index][\"richText\"] }\r\n\t\t\t\t\r\n\t\t\t\thasAI={props.viewJournalData[index][\"hasAI\"]}\r\n\t\t\t\tAIresults={ props.viewJournalData[index][\"AIresult\"] }\r\n\t\t\t/>\r\n\t\t}\r\n\t\tcatch {\r\n\t\t\tconsole.log(\"MISSING A JOURNAL'S CONTENT!\")\r\n\t\t}\r\n\t\t\r\n\t\tlet markLength = showResult.length\r\n\t\tshowResult.push(\r\n\t\t\t<div className=\"row\" key={index + markLength}>\r\n\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t<h5>{promptTitle}</h5>\r\n\t\t\t\t\t<div>{promptBody}</div>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\t\r\n\t//let showIdle = props.pickJournalCalenderDateStatus === 0 || props.pickNonJournalCalenderDateStatus === 0\r\n\tlet showSubmit = props.pickJournalCalenderDateStatus === 1 || props.pickNonJournalCalenderDateStatus === 1\r\n\tlet showSuccess = false//props.pickJournalCalenderDateStatus === 2 || props.pickNonJournalCalenderDateStatus === 2\r\n\tlet showError = props.pickJournalCalenderDateStatus === 3 || props.pickNonJournalCalenderDateStatus === 3\r\n\t\r\n\tlet alreadyStacked = false\r\n\t\r\n\tlet errorParse = []\r\n\tfor (let index in props.journalViewErrors) {\r\n\r\n\t\t// This means its a refresh, and the user just needs to do it again...\r\n\t\tif (props.journalViewErrors[index][\"mod\"] === 1 && !alreadyStacked) {\r\n\t\t\talreadyStacked = true\r\n\t\t\t\r\n\t\t\terrorParse.push(\r\n\t\t\t\tprops.journalViewErrors[index][\"text\"]\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t}\r\n\tfor (let index in props.nonJournalViewErrors) {\r\n\r\n\t\t// This means its a refresh, and the user just needs to do it again...\r\n\t\tif (props.nonJournalViewErrors[index][\"mod\"] === 1 && !alreadyStacked) {\r\n\t\t\talreadyStacked = true\r\n\t\t\terrorParse.push(\r\n\t\t\t\tprops.nonJournalViewErrors[index][\"text\"]\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t}\r\n\tif (errorParse.length === 0) {\r\n\t\terrorParse.push(\r\n\t\t\t\"Unknown!\"\r\n\t\t)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"mainView\">\r\n\t\t\t<div className=\"container-fluid justify-content-center\">\r\n\r\n\t\t\t\t<div className=\"row m-2 justify-content-center\">\r\n\t\t\t\t\t<div className=\"col- m-2 \">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<Calendar \r\n\t\t\t\t\t\t\t\tclassName=\"shadow\"\r\n\t\t\t\t\t\t\t\tonChange={props.pickDate}\r\n\t\t\t\t\t\t\t\tvalue={props.currentDate}\r\n\t\t\t\t\t\t\t\ttileClassName={tileClassName}\r\n\r\n\t\t\t\t\t\t\t\tminDetail={'year'}\r\n\t\t\t\t\t\t\t\tmaxDetail={'month'}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"row m-2\">\r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<div className=\"card shadow\">\r\n\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\tPrompt Data for {props.currentDate.toString()}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\tSelect a Division:\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t{displayButtonSet}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t\t\t{showResult}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<Alert show={showSubmit} variant=\"warning\">\r\n\t\t\t\t\t<Alert.Heading>Waiting</Alert.Heading>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t  Waiting for server response...\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t</Alert>\r\n\t\t\t\t\r\n\t\t\t\t<Alert show={showSuccess} variant=\"success\">\r\n\t\t\t\t\t<Alert.Heading>Success!</Alert.Heading>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t  Successfully obtained data!\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t</Alert>\r\n\t\t\t\t\r\n\t\t\t\t<Alert show={showError} variant=\"danger\">\r\n\t\t\t\t\t<Alert.Heading>Error!</Alert.Heading>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t  {errorParse}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t</Alert>\r\n\t\t\t\t\t\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default withRouter(JournalView);","import React from \"react\";\r\n\r\nimport { withRouter } from \"react-router-dom\";\r\n//import Store from \"store\"\r\n// ContentState, \r\nimport { Alert } from 'react-bootstrap';\r\nimport { Editor, RichUtils, EditorState, convertToRaw, convertFromRaw } from 'draft-js';\r\n\r\n//deleteStorageKey\r\nimport { timedLoadStorage, timedSaveStorage, APISaveJournal, APISaveNonJournal } from \"../../utils\";\r\n\r\nconst styles = {\r\n  editor: {\r\n    border: '1px solid gray',\r\n    minHeight: '6em',\r\n\ttextAlign: 'left',\r\n  }\r\n};\r\n\r\n/*\r\nconst promptType = [\r\n\t\"Open\",\r\n\t\"Likert\",\r\n\t\"Rating\",\r\n\t\"Multi\",\r\n]\r\n*/\r\n\r\nconst debugPageName = \"Journal Make\"\r\n\r\n// START OF EXAMPLE CODE FROM THE DRAFT.JS!!!!!\r\nclass StyleButton extends React.Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.onToggle = (e) => {\r\n\t\t\t//console.log(this.props.style)\r\n\t\t\te.preventDefault();\r\n\t\t\tthis.props.onToggle(this.props.style);\r\n\t\t};\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet className = 'btn btn-outline-primary';\r\n\t\tif (this.props.active) {\r\n\t\t\tclassName += ' active';\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<button className={className} onMouseDown={this.onToggle}>\r\n\t\t\t\t{this.props.label}\r\n\t\t\t</button>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst BLOCK_TYPES = [\r\n\t{label: 'H1', style: 'header-one'},\r\n\t{label: 'H2', style: 'header-two'},\r\n\t{label: 'H3', style: 'header-three'},\r\n\t{label: 'H4', style: 'header-four'},\r\n\t{label: 'H5', style: 'header-five'},\r\n\t{label: 'H6', style: 'header-six'},\r\n\t//{label: 'Blockquote', style: 'blockquote'},\r\n\t//{label: 'UL', style: 'unordered-list-item'},\r\n\t//{label: 'OL', style: 'ordered-list-item'},\r\n\t//{label: 'Code Block', style: 'code-block'},\r\n];\r\n\r\nconst BlockStyleControls = (props) => {\r\n\tconst {editorState} = props;\r\n\tconst selection = editorState.getSelection();\r\n\tconst blockType = editorState\r\n\t  .getCurrentContent()\r\n\t  .getBlockForKey(selection.getStartKey())\r\n\t  .getType();\r\n\r\n\treturn (\r\n\t\t<div className=\"RichEditor-controls\">\r\n\t\t\t{BLOCK_TYPES.map((type) =>\r\n\t\t\t\t<StyleButton\r\n\t\t\t\t\tkey={type.label}\r\n\t\t\t\t\tactive={type.style === blockType}\r\n\t\t\t\t\tlabel={type.label}\r\n\t\t\t\t\tonToggle={props.onToggle}\r\n\t\t\t\t\tstyle={type.style}\r\n\t\t\t\t\t\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst INLINE_STYLES = [\r\n\t{label: 'Bold', style: 'BOLD'},\r\n\t{label: 'Italic', style: 'ITALIC'},\r\n\t{label: 'Underline', style: 'UNDERLINE'},\r\n\t//{label: 'Monospace', style: 'CODE'},\r\n];\r\n\r\nconst InlineStyleControls = (props) => {\r\n\tconst currentStyle = props.editorState.getCurrentInlineStyle();\r\n\t\r\n\treturn (\r\n\t\t<div className=\"RichEditor-controls\">\r\n\t\t\t{INLINE_STYLES.map((type) =>\r\n\t\t\t\t<StyleButton\r\n\t\t\t\t\tkey={type.label}\r\n\t\t\t\t\tactive={currentStyle.has(type.style)}\r\n\t\t\t\t\tlabel={type.label}\r\n\t\t\t\t\tonToggle={props.onToggle}\r\n\t\t\t\t\tstyle={type.style}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nclass MultiIteration extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tselected: this.loadData()\r\n\t\t}\t\r\n\t}\r\n\t\r\n\tloadData = () => {\r\n\t\tif (this.props.initialSave !== undefined) {\r\n\t\t\treturn this.props.initialSave[\"data\"]\r\n\t\t}\r\n\t\treturn undefined\r\n\t}\r\n\t\r\n\tselectMulti = (event) => {\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tselected: event.target.value\r\n\t\t})\r\n\t\t\r\n\t\tthis.props.saveTo(this.props.targetDiv, this.props.id, 3, event.target.value)\r\n\t}\r\n\t\r\n\trender() {\r\n\t\t\r\n\t\tlet disableThis = \"\"\r\n\t\tlet displayColor = \"primary\"\r\n\t\tif (this.props.alreadyDone) {\r\n\t\t\tdisableThis = \" disabled\"\r\n\t\t\tdisplayColor = \"danger\"\r\n\t\t}\r\n\t\t\r\n\t\tlet buttonSet = []\r\n\t\tfor (let key in this.props.choices) {\r\n\t\t\t\r\n\t\t\tlet isActive = \"\"\r\n\t\t\tif (this.state.selected === key) {\r\n\t\t\t\tisActive = \"active\"\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tbuttonSet.push(\r\n\t\t\t\t<button type=\"button\" key={key} onClick={this.selectMulti} value={key} className={\"btn btn-outline-\"+displayColor+\" \"+isActive+disableThis}>{this.props.choices[key]}</button>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className=\"RatingIteration\">\r\n\t\t\t\t{this.props.alreadyDone && \r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col text-warning\">\r\n\t\t\t\t\t\t\tAlready Submitted!\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<div className=\"btn-group\" role=\"group\" aria-label=\"...\">\r\n\t\t\t\t\t\t\t{buttonSet}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nclass RatingIteration extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tselected: this.loadData()\r\n\t\t}\t\r\n\t}\r\n\t\r\n\tloadData = () => {\r\n\t\tif (this.props.initialSave !== undefined) {\r\n\t\t\treturn this.props.initialSave[\"data\"]\r\n\t\t}\r\n\t\treturn -1\r\n\t}\r\n\t\r\n\tselectRating = (event) => {\r\n\t\tlet index = Number(event.target.value)\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tselected: index\r\n\t\t})\r\n\t\t\r\n\t\tthis.props.saveTo(this.props.targetDiv, this.props.id, 2, index)\r\n\t}\r\n\t\r\n\trender() {\r\n\r\n\t\tlet isActive = [\"\", \"\", \"\", \"\", \"\", \"\"]\t\r\n\t\tif (this.state.selected >= 0 && this.state.selected < isActive.length) {\r\n\t\t\tisActive[this.state.selected] = \"active\"\r\n\t\t}\r\n\t\t\r\n\t\tlet disableThis = \"\"\r\n\t\tlet displayColor = \"primary\"\r\n\t\tif (this.props.alreadyDone) {\r\n\t\t\tdisableThis = \" disabled\"\r\n\t\t\tdisplayColor = \"danger\"\r\n\t\t}\r\n\t\t\r\n\t\tlet buttonSet = []\r\n\t\tfor (let index in isActive) {\r\n\t\t\tbuttonSet.push(\r\n\t\t\t\t<button type=\"button\" key={index} onClick={this.selectRating} value={index} className={\"btn btn-outline-\"+displayColor+\" \"+isActive[index] + disableThis}>{index}</button>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className=\"RatingIteration\">\r\n\t\t\t\t{this.props.alreadyDone && \r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col text-success\">\r\n\t\t\t\t\t\t\tAlready Submitted!\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<div className=\"btn-group\" role=\"group\" aria-label=\"...\">\r\n\t\t\t\t\t\t{buttonSet}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nclass LikertIteration extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tselected: this.loadData()\r\n\t\t}\t\r\n\t}\r\n\t\r\n\tloadData = () => {\r\n\t\tif (this.props.initialSave !== undefined) {\r\n\t\t\treturn this.props.initialSave[\"data\"]\r\n\t\t}\r\n\t\treturn -1\r\n\t}\r\n\t\r\n\tselectLikert = (event) => {\r\n\t\tlet index = Number(event.target.value)\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tselected: index\r\n\t\t})\r\n\t\t\r\n\t\tthis.props.saveTo(this.props.targetDiv, this.props.id, 1, index)\r\n\t}\r\n\t\r\n\trender() {\r\n\t\t\r\n\t\tlet isActive = [\"\", \"\", \"\", \"\", \"\"]\t\t\r\n\t\tif (this.state.selected >= 0 && this.state.selected < isActive.length) {\r\n\t\t\tisActive[this.state.selected] = \"active\"\r\n\t\t}\r\n\t\t\r\n\t\tlet disableThis = \"\"\r\n\t\tlet displayColor = \"primary\"\r\n\t\tif (this.props.alreadyDone) {\r\n\t\t\tdisableThis = \" disabled\"\r\n\t\t\tdisplayColor = \"danger \"\r\n\t\t}\r\n\t\t\r\n\t\tlet buttonSet = []\r\n\t\tfor (let index in isActive) {\r\n\t\t\tbuttonSet.push(\r\n\t\t\t\t<button type=\"button\" key={index} onClick={this.selectLikert} value={index} className={\"btn btn-outline-\"+displayColor+\" \"+isActive[index] + disableThis}>{index-2}</button>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className=\"LikertIteration\">\r\n\t\t\t\t{this.props.alreadyDone && \r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col text-warning\">\r\n\t\t\t\t\t\t\tAlready Submitted!\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<div className=\"btn-group\" role=\"group\" aria-label=\"...\">\r\n\t\t\t\t\t\t\t<span className=\"btn btn-link disabled\" disabled>Highly Disagree</span>\r\n\t\t\t\t\t\t\t{buttonSet}\r\n\t\t\t\t\t\t\t<span className=\"btn btn-link disabled\" disabled>Highly Agree</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nclass JournalIteration extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tlastTargetDiv: props.targetDiv,\r\n\t\t\tlastPromptID: props.id,\r\n\t\t\tlastInitialSave: props.initialSave,\r\n\t\t\teditorState: this.loadData(),\r\n\t\t}\t\r\n\t\tthis.focusMe = (event) => this.refs.editor.focus();\r\n\t\tthis.onToggle = (e) => {\r\n\t\t\t//console.log(this.props.style)\r\n\t\t\te.preventDefault();\r\n\t\t\t//this.props.onToggle(this.props.style);\r\n\t\t};\r\n\t}\r\n\t\r\n\tstatic getDerivedStateFromProps(props, state) {\r\n\t\t\r\n\t\tif (state.lastPromptID !== props.id || state.lastTargetDiv !== props.targetDiv) {\r\n\t\t\t\r\n\t\t\tif (props.initialSave !== undefined) {\r\n\r\n\t\t\t\treturn {editorState: EditorState.createWithContent( convertFromRaw(props.initialSave[\"data\"][\"block\"]) ), lastPromptID: props.id, lastTargetDiv: props.targetDiv,}\r\n\t\t\t\t//return {editorState: state.editorState}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn {editorState: EditorState.createEmpty(), lastPromptID: props.id, lastTargetDiv: props.targetDiv,}\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn {editorState: state.editorState}\r\n\t\t}\r\n\t}\r\n\t\r\n\tloadData = () => {\r\n\t\tif (this.props.initialSave !== undefined) {\r\n\t\t\t//console.log(this.props.initialSave[\"data\"][\"raw\"])\r\n\t\t\treturn EditorState.createWithContent( convertFromRaw(this.props.initialSave[\"data\"][\"block\"]) )\r\n\t\t}\r\n\t\t\r\n\t\treturn EditorState.createEmpty()\r\n\t}\r\n\t\r\n\tonChange = (incomingState) => {\r\n\t\tthis.setState({\r\n\t\t\teditorState:incomingState,\r\n\t\t})\t\r\n\t\t\r\n\t\t// These are magic\r\n\t\tthis.props.saveTo(this.props.targetDiv, this.props.id, 0, {\"raw\":incomingState.getCurrentContent().getPlainText(), \"block\":convertToRaw(incomingState.getCurrentContent())})\r\n\t}\r\n\t\r\n\ttoggleBlockType = (blockType) => {\r\n\t\tthis.onChange(\r\n\t\t\tRichUtils.toggleBlockType(\r\n\t\t\t\tthis.state.editorState,\r\n\t\t\t\tblockType\r\n\t\t\t)\r\n\t\t);\r\n\t}\r\n\t\r\n\ttoggleInlineStyle = (inlineStyle) => {\r\n\t\tthis.onChange(\r\n            RichUtils.toggleInlineStyle(\r\n\t\t\t\tthis.state.editorState,\r\n\t\t\t\tinlineStyle\r\n            )\r\n        );\r\n\t}\r\n\t\r\n\thandleKeyCommand = (command, editorState) => {\r\n\t\tconst newState = RichUtils.handleKeyCommand(editorState, command);\r\n\r\n\t\tif (newState) {\r\n\t\t\tthis.onChange(newState);\r\n\t\t\treturn 'handled';\r\n\t\t}\r\n\r\n\t\treturn 'not-handled';\r\n\t}\r\n\t\r\n\trender() {\r\n\r\n\t\tlet displayStuff = \"\"\r\n\t\tif (this.props.alreadyDone) {\r\n\t\t\tdisplayStuff = \"Journal Already Submitted!\"\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"journalIteratorContainer\">\r\n\t\t\t\t\r\n\t\t\t\t{this.props.alreadyDone && \r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col text-warning\">\r\n\t\t\t\t\t\t\tAlready Submitted!\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\t\t{!this.props.alreadyDone && \r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<BlockStyleControls\r\n\t\t\t\t\t\t\t\teditorState={this.state.editorState}\r\n\t\t\t\t\t\t\t\tonToggle={this.toggleBlockType}\r\n\t\t\t\t\t\t\t/> \r\n\t\t\t\t\t\t\t<InlineStyleControls\r\n\t\t\t\t\t\t\t\teditorState={this.state.editorState}\r\n\t\t\t\t\t\t\t\tonToggle={this.toggleInlineStyle}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col\" onClick={this.focusMe}>\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t<div id=\"align-left\">\r\n\t\t\t\t\t\t\t<div style={styles.editor} >\r\n\t\t\t\t\t\t\t\t<Editor\r\n\t\t\t\t\t\t\t\t\teditorState={this.state.editorState}\r\n\t\t\t\t\t\t\t\t\tonChange={this.onChange}\r\n\t\t\t\t\t\t\t\t\thandleKeyCommand={this.handleKeyCommand}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tspellCheck={true}\r\n\t\t\t\t\t\t\t\t\tplaceholder={displayStuff}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\treadOnly={this.props.alreadyDone}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tref=\"editor\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n// This contains the EditorJS code... So lets do it last as I am unsure as of what to do...\r\nclass journalCreate extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\t\t\tpromptData: this.checkDataSet(),\r\n\t\t\t\r\n\t\t\tselectedDivision: 0,\r\n\t\t\t\r\n\t\t\tjournalErrors: [],\r\n\t\t\tpostJournalStatus: 0,\r\n\t\t\t\r\n\t\t\tnonJournalErrors: [],\r\n\t\t\tpostNonJournalStatus: 0,\r\n\t\t}\r\n\t}\r\n\t\r\n\tjournalPostFailure = (responseData) => {\r\n\t\tlet returnData = []\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.debugSet(debugPageName, \"Refresh Triggered\", \"Journal Posting\")\r\n\t\t\tthis.props.refreshToken(this.saveCurrent)\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageName, \"Journal Posting\", \"Failure\")\r\n\t\treturnData = responseData['messages']\r\n\t\tthis.setState({\r\n\t\t\tjournalErrors: returnData,\r\n\t\t\tpostJournalStatus:3,\r\n\t\t})\r\n\t}\r\n\tjournalPostCallback = (incomingStuff) => {\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageName, \"Journal Posting\", \"Success\")\r\n\t\t// Set something to notify user....\r\n\t\tthis.setState({\r\n\t\t\tjournalErrors: [],\r\n\t\t\tpostJournalStatus:2,\r\n\t\t})\r\n\t}\r\n\tpostJournal = (incomingID, incomingEditor, incomingTargetDivision) => {\r\n\t\t// This may need to be overridden?\r\n\t\tlet inputDate = this.props.currentDate\r\n\t\tlet journalContent = incomingEditor[\"raw\"]\r\n\t\tlet richContent = incomingEditor[\"block\"]\r\n\t\t\r\n\t\tif (incomingID !== undefined) {\t\t\r\n\t\t\tAPISaveJournal( inputDate, incomingID, incomingTargetDivision, journalContent, richContent, this.journalPostCallback, this.journalPostFailure)\r\n\t\t}\r\n\t\telse {\r\n\t\t\t// Just in case!\r\n\t\t\tlet insertID = \"none\"\r\n\t\t\tAPISaveJournal( inputDate, insertID, incomingTargetDivision, journalContent, richContent, this.journalPostCallback, this.journalPostFailure)\r\n\t\t}\r\n\t\tthis.setState({\r\n\t\t\tpostJournalStatus:1,\r\n\t\t})\r\n\t}\r\n\t\r\n\tnonJournalPostFailure = (responseData) => {\r\n\t\tlet returnData = []\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.debugSet(debugPageName, \"Refresh Triggered\", \"Multi Choice Posting\")\r\n\t\t\tthis.props.refreshToken(this.saveCurrent)\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageName, \"Multi Choice Posting\", \"Failure\")\r\n\t\treturnData = responseData['messages']\r\n\t\tthis.setState({\r\n\t\t\tnonJournalErrors: returnData,\r\n\t\t\tpostNonJournalStatus:3,\r\n\t\t})\r\n\t}\r\n\tnonJournalPostCallback = (incomingStuff) => {\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageName, \"Multi Choice Posting\", \"Success\")\r\n\t\t// Set something to notify user....\r\n\t\tthis.setState({\r\n\t\t\tjournalErrors: [],\r\n\t\t\tpostNonJournalStatus:2,\r\n\t\t})\r\n\t}\r\n\tpostNonJournal = (incomingID, incomingValue, incomingTargetDivision) => {\r\n\t\t// This may need to be overridden?\r\n\t\tlet inputDate = this.props.currentDate\r\n\t\t\r\n\t\tif (incomingID !== undefined) {\t\t\r\n\t\t\tAPISaveNonJournal( inputDate, incomingID, incomingTargetDivision, incomingValue, this.nonJournalPostCallback, this.nonJournalPostFailure)\r\n\t\t\tthis.setState({\r\n\t\t\t\tpostNonJournalStatus:1,\r\n\t\t\t})\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.setState({\r\n\t\t\t\tnonJournalErrors: [{'mod':-1, 'text':'Invalid prompt id!'} ],\r\n\t\t\t\tpostNonJournalStatus:3,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\t\r\n\tcheckDataSet = () => {\r\n\t\tlet dataSet = timedLoadStorage(\"promptDataSaved-\"+this.props.currentUser)\r\n\t\tif (dataSet === 0) {\r\n\t\t\t//console.log(\"No Saved Data!\")\r\n\t\t}\r\n\t\telse if (dataSet === 2) {\r\n\t\t\t//console.log(\"Invalid Save Data!\")\r\n\t\t}\r\n\t\telse if (dataSet === 1) {\r\n\t\t\t//console.log(\"Expired load!\")\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn dataSet\r\n\t\t}\r\n\t\t\r\n\t\treturn {}\r\n\t}\r\n\t\r\n\tsavePromptData = (targetID, identifier, type, data) => {\r\n\t\t\r\n\t\tvar duplicate = {};\r\n\t\tfor (let prop in this.state.promptData) {\r\n\t\t\tduplicate[prop] = this.state.promptData[prop];\r\n\t\t}\r\n\t\t\r\n\t\tif (!(targetID in duplicate)) {\r\n\t\t\tduplicate[targetID] = {}\r\n\t\t}\r\n\t\t\r\n\t\tif (!(identifier in duplicate[targetID])) {\r\n\t\t\tduplicate[targetID][identifier] = {}\r\n\t\t}\r\n\t\t\r\n\t\tduplicate[targetID][identifier] = {\"type\":type, \"data\":data}\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tpromptData: duplicate\r\n\t\t})\r\n\t\t\r\n\t\t// This is likely poor\r\n\t\ttimedSaveStorage(\"promptDataSaved-\"+this.props.currentUser, duplicate, 0)\r\n\t}\r\n\t\r\n\tsaveCurrent = () => {\r\n\r\n\t\tlet targetID = -1\r\n\t\tif (this.props.promptList.length > 0 && this.state.selectedDivision >= 0 && this.state.selectedDivision < this.props.promptList.length) {\r\n\r\n\t\t\tif (this.props.promptList[this.state.selectedDivision][\"typeFlag\"]) {\r\n\t\t\t\ttargetID = 'usr'\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\ttargetID = this.props.promptList[this.state.selectedDivision][\"divTarget\"][\"id\"]\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\telse {\r\n\t\t\t// Invalid Selection!]\r\n\t\t\treturn\r\n\t\t}\r\n\t\t\r\n\t\tlet runAmount = 0\r\n\t\tfor (let promptID in this.state.promptData[targetID]) {\r\n\t\t\t\r\n\t\t\tlet checkMatch = this.checkIfDoneToday(targetID, promptID)\r\n\t\t\tif (checkMatch) {\r\n\t\t\t\tcontinue\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (this.state.promptData[targetID][promptID] === undefined) {\r\n\t\t\t\tcontinue\r\n\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\tif ( this.state.promptData[targetID][promptID][\"type\"] === 0 ) {\r\n\t\t\t\t//console.log(\"Save Journal\")\r\n\t\t\t\tthis.postJournal( promptID, this.state.promptData[targetID][promptID][\"data\"], targetID )\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t//console.log(\"Save Non Journal\")\r\n\t\t\t\tthis.postNonJournal( promptID, this.state.promptData[targetID][promptID][\"data\"], targetID )\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\trunAmount += 1\r\n\t\t}\r\n\t\t\r\n\t\tif (runAmount === 0) {\r\n\t\t\t// NOTHING POSTED! There was nothing!\r\n\t\t}\r\n\t}\r\n\t\r\n\tselectDisplayButton = (event) => {\r\n\t\t//console.log(event.target.id)\r\n\t\tthis.setState({\r\n\t\t\tselectedDivision:Number(event.target.value),\r\n\t\t\t\r\n\t\t\tjournalErrors: [],\r\n\t\t\tpostJournalStatus: 0,\r\n\t\t\t\r\n\t\t\tnonJournalErrors: [],\r\n\t\t\tpostNonJournalStatus: 0,\r\n\t\t})\r\n\t}\r\n\t\r\n\tcheckIfDoneToday = (currentDivID, promptID) => {\r\n\t\tlet matchToday = false\r\n\r\n\t\t// This needs to be put down in the switch statement so all 3 are not run at the same time...\r\n\t\t// Either that or the if checks :P\r\n\t\t// Too lazy right now :P\r\n\t\tif (this.props.nonJournalPromptsDone[\"today\"] !== undefined) {\r\n\t\t\tif (currentDivID in this.props.nonJournalPromptsDone[\"today\"]) {\r\n\t\t\t\tfor (let i in this.props.nonJournalPromptsDone[\"today\"][currentDivID]) {\r\n\r\n\t\t\t\t\tif (this.props.nonJournalPromptsDone[\"today\"][currentDivID][i] === null) {\r\n\t\t\t\t\t\tcontinue\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( promptID === this.props.nonJournalPromptsDone[\"today\"][currentDivID][i][\"identifier\"]) {\r\n\t\t\t\t\t\tmatchToday = true\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif (this.props.journalPromptsDone[\"today\"] !== undefined) {\r\n\t\t\tif (currentDivID in this.props.journalPromptsDone[\"today\"]) {\r\n\t\t\t\tfor (let i in this.props.journalPromptsDone[\"today\"][currentDivID]) {\r\n\r\n\t\t\t\t\tif (this.props.journalPromptsDone[\"today\"][currentDivID][i] === null) {\r\n\t\t\t\t\t\tcontinue\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( promptID === this.props.journalPromptsDone[\"today\"][currentDivID][i][\"identifier\"]) {\r\n\t\t\t\t\t\tmatchToday = true\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif (this.props.journalScanPromptsDone[\"today\"] !== undefined) {\r\n\t\t\tif (currentDivID in this.props.journalScanPromptsDone[\"today\"]) {\r\n\t\t\t\tfor (let i in this.props.journalScanPromptsDone[\"today\"][currentDivID]) {\r\n\r\n\t\t\t\t\tif (this.props.journalScanPromptsDone[\"today\"][currentDivID][i] === null) {\r\n\t\t\t\t\t\tcontinue\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( promptID === this.props.journalScanPromptsDone[\"today\"][currentDivID][i][\"identifier\"]) {\r\n\t\t\t\t\t\tmatchToday = true\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn matchToday\r\n\t}\r\n\r\n\trender() {\r\n\t\t\r\n\t\tlet promptSet = []\r\n\t\tlet currentDisplayDivision = \"None Selected!\"\r\n\t\tlet currentDivID = -1\r\n\t\tif (this.props.promptList.length > 0 && this.state.selectedDivision >= 0 && this.state.selectedDivision < this.props.promptList.length) {\r\n\t\t\t\r\n\t\t\tif (this.props.promptList[this.state.selectedDivision][\"typeFlag\"]) {\r\n\t\t\t\tcurrentDisplayDivision = \"Prompts For You\"\r\n\t\t\t\tcurrentDivID = \"usr\"\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tcurrentDisplayDivision = \"Prompts for \" + this.props.promptList[this.state.selectedDivision][\"divTarget\"][\"divisionName\"]\r\n\t\t\t\tcurrentDivID = this.props.promptList[this.state.selectedDivision][\"divTarget\"][\"id\"]\r\n\t\t\t}\r\n\t\t\tpromptSet = this.props.promptList[this.state.selectedDivision][\"promptSet\"]\r\n\t\t}\r\n\t\t\r\n\t\tlet displayButtonSet = []\r\n\r\n\t\tfor (let index in this.props.promptList) {\r\n\t\t\t\r\n\t\t\tif (this.props.promptList[index][\"typeFlag\"]) {\r\n\t\t\t\tlet dataTarget = this.props.promptList[index][\"userTarget\"]\r\n\r\n\t\t\t\tlet classSet = \"btn btn-outline-secondary\"\r\n\t\t\t\tif (String(this.state.selectedDivision) === index) {\r\n\t\t\t\t\tclassSet = \"btn btn-secondary\"\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\t\tdisplayButtonSet.push(\t\t\t\r\n\t\t\t\t\t<button key={index} className={classSet} value={index} onClick={this.selectDisplayButton}>\r\n\t\t\t\t\t\t{dataTarget}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tlet dataTarget = this.props.promptList[index][\"divTarget\"]\r\n\t\t\t\t\r\n\t\t\t\tlet classSet = \"btn btn-outline-secondary\"\r\n\t\t\t\tif (String(this.state.selectedDivision) === index) {\r\n\t\t\t\t\tclassSet = \"btn btn-secondary\"\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tdisplayButtonSet.push(\t\t\t\r\n\t\t\t\t\t<button key={index} className={classSet} value={index} onClick={this.selectDisplayButton}>\r\n\t\t\t\t\t\t{dataTarget.divisionName}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t//console.log( currentDivID )\r\n\t\t//console.log( this.props.journalPromptsDone[\"today\"] )\r\n\t\t\r\n\t\t// Lets mess about!\r\n\t\tlet promptDisplay = []\r\n\t\tfor (let index in promptSet) {\r\n\r\n\t\t\tlet outputThing = \"Prompt Showing Error!\"\r\n\t\t\tlet promptID = promptSet[index]['identifier']\r\n\t\t\t\r\n\t\t\tlet matchToday = this.checkIfDoneToday(currentDivID, promptID)\r\n\t\t\t\r\n\t\t\tlet setData = this.state.promptData[currentDivID]\r\n\t\t\tlet saveData = undefined\r\n\t\t\ttry{\r\n\t\t\t\tsaveData = setData[promptID]\r\n\t\t\t}\r\n\t\t\tcatch{\r\n\t\t\t\t\r\n\t\t\t}\r\n\r\n\t\t\tswitch ( promptSet[index]['promptType'] ) {\r\n\t\t\t\t// Open Ended\r\n\t\t\t\tcase 0:\r\n\t\t\t\t\t\r\n\t\t\t\t\toutputThing = <JournalIteration\r\n\t\t\t\t\t\tinitialSave={saveData}\r\n\t\t\t\t\t\tid={promptID}\r\n\t\t\t\t\t\ttargetDiv={currentDivID}\r\n\t\t\t\t\t\tsaveTo={this.savePromptData}\t\r\n\t\t\t\t\t\talreadyDone={matchToday}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t// Likert\r\n\t\t\t\tcase 1:\r\n\t\t\t\t\toutputThing = <LikertIteration \r\n\t\t\t\t\t\r\n\t\t\t\t\t\tinitialSave={saveData}\r\n\t\t\t\t\t\tid={promptID}\r\n\t\t\t\t\t\ttargetDiv={currentDivID}\r\n\t\t\t\t\t\tsaveTo={this.savePromptData}\t\r\n\t\t\t\t\t\talreadyDone={matchToday}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t// Rating\r\n\t\t\t\tcase 2:\r\n\t\t\t\t\toutputThing = <RatingIteration \r\n\t\t\t\t\t\r\n\t\t\t\t\t\tinitialSave={saveData}\r\n\t\t\t\t\t\tid={promptID}\r\n\t\t\t\t\t\ttargetDiv={currentDivID}\r\n\t\t\t\t\t\tsaveTo={this.savePromptData}\t\r\n\t\t\t\t\t\talreadyDone={matchToday}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t// Multi\r\n\t\t\t\tcase 3:\r\n\t\t\t\t\toutputThing = <MultiIteration\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tchoices={promptSet[index][\"promptChoices\"]}\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tinitialSave={saveData}\r\n\t\t\t\t\t\tid={promptID}\r\n\t\t\t\t\t\ttargetDiv={currentDivID}\r\n\t\t\t\t\t\tsaveTo={this.savePromptData}\t\r\n\t\t\t\t\t\talreadyDone={matchToday}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\toutputThing = \"Prompt Showing Error!\"\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tpromptDisplay.push (\r\n\t\t\t\t<div key={index}>\r\n\t\t\t\t\t<div className=\"row my-3\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<h5>\r\n\t\t\t\t\t\t\t\t{promptSet[index]['text']}\r\n\t\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t{outputThing}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t</div>\r\n\t\t\t)\t\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tif (promptDisplay.length === 0) {\r\n\t\t\tlet targetID = \"usr\"\r\n\t\t\tlet promptID = \"none\"\r\n\t\t\t\r\n\t\t\tlet matchToday = false\r\n\t\t\tfor (let i in this.props.nonJournalPromptsDone[\"today\"]) {\r\n\t\t\t\tif ( promptID === this.props.nonJournalPromptsDone[\"today\"][i]) {\r\n\t\t\t\t\tmatchToday = true\r\n\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfor (let i in this.props.journalPromptsDone[\"today\"]) {\r\n\t\t\t\tif ( promptID === this.props.journalPromptsDone[\"today\"][i]) {\r\n\t\t\t\t\tmatchToday = true\r\n\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfor (let i in this.props.journalScanPromptsDone[\"today\"]) {\r\n\t\t\t\tif ( promptID === this.props.journalScanPromptsDone[\"today\"][i]) {\r\n\t\t\t\t\tmatchToday = true\r\n\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tlet setData = this.state.promptData[currentDivID]\r\n\t\t\tlet saveData = undefined\r\n\t\t\ttry{\r\n\t\t\t\tsaveData = setData[promptID]\r\n\t\t\t}\r\n\t\t\tcatch{\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tpromptDisplay.push (\r\n\t\t\t\t<div key={0}>\r\n\t\t\t\t\t<div className=\"row my-3\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<h5>\r\n\t\t\t\t\t\t\t\tNo Prompts! have a free Open Ended Journal!\r\n\t\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<JournalIteration\r\n\t\t\t\t\t\t\t\t\tinitialSave={saveData}\r\n\t\t\t\t\t\t\t\t\tid={promptID}\r\n\t\t\t\t\t\t\t\t\ttargetDiv={targetID}\r\n\t\t\t\t\t\t\t\t\tsaveTo={this.savePromptData}\t\r\n\t\t\t\t\t\t\t\t\talreadyDone={matchToday}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\t//let showIdle = this.state.postJournalStatus === 0 || this.state.postNonJournalStatus === 0\r\n\t\tlet showWaiting = this.state.postJournalStatus === 1 || this.state.postNonJournalStatus === 1\r\n\t\tlet showSuccess = this.state.postJournalStatus === 2 || this.state.postNonJournalStatus === 2\r\n\t\tlet showError = this.state.postJournalStatus === 3 || this.state.postNonJournalStatus === 3\r\n\t\t\r\n\t\t// Note to self, my error game is awful!\r\n\t\t// It first goes from here!\r\n\t\tlet errorParse = []\r\n\t\tfor (let index in this.state.journalErrors) {\r\n\t\t\terrorParse.push(\r\n\t\t\t\tthis.state.journalErrors[index][\"text\"]\r\n\t\t\t)\r\n\t\t}\r\n\t\tfor (let index in this.state.nonJournalErrors) {\r\n\t\t\terrorParse.push(\r\n\t\t\t\tthis.state.nonJournalErrors[index][\"text\"]\r\n\t\t\t)\r\n\t\t}\r\n\t\tif (errorParse.length === 0) {\r\n\t\t\terrorParse.push(\r\n\t\t\t\t\"Unknown!\"\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\t//var editor = new Quill('#quillTest');\r\n\t\treturn (\r\n\t\t\t<div className=\"makeView\">\r\n\t\t\t\t<div className=\"container-fluid\">\r\n\t\t\t\t\r\n\t\t\t\t\t<div className=\"card shadow\">\r\n\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<h5>\r\n\t\t\t\t\t\t\t\t\t\t{currentDisplayDivision}\r\n\t\t\t\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t{displayButtonSet}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t{promptDisplay}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<button className=\"btn btn-outline-primary\" onMouseDown={this.saveCurrent}> Post! </button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<Alert show={showWaiting} variant=\"warning\">\r\n\t\t\t\t\t\t<Alert.Heading>Waiting</Alert.Heading>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t  Waiting for server response...\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Alert show={showSuccess} variant=\"success\">\r\n\t\t\t\t\t\t<Alert.Heading>Success!</Alert.Heading>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t  Entries Posted!\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Alert show={showError} variant=\"danger\">\r\n\t\t\t\t\t\t<Alert.Heading>Error!</Alert.Heading>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t{errorParse}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</Alert>\r\n\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default withRouter(journalCreate);","import React from \"react\";\r\nimport { Search } from 'react-bootstrap-icons';\r\n\r\nimport { withRouter, } from \"react-router-dom\";\r\nimport { Alert } from 'react-bootstrap';\r\n\r\nimport { Loading } from \"..\"\r\n\r\nimport { APIGetSearchPrompts, APIDeleteUserEvents, APIGetUserEvents, APISetUserEvents } from \"../../utils\";\r\n//, APISetNonDivisionEvents APISetDivisionEvents, \r\nconst debugPageName = \"User Prompts\"\r\n\r\nconst triggerType = [\r\n\t\"Never\",\r\n\t\"Always\",\r\n\t\"On Monday\",\r\n\t\"On Tuesday\",\r\n\t\"On Wednesday\",\r\n\t\"On Thursday\",\r\n\t\"On Friday\",\r\n\t\"On Saturday\",\r\n\t\"On Sunday\",\r\n]\r\n\r\nconst promptType = [\r\n\t\"Open\",\r\n\t\"Likert\",\r\n\t\"Rating\",\r\n\t\"Multi\",\r\n\t\"Boolean\",\r\n]\r\n\r\n// Move this to a util later.... Its used in CompanyPrompts, SelectCompany and Suggestions....\r\nclass Paginator extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n        super(props);\r\n\t\tthis.state = {\r\n\t\t\tbtnLen: 2,\r\n\t\t}\r\n\t}\r\n\t\r\n\trender() {\r\n\t\t\r\n\t\tlet prevAlter = \"\"\r\n\t\tlet nextAlter = \"\"\r\n\t\t\r\n\t\tif (this.props.activePage <= 0) {\r\n\t\t\tprevAlter = \"disabled\"\r\n\t\t}\r\n\r\n\t\tif (this.props.activePage >= this.props.totalLoaded/this.props.numPerPage-1) {\r\n\t\t\tnextAlter = \"disabled\"\r\n\t\t}\r\n\t\t\r\n\t\tlet numberButtons = []\r\n\t\tfor (let i = -this.state.btnLen; i <= this.state.btnLen; i++) {\r\n\t\t\tlet altered = \"\"\r\n\t\t\t\r\n\t\t\tlet altI = i+this.props.activePage\r\n\t\t\tif (altI < 0 || altI >= this.props.totalLoaded/this.props.numPerPage) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (i === 0) {\r\n\t\t\t\taltered = \"active \"\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tnumberButtons.push(\r\n\t\t\t\t<button key={i} className={\"btn btn-outline-primary \" + altered} value={altI} onClick={this.props.changeToNum}>\r\n\t\t\t\t\t{altI}\r\n\t\t\t\t</button>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className = \"paginator\">\r\n\t\t\t\t<div className = \"container\">\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<button className={\"btn btn-outline-primary \" + prevAlter} value=\"bck\" onClick={this.props.changePrevNext}>\r\n\t\t\t\t\t\t\t\tPrev\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t{numberButtons}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<button className={\"btn btn-outline-primary \" + nextAlter} value=\"fwd\" onClick={this.props.changePrevNext}>\r\n\t\t\t\t\t\t\t\tNext\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nclass PromptDisplayUser extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n        super(props);\r\n\t\tthis.state = {\r\n\t\t\t\r\n\t\t\teventsGlobBin: [],\r\n\t\t\teventsUserBin: [],\r\n\t\t\t\r\n\t\t\tpromptsBin: [],\r\n\t\t\t//unsavedChanges: false,\r\n\t\t\t\r\n\t\t\tpageNum: 0,\r\n\t\t\tnumPerPage: 5,\r\n\t\t\t\r\n\t\t\tsearchText: \"\",\r\n\t\t\t\r\n\t\t\tfilterTypeFlags: this.initTypeFlags(),\r\n\t\t\tfilterNameFlags: this.initNameFlags(),\r\n\t\t\t\r\n\t\t\thasSent: false,\r\n\t\t\t\r\n\t\t\tlastClickedEventIndex: -1,\r\n\t\t\t\r\n\t\t\taddedPrompt: 0,\r\n\t\t\t\r\n\t\t\tgetEventsStatus: 0,\r\n\t\t\tgetEventsError: [],\r\n\t\t\t\r\n\t\t\tsaveEventStatus: 0,\r\n\t\t\tsaveEventError: [],\r\n\t\t\t\r\n\t\t\tsearchForStatus: 0,\r\n\t\t\tsearchForError: [],\r\n\t\t\t\r\n\t\t\tdeleteEventStatus: 0,\r\n\t\t\tdeleteEventError: [],\r\n\t\t}\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\t// Input that Wait Until parent Is Done thing...\r\n\t\t// Otherwise it will make a memory leak?\r\n\t\tthis.getEvents()\r\n\t};\r\n\t\r\n\tinitTypeFlags = () => {\r\n\t\tlet createdList = []\r\n\t\tfor (let i = 0; i < promptType.length; i++) {\r\n\t\t\tcreatedList.push(true)\r\n\t\t}\r\n\t\t\r\n\t\treturn createdList\r\n\t}\r\n\t\r\n\tinitNameFlags = () => {\r\n\t\tlet createdList = []\r\n\t\tfor (let i = 0; i < this.props.validFilters.length; i++) {\r\n\t\t\tcreatedList.push(false)\r\n\t\t}\r\n\t\t\r\n\t\treturn createdList\r\n\t}\r\n\t\r\n\tsetLastClickedEvent = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tlastClickedEventIndex: Number(event.target.value)\r\n\t\t})\r\n\t}\r\n\t\r\n\tchangeInput = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tsearchText: event.target.value\r\n\t\t})\r\n\t}\r\n\t\r\n\tchangeFilterType1 = (event) => {\r\n\t\tlet alteredFlags = this.state.filterTypeFlags.slice()\r\n\t\t\r\n\t\talteredFlags[Number(event.target.value)] = !alteredFlags[Number(event.target.value)]\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tfilterTypeFlags: alteredFlags,\r\n\t\t})\r\n\t}\r\n\tchangeFilterType2 = (event) => {\r\n\t\t\r\n\t\tlet alteredFlags = this.state.filterNameFlags.slice()\r\n\t\t\r\n\t\talteredFlags[Number(event.target.value)] = !alteredFlags[Number(event.target.value)]\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tfilterNameFlags: alteredFlags,\r\n\t\t})\r\n\t}\r\n\t\r\n\tgetEventsFailure = (responseData) => {\r\n\t\tlet returnData = []\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.debugSet(debugPageName, \"Refresh Triggered\", \"Get Division Events\")\r\n\t\t\tthis.props.refreshToken(this.getEvents)\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageName, \"Get Division Events\", \"Failure\")\r\n\t\treturnData = responseData['messages']\r\n\t\tthis.setState({\r\n\t\t\tgetEventsStatus: 3,\r\n\t\t\tgetEventsError: returnData,\r\n\t\t})\r\n\t}\r\n\tgetEventsSuccess = (incomingEvents) => {\r\n\t\t//console.log(this.props.currentUser)\r\n\t\t\r\n\t\tlet sortedGlobal = []\r\n\t\tlet sortedUser = []\r\n\t\t\r\n\t\tfor (let index in incomingEvents) {\r\n\t\t\t\r\n\t\t\t// This should be global...\r\n\t\t\t//if (incomingEvents[index][\"creatorUser\"] === null) {\r\n\t\t\t//\tsortedGlobal.push(incomingEvents[index])\r\n\t\t\t//}\r\n\t\t\t// This should be This User\r\n\t\t\tif (incomingEvents[index][\"creatorUser\"] === this.props.currentUser) {\r\n\t\t\t\t\r\n\t\t\t\t//incomingEvents[index][\"sharingEnabled\"] ||\r\n\t\t\t\t//if (incomingEvents[index][\"usedByUser\"]) {\r\n\t\t\t\t\tsortedUser.push(incomingEvents[index])\r\n\t\t\t\t//}\r\n\t\t\t}\r\n\t\t\t// This should be this Company shared stuff...\r\n\t\t\telse {\r\n\t\t\t\t// Ignore!\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageName, \"Get Division Events\", \"Success\")\r\n\t\tthis.setState({\r\n\t\t\teventsGlobBin: sortedGlobal,\r\n\t\t\teventsUserBin: sortedUser,\r\n\t\t\t\r\n\t\t\tgetEventsStatus: 2,\r\n\t\t})\r\n\t}\r\n\tgetEvents = () => {\r\n\t\tif (!(this.props.currentUser === undefined)) {\r\n\t\t\tlet checkData = undefined\r\n\t\t\tif (checkData === undefined) {\r\n\t\t\t\tAPIGetUserEvents( this.props.currentUser, this.getEventsSuccess, this.getEventsFailure )\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tgetEventsStatus: 1,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t//getEventsSuccess( ??? )\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\t//console.log(\"MOVE IT BACK TO THE SELECT COMPANY HERE!\")\r\n\t\t}\r\n\t}\r\n\t\r\n\tcreateEvent = () => {\r\n\t\tlet newEvents = this.state.eventsUserBin.slice()\r\n\t\t\r\n\t\t// I can proboly replace the \"isSaved\" with an id of -1?\r\n\t\tnewEvents.push(\r\n\t\t\t{\"id\":-1, \"triggerType\":0, \"promptPool\":[], \"sharingEnabled\":true, \"usedByUser\":false, \"isSaved\":false}\r\n\t\t)\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\teventsUserBin: newEvents,\r\n\t\t})\r\n\t}\r\n\t\r\n\tenabledUserFieldChange = (event) => {\r\n\t\t\r\n\t\tlet alteredEvents = this.state.eventsUserBin.slice()\r\n\t\talteredEvents[event.target.name][\"usedByUser\"] = !alteredEvents[event.target.name][\"usedByUser\"]\r\n\t\talteredEvents[event.target.name][\"isSaved\"] = false\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\teventsUserBin: alteredEvents,\r\n\t\t})\r\n\t}\r\n\t\r\n\tchangePageTo = (event) => {\r\n\t\t\r\n\t\tlet newPage = Number(event.target.value)\r\n\t\t// Sanity check!\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tpageNum: newPage\r\n\t\t})\r\n\t}\r\n\tchangePageFwdBck = (event) => {\r\n\t\t\r\n\t\tlet newPage = Number(this.state.pageNum)\r\n\t\t\r\n\t\tif (event.target.value === \"fwd\") {\r\n\t\t\tnewPage = newPage + 1\r\n\t\t\r\n\t\t\tif (newPage > this.state.promptsBin.length/this.state.numPerPage) {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if (event.target.value === \"bck\") {\r\n\t\t\tnewPage = newPage - 1\r\n\t\t\t\r\n\t\t\tif (newPage < 0) {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t}\r\n\t\t\t\r\n\t\tthis.setState({\r\n\t\t\tpageNum: newPage\r\n\t\t})\r\n\t}\r\n\t\r\n\tchangeTrigger = (event) => {\r\n\t\t// A normal \"Get the stuff I stored in the name or value...\r\n\t\tlet idNumberName = event.target.name.split(\",\")\r\n\t\tlet alteredEvents = this.state.eventsUserBin.slice()\r\n\t\t\r\n\t\t// Shove that into an alteration\r\n\t\talteredEvents[ idNumberName[0] ][\"triggerType\"] = Number(idNumberName[1])\r\n\t\talteredEvents[ idNumberName[0] ][\"isSaved\"] = false\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\teventsUserBin: alteredEvents,\r\n\t\t})\r\n\t}\r\n\tsetLastClickedEvent = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tlastClickedEventIndex: Number(event.target.value)\r\n\t\t})\r\n\t}\r\n\t\r\n\tdeleteEventFailure = (responseData) => {\r\n\t\tlet returnData = []\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.debugSet(debugPageName, \"Refresh Triggered\", \"Delete Events\")\r\n\t\t\tthis.props.refreshToken(this.tokenHasRefreshedError)\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageName, \"Delete Events\", \"Failure\")\r\n\t\treturnData = responseData['messages']\r\n\t\tthis.setState({\r\n\t\t\tdeleteEventStatus: 3,\r\n\t\t\tdeleteEventError: returnData,\r\n\t\t})\r\n\t}\r\n\tdeleteEventCallback = (storedID, incomingMessage) => {\r\n\t\t\r\n\t\t\r\n\t\tlet valueInt = Number(storedID)\r\n\t\tlet temp = this.state.eventsUserBin.slice()\r\n\t\ttemp.splice(valueInt,1)\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageName, \"Delete Events\", \"Success\")\r\n\t\tthis.setState({\r\n\t\t\teventsUserBin: temp,\r\n\t\t})\r\n\t\t\r\n\t\tif (incomingMessage !== 0) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tdeleteEventStatus: 2,\r\n\t\t\t})\r\n\t\t}\r\n\t\t\r\n\t}\r\n\tdeleteEvent = (event) => {\r\n\t\t\r\n\t\tlet selectedEvent = this.state.eventsUserBin[ Number(event.target.value) ]\r\n\r\n\t\tlet id = selectedEvent[\"id\"]\r\n\t\t\r\n\t\tif (!selectedEvent[\"isSaved\"]) {\r\n\t\t\t// This used to send -1, and I can't remember why I did that right now\r\n\t\t\tthis.deleteEventCallback( Number(event.target.value), 0)\r\n\t\t}\r\n\t\telse{\t\t\t\r\n\t\t\tAPIDeleteUserEvents( Number(event.target.value), id, this.deleteEventCallback, this.deleteEventFailure )\r\n\t\t\tthis.setState({\r\n\t\t\t\tdeleteEventStatus: 1,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\t\r\n\tdeleteEventPrompt = (event) => {\r\n\t\tlet eventIndex = Number(event.target.name)\r\n\t\tlet promptIndex = Number(event.target.value)\r\n\r\n\t\tlet temp = this.state.eventsUserBin.slice()\r\n\t\ttemp[eventIndex][\"promptPool\"].splice( promptIndex,1 )\r\n\t\ttemp[eventIndex][\"isSaved\"] = false\r\n\t\t\r\n\t\t//console.log(eventIndex)\r\n\t\t//console.log(promptIndex)\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\teventsUserBin: temp,\r\n\t\t})\r\n\t}\r\n\t\r\n\tsaveEventsFailure = (responseData) => {\r\n\t\tlet returnData = []\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.debugSet(debugPageName, \"Refresh Triggered\", \"Get Division Events\")\r\n\t\t\tthis.props.refreshToken(this.tokenHasRefreshedError)\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageName, \"Save Division Events\", \"Failure\")\r\n\t\treturnData = responseData['messages']\r\n\t\tthis.setState({\r\n\t\t\tsaveEventStatus: 3,\r\n\t\t\tsaveEventError: returnData,\r\n\t\t})\r\n\t}\r\n\tsaveEventsSuccess = (savedIndex, incomingMessage) => {\r\n\t\tif ( !this.state.eventsUserBin[savedIndex][\"isSaved\"] ) {\r\n\t\t\tlet temp = this.state.eventsUserBin.slice()\r\n\t\t\ttemp[savedIndex][\"id\"] = Number(incomingMessage.split(\":\")[1])\r\n\t\t\ttemp[savedIndex][\"isSaved\"] = true\r\n\r\n\t\t\tthis.setState({\r\n\t\t\t\teventsUserBin: temp,\r\n\t\t\t})\r\n\t\t}\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageName, \"Save Division Events\", \"Success\")\r\n\t\tthis.setState({\r\n\t\t\tsaveEventStatus: 2,\r\n\t\t})\r\n\t}\r\n\tsaveUserEvent = (event) => {\r\n\t\t// Prep some stuff that the server wants to see on the other end....\r\n\t\tlet selectedEvent = this.state.eventsUserBin[event.target.value]\r\n\r\n\t\tlet id = selectedEvent[\"id\"]\r\n\t\tlet newTrigger = selectedEvent[\"triggerType\"]\r\n\t\tlet newEnabled = selectedEvent[\"usedByUser\"]\r\n\t\tlet newEnabledShare = selectedEvent[\"sharingEnabled\"]\r\n\t\t\r\n\t\tlet newPrompts = []\r\n\t\tfor (let index in selectedEvent[\"promptPool\"]) {\r\n\t\t\tnewPrompts.push( selectedEvent[\"promptPool\"][index][\"identifier\"] )\r\n\t\t}\r\n\t\t\r\n\t\tAPISetUserEvents( Number(event.target.value), id, newEnabled, newEnabledShare, newTrigger, newPrompts, this.saveEventsSuccess, this.saveEventsFailure )\r\n\t\tthis.setState({\r\n\t\t\tsaveEventStatus: 0,\r\n\t\t})\r\n\t}\r\n\t\r\n\t/*\r\n\tsaveNonDivEventsFailure = (responseData) => {\r\n\t\tlet returnData = []\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.debugSet(debugPageName, \"Refresh Triggered\", \"Save Non-Division Data\")\r\n\t\t\tthis.props.refreshToken(this.tokenHasRefreshedError)\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageName, \"Save Non-Division Events\", \"Success\")\r\n\t\treturnData = responseData['messages']\r\n\t\tthis.setState({\r\n\t\t\tsaveEventStatus: 3,\r\n\t\t\tsaveEventError: returnData,\r\n\t\t})\r\n\t}\r\n\tsaveNonDivEventsSuccess = (savedIndex, incomingMessage) => {\r\n\t\tthis.props.debugSet(debugPageName, \"Save Non-Division Events\", \"Success\")\r\n\t\tthis.setState({\r\n\t\t\tsaveEventStatus: 2,\r\n\t\t})\r\n\t}\r\n\tsaveGlobEvent = (event) => {\r\n\t\tlet selectedEvent = this.state.eventsGlobBin[event.target.value]\r\n\r\n\t\tlet id = selectedEvent[\"id\"]\r\n\t\tlet newEnabledDiv = selectedEvent[\"usedByUser\"]\r\n\t\t\r\n\t\tAPISetNonDivisionEvents( Number(event.target.value), id, this.props.currentDivisionID, newEnabledDiv, this.saveNonDivEventsSuccess, this.saveNonDivEventsFailure )\r\n\t\tthis.setState({\r\n\t\t\tsaveEventStatus: 0,\r\n\t\t})\r\n\t}\r\n\t*/\r\n\t\r\n\tsearchForPromptsFailure = (responseData) => {\r\n\t\tlet returnData = []\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.debugSet(debugPageName, \"Refresh Triggered\", \"Search Prompts\")\r\n\t\t\tthis.props.refreshToken(this.searchForPrompts)\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageName, \"Search Prompts\", \"Failure\")\r\n\t\treturnData = responseData['messages']\r\n\t\tthis.setState({\r\n\t\t\tsearchForStatus: 3,\r\n\t\t\tsearchForError: returnData,\r\n\t\t})\r\n\t}\r\n\tsearchForPromptsCallback = (incomingPrompts) => {\r\n\r\n\t\tthis.props.debugSet(debugPageName, \"Search Prompts\", \"Success\")\r\n\t\tthis.setState({\r\n\t\t\tpromptsBin: incomingPrompts,\r\n\t\t\thasSent: true,\r\n\t\t\t\r\n\t\t\tsearchForStatus: 2,\r\n\t\t})\r\n\t}\r\n\tsearchForPrompts = () => {\r\n\t\t\r\n\t\t// Maybe do a check to see if search filter is the right length?\r\n\t\t// However, that should not be necessary as state filter set is set to its length...\r\n\t\t\r\n\t\tlet filterTypeSet = []\r\n\t\tfor (let index in this.state.filterTypeFlags) {\r\n\t\t\tif (this.state.filterTypeFlags[index]) {\r\n\t\t\t\tfilterTypeSet.push(index)\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tlet filterNameSet = []\r\n\t\tfor (let index in this.state.filterNameFlags) {\r\n\t\t\tif (this.state.filterNameFlags[index]) {\r\n\t\t\t\tfilterNameSet.push(this.props.validFilters[index])\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tlet checkData = undefined\r\n\t\tif (checkData === undefined) {\r\n\t\t\t//console.log(\"Prompts are not in storage!\")\r\n\t\t\tAPIGetSearchPrompts( this.state.searchText, filterTypeSet, filterNameSet, this.searchForPromptsCallback, this.searchForPromptsFailure)\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tsearchForStatus: 1,\r\n\t\t\t})\r\n\t\t}\r\n\t\telse {\r\n\t\t\t//console.log(\"Prompts ARE in storage!\")\r\n\t\t\t//this.searchForPromptsCallback(checkData.???, checkData.???)\r\n\t\t}\r\n\t}\r\n\t\r\n\taddingEventPrompt = (event) => {\r\n\t\tlet temp = this.state.eventsUserBin.slice()\r\n\t\tlet promptIndex = Number(event.target.value)\r\n\t\tlet targetIndex = this.state.lastClickedEventIndex\r\n\t\t\r\n\t\tif (targetIndex >= 0) {\r\n\t\t\t\r\n\t\t\t// Check to see if it is already here...\r\n\t\t\tlet sanity = temp[targetIndex][\"promptPool\"].find(element => element[\"identifier\"] === this.state.promptsBin[ promptIndex ][\"identifier\"] )\r\n\t\t\t\r\n\t\t\tlet promptReport = 0\r\n\t\t\tif (sanity === undefined) {\r\n\t\t\t\ttemp[targetIndex][\"isSaved\"] = false\r\n\t\t\t\ttemp[targetIndex][\"promptPool\"].push(this.state.promptsBin[ promptIndex ])\r\n\t\t\t\tpromptReport = 1\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tpromptReport = 2\r\n\t\t\t}\r\n\r\n\t\t\tthis.setState({\r\n\t\t\t\teventsUserBin: temp,\r\n\t\t\t\taddedPrompt: promptReport,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\t\r\n\t// I have removed the share feature for the time being...\r\n\trender() {\r\n\t\t\r\n\t\t// Displaying the user events\r\n\t\tlet userEvents = []\r\n\r\n\t\t// For each event we have in our possestion...\r\n\t\tfor (let index in this.state.eventsUserBin) {\r\n\t\t\t// Mark it down for easier reference...\r\n\t\t\tlet thisEvent = this.state.eventsUserBin[index]\r\n\t\t\t\r\n\t\t\t// Create the collapsable menu filled with its prompts...\r\n\t\t\tlet displayCurrentPrompts = []\r\n\t\t\tfor (let indexSub in thisEvent[\"promptPool\"]) {\r\n\t\t\t\t// subset is a preview section...\r\n\t\t\t\tlet subset = thisEvent[\"promptPool\"][indexSub][\"text\"].substring(0, 12) + \"...\";\r\n\t\t\t\t\r\n\t\t\t\t// No comments in here due to jsx\r\n\t\t\t\tdisplayCurrentPrompts.push(\r\n\t\t\t\t\r\n\t\t\t\t\t<tr key={indexSub}>\r\n\t\t\t\t\t\t<th scope=\"row\">\r\n\t\t\t\t\t\t\t<button className=\"btn btn-outline-secondary\" data-toggle=\"collapse\" data-target={\"#displayPromptCollapse\"+index+indexSub}>\r\n\t\t\t\t\t\t\t\t{subset}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</th>\t\t\t\t\t\t\r\n\t\t\t\t\t\t<td>{promptType[thisEvent[\"promptPool\"][indexSub][\"promptType\"]]}</td>\r\n\t\t\t\t\t\t{/* <td>{thisEvent[\"promptPool\"][indexSub][\"promptFilterTags\"].length}</td> */}\r\n\t\t\t\t\t\t<th>\r\n\t\t\t\t\t\t\t<button className=\"close\" type=\"button\" value={indexSub} name={index} onClick={this.deleteEventPrompt} aria-label=\"Close\">\r\n\t\t\t\t\t\t\t\t&times;\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</th>\r\n\t\t\t\t\t</tr>,\r\n\t\t\t\t\t<tr key={1 + indexSub + thisEvent[\"promptPool\"].length}>\r\n\t\t\t\t\t\t<th scope=\"row\" colSpan=\"4\" className=\"collapse\" id={\"displayPromptCollapse\"+index+indexSub}>\r\n\t\t\t\t\t\t\t{thisEvent[\"promptPool\"][indexSub][\"text\"]}\r\n\t\t\t\t\t\t</th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t\t// If there were NONE, then ovverride!\r\n\t\t\tif (displayCurrentPrompts.length === 0) {\r\n\t\t\t\tdisplayCurrentPrompts.push(\r\n\t\t\t\t\t<tr key={0}>\r\n\t\t\t\t\t\t<th scope=\"row\" colSpan=\"4\">\r\n\t\t\t\t\t\t\tNothing here!\r\n\t\t\t\t\t\t</th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\r\n\t\t\t// Display logic values with backups in case of undefined....\r\n\t\t\tlet unsavedCheck = !thisEvent[\"isSaved\"]\r\n\r\n\t\t\tlet displayLength = 0\r\n\t\t\ttry {\r\n\t\t\t\tdisplayLength = thisEvent[\"promptPool\"].length\r\n\t\t\t}\r\n\t\t\tcatch {\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\r\n\t\t\t// This is vusial JSX, no comments due to jsx\r\n\t\t\tuserEvents.push(\r\n\t\t\t\t\r\n\t\t\t\t<div className=\"col-sm-12 col-md-12 col-lg-6 col-xl\" key={index}>\r\n\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t{ unsavedCheck &&\r\n\t\t\t\t\t\t\t\t<div className=\"text-danger\">\r\n\t\t\t\t\t\t\t\t\tUnsaved Changes!\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tDelete\r\n\t\t\t\t\t\t\t<button className=\"badge badge-danger badge-pill\" name=\"test\" value={index} onClick={this.deleteEvent}>\r\n\t\t\t\t\t\t\t\tX\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t\t\t<div className=\"col-\">\r\n\t\t\t\t\t\t\t\t\tTrigger Type:\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"col-\">\r\n\t\t\t\t\t\t\t\t\t<div className='dropdown'>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"btn btn-secondary mx-2\" type=\"button\" id={\"EventButton\"+index} data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n\t\t\t\t\t\t\t\t\t\t\t{ triggerType[ thisEvent[\"triggerType\"] ] }\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"dropdown-menu\" aria-labelledby={\"EventButton\"+index}>\r\n\t\t\t\t\t\t\t\t\t\t\t{triggerType.map((radio, idx) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div key={idx}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button className=\"dropdown-item\" name={ [index, idx] } onClick={this.changeTrigger}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{radio}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"row m-1\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t\t\t<div className=\"col-\">\r\n\t\t\t\t\t\t\t\t\t<b><u><i>{displayLength}</i></u></b> Prompts \r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"col- mx-2\">\r\n\t\t\t\t\t\t\t\t\t<button className=\"btn btn-secondary\" type=\"button\" data-toggle=\"collapse\" data-target={\"#collapse\"+index} aria-expanded=\"false\" aria-controls={\"collapse\"+index}>\r\n\t\t\t\t\t\t\t\t\t\tEdit\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<div className='custom-control custom-checkbox'>\r\n\t\t\t\t\t\t\t\t\t\t<input type='checkbox' className='custom-control-input' id={'customCheckUser'+index} name={index} value={thisEvent[\"usedByUser\"]} onChange={this.enabledUserFieldChange} checked={thisEvent[\"usedByUser\"]} />\r\n\t\t\t\t\t\t\t\t\t\t<label className='custom-control-label' htmlFor={'customCheckUser'+index} >Enabled</label>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<button className=\"btn btn-primary\" value={index} onClick={this.saveUserEvent}>\r\n\t\t\t\t\t\t\t\t\t\tSave\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<div className=\"collapse\" id={\"collapse\"+index}>\r\n\t\t\t\t\t\t\t<div className=\"card card-body\">\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<table className=\"table\" key=\"1\">\r\n\t\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Text</th>\r\n\t\t\t\t\t\t\t\t\t\t\t{/* <th scope=\"col\">IID</th> */}\r\n\t\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Type</th>\r\n\t\t\t\t\t\t\t\t\t\t\t{/* <th scope=\"col\">Filter(s)</th> */}\r\n\t\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Delete</th>\r\n\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t\t{displayCurrentPrompts}\r\n\t\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<button className=\"btn btn-primary\" value={index} onClick={this.setLastClickedEvent} data-toggle=\"modal\" data-target=\"#addPrompts\">\r\n\t\t\t\t\t\t\t\t\tAdd New Prompt\r\n\t\t\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\tif (userEvents.length === 0) {\r\n\t\t\tuserEvents.push(\r\n\t\t\t\t<div className=\"col\" key={0}>\r\n\t\t\t\t\tNothing Here!\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\t// This is for displaying the response to the prompt search\r\n\t\tlet showSearchPrompts = []\r\n\t\t\r\n\t\t// Are there prompts in our current bin?\r\n\t\tif (this.state.promptsBin.length > 0) {\r\n\t\t\t// PAGINATOR STUFF!\r\n\t\t\t\r\n\t\t\t// For a number of stuff in the page...\r\n\t\t\tfor (let index = 0; index < this.state.numPerPage; index++) {\r\n\t\t\t\t\r\n\t\t\t\t// Alter the index so it is pointing to the right part\r\n\t\t\t\tlet alteredIndex = index + this.state.pageNum*this.state.numPerPage\r\n\t\t\t\t\r\n\t\t\t\t// Is our altered index past the end?\r\n\t\t\t\tif (alteredIndex >= this.state.promptsBin.length) {\r\n\t\t\t\t\t// If no, get outta here\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tlet subset = this.state.promptsBin[alteredIndex][\"text\"].substring(0, 12) + \"...\";\r\n\t\t\t\t\r\n\t\t\t\tlet displayIndFilters = []\r\n\t\t\t\tfor (let tagIndex in this.state.promptsBin[alteredIndex][\"promptFilterTags\"]) {\r\n\t\t\t\t\tdisplayIndFilters.push(\r\n\t\t\t\t\t\t<div className=\"col border\">\r\n\t\t\t\t\t\t\t<div className=\"my-1\">\r\n\t\t\t\t\t\t\t\t{this.state.promptsBin[alteredIndex][\"promptFilterTags\"][tagIndex][\"name\"]}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\tif (displayIndFilters.length === 0) {\r\n\t\t\t\t\tdisplayIndFilters.push(\r\n\t\t\t\t\t\t<div className=\"col- list-group-item\">\r\n\t\t\t\t\t\t\tNo Filters!\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// No comments in here due to jsx\r\n\t\t\t\tshowSearchPrompts.push(\r\n\r\n\t\t\t\t\t<tr key={alteredIndex}>\r\n\t\t\t\t\t\t<th scope=\"row\">\r\n\t\t\t\t\t\t\t<button className=\"btn btn-outline-secondary\" data-toggle=\"collapse\" data-target={\"#collapseFullText\"+alteredIndex}>\r\n\t\t\t\t\t\t\t\t{subset}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t{/* <td>{ this.state.promptsBin[alteredIndex][\"identifier\"] }</td> */}\r\n\t\t\t\t\t\t<td>{ promptType[this.state.promptsBin[alteredIndex][\"promptType\"]] }</td>\r\n\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t<button className=\"btn btn-outline-secondary\" data-toggle=\"collapse\" data-target={\"#collapseFilters\"+alteredIndex}>\r\n\t\t\t\t\t\t\t\t{ this.state.promptsBin[alteredIndex][\"promptFilterTags\"].length }\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t<th>\r\n\t\t\t\t\t\t\t<button className=\"btn btn-outline-secondary\" value={alteredIndex} onClick={this.addingEventPrompt}>\r\n\t\t\t\t\t\t\t\t+\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</th>\r\n\t\t\t\t\t</tr>,\r\n\t\t\t\t\t<tr key={1 + alteredIndex + this.state.promptsBin.length}>\r\n\t\t\t\t\t\t<th scope=\"row\" colSpan=\"4\" className=\"collapse\" id={\"collapseFullText\"+alteredIndex}>\r\n\t\t\t\t\t\t\t{ this.state.promptsBin[alteredIndex][\"text\"] }\r\n\t\t\t\t\t\t</th>\r\n\t\t\t\t\t</tr>,\r\n\t\t\t\t\t<tr key={2 + alteredIndex + 2*this.state.promptsBin.length}>\r\n\t\t\t\t\t\t<th scope=\"row\" colSpan=\"4\" className=\"collapse\" id={\"collapseFilters\"+alteredIndex}>\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t\t\t\t{displayIndFilters}\r\n\t\t\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</th>\r\n\t\t\t\t\t</tr>,\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tif (this.state.hasSent) {\r\n\t\t\t\tshowSearchPrompts.push(\r\n\t\t\t\t\t<tr key={0}>\r\n\t\t\t\t\t\t<th scope=\"row\" colSpan=\"4\">\r\n\t\t\t\t\t\t\tNo Results!\r\n\t\t\t\t\t\t</th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tshowSearchPrompts.push(\r\n\t\t\t\t\t<tr key={0}>\r\n\t\t\t\t\t\t<th scope=\"row\" colSpan=\"4\">\r\n\t\t\t\t\t\t\tWaiting for Search!\r\n\t\t\t\t\t\t</th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t// This is error stuff\r\n\t\t//let showIdle = this.state.getEventsStatus === 0 || this.state.saveEventStatus === 0 || this.state.searchForStatus === 0 || this.state.deleteEventStatus === 0\r\n\t\tlet showWaiting = this.state.getEventsStatus === 1 || this.state.saveEventStatus === 1 || this.state.deleteEventStatus === 1 //|| this.state.searchForStatus === 1 \r\n\t\tlet showSuccess = this.state.saveEventStatus === 2 || this.state.deleteEventStatus === 2 //|| this.state.searchForStatus === 2 || this.state.getEventsStatus === 2 || \r\n\t\tlet showError = this.state.getEventsStatus === 3 || this.state.saveEventStatus === 3 || this.state.deleteEventStatus === 3 //|| this.state.searchForStatus === 3\r\n\t\t\r\n\t\tlet errorParse = [\"Network Error\"]\r\n\t\t\r\n\t\tlet filterTypeSet = []\r\n\t\tfor (let index in promptType) {\r\n\t\t\t\r\n\t\t\tlet displayClass = \"btn-outline-success\"\r\n\t\t\tif (this.state.filterTypeFlags[index]) {\r\n\t\t\t\tdisplayClass = \"btn-success\"\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfilterTypeSet.push(\r\n\t\t\t\t<div className=\"col-\" key={index}>\r\n\t\t\t\t\t<button className={\"btn \" + displayClass} value={index} key={index} onClick={this.changeFilterType1}>\r\n\t\t\t\t\t\t{promptType[index]}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\tlet filterNameSet = []\r\n\t\tfor (let index in this.props.validFilters) {\r\n\t\t\t\r\n\t\t\tlet displayClass = \"btn-outline-success\"\r\n\t\t\tif (this.state.filterNameFlags[index]) {\r\n\t\t\t\tdisplayClass = \"btn-success\"\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfilterNameSet.push(\r\n\t\t\t\t<div className=\"col-\" key={index}>\r\n\t\t\t\t\t<button className={\"btn \" + displayClass} value={index} key={index} onClick={this.changeFilterType2}>\r\n\t\t\t\t\t\t{this.props.validFilters[index]}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\t// Again, no comments due to jsx\r\n\t\treturn (\r\n\t\t\t<div className=\"PromptDisplay\">\r\n\t\t\t\t\r\n\t\t\t\t{showWaiting && <Loading/>}\r\n\t\t\t\r\n\t\t\t\t<div className=\"container-fluid\">\r\n\t\t\t\t\r\n\t\t\t\t\t{!showWaiting && \r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card shadow\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<h5>Your Personal Prompts</h5>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t{userEvents}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"row my-2\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\t<button className=\"btn btn-primary\" onClick={this.createEvent}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tCreate Event\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\t<Alert show={showWaiting} variant=\"warning\">\r\n\t\t\t\t\t\t<Alert.Heading>Waiting</Alert.Heading>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t  Waiting for server response...\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Alert show={showSuccess} variant=\"success\">\r\n\t\t\t\t\t\t<Alert.Heading>Success!</Alert.Heading>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t  Successfully changed data!\r\n\t\t\t\t\t\t  <br />\r\n\t\t\t\t\t\t  Your prompts will be updated on next refresh\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Alert show={showError} variant=\"danger\">\r\n\t\t\t\t\t\t<Alert.Heading>Error!</Alert.Heading>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t  {errorParse}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"modal fade\" id=\"addPrompts\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"promptAdder\" aria-hidden=\"true\">\r\n\t\t\t\t\t\t<div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n\t\t\t\t\t\t\t<div className=\"modal-content\">\r\n\t\t\t\t\t\t\t\t<div className=\"modal-header\">\r\n\r\n\t\t\t\t\t\t\t\t\t<h5 className=\"modal-title\">Adding Prompts</h5>\r\n\t\t\t\t\t\t\t\t\t<button type=\"btn btn-danger\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n\t\t\t\t\t\t\t\t\t  <span aria-hidden=\"true\">&times;</span>\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"modal-body\">\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"input-group rounded\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"search\" className=\"form-control rounded\" placeholder=\"Search Text\" aria-label=\"Search\" aria-describedby=\"search-addon\" onChange={this.changeInput} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<button className=\"input-group-text border-0\" id=\"search-addon\" onClick={this.searchForPrompts}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Search className=\"iconBG\" color=\"black\" size={16} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t<button className=\"btn btn-outline-secondary\" data-toggle=\"collapse\" data-target={\"#displaySearchCollapse\"}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tAdvanced Search\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t<hr/>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"collapse\" id={\"displaySearchCollapse\"}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<u>Filters:</u>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{filterTypeSet}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{filterNameSet}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<hr/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<table className=\"table\" key=\"1\">\r\n\t\t\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Text</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{/*<th scope=\"col\">IID</th>*/}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Type</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Filter(s)</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Add</th>\r\n\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t\t\t{showSearchPrompts}\r\n\t\t\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t{this.state.addedPrompt === 1 && \r\n\t\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col text-success\">\r\n\t\t\t\t\t\t\t\t\t\t\t\tAdded!\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t{this.state.addedPrompt === 2 && \r\n\t\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col text-warning\">\r\n\t\t\t\t\t\t\t\t\t\t\t\tAlready on the list!\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"modal-footer\">\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<Paginator\r\n\t\t\t\t\t\t\t\t\t\tactivePage={this.state.pageNum}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tchangePrevNext={this.changePageFwdBck}\r\n\t\t\t\t\t\t\t\t\t\tchangeToNum={this.changePageTo}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\ttotalLoaded={this.state.promptsBin.length}\r\n\t\t\t\t\t\t\t\t\t\tnumPerPage={this.state.numPerPage}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default withRouter(PromptDisplayUser);","import React from \"react\";\r\n\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { Alert, Accordion, Card } from 'react-bootstrap';\r\nimport { APIChangeUserEmail, APIChangeUserName, APIChangeUserPassword, APIGetUserDetails } from \"../../utils\";\r\n\r\nimport { ChevronDown } from 'react-bootstrap-icons';\r\n\r\nconst debugPageName = \"User Security\"\r\n\r\nclass SecurityPages extends React.Component {\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\t\t\t\r\n\t\t\tcurrentEmail: \"No Data!\",\r\n\t\t\tcurrentFirstName: \"No Data!\",\r\n\t\t\tcurrentLastName: \"No Data!\",\r\n\t\t\t\r\n\t\t\tnewEmail: \"\",\r\n\t\t\tnewFirstName: \"\",\r\n\t\t\tnewLastName: \"\",\r\n\t\t\t\r\n\t\t\toldPassword: [],\r\n\t\t\tnewPassword: [],\r\n\t\t\tnewPassword2: [],\r\n\t\t\t\r\n\t\t\tgetCurrentDataStatus: 0,\r\n\t\t\t\r\n\t\t\tchangePasswordStatus: 0,\r\n\t\t\tchangeNameStatus: 0,\r\n\t\t\tchangeEmailStatus: 0,\r\n\t\t\t\r\n\t\t\tgetCurrentDataError: [],\r\n\t\t\tchangeGeneralError: [],\r\n\t\t\t\r\n\t\t\toldPasswordError: false,\r\n\t\t\tnewPasswordError: false,\r\n\t\t\t\r\n\t\t\tnewPasswordErrorMessage: \"New Password Error Stuff\",\r\n\t\t}\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\t//this.getCurrentData()\r\n\t}\r\n\t\r\n\toldPasswordChange = (event) => {\r\n\t\tthis.setState({\r\n\t\t\toldPassword: event.target.value,\r\n\t\t\toldPasswordError: false,\r\n\t\t})\r\n\t}\r\n\tnewPasswordChange = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tnewPassword: event.target.value,\r\n\t\t\tnewPasswordError: false,\r\n\t\t})\r\n\t}\r\n\tnewPassword2Change = (event) => {\r\n\t\tthis.setState({\t\r\n\t\t\tnewPassword2: event.target.value,\r\n\t\t\tnewPasswordError: false,\r\n\t\t})\r\n\t}\r\n\tnewEmailChange = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tnewEmail: event.target.value,\r\n\t\t})\r\n\t}\r\n\tnewNewFirstChange = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tnewFirstName: event.target.value,\r\n\t\t})\r\n\t}\r\n\tnewLastNameChange = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tnewLastName: event.target.value,\r\n\t\t})\r\n\t}\r\n\r\n\tgetDataFailure = (responseData) => {\r\n\t\tlet returnData = []\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.debugSet(debugPageName, \"Refresh Triggered\", \"Get User Details\")\r\n\t\t\tthis.props.refreshToken(this.getCurrentData)\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageName, \"Get Security Data\", \"Failure\")\r\n\t\treturnData = responseData['messages']\r\n\t\tthis.setState({\r\n\t\t\tgetCurrentDataError: returnData,\r\n\t\t\tgetCurrentDataStatus: 3,\r\n\t\t})\r\n\t}\r\n\tgetDataSuccess = (successData) => {\r\n\t\t//console.log(\"Data Success\")\r\n\t\t//console.log(successData)\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageName, \"Get Security Data\", \"Success\")\r\n\t\tthis.setState({\r\n\t\t\t\r\n\t\t\tgetCurrentDataStatus: 2,\r\n\t\t})\r\n\t}\r\n\tgetCurrentData = () => {\r\n\t\tAPIGetUserDetails( this.getDataSuccess, this.getDataFailure )\r\n\t\tthis.setState({\r\n\t\t\tgetCurrentDataStatus: 1,\r\n\t\t})\r\n\t}\r\n\t\r\n\tchangeEmailFailure = (responseData) => {\r\n\t\tlet returnData = []\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.refreshToken(this.changeEmail)\r\n\t\t\tthis.props.debugSet(debugPageName, \"Refresh Triggered\", \"Change Email\")\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageName, \"Change Email\", \"Failure\")\r\n\t\treturnData = responseData['messages']\r\n\t\t// Show some error\r\n\t\tthis.setState({\r\n\t\t\tchangeGeneralError: returnData,\r\n\t\t\tchangeEmailStatus: 3,\r\n\t\t})\r\n\t}\r\n\tchangeEmailSuccess = (successData) => {\r\n\t\t// Set some sort of success!?\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageName, \"Change Email\", \"Success\")\r\n\t\tthis.setState({\r\n\t\t\tchangeEmailStatus: 2,\r\n\t\t})\r\n\t}\r\n\tchangeEmail = () => {\r\n\t\t\r\n\t\t// Verify first...\r\n\t\tif (false) {\r\n\t\t\tAPIChangeUserEmail(  this.state.newEmail, this.changeEmailSuccess, this.changeEmailFailure )\r\n\t\t\tthis.setState({\r\n\t\t\t\tnewEmail: \"\",\r\n\t\t\t\tchangeEmailStatus: 1,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\t\r\n\tchangeNameFailure = (responseData) => {\r\n\t\tlet returnData = []\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.refreshToken(this.changeName)\r\n\t\t\tthis.props.debugSet(debugPageName, \"Refresh Triggered\", \"Change Name\")\r\n\t\t\treturn\r\n\t\t}\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageName, \"Change Name\", \"Failure\")\r\n\t\treturnData = responseData['messages']\r\n\t\t// Show some error\r\n\t\tthis.setState({\r\n\t\t\tchangeGeneralError: returnData,\r\n\t\t\tchangeNameStatus: 3,\r\n\t\t})\r\n\t}\r\n\tchangeNameSuccess = (successData) => {\r\n\t\tthis.props.debugSet(debugPageName, \"Change Name\", \"Success\")\r\n\t\tthis.setState({\r\n\t\t\tchangeNameStatus: 2,\r\n\t\t})\r\n\t}\r\n\tchangeName = () => {\r\n\t\tAPIChangeUserName(  this.state.newFirstName, this.state.newLastName, this.changeNameSuccess, this.changeNameFailure )\r\n\t\tthis.setState({\r\n\t\t\tnewFirstName: \"\",\r\n\t\t\tnewLastName: \"\",\r\n\t\t\tchangeNameStatus: 1,\r\n\t\t})\r\n\t}\r\n\t\r\n\tchangePasswordFailure = (responseData) => {\r\n\t\t\r\n\t\tlet oldPassErr = false\r\n\t\tlet newPassErr = false\r\n\t\tlet newPassErrMess = \"\"\r\n\t\t\r\n\t\t//let returnData = []\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.debugSet(debugPageName, \"Refresh Triggered\", \"Change Password\")\r\n\t\t\tthis.props.refreshToken(this.changePassword)\r\n\t\t\treturn\r\n\t\t}\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\t\t\t//Hmmmmm\r\n\t\t\tfor (let check in responseData['messages']) {\r\n\t\t\t\tif (responseData['messages'][check][\"mod\"] === 2) {\r\n\t\t\t\t\tnewPassErr = true\r\n\t\t\t\t\tnewPassErrMess = responseData['messages'][check][\"text\"]\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if (responseData[\"action\"] === 6) {\r\n\t\t\t// OUR SPECIAL 404 ERROR?!?!?!\r\n\t\t\toldPassErr = true\r\n\t\t}\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageName, \"Change Password\", \"Failure\")\r\n\t\t//returnData = responseData['messages']\r\n\t\t// Show some error\r\n\t\tthis.setState({\r\n\t\t\toldPasswordError: oldPassErr,\r\n\t\t\tnewPasswordError: newPassErr,\r\n\t\t\tnewPasswordErrorMessage: newPassErrMess,\r\n\t\t\tchangePasswordStatus: 3,\r\n\t\t})\r\n\t}\r\n\tchangePasswordSuccess = (successData) => {\r\n\t\tthis.props.debugSet(debugPageName, \"Change Password\", \"Success\")\r\n\t\tthis.setState({\r\n\t\t\toldPassword: \"\",\r\n\t\t\tnewPassword: \"\",\r\n\t\t\tnewPassword2: \"\",\r\n\t\t\toldPasswordError: false,\r\n\t\t\tnewPasswordError: false,\r\n\t\t\tchangePasswordStatus: 2,\r\n\t\t})\r\n\t}\r\n\tchangePassword = () => {\r\n\t\tif (this.state.newPassword.length < 8 || this.state.newPassword2 < 8) {\r\n\t\t\t// Wrong! Too Short!\r\n\t\t\t//console.log(\"Wrong! Too Short!\")\r\n\t\t\tthis.setState({\r\n\t\t\t\tnewPasswordError: true,\r\n\t\t\t\tnewPasswordErrorMessage: \"Passwords are too short!\",\r\n\t\t\t})\r\n\t\t\treturn\r\n\t\t}\r\n\t\t\r\n\t\tif (this.state.newPassword !== this.state.newPassword2) {\r\n\t\t\t//Wrong! Cant do it! Send that they dont match!\r\n\t\t\t//console.log(\"Wrong! Dont Match!\")\r\n\t\t\tthis.setState({\r\n\t\t\t\tnewPasswordError: true,\r\n\t\t\t\tnewPasswordErrorMessage: \"Passwords do not match!\",\r\n\t\t\t})\r\n\t\t\treturn\r\n\t\t}\r\n\t\t\r\n\t\tAPIChangeUserPassword(  this.state.oldPassword, this.state.newPassword, this.state.newPassword2, this.changePasswordSuccess, this.changePasswordFailure )\r\n\t\tthis.setState({\r\n\t\t\toldPasswordError: false,\r\n\t\t\tnewPasswordError: false,\r\n\t\t\tchangePasswordStatus: 1,\r\n\t\t})\r\n\t}\r\n\t//data-dismiss=\"modal\"\r\n\trender() {\r\n\t\t\r\n\t\tlet emailClass = 'form-control'\r\n\t\t//if (this.state.emailError) {\r\n\t\t//\temailClass += ' bg-warning'\r\n\t\t//}\r\n\t\t\r\n\t\tlet oldPasswordClass = 'form-control'\r\n\t\tif (this.state.oldPasswordError) {\r\n\t\t\toldPasswordClass += ' bg-warning'\r\n\t\t}\r\n\r\n\t\tlet passwordClass = 'form-control'\r\n\t\tif (this.state.newPasswordError) {\r\n\t\t\tpasswordClass += ' bg-warning'\r\n\t\t}\r\n\r\n\t\t//let showIdle = this.state.getCurrentDataStatus === 0 || this.state.changeGeneralStatus === 0\r\n\t\tlet showWaiting = this.state.getCurrentDataStatus === 1 //|| this.state.changeGeneralStatus === 1\r\n\t\tlet showSuccess = this.state.changePasswordStatus === 2 //this.state.getCurrentDataStatus === 2\r\n\t\tlet showError = this.state.getCurrentDataStatus === 3// || this.state.changePasswordStatus === 3\r\n\r\n\t\tlet errorParse = []\r\n\t\tfor (let index in this.state.getCurrentDataError) {\r\n\t\t\terrorParse.push(\r\n\t\t\t\tthis.state.getCurrentDataError[index][\"text\"]\r\n\t\t\t)\r\n\t\t}\r\n\t\tfor (let index in this.state.changeGeneralError) {\r\n\t\t\terrorParse.push(\r\n\t\t\t\tthis.state.changeGeneralError[index][\"text\"]\r\n\t\t\t)\r\n\t\t}\r\n\t\tif (errorParse.length === 0) {\r\n\t\t\terrorParse.push(\r\n\t\t\t\t\"Unknown!\"\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className=\"userSecurty\">\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card shadow\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<h5>Edit User Security Details</h5>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"list-group\">\r\n\t\t\t\t\t\t\t\t\t\t<Accordion>\r\n\t\t\t\t\t\t\t\t\t\t\t<Accordion.Toggle as={Card.Header} className=\"border btn btn-outline-dark btn-block\" variant=\"link\" eventKey=\"email\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-1\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tChange Email\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ChevronDown />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t<Accordion.Collapse className=\"border\" eventKey=\"email\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{/*\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"row mx-1 mb-0 mt-3\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h5><u>{\"Current Email: \"}</u></h5>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"row mx-3\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col border\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"my-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.state.currentEmail}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"row mx-1 my-3\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label><h5><u>New Email</u></h5></label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='email' className={emailClass} value={this.state.newEmail} onChange={this.newEmailChange} placeholder='Enter Email' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"row mx-1 my-3\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-outline-primary disabled\" onClick={this.changeEmail}>Change Email</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t*/}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tUnder Construction!\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</Accordion.Collapse>\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t<Accordion.Toggle as={Card.Header} className=\"border btn btn-outline-dark btn-block\" variant=\"link\" eventKey=\"user\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-1\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tChange Username\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ChevronDown />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t<Accordion.Collapse className=\"border\" eventKey=\"user\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tUnder Construction!\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</Accordion.Collapse>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t<Accordion.Toggle as={Card.Header} className=\"border btn btn-outline-dark btn-block\" variant=\"link\" eventKey=\"open\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-1\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tChange Password\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ChevronDown />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t<Accordion.Collapse className=\"border\" eventKey=\"open\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='form-group m-3'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label><h5><u>Old Password</u></h5></label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='password' className={oldPasswordClass} value={this.state.oldPassword} onChange={this.oldPasswordChange} placeholder='Enter password' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-danger\">{this.state.oldPasswordError ? \"Invalid Password!\":\"\"}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='form-group m-3'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label><h5><u>New Password</u></h5></label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='password' className={passwordClass} value={this.state.newPassword} onChange={this.newPasswordChange} placeholder='Enter password' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='form-group m-3'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label><h5><u>New Password (again)</u></h5></label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='password' className={passwordClass} value={this.state.newPassword2} onChange={this.newPassword2Change} placeholder='Enter password' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-danger\">{this.state.newPasswordError ? this.state.newPasswordErrorMessage:\"\"}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button type=\"button\" className=\"mb-3 btn btn-outline-primary\" onClick={this.changePassword}>Change Password</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</Accordion.Collapse>\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t</Accordion>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Alert show={showWaiting} variant=\"warning\">\r\n\t\t\t\t\t\t<Alert.Heading>Waiting</Alert.Heading>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t  Waiting for server response...\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Alert show={showSuccess} variant=\"success\">\r\n\t\t\t\t\t\t<Alert.Heading>Success!</Alert.Heading>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t  Success!\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Alert show={showError} variant=\"danger\">\r\n\t\t\t\t\t\t<Alert.Heading>Danger!</Alert.Heading>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t{errorParse}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"modal fade\" id=\"changeNameModal\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"changeNameModal\" aria-hidden=\"true\">\r\n\t\t\t\t\t  <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n\t\t\t\t\t\t<div className=\"modal-content\">\r\n\t\t\t\t\t\t  <div className=\"modal-header\">\r\n\t\t\t\t\t\t\t<h5 className=\"modal-title\" id=\"deleteTitleConfirm\">Change Name</h5>\r\n\t\t\t\t\t\t\t<button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n\t\t\t\t\t\t\t  <span aria-hidden=\"true\">&times;</span>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t  <div className=\"modal-body\">\r\n\t\t\t\t\t\t  {/*<div className='form-group'>\r\n\t\t\t\t\t\t\t\t\t<label id=\"align-left\">{\"Current name: \" + this.state.currentFirstName + \" \" + this.state.currentLastName}</label>\r\n\t\t\t\t\t\t\t</div> */}\r\n\t\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t\t<label id=\"align-left\">New First Name</label>\r\n\t\t\t\t\t\t\t\t\t<input type='text' className={emailClass} value={this.state.newFirstName} onChange={this.newNewFirstChange} placeholder='Enter New First Name' />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t\t<label id=\"align-left\">New Last Name</label>\r\n\t\t\t\t\t\t\t\t\t<input type='text' className={emailClass} value={this.state.newLastName} onChange={this.newLastNameChange} placeholder='Enter New Last Name' />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t  <div className=\"modal-footer\">\r\n\t\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-outline-secondary\" data-dismiss=\"modal\" onClick={this.changeName}>Change Name</button>\r\n\t\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-primary\" data-dismiss=\"modal\">Cancel</button>\r\n\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default withRouter(SecurityPages);","import React from \"react\";\r\n\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { APIUserInvitesGet, APIUserInvitesSet, APIUserInviteCode } from \"../../utils\";\r\nimport { Alert } from 'react-bootstrap';\r\nimport { Loading } from \"..\";\r\n\r\nconst inviteType = ['Invalid', 'Admin User', 'Viewing User', 'Governed User']\r\n\r\nconst debugPageName = \"User Invites\"\r\n\r\nclass UserInvitePage extends React.Component {\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\t\t\tinviteCode: \"\",\r\n\t\t\t\r\n\t\t\tinvitePendingList: [],\r\n\t\t\tinviteActiveList: [],\r\n\t\t\t\r\n\t\t\tgetUserInvitesStatus: 0,\r\n\t\t\tsubmitCodeStatus: 0,\r\n\t\t\tspendInviteStatus : 0,\r\n\t\t\t\r\n\t\t\tgetUserInvitesErrors: [],\r\n\t\t\tsubmitCodeErrors: [],\r\n\t\t\tspendInviteErrors: [],\r\n\t\t}\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tthis.getUserInvites()\r\n\t};\r\n\t\r\n\tgetUserInvitesFailure = ( responseData ) => {\r\n\t\tlet returnData = []\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.debugSet(debugPageName, \"Refresh Triggered\", \"User Invites\")\r\n\t\t\tthis.props.refreshToken(this.getUserInvites)\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageName, \"User Invites\", \"Failure\")\r\n\t\treturnData = responseData['messages']\r\n\t\tthis.setState({\r\n\t\t\tgetUserInvitesErrors: returnData,\r\n\t\t\tgetUserInvitesStatus:3,\r\n\t\t})\r\n\t}\r\n\tgetUserInvitesSuccess = ( incomingData ) => {\r\n\t\t//console.log(incomingData)\r\n\t\t//console.log(\"Got the Invites\")\r\n\t\t\r\n\t\tlet invitesUserSide = []\r\n\t\tlet invitesDivisionSide = []\r\n\t\t\r\n\t\tfor (let index in incomingData) {\r\n\t\t\t// If it is from a company to this user, it goes in the invite area\r\n\t\t\tif (incomingData[index].whoIsOrigin === 1) {\r\n\t\t\t\tinvitesDivisionSide.push( incomingData[index] )\r\n\t\t\t}\r\n\t\t\t// If it is from us, to a company... then it goes in the pending field\r\n\t\t\telse if (incomingData[index].whoIsOrigin === 2) {\r\n\t\t\t\tinvitesUserSide.push( incomingData[index] )\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageName, \"User Invites\", \"Success\")\r\n\t\tthis.setState({\r\n\t\t\tinvitePendingList: invitesDivisionSide,\r\n\t\t\tinviteActiveList: invitesUserSide,\r\n\t\t\t\r\n\t\t\tgetUserInvitesStatus:2,\r\n\t\t})\r\n\t}\r\n\tgetUserInvites = () => {\r\n\t\tAPIUserInvitesGet(  this.getUserInvitesSuccess, this.getUserInvitesFailure )\r\n\t\tthis.setState({\r\n\t\t\tgetUserInvitesStatus:1,\r\n\t\t})\r\n\t}\r\n\t\r\n\tinviteFailure = (responseData) => {\r\n\t\t//console.log(responseData)\r\n\t\tlet returnData = []\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.debugSet(debugPageName, \"Refresh Triggered\", \"Submit Code\")\r\n\t\t\tthis.props.refreshToken(this.submitCode)\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\t\t\tfor (let index in responseData['messages']) {\r\n\t\t\t\tif (responseData['messages'][index]['mod'] === 5) {\r\n\t\t\t\t\t//userAlreadyErrorFlag = true\r\n\t\t\t\t}\r\n\t\t\t\telse if (responseData['messages'][index]['mod'] === 6) {\r\n\t\t\t\t\t//tokenErrorFlag = true\r\n\t\t\t\t} \r\n\t\t\t\telse if (responseData['messages'][index]['mod'] === 7) {\r\n\t\t\t\t\t//alreadyThereErrorFlag = true\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\t//unhandledErrorFlag = true\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t//returnData = responseData['messages']\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageName, \"Submit Code\", \"False\")\r\n\t\treturnData = responseData['messages']\r\n\t\tthis.setState({\r\n\t\t\tsubmitCodeErrors: returnData,\r\n\t\t\tsubmitCodeStatus:3,\r\n\t\t})\r\n\t}\r\n\tinviteSuccess = (successData) => {\r\n\t\t//console.log(\"Invite Success\")\r\n\t\tthis.props.debugSet(debugPageName, \"Submit Code\", \"Success\")\r\n\t\tthis.setState({\r\n\t\t\tsubmitCodeStatus:2,\r\n\t\t})\r\n\t}\r\n\tsubmitCode = () => {\r\n\t\t//console.log(this.state.inviteCode)\r\n\t\t//console.log(\"Submit\")\r\n\t\t\r\n\t\tAPIUserInviteCode(  this.state.inviteCode, this.inviteSuccess, this.inviteFailure )\r\n\t\tthis.setState({\r\n\t\t\tsubmitCodeStatus:1,\r\n\t\t})\r\n\t}\r\n\t\r\n\tspendInviteFailure = (responseData) => {\r\n\t\tlet returnData = []\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.debugSet(debugPageName, \"Refresh Triggered\", \"Spend Invite\")\r\n\t\t\tthis.props.refreshToken(this.baseTryAgain)\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\treturnData = responseData['messages']\r\n\t\tthis.props.debugSet(debugPageName, \"Spend Invite\", \"Success\")\r\n\t\t\r\n\t\tthis.getUserInvites()\r\n\t\tthis.props.triggerRefresh()\r\n\t\tthis.setState({\r\n\t\t\tspendInviteErrors: returnData,\r\n\t\t\tspendInviteStatus: 3,\r\n\t\t})\r\n\t}\r\n\tspendInviteSuccess = (successData) => {\r\n\t\t//console.log(\"Spend Invite Success\")\r\n\t\t//console.log(successData)\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageName, \"Spend Invite\", \"Success\")\r\n\t\tthis.getUserInvites()\r\n\t\tthis.props.triggerRefresh()\r\n\t\tthis.setState({\r\n\t\t\tspendInviteStatus: 2,\r\n\t\t})\r\n\t}\r\n\tinviteYes = (event) => {\r\n\t\t//console.log(\"Accept\")\r\n\t\t\r\n\t\t// Lets do... 0 == Cancel\r\n\t\t// 1 == Accept\r\n\t\tlet action = 1\r\n\t\tlet targetInvite = event.target.value\r\n\t\tAPIUserInvitesSet(  targetInvite, action, this.spendInviteSuccess, this.spendInviteFailure )\r\n\t\tthis.setState({\r\n\t\t\tspendInviteStatus: 1,\r\n\t\t})\r\n\t}\r\n\tinviteNo = (event) => {\r\n\t\t//console.log(\"Deny\")\r\n\r\n\t\t// 0 == Cancel\r\n\t\t// 1 == Accept\r\n\t\tlet action = 0\r\n\t\tlet targetInvite = event.target.value\r\n\t\t\r\n\t\tAPIUserInvitesSet(  targetInvite, action, this.spendInviteSuccess, this.spendInviteFailure )\r\n\t\tthis.setState({\r\n\t\t\tspendInviteStatus: 1,\r\n\t\t})\r\n\t}\r\n\t\r\n\tcodeFieldChange = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tinviteCode: event.target.value,\r\n\t\t})\r\n\t}\r\n\t\r\n\tbaseTryAgain = () => {\r\n\t\tconsole.log(\"Put Some 'Uh Oh, try again' thing here\")\r\n\t}\r\n\t\r\n\trender() {\r\n\t\t//console.log(this.state.invitePendingList)\r\n\t\t//console.log(this.state.inviteActiveList)\r\n\t\t\r\n\t\tlet displayWaiting = this.state.getUserInvitesStatus === 1 || this.state.spendInviteStatus === 1 || this.state.submitCodeStatus === 1\r\n\t\tlet displaySuccessInvite = this.state.submitCodeStatus === 2\r\n\t\t//let displaySuccessOters = this.state.getUserInvitesStatus === 2 || this.state.spendInviteStatus === 2\r\n\t\tlet displayErrors = this.state.getUserInvitesStatus === 3 || this.state.spendInviteStatus === 3 || this.state.submitCodeStatus === 3\r\n\t\t\r\n\t\tlet errorParse = []\r\n\t\tfor (let index in this.state.getUserInvitesErrors) {\r\n\t\t\terrorParse.push(\r\n\t\t\t\tthis.state.getUserInvitesErrors[index][\"text\"]\r\n\t\t\t)\r\n\t\t}\r\n\t\tfor (let index in this.state.submitCodeErrors) {\r\n\t\t\terrorParse.push(\r\n\t\t\t\tthis.state.submitCodeErrors[index][\"text\"]\r\n\t\t\t)\r\n\t\t}\r\n\t\tfor (let index in this.state.spendInviteErrors) {\r\n\t\t\terrorParse.push(\r\n\t\t\t\tthis.state.spendInviteErrors[index][\"text\"]\r\n\t\t\t)\r\n\t\t}\r\n\t\tif (errorParse.length === 0) {\r\n\t\t\terrorParse.push(\r\n\t\t\t\t\"Unknown!\"\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\tlet currentInvitesDisplayList = []\r\n\t\tfor (let i in this.state.invitePendingList) {\r\n\t\t\tlet extra = \"\"\r\n\t\t\tcurrentInvitesDisplayList.push(\r\n\t\t\t\t<li className={\"list-group-item d-flex justify-content-around\"+extra} key={i}>\r\n\t\t\t\t\t<div className=\"col alignOverride\">\r\n\t\t\t\t\t\t{this.state.invitePendingList[i].inviteDivision}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col alignOverride\">\r\n\t\t\t\t\t\t{inviteType[this.state.invitePendingList[i].targetRole]}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-2\">\r\n\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-1\">\r\n\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t}\r\n\t\tif (currentInvitesDisplayList.length === 0) {\r\n\t\t\tcurrentInvitesDisplayList.push(\r\n\t\t\t\t<li className=\"list-group-item\" key={0}>\r\n\t\t\t\t\tNo Invites!\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\tlet invitesDisplayList = []\r\n\t\tfor (let i in this.state.inviteActiveList) {\r\n\t\t\tlet extra = \"\"\r\n\t\t\tinvitesDisplayList.push(\r\n\t\t\t\t<li className={\"list-group-item d-flex justify-content-around\"+extra} key={i}>\r\n\t\t\t\t\t<div className=\"col alignOverride\">\r\n\t\t\t\t\t\t{this.state.inviteActiveList[i].inviteDivision}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col alignOverride\">\r\n\t\t\t\t\t\t{inviteType[this.state.inviteActiveList[i].targetRole]}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-2\">\r\n\t\t\t\t\t\t<button className=\"badge badge-success badge-pill\" value={this.state.inviteActiveList[i].id} onClick={this.inviteYes}>/</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-1\">\r\n\t\t\t\t\t\t<button className=\"badge badge-danger badge-pill\" value={this.state.inviteActiveList[i].id} onClick={this.inviteNo}>X</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t}\r\n\t\tif (invitesDisplayList.length === 0) {\r\n\t\t\tinvitesDisplayList.push(\r\n\t\t\t\t<li className=\"list-group-item\" key={0}>\r\n\t\t\t\t\tNo Invites!\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className=\"userInvite\">\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\r\n\t\t\t\t\t{displayWaiting && <Loading/>}\r\n\t\t\t\t\t{!displayWaiting &&\r\n\t\t\t\t\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t<div className=\"card shadow\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t\t<h5>Enter Invite Code</h5>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"list-group\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"list-group-item\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<input type='text' className='form-control' value={this.state.inviteCode} onChange={this.codeFieldChange} placeholder='Enter Code' />\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"list-group-item\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<button className=\"btn btn-primary\" onClick={this.submitCode}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t<div className=\"card shadow\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t\t<h5>Current Sent Pending Invites</h5>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t\t<ul className=\"list-group\">\r\n\t\t\t\t\t\t\t\t\t\t\t{/*Trying a non-table solution because of the buttons?*/}\r\n\t\t\t\t\t\t\t\t\t\t\t<li className=\"list-group-item\" key={-1}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col alignOverride\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<u>Division name</u>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col alignOverride\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<u>Target Role</u>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t\t{currentInvitesDisplayList}\r\n\t\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t<div className=\"card shadow\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t\t<h5>Current Company Invites</h5>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t\t<ul className=\"list-group\">\r\n\t\t\t\t\t\t\t\t\t\t\t{/*Trying a non-table solution because of the buttons?*/}\r\n\t\t\t\t\t\t\t\t\t\t\t<li className=\"list-group-item\" key={-1}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col alignOverride\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<u>Division name</u>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col alignOverride\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<u>Target Role</u>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t\t{invitesDisplayList}\r\n\t\t\t\t\t\t\t\t\t\t\t{/*\r\n\t\t\t\t\t\t\t\t\t\t\t<button className=\"btn btn-primary\" onClick={this.getUserInvites}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tRe-Load Invites\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t*/}\r\n\t\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Alert show={displayWaiting} variant=\"warning\">\r\n\t\t\t\t\t\t<Alert.Heading>Waiting</Alert.Heading>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t  Waiting for response...\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Alert show={displaySuccessInvite} variant=\"success\">\r\n\t\t\t\t\t\t<Alert.Heading>Success!</Alert.Heading>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t  Successfully Send Invite!\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Alert show={displayErrors} variant=\"danger\">\r\n\t\t\t\t\t\t<Alert.Heading>Error!</Alert.Heading>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t{errorParse}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default withRouter(UserInvitePage);","import React from \"react\";\r\n\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nimport { getHostName } from '../../utils';\r\n\r\nclass UserSync extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\t\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"userSyncSettings\">\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card shadow\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\tEmail Sync Settings\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t<ul className=\"list-group\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"list-group-item\">\r\n\t\t\t\t\t\t\t\t\t\t\tExplination under construction...\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"list-group-item\">\r\n\t\t\t\t\t\t\t\t\t\t\t<a href={getHostName()+\"/syncHome\"}>To the Email Sync Page!</a>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default withRouter(UserSync);","import React from \"react\";\r\n//import ReactDOM from \"react-dom\";\r\nimport Graph from \"react-graph-vis\";\r\nimport { Alert } from 'react-bootstrap';\r\nimport { Accordion, Card } from 'react-bootstrap';\r\n\r\nimport { ChevronDown } from 'react-bootstrap-icons';\r\n\r\n//APIGetDivisionWebDates\r\nimport { APIGetUserWeb } from \"../../utils\";\r\n//WebLegend\r\nimport { convertScanToWidth, convertScanToColor, graphOptions } from \"../../utils\";\r\nimport { ShowWebInfoComponent } from \"../../utils\";\r\n\r\nimport Calendar from 'react-calendar'\r\nimport 'react-calendar/dist/Calendar.css';\r\n\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nconst debugPageName = \"User Webs\"\r\n\r\n// How would these even work???\r\n//import \"./styles.css\";\r\n// need to import the vis network css in order to show tooltip\r\n//import \"./network.css\";\r\n\r\n// PUT IN A LEGEND!!!\r\n\r\nclass UserWeb extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\t\t\t\r\n\t\t\tmaxNodes:20,\r\n\t\t\tminNodes:0,\r\n\t\t\t\r\n\t\t\tmaxSenti:1,\r\n\t\t\tminSenti:-1,\r\n\t\t\t\r\n\t\t\tmaxFreq:7,\r\n\t\t\tminFreq:0,\r\n\t\t\t\r\n\t\t\tloadedDataDate: \"None\",\r\n\t\t\tloadedData: [],\r\n\t\t\tgraphDataPrimary: this.GenerateGraph( [] ),\r\n\t\t\t\r\n\t\t\tselectedNodes: [\"None\"],\r\n\t\t\t\r\n\t\t\tgetWebStatus: 0,\r\n\t\t\tgetDatesWebStatus: 0,\r\n\t\t\tgetDatesWebError: [],\r\n\t\t\t\r\n\t\t\tselectedWebDay: new Date(),\r\n        };\r\n\t}\r\n\t\r\n\tGenerateTestInfo = () => {\r\n\t\r\n\t\tlet toSetList = []\r\n\r\n\t\tconst numNodes = Math.floor( Math.random()*(this.state.maxNodes-this.state.minNodes)+this.state.minNodes )\r\n\t\tfor (let i = 1; i < numNodes; i++) {\r\n\t\t\ttoSetList.push(\r\n\t\t\t\t{\"dispName\":\"Other User \" + i, to:i, sentiment:Math.random()*(this.state.maxSenti-this.state.minSenti)+this.state.minSenti, freq:Math.random()*(this.state.maxFreq-this.state.minFreq) + this.state.minFreq}\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\tlet testInfo = [{\r\n\t\t\t'id':0,\r\n\t\t\t\"name\": \"This Users Name\",\r\n\t\t\t'isTracked': true,\r\n\t\t\t\r\n\t\t\t'toSet':toSetList,\r\n\t\t}]\r\n\t\t\r\n\t\treturn testInfo\r\n\t}\r\n\t\r\n\ttimedRefresh = () => {\r\n\t\t//console.log('Token Refreshed!');\r\n\t}\r\n\t\r\n\tGenerateGraph = (incomingData) => {\r\n\t\t\r\n\t\tlet trunMulti = 100\r\n\t\t\r\n\t\tlet defineGraph = {nodes:[], edges: []}\r\n\t\t\r\n\t\tfor (let index in incomingData) {\r\n\t\t\t\r\n\t\t\tlet borderColor = \"#000000\"\r\n\t\t\tlet backgroundColor = \"#FFF0F0\"\r\n\t\t\tif (incomingData[index][\"isTracked\"]) {\r\n\t\t\t\t//borderColor = \"#000000\"\r\n\t\t\t\tbackgroundColor = \"#FFFFFF\"\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tdefineGraph[\"nodes\"].push({ \r\n\t\t\t\tid: incomingData[index][\"id\"], \r\n\t\t\t\tlabel: incomingData[index][\"name\"],\r\n\t\t\t\t\r\n\t\t\t\tcolor: {\r\n\t\t\t\t\tborder:borderColor,\r\n\t\t\t\t\tbackground:backgroundColor,\r\n\t\t\t\t},\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\tfor (let indexTo in incomingData[index][\"toSet\"]) {\r\n\t\t\t\tdefineGraph[\"edges\"].push({ \r\n\t\t\t\t\tfrom: incomingData[index][\"id\"], \r\n\t\t\t\t\tto: incomingData[index][\"toSet\"][indexTo][\"to\"],\r\n\t\t\t\t\t\r\n\t\t\t\t\tlabel: (Math.floor(trunMulti*incomingData[index][\"toSet\"][indexTo][\"sentiment\"])/trunMulti).toString() + \", \" + Math.floor(incomingData[index][\"toSet\"][indexTo][\"freq\"]).toString(),\r\n\t\t\t\t\t\r\n\t\t\t\t\t// length: 1,\r\n\t\t\t\t\twidth: convertScanToWidth(incomingData[index][\"toSet\"][indexTo][\"freq\"]),\r\n\t\t\t\t\tcolor: convertScanToColor(incomingData[index][\"toSet\"][indexTo][\"sentiment\"]), \r\n\t\t\t\t\t\r\n\t\t\t\t\t//length: 400,\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\t// Check to see if we already have the node before we go in...\r\n\t\t\t\tlet sanityCheck = false\r\n\t\t\t\tfor (let j in defineGraph[\"nodes\"]) {\r\n\t\t\t\t\tif(defineGraph[\"nodes\"][j][\"id\"] === incomingData[index][\"toSet\"][indexTo][\"to\"]) {\r\n\t\t\t\t\t\tsanityCheck = true\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (sanityCheck) {\r\n\t\t\t\t\tcontinue\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tdefineGraph[\"nodes\"].push({ \r\n\t\t\t\t\tid: incomingData[index][\"toSet\"][indexTo][\"to\"], \r\n\t\t\t\t\tlabel: incomingData[index][\"toSet\"][indexTo][\"dispName\"],\r\n\t\t\t\t\t\r\n\t\t\t\t\tcolor: {\r\n\t\t\t\t\t\tborder:borderColor,\r\n\t\t\t\t\t\tbackground:\"#FFF0F0\",\r\n\t\t\t\t\t},\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn defineGraph\r\n\t}\r\n\t\r\n\tselectStuffPrimary = (event) => {\r\n\t\t//var { nodes, edges } = event;\r\n\t}\r\n\t\r\n\tgetUserWebFailure = (incomingError) => {\r\n\t\t//console.log(incomingError)\r\n\t\tif (incomingError['action'] ===\t 0) {\r\n\t\t\t//Network Error\r\n\t\t}\r\n\t\telse if (incomingError['action'] === 1) {\r\n\t\t\t//Unauthorized\r\n\t\t\tthis.props.debugSet(debugPageName, \"Refresh Triggered\", \"Get User Web\")\r\n\t\t\tthis.props.refreshToken(this.getUserWebRecent)\r\n\t\t\treturn\r\n\t\t}\r\n\t\telse if (incomingError['action'] === 3) {\r\n\t\t\t// Obtain error!\r\n\t\t}\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageName, \"Get User Web\", \"Failure\")\r\n\t\tthis.setState({\r\n\t\t\tgetWebStatus: 3,\r\n\t\t\tgetDatesWebError: incomingError[\"messages\"],\r\n\t\t})\r\n\t}\r\n\tgetUserWebCallback = (incomingWeb) => {\r\n\t\tconsole.log(incomingWeb)\r\n\t\tlet webThing = []\r\n\t\tif (incomingWeb.length > 0) {\r\n\t\t\t// There should ONLY BE 1\r\n\t\t\twebThing = incomingWeb[0][\"webStructure\"]\r\n\t\t}\r\n\r\n\t\tthis.props.debugSet(debugPageName, \"Get User Web\", \"Success\")\r\n\t\tthis.setState({\r\n\t\t\tloadedData: webThing,\r\n\t\t\tgraphDataPrimary: this.GenerateGraph( webThing ),\t\r\n\t\t\tloadedDataDate: incomingWeb[0][\"forDate\"],\r\n\t\t\tgetWebStatus: 2,\r\n\t\t})\r\n\t}\r\n\tgetUserWebRecent = () => {\r\n\t\tif (!(this.props.currentDivisionID === -1)) {\r\n\t\t\tlet checkData = undefined\r\n\t\t\tif (checkData === undefined) {\r\n\t\t\t\t\r\n\t\t\t\t//console.log(\"Division Web was not in the cookies...\")\r\n\t\t\t\tAPIGetUserWeb( undefined, this.getUserWebCallback, this.getUserWebFailure)\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tgetWebStatus: 1,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t//this.getCompanyWebCallback(???)\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\t}\r\n\t}\r\n\t\r\n\tgetUserWebPreviousFailure = (incomingError) => {\r\n\t\t//console.log(incomingError)\r\n\t\tif (incomingError['action'] ===\t 0) {\r\n\t\t\t//Network Error\r\n\t\t}\r\n\t\telse if (incomingError['action'] === 1) {\r\n\t\t\t//Unauthorized\r\n\t\t\tthis.props.debugSet(debugPageName, \"Refresh Triggered\", \"Get User Web\")\r\n\t\t\tthis.props.refreshToken(this.timedRefresh)\r\n\t\t\treturn\r\n\t\t}\r\n\t\telse if (incomingError['action'] === 3) {\r\n\t\t\t// Obtain error!\r\n\t\t}\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageName, \"Get User Web\", \"Failure\")\r\n\t\tthis.setState({\r\n\t\t\tgetWebStatus: 3,\r\n\t\t\tgetDatesWebError: incomingError[\"messages\"],\r\n\t\t})\r\n\t}\r\n\tgetUserWebPreviousCallback = (incomingWeb) => {\r\n\t\tlet webThing = []\r\n\t\tlet webDate = \"Unknown\"\r\n\t\tif (incomingWeb.length > 0) {\r\n\t\t\t// There should ONLY BE 1\r\n\t\t\twebThing = incomingWeb[0][\"webStructure\"]\r\n\t\t\twebDate = incomingWeb[0]['forDate']\r\n\t\t}\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageName, \"Get User Web\", \"Success\")\r\n\t\tthis.setState({\r\n\t\t\tloadedData: webThing,\r\n\t\t\tgraphDataPrimary: this.GenerateGraph( webThing ),\t\r\n\t\t\tloadedDataDate: webDate,\r\n\t\t\tgetWebStatus: 2,\r\n\t\t})\r\n\t}\r\n\tgetUserWebPrevious = (incomingDate) => {\r\n\t\tif (!(this.props.currentDivisionID === -1)) {\r\n\t\t\tlet checkData = undefined\r\n\t\t\tif (checkData === undefined) {\r\n\r\n\t\t\t\t//console.log(\"Division Web was not in the cookies...\")\r\n\t\t\t\tAPIGetUserWeb( incomingDate, this.getUserWebPreviousCallback, this.getUserWebPreviousFailure)\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tgetWebStatus: 1,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t//this.getCompanyWebPreviousCallback(???)\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\t}\r\n\t}\r\n\t\r\n\t// Will need to do a selected Date....\r\n\tpickDate = (selectedDate) => {\r\n\t\tthis.setState({\r\n\t\t\tselectedWebDay:selectedDate,\r\n\t\t})\r\n\t\t\r\n\t\tthis.getUserWebPrevious(selectedDate)\r\n\t}\r\n\t\r\n\tloadData = () => {\r\n\t\tconst dert = this.GenerateTestInfo()\r\n\t\t\r\n\t\t// If something, set to current, if not, set to the date?\r\n\t\tlet whenPicked = \"Current\"\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tloadedDataDate: whenPicked,\r\n\t\t\tloadedData: dert.length,\r\n\t\t\tgraphDataPrimary: this.GenerateGraph( dert ),\r\n\t\t})\r\n\t}\r\n\t\r\n\tmaxNodeFieldChange = (event) => {\r\n\t\tthis.setState( {maxNodes: Number(event.target.value)} )\r\n\t}\r\n\tminNodeFieldChange = (event) => {\r\n\t\tthis.setState( {minNodes: Number(event.target.value)} )\r\n\t}\r\n\t\r\n\tmaxSentiFieldChange = (event) => {\r\n\t\tthis.setState( {maxSenti: Number(event.target.value)} )\r\n\t}\r\n\tminSentiFieldChange = (event) => {\r\n\t\tthis.setState( {minSenti: Number(event.target.value)} )\r\n\t}\r\n\t\r\n\tmaxFreqFieldChange = (event) => {\r\n\t\tthis.setState( {maxFreq: Number(event.target.value)} )\r\n\t}\r\n\tminFreqFieldChange = (event) => {\r\n\t\tthis.setState( {minFreq: Number(event.target.value)} )\r\n\t}\r\n\t\r\n\trender() {\r\n\t\t\r\n\t\tconst tileClassName = ({ date, view }) => {\r\n\t\r\n\t\t\tlet hasWeb = false\r\n\t\t\t\r\n\t\t\tlet year = String( date.getFullYear() )\r\n\t\t\tlet month =\tString( date.getMonth()+1 )\r\n\r\n\t\t\tif (month < 10) {\r\n\t\t\t\tmonth = \"0\"+month\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tlet day = String(date.getDate())\r\n\t\t\tif (day < 10) {\r\n\t\t\t\tday = \"0\"+day\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tconst checkDate = year+\"-\"+month+\"-\"+day\r\n\t\t\r\n\t\t\t// Add class to tiles in month view only\r\n\t\t\tif (view === 'month') {\r\n\t\t\t\t// Check if a date React-Calendar wants to check is on the list of dates to add class to\r\n\t\t\t\ttry {\r\n\t\t\t\t\thasWeb = this.props.validUserWebDates.find( element => element['forDate'] === checkDate)\r\n\t\t\t\t}\r\n\t\t\t\tcatch {\r\n\t\t\t\t\t// This should trigger if DAY is not in the validSummaryDates\r\n\t\t\t\t\t// Basically just skipping it\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (hasWeb) {\r\n\t\t\t\treturn 'btn btn-success'\r\n\t\t\t} else {\r\n\t\t\t\t//return 'btn btn-outline-dark'\r\n\t\t\t}\r\n\t\t\t\t\r\n\t\t}\r\n\r\n\t\tconst eventsPrimary = {\r\n\t\t\tselect: this.selectStuffPrimary,\r\n\t\t};\r\n\t\t\r\n\t\tlet show0 = this.state.getWebStatus === 0\r\n\t\tlet show1 = this.state.getWebStatus === 1\r\n\t\tlet show2 = this.state.getWebStatus === 2\r\n\t\tlet show3 = this.state.getWebStatus === 3\r\n\t\t\r\n\t\tlet displayMessage = \"No Data!\"\r\n\t\tif (this.state.loadedDataDate !== \"Current\") {\r\n\t\t\tdisplayMessage = \"Showing Web From: \" + this.state.loadedDataDate\r\n\t\t}\r\n\t\r\n\t\tlet showError = []\r\n\t\tfor (let index in this.state.getDatesWebError) {\r\n\t\t\tshowError.push(\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{this.state.getDatesWebError[index][\"text\"]}\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t\t\r\n\t\t}\r\n\t\r\n\t\treturn (\r\n\t\t\t<div className=\"UserWebStuff bg-secondary\">\r\n\t\t\t\t<div className=\"container bg-light border shadow\">\r\n\t\t\t\t\t<div className=\"row my-3\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<button className=\"btn btn-dark\" onClick={this.getUserWebRecent}>\r\n\t\t\t\t\t\t\t\tLoad Most Recent Web From Server\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<Accordion>\r\n\t\t\t\t\t\t\t\t<Accordion.Toggle as={Card.Header} className=\"border btn btn-outline-dark btn-block\" variant=\"link\" eventKey=\"open\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-1\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\tGet a Previous Web \r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t<ChevronDown />\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</Accordion.Toggle>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey=\"open\">\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Calendar \r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.pickDate}\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.selectedWebDay}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttileClassName={tileClassName}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\tminDetail={'year'}\r\n\t\t\t\t\t\t\t\t\t\t\t\tmaxDetail={'month'}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</Accordion.Collapse>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Accordion>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"row my-3\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Accordion>\r\n\t\t\t\t\t\t\t\t<Accordion.Toggle as={Card.Header} className=\"border btn btn-outline-dark btn-block\" variant=\"link\" eventKey=\"open\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-1\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\tCreate a Test Web\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t<ChevronDown />\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</Accordion.Toggle>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey=\"open\">\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"row my-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label id=\"label-left\">Max Nodes</label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='number' className=\"form-control\" value={this.state.maxNodes} onChange={this.maxNodeFieldChange} placeholder='Enter Max Node Number' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label id=\"label-left\">Min Nodes</label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='number' className=\"form-control\" value={this.state.minNodes} onChange={this.minNodeFieldChange} placeholder='Enter Min Node Number' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"row my-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label id=\"label-left\">Max Sentiment</label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='number' className=\"form-control\" value={this.state.maxSenti} onChange={this.maxSentiFieldChange} placeholder='Enter Max Sentiment' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label id=\"label-left\">Min Seniment</label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='number' className=\"form-control\" value={this.state.minSenti} onChange={this.minSentiFieldChange} placeholder='Enter Min Sentiment' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"row my-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label id=\"label-left\">Max Email Amount</label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='number' className=\"form-control\" value={this.state.maxFreq} onChange={this.maxFreqFieldChange} placeholder='Enter Max Email Amount' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label id=\"label-left\">Min Email Amount</label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='number' className=\"form-control\" value={this.state.minFreq} onChange={this.minFreqFieldChange} placeholder='Enter Min Email Amount' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<button className=\"btn btn-secondary\" onClick={this.loadData}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tCreate Data!\r\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</Accordion.Collapse>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Accordion>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"border\">\r\n\t\t\t\t\t\t{this.state.loadedData.length === 0 ?\r\n\t\t\t\t\t\t\t<div className=\"row my-5\">\r\n\t\t\t\t\t\t\t\t{show0 && <div className=\"col\">Waiting for signal to get data</div>}\r\n\t\t\t\t\t\t\t\t{show1 && <div className=\"col\">Getting Data...</div>}\r\n\t\t\t\t\t\t\t\t{show2 && <div className=\"col\">Server reported no web!</div>}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\t<u>{displayMessage}</u>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<Graph\r\n\t\t\t\t\t\t\t\t\t\tgraph={this.state.graphDataPrimary}\r\n\t\t\t\t\t\t\t\t\t\toptions={graphOptions}\r\n\t\t\t\t\t\t\t\t\t\tevents={eventsPrimary}\r\n\t\t\t\t\t\t\t\t\t\tgetNetwork={network => {\r\n\t\t\t\t\t\t\t\t\t\t\t//  if you want access to vis.js network api you can set the state in a parent component using this property\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\t<ShowWebInfoComponent/>\r\n\t\t\t\t\t<div className=\"row my-2\"/>\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<Alert show={show1} variant=\"warning\">\r\n\t\t\t\t\t<Alert.Heading>Waiting</Alert.Heading>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t  Waiting for server...\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t</Alert>\r\n\t\t\t\t\r\n\t\t\t\t<Alert show={show3} variant=\"danger\">\r\n\t\t\t\t\t<Alert.Heading>Error!</Alert.Heading>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t{showError}\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t</Alert>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(UserWeb);","import React from \"react\";\r\n\r\n// Link,\r\nimport { withRouter, Route, Switch } from \"react-router-dom\";\r\n//import { ButtonGroup, ToggleButton } from 'react-bootstrap';\r\n//import { Alert } from 'react-bootstrap';\r\nimport { APISaveSuggestion, APIGetJournalData, APIGetNonJournalData } from \"../utils\";\r\nimport { EditorState, convertToRaw } from 'draft-js';\r\n//convertFromRaw\r\n\r\n//import { Justify } from 'react-bootstrap-icons';\r\n\r\n//SetCompany\r\nimport {UserProfile, UserSecurity, UserInvite, ViewJournals, WriteJournals, WriteSuggestion, UserPrompts, UserWeb, UserSync} from \"./userPages\"\r\n\r\nconst debugPageName = \"User Core\"\r\n\r\nconst DefaultView = (props) => {\r\n\r\n\treturn (\r\n\t\t<div className=\"defaultView\">\r\n\t\t\t<h3>\r\n\t\t\t\t404! You have selected and invalid page\r\n\t\t\t</h3>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\n// This needs to be changed out as this is now in 2 files....\r\n\r\nclass ContentPages extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\t\t\tselectedJournalDate: new Date(),\r\n\t\t\t\r\n\t\t\tselectedJournalViewDiv: 0,\r\n\t\t\t\r\n\t\t\tjournalValidPrompts: [],\r\n\t\t\t\r\n\t\t\tjournalMessage: \"Choose a date to view the journal!\",\r\n\t\t\tjournalContent: \"Waiting for content...\",\r\n\t\t\t\r\n\t\t\tviewJournalData: [],\r\n\t\t\tviewNonJournalData: [],\r\n\t\t\t\r\n\t\t\tsuggestionEditorState: EditorState.createEmpty(),\r\n\t\t\tsuggestionErrors: [],\r\n\r\n\t\t\tjournalViewErrors: [],\r\n\t\t\tnonJournalViewErrors: [],\r\n\t\t\tjournalPromptsErrors: [],\r\n\t\t\t\r\n\t\t\tcurrentSuggestionDivision: this.initializeSuggestionDivision(),\r\n\r\n\t\t\tpostSuggestionStatus: 0,\r\n\t\t\tpickJournalCalenderDateStatus: 0,\r\n\t\t\tpickNonJournalCalenderDateStatus: 0,\r\n\t\t\t\r\n        };\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tthis.props.activateUserMenu(1)\r\n\t};\r\n\tcomponentWillUnmount() {\r\n\t\tthis.props.disableMenu()\r\n\t}\r\n\t\r\n\tinitializeSuggestionDivision = () => {\r\n\t\t\r\n\t\tlet generatingList = []\r\n\t\tfor (let index in this.props.userLoadedCompanyList) {\r\n\t\t\t\r\n\t\t\tlet permType = -1\r\n\t\t\tfor (let permIndex in this.props.userLoadedCompanyList[index][\"perm\"]) {\r\n\t\t\t\tif (this.props.userLoadedCompanyList[index][\"perm\"][permIndex] === 3) {\r\n\t\t\t\t\t//console.log(\"Is Admin\")\r\n\t\t\t\t\t// Set the thing to admin no matter what\r\n\t\t\t\t\tpermType = 3\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (permType >= 0 && permType < 4) {\r\n\t\t\t\tgeneratingList.push( this.props.userLoadedCompanyList[index] )\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif (generatingList.length === 1) {\r\n\t\t\treturn generatingList[0][\"id\"]\r\n\t\t}\r\n\t\t\r\n\t\treturn -1\r\n\t}\r\n\r\n\tchangeSuggestionContent = (incomingState) => {\r\n\t\t//console.log(incomingState)\r\n\t\tthis.setState({\r\n\t\t\tsuggestionEditorState:incomingState,\r\n\t\t})\t\r\n\t}\r\n\t\r\n\t// Posting the Suggestion...\r\n\tsuggestionPostFailureCallback = (responseData) => {\r\n\t\tlet returnData = []\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.refreshToken(this.postSuggestion)\r\n\t\t\tthis.props.debugSet(debugPageName, \"Refresh Triggered\", \"Post Suggestion\")\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageName, \"Post Suggestion\", \"Failure\")\r\n\t\treturnData = responseData['messages']\r\n\t\tthis.setState({\r\n\t\t\tsuggestionErrors: returnData,\r\n\t\t\tpostSuggestionStatus:3,\r\n\t\t})\r\n\t}\r\n\tsuggestionPostCallback = (incomingStuff) => {\r\n\t\t// Set something to notify user....\r\n\t\tthis.props.debugSet(debugPageName, \"Post Suggestion\", \"Success\")\r\n\t\tthis.setState({\r\n\t\t\tsuggestionErrors: [],\r\n\t\t\tpostSuggestionStatus:2,\r\n\t\t})\r\n\t}\r\n\tpostSuggestion = () => {\r\n\t\t// This may need to be overridden?\r\n\t\tlet inputDate = this.props.currentDate\r\n\t\tlet suggestionContent = this.state.suggestionEditorState.getCurrentContent().getPlainText()\r\n\t\tlet richContent = convertToRaw(this.state.suggestionEditorState.getCurrentContent())\r\n\t\tlet targetDivision = this.state.currentSuggestionDivision\r\n\t\t\r\n\t\t//console.log(targetDivision)\r\n\t\t\r\n\t\tif (!(targetDivision === -1)) {\r\n\t\t\tAPISaveSuggestion( inputDate, targetDivision, suggestionContent, richContent, this.suggestionPostCallback, this.suggestionPostFailureCallback)\r\n\t\t\tthis.setState({\r\n\t\t\t\tpostSuggestionStatus:1,\r\n\t\t\t})\r\n\t\t}\r\n\t\telse {\r\n\t\t\tconsole.log(\"Not allowed!\")\r\n\t\t\t// Just in case I should be able to get this from the server as well...\r\n\t\t\tthis.setState({\r\n\t\t\t\tsuggestionErrors: [ \"You need to select a company!\" ]\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\t\r\n\trefreshCompleted = () => {\r\n\t\tconsole.log(\"Put a Please Try again thing on the UI\")\r\n\t}\r\n\t\r\n\tjournalDataFailure = (responseData) => {\r\n\t\tlet returnData = []\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.refreshToken(this.refreshCompleted)\r\n\t\t\tthis.props.debugSet(debugPageName, \"Refresh Triggered\", \"Get Journal Data\")\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageName, \"Get Journal Data\", \"Failure\")\r\n\t\treturnData = responseData['messages']\r\n\t\tthis.setState({\r\n\t\t\tjournalViewErrors: returnData,\r\n\t\t\tpickJournalCalenderDateStatus:3,\r\n\t\t})\r\n\t}\r\n\tjournalDataCallback = (incomingFullData) => {\r\n\r\n\t\tthis.props.debugSet(debugPageName, \"Get Journal Data\", \"Success\")\r\n\t\tthis.setState({\r\n\t\t\tviewJournalData: incomingFullData,\r\n\t\t\t\r\n\t\t\tpickJournalCalenderDateStatus:2,\r\n\t\t})\r\n\t}\r\n\tnonJournalDataFailure = (responseData) => {\r\n\t\tlet returnData = responseData['messages']\r\n\t\t\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\r\n\t\t}\t\t\r\n\t\t// Unauthorized\r\n\t\t\r\n\t\t// So, this is inefficient... Refactor this!\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.refreshToken(this.refreshCompleted)\r\n\t\t\tthis.props.debugSet(debugPageName, \"Refresh Triggered\", \"Get Multi Choice Data\")\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageName, \"Get Multi Choice Data\", \"Failure\")\r\n\t\tthis.setState({\r\n\t\t\tnonJournalViewErrors: returnData,\r\n\t\t\tpickNonJournalCalenderDateStatus:3,\r\n\t\t})\r\n\t}\r\n\tnonJournalDataCallback = (incomingNonJournalData) => {\r\n\r\n\t\tthis.props.debugSet(debugPageName, \"Get Multi Choice Data\", \"Success\")\r\n\t\tthis.setState({\r\n\t\t\t//journalMessage: \"Showing Journal Entry for: \" + this.state.selectedJournalDate.toString(),\r\n\t\t\t\r\n\t\t\tviewNonJournalData: incomingNonJournalData,\r\n\t\t\t\r\n\t\t\tpickNonJournalCalenderDateStatus:2,\r\n\t\t})\r\n\t}\r\n\tpickJournalCalenderDate = (selectedDate) => {\r\n\t\tthis.setState({\r\n\t\t\tselectedJournalDate:selectedDate\r\n\t\t})\r\n\t\t\r\n\t\t// THIS data should not be old\r\n\t\t// But if I DO save the block data, this may get real hairy storage wise...\r\n\t\tlet checkData = undefined//Store.get(this.props.currentUser+\"-Journal-\"+selectedDate)\r\n\t\tif (checkData === undefined) {\r\n\t\t\t//console.log(\"Not in the cookies!\")\r\n\t\t\t\r\n\t\t\t// Perhaps I can find a good merge....\r\n\t\t\t// Both solutions I have thought of do not seem good enough yet....\r\n\t\t\tAPIGetJournalData( selectedDate, this.journalDataCallback, this.journalDataFailure)\r\n\t\t\tAPIGetNonJournalData( selectedDate, this.nonJournalDataCallback, this.nonJournalDataFailure)\r\n\t\t\tthis.setState({\r\n\t\t\t\tpickJournalCalenderDateStatus:1,\r\n\t\t\t\tpickNonJournalCalenderDateStatus:1,\r\n\t\t\t\t\r\n\t\t\t\tviewJournalData: [],\r\n\t\t\t\tviewNonJournalData: [],\r\n\t\t\t})\r\n\t\t}\r\n\t\telse {\r\n\t\t\t//this.journalDataCallback(checkData.journalContent, checkData.AIData)\r\n\t\t}\r\n\t}\r\n\t\r\n\tsetSuggestionDivision = (targetDivision) => {\r\n\t\tthis.setState({\r\n\t\t\tcurrentSuggestionDivision:targetDivision,\r\n\t\t})\r\n\t}\r\n\t\r\n\tchangeSelectedJournalViewDiv = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tselectedJournalViewDiv: event.target.value,\r\n\t\t})\r\n\t}\r\n\t\r\n\t// Rendering this with Bootstrap React.... To see if there is anything really interesting I can do with it\r\n\t// So far it doesnt look all that different \r\n\trender() {\r\n\t\t\r\n\t\tlet errorParse = []\r\n\t\tfor (let index in this.state.journalPromptsErrors) {\r\n\t\t\terrorParse.push(\r\n\t\t\t\tthis.state.journalPromptsErrors[index][\"text\"]\r\n\t\t\t)\r\n\t\t}\r\n\t\tif (errorParse.length === 0) {\r\n\t\t\terrorParse.push(\r\n\t\t\t\t\"Unknown!\"\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className=\"contentPages\">\r\n\t\t\t\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t{/*Entire thing...*/}\r\n\t\t\t\t\t<div className=\"row m-1 my-5\">\r\n\t\t\t\t\t\t{/*Content for the everything....*/}\r\n\t\t\t\t\t\t<div className=\"col m-1\">\r\n\t\t\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t\t\t<Route path={this.props.match.url+\"/journalWrite\"} component={() => <WriteJournals\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\trefreshToken={this.props.refreshToken}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tcurrentDate={this.props.currentDate}\r\n\t\t\t\t\t\t\t\t\t\tgetValidDates={this.props.getValidDates}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tpromptList={this.props.journalValidPrompts}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tnonJournalPromptsDone={this.props.validNonJournalDates}\r\n\t\t\t\t\t\t\t\t\t\tjournalPromptsDone={this.props.validJournalDates}\r\n\t\t\t\t\t\t\t\t\t\tjournalScanPromptsDone={this.props.validJournalScanDates}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tcurrentUser={this.props.currentUser}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tdebugSet={this.props.debugSet}\r\n\t\t\t\t\t\t\t\t\t/>} \r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Route path={this.props.match.url+\"/journalRead\"} component={() => <ViewJournals\r\n\t\t\t\t\t\t\t\t\t\tcurrentDate={this.state.selectedJournalDate}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tviewJournalData={this.state.viewJournalData}\r\n\t\t\t\t\t\t\t\t\t\tviewNonJournalData={this.state.viewNonJournalData}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tvalidNonJournalDates={this.props.validNonJournalDates}\r\n\t\t\t\t\t\t\t\t\t\tvalidJournalDates={this.props.validJournalDates}\r\n\t\t\t\t\t\t\t\t\t\tvalidJournalScanDates={this.props.validJournalScanDates}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tpickDate={this.pickJournalCalenderDate}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tselectedJournalViewDiv={this.state.selectedJournalViewDiv}\r\n\t\t\t\t\t\t\t\t\t\tchangeSelectedJournalViewDiv={this.changeSelectedJournalViewDiv}\r\n\r\n\t\t\t\t\t\t\t\t\t\tjournalViewErrors={this.state.journalViewErrors}\r\n\t\t\t\t\t\t\t\t\t\tnonJournalViewErrors={this.state.nonJournalViewErrors}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tpickJournalCalenderDateStatus={this.state.pickJournalCalenderDateStatus}\r\n\t\t\t\t\t\t\t\t\t\tpickNonJournalCalenderDateStatus={this.state.pickNonJournalCalenderDateStatus}\r\n\t\t\t\t\t\t\t\t\t/>} \r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Route path={this.props.match.url+\"/writeSuggestion\"} component={() => <WriteSuggestion\r\n\r\n\t\t\t\t\t\t\t\t\t\tuserLoadedCompanyList={this.props.userLoadedCompanyList}\r\n\t\t\t\t\t\t\t\t\t\tlastRequestStatus={this.props.lastGovernedCompanyRequestStatus}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tsetSuggestionDivision={this.setSuggestionDivision}\r\n\t\t\t\t\t\t\t\t\t\tcurrentDivisionID={this.state.currentSuggestionDivision}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.changeSuggestionContent}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\teditorState={this.state.suggestionEditorState}\r\n\t\t\t\t\t\t\t\t\t\tsaveToServer={this.postSuggestion}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tsuggestionErrors={this.state.suggestionErrors}\r\n\t\t\t\t\t\t\t\t\t\tpostSuggestionStatus={this.state.postSuggestionStatus}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tdebugSet={this.props.debugSet}\r\n\t\t\t\t\t\t\t\t\t/>} \r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Route path={this.props.match.url+\"/userPermissions\"} component={() => <UserProfile\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tcurrentUser={this.props.currentUser}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tuserLoadedCompanyList={this.props.userLoadedCompanyList}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\ttriggerRefresh={this.props.loadCompanyData}\r\n\t\t\t\t\t\t\t\t\t\trefreshToken={this.props.refreshToken}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tdebugSet={this.props.debugSet}\r\n\t\t\t\t\t\t\t\t\t/>} \r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Route path={this.props.match.url+\"/userSecurity\"} component={() => <UserSecurity\r\n\t\t\t\t\t\t\t\t\t\trefreshToken={this.props.refreshToken}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tdebugSet={this.props.debugSet}\r\n\t\t\t\t\t\t\t\t\t/>} \r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Route path={this.props.match.url+\"/userInvite\"} component={() => <UserInvite\r\n\t\t\t\t\t\t\t\t\t\ttriggerRefresh={this.props.loadCompanyData}\r\n\t\t\t\t\t\t\t\t\t\trefreshToken={this.props.refreshToken}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tdebugSet={this.props.debugSet}\r\n\t\t\t\t\t\t\t\t\t/>} \r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Route path={this.props.match.url+\"/userWeb\"} component={() => <UserWeb\r\n\t\t\t\t\t\t\t\t\t\ttriggerRefresh={this.props.loadCompanyData}\r\n\t\t\t\t\t\t\t\t\t\trefreshToken={this.props.refreshToken}\r\n\t\t\t\t\t\t\t\t\t\tvalidUserWebDates = {this.props.validUserWebDates}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tdebugSet={this.props.debugSet}\r\n\t\t\t\t\t\t\t\t\t/>} \r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Route path={this.props.match.url+\"/userSyncSettings\"} component={() => <UserSync\r\n\t\t\t\t\t\t\t\t\t\trefreshToken={this.props.refreshToken}\r\n\t\t\t\t\t\t\t\t\t/>} \r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Route path={this.props.match.url+\"/userPrompts\"} component={() => <UserPrompts\r\n\t\t\t\t\t\t\t\t\t\tcurrentUser={this.props.currentUser}\r\n\t\t\t\t\t\t\t\t\t\trefreshToken={this.props.refreshToken}\t\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tvalidFilters={this.props.validFilters}\r\n\t\t\t\t\t\t\t\t\t\tdebugSet={this.props.debugSet}\r\n\t\t\t\t\t\t\t\t\t/>} \r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Route path={this.props.match.url+\"/\"} component={() => <DefaultView\r\n\t\t\t\t\t\t\t\t\t/>} \r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Switch>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(ContentPages);","import React from \"react\";\r\n\r\nimport { ButtonGroup, ToggleButton } from 'react-bootstrap';\r\n//import { ProgressBar } from 'react-bootstrap';\r\n\r\nimport { withRouter, } from \"react-router-dom\";\r\n\r\nimport { Line } from 'react-chartjs-2';\r\nimport { arbitraryLineData } from '../../utils';\r\nimport { arbitraryLineOptions } from '../../utils';\r\n\r\n// Test Data crap from that utils...\r\n//import { generateTestEHIX, generateTestEHIY } from '../utils';\r\n\r\nclass StyleButton extends React.Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.onToggle = (e) => {\r\n\t\t\te.preventDefault();\r\n\t\t\tthis.props.onToggle(this.props.value);\r\n\t\t};\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet className = 'btn btn-outline-primary';\r\n\t\tif (this.props.active) {\r\n\t\t\tclassName += ' active';\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<button className={className} onClick={this.onToggle}>\r\n\t\t\t\t{this.props.label}\r\n\t\t\t</button>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n// Hm, this may be okay? The value should be its index...?\r\nconst historyGraphTimings = [\r\n\t{label:'Max', value:0, dayLength:0, weekLength:0},\r\n\t{label:'1Year', value:1, dayLength:365, weekLength:52},\r\n\t{label:'6Months', value:2, dayLength:183, weekLength:28},\r\n\t{label:'3Months', value:3, dayLength:63, weekLength:13},\r\n\t{label:'1Months', value:4, dayLength:31,  weekLength:4},\r\n\t{label:'1Week', value:5, dayLength:7, weekLength:1},\r\n];\r\n\r\nconst GraphTimingButtons = (props) => {\r\n\tconst currentDisplay = props.graphState;\r\n\t\r\n\treturn (\r\n\t\t<div className=\"EHIControls\">\r\n\t\t\t{historyGraphTimings.map((type) =>\r\n\t\t\t\t<StyleButton\r\n\t\t\t\t\tkey={type.label}\r\n\t\t\t\t\tactive={currentDisplay === type.value}\r\n\t\t\t\t\tlabel={type.label}\r\n\t\t\t\t\tonToggle={props.onToggle}\r\n\t\t\t\t\tvalue={type.value}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\n\r\n// This will show the EHI in chart form...\r\nconst EHIDisplay = (props) => {\r\n\t\r\n\tconst currentTimeIndex = props.timeIndex\r\n\t\r\n\tlet timescaleList = []\r\n\tlet promptList = []\r\n\tfor (let key in props.EHIData) {\r\n\t\t// Name should be changed for later....\r\n\t\tpromptList.push( {name:key, value:key} )\r\n\t}\r\n\t\r\n\tif (promptList.length === 0) {\r\n\t\tpromptList.push( {name:\"No Prompts!\", value:\"none\"} )\r\n\t}\r\n\t\r\n\tconst usedPrompt = props.EHIselectedPrompt\r\n\tconst usedTimescale = props.EHIselectedTimescale\r\n\t\r\n\tlet dataSet = []\r\n\tif (!(props.EHIData[usedPrompt] === undefined)) {\r\n\t\t\r\n\t\tfor (let timescale in props.EHIData[usedPrompt]) {\r\n\t\t\t// Name should be changed for later....\r\n\t\t\ttimescaleList.push( {name:timescale, value:timescale} )\r\n\t\t}\r\n\t\t\r\n\t\tif (!(props.EHIData[usedPrompt][usedTimescale] === undefined)) {\r\n\t\t\tdataSet = props.EHIData[usedPrompt][usedTimescale]\r\n\t\t}\r\n\t}\r\n\t\r\n\tif (timescaleList.length === 0) {\r\n\t\ttimescaleList.push( {name:\"Nothing to select!\", value:\"none\"} )\r\n\t}\r\n\t\r\n\tconst dataLabels = []\r\n\tconst dataData = []\r\n\t\r\n\tlet lineOptions = arbitraryLineOptions()\r\n\tlet lineData = arbitraryLineData([], [[]])\r\n\t// Redefine this down here so that I can reorganize the above stuff...\r\n\tif (!(dataSet === undefined)) {\r\n\t\tfor (let timecode in dataSet) {\r\n\t\t\tdataLabels.push(timecode)\r\n\t\t\tdataData.push(dataSet[timecode])\r\n\t\t}\r\n\t\t\r\n\t\tlet dayCount = historyGraphTimings[currentTimeIndex].dayLength\r\n\t\tif (dayCount === 0) {\r\n\t\t\tdayCount = dataLabels.length\r\n\t\t}\r\n\t\t\r\n\t\tlet ehiDaysLabels = dataLabels.slice(-dayCount)\r\n\t\tlet ehiDaysData = {\r\n\t\t\tlabel:\"EHI index\",\r\n\t\t\t// May not have to slice the second time?\r\n\t\t\tdata:dataData.slice(-dayCount)\r\n\t\t}\r\n\t\t\r\n\t\tlineData = arbitraryLineData(ehiDaysLabels, [ehiDaysData])\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"EHIDisplay\">\r\n\t\t\t<div className=\"container-fluid\">\r\n\t\t\t\t\r\n\t\t\t\t<div className=\"row m-1\">\r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t<div className=\"card shadow\">\r\n\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\tEHI Controls V1\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<div className=\"row m-2\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t<ButtonGroup toggle>\r\n\t\t\t\t\t\t\t\t\t\t\t{promptList.map((radio, idx) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<ToggleButton\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey={idx}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"radio\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"radio\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={radio.value}\r\n\t\t\t\t\t\t\t\t\t\t\t\tchecked={usedPrompt === radio.value}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={props.EHISetPrompt}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{radio.name}\r\n\t\t\t\t\t\t\t\t\t\t\t</ToggleButton>\r\n\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t</ButtonGroup>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<div className=\"row m-2\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t<ButtonGroup toggle>\r\n\t\t\t\t\t\t\t\t\t\t\t{timescaleList.map((radio, idx) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<ToggleButton\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey={idx}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"radio\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"radio\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={radio.value}\r\n\t\t\t\t\t\t\t\t\t\t\t\tchecked={usedTimescale === radio.value}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={props.EHISetTimescale}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{radio.name}\r\n\t\t\t\t\t\t\t\t\t\t\t</ToggleButton>\r\n\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t</ButtonGroup>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\r\n\t\t\t\t<div className=\"row m-1\">\r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<div className=\"card shadow\">\r\n\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<i><b>\r\n\t\t\t\t\t\t\t\t\t\tEmployee Health Index:\r\n\t\t\t\t\t\t\t\t\t</b></i>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\tPrompt: {usedPrompt}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\tScale: {usedTimescale}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t<Line\r\n\t\t\t\t\t\t\t\t\tdata={lineData} \r\n\t\t\t\t\t\t\t\t\toptions={lineOptions}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<GraphTimingButtons\r\n\t\t\t\t\t\t\t\t\tgraphState={currentTimeIndex}\r\n\t\t\t\t\t\t\t\t\tonToggle={props.EHITimeToggle}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default withRouter(EHIDisplay);","import React from \"react\";\r\n\r\nimport { APIDivisionInvitesCreate, APIDivisionInvitesSet, APIDivisionSettingsGet, APIDivisionInvitesGet } from \"../../utils\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { Alert } from 'react-bootstrap';\r\n\r\nconst inviteType = ['Invalid', 'Admin', 'Allowed to View', 'Governed User']\r\nconst debugPageName = \"Division Invites\"\r\n\r\nclass CompanyInvites extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\t\r\n\t\t\t// Because these are in here, these are NOT SAVED!\r\n\t\t\tinviteCode: \"No Data\",\r\n\t\t\t\r\n\t\t\t// These should be fine to keep this way...\r\n\t\t\ttargetUser: \"\",\r\n\t\t\ttargetRole: \"\",\r\n\t\t\t\r\n\t\t\tinvitePendingList: [],\r\n\t\t\tinviteActiveList: [],\r\n\t\t\t\r\n\t\t\tcompanyFullName: \"No Data\",\r\n\t\t\tdivisionName: \"No Data\",\r\n\t\t\t\r\n\t\t\tgetDivisionDataStatus: 0,\r\n\t\t\tgetDivisionDataError: [],\r\n\t\t\tgetInvitesStatus: 0,\r\n\t\t\tgetInvitesError: [],\r\n\t\t\t\r\n\t\t\tcreateInvitesStatus: 0,\r\n\t\t\tcreateInvitesError: [],\r\n\t\t\tuseInvitesStatus: 0,\r\n\t\t\tuseInvitesError: [],\r\n\t\t\t\r\n\t\t\tsuccessType: -1,\r\n\t\t}\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tthis.tiggerReload()\r\n\t};\r\n\t\r\n\ttiggerReload = () => {\r\n\t\tthis.getDivisionData()\r\n\t\tthis.getDivisionsInvites()\r\n\t}\r\n\t\r\n\tgetFailure = (responseData) => {\r\n\t\tlet returnData = []\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.debugSet(debugPageName, \"Refresh Triggered\", \"Get Division Data\")\r\n\t\t\tthis.props.refreshToken(this.getDivisionData)\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageName, \"Get Division Data\", \"Failure\")\r\n\t\treturnData = responseData['messages']\r\n\t\tthis.setState({\r\n\t\t\tgetDivisionDataError: returnData,\r\n\t\t\tgetDivisionDataStatus: 3,\r\n\t\t})\r\n\t}\r\n\tgetSuccess = (successData) => {\r\n\t\t//console.log(\"Get Data Success\")\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageName, \"Get Division Data\", \"Success\")\r\n\t\tthis.setState({\r\n\t\t\tcompanyFullName: successData[\"fullPathName\"],\r\n\t\t\tdivisionName: successData[\"divisionName\"],\r\n\t\t\tinviteCode: successData[\"inviteCode\"],\r\n\t\t\t\r\n\t\t\tgetDivisionDataStatus: 2,\r\n\t\t})\r\n\t}\r\n\tgetDivisionData = () => {\r\n\t\t// Verify that the division is valid?\r\n\t\tif (this.props.currentDivisionID >= 0) {\r\n\t\t\tlet checkData = undefined//Store.get(props.currentDivisionID+\"-Data\")\r\n\t\t\tif (checkData === undefined) {\r\n\t\t\t\t//console.log(\"Requesting Division Data From Server...\")\r\n\t\t\t\tAPIDivisionSettingsGet(  this.props.currentDivisionID, this.getSuccess, this.getFailure )\r\n\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tgetDivisionDataStatus: 1,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tconsole.log(\"Data will do here...\")\r\n\t\t\t\tthis.getSuccess(checkData)\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\t\r\n\tgetInvitesFailure = (responseData) => {\r\n\t\tlet returnData = []\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.debugSet(debugPageName, \"Refresh Triggered\", \"Get Division Invites\")\r\n\t\t\tthis.props.refreshToken(this.getDivisionsInvites)\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageName, \"Get Division Invites\", \"Failure\")\r\n\t\treturnData = responseData['messages']\r\n\t\tthis.setState({\r\n\t\t\tgetInvitesStatus: 3,\r\n\t\t\tgetInvitesError: returnData,\r\n\t\t})\r\n\t}\r\n\tgetInvitesSuccess = (incomingData) => {\r\n\t\t//console.log(\"Get Invites Success\")\r\n\t\t//Store.set(props.currentDivisionID+\"-Invites\", successData)\r\n\t\t\r\n\t\tlet invitesUserSide = []\r\n\t\tlet invitesDivisionSide = []\r\n\t\t\r\n\t\tfor (let index in incomingData) {\r\n\t\t\t// If it is from a company to this user, it goes in the invite area\r\n\t\t\tif (incomingData[index].whoIsOrigin === 2) {\r\n\t\t\t\tinvitesDivisionSide.push( incomingData[index] )\r\n\t\t\t}\r\n\t\t\t// If it is from us, to a company... then it goes in the pending field\r\n\t\t\telse if (incomingData[index].whoIsOrigin === 1) {\r\n\t\t\t\tinvitesUserSide.push( incomingData[index] )\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageName, \"Get Division Invites\", \"Success\")\r\n\t\tthis.setState({\r\n\t\t\tinvitePendingList: invitesDivisionSide,\r\n\t\t\tinviteActiveList: invitesUserSide,\r\n\t\t\t\r\n\t\t\tgetInvitesStatus: 2,\r\n\t\t})\r\n\t}\r\n\tgetDivisionsInvites = () => {\r\n\t\tif (this.props.currentDivisionID >= 0) {\r\n\t\t\tlet checkData = undefined//Store.get(props.currentDivisionID+\"-Invites\")\r\n\t\t\tif (checkData === undefined) {\r\n\t\t\t\tAPIDivisionInvitesGet(  this.props.currentDivisionID, this.getInvitesSuccess, this.getInvitesFailure )\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tgetInvitesStatus: 1,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tconsole.log(\"Data will do here...\")\r\n\t\t\t\tthis.getInvitesSuccess(checkData)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tinviteFailure = (responseData) => {\r\n\t\tlet returnData = []\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.debugSet(debugPageName, \"Refresh Triggered\", \"Create Division Invites\")\r\n\t\t\tthis.props.refreshToken(this.tokenHasRefreshed)\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageName, \"Create Division Invites\", \"Failure\")\r\n\t\treturnData = responseData['messages']\r\n\t\tthis.setState({\r\n\t\t\tcreateInvitesStatus: 3,\r\n\t\t\tcreateInvitesError: returnData,\r\n\t\t})\r\n\t}\r\n\tinviteSuccess = (successData) => {\r\n\t\t//console.log(\"Create Invite Success\")\r\n\t\t//console.log(successData)\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageName, \"Create Division Invites\", \"Success\")\r\n\t\tthis.setState({\r\n\t\t\tcreateInvitesStatus: 2,\r\n\t\t})\r\n\t}\r\n\tinviteUser = (event) => {\r\n\t\t//console.log(\"Send Invite\")\r\n\t\t\r\n\t\tAPIDivisionInvitesCreate(  this.props.currentDivisionID, this.state.targetUser, this.state.targetRole, this.inviteSuccess, this.inviteFailure )\r\n\t\tthis.setState({\r\n\t\t\tcreateInvitesStatus: 1,\r\n\t\t})\r\n\t}\r\n\t\r\n\tspendInviteFailure = (responseData) => {\r\n\t\tlet returnData = []\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.debugSet(debugPageName, \"Refresh Triggered\", \"Spend Division Invites\")\r\n\t\t\tthis.props.refreshToken(this.tokenHasRefreshed)\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageName, \"Spend Division Invites\", \"Failure\")\r\n\t\treturnData = responseData['messages']\r\n\t\tthis.setState({\r\n\t\t\tuseInvitesStatus: 3,\r\n\t\t\tuseInvitesError: returnData,\r\n\t\t})\r\n\t\t\r\n\t\tthis.getDivisionsInvites()\r\n\t}\r\n\tspendInviteSuccessYes = (successData) => {\r\n\t\t//console.log(\"Spend Invite Success\")\r\n\t\t//console.log(successData)\r\n\t\tthis.props.debugSet(debugPageName, \"Spend Division Invites\", \"Success\")\r\n\t\tthis.tiggerReload()\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tsuccessType: 0,\r\n\t\t\tuseInvitesStatus: 2,\r\n\t\t})\r\n\t}\r\n\tinviteYes = (event) => {\r\n\t\tconsole.log(\"Accept\")\r\n\t\t\r\n\t\t// Lets do... 0 == Cancel\r\n\t\t// 1 == Accept\r\n\t\tlet action = 1\r\n\t\tlet targetInvite = event.target.value\r\n\t\tAPIDivisionInvitesSet(  this.props.currentDivisionID, targetInvite, action, this.spendInviteSuccessYes, this.spendInviteFailure )\r\n\t\tthis.setState({\r\n\t\t\tsuccessType: -1,\r\n\t\t\tuseInvitesStatus: 1,\r\n\t\t})\r\n\t}\r\n\tspendInviteSuccessNo = (successData) => {\r\n\t\t//console.log(\"Spend Invite Success\")\r\n\t\t//console.log(successData)\r\n\t\tthis.props.debugSet(debugPageName, \"Spend Division Invites\", \"Success\")\r\n\t\tthis.tiggerReload()\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tsuccessType: 1,\r\n\t\t\tuseInvitesStatus: 2,\r\n\t\t})\r\n\t}\r\n\tinviteNo = (event) => {\r\n\t\tconsole.log(\"Deny\")\r\n\r\n\t\t// 0 == Cancel\r\n\t\t// 1 == Accept\r\n\t\tlet action = 0\r\n\t\tlet targetInvite = event.target.value\r\n\t\t\r\n\t\tAPIDivisionInvitesSet(  this.props.currentDivisionID, targetInvite, action, this.spendInviteSuccessNo, this.spendInviteFailure )\r\n\t\tthis.setState({\r\n\t\t\tsuccessType: -1,\r\n\t\t\tuseInvitesStatus: 1,\r\n\t\t})\r\n\t}\r\n\t\r\n\tuserFieldChange = (event) => {\r\n\t\tthis.setState({\r\n\t\t\ttargetUser: event.target.value,\r\n\t\t})\r\n\t}\r\n\t\r\n\ttriggerDropdown = (event) => {\r\n\t\tthis.setState({\r\n\t\t\ttargetRole:event.target.value,\r\n\t\t})\r\n\t}\r\n\t\r\n\ttokenHasRefreshed = () => {\r\n\t\tconsole.log(\"Show a 'try again' here\")\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tlet invitesDisplayPendingList = []\r\n\t\t\r\n\t\tfor (let i in this.state.invitePendingList) {\r\n\t\t\tlet extra = \"\"\r\n\t\t\tinvitesDisplayPendingList.push(\r\n\t\t\t\t<li className={\"list-group-item d-flex justify-content-around\"+extra} key={i}>\r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t{this.state.invitePendingList[i].inviteDivision}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t{inviteType[this.state.invitePendingList[i].targetRole]}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-2\">\r\n\t\t\t\t\t\t<button className=\"badge badge-success badge-pill\" value={this.state.invitePendingList[i].id} onClick={this.inviteYes}>/</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-1\">\r\n\t\t\t\t\t\t<button className=\"badge badge-danger badge-pill\" value={this.state.invitePendingList[i].id} onClick={this.inviteNo}>X</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\tif (invitesDisplayPendingList.length === 0) {\r\n\t\t\tinvitesDisplayPendingList.push(\r\n\t\t\t\t<li className=\"list-group-item\" key={0}>\r\n\t\t\t\t\tNo Pending Invites!\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\tlet invitesDisplayList = []\r\n\t\tfor (let i in this.state.inviteActiveList) {\r\n\t\t\tlet extra = \"\"\r\n\t\t\tinvitesDisplayList.push(\r\n\t\t\t\t<li className={\"list-group-item d-flex justify-content-around\"+extra} key={i}>\r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t{this.state.inviteActiveList[i].inviteDivision}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t{inviteType[this.state.inviteActiveList[i].targetRole]}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-2\">\r\n\t\t\t\t\t\t<button className=\"badge badge-success badge-pill\" value={this.state.inviteActiveList[i].id} onClick={this.inviteYes}>/</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-1\">\r\n\t\t\t\t\t\t<button className=\"badge badge-danger badge-pill\" value={this.state.inviteActiveList[i].id} onClick={this.inviteNo}>X</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t}\r\n\t\tif (invitesDisplayList.length === 0) {\r\n\t\t\tinvitesDisplayList.push(\r\n\t\t\t\t<li className=\"list-group-item\" key={0}>\r\n\t\t\t\t\tNo Invites!\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\tlet showTargetRole = \"Select Role =>\"\r\n\t\tif (this.state.targetRole !== \"\") {\r\n\t\t\tshowTargetRole = inviteType[this.state.targetRole]\r\n\t\t}\r\n\t\t\r\n\t\t//let showIdle = this.state.getDivisionDataStatus === 0 || this.state.getInvitesStatus === 0 || this.state.useInvitesStatus === 1\r\n\t\tlet showWaiting = this.state.getDivisionDataStatus === 1 || this.state.getInvitesStatus === 1 || this.state.useInvitesStatus === 1 || this.state.createInvitesStatus === 2\r\n\t\tlet showSuccessAcc = this.state.useInvitesStatus === 2 && this.state.successType === 0\r\n\t\tlet showSuccessRej = this.state.useInvitesStatus === 2 && this.state.successType === 1\r\n\t\tlet showSuccessInvite = this.state.createInvitesStatus === 2\r\n\t\tlet showError = this.state.getDivisionDataStatus === 3 || this.state.getInvitesStatus === 3 || this.state.useInvitesStatus === 3 || this.state.createInvitesStatus === 3\r\n\t\r\n\t\tlet errorParse = []\r\n\t\tfor (let index in this.state.getDivisionDataError) {\r\n\t\t\terrorParse.push(\r\n\t\t\t\tthis.state.getDivisionDataError[index][\"text\"]\r\n\t\t\t)\r\n\t\t}\r\n\t\tfor (let index in this.state.getInvitesError) {\r\n\t\t\terrorParse.push(\r\n\t\t\t\tthis.state.getInvitesError[index][\"text\"]\r\n\t\t\t)\r\n\t\t}\r\n\t\tfor (let index in this.state.createInvitesError) {\r\n\t\t\terrorParse.push(\r\n\t\t\t\tthis.state.createInvitesError[index][\"text\"]\r\n\t\t\t)\r\n\t\t}\r\n\t\tfor (let index in this.state.useInvitesError) {\r\n\t\t\terrorParse.push(\r\n\t\t\t\tthis.state.useInvitesError[index][\"text\"]\r\n\t\t\t)\r\n\t\t}\r\n\t\tif (errorParse.length === 0) {\r\n\t\t\terrorParse.push(\r\n\t\t\t\t\"Unknown!\"\r\n\t\t\t)\r\n\t\t}\r\n\t\r\n\t\treturn (\r\n\t\t\t<div className=\"companySett\">\r\n\t\t\t\t<div className=\"container-fluid\">\r\n\t\t\t\t\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card shadow\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<h5>Invites for this division:</h5>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t{this.state.companyFullName}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card shadow\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<h5>Invite Code</h5>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t{this.state.inviteCode}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"row\">\t\t\t\t\t\r\n\t\t\t\t\t\t<div className=\"col-md-12 col-lg\">\r\n\t\t\t\t\t\t\t<div className=\"card shadow\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<h5>Pending Invites List</h5>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t<ul className=\"list-group\">\r\n\t\t\t\t\t\t\t\t\t\t<li className=\"list-group-item\" key={-1}>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col alignOverride\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<u>User Name</u>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col alignOverride\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<u>Target Role</u>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t{invitesDisplayPendingList}\r\n\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"row\">\t\t\t\t\t\r\n\t\t\t\t\t\t<div className=\"col-md-12 col-lg\">\r\n\t\t\t\t\t\t\t<div className=\"card shadow\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<h5>Invites List</h5>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t<ul className=\"list-group\">\r\n\t\t\t\t\t\t\t\t\t\t<li className=\"list-group-item\" key={-1}>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col alignOverride\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<u>User Name</u>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col alignOverride\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<u>Target Role</u>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t{invitesDisplayList}\r\n\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-md-12 col-lg\">\r\n\t\t\t\t\t\t\t<div className=\"card shadow\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<h5>Invite User</h5>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\t<input type='text' className='form-control' value={this.state.targetUser} onChange={this.userFieldChange} placeholder='Enter Username or Email' />\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"dropdown\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<button className=\"btn btn-secondary dropdown-toggle\" type=\"button\" id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{showTargetRole}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuLink\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button className=\"dropdown-item\" value=\"1\" onClick={this.triggerDropdown}>Admin</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button className=\"dropdown-item\" value=\"2\" onClick={this.triggerDropdown}>Allowed to View</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button className=\"dropdown-item\" value=\"3\" onClick={this.triggerDropdown}>Governed User</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\t<button className=\"btn btn-primary\" onClick={this.inviteUser}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tInvite\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Alert show={showWaiting} variant=\"warning\">\r\n\t\t\t\t\t\t<Alert.Heading>Waiting</Alert.Heading>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t  Waiting for server response...\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Alert show={showSuccessAcc} variant=\"success\">\r\n\t\t\t\t\t\t<Alert.Heading>Success!</Alert.Heading>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t  Successfully Accepted Invite!\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Alert show={showSuccessRej} variant=\"success\">\r\n\t\t\t\t\t\t<Alert.Heading>Success!</Alert.Heading>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t  Successfully Rejected Invite!\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Alert show={showSuccessInvite} variant=\"success\">\r\n\t\t\t\t\t\t<Alert.Heading>Success!</Alert.Heading>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t  Successfully Sent Invite!\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Alert show={showError} variant=\"danger\">\r\n\t\t\t\t\t\t<Alert.Heading>Error!</Alert.Heading>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t  Failed with general error!\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default withRouter(CompanyInvites);","import React from \"react\";\r\n\r\nimport { APIDivisionSettingsEdit, APIDivisionSettingsGet } from \"../../utils\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { Alert } from 'react-bootstrap';\r\n\r\nconst debugPageName = \"Division Permissions\"\r\n\r\nclass CompanyPermissions extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\t\t\t\r\n\t\t\tcompanyFullName: \"No Data\",\r\n\t\t\tdivisionName: \"No Data\",\r\n\t\t\t\r\n\t\t\tadminsIDs: [],\r\n\t\t\tviewsIDs: [],\r\n\t\t\tsendsIDs: [],\r\n\t\t\tgovernsIDs: [],\r\n\t\t\t\r\n\t\t\tadmins: [],\r\n\t\t\tviews: [],\r\n\t\t\tsends: [],\r\n\t\t\tgoverns: [],\r\n\t\t\t\r\n\t\t\tdelAdmins: [],\r\n\t\t\tdelViews: [],\r\n\t\t\tdelSends: [],\r\n\t\t\tdelGoverns: [],\r\n\t\t\t\r\n\t\t\tnumChild: 0,\r\n\t\t\t\r\n\t\t\tgetPermissionsStatus: 0,\r\n\t\t\tgetPermissionsError: [],\r\n\t\t\tsetPermissionsStatus: 0,\r\n\t\t\tsetPermissionsError: [],\r\n\t\t}\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tthis.tiggerReload()\r\n\t};\r\n\t\r\n\ttiggerReload = () => {\r\n\t\tthis.getDivisionData()\r\n\t}\r\n\t\r\n\tgetFailure = (responseData) => {\r\n\t\tlet returnData = []\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.debugSet(debugPageName, \"Refresh Triggered\", \"Get Division Permissions\")\r\n\t\t\tthis.props.refreshToken(this.getDivisionData)\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageName, \"Get Division Permissions\", \"Failure\")\r\n\t\treturnData = responseData['messages']\r\n\t\tthis.setState({\r\n\t\t\tgetPermissionsStatus: 3,\r\n\t\t\tgetPermissionsError: returnData,\r\n\t\t})\r\n\t}\r\n\tgetSuccess = (successData) => {\r\n\t\t//console.log(\"Get Data Success\")\r\n\t\tthis.props.debugSet(debugPageName, \"Get Division Permissions\", \"Success\")\r\n\t\tthis.setState({\r\n\t\t\r\n\t\t\tcompanyFullName: successData[\"fullPathName\"],\r\n\t\t\tdivisionName: successData[\"divisionName\"],\r\n\t\t\tnumChild: successData[\"getNumChildUsers\"],\r\n\t\t\t\r\n\t\t\tadmins: successData[\"adminAccountNames\"],\r\n\t\t\tviews: successData[\"privateViewingNames\"],\r\n\t\t\tsends: successData[\"resultsSendTargetsNames\"],\r\n\t\t\tgoverns: successData[\"governedUsersNames\"],\r\n\t\t\t\r\n\t\t\tadminsIDs: successData[\"adminAccounts\"],\r\n\t\t\tviewsIDs: successData[\"privateViewingPerms\"],\r\n\t\t\tsendsIDs: successData[\"resultsSendTargets\"],\r\n\t\t\tgovernsIDs: successData[\"governedUsers\"],\r\n\t\t\t\r\n\t\t\tdelAdmins: [],\r\n\t\t\tdelViews: [],\r\n\t\t\tdelSends: [],\r\n\t\t\tdelGoverns: [],\r\n\t\t\t\r\n\t\t\tgetPermissionsStatus: 2,\r\n\t\t})\r\n\t}\r\n\tgetDivisionData = () => {\r\n\t\t// Verify that the division is valid?\r\n\t\tif (this.props.currentDivisionID >= 0) {\r\n\t\t\tlet checkData = undefined//Store.get(props.currentDivisionID+\"-Data\")\r\n\t\t\tif (checkData === undefined) {\r\n\t\t\t\t//console.log(\"Requesting Division Data From Server...\")\r\n\t\t\t\tAPIDivisionSettingsGet(  this.props.currentDivisionID, this.getSuccess, this.getFailure )\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tgetPermissionsStatus: 1,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t//console.log(\"Data will do here...\")\r\n\t\t\t\tthis.getSuccess(checkData)\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\t\r\n\tsetFailure = (responseData) => {\r\n\t\tlet returnData = []\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.debugSet(debugPageName, \"Refresh Triggered\", \"Set Division Permissions\")\r\n\t\t\tthis.props.refreshToken(this.saveChanges)\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageName, \"Set Division Permissions\", \"Failure\")\r\n\t\treturnData = responseData['messages']\r\n\t\tthis.setState({\r\n\t\t\tsetPermissionsStatus: 3,\r\n\t\t\tsetPermissionsError: returnData,\r\n\t\t})\r\n\t}\r\n\tsetSuccess = (successData) => {\r\n\t\t//console.log(\"Set Data Success\")\r\n\t\t//console.log(successData)\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageName, \"Set Division Permissions\", \"Success\")\r\n\t\tthis.props.triggerRefresh()\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tsetPermissionsStatus: 2,\r\n\t\t})\r\n\t}\r\n\tsaveChanges = () => {\r\n\t\t\r\n\t\t// I will need to put a validator in here... Definetly...\r\n\t\t// For now I will not allow it...\r\n\t\tlet chName = \"\"\r\n\t\t\r\n\t\tlet testData = {\r\n\t\t\t\"reqDiv\": this.props.currentDivisionID,\r\n\t\t\t\r\n\t\t\t\"chName\": chName,\r\n\t\t\t\r\n\t\t\t\"delAdmins\": this.state.delAdmins,\r\n\t\t\t\"delViews\": this.state.delViews,\r\n\t\t\t\"delEmails\": this.state.delSends,\r\n\t\t\t\"delGovern\": this.state.delGoverns,\r\n\t\t}\r\n\t\t\r\n\t\tAPIDivisionSettingsEdit(  testData, this.setSuccess, this.setFailure )\r\n\t\tthis.setState({\r\n\t\t\tsetPermissionsStatus: 1,\r\n\t\t})\r\n\t}\r\n\t\r\n\ttoggleDelete = (event) => {\r\n\t\t\r\n\t\tlet splitEvent = event.target.value.split(\",\")\r\n\t\tlet valueNameIndex = Number(splitEvent[0])\r\n\t\tlet valueInt = Number(splitEvent[1])\r\n\t\t\r\n\t\tlet selectedName = \"No Name!\"\r\n\t\t\r\n\t\tlet tempAdm = []\r\n\t\tlet tempVie = []\r\n\t\tlet tempSen = []\r\n\t\tlet tempGov = []\r\n\t\tswitch(event.target.name) {\r\n\t\t\tcase \"adm\":\r\n\t\t\t\ttempAdm.push( valueInt )\r\n\t\t\t\tselectedName = this.state.admins[valueNameIndex]\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tcase \"vie\":\r\n\t\t\t\ttempVie.push( valueInt )\r\n\t\t\t\tselectedName = this.state.views[valueNameIndex]\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tcase \"sen\":\r\n\t\t\t\ttempSen.push( valueInt )\r\n\t\t\t\tselectedName = this.state.sends[valueNameIndex]\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tcase \"gov\":\r\n\t\t\t\ttempGov.push( valueInt )\r\n\t\t\t\tselectedName = this.state.governs[valueNameIndex]\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tdefault:\r\n\t\t\t\tconsole.log(\"Failed to have the correct name\")\r\n\t\t}\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tdelAdmins:tempAdm,\r\n\t\t\tdelViews:tempVie,\r\n\t\t\tdelSends:tempSen,\r\n\t\t\tdelGoverns:tempGov,\r\n\t\t\t\r\n\t\t\tselectedName: selectedName,\r\n\t\t})\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tlet adminUserList = []\r\n\t\tfor (let i in this.state.admins) {\r\n\t\t\tlet extra = \"\"\r\n\t\t\tlet index = this.state.delAdmins.indexOf(this.state.adminsIDs[i])\r\n\t\t\tif (index >= 0) {\r\n\t\t\t\textra = 'bg-warning'\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tadminUserList.push(\r\n\t\t\t\t<li className={\"list-group-item d-flex justify-content-around\"+extra} key={i}>\r\n\t\t\t\t\t{this.state.admins[i]}\r\n\t\t\t\t\t{/*<button className=\"badge badge-danger badge-pill\" name=\"adm\" value={ [i, adminsIDs[i]] } onClick={toggleDelete}>\r\n\t\t\t\t\t\tX\r\n\t\t\t\t\t</button>*/}\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t}\r\n\t\tif (this.state.admins.length === 0) {\r\n\t\t\tadminUserList.push(\r\n\t\t\t\t<li className=\"list-group-item\" key={0}>\r\n\t\t\t\t\tNo Users!\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\tlet viewingUserList = []\r\n\t\tfor (let i in this.state.views) {\r\n\t\t\tlet extra = \"\"\r\n\t\t\tlet index = this.state.delViews.indexOf(this.state.viewsIDs[i])\r\n\t\t\tif (index >= 0) {\r\n\t\t\t\textra = 'bg-warning'\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tviewingUserList.push(\r\n\t\t\t\t<li className={\"list-group-item d-flex justify-content-around \"+extra} key={i}>\r\n\t\t\t\t\t{this.state.views[i]}\r\n\t\t\t\t\t<button className=\"badge badge-danger badge-pill\" name=\"vie\" value={ [i, this.state.viewsIDs[i]] } data-toggle=\"modal\" data-target=\"#deleteConfirm\" onClick={this.toggleDelete}>\r\n\t\t\t\t\t\tX\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t}\r\n\t\tif (this.state.views.length === 0) {\r\n\t\t\tviewingUserList.push(\r\n\t\t\t\t<li className=\"list-group-item\" key={0}>\r\n\t\t\t\t\tNo Users!\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\tlet sentUserList = []\r\n\t\tfor (let i in this.state.sends) {\r\n\t\t\tlet extra = \"\"\r\n\t\t\tlet index = this.state.delSends.indexOf(this.state.sendsIDs[i])\r\n\t\t\tif (index >= 0) {\r\n\t\t\t\textra = 'bg-warning'\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tsentUserList.push(\r\n\t\t\t<li className={\"list-group-item d-flex justify-content-around \"+extra} key={i}>\r\n\t\t\t\t\t{this.state.sends[i]}\r\n\t\t\t\t\t{/*\r\n\t\t\t\t\t<button className=\"badge badge-danger badge-pill\" name=\"sen\" value={ [i, this.state.sendsIDs[i]] } data-toggle=\"modal\" data-target=\"#deleteConfirm\" onClick={this.toggleDelete}>\r\n\t\t\t\t\t\tX\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t*/}\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t}\r\n\t\tif (this.state.sends.length === 0) {\r\n\t\t\tsentUserList.push(\r\n\t\t\t\t<li className=\"list-group-item\" key={0}>\r\n\t\t\t\t\tNo Users!\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\tlet governedUserList = []\r\n\t\tfor (let i in this.state.governs) {\r\n\t\t\t\r\n\t\t\tlet extra = \"\"\r\n\t\t\tlet index = this.state.delGoverns.indexOf(this.state.governsIDs[i])\r\n\t\t\tif (index >= 0) {\r\n\t\t\t\textra = 'bg-warning'\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tgovernedUserList.push(\r\n\t\t\t\t<li className={\"list-group-item d-flex justify-content-around \"+extra} key={i}>\r\n\t\t\t\t\t{this.state.governs[i]}\r\n\t\t\t\t\t<button className=\"badge badge-danger badge-pill\" name=\"gov\" value={ [i, this.state.governsIDs[i]] } data-toggle=\"modal\" data-target=\"#deleteConfirm\" onClick={this.toggleDelete}>\r\n\t\t\t\t\t\tX\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t}\t\r\n\t\tif (this.state.governs.length === 0) {\r\n\t\t\tgovernedUserList.push(\r\n\t\t\t\t<li className=\"list-group-item\" key={0}>\r\n\t\t\t\t\tNo Users!\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t}\r\n\t\tgovernedUserList.push(\r\n\t\t\t<li className=\"list-group-item\" key={\"end\"}>\r\n\t\t\t\tAnd {this.state.numChild} others in child nodes\r\n\t\t\t</li>\r\n\t\t)\r\n\t\t\r\n\t\t//let showIdle = this.state.setPermissionsStatus === 0\r\n\t\tlet showWaiting = this.state.setPermissionsStatus === 1 || this.state.getPermissionsStatus === 1\r\n\t\tlet showSuccess = this.state.setPermissionsStatus === 2 //|| this.state.getPermissionsStatus === 2 \r\n\t\tlet showError = this.state.setPermissionsStatus === 3 || this.state.getPermissionsStatus === 3\r\n\t\t\r\n\t\tlet errorParse = []\r\n\t\tfor (let index in this.state.getPermissionsError) {\r\n\t\t\terrorParse.push(\r\n\t\t\t\tthis.state.getPermissionsError[index][\"text\"]\r\n\t\t\t)\r\n\t\t}\r\n\t\tfor (let index in this.state.getPermissionsError) {\r\n\t\t\terrorParse.push(\r\n\t\t\t\tthis.state.getPermissionsError[index][\"text\"]\r\n\t\t\t)\r\n\t\t}\r\n\t\tif (errorParse.length === 0) {\r\n\t\t\terrorParse.push(\r\n\t\t\t\t\"Unknown!\"\r\n\t\t\t)\r\n\t\t}\r\n\t\r\n\t\treturn (\r\n\t\t\t<div className=\"companySett\">\r\n\t\t\t\t<div className=\"container-fluid\">\r\n\t\t\t\t\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card shadow\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<h5>Changing Permissions for:</h5>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t{this.state.companyFullName}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card shadow\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<h5>Administrators</h5>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t{adminUserList}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card shadow\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<h5>Viewing Privilages:</h5>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t\t\t\t{viewingUserList}\r\n\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t{/*\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card shadow\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<h5>Users Notified:</h5>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t\t\t\t{sentUserList}\r\n\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t*/}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card shadow\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<h5>Target Users:</h5>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t\t\t\t{governedUserList}\r\n\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Alert show={showWaiting} variant=\"warning\">\r\n\t\t\t\t\t\t<Alert.Heading>Waiting</Alert.Heading>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t  Waiting for server response...\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Alert show={showSuccess} variant=\"success\">\r\n\t\t\t\t\t\t<Alert.Heading>Success!</Alert.Heading>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t  Successfull!\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Alert show={showError} variant=\"danger\">\r\n\t\t\t\t\t\t<Alert.Heading>Error!</Alert.Heading>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t{errorParse}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"modal fade\" id=\"deleteConfirm\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"deleteConfirmation\" aria-hidden=\"true\">\r\n\t\t\t\t\t  <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n\t\t\t\t\t\t<div className=\"modal-content\">\r\n\t\t\t\t\t\t  <div className=\"modal-header\">\r\n\t\t\t\t\t\t\t<h5 className=\"modal-title\" id=\"deleteTitleConfirm\">Delete Confirmation</h5>\r\n\t\t\t\t\t\t\t<button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n\t\t\t\t\t\t\t  <span aria-hidden=\"true\">&times;</span>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t  <div className=\"modal-body\">\r\n\t\t\t\t\t\t\t<div>Are you SURE you want to revoke permission for:</div>\r\n\t\t\t\t\t\t\t<div>{this.state.selectedName}?</div>\r\n\t\t\t\t\t\t\t<div>You will need to reinvite the user!</div>\r\n\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t  <div className=\"modal-footer\">\r\n\t\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-danger\" data-dismiss=\"modal\" onClick={this.saveChanges}>Yes</button>\r\n\t\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-primary\" data-dismiss=\"modal\">No</button>\r\n\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default withRouter(CompanyPermissions);","import React from \"react\";\r\n\r\nimport { APIDivisionSettingsEdit, APIDivisionSettingsGet } from \"../../utils\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { Alert } from 'react-bootstrap';\r\n\r\nconst viewingPermsCheck = ['Public', 'Private', 'Governed Users']\r\nconst debugPageName = \"Division Settings\"\r\n\r\nclass CompanySettings extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\t\t\t\r\n\t\t\tnewViewPerms: 0,\r\n\t\t\tviewPerms: -1,\r\n\t\t\t\r\n\t\t\texpiryDate: \"No Data\",\r\n\t\t\t\r\n\t\t\tcompanyFullName: \"No Data\",\r\n\t\t\tdivisionName: \"No Data\",\r\n\t\t\t\r\n\t\t\tgetSettingsStatus: 0,\r\n\t\t\tgetSettingsError: [],\r\n\t\t\t\r\n\t\t\tsaveChangesStatus: 0,\r\n\t\t\tsaveChangesError: [],\r\n\t\t}\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tthis.tiggerReload()\r\n\t};\r\n\t\r\n\ttiggerReload = () => {\r\n\t\tthis.getDivisionData()\r\n\t}\r\n\t\r\n\tgetFailure = (responseData) => {\r\n\t\tlet returnData = []\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.debugSet(debugPageName, \"Refresh Triggered\", \"Get Division Data\")\r\n\t\t\tthis.props.refreshToken(this.getDivisionData)\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageName, \"Get Division Data\", \"Failure\")\r\n\t\treturnData = responseData['messages']\r\n\t\tthis.setState({\r\n\t\t\tgetSettingsStatus: 3,\r\n\t\t\tgetSettingsError: returnData,\r\n\t\t})\r\n\t}\r\n\tgetSuccess = (successData) => {\r\n\t\t//console.log(\"Get Data Success\")\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageName, \"Get Division Data\", \"Success\")\r\n\t\tthis.setState({\r\n\t\t\r\n\t\t\tcompanyFullName: successData[\"fullPathName\"],\r\n\t\t\tdivisionName: successData[\"divisionName\"],\r\n\t\t\t\r\n\t\t\texpiryDate: successData[\"getCompanyExpiryDate\"],\r\n\t\t\t\r\n\t\t\tviewPerms: successData[\"summaryViewAccess\"],\r\n\t\t\t\r\n\t\t\tgetSettingsStatus: 2,\r\n\t\t})\r\n\t}\r\n\tgetDivisionData = () => {\r\n\t\t// Verify that the division is valid?\r\n\t\tif (this.props.currentDivisionID >= 0) {\r\n\t\t\tlet checkData = undefined//Store.get(props.currentDivisionID+\"-Data\")\r\n\t\t\tif (checkData === undefined) {\r\n\t\t\t\t//console.log(\"Requesting Division Data From Server...\")\r\n\t\t\t\tAPIDivisionSettingsGet(  this.props.currentDivisionID, this.getSuccess, this.getFailure )\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tgetSettingsStatus: 1,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tconsole.log(\"Data will do here...\")\r\n\t\t\t\tthis.getSuccess(checkData)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tsetFailure = (responseData) => {\r\n\t\tlet returnData = []\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.debugSet(debugPageName, \"Refresh Triggered\", \"Get Division Data Settings\")\r\n\t\t\tthis.props.refreshToken(this.saveChanges)\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageName, \"Get Division Data Settings\", \"Failure\")\r\n\t\treturnData = responseData['messages']\r\n\t\tthis.setState({\r\n\t\t\tsaveChangesStatus: 3,\r\n\t\t\tsaveChangesError: returnData,\r\n\t\t})\r\n\t}\r\n\tsetSuccess = (successData) => {\r\n\t\t//console.log(\"Set Data Success\")\r\n\t\t//console.log(successData)\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageName, \"Get Division Data Settings\", \"Success\")\r\n\t\tthis.props.triggerRefresh()\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tsaveChangesStatus: 2,\r\n\t\t})\r\n\t}\r\n\tsaveChanges = () => {\r\n\t\t\r\n\t\t// I will need to put a validator in here... Definetly...\r\n\t\t// For now I will not allow it...\r\n\t\tlet chName = \"\"\r\n\t\t\r\n\t\tlet testData = {\r\n\t\t\t\"reqDiv\": this.props.currentDivisionID,\r\n\t\t\t\r\n\t\t\t\"chName\": chName,\r\n\t\t}\r\n\t\t\r\n\t\tAPIDivisionSettingsEdit(  testData, this.setSuccess, this.setFailure )\r\n\t\tthis.setState({\r\n\t\t\tsaveChangesStatus: 1,\r\n\t\t})\r\n\t}\r\n\t\r\n\tdivisionFieldChange = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tdivisionName: event.target.value,\r\n\t\t})\r\n\t}\r\n\t\r\n\ttriggerDropdown = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tviewPerms:event.target.name,\r\n\t\t})\r\n\t}\r\n\t\r\n\trender() {\r\n\t\t\r\n\t\t//let showIdle = this.state.getSettingsStatus === 0\r\n\t\tlet showWaiting = this.state.getSettingsStatus === 1\r\n\t\tlet showSuccess = false//this.state.getSettingsStatus === 2\r\n\t\tlet showError = this.state.getSettingsStatus === 3\r\n\t\r\n\t\tlet errorParse = []\r\n\t\tfor (let index in this.state.getSettingsError) {\r\n\t\t\terrorParse.push(\r\n\t\t\t\tthis.state.getSettingsError[index][\"text\"]\r\n\t\t\t)\r\n\t\t}\r\n\t\tif (errorParse.length === 0) {\r\n\t\t\terrorParse.push(\r\n\t\t\t\t\"Unknown!\"\r\n\t\t\t)\r\n\t\t}\r\n\t\r\n\t\treturn (\r\n\t\t\t<div className=\"companySett\">\r\n\t\t\t\t<div className=\"container-fluid\">\r\n\t\t\t\t\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card shadow\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<h5>Full Company Path</h5>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t{this.state.companyFullName}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card shadow\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<h5>Change Division Name</h5>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<input type='text' className='form-control' value={this.state.divisionName} onChange={this.divisionFieldChange} placeholder='No Name?!' />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card shadow\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<h5>Viewing Permissions</h5>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"dropdown\">\r\n\t\t\t\t\t\t\t\t\t\t<button className=\"btn btn-secondary dropdown-toggle\" type=\"button\" id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n\t\t\t\t\t\t\t\t\t\t\t{viewingPermsCheck[this.state.viewPerms]}\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuLink\">\r\n\t\t\t\t\t\t\t\t\t\t\t<button className=\"dropdown-item\" name=\"0\" onClick={this.triggerDropdown}>Public</button>\r\n\t\t\t\t\t\t\t\t\t\t\t<button className=\"dropdown-item\" name=\"1\" onClick={this.triggerDropdown}>Private</button>\r\n\t\t\t\t\t\t\t\t\t\t\t<button className=\"dropdown-item\" name=\"2\" onClick={this.triggerDropdown}>Governed Users</button>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card shadow\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<h5>Subscription Expiry</h5>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body d-inline-flex justify-content-around\">\r\n\t\t\t\t\t\t\t\t\t{this.state.expiryDate}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<button className=\"btn btn-primary\" onClick={this.saveChanges} disabled>\r\n\t\t\t\t\t\tSave Changes\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Alert show={showWaiting} variant=\"warning\">\r\n\t\t\t\t\t\t<Alert.Heading>Waiting</Alert.Heading>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t  Waiting for server response...\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Alert show={showSuccess} variant=\"success\">\r\n\t\t\t\t\t\t<Alert.Heading>Success!</Alert.Heading>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t  Successfully obtained data!\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Alert show={showError} variant=\"danger\">\r\n\t\t\t\t\t\t<Alert.Heading>Error!</Alert.Heading>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t  {errorParse}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default withRouter(CompanySettings);","import React from \"react\";\r\n\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { Alert } from 'react-bootstrap';\r\n\r\nconst permRender = [\"Admin\", \"Viewer\", \"Governer\"]\r\n\r\n// Move this to a util later.... Its used in CompanyPrompts, SelectCompany and Suggestions....\r\nclass Paginator extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n        super(props);\r\n\t\tthis.state = {\r\n\t\t\tbtnLen: 2,\r\n\t\t}\r\n\t}\r\n\t\r\n\trender() {\r\n\t\t\r\n\t\tlet prevAlter = \"\"\r\n\t\tlet nextAlter = \"\"\r\n\t\t\r\n\t\tif (this.props.activePage <= 0) {\r\n\t\t\tprevAlter = \"disabled\"\r\n\t\t}\r\n\r\n\t\tif (this.props.activePage >= this.props.totalLoaded/this.props.numPerPage-1) {\r\n\t\t\tnextAlter = \"disabled\"\r\n\t\t}\r\n\t\t\r\n\t\tlet numberButtons = []\r\n\t\tfor (let i = -this.state.btnLen; i <= this.state.btnLen; i++) {\r\n\t\t\tlet altered = \"\"\r\n\t\t\t\r\n\t\t\tlet altI = i+this.props.activePage\r\n\t\t\tif (altI < 0 || altI >= this.props.totalLoaded/this.props.numPerPage) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (i === 0) {\r\n\t\t\t\taltered = \"active \"\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tnumberButtons.push(\r\n\t\t\t\t<button key={i} className={\"btn btn-outline-primary \" + altered} value={altI} onClick={this.props.changeToNum}>\r\n\t\t\t\t\t{altI}\r\n\t\t\t\t</button>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className = \"paginator\">\r\n\t\t\t\t<div className = \"container\">\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<button className={\"btn btn-outline-primary \" + prevAlter} value=\"bck\" onClick={this.props.changePrevNext}>\r\n\t\t\t\t\t\t\t\tPrev\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t{numberButtons}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<button className={\"btn btn-outline-primary \" + nextAlter} value=\"fwd\" onClick={this.props.changePrevNext}>\r\n\t\t\t\t\t\t\t\tNext\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nclass selectCompany extends React.Component  {\r\n\t\r\n\tconstructor(props) {\r\n        super(props);\r\n\t\tthis.state = {\r\n\t\t\tpageNum:0,\r\n\t\t\tnumPerPage:10,\r\n\t\t\t\r\n\t\t\tnumChooseLimit:5,\r\n\t\t\t\r\n\t\t\tsubList: this.initializeSubList()\r\n\t\t}\r\n\t}\r\n\t\r\n\tcomponentWillUnmount() {\r\n\t\t\r\n\t}\r\n\t\r\n\tinitializeSubList = () => {\r\n\t\t\r\n\t\tlet generateingList = []\r\n\t\t// Hm, this may run multiple times due to my now-messed data reloading structure...\r\n\t\tfor (let index in this.props.userLoadedCompanyList) {\r\n\t\t\t\r\n\t\t\tlet permType = -1\r\n\t\t\tfor (let permIndex in this.props.userLoadedCompanyList[index][\"perm\"]) {\r\n\t\t\t\tif (this.props.userLoadedCompanyList[index][\"perm\"][permIndex] === 0) {\r\n\t\t\t\t\t//console.log(\"Is Admin\")\r\n\t\t\t\t\t// Set the thing to admin no matter what\r\n\t\t\t\t\tpermType = 0\r\n\t\t\t\t}\r\n\t\t\t\telse if (this.props.userLoadedCompanyList[index][\"perm\"][permIndex] === 1) {\r\n\t\t\t\t\t//console.log(\"Is Viewable\")\r\n\t\t\t\t\t// Set it to viewable... AS LONG AS it is NOT set to admin..\r\n\t\t\t\t\t\r\n\t\t\t\t\t// Unnecessary...\r\n\t\t\t\t\tif (!(permType === 0)) {\r\n\t\t\t\t\t\tpermType = 1\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (permType >= 0 && permType < 4) {\r\n\t\t\t\tgenerateingList.push( [this.props.userLoadedCompanyList[index], permType] )\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn generateingList\r\n\t}\r\n\t\r\n\tgetData = (event) => {\r\n\t\tthis.props.getDataRequest( this.props.userLoadedCompanyList[event.target.value] )\r\n\t}\r\n\t\r\n\tchangePageTo = (event) => {\r\n\t\t\r\n\t\tlet newPage = Number(event.target.value)\r\n\t\t// Sanity check!\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tpageNum: newPage\r\n\t\t})\r\n\t}\r\n\tchangePageFwdBck = (event) => {\r\n\t\t\r\n\t\tlet newPage = Number(this.state.pageNum)\r\n\t\t\r\n\t\tif (event.target.value === \"fwd\") {\r\n\t\t\tnewPage = newPage + 1\r\n\r\n\t\t\tif (newPage > this.state.subList.length/this.state.numPerPage) {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if (event.target.value === \"bck\") {\r\n\t\t\tnewPage = newPage - 1\r\n\t\t\t\r\n\t\t\tif (newPage < 0) {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t}\r\n\t\t\t\r\n\t\tthis.setState({\r\n\t\t\tpageNum: newPage\r\n\t\t})\r\n\t}\r\n\t\r\n\trender() {\r\n\t\t\r\n\t\tlet displayDivisionList = []\r\n\t\tfor (let index = 0; index < this.state.numPerPage; index++) {\r\n\t\t\t\r\n\t\t\tlet adjustedIndex = index + this.state.pageNum*this.state.numPerPage\t\t\t\r\n\t\t\tif (adjustedIndex > this.state.subList.length || adjustedIndex < 0) {\r\n\t\t\t\tcontinue\r\n\t\t\t}\r\n\t\t\tif (this.state.subList[adjustedIndex] === undefined) {\r\n\t\t\t\tcontinue\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tdisplayDivisionList.push(\r\n\t\t\t\t<li className=\"list-group-item d-flex justify-content-between align-items-center\" key={index}>\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t{this.state.subList[adjustedIndex][0][\"fullname\"]}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t{permRender[this.state.subList[adjustedIndex][1]]}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-2\">\r\n\t\t\t\t\t\t\t<button className=\"btn btn-primary\" value={adjustedIndex} onClick={this.getData}>\r\n\t\t\t\t\t\t\t\tGET!\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\tif (displayDivisionList.length === 0) {\r\n\t\t\tdisplayDivisionList.push(\r\n\t\t\t\t<div className=\"row\" key=\"0\">\r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\tServer Reported no valid Companies to select!\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\t//let showIdle = this.props.getCompanyValidDatesStatus === 0 || this.props.getCompanyValidSuggestionDatesStatus === 0 || this.props.getCompanyEHIDataStatus === 0\r\n\t\tlet showWaiting = this.props.getCompanyValidDatesStatus === 1 || this.props.getCompanyValidSuggestionDatesStatus === 1 || this.props.getCompanyEHIDataStatus === 1\r\n\t\tlet showSuccess = this.props.getCompanyValidDatesStatus === 2 || this.props.getCompanyValidSuggestionDatesStatus === 2 || this.props.getCompanyEHIDataStatus === 2\r\n\t\tlet showError = this.props.getCompanyValidDatesStatus === 3 || this.props.getCompanyValidSuggestionDatesStatus === 3 || this.props.getCompanyEHIDataStatus === 3\r\n\t\t\t\r\n\t\t//console.log(this.props.getCompanyValidDatesStatus)\r\n\t\t//console.log(this.props.getCompanyValidSuggestionDatesStatus)\r\n\t\t//console.log(this.props.getCompanyEHIDataStatus)\r\n\t\t\r\n\t\tlet errorParse = []\r\n\t\tfor (let index in this.props.getCompanyEHIDataError) {\r\n\t\t\terrorParse.push(\r\n\t\t\t\tthis.props.getCompanyEHIDataError[index][\"text\"]\r\n\t\t\t)\r\n\t\t}\r\n\t\tfor (let index in this.props.getCompanyValidSuggestionDatesError) {\r\n\t\t\terrorParse.push(\r\n\t\t\t\tthis.props.getCompanyValidSuggestionDatesError[index][\"text\"]\r\n\t\t\t)\r\n\t\t}\r\n\t\tfor (let index in this.props.getCompanyValidDatesError) {\r\n\t\t\terrorParse.push(\r\n\t\t\t\tthis.props.getCompanyValidDatesError[index][\"text\"]\r\n\t\t\t)\r\n\t\t}\r\n\t\tif (errorParse.length === 0) {\r\n\t\t\terrorParse.push(\r\n\t\t\t\t\"Unknown!\"\r\n\t\t\t)\r\n\t\t}\r\n\t\t\t\r\n\t\treturn (\r\n\t\t\t<div className=\"testPages\">\r\n\t\t\t\t<div className=\"container-fluid\">\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"row my-2\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card shadow\">\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col my-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t<h3>\r\n\t\t\t\t\t\t\t\t\t\t\t\tYour Company Divisions\r\n\t\t\t\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\t<ul className=\"list-group\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{displayDivisionList}\r\n\t\t\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<Paginator\r\n\t\t\t\t\t\t\t\t\t\tactivePage={this.state.pageNum}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tchangePrevNext={this.changePageFwdBck}\r\n\t\t\t\t\t\t\t\t\t\tchangeToNum={this.changePageTo}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\ttotalLoaded={this.state.subList.length}\r\n\t\t\t\t\t\t\t\t\t\tnumPerPage={this.state.numPerPage}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t<Alert show={showWaiting} variant=\"warning\">\r\n\t\t\t\t\t\t<Alert.Heading>Waiting</Alert.Heading>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t  Waiting for server response...\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Alert show={showSuccess} variant=\"success\">\r\n\t\t\t\t\t\t<Alert.Heading>Success!</Alert.Heading>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t  Division Data for {this.props.currentDivisionName} is Ready!\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Alert show={showError} variant=\"danger\">\r\n\t\t\t\t\t\t<Alert.Heading>Error!</Alert.Heading>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t  Failure to get the data!\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(selectCompany);","import React from \"react\";\r\n\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { Alert } from 'react-bootstrap';\r\nimport Calendar from 'react-calendar'\r\nimport 'react-calendar/dist/Calendar.css';\r\n\r\nconst suggesstionBox = (props) => {\r\n\t\r\n\tconst tileClassName = ({ date, view }) => {\r\n\t\r\n\t\t// Add class to tiles in month view only\r\n\t\tif (view === 'month') {\r\n\t\t\t\r\n\t\t\tconst checkDate = date.getFullYear()+\"-\"+date.getMonth()+\"-\"+date.getDate()\r\n\r\n\t\t\t// Check if a date React-Calendar wants to check is on the list of dates to add class to\r\n\t\t\tconst hasStuff = props.validDays.find( element => element === checkDate)\r\n\t\t\t\r\n\t\t\tif (hasStuff) {\r\n\t\t\t\treturn 'btn btn-success'\r\n\t\t\t} else {\r\n\t\t\t\t//return 'btn btn-outline-dark'\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\t\r\n\tlet keyID = 0\r\n\tlet displayData = []\r\n\t\r\n\t//console.log(props.validDays)\r\n\t//console.log(props.dataSet)\r\n\t\r\n\tfor ( let suggestion in props.dataSet ) {\r\n\t\tdisplayData.push(\r\n\t\t\t<div className=\"row m-2\" key={keyID}>\r\n\t\t\t\t<div className=\"col border\">\r\n\t\t\t\t\t{props.dataSet[suggestion].content}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t\tkeyID += 1\r\n\t}\r\n\tif ( displayData.length === 0 ) {\r\n\t\tdisplayData.push(\r\n\t\t\t<div className=\"row m-2\" key={keyID}>\r\n\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\tNo data to show!\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t\tkeyID += 1\r\n\t}\r\n\t\r\n\tif ( props.dataDay === false  ) {\r\n\t\tdisplayData = [\r\n\t\t\t<div className=\"row m-2\" key={keyID}>\r\n\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\tNo Day Selected!\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t]\r\n\t}\r\n\t\r\n\tlet currentSelectedDayFilter = undefined\r\n\tif ( props.currentDate === false ) {\r\n\t\tcurrentSelectedDayFilter = new Date()\r\n\t}\r\n\t\r\n\t//let showIdle = props.getCompanySuggestionDataStatus === 0\r\n\tlet showWaiting = props.getCompanySuggestionDataStatus === 1\r\n\tlet showSuccess = false//props.getCompanySuggestionDataStatus === 2\r\n\tlet showError = props.getCompanySuggestionDataStatus === 3\r\n\r\n\tlet errorParse = []\r\n\t//console.log( props.getCompanySuggestionDataError)\r\n\tfor (let index in props.getCompanySuggestionDataError) {\r\n\t\terrorParse.push(\r\n\t\t\tprops.getCompanySuggestionDataError[index][\"text\"]\r\n\t\t)\r\n\t}\r\n\tif (errorParse.length === 0) {\r\n\t\terrorParse.push(\r\n\t\t\t\"Unknown!\"\r\n\t\t)\r\n\t}\r\n\t\r\n\treturn (\r\n\t\t<div className=\"testPages\">\r\n\t\t\t<div className=\"container-fluid\">\r\n\t\t\t\r\n\t\t\t\t<div className=\"row m-2\">\r\n\t\t\t\t\t<div className=\"col- m-2\">\r\n\t\t\t\t\t\t<Calendar \r\n\t\t\t\t\t\t\tclassName=\"shadow\"\r\n\t\t\t\t\t\t\tonChange={props.pickDate}\r\n\t\t\t\t\t\t\tvalue={currentSelectedDayFilter}\r\n\t\t\t\t\t\t\ttileClassName={tileClassName}\r\n\r\n\t\t\t\t\t\t\tminDetail={'year'}\r\n\t\t\t\t\t\t\tmaxDetail={'month'}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"col-md-12 col-lg-6 m-2\">\r\n\t\t\t\t\t\t<div className=\"card shadow\">\r\n\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t<div>Suggestions for Date: {props.dataDay && props.dataDay.toString()}</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t{displayData}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<Alert show={showWaiting} variant=\"warning\">\r\n\t\t\t\t\t<Alert.Heading>Waiting</Alert.Heading>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t  Waiting for server response...\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t</Alert>\r\n\t\t\t\t\r\n\t\t\t\t<Alert show={showSuccess} variant=\"success\">\r\n\t\t\t\t\t<Alert.Heading>Success!</Alert.Heading>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t  Successfully obtained data!\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t</Alert>\r\n\t\t\t\t\r\n\t\t\t\t<Alert show={showError} variant=\"danger\">\r\n\t\t\t\t\t<Alert.Heading>Error!</Alert.Heading>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\t{errorParse}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t</Alert>\r\n\t\t\t</div>\t\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default withRouter(suggesstionBox);","import React from \"react\";\r\n\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { ButtonGroup, ToggleButton, Table, Accordion, Card } from 'react-bootstrap';\r\n\r\nimport Calendar from 'react-calendar'\r\nimport 'react-calendar/dist/Calendar.css';\r\n\r\nimport { ProgressBar, Alert } from 'react-bootstrap';\r\n\r\nimport { Radar, Bar } from 'react-chartjs-2';\r\nimport { frequencyBarData, testMaxMin, testBarMulti, stackedBarData3Test, stackedBarData2Test, stackedBarData, sentimentBarData } from '../../utils';\r\nimport { getBarOptionsFreq, getRadarEmotionOptions, testBarMultiOptions, stackedBarOptions, sentimentBarOptions } from '../../utils';\r\n//import { makeCompanyTestData, makeCompanyTestDataOtherFormat } from \"../../utils\";\r\n\r\n// Move all of the functions here to a seperate file, a repository, so that I can fast make layouts sometime\r\n\r\n// This is garunteed\r\nconst AIAspect = [\r\n    { name: 'Emotion', value: 'emotion' },\r\n    { name: 'Sentiment', value: 'sentiment' },\r\n    { name: 'Entities', value: 'entities' },\r\n\t{ name: 'Keywords', value: 'keywords' },\r\n\t//{ name: 'Relations', value: 'relations' },\r\n];\r\n\r\nconst convertSummaryType = [\r\n\t\"Daily\",\r\n\t\"Weekly\",\r\n\t\"Monthy\",\r\n\t\"Annual\",\r\n]\r\n\r\n// This is very lean...\r\nconst parseEmotion = (emotionData) => {\r\n\t\r\n\tlet derp = [emotionData.joy, emotionData.anger, emotionData.sadness, emotionData.disgust, emotionData.fear]\r\n\treturn derp;\r\n}\r\n\r\nclass  MultiIteration extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tselected: \"frequencyPercent\",\r\n\t\t}\t\r\n\t}\r\n\t\r\n\tchangeSelected = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tselected:event.target.id,\r\n\t\t})\r\n\t}\r\n\t\r\n\trender() {\r\n\t\t\r\n\t\tlet purity = this.props.dataSet[\"responsePurity\"]\r\n\t\t\r\n\t\tlet showPrompts = []\r\n\t\tfor (let index in this.props.givenPrompt.promptChoices) {\r\n\t\t\tshowPrompts.push(\r\n\t\t\t\t<div key={index}>\r\n\t\t\t\t\t{index + \": \" + this.props.givenPrompt.promptChoices[index]}\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\tlet displayData = {}\r\n\t\tlet buttonSet = []\r\n\t\tfor (let index in this.props.dataSet[\"data\"]) {\r\n\t\t\tlet activeSet = \"outline-\"\r\n\t\t\tif (this.state.selected === index) {\r\n\t\t\t\tactiveSet = \"\"\r\n\t\t\t\t\r\n\t\t\t\tfor (let i in this.props.givenPrompt.promptChoices) {\r\n\t\t\t\t\tif (i in this.props.dataSet.data[index]) {\r\n\t\t\t\t\t\tdisplayData[i] = this.props.dataSet.data[index][i]\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tdisplayData[i] = 0\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tbuttonSet.push(\r\n\t\t\t\t<div className={\"btn btn-\"+activeSet+\"primary\"} id={index} onClick={this.changeSelected} key={index}>\r\n\t\t\t\t\t{index}\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\tconst dataBarSet = frequencyBarData( displayData )\r\n\t\tconst barOptionsFreq = getBarOptionsFreq()\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className=\"MultiIteration\">\r\n\t\t\t\t<Accordion>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Accordion.Toggle as={Card.Header} variant=\"link\" eventKey=\"0\">\r\n\t\t\t\t\t\t<div className=\"row\" key=\"0\">\r\n\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t{this.props.givenPrompt[\"text\"]}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"row\" key=\"1\">\r\n\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t<div className=\"progressBar\">\r\n\t\t\t\t\t\t\t\t\t<ProgressBar now={ purity } label={`${purity}% Response Rate`} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Accordion.Toggle>\r\n\t\t\t\t\r\n\t\t\t\t\t<Accordion.Collapse eventKey=\"0\">\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t{buttonSet}\r\n\t\t\t\t\t\t\t\t<div className=\"row\">\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t<Bar data={dataBarSet} options={barOptionsFreq} />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t{showPrompts}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</Accordion.Collapse>\r\n\t\t\t\t\t\r\n\t\t\t\t</Accordion>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nclass LikertIteration extends React.Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tselected: \"frequencyPercent\",\r\n\t\t}\t\r\n\t}\r\n\t\r\n\tchangeSelected = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tselected:event.target.id,\r\n\t\t})\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet purity = this.props.dataSet[\"responsePurity\"]\r\n\t\t\r\n\t\tlet displayData = {}\r\n\t\tlet buttonSet = []\r\n\t\tlet magicSet = [\"Ext Dis\", \"Dis\", \"Neu\", \"Agr\", \"Ext Agr\"]\r\n\t\t\r\n\t\tfor (let index in this.props.dataSet[\"data\"]) {\r\n\t\t\tlet activeSet = \"outline-\"\r\n\t\t\tif (this.state.selected === index) {\r\n\t\t\t\tactiveSet = \"\"\r\n\t\t\t\t\r\n\t\t\t\tfor (let i in magicSet) {\r\n\t\t\t\t\tif (i in this.props.dataSet.data[index]) {\r\n\t\t\t\t\t\tdisplayData[i] = this.props.dataSet.data[index][i]\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tdisplayData[i] = 0\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tbuttonSet.push(\r\n\t\t\t\t<div className={\"btn btn-\"+activeSet+\"primary\"} id={index} onClick={this.changeSelected} key={index}>\r\n\t\t\t\t\t{index}\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\t// These come in as an object, not an array....\r\n\t\t// Shift this to accept an array?\r\n\t\tconst dataBarSet = frequencyBarData( displayData )\r\n\t\tconst barOptionsFreq = getBarOptionsFreq()\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className=\"LikertIteration\">\r\n\t\t\t\t<Accordion>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Accordion.Toggle as={Card.Header} variant=\"link\" eventKey=\"0\">\r\n\t\t\t\t\t\t<div className=\"row\" key=\"0\">\r\n\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t{this.props.givenPrompt[\"text\"]}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"row\" key=\"1\">\r\n\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t<div className=\"progressBar\">\r\n\t\t\t\t\t\t\t\t\t<ProgressBar now={ purity } label={`${purity}% Response Rate`} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Accordion.Toggle>\r\n\t\t\t\t\r\n\t\t\t\t\t<Accordion.Collapse eventKey=\"0\">\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t{buttonSet}\r\n\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t<Bar data={dataBarSet} options={barOptionsFreq} />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</Accordion.Collapse>\r\n\t\t\t\t\t\r\n\t\t\t\t</Accordion>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nclass RatingIteration extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tselected: \"frequencyPercent\",\r\n\t\t}\t\r\n\t}\r\n\t\r\n\tchangeSelected = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tselected:event.target.id,\r\n\t\t})\r\n\t}\r\n\t\r\n\trender() {\r\n\t\r\n\t\tlet magicAmount = 10\r\n\t\t\r\n\t\tlet displayData = {}\r\n\t\tlet buttonSet = []\r\n\t\tfor (let index in this.props.dataSet[\"data\"]) {\r\n\t\t\tlet activeSet = \"outline-\"\r\n\t\t\tif (this.state.selected === index) {\r\n\t\t\t\tactiveSet = \"\"\r\n\t\t\t\t\r\n\t\t\t\tfor (let i = 1; i <= magicAmount; i++) {\r\n\t\t\t\t\tif (i in this.props.dataSet.data[index]) {\r\n\t\t\t\t\t\tdisplayData[i] = this.props.dataSet.data[index][i]\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tdisplayData[i] = 0\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tbuttonSet.push(\r\n\t\t\t\t<div className={\"btn btn-\"+activeSet+\"primary\"} id={index} onClick={this.changeSelected} key={index}>\r\n\t\t\t\t\t{index}\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\tlet purity = this.props.dataSet[\"responsePurity\"]\r\n\t\tconst dataBarSet = frequencyBarData( displayData )\r\n\t\tconst barOptionsFreq = getBarOptionsFreq()\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className=\"RatingIteration\">\r\n\t\t\t\t<Accordion>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Accordion.Toggle as={Card.Header} variant=\"link\" eventKey=\"0\">\r\n\t\t\t\t\t\t<div className=\"row\" key=\"0\">\r\n\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t{this.props.givenPrompt[\"text\"]}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"row\" key=\"1\">\r\n\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t<div className=\"progressBar\">\r\n\t\t\t\t\t\t\t\t\t<ProgressBar now={ purity } label={`${purity}% Response Rate`} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Accordion.Toggle>\r\n\t\t\t\t\r\n\t\t\t\t\t<Accordion.Collapse eventKey=\"0\">\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t{buttonSet}\r\n\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t<Bar data={dataBarSet} options={barOptionsFreq} />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</Accordion.Collapse>\r\n\t\t\t\t\t\r\n\t\t\t\t</Accordion>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nclass JournalIteration extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tselectedAspect: \"emotion\",\r\n\t\t}\t\r\n\t}\r\n\t\r\n\tsetAspect = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tselectedAspect:event.currentTarget.value\r\n\t\t})\r\n\t}\r\n\t\r\n\trender() {\r\n\t\t\r\n\t\tlet purity = this.props.dataSet[\"responsePurity\"]\r\n\t\tif (purity < 0) {\r\n\t\t\tpurity = 0\r\n\t\t}\r\n\t\t\r\n\t\tlet dataSet = this.props.dataSet[\"data\"][this.state.selectedAspect]\r\n\t\t\r\n\t\tlet displayStats = []\r\n\t\tlet tableDisplay = []\r\n\t\t\r\n\t\tif (!(dataSet === null) && !(dataSet === undefined)) {\r\n\t\t\t\r\n\t\t\t// Check to see if we actually HAVE any data just before we do this...\r\n\t\t\ttry{\r\n\t\t\t\tswitch(this.state.selectedAspect) {\r\n\t\t\t\t\tcase \"emotion\":\r\n\t\t\t\t\t\tlet emoMax = parseEmotion( dataSet.max )\r\n\t\t\t\t\t\tlet emoAve = parseEmotion( dataSet.ave )\r\n\t\t\t\t\t\tlet emoMin = parseEmotion( dataSet.min )\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tconst dataDocumentEmo = testMaxMin( emoMax, emoAve, emoMin )\r\n\t\t\t\t\t\tconst radarOptions = getRadarEmotionOptions()\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tlet emoThresh = parseEmotion( dataSet.threshold )\r\n\t\t\t\t\t\tconst dataBar = testBarMulti( emoThresh )\r\n\t\t\t\t\t\tconst barOptions = testBarMultiOptions()\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tdisplayStats.push(\r\n\t\t\t\t\t\t\t<Table bordered responsive key=\"2\">\r\n\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Emotion Data</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Num Journals in data</th>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t<tr key={0}>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"row\"> <Radar data={dataDocumentEmo} options={radarOptions} /> </th>\r\n\t\t\t\t\t\t\t\t\t\t<td> <Bar data={dataBar} options={barOptions} /> </td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'sentiment':\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tconst dataBarStack = stackedBarData( [dataSet.min], [dataSet.ave], [dataSet.max] )\r\n\t\t\t\t\t\tconst barStackOptions = stackedBarOptions()\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tlet dataTresh = [dataSet.thresholdPos, dataSet.thresholdNeg]\r\n\t\t\t\t\t\tconst dataBarNorm = sentimentBarData( dataTresh )\r\n\t\t\t\t\t\tconst barOptionsNorm = sentimentBarOptions()\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t//<th scope=\"col\">Whole Journal Emotion Data</th>\r\n\t\t\t\t\t\tdisplayStats.push(\r\n\t\t\t\t\t\t\t<Table bordered responsive key=\"2\">\r\n\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Sentiment Values</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Num Journals in data</th>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t<tr key={0}>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"row\"><Bar data={dataBarStack} options={barStackOptions} /></th>\r\n\t\t\t\t\t\t\t\t\t\t<td><Bar data={dataBarNorm} options={barOptionsNorm} /></td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'entities':\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t//console.log(dataSet)\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tfor (let index in dataSet) {\r\n\t\t\t\t\t\t\tlet entity = dataSet[index]\r\n\t\t\t\t\t\t\t//console.log(entity)\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tlet emoMax = parseEmotion( entity.emotion.max )\r\n\t\t\t\t\t\t\tlet emoAve = parseEmotion( entity.emotion.ave )\r\n\t\t\t\t\t\t\tlet emoMin = parseEmotion( entity.emotion.min )\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tlet emoData = testMaxMin( emoMax, emoAve, emoMin )\r\n\t\t\t\t\t\t\tlet emoOptions = getRadarEmotionOptions()\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tconst dataEntSent = stackedBarData3Test( \r\n\t\t\t\t\t\t\t\t[entity.confidence.min, entity.relevance.min, entity.sentiment.min],\r\n\t\t\t\t\t\t\t\t[entity.confidence.ave, entity.relevance.ave, entity.sentiment.ave],\r\n\t\t\t\t\t\t\t\t[entity.confidence.max, entity.relevance.max, entity.sentiment.max],\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\tconst dataEntOptions = stackedBarOptions()\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\ttableDisplay.push(\r\n\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"row\">{entity.text}</th>\r\n\t\t\t\t\t\t\t\t\t<td>{entity.type}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{entity.count}</td>\r\n\t\t\t\t\t\t\t\t\t<td colSpan=\"3\"><Bar data={dataEntSent} options={dataEntOptions} /></td>\r\n\t\t\t\t\t\t\t\t\t<td><Radar data={emoData} options={emoOptions} /></td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (tableDisplay.length === 0) {\r\n\t\t\t\t\t\t\ttableDisplay.push(\r\n\t\t\t\t\t\t\t\t<tr key={0}>\r\n\t\t\t\t\t\t\t\t\t<td colSpan=\"7\">\"Nothing!\"</td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tdisplayStats.push(\r\n\t\t\t\t\t\t\t<Table bordered responsive key=\"2\">\r\n\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Name</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Type</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">#Appearances</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Confidence</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Relevance</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Sentiment</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Emotion</th>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t{tableDisplay}\r\n\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'keywords':\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t//console.log(dataSet)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tfor (let index in dataSet) {\r\n\t\t\t\t\t\t\tlet keyData = dataSet[index]\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t//const dataKeySent = stackedBarData( [keyData.sentiment.min], [keyData.sentiment.ave], [keyData.sentiment.max] )\r\n\t\t\t\t\t\t\t//const dataKeyOptions = stackedBarOptions()\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tlet emoMax = parseEmotion( keyData.emotion.max )\r\n\t\t\t\t\t\t\tlet emoAve = parseEmotion( keyData.emotion.ave )\r\n\t\t\t\t\t\t\tlet emoMin = parseEmotion( keyData.emotion.min )\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tconst dataRadar = testMaxMin( emoMax, emoAve, emoMin )\r\n\t\t\t\t\t\t\tconst dataRadarOptions = getRadarEmotionOptions()\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tconst dataKeySent = stackedBarData2Test(\r\n\t\t\t\t\t\t\t\t[keyData.relevance.min, keyData.sentiment.min], \r\n\t\t\t\t\t\t\t\t[keyData.relevance.ave, keyData.sentiment.ave], \r\n\t\t\t\t\t\t\t\t[keyData.relevance.max, keyData.sentiment.max] \r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\tconst dataKeyOptions = stackedBarOptions()\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\ttableDisplay.push(\r\n\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"row\">{keyData.text}</th>\r\n\t\t\t\t\t\t\t\t\t<td>{keyData.count}</td>\r\n\t\t\t\t\t\t\t\t\t<td colSpan=\"2\"><Bar data={dataKeySent} options={dataKeyOptions} /></td>\r\n\t\t\t\t\t\t\t\t\t<td><Radar data={dataRadar} options={dataRadarOptions} /></td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (tableDisplay.length === 0) {\r\n\t\t\t\t\t\t\ttableDisplay.push(\r\n\t\t\t\t\t\t\t\t<tr key={0}>\r\n\t\t\t\t\t\t\t\t\t<td colSpan=\"5\">\"Nothing!\"</td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tdisplayStats.push(\r\n\t\t\t\t\t\t\t<Table bordered responsive key=\"2\">\r\n\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Name</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">#Appearances</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Relevance Score</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Sentiment</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Emotion</th>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t{tableDisplay}\r\n\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'relations':\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t//console.log(dataSet)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tfor (let index in dataSet) {\r\n\t\t\t\t\t\t\tlet relData = dataSet[index]\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tconst scoreData = stackedBarData( [relData.score.min], [relData.score.ave], [relData.score.max] )\r\n\t\t\t\t\t\t\tconst scoreOptions = sentimentBarOptions()\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\ttableDisplay.push(\r\n\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"row\">{relData.count}</th>\r\n\t\t\t\t\t\t\t\t\t<td>{relData.arguments[0].text}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{relData.type}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{relData.arguments[1].text}</td>\r\n\t\t\t\t\t\t\t\t\t<td style={{width:\"30%\"}}><Bar data={scoreData} options={scoreOptions} /></td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (tableDisplay.length === 0) {\r\n\t\t\t\t\t\t\ttableDisplay.push(\r\n\t\t\t\t\t\t\t\t<tr key={0}>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"row\">\"Nothing!\"</th>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tdisplayStats.push(\r\n\t\t\t\t\t\t\t<Table bordered responsive key=\"2\">\r\n\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">#Appearances</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Actor</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Action</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Target</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Score</th>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t{tableDisplay}\r\n\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tconsole.log(\"Invalid AI selection somehow\")\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\tcatch (error) {\r\n\t\t\t\t\r\n\t\t\t\tdisplayStats.push(\r\n\t\t\t\t\t<div className=\"row m-2 border\" key=\"2\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<p>There was no data to read!</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\t// There was NO DATA in the day here, so we have to display nothing...\r\n\t\t\t\r\n\t\t\tdisplayStats.push(\r\n\t\t\t\t<div className=\"row m-2 border\" key=\"2\">\r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<p>There was no data to read!</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className=\"JournalIteration\">\r\n\t\t\t\t<Accordion>\r\n\t\t\t\t\r\n\t\t\t\t\t<Accordion.Toggle as={Card.Header} variant=\"link\" eventKey=\"0\">\r\n\t\t\t\t\t\t<div className=\"row\" key=\"0\">\r\n\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t{this.props.givenPrompt[\"text\"]}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"row\" key=\"1\">\r\n\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t<div className=\"progressBar\">\r\n\t\t\t\t\t\t\t\t\t<ProgressBar now={ purity } label={`${purity}% Response Rate`} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Accordion.Toggle>\r\n\t\t\t\t\r\n\t\t\t\t\t<Accordion.Collapse eventKey=\"0\">\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t<div className=\"row my-2\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t<ButtonGroup toggle>\r\n\t\t\t\t\t\t\t\t\t\t\t{AIAspect.map((radio, idx) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ToggleButton\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={idx}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"radio\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"info\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"radio\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={radio.value}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={this.state.selectedAspect === radio.value}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.setAspect}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{radio.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ToggleButton>\r\n\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t</ButtonGroup>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t{displayStats}\r\n\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</Accordion.Collapse>\r\n\t\t\t\t\t\r\n\t\t\t\t</Accordion>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst companyViewSummary = (props) => {\r\n\t\r\n\tlet showResult = []\r\n\tlet currentSummaryDate = props.currentDate\r\n\t\r\n\tif (!(props.dataSet === undefined) ) { \r\n\r\n\t\tcurrentSummaryDate = props.dataSet[\"forDate\"]\r\n\t\t\r\n\t\tlet i = 0\r\n\t\tfor (let index in props.dataSet.summaryResult) {\r\n\t\t\tlet promptType = -1\r\n\t\t\t\r\n\t\t\tlet promptSet = {\"text\":\"No Text!\"}\r\n\t\t\ttry {\r\n\t\t\t\tpromptSet = props.dataSet[\"promptList\"].find( element => element.identifier === index )\r\n\t\t\t\tpromptType = promptSet[\"promptType\"]\r\n\t\t\t}\r\n\t\t\tcatch (error) {}\r\n\t\t\t\r\n\t\t\t//console.log(props.dataSet.summaryResult[index])\r\n\t\t\t// What about the order of things?\r\n\t\t\t// It will normally be in the order on the site...\r\n\t\t\t// I may have to prioritise reordering this\r\n\t\t\t\r\n\t\t\tlet promptBody = \"No Prompt!\"\r\n\t\t\tswitch ( promptType ) {\r\n\t\t\t\t// Journal!\r\n\t\t\t\tcase 0:\r\n\t\t\t\t\tpromptBody = <JournalIteration\r\n\t\t\t\t\t\tgivenPrompt={promptSet}\r\n\t\t\t\t\t\tdataSet={props.dataSet.summaryResult[index]}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t// Likert\r\n\t\t\t\tcase 1:\r\n\t\t\t\t\tpromptBody = <LikertIteration\r\n\t\t\t\t\t\tgivenPrompt={promptSet}\r\n\t\t\t\t\t\tdataSet={props.dataSet.summaryResult[index]}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t// Rating\r\n\t\t\t\tcase 2:\r\n\t\t\t\t\tpromptBody = <RatingIteration\r\n\t\t\t\t\t\tgivenPrompt={promptSet}\r\n\t\t\t\t\t\tdataSet={props.dataSet.summaryResult[index]}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t// Multi\r\n\t\t\t\tcase 3:\r\n\t\t\t\t\tpromptBody = <MultiIteration\r\n\t\t\t\t\t\tgivenPrompt={promptSet}\r\n\t\t\t\t\t\tdataSet={props.dataSet.summaryResult[index]}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tpromptBody = promptBody = <JournalIteration\r\n\t\t\t\t\t\tgivenPrompt={ {\"text\":\"No Prompt!\"} }\r\n\t\t\t\t\t\tdataSet={props.dataSet.summaryResult[index]}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//console.log(props.dataSet.summaryResult[index])\r\n\t\t\t\r\n\t\t\tshowResult.push(\r\n\t\t\t\t<div className=\"row\" key={i}>\r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<div>{promptBody}</div>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t\ti += 1\r\n\t\t}\r\n\t}\r\n\t\r\n\tif (showResult.length === 0) {\r\n\t\tshowResult.push(\r\n\t\t\t<div className=\"row\" key={0}>\r\n\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t<div>No Data to Display!</div>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\t\r\n\tconst tileClassName = ({ date, view }) => {\r\n\t\r\n\t\tlet hasSummary = false\r\n\t\tlet numValues = 0\r\n\t\t\r\n\t\tlet year = String( date.getFullYear() )\r\n\t\tlet month =\tString( date.getMonth()+1 )\r\n\r\n\t\tif (month < 10) {\r\n\t\t\tmonth = \"0\"+month\r\n\t\t}\r\n\t\t\r\n\t\tlet day = String(date.getDate())\r\n\t\tif (day < 10) {\r\n\t\t\tday = \"0\"+day\r\n\t\t}\r\n\t\t\r\n\t\tconst checkDate = year+\"-\"+month+\"-\"+day\r\n\t\r\n\t\t// Add class to tiles in month view only\r\n\t\tif (view === 'month') {\r\n\t\t\t// Check if a date React-Calendar wants to check is on the list of dates to add class to\r\n\t\t\ttry {\r\n\t\t\t\thasSummary = props.validSummaryDates['day'].find( element => element['date'] === checkDate)\r\n\t\t\t\tnumValues = hasSummary['num']\r\n\t\t\t}\r\n\t\t\tcatch {\r\n\t\t\t\t// This should trigger if DAY is not in the validSummaryDates\r\n\t\t\t\t// Basically just skipping it\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif (hasSummary) {\r\n\t\t\tif (numValues > 0) {\r\n\t\t\t\treturn 'btn btn-success'\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\treturn 'btn btn-warning'\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t//return 'btn btn-outline-dark'\r\n\t\t}\r\n\t\t\t\r\n\t}\r\n\t\r\n\tlet messageLine1 = \"Showing Company Summary for: \" + props.currentCompany\r\n\tlet messageLine2 = \"For Date: \" + currentSummaryDate\r\n\tlet messageLine3 = \"Summary Type: \" + convertSummaryType[props.summaryType]\r\n\t\r\n\t//let showIdle = props.getCompanyWeeklySummaryStatus === 0\r\n\tlet showWaiting = props.getCompanyWeeklySummaryStatus === 1\r\n\tlet showSuccess = false//props.getCompanyWeeklySummaryStatus === 2\r\n\tlet showError = props.getCompanyWeeklySummaryStatus === 3\r\n\t\r\n\tif (showWaiting) {\r\n\t\tmessageLine1 = \"Please Wait...\"\r\n\t\tmessageLine2 = \"Loading\"\r\n\t\tmessageLine3 = \"...\"\r\n\t}\r\n\t\r\n\tlet errorParse = []\r\n\t\tfor (let index in props.getCompanyWeeklySummaryError) {\r\n\t\t\terrorParse.push(\r\n\t\t\t\tprops.getCompanyWeeklySummaryError[index][\"text\"]\r\n\t\t\t)\r\n\t\t}\r\n\t\tif (errorParse.length === 0) {\r\n\t\t\terrorParse.push(\r\n\t\t\t\t\"Unknown!\"\r\n\t\t\t)\r\n\t\t}\r\n\t\r\n\treturn (\r\n\t\t<div className=\"companyView\">\r\n\t\t\t<div className=\"container-fluid\">\r\n\t\t\t\t\r\n\t\t\t\t<div className=\"row m-2 justify-content-center\">\r\n\t\t\t\t\t<div className=\"col- m-2\">\t\t\t\t\t\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<Calendar \r\n\t\t\t\t\t\t\t\tclassName=\"shadow\"\r\n\t\t\t\t\t\t\t\tonChange={props.pickDate}\r\n\t\t\t\t\t\t\t\tvalue={props.currentDate}\r\n\t\t\t\t\t\t\t\ttileClassName={tileClassName}\r\n\r\n\t\t\t\t\t\t\t\tminDetail={'year'}\r\n\t\t\t\t\t\t\t\tmaxDetail={'month'}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<div className=\"row m-2\">\r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<div className=\"card shadow\">\r\n\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t<div>{messageLine1}</div>\r\n\t\t\t\t\t\t\t\t<div>{messageLine2}</div>\r\n\t\t\t\t\t\t\t\t<div>{messageLine3}</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t{showResult}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<Alert show={showWaiting} variant=\"warning\">\r\n\t\t\t\t\t<Alert.Heading>Waiting</Alert.Heading>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t  Waiting for server response...\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t</Alert>\r\n\t\t\t\t\r\n\t\t\t\t<Alert show={showSuccess} variant=\"success\">\r\n\t\t\t\t\t<Alert.Heading>Success!</Alert.Heading>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t  Successfully obtained data!\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t</Alert>\r\n\t\t\t\t\r\n\t\t\t\t<Alert show={showError} variant=\"danger\">\r\n\t\t\t\t\t<Alert.Heading>Error!</Alert.Heading>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\t{errorParse}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t</Alert>\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default withRouter(companyViewSummary);","import React from \"react\";\r\nimport { Search } from 'react-bootstrap-icons';\r\n\r\nimport { withRouter, } from \"react-router-dom\";\r\nimport { Alert } from 'react-bootstrap';\r\n\r\nimport { Loading } from \"..\"\r\n\r\nimport { APIGetSearchPrompts, APIGetDivisionEvents, APISetDivisionEvents, APIDeleteDivisionEvents, APISetNonDivisionEvents } from \"../../utils\";\r\nconst debugPageName = \"Division Prompts\"\r\n\r\nconst triggerType = [\r\n\t\"Never\",\r\n\t\"Always\",\r\n\t\"On Monday\",\r\n\t\"On Tuesday\",\r\n\t\"On Wednesday\",\r\n\t\"On Thursday\",\r\n\t\"On Friday\",\r\n\t\"On Saturday\",\r\n\t\"On Sunday\",\r\n]\r\n\r\nconst promptType = [\r\n\t\"Open\",\r\n\t\"Likert\",\r\n\t\"Rating\",\r\n\t\"Multi\",\r\n\t\"Boolean\",\r\n]\r\n\r\n// Move this to a util later.... Its used in CompanyPrompts, SelectCompany and Suggestions....\r\nclass Paginator extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n        super(props);\r\n\t\tthis.state = {\r\n\t\t\tbtnLen: 2,\r\n\t\t}\r\n\t}\r\n\t\r\n\trender() {\r\n\t\t\r\n\t\tlet prevAlter = \"\"\r\n\t\tlet nextAlter = \"\"\r\n\t\t\r\n\t\tif (this.props.activePage <= 0) {\r\n\t\t\tprevAlter = \"disabled\"\r\n\t\t}\r\n\r\n\t\tif (this.props.activePage >= this.props.totalLoaded/this.props.numPerPage-1) {\r\n\t\t\tnextAlter = \"disabled\"\r\n\t\t}\r\n\t\t\r\n\t\tlet numberButtons = []\r\n\t\tfor (let i = -this.state.btnLen; i <= this.state.btnLen; i++) {\r\n\t\t\tlet altered = \"\"\r\n\t\t\t\r\n\t\t\tlet altI = i+this.props.activePage\r\n\t\t\tif (altI < 0 || altI >= this.props.totalLoaded/this.props.numPerPage) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (i === 0) {\r\n\t\t\t\taltered = \"active \"\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tnumberButtons.push(\r\n\t\t\t\t<button key={i} className={\"btn btn-outline-primary \" + altered} value={altI} onClick={this.props.changeToNum}>\r\n\t\t\t\t\t{altI}\r\n\t\t\t\t</button>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className = \"paginator\">\r\n\t\t\t\t<div className = \"container\">\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<button className={\"btn btn-outline-primary \" + prevAlter} value=\"bck\" onClick={this.props.changePrevNext}>\r\n\t\t\t\t\t\t\t\tPrev\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t{numberButtons}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<button className={\"btn btn-outline-primary \" + nextAlter} value=\"fwd\" onClick={this.props.changePrevNext}>\r\n\t\t\t\t\t\t\t\tNext\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nclass PromptDisplay extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n        super(props);\r\n\t\tthis.state = {\r\n\t\t\t\r\n\t\t\teventsGlobBin: [],\r\n\t\t\teventsCompBin: [],\r\n\t\t\teventsDivBin: [],\r\n\t\t\t\r\n\t\t\tpromptsBin: [],\r\n\t\t\t\r\n\t\t\tfilterTypeFlags: this.initTypeFlags(),\r\n\t\t\tfilterNameFlags: this.initNameFlags(),\r\n\t\t\t\r\n\t\t\tpageNum: 0,\r\n\t\t\tnumPerPage: 5,\r\n\t\t\t\r\n\t\t\tsearchText: \"\",\r\n\t\t\tsearchType: \"text\",\r\n\t\t\t\r\n\t\t\thasSent: false,\r\n\t\t\t\r\n\t\t\tlastClickedEventIndex: -1,\r\n\t\t\t\r\n\t\t\taddedPrompt: 0,\r\n\t\t\t\r\n\t\t\tgetEventsStatus: 0,\r\n\t\t\tgetEventsError: [],\r\n\t\t\t\r\n\t\t\tsaveEventStatus: 0,\r\n\t\t\tsaveEventError: [],\r\n\t\t\t\r\n\t\t\tsearchForStatus: 0,\r\n\t\t\tsearchForError: [],\r\n\t\t\t\r\n\t\t\tdeleteEventStatus: 0,\r\n\t\t\tdeleteEventError: [],\r\n\t\t}\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tthis.getEvents()\r\n\t};\r\n\t\r\n\tinitTypeFlags = () => {\r\n\t\tlet createdList = []\r\n\t\tfor (let i = 0; i < promptType.length; i++) {\r\n\t\t\tcreatedList.push(true)\r\n\t\t}\r\n\t\t\r\n\t\treturn createdList\r\n\t}\r\n\t\r\n\tinitNameFlags = () => {\r\n\t\tlet createdList = []\r\n\t\tfor (let i = 0; i < this.props.validFilters.length; i++) {\r\n\t\t\tcreatedList.push(false)\r\n\t\t}\r\n\t\t\r\n\t\treturn createdList\r\n\t}\r\n\t\r\n\tchangeFilterType1 = (event) => {\r\n\t\tlet alteredFlags = this.state.filterTypeFlags.slice()\r\n\t\t\r\n\t\talteredFlags[Number(event.target.value)] = !alteredFlags[Number(event.target.value)]\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tfilterTypeFlags: alteredFlags,\r\n\t\t})\r\n\t}\r\n\tchangeFilterType2 = (event) => {\r\n\t\t\r\n\t\tlet alteredFlags = this.state.filterNameFlags.slice()\r\n\t\t\r\n\t\talteredFlags[Number(event.target.value)] = !alteredFlags[Number(event.target.value)]\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tfilterNameFlags: alteredFlags,\r\n\t\t})\r\n\t}\r\n\t\r\n\tsetLastClickedEvent = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tlastClickedEventIndex: Number(event.target.value)\r\n\t\t})\r\n\t}\r\n\t\r\n\tgetEventsFailure = (responseData) => {\r\n\t\tlet returnData = []\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.debugSet(debugPageName, \"Refresh Triggered\", \"Get Division Events\")\r\n\t\t\tthis.props.refreshToken(this.getEvents)\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageName, \"Get Division Events\", \"Failure\")\r\n\t\treturnData = responseData['messages']\r\n\t\tthis.setState({\r\n\t\t\tgetEventsStatus: 3,\r\n\t\t\tgetEventsError: returnData,\r\n\t\t})\r\n\t}\r\n\tgetEventsSuccess = (incomingEvents) => {\r\n\t\t//console.log(this.props.currentDivisionID)\r\n\t\t\r\n\t\t// I need to sort these here....\r\n\t\t//console.log(incomingEvents)\r\n\t\t\r\n\t\tlet sortedGlobal = []\r\n\t\tlet sortedCompany = []\r\n\t\tlet sortedDivision = []\r\n\t\t\r\n\t\tfor (let index in incomingEvents) {\r\n\t\t\t\r\n\t\t\t// This should be global...\r\n\t\t\tif (incomingEvents[index][\"creatorCompany\"] === null) {\r\n\t\t\t\tsortedGlobal.push(incomingEvents[index])\r\n\t\t\t}\r\n\t\t\t// This should be This Division...\r\n\t\t\telse if (incomingEvents[index][\"creatorDivision\"] === this.props.currentDivisionID) {\r\n\t\t\t\tsortedDivision.push(incomingEvents[index])\r\n\t\t\t}\r\n\t\t\t// This should be this Company shared stuff...\r\n\t\t\telse {\r\n\t\t\t\t// Ignore the non-Shared Events!\r\n\t\t\t\tif (incomingEvents[index][\"sharingEnabled\"] || incomingEvents[index][\"usedBy\"]) {\r\n\t\t\t\t\tsortedCompany.push(incomingEvents[index])\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageName, \"Get Division Events\", \"Success\")\r\n\t\tthis.setState({\r\n\t\t\teventsGlobBin: sortedGlobal,\r\n\t\t\teventsCompBin: sortedCompany,\r\n\t\t\teventsDivBin: sortedDivision,\r\n\t\t\t\r\n\t\t\tgetEventsStatus: 2,\r\n\t\t})\r\n\t}\r\n\tgetEvents = () => {\r\n\t\tif (!(this.props.currentDivisionID === -1)) {\r\n\t\t\tlet checkData = undefined\r\n\t\t\tif (checkData === undefined) {\r\n\t\t\t\tAPIGetDivisionEvents(  this.props.currentDivisionID, this.getEventsSuccess, this.getEventsFailure )\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tgetEventsStatus: 1,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t//getEventsSuccess( ??? )\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\t//console.log(\"MOVE IT BACK TO THE SELECT COMPANY HERE!\")\r\n\t\t\tthis.props.history.push(this.props.redirectErrorPath)\r\n\t\t}\r\n\t}\r\n\t\r\n\tsaveEventsFailure = (responseData) => {\r\n\t\tlet returnData = []\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.debugSet(debugPageName, \"Refresh Triggered\", \"Get Division Events\")\r\n\t\t\tthis.props.refreshToken(this.tokenHasRefreshedError)\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageName, \"Save Division Events\", \"Failure\")\r\n\t\treturnData = responseData['messages']\r\n\t\tthis.setState({\r\n\t\t\tsaveEventStatus: 3,\r\n\t\t\tsaveEventError: returnData,\r\n\t\t})\r\n\t}\r\n\tsaveEventsSuccess = (savedIndex, incomingMessage) => {\r\n\t\tif ( !this.state.eventsDivBin[savedIndex][\"isSaved\"] ) {\r\n\t\t\tlet temp = this.state.eventsDivBin.slice()\r\n\t\t\ttemp[savedIndex][\"id\"] = Number(incomingMessage.split(\":\")[1])\r\n\t\t\ttemp[savedIndex][\"isSaved\"] = true\r\n\r\n\t\t\tthis.setState({\r\n\t\t\t\teventsDivBin: temp,\r\n\t\t\t})\r\n\t\t}\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageName, \"Save Division Events\", \"Success\")\r\n\t\tthis.setState({\r\n\t\t\tsaveEventStatus: 2,\r\n\t\t})\r\n\t}\r\n\tsaveDivEvent = (event) => {\r\n\t\tlet selectedEvent = this.state.eventsDivBin[event.target.value]\r\n\r\n\t\tlet id = selectedEvent[\"id\"]\r\n\t\tlet newTrigger = selectedEvent[\"triggerType\"]\r\n\t\tlet newEnabledDiv = selectedEvent[\"usedBy\"]\r\n\t\tlet newEnabled = selectedEvent[\"sharingEnabled\"]\r\n\t\t\r\n\t\tlet newPrompts = []\r\n\t\tfor (let index in selectedEvent[\"promptPool\"]) {\r\n\t\t\tnewPrompts.push( selectedEvent[\"promptPool\"][index][\"identifier\"] )\r\n\t\t}\r\n\t\t\r\n\t\tAPISetDivisionEvents( Number(event.target.value), id, this.props.currentDivisionID, newEnabledDiv, newEnabled, newTrigger, newPrompts, this.saveEventsSuccess, this.saveEventsFailure )\r\n\t\tthis.setState({\r\n\t\t\tsaveEventStatus: 0,\r\n\t\t})\r\n\t}\r\n\t\r\n\tsaveNonDivEventsFailure = (responseData) => {\r\n\t\tlet returnData = []\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.debugSet(debugPageName, \"Refresh Triggered\", \"Save Non-Division Data\")\r\n\t\t\tthis.props.refreshToken(this.tokenHasRefreshedError)\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageName, \"Save Non-Division Events\", \"Success\")\r\n\t\treturnData = responseData['messages']\r\n\t\tthis.setState({\r\n\t\t\tsaveEventStatus: 3,\r\n\t\t\tsaveEventError: returnData,\r\n\t\t})\r\n\t}\r\n\tsaveGlobventsSuccess = (savedIndex, incomingMessage) => {\r\n\t\tthis.props.debugSet(debugPageName, \"Save Non-Division Events\", \"Success\")\r\n\t\t\r\n\t\tlet temp = this.state.eventsGlobBin.slice()\r\n\t\ttemp[savedIndex][\"isSaved\"] = true\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tsaveEventStatus: 2,\r\n\t\t\teventsGlobBin: temp,\r\n\t\t})\r\n\t}\r\n\tsaveCompEventsSuccess = (savedIndex, incomingMessage) => {\r\n\t\tthis.props.debugSet(debugPageName, \"Save Non-Division Events\", \"Success\")\r\n\t\t\r\n\t\tlet temp = this.state.eventsCompBin.slice()\r\n\t\ttemp[savedIndex][\"isSaved\"] = true\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tsaveEventStatus: 2,\r\n\t\t\teventsCompBin: temp,\r\n\t\t})\r\n\t}\r\n\tsaveGlobEvent = (event) => {\r\n\t\tlet selectedEvent = this.state.eventsGlobBin[event.target.value]\r\n\r\n\t\tlet id = selectedEvent[\"id\"]\r\n\t\tlet newEnabledDiv = selectedEvent[\"usedBy\"]\r\n\t\t\r\n\t\tAPISetNonDivisionEvents( Number(event.target.value), id, this.props.currentDivisionID, newEnabledDiv, this.saveGlobventsSuccess, this.saveNonDivEventsFailure )\r\n\t\tthis.setState({\r\n\t\t\tsaveEventStatus: 0,\r\n\t\t})\r\n\t}\r\n\tsaveCompEvent = (event) => {\r\n\t\tlet selectedEvent = this.state.eventsCompBin[event.target.value]\r\n\r\n\t\tlet id = selectedEvent[\"id\"]\r\n\t\tlet newEnabledDiv = selectedEvent[\"usedBy\"]\r\n\t\t\r\n\t\tAPISetNonDivisionEvents( Number(event.target.value), id, this.props.currentDivisionID, newEnabledDiv, this.saveCompEventsSuccess, this.saveNonDivEventsFailure )\r\n\t\tthis.setState({\r\n\t\t\tsaveEventStatus: 0,\r\n\t\t})\r\n\t}\r\n\t\r\n\tsearchForPromptsFailure = (responseData) => {\r\n\t\tlet returnData = []\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.debugSet(debugPageName, \"Refresh Triggered\", \"Search Prompts\")\r\n\t\t\tthis.props.refreshToken(this.searchForPrompts)\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageName, \"Search Prompts\", \"Failure\")\r\n\t\treturnData = responseData['messages']\r\n\t\tthis.setState({\r\n\t\t\tsearchForStatus: 3,\r\n\t\t\tsearchForError: returnData,\r\n\t\t})\r\n\t}\r\n\tsearchForPromptsCallback = (incomingPrompts) => {\r\n\r\n\t\tthis.props.debugSet(debugPageName, \"Search Prompts\", \"Success\")\r\n\t\tthis.setState({\r\n\t\t\tpromptsBin: incomingPrompts,\r\n\t\t\thasSent: true,\r\n\t\t\t\r\n\t\t\tsearchForStatus: 2,\r\n\t\t})\r\n\t}\r\n\tsearchForPrompts = () => {\r\n\t\t\r\n\t\tlet filterTypeSet = []\r\n\t\tfor (let index in this.state.filterTypeFlags) {\r\n\t\t\tif (this.state.filterTypeFlags[index]) {\r\n\t\t\t\tfilterTypeSet.push(index)\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tlet filterNameSet = []\r\n\t\tfor (let index in this.state.filterNameFlags) {\r\n\t\t\tif (this.state.filterNameFlags[index]) {\r\n\t\t\t\tfilterNameSet.push(this.props.validFilters[index])\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tlet checkData = undefined\r\n\t\tif (checkData === undefined) {\r\n\t\t\t//console.log(\"Prompts are not in storage!\")\r\n\t\t\tAPIGetSearchPrompts( this.state.searchText, filterTypeSet, filterNameSet, this.searchForPromptsCallback, this.searchForPromptsFailure)\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tsearchForStatus: 1,\r\n\t\t\t})\r\n\t\t}\r\n\t\telse {\r\n\t\t\tconsole.log(\"Prompts ARE in storage!\")\r\n\t\t\t//this.searchForPromptsCallback(checkData.???, checkData.???)\r\n\t\t}\r\n\t}\r\n\t\r\n\tdeleteEventFailure = (responseData) => {\r\n\t\tlet returnData = []\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.debugSet(debugPageName, \"Refresh Triggered\", \"Delete Events\")\r\n\t\t\tthis.props.refreshToken(this.tokenHasRefreshedError)\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageName, \"Delete Events\", \"Failure\")\r\n\t\treturnData = responseData['messages']\r\n\t\tthis.setState({\r\n\t\t\tdeleteEventStatus: 3,\r\n\t\t\tdeleteEventError: returnData,\r\n\t\t})\r\n\t}\r\n\tdeleteEventCallback = (storedID, incomingMessage) => {\r\n\t\t\r\n\t\tlet valueInt = Number(storedID)\r\n\t\tlet temp = this.state.eventsDivBin.slice()\r\n\t\ttemp.splice(valueInt,1)\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageName, \"Delete Events\", \"Success\")\r\n\t\tthis.setState({\r\n\t\t\teventsDivBin: temp,\r\n\t\t})\r\n\t\t\r\n\t\tif (incomingMessage !== 0) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tdeleteEventStatus: 2,\r\n\t\t\t})\r\n\t\t}\r\n\t\t\r\n\t}\r\n\tdeleteEvent = (event) => {\r\n\t\tlet selectedEvent = this.state.eventsDivBin[ Number(event.target.value) ]\r\n\r\n\t\tlet id = selectedEvent[\"id\"]\r\n\t\t\r\n\t\tif (!selectedEvent[\"isSaved\"]) {\r\n\t\t\tthis.deleteEventCallback( Number(event.target.value), 0)\r\n\t\t}\r\n\t\telse{\t\t\t\r\n\t\t\tAPIDeleteDivisionEvents( Number(event.target.value), id, this.props.currentDivisionID, this.deleteEventCallback, this.deleteEventFailure )\r\n\t\t\tthis.setState({\r\n\t\t\t\tdeleteEventStatus: 1,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tcreateEvent = () => {\r\n\t\tlet newEvents = this.state.eventsDivBin.slice()\r\n\t\t\r\n\t\t// I can proboly replace the \"isSaved\" with an id of -1?\r\n\t\tnewEvents.push(\r\n\t\t\t{\"id\":-1, \"triggerType\":0, \"promptPool\":[], \"sharingEnabled\":true, \"usedBy\":false, \"isSaved\":false}\r\n\t\t)\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\teventsDivBin: newEvents,\r\n\t\t})\r\n\t}\r\n\t\r\n\tchangeInput = (event) => {\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tsearchText: event.target.value\r\n\t\t})\r\n\t}\r\n\t\r\n\tdeleteEventPrompt = (event) => {\r\n\t\tlet eventIndex = Number(event.target.name)\r\n\t\tlet promptIndex = Number(event.target.value)\r\n\r\n\t\tlet temp = this.state.eventsDivBin.slice()\r\n\t\ttemp[eventIndex][\"promptPool\"].splice( promptIndex,1 )\r\n\t\ttemp[eventIndex][\"isSaved\"] = false\r\n\t\t\r\n\t\t//console.log(eventIndex)\r\n\t\t//console.log(promptIndex)\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\teventsDivBin: temp,\r\n\t\t})\r\n\t}\r\n\t\r\n\taddingEventPrompt = (event) => {\r\n\t\tlet promptIndex = Number(event.target.value)\r\n\t\t\r\n\t\tlet targetIndex = this.state.lastClickedEventIndex\r\n\t\t\r\n\t\tif (targetIndex >= 0) {\r\n\t\t\tlet temp = this.state.eventsDivBin.slice()\r\n\t\t\t\r\n\t\t\t// Check to see if it is already here...\r\n\t\t\tlet sanity = temp[targetIndex][\"promptPool\"].find(element => element[\"identifier\"] === this.state.promptsBin[ promptIndex ][\"identifier\"] )\r\n\t\t\t\r\n\t\t\tlet promptReport = 0\r\n\t\t\tif (sanity === undefined) {\r\n\t\t\t\ttemp[targetIndex][\"isSaved\"] = false\r\n\t\t\t\ttemp[targetIndex][\"promptPool\"].push(this.state.promptsBin[ promptIndex ])\r\n\t\t\t\tpromptReport = 1\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tpromptReport = 2\r\n\t\t\t}\r\n\r\n\t\t\tthis.setState({\r\n\t\t\t\teventsDivBin: temp,\r\n\t\t\t\taddedPrompt: promptReport,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\t\r\n\tchangeTrigger = (event) => {\r\n\t\tlet idNumberName = event.target.name.split(\",\")\r\n\t\r\n\t\tlet alteredEvents = this.state.eventsDivBin.slice()\r\n\t\talteredEvents[idNumberName[0]][\"triggerType\"] = Number(idNumberName[1])\r\n\t\talteredEvents[idNumberName[0]][\"isSaved\"] = false\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\teventsDivBin: alteredEvents,\r\n\t\t})\r\n\t}\r\n\t\r\n\tenabledGlobalFieldChange = (event) => {\r\n\t\tlet alteredEvents = this.state.eventsGlobBin.slice()\r\n\t\talteredEvents[event.target.name][\"usedBy\"] = !alteredEvents[event.target.name][\"usedBy\"]\r\n\t\talteredEvents[event.target.name][\"isSaved\"] = false\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\teventsGlobBin: alteredEvents,\r\n\t\t})\r\n\t}\r\n\tenabledCompanyFieldChange = (event) => {\r\n\t\tlet alteredEvents = this.state.eventsCompBin.slice()\r\n\t\talteredEvents[event.target.name][\"usedBy\"] = !alteredEvents[event.target.name][\"usedBy\"]\r\n\t\talteredEvents[event.target.name][\"isSaved\"] = false\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\teventsCompBin: alteredEvents,\r\n\t\t})\r\n\t}\r\n\tenabledDivisionFieldChange = (event) => {\r\n\t\tlet alteredEvents = this.state.eventsDivBin.slice()\r\n\t\talteredEvents[event.target.name][\"usedBy\"] = !alteredEvents[event.target.name][\"usedBy\"]\r\n\t\talteredEvents[event.target.name][\"isSaved\"] = false\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\teventsDivBin: alteredEvents,\r\n\t\t})\r\n\t}\r\n\tenabledDivisionFieldChangeSuper = (event) => {\r\n\t\tlet alteredEvents = this.state.eventsDivBin.slice()\r\n\t\talteredEvents[event.target.name][\"sharingEnabled\"] = !alteredEvents[event.target.name][\"sharingEnabled\"]\r\n\t\talteredEvents[event.target.name][\"isSaved\"] = false\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\teventsDivBin: alteredEvents,\r\n\t\t})\r\n\t}\r\n\t\r\n\tchangePageTo = (event) => {\r\n\t\t\r\n\t\tlet newPage = Number(event.target.value)\r\n\t\t// Sanity check!\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tpageNum: newPage\r\n\t\t})\r\n\t}\r\n\tchangePageFwdBck = (event) => {\r\n\t\t\r\n\t\tlet newPage = Number(this.state.pageNum)\r\n\t\t\r\n\t\tif (event.target.value === \"fwd\") {\r\n\t\t\tnewPage = newPage + 1\r\n\t\t\r\n\t\t\tif (newPage > this.state.promptsBin.length/this.state.numPerPage) {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if (event.target.value === \"bck\") {\r\n\t\t\tnewPage = newPage - 1\r\n\t\t\t\r\n\t\t\tif (newPage < 0) {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t}\r\n\t\t\t\r\n\t\tthis.setState({\r\n\t\t\tpageNum: newPage\r\n\t\t})\r\n\t}\r\n\t\r\n\ttokenHasRefreshedError = () => {\r\n\t\tconsole.log(\"Try again, the token needed to be refreshed...\")\r\n\t}\r\n\t\r\n\trender() {\r\n\t\t\r\n\t\t//let showIdle = this.state.getEventsStatus === 0 || this.state.saveEventStatus === 0 || this.state.searchForStatus === 0 || this.state.deleteEventStatus === 0\r\n\t\tlet showWaiting = this.state.getEventsStatus === 1 || this.state.saveEventStatus === 1 || this.state.deleteEventStatus === 1 //|| this.state.searchForStatus === 1 \r\n\t\tlet showSuccess = this.state.saveEventStatus === 2 || this.state.deleteEventStatus === 2 //|| this.state.searchForStatus === 2 || this.state.getEventsStatus === 2 || \r\n\t\tlet showError = this.state.getEventsStatus === 3 || this.state.saveEventStatus === 3 || this.state.deleteEventStatus === 3 //|| this.state.searchForStatus === 3\r\n\t\t\r\n\t\tlet errorParse = []\r\n\t\tfor (let index in this.state.getEventsError) {\r\n\t\t\terrorParse.push(\r\n\t\t\t\tthis.state.getEventsError[index][\"text\"]\r\n\t\t\t)\r\n\t\t}\r\n\t\tfor (let index in this.state.saveEventError) {\r\n\t\t\terrorParse.push(\r\n\t\t\t\tthis.state.saveEventError[index][\"text\"]\r\n\t\t\t)\r\n\t\t}\r\n\t\tfor (let index in this.state.deleteEventError) {\r\n\t\t\terrorParse.push(\r\n\t\t\t\tthis.state.deleteEventError[index][\"text\"]\r\n\t\t\t)\r\n\t\t}\r\n\t\tfor (let index in this.state.searchForError) {\r\n\t\t\terrorParse.push(\r\n\t\t\t\tthis.state.searchForError[index][\"text\"]\r\n\t\t\t)\r\n\t\t}\r\n\t\tif (errorParse.length === 0) {\r\n\t\t\terrorParse.push(\r\n\t\t\t\t\"Unknown!\"\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\tlet showGlobalEvents = []\r\n\t\tfor (let index in this.state.eventsGlobBin) {\r\n\t\t\tlet thisEvent = this.state.eventsGlobBin[index]\r\n\t\t\t\r\n\t\t\tlet displayCurrentPrompts = []\r\n\t\t\tfor (let indexSub in thisEvent[\"promptPool\"]) {\r\n\t\t\t\tlet subset = thisEvent[\"promptPool\"][indexSub][\"text\"].substring(0, 12) + \"...\";\r\n\t\t\t\t\r\n\t\t\t\t//console.log(thisEvent[\"promptPool\"][indexSub])\r\n\t\t\t\tdisplayCurrentPrompts.push(\r\n\t\t\t\t\r\n\t\t\t\t\t<tr key={indexSub}>\r\n\t\t\t\t\t\t<th scope=\"row\">\r\n\t\t\t\t\t\t\t<button className=\"btn btn-outline-secondary\" data-toggle=\"collapse\" data-target={\"#displayGlobPromptCollapse\"+index+indexSub}>\r\n\t\t\t\t\t\t\t\t{subset}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t<td>{thisEvent[\"promptPool\"][indexSub][\"identifier\"]}</td>\r\n\t\t\t\t\t\t<td>{promptType[thisEvent[\"promptPool\"][indexSub][\"promptType\"]]}</td>\r\n\t\t\t\t\t</tr>,\r\n\t\t\t\t\t<tr key={1 + indexSub + thisEvent[\"promptPool\"].length}>\r\n\t\t\t\t\t\t<th scope=\"row\" colSpan=\"4\" className=\"collapse\" id={\"displayGlobPromptCollapse\"+index+indexSub}>\r\n\t\t\t\t\t\t\t{thisEvent[\"promptPool\"][indexSub][\"text\"]}\r\n\t\t\t\t\t\t</th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (displayCurrentPrompts.length === 0) {\r\n\t\t\t\tdisplayCurrentPrompts.push(\r\n\t\t\t\t\t<tr key={0}>\r\n\t\t\t\t\t\t<th scope=\"row\" colSpan=\"4\">\r\n\t\t\t\t\t\t\tNothing here!\r\n\t\t\t\t\t\t</th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tlet unsavedCheck = !thisEvent[\"isSaved\"]\r\n\t\t\t\r\n\t\t\tshowGlobalEvents.push(\r\n\t\t\t\t<div className=\"col-sm-12 col-md-12 col-lg-6 col-xl\" key={index}>\r\n\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t{ unsavedCheck &&\r\n\t\t\t\t\t\t\t\t<div className=\"text-danger\">\r\n\t\t\t\t\t\t\t\t\tUnsaved Changes!\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\tTrigger Type: { triggerType[ thisEvent[\"triggerType\"] ] }\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"row m-1\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<b><u><i>{thisEvent[\"promptPool\"].length}</i></u></b> Prompts\r\n\t\t\t\t\t\t\t\t\t<button className=\"btn btn-secondary\" data-toggle=\"collapse\" data-target={\"#globCollapse\"+index} aria-expanded=\"false\" aria-controls={\"globCollapse\"+index}>\r\n\t\t\t\t\t\t\t\t\t\tShow\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<div className='custom-control custom-checkbox'>\r\n\t\t\t\t\t\t\t\t\t\t<input type='checkbox' className='custom-control-input' id={'customCheckGlob'+index} name={index} value={thisEvent[\"usedBy\"]} onChange={this.enabledGlobalFieldChange} checked={thisEvent[\"usedBy\"]} />\r\n\t\t\t\t\t\t\t\t\t\t<label className='custom-control-label' htmlFor={'customCheckGlob'+index} >Enabled For This Division</label>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<div className='custom-control custom-checkbox'>\r\n\t\t\t\t\t\t\t\t\t\t<input type='checkbox' className='custom-control-input' id={'customCheckGlob2'+index} name={index} value={thisEvent[\"sharingEnabled\"]} checked={thisEvent[\"sharingEnabled\"]} disabled />\r\n\t\t\t\t\t\t\t\t\t\t<label className='custom-control-label' htmlFor={'customCheckGlob2'+index} >Is Shared</label>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<button className=\"btn btn-primary\" value={index} onClick={this.saveGlobEvent}>\r\n\t\t\t\t\t\t\t\t\t\tSave Changes\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div className=\"collapse\" id={\"globCollapse\"+index}>\r\n\t\t\t\t\t\t\t\t<div className=\"card card-body\">\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<table className=\"table\" key=\"1\">\r\n\t\t\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Text</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{/* <th scope=\"col\">IID</th> */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Type</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{/* <th scope=\"col\">Filter(s)</th> */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Delete</th>\r\n\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t\t\t{displayCurrentPrompts}\r\n\t\t\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t\t\t</table>\r\n\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\t/*\r\n\t\tif (showGlobalEvents.length === 0) {\r\n\t\t\tshowGlobalEvents.push(\r\n\t\t\t\t<div className=\"col\" key={0}>\r\n\t\t\t\t\tNothing Here!\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\t*/\r\n\r\n\t\tlet showCompEvents = []\r\n\t\tfor (let index in this.state.eventsCompBin) {\r\n\t\t\tlet thisEvent = this.state.eventsCompBin[index]\r\n\t\t\t\r\n\t\t\tlet displayCurrentPrompts = []\r\n\t\t\tfor (let indexSub in thisEvent[\"promptPool\"]) {\r\n\t\t\t\t\r\n\t\t\t\tlet subset = thisEvent[\"promptPool\"][indexSub][\"text\"].substring(0, 12) + \"...\";\r\n\t\t\t\t\r\n\t\t\t\t//console.log(thisEvent[\"promptPool\"][indexSub])\r\n\t\t\t\tdisplayCurrentPrompts.push(\r\n\t\t\t\t\r\n\t\t\t\t\t<tr key={indexSub}>\r\n\t\t\t\t\t\t<th scope=\"row\">\r\n\t\t\t\t\t\t\t<button className=\"btn btn-outline-secondary\" data-toggle=\"collapse\" data-target={\"#displayCompPromptCollapse\"+index+indexSub}>\r\n\t\t\t\t\t\t\t\t{subset}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t<td>{thisEvent[\"promptPool\"][indexSub][\"identifier\"]}</td>\r\n\t\t\t\t\t\t<td>{promptType[thisEvent[\"promptPool\"][indexSub][\"promptType\"]]}</td>\r\n\t\t\t\t\t</tr>,\r\n\t\t\t\t\t<tr key={1 + indexSub + thisEvent[\"promptPool\"].length}>\r\n\t\t\t\t\t\t<th scope=\"row\" colSpan=\"4\" className=\"collapse\" id={\"displayCompPromptCollapse\"+index+indexSub}>\r\n\t\t\t\t\t\t\t{thisEvent[\"promptPool\"][indexSub][\"text\"]}\r\n\t\t\t\t\t\t</th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t\t\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (displayCurrentPrompts.length === 0) {\r\n\t\t\t\tdisplayCurrentPrompts.push(\r\n\t\t\t\t\t<tr key={0}>\r\n\t\t\t\t\t\t<th scope=\"row\" colSpan=\"4\">\r\n\t\t\t\t\t\t\tNothing here!\r\n\t\t\t\t\t\t</th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tlet unsavedCheck = !thisEvent[\"isSaved\"]\r\n\t\t\t\r\n\t\t\tshowCompEvents.push(\r\n\t\t\t\t<div className=\"col-sm-12 col-md-12 col-lg-6 col-xl\" key={index}>\r\n\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t{ unsavedCheck &&\r\n\t\t\t\t\t\t\t\t<div className=\"text-danger\">\r\n\t\t\t\t\t\t\t\t\tUnsaved Changes!\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\tTrigger Type: { triggerType[ thisEvent[\"triggerType\"] ] }\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"row m-1\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<b><u><i>{thisEvent[\"promptPool\"].length}</i></u></b> Prompts\r\n\t\t\t\t\t\t\t\t\t<button className=\"btn btn-secondary\" type=\"button\" data-toggle=\"collapse\" data-target={\"#compCollapse\"+index} aria-expanded=\"false\" aria-controls={\"compCollapse\"+index}>\r\n\t\t\t\t\t\t\t\t\t\tShow\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<div className='custom-control custom-checkbox'>\r\n\t\t\t\t\t\t\t\t\t\t<input type='checkbox' className='custom-control-input' id={'customCheckComp'+index} name={index} value={thisEvent[\"usedBy\"]} onChange={this.enabledCompanyFieldChange} checked={thisEvent[\"usedBy\"]} />\r\n\t\t\t\t\t\t\t\t\t\t<label className='custom-control-label' htmlFor={'customCheckComp'+index} >Enabled For This Division</label>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<div className='custom-control custom-checkbox'>\r\n\t\t\t\t\t\t\t\t\t\t<input type='checkbox' className='custom-control-input' id={'customCheckComp2'+index} name={index} value={thisEvent[\"sharingEnabled\"]} checked={thisEvent[\"sharingEnabled\"]} disabled />\r\n\t\t\t\t\t\t\t\t\t\t<label className='custom-control-label' htmlFor={'customCheckComp2'+index} >Is Shared</label>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<button className=\"btn btn-primary\" value={index} onClick={this.saveCompEvent}>\r\n\t\t\t\t\t\t\t\t\t\tSave Changes\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div className=\"collapse\" id={\"compCollapse\"+index}>\r\n\t\t\t\t\t\t\t\t<div className=\"card card-body\">\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<table className=\"table\" key=\"1\">\r\n\t\t\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Text</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{/* <th scope=\"col\">IID</th> */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Type</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{/* <th scope=\"col\">Filter(s)</th> */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Delete</th>\r\n\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t\t\t{displayCurrentPrompts}\r\n\t\t\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t\t\t</table>\r\n\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\tif (showCompEvents.length === 0) {\r\n\t\t\tshowCompEvents.push(\r\n\t\t\t\t<div className=\"col\" key={1}>\r\n\t\t\t\t\tNothing Here!\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\t//console.log(this.state.eventsDivBin)\r\n\t\t\r\n\t\tlet showDivisionEvents = []\r\n\t\tfor (let index in this.state.eventsDivBin) {\r\n\t\t\tlet thisEvent = this.state.eventsDivBin[index]\r\n\t\t\t\r\n\t\t\tlet displayCurrentPrompts = []\r\n\t\t\tfor (let indexSub in thisEvent[\"promptPool\"]) {\r\n\t\t\t\t\r\n\t\t\t\tlet subset = thisEvent[\"promptPool\"][indexSub][\"text\"].substring(0, 12) + \"...\";\r\n\t\t\t\t\r\n\t\t\t\tdisplayCurrentPrompts.push(\r\n\t\t\t\t\r\n\t\t\t\t\t<tr key={indexSub}>\r\n\t\t\t\t\t\t<th scope=\"row\">\r\n\t\t\t\t\t\t\t<button className=\"btn btn-outline-secondary\" data-toggle=\"collapse\" data-target={\"#displayPromptCollapse\"+index+indexSub}>\r\n\t\t\t\t\t\t\t\t{subset}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t<td>{thisEvent[\"promptPool\"][indexSub][\"identifier\"]}</td>\r\n\t\t\t\t\t\t<td>{promptType[thisEvent[\"promptPool\"][indexSub][\"promptType\"]]}</td>\r\n\t\t\t\t\t\t<th>\r\n\t\t\t\t\t\t\t<button className=\"close\" type=\"button\" value={indexSub} name={index} onClick={this.deleteEventPrompt} aria-label=\"Close\">\r\n\t\t\t\t\t\t\t\t&times;\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</th>\r\n\t\t\t\t\t</tr>,\r\n\t\t\t\t\t<tr key={1 + indexSub + thisEvent[\"promptPool\"].length}>\r\n\t\t\t\t\t\t<th scope=\"row\" colSpan=\"4\" className=\"collapse\" id={\"displayPromptCollapse\"+index+indexSub}>\r\n\t\t\t\t\t\t\t{thisEvent[\"promptPool\"][indexSub][\"text\"]}\r\n\t\t\t\t\t\t</th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (displayCurrentPrompts.length === 0) {\r\n\t\t\t\tdisplayCurrentPrompts.push(\r\n\t\t\t\t\t<tr key={0}>\r\n\t\t\t\t\t\t<th scope=\"row\" colSpan=\"4\">\r\n\t\t\t\t\t\t\tNothing here!\r\n\t\t\t\t\t\t</th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\r\n\t\t\tlet unsavedCheck = !thisEvent[\"isSaved\"]\r\n\r\n\t\t\tshowDivisionEvents.push(\r\n\t\t\t\t\r\n\t\t\t\t<div className=\"col-sm-12 col-md-12 col-lg-6 col-xl-6\" key={index}>\r\n\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t{ unsavedCheck &&\r\n\t\t\t\t\t\t\t\t<div className=\"text-danger\">\r\n\t\t\t\t\t\t\t\t\tUnsaved Changes!\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tDelete\r\n\t\t\t\t\t\t\t<button className=\"badge badge-danger badge-pill\" name=\"test\" value={index} onClick={this.deleteEvent}>\r\n\t\t\t\t\t\t\t\tX\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t\t\t<div className=\"col-\">\r\n\t\t\t\t\t\t\t\t\tTrigger Type:\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<div className='dropdown'>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"btn btn-secondary mx-2\" type=\"button\" id={\"EventButton\"+index} data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n\t\t\t\t\t\t\t\t\t\t\t{ triggerType[ thisEvent[\"triggerType\"] ] }\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"dropdown-menu\" aria-labelledby={\"EventButton\"+index}>\r\n\t\t\t\t\t\t\t\t\t\t\t{triggerType.map((radio, idx) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div key={idx}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button className=\"dropdown-item\" name={ [index, idx] } onClick={this.changeTrigger}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{radio}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"row m-1\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t\t\t<div className=\"col-\">\r\n\t\t\t\t\t\t\t\t\t<b><u><i>{thisEvent[\"promptPool\"].length}</i></u></b> Prompts\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"col- mx-2\">\r\n\t\t\t\t\t\t\t\t\t<button className=\"btn btn-secondary\" type=\"button\" data-toggle=\"collapse\" data-target={\"#divCollapse\"+index} aria-expanded=\"false\" aria-controls={\"divCollapse\"+index}>\r\n\t\t\t\t\t\t\t\t\t\tEdit\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<div className='custom-control custom-checkbox'>\r\n\t\t\t\t\t\t\t\t\t\t<input type='checkbox' className='custom-control-input' id={'customCheckDiv'+index} name={index} value={thisEvent[\"usedBy\"]} onChange={this.enabledDivisionFieldChange} checked={thisEvent[\"usedBy\"]} />\r\n\t\t\t\t\t\t\t\t\t\t<label className='custom-control-label' htmlFor={'customCheckDiv'+index} >Enabled For This Division</label>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<div className='custom-control custom-checkbox'>\r\n\t\t\t\t\t\t\t\t\t\t<input type='checkbox' className='custom-control-input' id={'customCheckDiv2'+index} name={index} value={thisEvent[\"sharingEnabled\"]} onChange={this.enabledDivisionFieldChangeSuper} checked={thisEvent[\"sharingEnabled\"]} />\r\n\t\t\t\t\t\t\t\t\t\t<label className='custom-control-label' htmlFor={'customCheckDiv2'+index} >Allow Other Divisions To Use</label>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<button className=\"btn btn-primary\" value={index} onClick={this.saveDivEvent}>\r\n\t\t\t\t\t\t\t\t\t\tSave\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div className=\"collapse\" id={\"divCollapse\"+index}>\r\n\t\t\t\t\t\t\t\t<div className=\"card card-body\">\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<table className=\"table\" key=\"1\">\r\n\t\t\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Text</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{/* <th scope=\"col\">IID</th> */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Type</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{/* <th scope=\"col\">Filter(s)</th> */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Delete</th>\r\n\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t\t\t{displayCurrentPrompts}\r\n\t\t\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<button className=\"btn btn-primary\" value={index} onClick={this.setLastClickedEvent} data-toggle=\"modal\" data-target=\"#addPrompts\">\r\n\t\t\t\t\t\t\t\t\t\tAdd New Prompt\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\tif (showDivisionEvents.length === 0) {\r\n\t\t\tshowDivisionEvents.push(\r\n\t\t\t\t<div className=\"col\" key={0}>\r\n\t\t\t\t\tNothing Here!\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\tlet showSearchPrompts = []\r\n\t\t//console.log(this.state.pageNum)\r\n\t\t//console.log(this.state.numPerPage)\r\n\r\n\t\tif (this.state.promptsBin.length > 0) {\r\n\t\t\r\n\t\t\tfor (let index = 0; index < this.state.numPerPage; index++) {\r\n\t\t\t\t\r\n\t\t\t\tlet alteredIndex = index + this.state.pageNum*this.state.numPerPage\r\n\t\t\t\t\r\n\t\t\t\tif (alteredIndex >= this.state.promptsBin.length) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tlet subset = this.state.promptsBin[alteredIndex][\"text\"].substring(0, 12) + \"...\";\r\n\t\t\t\t\r\n\t\t\t\tlet displayIndFilters = []\r\n\t\t\t\tfor (let tagIndex in this.state.promptsBin[alteredIndex][\"promptFilterTags\"]) {\r\n\t\t\t\t\tdisplayIndFilters.push(\r\n\t\t\t\t\t\t<div className=\"col border\">\r\n\t\t\t\t\t\t\t<div className=\"my-1\">\r\n\t\t\t\t\t\t\t\t{this.state.promptsBin[alteredIndex][\"promptFilterTags\"][tagIndex][\"name\"]}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\tif (displayIndFilters.length === 0) {\r\n\t\t\t\t\tdisplayIndFilters.push(\r\n\t\t\t\t\t\t<div className=\"col- list-group-item\">\r\n\t\t\t\t\t\t\tNo Filters!\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// No comments in here due to jsx\r\n\t\t\t\tshowSearchPrompts.push(\r\n\r\n\t\t\t\t\t<tr key={alteredIndex}>\r\n\t\t\t\t\t\t<th scope=\"row\">\r\n\t\t\t\t\t\t\t<button className=\"btn btn-outline-secondary\" data-toggle=\"collapse\" data-target={\"#collapseFullText\"+alteredIndex}>\r\n\t\t\t\t\t\t\t\t{subset}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t{/* <td>{ this.state.promptsBin[alteredIndex][\"identifier\"] }</td> */}\r\n\t\t\t\t\t\t<td>{ promptType[this.state.promptsBin[alteredIndex][\"promptType\"]] }</td>\r\n\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t<button className=\"btn btn-outline-secondary\" data-toggle=\"collapse\" data-target={\"#collapseFilters\"+alteredIndex}>\r\n\t\t\t\t\t\t\t\t{ this.state.promptsBin[alteredIndex][\"promptFilterTags\"].length }\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t<th>\r\n\t\t\t\t\t\t\t<button className=\"btn btn-outline-secondary\" value={alteredIndex} onClick={this.addingEventPrompt}>\r\n\t\t\t\t\t\t\t\t+\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</th>\r\n\t\t\t\t\t</tr>,\r\n\t\t\t\t\t<tr key={1 + alteredIndex + this.state.promptsBin.length}>\r\n\t\t\t\t\t\t<th scope=\"row\" colSpan=\"4\" className=\"collapse\" id={\"collapseFullText\"+alteredIndex}>\r\n\t\t\t\t\t\t\t{ this.state.promptsBin[alteredIndex][\"text\"] }\r\n\t\t\t\t\t\t</th>\r\n\t\t\t\t\t</tr>,\r\n\t\t\t\t\t<tr key={2 + alteredIndex + 2*this.state.promptsBin.length}>\r\n\t\t\t\t\t\t<th scope=\"row\" colSpan=\"4\" className=\"collapse\" id={\"collapseFilters\"+alteredIndex}>\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t\t\t\t{displayIndFilters}\r\n\t\t\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</th>\r\n\t\t\t\t\t</tr>,\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tif (this.state.hasSent) {\r\n\t\t\t\tshowSearchPrompts.push(\r\n\t\t\t\t\t<tr key={0}>\r\n\t\t\t\t\t\t<th scope=\"row\" colSpan=\"4\">\r\n\t\t\t\t\t\t\tNo Results!\r\n\t\t\t\t\t\t</th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tshowSearchPrompts.push(\r\n\t\t\t\t\t<tr key={0}>\r\n\t\t\t\t\t\t<th scope=\"row\" colSpan=\"4\">\r\n\t\t\t\t\t\t\tWaiting for Search!\r\n\t\t\t\t\t\t</th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tlet filterTypeSet = []\r\n\t\tfor (let index in promptType) {\r\n\t\t\t\r\n\t\t\tlet displayClass = \"btn-outline-success\"\r\n\t\t\tif (this.state.filterTypeFlags[index]) {\r\n\t\t\t\tdisplayClass = \"btn-success\"\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfilterTypeSet.push(\r\n\t\t\t\t<div className=\"col-\" key={index}>\r\n\t\t\t\t\t<button className={\"btn \" + displayClass} value={index} key={index} onClick={this.changeFilterType1}>\r\n\t\t\t\t\t\t{promptType[index]}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\tlet filterNameSet = []\r\n\t\tfor (let index in this.props.validFilters) {\r\n\t\t\t\r\n\t\t\tlet displayClass = \"btn-outline-success\"\r\n\t\t\tif (this.state.filterNameFlags[index]) {\r\n\t\t\t\tdisplayClass = \"btn-success\"\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfilterNameSet.push(\r\n\t\t\t\t<div className=\"col-\" key={index}>\r\n\t\t\t\t\t<button className={\"btn \" + displayClass} value={index} key={index} onClick={this.changeFilterType2}>\r\n\t\t\t\t\t\t{this.props.validFilters[index]}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className=\"PromptDisplay\">\r\n\t\t\t\r\n\t\t\t\t{showWaiting && <Loading/>}\r\n\t\t\t\t<div className=\"container-fluid\">\r\n\t\t\t\t\r\n\t\t\t\t\t{!showWaiting && \r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t<div className=\"card shadow\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t\t<h5>This Division's Events</h5>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t\t{showDivisionEvents}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"row my-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<button className=\"btn btn-primary\" onClick={this.createEvent}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tCreate Event\r\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t<div className=\"card shadow\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t\t<h5>This Company's Shared Events</h5>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t\t{showCompEvents}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\t{/*\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card shadow\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<h5>Global Events</h5>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t{showGlobalEvents}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t*/}\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Alert show={showWaiting} variant=\"warning\">\r\n\t\t\t\t\t\t<Alert.Heading>Waiting</Alert.Heading>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t  Waiting for server response...\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Alert show={showSuccess} variant=\"success\">\r\n\t\t\t\t\t\t<Alert.Heading>Success!</Alert.Heading>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t  Successfully obtained data or saved!\r\n\t\t\t\t\t\t  <br />\r\n\t\t\t\t\t\t  Your prompts will be updated on next refresh\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Alert show={showError} variant=\"danger\">\r\n\t\t\t\t\t\t<Alert.Heading>Error!</Alert.Heading>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t  {errorParse}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"modal fade\" id=\"addPrompts\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"promptAdder\" aria-hidden=\"true\">\r\n\t\t\t\t\t\t<div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n\t\t\t\t\t\t\t<div className=\"modal-content\">\r\n\t\t\t\t\t\t\t\t<div className=\"modal-header\">\r\n\r\n\t\t\t\t\t\t\t\t\t<h5 className=\"modal-title\">Adding Prompts</h5>\r\n\t\t\t\t\t\t\t\t\t<button type=\"btn btn-danger\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n\t\t\t\t\t\t\t\t\t  <span aria-hidden=\"true\">&times;</span>\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"modal-body\">\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"input-group rounded\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"search\" className=\"form-control rounded\" placeholder=\"Search Text\" aria-label=\"Search\" aria-describedby=\"search-addon\" onChange={this.changeInput} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<button className=\"input-group-text border-0\" id=\"search-addon\" onClick={this.searchForPrompts}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Search className=\"iconBG\" color=\"black\" size={16} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t<button className=\"btn btn-outline-secondary\" data-toggle=\"collapse\" data-target={\"#displaySearchCollapse\"}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tAdvanced Search\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t<hr/>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"collapse\" id={\"displaySearchCollapse\"}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<u>Filters:</u>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{filterTypeSet}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{filterNameSet}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<hr/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<table className=\"table\" key=\"1\">\r\n\t\t\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Text</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{/*<th scope=\"col\">IID</th>*/}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Type</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Filter(s)</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Add</th>\r\n\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t\t\t{showSearchPrompts}\r\n\t\t\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t{this.state.addedPrompt === 1 && \r\n\t\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col text-success\">\r\n\t\t\t\t\t\t\t\t\t\t\t\tAdded!\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t{this.state.addedPrompt === 2 && \r\n\t\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col text-warning\">\r\n\t\t\t\t\t\t\t\t\t\t\t\tAlready on the list!\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"modal-footer\">\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<Paginator\r\n\t\t\t\t\t\t\t\t\t\tactivePage={this.state.pageNum}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tchangePrevNext={this.changePageFwdBck}\r\n\t\t\t\t\t\t\t\t\t\tchangeToNum={this.changePageTo}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\ttotalLoaded={this.state.promptsBin.length}\r\n\t\t\t\t\t\t\t\t\t\tnumPerPage={this.state.numPerPage}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default withRouter(PromptDisplay);","import React from \"react\";\r\n//import ReactDOM from \"react-dom\";\r\nimport Graph from \"react-graph-vis\";\r\nimport { Alert } from 'react-bootstrap';\r\nimport { Accordion, Card } from 'react-bootstrap';\r\n\r\nimport { ChevronDown } from 'react-bootstrap-icons';\r\n\r\n//APIGetDivisionWebDates\r\nimport { APIGetDivisionWeb } from \"../../utils\";\r\nimport { convertScanToWidth, convertScanToColor, graphOptions } from \"../../utils\";\r\nimport { ShowWebInfoComponent } from \"../../utils\";\r\n\r\nimport Calendar from 'react-calendar'\r\nimport 'react-calendar/dist/Calendar.css';\r\n\r\nimport { withRouter } from \"react-router-dom\";\r\n//, deleteStorageKey\r\n//import { timedLoadStorage, timedSaveStorage} from \"../../utils\";\r\n\r\n// How would these even work???\r\n//import \"./styles.css\";\r\n// need to import the vis network css in order to show tooltip\r\n//import \"./network.css\";\r\n\r\n// PUT IN A LEGEND!!!\r\n\r\nconst debugPageName = \"Division Webs\"\r\n\r\n//const waitTimeMS = 100\r\nclass ViewCompanyWeb extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\t\t\t\r\n\t\t\tmaxNodes: 20,\r\n\t\t\tminNodes: 5,\r\n\t\t\t\r\n\t\t\tmaxRels: 5,\r\n\t\t\tminRels: 0,\r\n\t\t\t\r\n\t\t\tmaxSenti: 1,\r\n\t\t\tminSenti: -1,\r\n\t\t\t\r\n\t\t\tmaxFreq: 7,\r\n\t\t\tminFreq: 0,\r\n\t\t\t\r\n\t\t\tloadedDataDate: \"None\",\r\n\t\t\tloadedData: [],\r\n\t\t\tgraphDataPrimary: this.GenerateGraph( [] ),\r\n\t\t\t\r\n\t\t\tselectedNodes: [\"None\"],\r\n\t\t\tselectedToEdges: [\"None\"],\r\n\t\t\tselectedFromEdges: [\"None\"],\r\n\t\t\t\r\n\t\t\tgetWebStatus: 0,\r\n\t\t\tgetDatesWebStatus: 0,\r\n\t\t\tgetDatesWebError: [],\r\n\t\t\t\r\n\t\t\tselectedWebDay: new Date(),\r\n\t\t\t\r\n\t\t\tpageIsLoaded: false,\r\n        };\r\n\t\tthis.waitForParent = undefined;\r\n\t}\r\n\t\r\n\tcomponentDidMount = () => {\r\n\t\t\r\n\t\t/*\r\n\t\tlet isLoaded = this.checkParentIsLoaded()\r\n\t\tif (!isLoaded) {\t\r\n\t\t\t// Wait until app.js has loaded....\r\n\t\t\tthis.waitForParent = setInterval(this.checkParentIsLoaded, waitTimeMS)\r\n\t\t}\r\n\t\t*/\r\n\t}\r\n\t\r\n\tcheckParentIsLoaded = () => {\r\n\t\tif (this.props.parentHasLoaded) {\r\n\t\t\tclearInterval(this.waitForParent)\r\n\t\t\t//!! TOO MANY RESTARTS !!\r\n\t\t\tconsole.log(\"Web Has Finished Loading!\")\r\n\t\t\t//this.loadFromLocalStorage()\r\n\t\t\t\r\n\t\t\treturn true\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn false\r\n\t\t}\r\n\t}\r\n\t\r\n\tloadFromLocalStorage = () => {\r\n\t\t//let lastWebDate = timedLoadStorage('lastGotWeb');\r\n\t\tlet lastWebDate = 0\r\n\t\t\r\n\t\tif (lastWebDate === 0) {\r\n\t\t\t//console.log(\"No User In the Storage!\")\r\n\t\t}\r\n\t\telse if (lastWebDate === 1) {\r\n\t\t\t//console.log(\"Session was expired!\")\r\n\t\t}\r\n\t\telse if (lastWebDate === 2) {\r\n\t\t\t//console.log(\"Invalid Save!\")\r\n\t\t}\r\n\t\telse {\r\n\t\t\t\r\n\t\t\tif (lastWebDate.loadedDate === \"recent\") {\r\n\t\t\t\tthis.getCompanyWebRecent()\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.getCompanyWebPrevious(lastWebDate)\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tpageIsLoaded: true,\r\n\t\t})\r\n\t}\r\n\t\r\n\tGenerateTestInfo = () => {\r\n\t\r\n\tlet testInfo = []\r\n\t/*[\r\n\r\n\t\t// These will be assembled One at a time in a storage facility...\r\n\t\t// Each probobly assigned their ID number in the database... That would work\r\n\t\t// Or a temporay one (Probobly in the negatives?) if for some reason we need to show that...\r\n\t\t\r\n\t\t// Use the sentiment as a weight....\r\n\t\t{\r\n\t\t\t'id':0,\r\n\t\t\t\"name\": \"Premade 1\",\r\n\t\t\t'isTracked': true,\r\n\t\t\t\r\n\t\t\t'toSet':[ {to:1, sentiment:0.8, freq:2}, {to:2, sentiment:-0.87, freq: 4} ],\r\n\t\t},\r\n\t\t{\r\n\t\t\t'id':1,\r\n\t\t\t'name': \"Premade 2\",\r\n\t\t\t'isTracked': true,\r\n\t\t\t\r\n\t\t\t'toSet':[ {to:0, sentiment:0.25, freq: 5} ],\r\n\t\t}\r\n\t]*/\r\n\t\r\n\tconst numIDs = Math.random()*(this.state.maxNodes-this.state.minNodes)+this.state.maxNodes\t\r\n\tfor (let i = 0; i < numIDs; i++) {\r\n\t\t\r\n\t\tlet toStuff = []\r\n\t\tlet maxRelations = Math.floor(Math.random()*(1+this.state.maxRels-this.state.minRels)+this.state.minRels)\r\n\t\t\r\n\t\tfor (let j = 0; j < maxRelations; j++ ) {\r\n\t\t\t\r\n\t\t\ttoStuff.push({\r\n\t\t\t\tto:Math.floor(Math.random()*(numIDs)),\r\n\t\t\t\tsentiment:Math.random()*(this.state.maxSenti-this.state.minSenti)+this.state.minSenti,\r\n\t\t\t\tfreq:Math.floor(Math.random()*(1+this.state.maxFreq-this.state.minFreq)+this.state.minFreq),\r\n\t\t\t})\r\n\t\t}\r\n\t\t\r\n\t\tlet trackStuff = Math.random() > 0.5\r\n\t\t\r\n\t\ttestInfo.push(\r\n\t\t\t{\r\n\t\t\t\t'id':i,\r\n\t\t\t\t\"name\": \"Random name \"+i,\r\n\t\t\t\t'isTracked': trackStuff,\r\n\t\t\t\t\r\n\t\t\t\t'toSet':toStuff,\r\n\t\t\t}\r\n\t\t)\r\n\t}\r\n\t\r\n\treturn testInfo\r\n}\r\n\t\r\n\tGenerateGraph = (incomingData) => {\r\n\t\tlet trunMulti = 100\r\n\t\t\r\n\t\tlet defineGraph = {nodes:[], edges: []}\r\n\t\t\r\n\t\tfor (let index in incomingData) {\r\n\t\t\t\r\n\t\t\tlet borderColor = \"#000000\"\r\n\t\t\tlet backgroundColor = \"#FFF0F0\"\r\n\t\t\tif (incomingData[index][\"isTracked\"]) {\r\n\t\t\t\t//borderColor = \"#000000\"\r\n\t\t\t\tbackgroundColor = \"#FFFFFF\"\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tdefineGraph[\"nodes\"].push({ \r\n\t\t\t\tid: incomingData[index][\"id\"], \r\n\t\t\t\tlabel: incomingData[index][\"name\"],\r\n\t\t\t\t\r\n\t\t\t\tcolor: {\r\n\t\t\t\t\tborder:borderColor,\r\n\t\t\t\t\tbackground:backgroundColor,\r\n\t\t\t\t},\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\tfor (let indexTo in incomingData[index][\"toSet\"]) {\r\n\t\t\t\tdefineGraph[\"edges\"].push({ \r\n\t\t\t\t\tfrom: incomingData[index][\"id\"], \r\n\t\t\t\t\tto: incomingData[index][\"toSet\"][indexTo][\"to\"],\r\n\t\t\t\t\t\r\n\t\t\t\t\tlabel: (Math.floor(trunMulti*incomingData[index][\"toSet\"][indexTo][\"sentiment\"])/trunMulti).toString() + \", \" + Math.floor(incomingData[index][\"toSet\"][indexTo][\"freq\"]).toString(),\r\n\t\t\t\t\t\r\n\t\t\t\t\t// length: 1,\r\n\t\t\t\t\twidth: convertScanToWidth(incomingData[index][\"toSet\"][indexTo][\"freq\"]),\r\n\t\t\t\t\tcolor: convertScanToColor(incomingData[index][\"toSet\"][indexTo][\"sentiment\"]), \r\n\t\t\t\t\t\r\n\t\t\t\t\t//length: 400,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn defineGraph\r\n\t}\r\n\t\r\n\tselectStuffPrimary = (event) => {\r\n\t\t\r\n\t\tvar { nodes, edges } = event;\r\n\t\t\r\n\t\tlet selectedNodeID = -1\r\n\t\t\r\n\t\tif (nodes.length > 0) {\r\n\t\t\t\r\n\t\t\t//console.log(this.state.graphDataPrimary['nodes'])\r\n\t\t\t\r\n\t\t\tlet nodeSet = []\r\n\t\t\tfor(let index in nodes) {\r\n\t\t\t\t//console.log( this.state.graphDataPrimary['nodes'][nodes[index]] )\r\n\t\t\t\tnodeSet.push( \r\n\t\t\t\t\t<div key={index}>\r\n\t\t\t\t\t\t{this.state.graphDataPrimary['nodes'][nodes[index]][\"label\"]}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\t\t\r\n\t\t\t\tselectedNodeID = nodes[index]\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tselectedNodes: nodeSet,\r\n\t\t\t})\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.setState({\r\n\t\t\t\tselectedNodes: [\"None\"],\r\n\t\t\t})\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\tif (edges.length > 0) {\r\n\t\t\t\r\n\t\t\tlet edgeToSet = []\r\n\t\t\tlet edgeFromSet = []\r\n\t\t\tfor (let index in edges) {\r\n\t\t\t\t\r\n\t\t\t\tfor (let edgeIndex in this.state.graphDataPrimary['edges']) {\r\n\t\t\t\t\tlet checkingIndex = this.state.graphDataPrimary['edges'][edgeIndex][\"id\"]\r\n\t\t\t\t\tif (edges[index] === checkingIndex) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif ( selectedNodeID === this.state.graphDataPrimary['edges'][edgeIndex][\"to\"] ) {\r\n\t\t\t\t\t\t\tedgeToSet.push( \r\n\t\t\t\t\t\t\t\t<div key={index}>\r\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\t{this.state.graphDataPrimary['nodes'][this.state.graphDataPrimary['edges'][edgeIndex][\"from\"]]['label']}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\t{this.state.graphDataPrimary['edges'][edgeIndex][\"label\"]}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif ( selectedNodeID === this.state.graphDataPrimary['edges'][edgeIndex][\"from\"] ) {\r\n\t\t\t\t\t\t\tedgeFromSet.push( \r\n\t\t\t\t\t\t\t\t<div key={index}>\r\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\t{this.state.graphDataPrimary['nodes'][this.state.graphDataPrimary['edges'][edgeIndex][\"to\"]]['label']}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\t{this.state.graphDataPrimary['edges'][edgeIndex][\"label\"]}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (edgeToSet.length === 0) {\r\n\t\t\t\tedgeToSet = [\"None\"]\r\n\t\t\t}\r\n\t\t\tif (edgeFromSet.length === 0) {\r\n\t\t\t\tedgeFromSet = [\"None\"]\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tselectedToEdges: edgeToSet,\r\n\t\t\t\tselectedFromEdges: edgeFromSet,\r\n\t\t\t})\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.setState({\r\n\t\t\t\tselectedToEdges: [\"None\"],\r\n\t\t\t\tselectedFromEdges: [\"None\"],\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\t\r\n\ttimedRefresh = () => {\r\n\t\t//console.log('Token Refreshed!');\r\n\t}\r\n\t\r\n\tgetCompanyWebFailure = (incomingError) => {\r\n\t\t//console.log(incomingError)\r\n\t\tif (incomingError['action'] ===\t 0) {\r\n\t\t\t//Network Error\r\n\t\t}\r\n\t\telse if (incomingError['action'] === 1) {\r\n\t\t\t//Unauthorized\r\n\t\t\tthis.props.debugSet(debugPageName, \"Refresh Triggered\", \"Get Division Web\")\r\n\t\t\tthis.props.refreshToken(this.getCompanyWebRecent)\r\n\t\t\treturn\r\n\t\t}\r\n\t\telse if (incomingError['action'] === 3) {\r\n\t\t\t// Obtain error!\r\n\t\t}\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageName, \"Get Division Web\", \"Failure\")\r\n\t\tthis.setState({\r\n\t\t\tgetWebStatus: 3,\r\n\t\t\tgetDatesWebError: incomingError[\"messages\"],\r\n\t\t})\r\n\t}\r\n\tgetCompanyWebCallback = (incomingWeb) => {\r\n\t\tlet webThing = []\r\n\t\tif (incomingWeb.length > 0) {\r\n\t\t\t// There should ONLY BE 1\r\n\t\t\twebThing = incomingWeb[0][\"webStructure\"]\r\n\t\t}\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageName, \"Get Division Web\", \"Success\")\r\n\t\tthis.setState({\r\n\t\t\tloadedData: webThing,\r\n\t\t\tgraphDataPrimary: this.GenerateGraph( webThing ),\t\r\n\t\t\tloadedDataDate: incomingWeb[0][\"forDate\"],\r\n\t\t\tgetWebStatus: 2,\r\n\t\t})\r\n\t\t\r\n\t\t// We will have to check for remember here....\r\n\t\t//timedSaveStorage( this.props.currentUser+\"/lastGotWeb\", {loadedDate:\"recent\"}, 0)\r\n\t}\r\n\tgetCompanyWebRecent = () => {\r\n\t\tif (!(this.props.currentDivisionID === -1)) {\r\n\t\t\tlet checkData = undefined\r\n\t\t\tif (checkData === undefined) {\r\n\t\t\t\t\r\n\t\t\t\t//console.log(\"Division Web was not in the cookies...\")\r\n\t\t\t\tAPIGetDivisionWeb( this.props.currentDivisionID, undefined, this.getCompanyWebCallback, this.getCompanyWebFailure)\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tgetWebStatus: 1,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t//this.getCompanyWebCallback(???)\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\t}\r\n\t}\r\n\t\r\n\tgetCompanyWebPreviousFailure = (incomingError) => {\r\n\t\t//console.log(incomingError)\r\n\t\tif (incomingError['action'] ===\t 0) {\r\n\t\t\t//Network Error\r\n\t\t}\r\n\t\telse if (incomingError['action'] === 1) {\r\n\t\t\t//Unauthorized\r\n\t\t\tthis.props.debugSet(debugPageName, \"Refresh Triggered\", \"Get Division Web\")\r\n\t\t\tthis.props.refreshToken(this.timedRefresh)\r\n\t\t\treturn\r\n\t\t}\r\n\t\telse if (incomingError['action'] === 3) {\r\n\t\t\t// Obtain error!\r\n\t\t}\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageName, \"Get Division Web\", \"Failure\")\r\n\t\tthis.setState({\r\n\t\t\tgetWebStatus: 3,\r\n\t\t\tgetDatesWebError: incomingError[\"messages\"],\r\n\t\t})\r\n\t}\r\n\tgetCompanyWebPreviousCallback = (incomingWeb) => {\r\n\t\tlet webThing = []\r\n\t\tlet webDate = \"Unknown\"\r\n\t\tif (incomingWeb.length > 0) {\r\n\t\t\t// There should ONLY BE 1\r\n\t\t\twebThing = incomingWeb[0][\"webStructure\"]\r\n\t\t\twebDate = incomingWeb[0]['forDate']\r\n\t\t}\r\n\t\t\r\n\t\tthis.props.debugSet(debugPageName, \"Get Division Web\", \"Success\")\r\n\t\tthis.setState({\r\n\t\t\tloadedData: webThing,\r\n\t\t\tgraphDataPrimary: this.GenerateGraph( webThing ),\t\r\n\t\t\tloadedDataDate: webDate,\r\n\t\t\tgetWebStatus: 2,\r\n\t\t})\r\n\t\t\r\n\t\t//timedSaveStorage( \"lastGotWeb\", {loadedDate:webDate}, 0)\r\n\t}\r\n\tgetCompanyWebPrevious = (incomingDate) => {\r\n\t\tif (!(this.props.currentDivisionID === -1)) {\r\n\t\t\tlet checkData = undefined\r\n\t\t\tif (checkData === undefined) {\r\n\r\n\t\t\t\t//console.log(\"Division Web was not in the cookies...\")\r\n\t\t\t\tAPIGetDivisionWeb( this.props.currentDivisionID, incomingDate, this.getCompanyWebPreviousCallback, this.getCompanyWebPreviousFailure)\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tgetWebStatus: 1,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t//this.getCompanyWebPreviousCallback(???)\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\t}\r\n\t}\r\n\t\r\n\t// Will need to do a selected Date....\r\n\tpickDate = (selectedDate) => {\r\n\t\tthis.setState({\r\n\t\t\tselectedWebDay:selectedDate,\r\n\t\t})\r\n\t\t\r\n\t\tthis.getCompanyWebPrevious(selectedDate)\r\n\t}\r\n\t\r\n\tloadData = () => {\r\n\t\tconst dert = this.GenerateTestInfo()\r\n\t\t\r\n\t\t// If something, set to current, if not, set to the date?\r\n\t\tlet whenPicked = \"Current\"\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tloadedDataDate: whenPicked,\r\n\t\t\tloadedData: dert,\r\n\t\t\tgraphDataPrimary: this.GenerateGraph( dert ),\r\n\t\t})\r\n\t}\r\n\t\r\n\tmaxNodeFieldChange = (event) => {\r\n\t\tthis.setState( {maxNodes: Number(event.target.value)} )\r\n\t}\r\n\tminNodeFieldChange = (event) => {\r\n\t\tthis.setState( {minNodes: Number(event.target.value)} )\r\n\t}\r\n\t\r\n\tmaxRelsFieldChange = (event) => {\r\n\t\tthis.setState( {maxRels: Number(event.target.value)} )\r\n\t}\r\n\tminRelsFieldChange = (event) => {\r\n\t\tthis.setState( {minRels: Number(event.target.value)} )\r\n\t}\r\n\t\r\n\tmaxSentiFieldChange = (event) => {\r\n\t\tthis.setState( {maxSenti: Number(event.target.value)} )\r\n\t}\r\n\tminSentiFieldChange = (event) => {\r\n\t\tthis.setState( {minSenti: Number(event.target.value)} )\r\n\t}\r\n\t\r\n\tmaxFreqFieldChange = (event) => {\r\n\t\tthis.setState( {maxFreq: Number(event.target.value)} )\r\n\t}\r\n\tminFreqFieldChange = (event) => {\r\n\t\tthis.setState( {minFreq: Number(event.target.value)} )\r\n\t}\r\n\t\r\n\trender() {\r\n\t\t\r\n\t\tconst tileClassName = ({ date, view }) => {\r\n\t\r\n\t\t\tlet hasWeb = false\r\n\t\t\t\r\n\t\t\tlet year = String( date.getFullYear() )\r\n\t\t\tlet month =\tString( date.getMonth()+1 )\r\n\r\n\t\t\tif (month < 10) {\r\n\t\t\t\tmonth = \"0\"+month\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tlet day = String(date.getDate())\r\n\t\t\tif (day < 10) {\r\n\t\t\t\tday = \"0\"+day\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tconst checkDate = year+\"-\"+month+\"-\"+day\r\n\t\t\r\n\t\t\t// Add class to tiles in month view only\r\n\t\t\tif (view === 'month') {\r\n\t\t\t\t// Check if a date React-Calendar wants to check is on the list of dates to add class to\r\n\t\t\t\ttry {\r\n\t\t\t\t\thasWeb = this.props.validDivisionWebDates.find( element => element['forDate'] === checkDate)\r\n\t\t\t\t}\r\n\t\t\t\tcatch {\r\n\t\t\t\t\t// This should trigger if DAY is not in the validSummaryDates\r\n\t\t\t\t\t// Basically just skipping it\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (hasWeb) {\r\n\t\t\t\treturn 'btn btn-success'\r\n\t\t\t} else {\r\n\t\t\t\t//return 'btn btn-outline-dark'\r\n\t\t\t}\r\n\t\t\t\t\r\n\t\t}\r\n\r\n\t\tconst eventsPrimary = {\r\n\t\t\tclick: this.selectStuffPrimary,\r\n\t\t};\r\n\t\t\r\n\t\tlet show0 = this.state.getWebStatus === 0\r\n\t\tlet show1 = this.state.getWebStatus === 1\r\n\t\tlet show2 = this.state.getWebStatus === 2\r\n\t\tlet show3 = this.state.getWebStatus === 3\r\n\t\t\r\n\t\tlet displayMessage = \"No Data!\"\r\n\t\tif (this.state.loadedDataDate !== \"None\") {\r\n\t\t\tdisplayMessage =  \"Showing Web From: \" + this.state.loadedDataDate\r\n\t\t}\r\n\t\t\r\n\t\t// In case I want to swap things over....\r\n\t\tlet displayNodes = []\r\n\t\tdisplayNodes = this.state.selectedNodes\r\n\t\tlet displayToEdges = []\r\n\t\tdisplayToEdges = this.state.selectedToEdges\r\n\t\tlet displayFromEdges = []\r\n\t\tdisplayFromEdges = this.state.selectedFromEdges\r\n\t\r\n\t\tlet showError = []\r\n\t\tfor (let index in this.state.getDatesWebError) {\r\n\t\t\tshowError.push(\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{this.state.getDatesWebError[index][\"text\"]}\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t\t\r\n\t\t}\r\n\t\r\n\t\treturn (\r\n\t\t\t<div className=\"companyWebPage bg-secondary\">\r\n\t\t\t\r\n\t\t\t\t<div className=\"container bg-light border shadow\">\r\n\t\t\t\t\t<div className=\"row my-3\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<button className=\"btn btn-dark\" onClick={this.getCompanyWebRecent}>\r\n\t\t\t\t\t\t\t\tLoad Most Recent Web From Server\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Accordion>\r\n\t\t\t\t\t\t\t\t<Accordion.Toggle as={Card.Header} className=\"border btn btn-outline-dark btn-block\" variant=\"link\" eventKey=\"open\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-1\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\tGet a Previous Web\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t<ChevronDown />\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</Accordion.Toggle>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey=\"open\">\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Calendar \r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.pickDate}\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.selectedWebDay}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttileClassName={tileClassName}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\tminDetail={'year'}\r\n\t\t\t\t\t\t\t\t\t\t\t\tmaxDetail={'month'}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</Accordion.Collapse>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Accordion>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"row my-3\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Accordion>\r\n\t\t\t\t\t\t\t\t<Accordion.Toggle as={Card.Header} className=\"border btn btn-outline-dark btn-block\" variant=\"link\" eventKey=\"open\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-1\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\tCreate a Test Web\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t<ChevronDown />\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</Accordion.Toggle>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey=\"open\">\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"row my-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label id=\"label-left\">Max Nodes</label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='number' className=\"form-control\" value={this.state.maxNodes} onChange={this.maxNodeFieldChange} placeholder='Enter Max Node Number' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label id=\"label-left\">Min Nodes</label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='number' className=\"form-control\" value={this.state.minNodes} onChange={this.minNodeFieldChange} placeholder='Enter Min Node Number' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"row my-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label id=\"label-left\">Max Relations</label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='number' className=\"form-control\" value={this.state.maxRels} onChange={this.maxRelsFieldChange} placeholder='Enter Max Relations Number' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label id=\"label-left\">Min Relations</label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='number' className=\"form-control\" value={this.state.minRels} onChange={this.minRelsFieldChange} placeholder='Enter Min Relations Number' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"row my-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label id=\"label-left\">Max Sentiment</label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='number' className=\"form-control\" value={this.state.maxSenti} onChange={this.maxSentiFieldChange} placeholder='Enter Max Sentiment' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label id=\"label-left\">Min Seniment</label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='number' className=\"form-control\" value={this.state.minSenti} onChange={this.minSentiFieldChange} placeholder='Enter Min Sentiment' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"row my-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label id=\"label-left\">Max Email Amount</label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='number' className=\"form-control\" value={this.state.maxFreq} onChange={this.maxFreqFieldChange} placeholder='Enter Max Email Amount' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label id=\"label-left\">Min Email Amount</label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='number' className=\"form-control\" value={this.state.minFreq} onChange={this.minFreqFieldChange} placeholder='Enter Min Email Amount' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<button className=\"btn btn-secondary\" onClick={this.loadData}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tCreate Data!\r\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</Accordion.Collapse>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Accordion>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"border\">\r\n\t\t\t\t\t\t{this.state.loadedData.length === 0 ?\r\n\t\t\t\t\t\t\t<div className=\"row my-5\">\r\n\t\t\t\t\t\t\t\t{show0 && <div className=\"col\">Waiting for signal to get data</div>}\r\n\t\t\t\t\t\t\t\t{show1 && <div className=\"col\">Getting Data...</div>}\r\n\t\t\t\t\t\t\t\t{show2 && <div className=\"col\">Server reported no web!</div>}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\t<u>{displayMessage}</u>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<Graph\r\n\t\t\t\t\t\t\t\t\t\tgraph={this.state.graphDataPrimary}\r\n\t\t\t\t\t\t\t\t\t\toptions={graphOptions}\r\n\t\t\t\t\t\t\t\t\t\tevents={eventsPrimary}\r\n\t\t\t\t\t\t\t\t\t\tgetNetwork={network => {\r\n\t\t\t\t\t\t\t\t\t\t\t//  if you want access to vis.js network api you can set the state in a parent component using this property\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"border-top\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\t<u>Selected Node(s):</u>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\t{displayNodes}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"border-top\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\t<u>Edge(s) coming TO this one:</u>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\t{displayToEdges}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"border-top\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\t<u>Edge(s) coming FROM this one:</u>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\t{displayFromEdges}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<ShowWebInfoComponent/>\r\n\t\t\t\t\t<div className=\"row my-2\"/>\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<Alert show={show1} variant=\"warning\">\r\n\t\t\t\t\t<Alert.Heading>Waiting</Alert.Heading>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t  Waiting for server...\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t</Alert>\r\n\t\t\t\t\r\n\t\t\t\t<Alert show={show3} variant=\"danger\">\r\n\t\t\t\t\t<Alert.Heading>Error!</Alert.Heading>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t{showError}\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t</Alert>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(ViewCompanyWeb);","import React from \"react\";\r\n\r\n//Link\r\n//import { Alert } from 'react-bootstrap';\r\nimport { withRouter, Route, Switch } from \"react-router-dom\";\r\n//import { ButtonGroup, ToggleButton } from 'react-bootstrap';\r\n\r\n//import Store from \"store\"\r\n\r\n//SetCompany\r\nimport {CompanyInvites, CompanyPermissions, CompanySettings, SelectCompany, ViewCompany, EHIDisplay, SuggestionBox, PromptEdit, CompanyWeb} from \"./companyPages\"\r\n//convertFromRaw\r\n\r\nconst DefaultView = (props) => {\r\n\r\n\treturn (\r\n\t\t<div className=\"defaultView\">\r\n\t\t\t<h3>\r\n\t\t\t\t404! You have selected and invalid page\r\n\t\t\t</h3>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\n// This needs to be changed out as this is now in 2 files....\r\n//const waitTimeMS = 100\r\nclass ContentPages extends React.Component {\r\n\r\n\tconstructor(props) {\r\n        super(props);\r\n\t\tthis.state = {\r\n\t\t\tEHITimespan: 3,\r\n\t\t\tEHISelectedPrompt: \"none\",\r\n\t\t\tEHISelectedTimescale: \"none\",\r\n\t\t\t\r\n\t\t\tcompanySelectPage: 1,\r\n\t\t\t\r\n\t\t\tpageIsLoaded: false,\r\n\t\t}\r\n\t\tthis.waitForParent = undefined;\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tthis.props.activateCompanyMenu(1)\r\n\t\t\r\n\t\t/*\r\n\t\tlet isLoaded = this.checkParentIsLoaded()\r\n\t\tif (!isLoaded) {\t\r\n\t\t\t// Wait until app.js has loaded....\r\n\t\t\tthis.waitForParent = setInterval(this.checkParentIsLoaded, waitTimeMS)\r\n\t\t}\r\n\t\t*/\r\n\t};\r\n\t\r\n\tcheckParentIsLoaded = () => {\r\n\t\tif (this.props.parentHasLoaded) {\r\n\t\t\tclearInterval(this.waitForParent)\r\n\t\t\tconsole.log(\"Company page Finished Loading!\")\r\n\t\t\tthis.setState({\r\n\t\t\t\tpageIsLoaded: true,\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\treturn true\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn false\r\n\t\t}\r\n\t}\r\n\t\r\n\tcomponentWillUnmount() {\r\n\t\tthis.props.disableMenu()\r\n\t}\r\n\t\r\n\tchangeEHIPrompt = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tEHISelectedPrompt:event.currentTarget.value\r\n\t\t})\r\n\t}\r\n\tchangeEHITimescale = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tEHISelectedTimescale:event.currentTarget.value\r\n\t\t})\r\n\t}\r\n\t\r\n\tEHITimeToggle = (dateRangeChoice) => {\r\n\t\tthis.setState({\r\n\t\t\tEHITimespan:dateRangeChoice\r\n\t\t})\r\n\t}\r\n\t\r\n\t// Rendering this with Bootstrap React.... To see if there is anything really interesting I can do with it\r\n\t// So far it doesnt look all that different \r\n\trender() {\r\n\t\r\n\t\treturn (\r\n\t\t\t<div className=\"contentPages\">\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t<div className=\"row m-1 my-5\">\r\n\t\t\t\t\t\t<div className=\"col m-1\">\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t{/*\r\n\t\t\t\t\t\t\t{ this.props.currentDivisionID === -1 &&\r\n\t\t\t\t\t\t\t\t<div className=\"row m-2\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t\t\t\t<div className=\"col m-2 border bg-warning shadow\">\r\n\t\t\t\t\t\t\t\t\t\tSelect a Company First!\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t*/}\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t\t\t<Route path={this.props.match.url+\"/companySelect\"} exact component={() => <SelectCompany\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tcompanySelectPage={this.state.companySelectPage}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tcurrentDivisionName={this.props.currentDivisionName}\r\n\t\t\t\t\t\t\t\t\t\tuserLoadedCompanyList={this.props.userLoadedCompanyList}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tgetDataRequest={this.props.getCompanyDataRequest}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tgetCompanyDataStatus={this.props.getCompanyDataStatus}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tgetCompanyValidDatesStatus={this.props.getCompanyValidDatesStatus}\r\n\t\t\t\t\t\t\t\t\t\tgetCompanyValidDatesError={this.props.getCompanyValidDatesError}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tgetCompanyValidSuggestionDatesStatus={this.props.getCompanyValidSuggestionDatesStatus}\r\n\t\t\t\t\t\t\t\t\t\tgetCompanyValidSuggestionDatesError={this.props.getCompanyValidSuggestionDatesError}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tgetCompanyEHIDataStatus={this.props.getCompanyEHIDataStatus}\r\n\t\t\t\t\t\t\t\t\t\tgetCompanyEHIDataError={this.props.getCompanyEHIDataError}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tgetDatesWebStatus={this.props.getDatesWebStatus}\r\n\t\t\t\t\t\t\t\t\t\tgetDatesWebError={this.props.getDatesWebError}\r\n\t\t\t\t\t\t\t\t\t/>} \r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Route path={this.props.match.url+\"/companyInvites\"} component={() => <CompanyInvites\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tcurrentDivisionID={this.props.currentDivisionID}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\ttriggerRefresh={this.props.loadCompanyData}\r\n\t\t\t\t\t\t\t\t\t\trefreshToken={this.props.refreshToken}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tdebugSet={this.props.debugSet}\r\n\t\t\t\t\t\t\t\t\t/>} \r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Route path={this.props.match.url+\"/companyPerms\"} component={() => <CompanyPermissions\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tcurrentDivisionID={this.props.currentDivisionID}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\ttriggerRefresh={this.props.loadCompanyData}\r\n\t\t\t\t\t\t\t\t\t\trefreshToken={this.props.refreshToken}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tdebugSet={this.props.debugSet}\r\n\t\t\t\t\t\t\t\t\t/>} \r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Route path={this.props.match.url+\"/companySettings\"} component={() => <CompanySettings\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tcurrentDivisionID={this.props.currentDivisionID}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\ttriggerRefresh={this.props.loadCompanyData}\r\n\t\t\t\t\t\t\t\t\t\trefreshToken={this.props.refreshToken}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tdebugSet={this.props.debugSet}\r\n\t\t\t\t\t\t\t\t\t/>} \r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Route path={this.props.match.url+\"/companySuggestions\"} component={() => <SuggestionBox\r\n\t\t\t\t\t\t\t\t\t\tcurrentDate={this.props.selectedSuggestDay}\r\n\t\t\t\t\t\t\t\t\t\tparentHasLoaded={this.state.pageIsLoaded}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tvalidDays={this.props.validDivisionSuggestionDates}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tdataDay={this.props.selectedSuggestDay}\r\n\t\t\t\t\t\t\t\t\t\tdataSet={this.props.selectedSuggestDayData}\r\n\t\t\t\t\t\t\t\t\t\tpickDate={this.props.getCompanySuggestionData}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tcurrentDivisionID={this.props.currentDivisionID}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tgetCompanySuggestionDataStatus={this.props.getCompanySuggestionDataStatus}\r\n\t\t\t\t\t\t\t\t\t\tgetCompanySuggestionDataError={this.props.getCompanySuggestionDataError}\r\n\t\t\t\t\t\t\t\t\t/>} \r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Route path={this.props.match.url+\"/companyEHI\"} component={() => <EHIDisplay\r\n\t\t\t\t\t\t\t\t\t\tcurrentDivisionID={this.props.currentDivisionID}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\ttimeIndex={this.state.EHITimespan}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tEHIData={this.props.EHIData}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tEHIselectedPrompt={this.state.EHISelectedPrompt}\r\n\t\t\t\t\t\t\t\t\t\tEHIselectedTimescale={this.state.EHISelectedTimescale}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tEHISetPrompt={this.changeEHIPrompt}\r\n\t\t\t\t\t\t\t\t\t\tEHISetTimescale={this.changeEHITimescale}\r\n\t\t\t\t\t\t\t\t\t\tEHITimeToggle={this.EHITimeToggle}\r\n\t\t\t\t\t\t\t\t\t/>} \r\n\t\t\t\t\t\t\t\t/>\t\r\n\t\t\t\t\t\t\t\t<Route path={this.props.match.url+\"/companySummary\"} component={() => <ViewCompany\r\n\t\t\t\t\t\t\t\t\t\tcurrentDate={this.props.selectedCompanyDate}\r\n\t\t\t\t\t\t\t\t\t\tparentHasLoaded={this.state.pageIsLoaded}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tcurrentCompany={this.props.currentCompanyDataName}\r\n\t\t\t\t\t\t\t\t\t\tsummaryType={this.props.currentCompanyDataType}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tvalidSummaryDates={this.props.validCompanySummaryDates}\r\n\r\n\t\t\t\t\t\t\t\t\t\tdisplayMessage={this.props.companyMessage}\r\n\t\t\t\t\t\t\t\t\t\tdataSet={this.props.selectedSummaryWeekData}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tselectedDay={this.props.selectedCompanyDay}\r\n\t\t\t\t\t\t\t\t\t\tselectedPrompt={this.props.selectedCompanyPrompt}\r\n\t\t\t\t\t\t\t\t\t\tselectedAspect={this.props.selectedCompanyAspect}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tsetPrompt={this.props.changeCompanyPrompt}\r\n\t\t\t\t\t\t\t\t\t\tsetAI={this.props.changeCompanyAspect}\r\n\t\t\t\t\t\t\t\t\t\tsetDay={this.props.changeCompanyDay}\r\n\t\t\t\t\t\t\t\t\t\tsetCompany={this.props.changeSelectedCompany}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tgetValidDates={this.props.getCompanyValidDates}\r\n\t\t\t\t\t\t\t\t\t\tpickDate={this.props.getCompanyWeeklySummary}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tgetCompanyWeeklySummaryStatus={this.props.getCompanyWeeklySummaryStatus}\r\n\t\t\t\t\t\t\t\t\t\tgetCompanyWeeklySummaryError={this.props.getCompanyWeeklySummaryError}\r\n\t\t\t\t\t\t\t\t\t/>} \r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Route path={this.props.match.url+\"/companyPrompts\"} component={() => <PromptEdit\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\trefreshToken={this.props.refreshToken}\r\n\t\t\t\t\t\t\t\t\t\tcurrentDivisionID={this.props.currentDivisionID}\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tredirectErrorPath={this.props.match.url+\"/companySelect\"}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tvalidFilters={this.props.validFilters}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tdebugSet={this.props.debugSet}\r\n\t\t\t\t\t\t\t\t\t/>} \r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Route path={this.props.match.url+\"/companyWeb\"} component={() => <CompanyWeb\r\n\t\t\t\t\t\t\t\t\t\trefreshToken={this.props.refreshToken}\r\n\t\t\t\t\t\t\t\t\t\tparentHasLoaded={this.state.pageIsLoaded}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tcurrentUser={this.props.currentUser}\r\n\r\n\t\t\t\t\t\t\t\t\t\tcurrentDivisionName={this.props.currentDivisionName}\r\n\t\t\t\t\t\t\t\t\t\tcurrentDivisionID={this.props.currentDivisionID}\t\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\treRouteTarget={this.props.match.url+\"/companySelect\"}\r\n\t\t\t\t\t\t\t\t\t\tvalidDivisionWebDates = {this.props.validDivisionWebDates}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tdebugSet={this.props.debugSet}\r\n\t\t\t\t\t\t\t\t\t/>} \r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Route path={this.props.match.url+\"/\"} component={() => <DefaultView\r\n\t\t\t\t\t\t\t\t\t/>} \r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Switch>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(ContentPages);","import React from \"react\";\r\n\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { Spinner } from 'react-bootstrap';\r\n\r\nexport class LoadingScreen extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\t\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"showingWebData\">\r\n\t\t\t\t<div className=\"row my-3\">\r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\tLoading...\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t<Spinner animation=\"border\" variant=\"primary\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default withRouter(LoadingScreen);","import React from \"react\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\n\nimport { SignIn, SignUp, Forgot, VerifyEmail } from \"./components/authPages\";\nimport { ContactUs } from \"./components/landingPages\";\n\nimport { Navigation, Footer } from \"./components\";\nimport { LandingPages, ContentCommonPages } from \"./components\";\n//import { UserData } from \"./components\";\n//AuthPages\n\nimport { Sidebar } from \"./utils\";\nimport { APIRefreshToken, APISignOut } from \"./utils\";\nimport { setAccessToken } from \"./utils\";\n//showTokens\n\n//checkStorageContents\nimport { timedLoadStorage, timedSaveStorage, deleteStorageKey, cleanStorageKeys} from \"./utils\";\n\n//import '../node_modules/bootstrap/dist/css/bootstrap.min.css';\nimport './App.css'\nimport './style.css'\n\n// Is THIS a patch for Github Pages react stuff?\n// Maybe...\n// Ill have to test this...\nconst basePath = \"/scenere\"\n\n// #Minutes -> seconds -> miliseconds\nconst waitTimeMS = 13 * 60 * 1000\nconst debugPagename = \"AppLevel\"\n\nlet nonUpdateRefreshingToken = false\n\n// --- BEFORE YOU START ---\n// I have tried to make most of the function names self-explanitory of what they do\nclass App extends React.Component {\n\t\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t  \n\t\t\tcurrentUser: undefined,\n\t\t\trememberMe: false,\n\t\t\t\n\t\t\tpageIsLoaded: false,\n        };\n\t\tthis.timerSet = undefined;\n\t}\n\t\n\t// Runs just before the first render\n\tcomponentDidMount() {\n\t\tcleanStorageKeys();\n\t\tthis.loadFromLocalStorage();\n\t};\n\t\n\t// Runs as it leaves memory\n\tcomponentWillUnmount() {\n\t\t// Make sure the timer is unset\n\t\tclearInterval(this.timerSet)\n\t}\n\t\n\ttimedRefresh = () => {\n\t\t//console.log('Token Refreshed!');\n\t}\n\t\n\t// These reference the footer debug\n\tcheckDebugFlag = () => {\n\t\ttry {\n\t\t\tthis.refs.debug.checkDebugFlag()\n\t\t}\n\t\tcatch {}\n\t}\n\tclearDebugPage = (pageName) => {\n\t\ttry {\n\t\t\tthis.refs.debug.clearPage(pageName)\n\t\t}\n\t\tcatch {}\n\t}\n\tchangeDebugKey = (pageName, itemKey, itemValue) => {\n\t\ttry {\n\t\t\tthis.refs.debug.changeKey(pageName, itemKey, itemValue)\n\t\t}\n\t\tcatch {}\n\t}\n\t\n\t// Menu sidebar controls...\n\t// Each of these reference a function in the sidebar menu\n\tdisableMenu = () => {\n\t\ttry {\n\t\t\tthis.refs.sidebar.disableMenu()\n\t\t}\n\t\tcatch {}\n\t}\n\tactivateUserMenu = () => {\n\t\ttry {\n\t\t\tthis.refs.sidebar.activateMenu(0)\n\t\t}\n\t\tcatch {}\n\t}\n\tactivateCompanyMenu = () => {\n\t\ttry {\n\t\t\tthis.refs.sidebar.activateMenu(1)\n\t\t}\n\t\tcatch {}\n\t}\n\tchangeUserMenuItems = (nextState) => {\n\t\ttry {\n\t\t\tthis.refs.sidebar.setUserFlag(nextState)\n\t\t}\n\t\tcatch {}\n\t}\n\tchangeCompanyMenuItems = (nextState) => {\n\t\ttry {\n\t\t\tthis.refs.sidebar.setCompanyFlag(nextState)\n\t\t}\n\t\tcatch {}\n\t}\n\tchangeMenuUserName = (newName) => {\n\t\ttry {\n\t\t\tthis.refs.sidebar.setUserName(newName)\n\t\t}\n\t\tcatch {}\n\t}\n\tchangeMenuCompanyName = (newCompany) => {\n\t\ttry {\n\t\t\tthis.refs.sidebar.setCompanyName(newCompany)\n\t\t}\n\t\tcatch {}\n\t}\n\t\n\t// I am still going to use the local and session storage until I have a grasp on cookies\n\tloadFromLocalStorage = () => {\n\t\tlet lastUserSet = timedLoadStorage('lastUser');\n\t\t\n\t\tif (lastUserSet === 0) {\n\t\t\t//console.log(\"No User In the Storage!\")\n\t\t\t\n\t\t\tthis.setState({ \n\t\t\t\tpageIsLoaded: true,\n\t\t\t})\n\t\t}\n\t\telse if (lastUserSet === 1) {\n\t\t\t//console.log(\"Session was expired!\")\n\t\t\t\n\t\t\tthis.setState({ \n\t\t\t\tpageIsLoaded: true,\n\t\t\t})\n\t\t}\n\t\telse if (lastUserSet === 2) {\n\t\t\t//console.log(\"Invalid Save!\")\n\t\t\t\n\t\t\tthis.setState({ \n\t\t\t\tpageIsLoaded: true,\n\t\t\t})\n\t\t}\n\t\telse {\n\t\t\tthis.changeMenuUserName(lastUserSet.user)\n\t\t\t// Remember, this refresh needs. AND I MEAN NEEDS. TO GET TO A BETTER STORAGE SPOT\n\t\t\t// Load it into a cookie on the Django End....\n\t\t\tthis.login(lastUserSet.lastAccess, lastUserSet.user, true)\n\t\t}\n\t}\n\t\n\tsilentTokenUpdate = (token) => {\n\t\treturn setAccessToken(token)\n\t}\n\t\n\tkillAccessToken = () => {\n\t\tsetAccessToken(\"\")\n\t}\n\t\n\t// Login, will initialize the current user variable, and a couple process-related variables, then returns wether it successfully did that \n\tlogin = ( token, username, remember ) => {\n\t\t\n\t\t// Change the username shown in the sidebar\n\t\tthis.changeMenuUserName(username)\n\t\t\n\t\tif (remember === true) {\n\t\t\t//Save the current token and user to the local storage, with a timeout\n\t\t\ttimedSaveStorage( \"lastUser\", {user:username, lastAccess:token}, 2)\n\t\t}\n\t\t\n\t\t// Try to update the token in memory\n\t\tlet sanityCheck = this.silentTokenUpdate(token)\n\t\t\n\t\t// Check if it actually did\n\t\tif (sanityCheck) {\t\t\n\t\t\t// Update the variables...\n\t\t\tthis.setState({ \n\t\t\t\tcurrentUser: username, \n\t\t\t\trememberMe: remember,\n\t\t\t\t\n\t\t\t\tpageIsLoaded: true,\n\t\t\t})\n\t\t\t\n\t\t\t// Create an auto-refresh of the token\n\t\t\tthis.timerSet = setInterval(this.timedRefreshToken, waitTimeMS)\n\t\t}\n\t\telse {\n\t\t\treturn false\n\t\t}\n\t\t\n\t\t// Return if we succeeded or not\n\t\treturn true\n\t}\n\t\n\trefreshFailure = (incomingError, callbackSignal) => {\n\t\t// Not sure why I would want a callback Signal here but...\n\t\t//console.log(incomingError)\n\t\tthis.changeDebugKey(debugPagename, \"Refresh Status\", \"Failed!\")\n\t\t\n\t\tthis.logout()\n\t\tnonUpdateRefreshingToken = false\n\t}\n\trefreshCallback = (incomingToken, callbackSignal) => {\n\t\t\n\t\tthis.changeDebugKey(debugPagename, \"Refresh Status\", \"Success!\")\n\t\t\n\t\tthis.silentTokenUpdate(incomingToken.access)\n\t\tnonUpdateRefreshingToken = false\n\n\t\t// Now, trigger this function as our redo... Hm\n\t\tcallbackSignal()\n\t}\n\t// Test out refreshing the token...\n\t// Should do this every page reload...\n\tsilentRefreshToken = ( callbackWhenDone ) => {\n\t\t\n\t\t// Definetly going to have to change this crap up once the refresh token is in a cookie\n\t\tAPIRefreshToken(this.refreshCallback, this.refreshFailure, callbackWhenDone)\n\t}\n\t\n\ttimedRefreshToken = () => {\n\t\tthis.changeDebugKey(debugPagename, \"Refresh Triggered\", \"Time Based\")\n\t\tthis.silentRefreshToken(this.timedRefresh)\n\t}\n\t\n\ttriggerSilentRefreshToken = ( callbackRefresh ) => {\n\t\t//console.log(\"Triggered this thing\")\n\t\t//console.log( callbackRefresh )\n\t\t\n\t\tif (this.state.currentUser === undefined) {\n\t\t\t//  Something is unauthorized, and we have no user! We need to logout!\n\t\t\t//this.logout()\n\t\t}\n\t\telse {\n\t\t\tif (!nonUpdateRefreshingToken) {\n\t\t\t\tthis.silentRefreshToken( callbackRefresh )\n\t\t\t\t\n\t\t\t\t//console.log(\"TRIGGERD REFRESH OF TOKEN FROM A COMPONENT!\")\n\t\t\t\tnonUpdateRefreshingToken = true\n\t\t\t\t\n\t\t\t\t// Now, we have to trigger a redo of the stuff once its done...\n\t\t\t}\n\t\t\telse {\n\t\t\t\t//console.log(\"Already refreshing token!\")\n\t\t\t}\n\t\t}\n\t}\n\t\n\tdeleteServerCookiesFailure = (incomingError) => {\n\t\t// Depends on the error honestly...\n\t\t//console.log(incomingError)\n\t}\n\tdeleteServerCookiesCallback = (incomingMessage) => {\n\t\t//console.log(incomingMessage)\n\t}\n\tdeleteServerCookies = () => {\n\t\tAPISignOut(this.deleteServerCookiesCallback, this.deleteServerCookiesFailure)\n\t}\n\t\n\t// Should move this over to the UTIL...\n\tlogout = () => {\n\t\t//console.log(\"LOGOUT TIRGGERED\")\n\t\tthis.changeDebugKey(debugPagename, \"Logout function\", \"Triggered\")\n\t\t//console.log(\"Triggering A Logout\")\t\n\t\tthis.deleteServerCookies()\n\t\t\n\t\tclearInterval(this.timerSet)\n\t\tthis.changeMenuUserName(\"No User\")\n\t\tthis.silentTokenUpdate(undefined)\n\t\tdeleteStorageKey('lastUser')\n\t\t\n\t\tdeleteStorageKey(this.state.currentUser+'/lastGotCompany')\n\t\tdeleteStorageKey(this.state.currentUser+'/lastUser')\n\t\t\n\t\tthis.setState({\n\t\t\tcurrentUser: undefined \n\t\t})\n\t}\n\t\n\trender() {\n\n\t\treturn (\n\t\t\t<Router>\n\t\t\t\t<div className=\"App\">\n\t\t\t\t\t\n\t\t\t\t\t<Sidebar\n\t\t\t\t\t\tref=\"sidebar\"\n\t\t\t\t\t\tbasePath={basePath}\n\t\t\t\t\t/>\n\t\t\t\t\t\n\t\t\t\t\t{/*\n\t\t\t\t\t<UserData\n\t\t\t\t\t\tref=\"userDataLoad\"\n\t\t\t\t\t/>\n\t\t\t\t\t*/}\n\t\t\t\t\t\n\t\t\t\t\t<Navigation\n\n\t\t\t\t\t\tcurrentUser={this.state.currentUser}\n\t\n\t\t\t\t\t\tlogout={this.logout}\n\t\t\t\t\t\t\n\t\t\t\t\t\treRouteSignIn={basePath+\"/signin\"}\n\t\t\t\t\t\treRouteSignUp={basePath+\"/signup\"}\n\t\t\t\t\t\t\n\t\t\t\t\t\treRouteLanding={basePath+\"/\"}\n\t\t\t\t\t\treRouteDashboard={basePath+\"/dashboard\"}\n\t\t\t\t\t\t\n\t\t\t\t\t\treRouteUserInvites={basePath+\"/dashboard/userMode/userInvite\"}\n\t\t\t\t\t\treRouteUserSecurity={basePath+\"/dashboard/userMode/userSecurity\"}\n\t\t\t\t\t\treRouteUserPermissions={basePath+\"/dashboard/userMode/userPermissions\"}\n\t\t\t\t\t\t\n\t\t\t\t\t\tdebugSet={this.changeDebugKey}\n\t\t\t\t\t/>\n\t\t\t\t\t\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\n\t\t\t\t\t\t<Route path={basePath+\"/\"} exact component={() => <LandingPages \n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t/>} \n\t\t\t\t\t\t/>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<Route path={basePath+\"/signin\"} exact component={() => <SignIn \n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tloginSave={this.login}\n\n\t\t\t\t\t\t\t\treRouteTarget={basePath+\"/dashboard\"}\n\t\t\t\t\t\t\t\tforgotPath={basePath+\"/forgot\"}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tdebugSet={this.changeDebugKey}\n\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t/>\t\n\t\t\t\t\t\t<Route path={basePath+\"/signup\"} exact component={() => <SignUp \n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\treRouteTarget={basePath+\"/verify\"}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tloginSave={this.login}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t//currentUser={this.state.currentUser}\n\t\t\t\t\t\t\t\tauthToken={this.state.accessToken}\n\t\t\t\t\t\t\t/>} \n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route path={basePath+\"/verify\"} exact component={() => <VerifyEmail \n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tauthToken={this.state.accessToken}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\trefreshToken={this.triggerSilentRefreshToken}\n\t\t\t\t\t\t\t\treRouteTarget={basePath+\"/signin\"}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\treRouteSuccessTarget={basePath+\"/dashboard\"}\n\t\t\t\t\t\t\t/>} \n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route path={basePath+\"/forgot\"} exact component={() => <Forgot \n\t\t\t\t\t\t\t\treRouteTarget={basePath+\"/signin\"}\n\t\t\t\t\t\t\t/>} \n\t\t\t\t\t\t/>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<Route path={basePath+\"/contact\"} exact component={() => <ContactUs \n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t/>} \n\t\t\t\t\t\t/>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<Route path={basePath+\"/dashboard\"} component={() => <ContentCommonPages \n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tactivateRedirect={basePath+\"/verify\"}\n\t\t\t\t\t\t\t\tparentHasLoaded={this.state.pageIsLoaded}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\trefreshToken={this.triggerSilentRefreshToken}\n\t\t\t\t\t\t\t\tlogout={this.logout}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tcurrentUser={this.state.currentUser}\n\t\t\t\t\t\t\t\tauthToken={this.state.accessToken}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\treRouteSignIn={basePath+\"/signin\"}\n\t\t\t\t\t\t\t\treRouteCompany={basePath+\"/dashboard\"}\n\t\t\t\t\t\t\t\treRouteUser={basePath+\"/dashboard\"}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tdisableMenu={this.disableMenu}\n\t\t\t\t\t\t\t\tactivateUserMenu={this.activateUserMenu}\n\t\t\t\t\t\t\t\tchangeUserMenuItems={this.changeUserMenuItems}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tactivateCompanyMenu={this.activateCompanyMenu}\n\t\t\t\t\t\t\t\tchangeMenuCompanyName={this.changeMenuCompanyName}\n\t\t\t\t\t\t\t\tchangeCompanyMenuItems={this.changeCompanyMenuItems}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tdebugSet={this.changeDebugKey}\n\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t</Switch>\n\t\t\t\t\t\n\t\t\t\t\t<div className=\"row m-5\"/>\n\n\t\t\t\t\t<Footer \n\t\t\t\t\t\tref=\"debug\"\n\t\t\t\t\t\tdebugFlag={this.state.debugMode}\n\t\t\t\t\t\tdebugDisplay={this.state.debugDisplay}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</Router>\n\t\t);\n\t}\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\n//import $ from'jquery';\n//import Popper from 'popper.js';\n//import '@trendmicro/react-sidenav/dist/react-sidenav.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'bootstrap/dist/js/bootstrap.bundle.min';\n//import './custom.scss';\n\n//<React.StrictMode>\n//</React.StrictMode>,\n\nReactDOM.render(\n  \n\t<App />,\n  \n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}