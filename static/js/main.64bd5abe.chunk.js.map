{"version":3,"sources":["components/navigation.jsx","components/footer.jsx","components/signIn.jsx","components/signUp.jsx","components/forgot.jsx","components/landing.jsx","components/mainMenu.jsx","utils/index.js","components/journalView.jsx","components/journalMake.js","components/companyView.js","components/companySettings.jsx","components/testStuff.jsx","App.js","reportWebVitals.js","index.js"],"names":["navigation","props","triggerLogout","clearLogin","state","something","basePath","this","iconButton","userDisplay","undefined","currentUser","className","to","onClick","type","data-toggle","data-target","aria-controls","aria-expanded","aria-label","id","React","Component","withRouter","footer","signIn","loadFromCookies","data","Store","get","setState","username","user","password","pass","userFieldChange","event","target","value","passFieldChange","remFieldChange","remember","handleSubmit","set","console","log","axios","post","APIHost","then","res","latestAttempt","result","loginSave","token","history","push","reRouteTarget","catch","err","preventDefault","currentState","onSubmit","onChange","placeholder","htmlFor","forgotPath","signup","usernameFieldChange","emailFieldChange","email","pass2FieldChange","password2","firstNameFieldChange","firstName","lastnameFieldChange","lastName","checkFieldChange","checkField","first_name","last_name","latestAttept","forgotPassword","goSignIn","arePasswordsSame","password1","swapToCode","sendEmail","checkValue","checkPasswords","tokenFieldChange","resetToken","pass1FieldChange","passwordsSame","currentField","currentButton","currentMessage","landing","getFromCookies","chartReference","createRef","userToken","mainMenu","journalWriteDirect","journalReadDirect","companyReadDirect","companySettingDirect","getRadarEmotionData","inputData","labels","datasets","label","backgroundColor","borderColor","borderWidth","getSentimentData","getConceptsData","getCategoryData","testMaxMin","inputMax","inputAve","inputMin","stackedBarData","inputData1","inputData2","inputData3","stackedBarData2Test","generateTestEHIX","i","textX","generateTestEHIY","textY","timeLength","Math","sin","journalView","backButton","goBack","journalDates","validJournalScanDates","AIDates","validJournalDates","loadTestData","index","AIdata","catData","categories","catLabels","catScores","cat","score","conData","concepts","conLabels","conRelevance","conDatabase","con","text","relevance","dbpedia_resource","emDataObj","emotion","document","emData","anger","disgust","fear","joy","sadness","entData","entities","entity","ent","entEmotion","senDataScore","sentiment","oppData","abs","arrangedDataScore","entStore","count","keyData","keywords","keyword","key","keyEmotion","keyStore","relation","relDat","relations","rel","relStore","init","arguments","action","dataCategories","dataConcepts","dataEmotion","dataEntities","dataKeywords","dataRelations","dataSentiment","saveToCookies","getJournalDates","config","headers","Authorization","authToken","tempAIArray","tempJoArray","remove","item","newDate","Date","createdDate","checkDate","getFullYear","getMonth","getDate","hasAI","response","status","forceLogout","pickDate","selectedDate","currentDate","journal","content","dateReq","toJSON","split","length","AIresult","messages","toString","journalDisp","forceCalenderUpdateTest","journalData","optionsCategories","scales","yAxes","ticks","beginAtZero","suggestedMin","suggestedMax","optionsConcepts","optionsEmotions","scale","optionsSentiment","cutoutPercentage","editorState","setEditor","editor","entitiesDisplay","emotionData","sentimentData","scope","ref","options","keywordsDisplay","relationsDisplay","tileClassName","date","view","hasJournal","find","element","minDetail","maxDetail","styles","border","minHeight","StyleButton","onToggle","e","style","active","BLOCK_TYPES","BlockStyleControls","selection","getSelection","blockType","getCurrentContent","getBlockForKey","getStartKey","getType","map","INLINE_STYLES","InlineStyleControls","currentStyle","getCurrentInlineStyle","has","saveJournal","randomID","random","substr","shorthand","author","getPlainText","loadToday","loadedEditor","convertFromRaw","EditorState","createWithContent","cookieToday","convertToRaw","onBoldClick","RichUtils","toggleInlineStyle","toggleBlockType","inlineStyle","handleKeyCommand","command","newState","today","createEmpty","journalPlaceolder","incomingState","AIAspect","name","daySet","parseEmotion","companyViewSummary","loadCompanyData","getCookiesListData","getCompanyList","loadDatesData","getCookiesValidDates","getValidDates","flushCookies","currentCompany","selectPrompt","selectedPrompt","currentTarget","selectAI","selectedAspect","selectDay","seletedDay","adding","companyOwner","includes","companyAllowsView","companySendsTo","companyList","getDates","tempSumArray","forDate","hasMon","hasTue","hasWed","hasThu","hasFri","hasSat","hasSun","validSummaryDates","todayWeekday","getDay","copiedDate","getTime","setDate","dataDate","dataCompany","incomingDict","mon","monResult","tue","tueResult","wed","wedResult","thu","thuResult","fri","friResult","sat","satResult","sun","sunResult","allDay","summaryResult","dataSet","setCurrentCompany","dropMessage","tableDisplay","currentPrompt","currentDay","currentAspect","promptList","dayData","displayStats","promptName","purity","responsePurity","ProgressBar","now","emoMax","max","emoAve","ave","emoMin","min","dataRadarTest","radarOptionsTest","emoThresh","threshold","dataBarTest","barOptionsTest","dataBarStack","barStackOptions","xAxes","dataBarNorm","sentimentBarData","thresholdPos","thresholdNeg","barOptionsNorm","emoData","emoOptions","dataEntSent","confidence","dataEntOptions","colSpan","dataRadar","dataRadarOptions","dataKeySent","dataKeyOptions","relData","scoreData","scoreOptions","width","dropDownInternal","comp","aria-haspopup","aria-labelledby","ButtonGroup","toggle","radio","idx","ToggleButton","variant","checked","sorter","companySettings","postNewCompanyData","companyName","companyReName","dataCompanyName","summaryViewAccess","dataCompanyPriv","resultsSendTargets","dataCompanySendTo","privateViewingPerms","dataCompanyViewing","governedUsers","dataCompanyGoverned","dataCompanySendToDeleted","dataCompanyViewingDeleted","dataCompanyGovernedDeleted","getCompanyData","targetCompany","sendChange","searchSend","viewChange","searchView","govChange","searchGov","addingEmail","triggerCompanySwap","triggerModal","clickedList","parentElement","clickedIndex","triggerStopAdd","subset","dataCompanySendToAdded","splice","dataCompanyViewingAdded","dataCompanyGovernedAdded","triggerReAdd","reAdd","modelAddEmail","newArray","modelAcceptDelete","deleteQueue","companySend","userSet","indexOf","companySendAdd","companySendDelete","companyViewing","companyViewingAdd","companyViewingDelete","governedList","companyGovernedAdd","companyGovernedDelete","selectedUser","tabIndex","role","aria-hidden","data-dismiss","historyGraphTimings","dayLength","GraphTimingButtons","currentDisplay","graphState","testClass","changeEHIdates","dateRangeChoice","EHITimespan","cookiedata","hasSummary","floor","dateLabels","EHISet","dayCount","lineData","inputXAxis","inputDataList","builtData","dataIndex","fill","arbitraryLineData","slice","lineOptions","height","hostName","App","lastUserSet","sessionToken","session","setToken","refresh","logout","path","exact","component","tokenRefresh","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.64bd5abe.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\n\r\nclass navigation extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n          \r\n\t\t  something: null,\r\n\r\n        };\r\n\t}\r\n\r\n\ttriggerLogout = () => {\r\n\t\tthis.props.clearLogin()\r\n\t}\r\n\t\r\n\t/*\r\n\t<li className={'nav-item'}  key='31'>\r\n\t\t<Link className=\"nav-link\" to={basePath+\"/test2\"}>\r\n\t\t\t!!TestDisplay 2!!\r\n\t\t</Link>\r\n\t</li>*/\r\n\t\r\n\trender() {\r\n\t\tconst basePath = this.props.basePath\r\n\r\n\t\tlet iconButton = null\r\n\t\tlet userDisplay = null\r\n\r\n\t\tif (this.props.currentUser === undefined) {\r\n\t\t\ticonButton = [\r\n\t\t\t\t(<li className={'nav-item'} key='0'>\r\n\t\t\t\t\t<Link className=\"nav-link\" to={basePath+\"/signup\"}>\r\n\t\t\t\t\t\tSign Up\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</li>),\r\n\r\n\t\t\t\t(<li className={'nav-item'}  key='1'>\r\n\t\t\t\t\t<Link className=\"nav-link\" to={basePath+\"/signin\"}>\r\n\t\t\t\t\t\tSign In\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</li>)\r\n\t\t\t]\r\n\r\n\t\t\tuserDisplay = (\r\n\t\t\t\t<li className={'nav-item'}  key='2'>\t\r\n\t\t\t\t\t<Link className=\"nav-link\" to={basePath+\"/menu\"}>\r\n\t\t\t\t\t\tNone\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t}\r\n\t\telse {\r\n\t\t\ticonButton = (\r\n\t\t\t\t<li className={'nav-item'}  key='3'>\r\n\t\t\t\t\t<Link className=\"nav-link\" to={basePath+\"/\"} onClick={this.triggerLogout}>\r\n\t\t\t\t\t\tSign Out\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\r\n\t\t\tuserDisplay = (\r\n\t\t\t\t<li className={'nav-item'}  key='4'>\t\r\n\t\t\t\t\t<Link className=\"nav-link\" to={basePath+\"/menu\"}>\r\n\t\t\t\t\t\t{this.props.currentUser}\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"navigation\">\r\n\t\t\t\t<nav className=\"navbar navbar-expand-lg navbar-dark bg-dark\">\r\n\t\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t\t<Link className=\"navbar-brand\" to={basePath+\"/\"}>\r\n\t\t\t\t\t\t\tProject Scenere\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclassName=\"navbar-toggler\"\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\tdata-toggle=\"collapse\"\r\n\t\t\t\t\t\t\tdata-target=\"#navbarResponsive\"\r\n\t\t\t\t\t\t\taria-controls=\"navbarResponsive\"\r\n\t\t\t\t\t\t\taria-expanded=\"false\"\r\n\t\t\t\t\t\t\taria-label=\"Toggle navigation\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<span className=\"navbar-toggler-icon\"></span>\r\n\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t<div className=\"collapse navbar-collapse\" id=\"navbarResponsive\">\r\n\t\t\t\t\t\t\t<ul className=\"navbar-nav ml-auto\">\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<li className={'nav-item'}  key='30'>\r\n\t\t\t\t\t\t\t\t\t<Link className=\"nav-link\" to={basePath+\"/test\"}>\r\n\t\t\t\t\t\t\t\t\t\t!!TestDisplay 1!!\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</li>\r\n\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t{iconButton}\r\n\t\t\t\t\t\t\t\t<li className={'nav-link'}>\t\r\n\t\t\t\t\t\t\t\t\tCurrent User: \r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t{userDisplay}\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</nav>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(navigation);","import React from \"react\";\r\n\r\nclass footer extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\r\n        };\r\n\t}\r\n\t// fixed-bottom\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"footer\">\r\n\t\t\t\t<footer className=\"py-3 bg-dark fixed-bottom\">\r\n\t\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t\t<p className=\"m-0 text-center text-white\">\r\n\t\t\t\t\t\t\tCopyright &copy; Nightingale Technologies 2020\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</footer>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default footer;","import React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport { Link, withRouter } from 'react-router-dom';\r\n\r\nimport Store from \"store\"\r\n\r\nclass signIn extends React.Component {\r\n\r\n\t// Lets test this out, before we move this over to the App js file\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n          \r\n\t\t\t// Lets do a state machine for the sake of it...\r\n\t\t\t// 0 is \"No result given yet\"\r\n\t\t\t// 1+ would be error codes...\r\n\t\t\t// How can I change this screen as per this?\r\n\t\t\t// Eh, thats later...\r\n\t\t\tcurrentState: 0,\r\n\r\n\t\t\t// This can take in the response code, and we can use that, cant we?\r\n\t\t\tlatestAttempt: 0,\r\n\t\t  \r\n\t\t\tusername: '',\r\n\t\t\t\r\n\t\t\t// This needs to be hashed as fast as possible...\r\n\t\t\t// But I will worry about security...\r\n\t\t\t// Just note that this is probobly a bad idea...\r\n\t\t\tpassword: '',\r\n\t\t\t\r\n\t\t\tremember: false,\r\n\t\t\t\r\n        };\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tthis.loadFromCookies();\r\n\t};\r\n\t\r\n\tloadFromCookies = () => {\r\n\t\t\r\n\t\tconst data = Store.get('rememberUser')\r\n\t\ttry {\r\n\t\t\tthis.setState({ username:data.user ,password:data.pass })\r\n\t\t} catch {\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\t\r\n\tuserFieldChange = (event) => {\r\n\t\tthis.setState( {username: event.target.value} )\r\n\t}\r\n\t\r\n\tpassFieldChange = (event) => {\r\n\t\tthis.setState( {password: event.target.value} )\r\n\t}\r\n\t\r\n\tremFieldChange = (event) => {\r\n\t\tthis.setState( {remember: event.target.value} )\r\n\t}\r\n\t\r\n\thandleSubmit = event => {\r\n\t\t//console.log(\"Login Triggered\")\r\n\t\t\r\n\t\t// THIS IS TERRIBLE SECIRTY! WILL SECURE THE PASSWORD IN PLAIN TEXT!\r\n\t\tif(this.state.remember) {\r\n\t\t\tStore.set('rememberUser', {user:this.state.username , pass: this.state.password })\r\n\t\t\tconsole.log(\"User data Stored\")\r\n\t\t}\r\n\t\t\r\n\t\tconst data = {\r\n\t\t\tusername: this.state.username,\r\n\t\t\tpassword: this.state.password\r\n\t\t};\r\n\t\t\r\n\t\t//console.log(data)\r\n\r\n\t\taxios.post(this.props.APIHost +\"/apiTokenAuth/\", data )\r\n\t\t.then( res => { \r\n\t\t\tthis.setState({ latestAttempt: 200 })\r\n\t\t\tconst result = this.props.loginSave( res.data.token, this.state.username )\r\n\t\t\tconsole.log(\"Success\")\r\n\t\t\t\r\n\t\t\tif (result) {\r\n\t\t\t\tconsole.log(\"Token registered\")\r\n\t\t\t\t\r\n\t\t\t\t// Change this to a dashboard lookin thing\r\n\t\t\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tconsole.log(\"Token Failed..?\")\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch( err => {\r\n\t\t\t// Change this depending on the error...\r\n\t\t\tthis.setState({ latestAttempt: 400 })\r\n\t\t\tconsole.log(err)\r\n\t\t\tconsole.log(\"Connection failed...\")\r\n\t\t})\r\n\r\n\t\tevent.preventDefault();\r\n\t}\r\n\t\r\n\trender() {\r\n\t\r\n\t\treturn (\r\n\t\t\t<div className='container'>\r\n\t\t\t\t<form onSubmit={this.handleSubmit} >\r\n\t\t\t\t\t<h3>Sign In</h3>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<label>Email Address</label>\r\n\t\t\t\t\t\t<input type='text' className='form-control' value={this.state.username} onChange={this.userFieldChange} placeholder='Enter Username' />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<label>Password</label>\r\n\t\t\t\t\t\t<input type='password' className='form-control' value={this.state.password} onChange={this.passFieldChange} placeholder='Enter password' />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<input type='checkbox' className='form-control-input' id='customCheck1' value={this.state.remember} onChange={this.remFieldChange} />\r\n\t\t\t\t\t\t<label className='form-control-label' htmlFor='customCheck1' >Remember Me</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<button type='submit' className='btn btn-dark btn-block'>Submit</button>\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t<p className='col forgot-password text-right text-dark'>\r\n\t\t\t\t\t\t\t<Link className=\"nav-link\" to={this.props.forgotPath}>\r\n\t\t\t\t\t\t\t\tForgot password?\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</p>\r\n\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(signIn);","import React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nclass signup extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\t\t\t\r\n\t\t\tusername: '',\r\n\t\t\temail: '',\r\n\t\t\tpassword: '',\r\n\t\t\tpassword2: '',\r\n\t\t\tfirstName: '',\r\n\t\t\tlastName: '',\r\n\t\t\t\r\n\t\t\tcheckField: false,\r\n        };\r\n\t}\r\n\t\r\n\t// Wait, are Usernames a good thing for what we are doing? Hmmmm\r\n\tusernameFieldChange = (event) => {\r\n\t\tthis.setState( {username: event.target.value} )\r\n\t}\r\n\t\r\n\temailFieldChange = (event) => {\r\n\t\tthis.setState( {email: event.target.value} )\r\n\t}\r\n\t\r\n\tpassFieldChange = (event) => {\r\n\t\tthis.setState( {password: event.target.value} )\r\n\t}\r\n\t\r\n\tpass2FieldChange = (event) => {\r\n\t\tthis.setState( {password2: event.target.value} )\r\n\t}\r\n\t\r\n\tfirstNameFieldChange = (event) => {\r\n\t\tthis.setState( {firstName: event.target.value} )\r\n\t}\r\n\t\r\n\tlastnameFieldChange = (event) => {\r\n\t\tthis.setState( {lastName: event.target.value} )\r\n\t}\r\n\t\r\n\tcheckFieldChange = (event) => {\r\n\t\tthis.setState( {checkField: event.target.value} )\r\n\t}\r\n\t\r\n\thandleSubmit = event => {\r\n\t\t\r\n\t\tif (this.state.checkField) {\r\n\t\t\tconsole.log(\"Field was not checked\")\r\n\t\t}\r\n\t\t\r\n\t\tconst data = {\r\n\t\t\tusername: this.state.username,\r\n\t\t\t\r\n\t\t\tpassword: this.state.password,\r\n\t\t\tpassword2: this.state.password2,\r\n\t\t\t\r\n\t\t\temail: this.state.email,\r\n\t\t\t\r\n\t\t\tfirst_name: this.state.firstName,\r\n\t\t\tlast_name: this.state.firstName,\r\n\t\t};\r\n\t\t\r\n\t\t//DISABLE SIGNUP FOR NOW\r\n\t\t\r\n\t\t//console.log(data)\r\n\r\n\t\taxios.post(this.props.APIHost +\"/registerUser/\", data )\r\n\t\t.then( res => { \r\n\t\t\tthis.setState({ latestAttept: 200 })\r\n\t\t\tconsole.log(\"Success\")\r\n\t\t})\r\n\t\t.catch( err => {\r\n\t\t\t// Change this depending on the error...\r\n\t\t\tthis.setState({ latestAttept: 400 })\r\n\t\t\tconsole.log(err)\r\n\t\t\tconsole.log(\"Connection failed...\")\r\n\t\t})\r\n\r\n\t\tevent.preventDefault();\r\n\t}\r\n\t\r\n\trender() {\r\n\t\treturn (\r\n\t\t\r\n\t\t\t<div className=\"container\">\r\n\t\t\t\t<form  onSubmit={this.handleSubmit}>\r\n\t\t\t\t\t<h3>Sign Up</h3>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<label>Username</label>\r\n\t\t\t\t\t\t<input type='text' className='form-control' value={this.state.username} onChange={this.usernameFieldChange} placeholder='Enter Username' />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<label>Email Address</label>\r\n\t\t\t\t\t\t<input type='email' className='form-control' value={this.state.email} onChange={this.emailFieldChange} placeholder='Enter email' />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<label>Password</label>\r\n\t\t\t\t\t\t<input type='password' className='form-control' value={this.state.password} onChange={this.passFieldChange} placeholder='Enter password' />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<label>Confirm Password</label>\r\n\t\t\t\t\t\t<input type='password' className='form-control' value={this.state.password2} onChange={this.pass2FieldChange} placeholder='Confirm password' />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<label>First Name</label>\r\n\t\t\t\t\t\t<input type='text' className='form-control' value={this.state.firstName} onChange={this.firstNameFieldChange} placeholder='First Name' />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<label>Last Name</label>\r\n\t\t\t\t\t\t<input type='text' className='form-control' value={this.state.lastName} onChange={this.lastnameFieldChange} placeholder='Last Name' />\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<input type='checkbox' className='form-control-input' id='customCheck1' value={this.state.checkField} onChange={this.checkFieldChange} />\r\n\t\t\t\t\t\t<label className='form-control-label' htmlFor='customCheck1' >Legal stuff? Not sure...</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<button type='submit' className='btn btn-dark btn-block'>Submit</button>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t</form>\r\n\t\t\t\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default signup;","import React from \"react\";\r\n\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nclass forgotPassword extends React.Component {\r\n\t\t\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\r\n\t\t\temail: '',\r\n\r\n\t\t\tresetToken: '',\r\n\r\n\t\t\tcurrentState: 0,\r\n\r\n\t\t\tpassword1:'',\r\n\t\t\tpassword2:'',\r\n\r\n\t\t\tpasswordsSame: false\r\n\t\t\t\t\t\t\r\n        };\r\n\t\t\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.setState( \r\n\t\t\t{email: ''},\r\n\t\t\t{resetToken: ''},\r\n\t\t\t{password1: ''},\r\n\t\t\t{password2: ''},\r\n\t\t)\r\n\t}\r\n\r\n\tgoSignIn = () => {\r\n\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t}\r\n\r\n\tarePasswordsSame = () => {\r\n\t\t// I MAY need something more complicated than this, but it can be this for now....\r\n\t\treturn (this.state.password1 === this.state.password2)\r\n\t}\r\n\r\n\tswapToCode = () => {\r\n\t\tthis.setState( {currentState: 1} )\r\n\t}\r\n\r\n\tsendEmail = () => {\r\n\t\tthis.setState( {currentState: 1} )\r\n\t}\r\n\r\n\tcheckValue = () => {\r\n\t\tthis.setState( {currentState: 2} )\r\n\t}\r\n\r\n\tcheckPasswords = () => {\r\n\t\t// I can use the API for this...\r\n\t\tif (this.arePasswordsSame()) {\r\n\t\t\tthis.setState( {currentState: 3} )\r\n\t\t}\r\n\t}\r\n\r\n\r\n\temailFieldChange = (event) => {\r\n\t\tthis.setState( {email: event.target.value} )\r\n\t}\r\n\r\n\ttokenFieldChange = (event) => {\r\n\t\tthis.setState( {resetToken: event.target.value} )\r\n\r\n\t\tthis.arePasswordsSame()\r\n\t}\r\n\t\r\n\tpass1FieldChange = (event) => {\r\n\t\tthis.setState( {password1: event.target.value} )\r\n\r\n\t\t//this.arePasswordsSame()\r\n\t}\r\n\r\n\tpass2FieldChange = (event) => {\r\n\t\tthis.setState( {password2: event.target.value} )\r\n\r\n\t\tthis.arePasswordsSame()\r\n\t}\r\n\r\n\r\n\trender() {\r\n\r\n\t\tlet currentField = null\r\n\t\tlet currentButton = null\r\n\t\tlet currentMessage = null\r\n\r\n\t\tif (this.state.currentState === 0) {\r\n\t\t\tcurrentMessage = (\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<p> \r\n\t\t\t\t\t\t\tEnter your email address.\r\n\t\t\t\t\t\t\tIf it is in the system, we will send you an email address with a code.\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\r\n\t\t\tcurrentField = (\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t<label>Email Address</label>\r\n\t\t\t\t\t\t\t<input type='text' className='form-control' value={this.state.email} onChange={this.emailFieldChange} placeholder='Enter email' />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\r\n\t\t\tcurrentButton = [\r\n\t\t\t\t(\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<button className=\"btn btn-primary\" onClick={this.sendEmail}>\r\n\t\t\t\t\t\t\t\tSend\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t),(\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col m-2\">\r\n\t\t\t\t\t\t\t<button className=\"btn btn-primary\" onClick={this.swapToCode}>\r\n\t\t\t\t\t\t\t\tAlready have the code!\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\t]\r\n\t\t\t\t\r\n\t\t}\r\n\t\telse if (this.state.currentState === 1) {\r\n\r\n\t\t\tcurrentMessage = (\r\n\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t<p> \r\n\t\t\t\t\t\tCheck your email.\r\n\t\t\t\t\t\tIf your email is correct, then enter the code it gives you here:\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\r\n\t\t\tcurrentField = (\r\n\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<label>Reset token</label>\r\n\t\t\t\t\t\t<input type='text' className='form-control' value={this.state.resetToken} onChange={this.tokenFieldChange} placeholder='Enter Token' />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\r\n\t\t\tcurrentButton = (\r\n\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t<button className=\"btn btn-primary\" onClick={this.checkValue}>\r\n\t\t\t\t\t\tCheck...\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\telse if (this.state.currentState === 2) {\r\n\t\r\n\t\t\tcurrentMessage = [\r\n\t\t\t\t<div className=\"row\"> \r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<p> Enter your new password! </p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t]\r\n\t\t\tif (!this.arePasswordsSame()) {\r\n\t\t\t\tcurrentMessage.push(\r\n\t\t\t\t\t<div className=\"row\"> \r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<p className=\"text-danger\"> Passwords do not match! </p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\r\n\t\t\tcurrentField = [\r\n\t\t\t\t( \r\n\t\t\t\t\t<div className=\"row\"> \r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t<input type='text' className='form-control' value={this.state.resetToken} onChange={this.pass1FieldChange} placeholder='Enter Password' />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t),\r\n\t\t\t\t(\r\n\t\t\t\t\t<div className=\"row\"> \r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t<input type='text' className='form-control' value={this.state.resetToken} onChange={this.pass2FieldChange} placeholder='Re-enter Password' />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\t\r\n\t\t\t\t)\r\n\t\t\t]\r\n\t\t\tcurrentButton = (\r\n\t\t\t\t<div className=\"row\"> \r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<button className=\"btn btn-primary\" onClick={this.checkPasswords}>\r\n\t\t\t\t\t\t\tCheck...\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\telse if (this.state.currentState === 2) {\r\n\t\t\tcurrentMessage = (\r\n\t\t\t\t<div className=\"row\"> \r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<p> Password has been successfullty reset! </p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t\tcurrentField = null\r\n\r\n\t\t\tcurrentButton = (\r\n\t\t\t\t<div className=\"row\"> \r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<button className=\"btn btn-primary\" onClick={this.goSignIn}>\r\n\t\t\t\t\t\t\tSign In!\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div className='container-sm'>\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<h3> Forgot your password? </h3>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{currentMessage}\r\n\t\t\t\t{currentField}\r\n\t\t\t\t{currentButton}\r\n\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(forgotPassword);","import React from \"react\";\r\n// import axios from \"axios\";\r\n\r\nimport Store from \"store\"\r\n\r\nclass landing extends React.Component {\r\n\r\n\t// Lets test this out, before we move this over to the App js file\r\n\tconstructor(props) {\r\n        super(props);\r\n\t\tthis.chartReference = React.createRef();\r\n\t\t\r\n        this.state = {\r\n\t\t\tuserToken: null,\r\n        };\r\n\t}\r\n\t\r\n\tgetFromCookies = () => {\r\n\t\tStore.get('rememberSomething')\r\n\t};\r\n\t\r\n\trender() {\r\n\t\r\n\t\treturn (\r\n\t\t\t<div className=\"landing\">\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t<div className=\"row align-items-center my-5\">\r\n\t\t\t\t\t\t<div className=\"col-lg-12 border\">\r\n\t\t\t\t\t\t\t<h3>\r\n\t\t\t\t\t\t\t\tSample Title\r\n\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"row align-items-center my-2 border\">\r\n\t\t\t\t\t\t<div className=\"col-lg-7\">\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\tAnother set of explinations?\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col m-5 border\">\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\tExplainations ahoy!\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default landing;","import React from \"react\";\r\n// import axios from \"axios\";\r\n\r\nimport Store from \"store\"\r\nimport { Link, withRouter } from \"react-router-dom\";\r\n\r\nclass mainMenu extends React.Component {\r\n\r\n\t// Lets test this out, before we move this over to the App js file\r\n\tconstructor(props) {\r\n        super(props);\r\n\t\tthis.chartReference = React.createRef();\r\n\t\t\r\n        this.state = {\r\n\t\t\tsomething: null,\r\n        };\r\n\r\n\t\t// We are going to have to redirect from here if there is no user...\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tconsole.log(\"Check for login...\")\r\n\r\n\t\tif (this.props.currentUser === undefined) {\r\n\t\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\t}\r\n\t\t\r\n\t\t// Hm, What would be a better use of our tokens then doing just this every time?\r\n\t\t\r\n\t\t//let check = this.props.tokenRefresh()\r\n\t\t//if (!check) {\r\n\t\t//\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\t//}\r\n\t}\r\n\t\r\n\tgetFromCookies = () => {\r\n\t\tStore.get('rememberSomething')\r\n\t};\r\n\t\r\n\trender() {\r\n\t\r\n\t\treturn (\r\n\t\t\t<div className=\"mainMenu\">\r\n\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\r\n\t\t\t\t\t<div className=\"row align-items-center my-5\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\tWelcome to this barebones dashboard lookin thing!\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"row align-items-center my-5\">\r\n\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\tWrite/Edit Journal\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"card-text\">\r\n\t\t\t\t\t\t\t\t\t\tClick this button to write today's Journal\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t<Link className=\"btn btn-primary\" to={this.props.journalWriteDirect}>\r\n\t\t\t\t\t\t\t\t\t\tGo!\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\tView Past Journal\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"card-text\">\r\n\t\t\t\t\t\t\t\t\t\tView the contents and AI result of your previous Journals\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t<Link className=\"btn btn-primary\" to={this.props.journalReadDirect}>\r\n\t\t\t\t\t\t\t\t\t\tGo!\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\tView Company Summary\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"card-text\">\r\n\t\t\t\t\t\t\t\t\t\tView contents of Company Summaries, to which you belong.\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t<Link className=\"btn btn-primary\" to={this.props.companyReadDirect}>\r\n\t\t\t\t\t\t\t\t\t\tGo!\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\tCompany Edit!\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"card-text\">\r\n\t\t\t\t\t\t\t\t\t\tEdit Company Entiries to which you are Owner of\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t<Link className=\"btn btn-primary\" to={this.props.companySettingDirect}>\r\n\t\t\t\t\t\t\t\t\t\tGo!\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(mainMenu);","// Use this or localstorage?\r\nimport Store from \"store\"\r\n\r\n// Maybe I should put ALL the storage stuff here...\r\nexport const login = (tokenKey, username) => {\r\n\tStore.set('jwtSession', {user:username, token:tokenKey})\r\n}\r\n\r\nexport const logout = () => {\r\n\tStore.remove('jwtSession')\r\n}\r\n\r\nexport const isLoggedIn = () => {\r\n\tif (Store.get('jwtSession')) {\r\n\t\treturn true;\r\n\t}\r\n\t\r\n\treturn false;\r\n}\r\n\r\n// Lets try this for the Graph Data...\r\n// See if this works out okay...\r\n// The options may be overkill though...\r\n\r\n\r\n// First version of a Line graph with Arbitrary everything...\r\nexport const arbitraryLineData = (inputXAxis, inputDataList) => {\r\n\t\r\n\tlet builtData = []\r\n\tlet dataIndex = 0\r\n\tfor (dataIndex in inputDataList) {\r\n\t\tbuiltData.push({\r\n\t\t\tlabel: inputDataList[dataIndex].label,\r\n\t\t\tdata: inputDataList[dataIndex].data,\r\n\t\t\tfill: false,\r\n\t\t\tbackgroundColor: 'rgb(99, 255, 132)',\r\n\t\t\tborderColor: 'rgba(255, 132, 99, 0.2)',\r\n\t\t})\r\n\t}\r\n\t\r\n\tconst data = {\r\n\t\tlabels: inputXAxis,\r\n\t\tdatasets: builtData,\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const arbitraryLineOptions = () => {\r\n\tconst options = {\r\n\t\tscales: {\r\n\t\t\tyAxes: [\r\n\t\t\t\t{\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\n// Initial tests show good results, So I should merge these into as few functions as I can....\r\n// Right now its too many...\r\nexport const getRadarEmotionData = (inputData) => {\r\n\t\r\n\tconst data = {\r\n\t\tlabels: ['Anger', 'Disgust', 'Fear', 'Joy', 'Sadness'],\r\n\t\t\tdatasets: [ \r\n\t\t\t{\r\n\t\t\t\tlabel: 'Confidence Levels',\r\n\t\t\t\tdata: inputData,\r\n\t\t\t\tbackgroundColor: 'rgba(99, 255, 132, 0.2)',\r\n\t\t\t\tborderColor: 'rgba(99, 255, 132, 1)',\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const getRadarEmotionOptions = () => {\r\n\tconst options = {\r\n\t  scale: {\r\n\t\tticks: { \r\n\t\t\tbeginAtZero: true,\r\n\t\t\tsuggestedMin: 0,\r\n\t\t\tsuggestedMax: 1,\r\n\t\t},\r\n\t  },\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\nexport const getSentimentData = (inputData) => {\r\n\tconst data = {\r\n\tlabels: ['Positive', 'Negative'],\r\n\tdatasets: [\r\n\t\t\t{\r\n\t\t\tlabel: ['Sentiment'], \r\n\t\t\tdata: inputData,\r\n\t\t\tbackgroundColor: [\r\n\t\t\t\t'rgba(99, 255, 132, 0.2)',\r\n\t\t\t\t'rgba(54, 162, 235, 0.2)',\r\n\t\t\t\t'rgba(255, 206, 86, 0.2)',\r\n\t\t\t\t'rgba(75, 192, 192, 0.2)',\r\n\t\t\t\t'rgba(153, 102, 255, 0.2)',\r\n\t\t\t\t'rgba(255, 159, 64, 0.2)',\r\n\t\t\t],\r\n\t\t\tborderColor: [\r\n\t\t\t\t'rgba(99, 255, 132, 1)',\r\n\t\t\t\t'rgba(54, 162, 235, 1)',\r\n\t\t\t\t'rgba(255, 206, 86, 1)',\r\n\t\t\t\t'rgba(75, 192, 192, 1)',\r\n\t\t\t\t'rgba(153, 102, 255, 1)',\r\n\t\t\t\t'rgba(255, 159, 64, 1)',\r\n\t\t\t],\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const getSentimentOptions = () => {\r\n\tconst options = {\r\n\t\tcutoutPercentage: 50,\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\nexport const getConceptsData = (inputData, labels) => {\r\n\tconst data = {\r\n\tlabels: labels,\r\n\tdatasets: [\r\n\t\t\t{\r\n\t\t\tlabel: 'Concepts Relevance',\r\n\t\t\tdata: inputData,\r\n\t\t\tbackgroundColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 0.2)',\r\n\t\t\t\t'rgba(54, 162, 235, 0.2)',\r\n\t\t\t\t'rgba(255, 206, 86, 0.2)',\r\n\t\t\t\t'rgba(75, 192, 192, 0.2)',\r\n\t\t\t\t'rgba(153, 102, 255, 0.2)',\r\n\t\t\t\t'rgba(255, 159, 64, 0.2)',\r\n\t\t\t],\r\n\t\t\tborderColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 1)',\r\n\t\t\t\t'rgba(54, 162, 235, 1)',\r\n\t\t\t\t'rgba(255, 206, 86, 1)',\r\n\t\t\t\t'rgba(75, 192, 192, 1)',\r\n\t\t\t\t'rgba(153, 102, 255, 1)',\r\n\t\t\t\t'rgba(255, 159, 64, 1)',\r\n\t\t\t],\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const getConceptsOptions = () => {\r\n\tconst options = {\r\n\t\tscales: {\r\n\t\t\tyAxes: [{\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t\tsuggestedMin: 0,\r\n\t\t\t\t\t\tsuggestedMax: 1,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\n// This can probobly be merged with the other one... but it is here for perhaps a color shift?\r\nexport const getCategoryData = (inputData, labels) => {\r\n\tconst data = {\r\n\tlabels: labels,\r\n\tdatasets: [\r\n\t\t\t{\r\n\t\t\tlabel: 'Categories Score',\r\n\t\t\tdata: inputData,\r\n\t\t\tbackgroundColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 0.2)',\r\n\t\t\t\t'rgba(54, 162, 235, 0.2)',\r\n\t\t\t\t'rgba(255, 206, 86, 0.2)',\r\n\t\t\t\t'rgba(75, 192, 192, 0.2)',\r\n\t\t\t\t'rgba(153, 102, 255, 0.2)',\r\n\t\t\t\t'rgba(255, 159, 64, 0.2)',\r\n\t\t\t],\r\n\t\t\tborderColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 1)',\r\n\t\t\t\t'rgba(54, 162, 235, 1)',\r\n\t\t\t\t'rgba(255, 206, 86, 1)',\r\n\t\t\t\t'rgba(75, 192, 192, 1)',\r\n\t\t\t\t'rgba(153, 102, 255, 1)',\r\n\t\t\t\t'rgba(255, 159, 64, 1)',\r\n\t\t\t],\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const getCategoryOptions = () => {\r\n\tconst options = {\r\n\t\tscales: {\r\n\t\t\tyAxes: [{\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t\tsuggestedMin: 0,\r\n\t\t\t\t\t\tsuggestedMax: 1,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\n// Now we can test to see how this would actually look.\r\nexport const testMaxMin = (inputMax, inputAve, inputMin) => {\r\n\tconst data = {\r\n\t\tlabels: ['Joy', 'Anger', 'Sadness', 'Disgust', 'Fear'],\r\n\t\t\tdatasets: [ \r\n\t\t\t{\r\n\t\t\t\tlabel: 'Max',\r\n\t\t\t\tdata: inputMax,\r\n\t\t\t\tbackgroundColor: 'rgba(99, 255, 132, 0.2)',\r\n\t\t\t\tborderColor: 'rgba(99, 255, 132, 1)',\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Ave',\r\n\t\t\t\tdata: inputAve,\r\n\t\t\t\tbackgroundColor: 'rgba(99, 132, 255, 0.2)',\r\n\t\t\t\tborderColor: 'rgba(99, 132, 255, 1)',\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Min',\r\n\t\t\t\tdata: inputMin,\r\n\t\t\t\tbackgroundColor: 'rgba(255, 99, 132, 0.2)',\r\n\t\t\t\tborderColor: 'rgba(255, 99, 132, 1)',\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\n// How can I make this not terrible back here?\r\nexport const testBarMulti = (inputData) => {\r\n\tconst data = {\r\n\tlabels: ['Joy', 'Anger', 'Sadness', 'Disgust', 'Fear'],\r\n\tdatasets: [\r\n\t\t\t{\r\n\t\t\tlabel: '# Above Threshold',\r\n\t\t\tdata: inputData,\r\n\t\t\tbackgroundColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 0.2)',\r\n\t\t\t\t'rgba(54, 162, 235, 0.2)',\r\n\t\t\t\t'rgba(255, 206, 86, 0.2)',\r\n\t\t\t\t'rgba(75, 192, 192, 0.2)',\r\n\t\t\t\t'rgba(153, 102, 255, 0.2)',\r\n\t\t\t\t'rgba(255, 159, 64, 0.2)',\r\n\t\t\t],\r\n\t\t\tborderColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 1)',\r\n\t\t\t\t'rgba(54, 162, 235, 1)',\r\n\t\t\t\t'rgba(255, 206, 86, 1)',\r\n\t\t\t\t'rgba(75, 192, 192, 1)',\r\n\t\t\t\t'rgba(153, 102, 255, 1)',\r\n\t\t\t\t'rgba(255, 159, 64, 1)',\r\n\t\t\t],\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\nexport const testBarMultiOptions = () => {\r\n\tconst options = {\r\n\t\tscales: {\r\n\t\t\tyAxes: [{\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t\tsuggestedMin: 0,\r\n\t\t\t\t\t\tsuggestedMax: 1,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\nexport const stackedBarData = (inputData1, inputData2, inputData3) => {\r\n\tconst data = {\r\n\t\tlabels: ['Value'],\r\n\t\tdatasets: [\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Minimum',\r\n\t\t\t\tdata: inputData1,\r\n\t\t\t\tbackgroundColor: 'rgb(255, 99, 132)',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Average',\r\n\t\t\t\tdata: inputData2,\r\n\t\t\t\tbackgroundColor: 'rgb(54, 162, 235)',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Maximum',\r\n\t\t\t\tdata: inputData3,\r\n\t\t\t\tbackgroundColor: 'rgb(75, 192, 192)',\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\nexport const stackedBarOptions = () => {\r\n\tconst options = {\r\n\t\tscales: {\r\n\t\t\tyAxes: [\r\n\t\t\t\t{\r\n\t\t\t\t\t//stacked: true,\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t\tsuggestedMin: -1,\r\n\t\t\t\t\t\tsuggestedMax: 1,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\txAxes: [\r\n\t\t\t\t{\r\n\t\t\t\t\t//stacked: true,\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\nexport const stackedBarData2Test = (inputData1, inputData2, inputData3) => {\r\n\tconst data = {\r\n\t\tlabels: ['Relevance', 'Sentiment'],\r\n\t\tdatasets: [\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Minimum',\r\n\t\t\t\tdata: inputData1,\r\n\t\t\t\tbackgroundColor: 'rgb(255, 99, 132)',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Average',\r\n\t\t\t\tdata: inputData2,\r\n\t\t\t\tbackgroundColor: 'rgb(54, 162, 235)',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Maximum',\r\n\t\t\t\tdata: inputData3,\r\n\t\t\t\tbackgroundColor: 'rgb(75, 192, 192)',\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const stackedBarData3Test = (inputData1, inputData2, inputData3) => {\r\n\tconst data = {\r\n\t\tlabels: ['Confidence', 'Relevance', 'Sentiment'],\r\n\t\tdatasets: [\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Minimum',\r\n\t\t\t\tdata: inputData1,\r\n\t\t\t\tbackgroundColor: 'rgb(255, 99, 132)',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Average',\r\n\t\t\t\tdata: inputData2,\r\n\t\t\t\tbackgroundColor: 'rgb(54, 162, 235)',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Maximum',\r\n\t\t\t\tdata: inputData3,\r\n\t\t\t\tbackgroundColor: 'rgb(75, 192, 192)',\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const sentimentBarData = (inputData) => {\r\n\tconst data = {\r\n\t\tlabels: ['Positive', 'Negative'],\r\n\t\tdatasets: [\r\n\t\t\t{\r\n\t\t\tlabel: '# Above Threshold',\r\n\t\t\tdata: inputData,\r\n\t\t\tbackgroundColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 0.2)',\r\n\t\t\t\t'rgba(54, 162, 235, 0.2)',\r\n\t\t\t\t'rgba(255, 206, 86, 0.2)',\r\n\t\t\t\t'rgba(75, 192, 192, 0.2)',\r\n\t\t\t\t'rgba(153, 102, 255, 0.2)',\r\n\t\t\t\t'rgba(255, 159, 64, 0.2)',\r\n\t\t\t],\r\n\t\t\tborderColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 1)',\r\n\t\t\t\t'rgba(54, 162, 235, 1)',\r\n\t\t\t\t'rgba(255, 206, 86, 1)',\r\n\t\t\t\t'rgba(75, 192, 192, 1)',\r\n\t\t\t\t'rgba(153, 102, 255, 1)',\r\n\t\t\t\t'rgba(255, 159, 64, 1)',\r\n\t\t\t],\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\nexport const sentimentBarOptions = () => {\r\n\tconst options = {\r\n\t\tscales: {\r\n\t\t\tyAxes: [{\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t\tsuggestedMin: 0,\r\n\t\t\t\t\t\tsuggestedMax: 1,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\n// This is where my template stuff is ---------------------------------------------------------------\r\nexport const getDoughData = (inputData) => {\r\n\tconst data = {\r\n\t\tlabels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],\r\n\t\tdatasets: [\r\n\t\t\t{\r\n\t\t\t\tlabel: '# of Votes',\r\n\t\t\t\tdata: inputData,\r\n\t\t\t\tbackgroundColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 0.2)',\r\n\t\t\t\t'rgba(54, 162, 235, 0.2)',\r\n\t\t\t\t'rgba(255, 206, 86, 0.2)',\r\n\t\t\t\t'rgba(75, 192, 192, 0.2)',\r\n\t\t\t\t'rgba(153, 102, 255, 0.2)',\r\n\t\t\t\t'rgba(255, 159, 64, 0.2)',\r\n\t\t\t],\r\n\t\t\t\tborderColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 1)',\r\n\t\t\t\t'rgba(54, 162, 235, 1)',\r\n\t\t\t\t'rgba(255, 206, 86, 1)',\r\n\t\t\t\t'rgba(75, 192, 192, 1)',\r\n\t\t\t\t'rgba(153, 102, 255, 1)',\r\n\t\t\t\t'rgba(255, 159, 64, 1)',\r\n\t\t\t],\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const getDoughOptions = () => {\r\n\tconst options = {\r\n\t\tcutoutPercentage: 50,\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\nexport const getRadarData = (inputData) => {\r\n\tconst data = {\r\n\t\tlabels: ['Thing 1', 'Thing 2', 'Thing 3', 'Thing 4', 'Thing 5', 'Thing 6'],\r\n\t\t\tdatasets: [ \r\n\t\t\t{\r\n\t\t\t\tlabel: '# of Votes',\r\n\t\t\t\tdata: inputData,\r\n\t\t\t\tbackgroundColor: 'rgba(99, 255, 132, 0.2)',\r\n\t\t\t\tborderColor: 'rgba(99, 255, 132, 1)',\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const getRadarOptions = () => {\r\n\tconst options = {\r\n\t  scale: {\r\n\t\tticks: { beginAtZero: true },\r\n\t  },\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\nexport const getLineData = (inputData, inputData2) => {\r\n\tconst data = {\r\n\t\tlabels: ['Thing 1', 'Thing 2', 'Thing 3', 'Thing 4', 'Thing 5', 'Thing 6'],\r\n\t\t\tdatasets: [ \r\n\t\t\t{\r\n\t\t\t\tlabel: '# of Votes',\r\n\t\t\t\tdata: inputData,\r\n\t\t\t\tfill: false,\r\n\t\t\t\tbackgroundColor: 'rgb(99, 255, 132)',\r\n\t\t\t\tborderColor: 'rgba(99, 255, 132, 0.2)',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: '# of Votes2',\r\n\t\t\t\tdata: inputData2,\r\n\t\t\t\tfill: false,\r\n\t\t\t\tbackgroundColor: 'rgb(255, 99, 132)',\r\n\t\t\t\tborderColor: 'rgba(255, 99, 132, 0.2)',\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const getLineOptions = () => {\r\n\tconst options = {\r\n\t\tscales: {\r\n\t\t\tyAxes: [\r\n\t\t\t\t{\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\nexport const getBarData = (inputData) => {\r\n\tconst data = {\r\n\tlabels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],\r\n\tdatasets: [\r\n\t\t\t{\r\n\t\t\tlabel: '# of Votes',\r\n\t\t\tdata: inputData,\r\n\t\t\tbackgroundColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 0.2)',\r\n\t\t\t\t'rgba(54, 162, 235, 0.2)',\r\n\t\t\t\t'rgba(255, 206, 86, 0.2)',\r\n\t\t\t\t'rgba(75, 192, 192, 0.2)',\r\n\t\t\t\t'rgba(153, 102, 255, 0.2)',\r\n\t\t\t\t'rgba(255, 159, 64, 0.2)',\r\n\t\t\t],\r\n\t\t\tborderColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 1)',\r\n\t\t\t\t'rgba(54, 162, 235, 1)',\r\n\t\t\t\t'rgba(255, 206, 86, 1)',\r\n\t\t\t\t'rgba(75, 192, 192, 1)',\r\n\t\t\t\t'rgba(153, 102, 255, 1)',\r\n\t\t\t\t'rgba(255, 159, 64, 1)',\r\n\t\t\t],\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const getBarOptions = () => {\r\n\tconst options = {\r\n\t\tscales: {\r\n\t\t\tyAxes: [{\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\nexport const getScatterData = (inputData, inputData2) => {\r\n\tconst data = {\r\n\t\tlabels: ['Thing 1', 'Thing 2', 'Thing 3', 'Thing 4', 'Thing 5', 'Thing 6'],\r\n\t\t\tdatasets: [ \r\n\t\t\t{\r\n\t\t\t\tlabel: '# of Votes',\r\n\t\t\t\tdata: inputData,\r\n\t\t\t\tbackgroundColor: 'rgba(99, 255, 132, 0.2)',\r\n\t\t\t\tborderColor: 'rgba(99, 255, 132, 1)',\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: '# of Votes2',\r\n\t\t\t\tdata: inputData2,\r\n\t\t\t\tbackgroundColor: 'rgba(255, 99, 132, 0.2)',\r\n\t\t\t\tborderColor: 'rgba(255, 99, 132, 1)',\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const getScatterOptions = () => {\r\n\tconst options = {\r\n\t\tscales: {\r\n\t\t\tyAxes: [{\r\n\t\t\t\tticks: {\r\n\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t},\r\n\t\t\t},],\r\n\t\t},\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\n// THIS IS EXAMPLE COMPANY TEST DATA!!!\r\nconst makeCompanyDaydata = () => {\r\n\t\r\n\tlet dayData = {\r\n\t\t\temotion: { \r\n\t\t\t\tmax:{joy:Math.random(), anger:Math.random(), sadness:Math.random(), disgust:Math.random(), fear:Math.random()}, \r\n\t\t\t\tmin:{joy:Math.random(), anger:Math.random(), sadness:Math.random(), disgust:Math.random(), fear:Math.random()}, \r\n\t\t\t\tave:{joy:Math.random(), anger:Math.random(), sadness:Math.random(), disgust:Math.random(), fear:Math.random()},\r\n\t\t\t\t\r\n\t\t\t\tthreshold:{joy:Math.random(), anger:Math.random(), sadness:Math.random(), disgust:Math.random(), fear:Math.random()},\r\n\t\t\t},\r\n\t\t\tsentiment: {\r\n\t\t\t\tmax:2*Math.random()-1, \r\n\t\t\t\tmin:2*Math.random()-1, \r\n\t\t\t\tave:2*Math.random()-1,\r\n\t\t\t\t\r\n\t\t\t\tthresholdPos:Math.random(),\r\n\t\t\t\tthresholdNeg:Math.random(),\r\n\t\t\t},\r\n\t\t\tentities: [\r\n\t\t\t\t{text:\"Example Entity\", \r\n\t\t\t\t\tcount:12,\r\n\t\t\t\t\ttype:\"Whatever\",\r\n\t\t\t\t\tconfidence:{ \r\n\t\t\t\t\t\tmax:Math.random(), \r\n\t\t\t\t\t\tmin:Math.random(), \r\n\t\t\t\t\t\tave:Math.random(),\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tstd:Math.random(),\r\n\t\t\t\t\t},\r\n\t\t\t\t\trelevance:{\r\n\t\t\t\t\t\tmax:Math.random(),\r\n\t\t\t\t\t\tmin:Math.random(),\r\n\t\t\t\t\t\tave:Math.random(),\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tstd:Math.random(),\r\n\t\t\t\t\t},\r\n\t\t\t\t\temotion:{\r\n\t\t\t\t\t\tmax:{joy:Math.random(), anger:Math.random(), sadness:Math.random(), disgust:Math.random(), fear:Math.random()},\r\n\t\t\t\t\t\tmin:{joy:Math.random(), anger:Math.random(), sadness:Math.random(), disgust:Math.random(), fear:Math.random()},\r\n\t\t\t\t\t\tave:{joy:Math.random(), anger:Math.random(), sadness:Math.random(), disgust:Math.random(), fear:Math.random()},\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tstd:{joy:Math.random(), anger:Math.random(), sadness:Math.random(), disgust:Math.random(), fear:Math.random()},\r\n\t\t\t\t\t}, \r\n\t\t\t\t\tsentiment:{\r\n\t\t\t\t\t\tmax:2*Math.random()-1, \r\n\t\t\t\t\t\tmin:2*Math.random()-1, \r\n\t\t\t\t\t\tave:2*Math.random()-1,\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tstd:Math.random(),\r\n\t\t\t\t\t},\r\n\t\t\t\t}, \r\n\t\t\t],\r\n\t\t\tkeywords: [\r\n\t\t\t\t{text:\"Example Keyword\", \r\n\t\t\t\t\tcount:6, \r\n\t\t\t\t\t\r\n\t\t\t\t\trelevance:{\r\n\t\t\t\t\t\tmax:Math.random(),\r\n\t\t\t\t\t\tmin:Math.random(),\r\n\t\t\t\t\t\tave:Math.random(),\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tstd:Math.random(),\r\n\t\t\t\t\t}, \r\n\t\t\t\t\temotion:{\r\n\t\t\t\t\t\tmax:{joy:Math.random(), anger:Math.random(), sadness:Math.random(), disgust:Math.random(), fear:Math.random()},\r\n\t\t\t\t\t\tmin:{joy:Math.random(), anger:Math.random(), sadness:Math.random(), disgust:Math.random(), fear:Math.random()},\r\n\t\t\t\t\t\tave:{joy:Math.random(), anger:Math.random(), sadness:Math.random(), disgust:Math.random(), fear:Math.random()},\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tstd:{joy:Math.random(), anger:Math.random(), sadness:Math.random(), disgust:Math.random(), fear:Math.random()},\r\n\t\t\t\t\t}, \r\n\t\t\t\t\tsentiment:{\r\n\t\t\t\t\t\tmax:2*Math.random()-1, \r\n\t\t\t\t\t\tmin:2*Math.random()-1, \r\n\t\t\t\t\t\tave:2*Math.random()-1,\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tstd:Math.random(),\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\trelations: [\r\n\t\t\t\t{type:\"didTo\", \r\n\t\t\t\t\tcount:4, \r\n\t\t\t\t\tscore:{\r\n\t\t\t\t\t\tmax:2*Math.random()-1, \r\n\t\t\t\t\t\tmin:2*Math.random()-1, \r\n\t\t\t\t\t\tave:2*Math.random()-1,\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tstd:Math.random(),\r\n\t\t\t\t\t}, \r\n\t\t\t\t\targuments:[{text:\"person1\"},{text:\"person2\"}] \r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t}\r\n\treturn dayData\r\n}\r\n\r\nexport const makeCompanyTestDataOtherFormat = () => {\r\n\t\r\n\tconst testData = {\r\n\t\tmon: {\r\n\t\t\tresponsePurity: 90,\r\n\t\t\tp1: {\r\n\t\t\t\tname:\"Prompt 1 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp2: {\r\n\t\t\t\tname:\"Prompt 2 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp3: {\r\n\t\t\t\tname:\"Prompt 3 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp4: {\r\n\t\t\t\tname:\"Prompt 4 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t},\r\n\t\ttue: {\r\n\t\t\tresponsePurity: 23,\r\n\t\t\tp1: {\r\n\t\t\t\tname:\"Prompt 1 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp2: {\r\n\t\t\t\tname:\"Prompt 2 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp3: {\r\n\t\t\t\tname:\"Prompt 3 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp4: {\r\n\t\t\t\tname:\"Prompt 4 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t},\r\n\t\twed: {\r\n\t\t\tresponsePurity: 55,\r\n\t\t\tp1: {\r\n\t\t\t\tname:\"Prompt 1 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp2: {\r\n\t\t\t\tname:\"Prompt 2 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp3: {\r\n\t\t\t\tname:\"Prompt 3 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp4: {\r\n\t\t\t\tname:\"Prompt 4 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t},\r\n\t\tthu: {\r\n\t\t\tresponsePurity: 78,\r\n\t\t\tp1: {\r\n\t\t\t\tname:\"Prompt 1 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp2: {\r\n\t\t\t\tname:\"Prompt 2 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp3: {\r\n\t\t\t\tname:\"Prompt 3 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp4: {\r\n\t\t\t\tname:\"Prompt 4 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t},\r\n\t\tfri: {\r\n\t\t\tresponsePurity: 34,\r\n\t\t\tp1: {\r\n\t\t\t\tname:\"Prompt 1 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp2: {\r\n\t\t\t\tname:\"Prompt 2 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp3: {\r\n\t\t\t\tname:\"Prompt 3 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp4: {\r\n\t\t\t\tname:\"Prompt 4 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t}\r\n\t\t},\r\n\t\tsat: {\r\n\t\t\tresponsePurity: 90,\r\n\t\t\tp1: {\r\n\t\t\t\tname:\"Prompt 1 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp2: {\r\n\t\t\t\tname:\"Prompt 2 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp3: {\r\n\t\t\t\tname:\"Prompt 3 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp4: {\r\n\t\t\t\tname:\"Prompt 4 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t}\r\n\t\t},\r\n\t\tsun: {\r\n\t\t\tresponsePurity: 90,\r\n\t\t\tp1: {\r\n\t\t\t\tname:\"Prompt 1 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp2: {\r\n\t\t\t\tname:\"Prompt 2 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp3: {\r\n\t\t\t\tname:\"Prompt 3 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp4: {\r\n\t\t\t\tname:\"Prompt 4 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t}\r\n\t\t},\r\n\t\tallDay: {\r\n\t\t\tresponsePurity: 90,\r\n\t\t\tp1: {\r\n\t\t\t\tname:\"Prompt 1 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp2: {\r\n\t\t\t\tname:\"Prompt 2 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp3: {\r\n\t\t\t\tname:\"Prompt 3 Full Name!!2\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp4: {\r\n\t\t\t\tname:\"Prompt 4 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\t\t\r\n\treturn testData\r\n}\r\n\r\nconst timeLength = 365\r\n\r\n// Lets mess around with this...\r\nexport const generateTestEHIX = () => {\r\n\t\r\n\tlet textX = []\r\n\t\r\n\tlet i;\r\n\tfor (i=-timeLength*2; i < 0; i++) {\r\n\t\ttextX.push(i)\r\n\t}\r\n\t\r\n\treturn textX\r\n}\r\n\r\nexport const generateTestEHIY = () => {\r\n\t\r\n\tlet textY = []\r\n\t\r\n\tlet i;\r\n\tfor (i=0; i < timeLength*2; i++) {\r\n\t\ttextY.push((i/1000)*Math.sin(3.141592654*i/360))\r\n\t}\r\n\t\r\n\treturn textY\r\n}","import React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport Store from \"store\"\r\nimport Calendar from 'react-calendar'\r\nimport 'react-calendar/dist/Calendar.css';\r\nimport { Doughnut, Radar, Bar } from 'react-chartjs-2';\r\n\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\n//import {isLoggedIn} from '../utils';\r\nimport {getRadarEmotionData, getSentimentData, getConceptsData, getCategoryData} from '../utils';\r\nimport {getRadarEmotionOptions, getSentimentOptions, getConceptsOptions, getCategoryOptions} from '../utils';\r\n\r\nclass journalView extends React.Component {\r\n\r\n\tconstructor(props) {\r\n        super(props);\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tmessages: \"Waiting for user input...\",\r\n\t\t\tjournalData: \"\",\r\n\t\t\t\r\n\t\t\tcurrentDate: new Date(),\r\n\t\t\t\r\n\t\t\t// These are the dates that we know have valid Journal entries\r\n\t\t\tvalidJournalDates: [],\r\n\t\t\t// These are the dates that we know have a valid Journal, AND an valid AI response!\r\n\t\t\tvalidJournalScanDates: [],\r\n\t\t\t\r\n\t\t\tdataCategories: getCategoryData([0], ['']),\r\n\t\t\toptionsCategories: getCategoryOptions(),\r\n\t\t\t\r\n\t\t\tdataConcepts: getConceptsData([0],['']),\r\n\t\t\toptionsConcepts: getConceptsOptions(),\r\n\t\t\t\r\n\t\t\tdataEntities: [],\r\n\t\t\tdataKeywords: [],\r\n\t\t\tdataRelations: [],\r\n\t\t\t\r\n\t\t\tdataEmotion: getRadarEmotionData([0]),\r\n\t\t\toptionsEmotions: getRadarEmotionOptions(),\r\n\t\t\t\r\n\t\t\tdataSentiment: getSentimentData([0]),\r\n\t\t\toptionsSentiment: getSentimentOptions(),\r\n\r\n        };\r\n\t\t\r\n\t\t// This doesnt look right... Fix this later I guess\r\n\t\tthis.onChange = (editorState) => this.setState({editorState});\r\n\t\tthis.setEditor = (editor) => {\r\n\t\t\tthis.editor = editor;\r\n\t\t};\r\n\t\t\r\n\t};\r\n\r\n\tbackButton = () => {\r\n\t\tthis.props.history.goBack()\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\t\r\n\t\tlet result = this.loadFromCookies();\r\n\t\tif (!result) {\r\n\t\t\tthis.getJournalDates()\r\n\t\t}\r\n\t};\r\n\t\r\n\tloadFromCookies = () => {\r\n\t\t// Security here given our user....\r\n\t\t// console.log(this.props.currentUser)\r\n\t\t\r\n\t\t// Change this so that it is for the currentuser, I got that up here done, but LETS TRY\r\n\t\tlet journalDates = Store.get(this.props.currentUser+'-ValidDates')\r\n\t\t\r\n\t\ttry{\r\n\t\t\tthis.setState({validJournalScanDates: journalDates.AIDates, validJournalDates: journalDates.journalDates})\r\n\t\t\tconsole.log(\"Got the journal data from the cookies\")\r\n\t\t\treturn true\r\n\t\t} catch{\r\n\t\t\tconsole.log(\"No cookies to load the data from\")\r\n\t\t\treturn false\r\n\t\t}\r\n\t};\r\n\t\r\n\tloadTestData = () => {\r\n\t\t// And here is our testdata for display\r\n\t\tlet AIdata = Store.get('testData')\r\n\t\t//try{\r\n\t\t\t//console.log(AIdata)\r\n\t\t\t\r\n\t\t\t// Categories!\r\n\t\t\tconst catData = AIdata.categories\r\n\t\t\t\r\n\t\t\tlet catLabels = []\r\n\t\t\tlet catScores = []\r\n\t\t\t\r\n\t\t\tvar index;\r\n\t\t\tfor (index in catData) {\r\n\t\t\t\tconst cat = catData[index]\r\n\t\t\t\t//console.log(cat)\r\n\t\t\t\t\r\n\t\t\t\tcatLabels.push(cat.label)\r\n\t\t\t\tcatScores.push(cat.score)\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Concepts!\r\n\t\t\tconst conData = AIdata.concepts\r\n\t\t\t\r\n\t\t\tlet conLabels = []\r\n\t\t\tlet conRelevance = []\r\n\t\t\tlet conDatabase = []\r\n\t\t\t\r\n\t\t\tfor (index in conData) {\r\n\t\t\t\tconst con = conData[index]\r\n\t\t\t\t\r\n\t\t\t\tconLabels.push(con.text)\r\n\t\t\t\tconRelevance.push(con.relevance)\r\n\t\t\t\tconDatabase.push(con.dbpedia_resource)\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Emotions!\r\n\t\t\tconst emDataObj = AIdata.emotion.document.emotion\r\n\t\t\tconst emData = [emDataObj.anger, emDataObj.disgust, emDataObj.fear, emDataObj.joy, emDataObj.sadness]\r\n\t\t\t\r\n\t\t\t// Entities!\r\n\t\t\tconst entData = AIdata.entities\r\n\t\t\t\r\n\t\t\tlet entity = []\r\n\r\n\t\t\tfor (index in entData) {\r\n\t\t\t\tconst ent = entData[index]\r\n\t\t\t\t//console.log(ent)\r\n\t\t\t\t\r\n\t\t\t\t// What about this?\r\n\t\t\t\t//console.log(ent.disambiguation)\r\n\t\t\t\t\r\n\t\t\t\tconst entEmotion = [ent.emotion.anger, ent.emotion.disgust, ent.emotion.fear, ent.emotion.joy, ent.emotion.sadness]\r\n\t\t\t\t\r\n\t\t\t\tconst senDataScore = ent.sentiment.score\r\n\t\t\t\tconst oppData = 1-Math.abs(senDataScore)\r\n\t\t\t\t\r\n\t\t\t\tlet arrangedDataScore = [0, 0]\r\n\t\t\t\tif (senDataScore > 0) {\r\n\t\t\t\t\tarrangedDataScore = [senDataScore, oppData]\r\n\t\t\t\t} else {\r\n\t\t\t\t\tarrangedDataScore = [oppData, senDataScore]\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tconst entStore = {\r\n\t\t\t\t\tid:index,\r\n\t\t\t\t\t\r\n\t\t\t\t\ttext:ent.text,\r\n\t\t\t\t\ttype:ent.type,\r\n\t\t\t\t\t\r\n\t\t\t\t\tcount:ent.count,\r\n\t\t\t\t\trelevance:ent.relevance,\r\n\t\t\t\t\t\r\n\t\t\t\t\temotion:entEmotion,\r\n\t\t\t\t\tsentiment:arrangedDataScore,\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tentity.push(entStore)\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Keywords!\r\n\t\t\tconst keyData = AIdata.keywords\r\n\t\t\t\r\n\t\t\tlet keyword = []\r\n\r\n\t\t\tfor (index in keyData) {\r\n\t\t\t\tconst key = keyData[index]\r\n\t\t\t\t\r\n\t\t\t\t//console.log(key.emotion)\r\n\t\t\t\t//console.log(key.sentiment)\r\n\t\t\t\t\r\n\t\t\t\tconst keyEmotion = [key.emotion.anger, key.emotion.disgust, key.emotion.fear, key.emotion.joy, key.emotion.sadness]\r\n\t\t\t\t\r\n\t\t\t\tconst senDataScore = key.sentiment.score\r\n\t\t\t\tconst oppData = 1-Math.abs(senDataScore)\r\n\t\t\t\t\r\n\t\t\t\tlet arrangedDataScore = [0, 0]\r\n\t\t\t\tif (senDataScore > 0) {\r\n\t\t\t\t\tarrangedDataScore = [senDataScore, oppData]\r\n\t\t\t\t} else {\r\n\t\t\t\t\tarrangedDataScore = [oppData, senDataScore]\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tconst keyStore = {\r\n\t\t\t\t\tid:index,\r\n\t\t\t\t\t\r\n\t\t\t\t\ttext:key.text,\r\n\t\t\t\t\tcount:key.count,\r\n\t\t\t\t\trelevance:key.relevance,\r\n\t\t\t\t\t\r\n\t\t\t\t\temotion:keyEmotion,\r\n\t\t\t\t\tsentiment:arrangedDataScore,\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tkeyword.push(keyStore)\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Relations!\r\n\t\t\tlet relation = []\r\n\t\t\t\r\n\t\t\tconst relDat = AIdata.relations\r\n\r\n\t\t\tfor (index in relDat) {\r\n\t\t\t\tconst rel = relDat[index]\r\n\t\t\t\t\r\n\t\t\t\t// Probobly combine these?\r\n\t\t\t\t\r\n\t\t\t\tconst relStore = {\r\n\t\t\t\t\tid: index,\r\n\t\t\t\t\tinit:rel.arguments[0].text,\r\n\t\t\t\t\taction:rel.type,\r\n\t\t\t\t\ttarget:rel.arguments[1].text,\r\n\t\t\t\t\tscore:rel.score,\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\trelation.push(relStore)\r\n\r\n\t\t\t\t// How do I Show this?\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Sentiment!\r\n\t\t\tconst senDataScore = AIdata.sentiment.document.score\r\n\t\t\t\r\n\t\t\tconst senOne = 0.5*(senDataScore + 1)\r\n\t\t\tconst senOpp = 0.5*(senDataScore - 1)\r\n\t\t\t\r\n\t\t\tlet arrangedDataScore = [senOne, senOpp]\r\n\r\n\t\t\tthis.setState({\r\n\t\t\t\t\r\n\t\t\t\tdataCategories:getCategoryData(catScores, catLabels),\r\n\t\t\t\tdataConcepts:getConceptsData(conRelevance, conLabels),\r\n\t\t\t\tdataEmotion:getRadarEmotionData(emData),\r\n\t\t\t\t\r\n\t\t\t\tdataEntities: entity,\r\n\t\t\t\tdataKeywords: keyword,\r\n\t\t\t\tdataRelations: relation,\r\n\t\t\t\r\n\t\t\t\tdataSentiment:getSentimentData(arrangedDataScore),\r\n\t\t\t\t\r\n\t\t\t})\r\n\t\t\t\r\n\t\t//} catch{\r\n\t\t\t//console.log(\"Error!\")\r\n\t\t//}\r\n\t}\r\n\t\r\n\tsaveToCookies = () => {\r\n\t\t\r\n\t\tStore.set(this.props.currentUser+'-ValidDates', { journalDates:this.state.validJournalDates, AIDates:this.state.validJournalScanDates })\r\n\t\tconsole.log(\"Saved to cookies!\")\r\n\t};\r\n\t\r\n\tgetJournalDates = () => {\r\n\t\t\r\n\t\tconst config = {\r\n\t\t\theaders: { Authorization: `JWT ${this.props.authToken}` }\r\n\t\t};\r\n\t\t\r\n\t\t// IF ANY GETS FAILS DUE TO BAD TOKEN, WE NEED TO SEND IT UP THE CHAIN TO DO SOMETHING ABOUT IT\r\n\t\t\r\n\t\t// So, this will give you EVERY SINGLE VALID ENTRY WE HAVE\r\n\t\t// WITHOUT. I REPEAT. WITHOUT THE JOURNAL CONTENT\r\n\t\taxios.get(this.props.APIHost +\"/getJournalDates\", config)\r\n\t\t.then( \r\n\t\t\tres => {\r\n\t\t\t\t\r\n\t\t\t\tconsole.log(\"Got Data!\")\r\n\t\t\t\t\r\n\t\t\t\tlet tempAIArray = []\r\n\t\t\t\tlet tempJoArray = []\r\n\t\t\t\t\r\n\t\t\t\tStore.remove(this.props.currentUser+'-ValidDates')\r\n\r\n\t\t\t\tvar item = \"\"\r\n\t\t\t\tfor (item in res.data){\r\n\t\t\t\t\t\r\n\t\t\t\t\t// THESE DATES HAVE THE WRONG TIMEZONE COMING IN, SO THE RESULTING DAY CAN BE WRONG!!!!\r\n\t\t\t\t\t// CHANGE THIS!!!\r\n\t\t\t\t\tconst newDate = new Date(res.data[item].createdDate)\r\n\t\t\t\t\t\r\n\t\t\t\t\tconst checkDate = newDate.getFullYear()+\"-\"+newDate.getMonth()+\"-\"+(newDate.getDate()+1)\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (res.data[item].hasAI) {\r\n\t\t\t\t\t\ttempAIArray.push( checkDate )\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ttempJoArray.push( checkDate )\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tthis.setState({validJournalScanDates: tempAIArray, validJournalDates: tempJoArray})\r\n\t\t\t\t\r\n\t\t\t\t// Save this new set to the cookies...\r\n\t\t\t\tthis.saveToCookies()\r\n\t\t\t\t\r\n\t\t})\r\n\t\t.catch( err => {\r\n\t\t\tif (err.response.status === 401) {\r\n\t\t\t\tthis.props.forceLogout()\r\n\t\t\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\treturn false\r\n\t};\r\n\t\r\n\tpickDate = (selectedDate) => {\r\n\t\t\r\n\t\tconsole.log(\"requesting date\")\r\n\t\tthis.setState({currentDate: selectedDate})\r\n\t\t\r\n\t\t// Okay, so check to see if we HAVE the journal entry in our storage\r\n\t\t// If we do, show that!\r\n\t\r\n\t\t// Change this so that it is for the currentuser, I got that up here done, but LETS TRY\r\n\t\tlet journal = Store.get(this.props.currentUser+'-Journal-'+selectedDate)\r\n\t\t\r\n\t\ttry{\r\n\t\t\t\r\n\t\t\t// TO DO, THIS ONE!\r\n\t\t\tconsole.log(journal.content)\r\n\t\t\t\r\n\t\t\tconsole.log(\"Got the Journal entry from storage?!\")\r\n\t\t} catch{\r\n\t\t\t//console.log(\"No cookies to load the data from\")\r\n\t\t\r\n\t\t\t// If we DONT, ask the server\r\n\t\t\t// need to be able to check if it was changed...\r\n\t\t\t// Probobly need to add a \"last Edited\" field...\r\n\t\t\t// And and edit history... but that is for later\r\n\t\t\t\r\n\t\t\tconst config = {\r\n\t\t\t\theaders: { Authorization: `JWT ${this.props.authToken}` }\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\tconsole.log(\"requesting date\")\r\n\t\t\tthis.setState({currentDate: selectedDate})\r\n\t\t\t\r\n\t\t\tconst dateReq = selectedDate.toJSON().split(\"T\")[0]\r\n\t\t\t\r\n\t\t\taxios.get(this.props.APIHost +\"/getUserJournal/?reqDate=\"+dateReq, config)\r\n\t\t\t.then( \r\n\t\t\t\tres => {\r\n\t\t\t\t\t// What if it is > 1?\r\n\t\t\t\t\tif (res.data.length > 0) {\r\n\t\t\t\t\t\tconsole.log(\"obtained a journal entry\")\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (res.data[0].hasAI) {\r\n\t\t\t\t\t\t\tconsole.log(\"Saved to the storage\")\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t// Save in the cookies for non-login access...\r\n\t\t\t\t\t\t\tStore.set('testData', res.data[0].AIresult)\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tthis.loadTestData()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.setState( {\r\n\t\t\t\t\t\t\tmessages: \"Showing Journal Entry for: \" + this.state.currentDate.toString(),\r\n\t\t\t\t\t\t\tjournalDisp: res.data[0].content,\r\n\t\t\t\t\t\t} )\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tconsole.log(\"No entry for that day\")\r\n\t\t\t\t\t\tthis.setState( {\r\n\t\t\t\t\t\t\tmessages: \"No entry for that day\",\r\n\t\t\t\t\t\t\tjournalDisp: \"\",\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// LEts not store it in the cookies for now...\r\n\t\t\t})\r\n\t\t\t.catch( err => {\r\n\t\t\t\t\r\n\t\t\t\tif (err.response.status === 401) {\r\n\t\t\t\t\tthis.props.forceLogout()\r\n\t\t\t\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t});\r\n\t\t\r\n\t\t}\r\n\t};\r\n\t\r\n\tforceCalenderUpdateTest = () => {\r\n\t\t\r\n\t}\r\n\r\n\trender() {\r\n\t\t\r\n\t\tconst tileClassName = ({ date, view }) => {\r\n\t\t\r\n\t\t\t// Add class to tiles in month view only\r\n\t\t\tif (view === 'month') {\r\n\t\t\t\t\r\n\t\t\t\tconst checkDate = date.getFullYear()+\"-\"+date.getMonth()+\"-\"+date.getDate()\r\n\t\t\t\t\r\n\t\t\t\t//console.log(checkDate)\r\n\t\t\t\t//console.log(this.state.validJournalDates)\r\n\r\n\t\t\t\t// Check if a date React-Calendar wants to check is on the list of dates to add class to\r\n\t\t\t\tconst hasJournal = this.state.validJournalDates.find( element => element === checkDate)\r\n\t\t\t\tconst hasAI = this.state.validJournalScanDates.find( element => element === checkDate)\r\n\t\t\t\t\r\n\t\t\t\tif (hasAI) {\r\n\t\t\t\t\treturn 'btn btn-success';\r\n\t\t\t\t} else if (hasJournal) {\r\n\t\t\t\t\treturn 'btn btn-warning'\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// use the default styling...\r\n\t\t\t\t\t//return 'btn btn-outline-dark'\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t// Entities\r\n\t\tvar entitiesDisplay = [];\r\n\t\t\r\n\t\tif (this.state.dataEntities.length > 0) { \r\n\t\t\tvar index;\r\n\t\t\tfor (index in this.state.dataEntities) {\r\n\t\t\t\tconst ent = this.state.dataEntities[index]\r\n\t\t\t\t\r\n\t\t\t\tconst emotionData = getRadarEmotionData(ent.emotion)\r\n\t\t\t\tconst sentimentData = getSentimentData(ent.sentiment)\r\n\t\t\t\t\r\n\t\t\t\tentitiesDisplay.push(\r\n\t\t\t\t\t<tr key={ent.id}>\r\n\t\t\t\t\t\t<th scope=\"row\">{ent.text}</th>\r\n\t\t\t\t\t\t<td>{ent.type}</td>\r\n\t\t\t\t\t\t<td>{ent.count}</td>\r\n\t\t\t\t\t\t<td>{ent.relevance}</td>\r\n\t\t\t\t\t\t<td> <Radar ref={this.chartReference} data={emotionData} options={this.state.optionsEmotions} /> </td>\r\n\t\t\t\t\t\t<td> <Doughnut ref={this.chartReference} data={sentimentData} options={this.state.optionsSentiment} /> </td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t}\r\n\t\t\r\n\t\t// Keywords\r\n\t\tvar keywordsDisplay = [];\r\n\t\t\r\n\t\tif (this.state.dataKeywords.length > 0) { \r\n\t\t\tfor (index in this.state.dataKeywords) {\r\n\t\t\t\tconst key = this.state.dataKeywords[index]\r\n\t\t\t\t\r\n\t\t\t\tconst emotionData = getRadarEmotionData(key.emotion)\r\n\t\t\t\tconst sentimentData = getSentimentData(key.sentiment)\r\n\t\t\t\t\r\n\t\t\t\tkeywordsDisplay.push(\r\n\t\t\t\t\t<tr key={key.id}>\r\n\t\t\t\t\t\t<th scope=\"row\">{key.text}</th>\r\n\t\t\t\t\t\t<td>{key.count}</td>\r\n\t\t\t\t\t\t<td><Radar ref={this.chartReference} data={emotionData} options={this.state.optionsEmotions} /></td>\r\n\t\t\t\t\t\t<td><Doughnut ref={this.chartReference} data={sentimentData} options={this.state.optionsSentiment} /></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t}\r\n\t\t\r\n\t\t// R E L A T I O N S\r\n\t\tvar relationsDisplay = [];\r\n\t\t\r\n\t\tif (this.state.dataRelations.length > 0) { \r\n\t\t\r\n\t\t\tfor (index in this.state.dataRelations) {\r\n\t\t\t\tconst rel = this.state.dataRelations[index]\r\n\t\t\t\trelationsDisplay.push(\r\n\t\t\t\t\t<tr key={rel.id}>\r\n\t\t\t\t\t\t<th scope=\"row\">{rel.init}</th>\r\n\t\t\t\t\t\t<td>{rel.action}</td>\r\n\t\t\t\t\t\t<td>{rel.target}</td>\r\n\t\t\t\t\t\t<td>{rel.score}</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className=\"mainView\">\r\n\t\t\t\t\r\n\t\t\t\t<div className=\"container\">\r\n\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-sm-3 m-2\">\t\r\n\t\t\t\t\t\t\t<button className=\"btn btn-primary\" onClick={this.backButton}>\r\n\t\t\t\t\t\t\t\tGo Back\r\n\t\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-sm m-2\">\t\r\n\t\t\t\t\t\t\tPage Title Test!\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"row \">\r\n\t\t\t\t\t\t<div className=\"col-lg-3 border m-2\">\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<Calendar \r\n\t\t\t\t\t\t\t\t\tonChange={this.pickDate}\r\n\t\t\t\t\t\t\t\t\tvalue={this.state.currentDate}\r\n\t\t\t\t\t\t\t\t\ttileClassName={tileClassName}\r\n\r\n\t\t\t\t\t\t\t\t\tminDetail={'year'}\r\n\t\t\t\t\t\t\t\t\tmaxDetail={'month'}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col border m-2\">\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div className=\"row my-2\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<p>{this.state.messages}</p>\r\n\t\t\t\t\t\t\t\t\t<p>{this.state.journalDisp}</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"row my-2\">\r\n\t\t\t\t\t\t<div className=\"col-lg-2\">\r\n\t\t\t\t\t\t\t<p> Debug! </p>\r\n\t\t\t\t\t\t\t<button onClick={this.loadTestData}> Load Stored AI Data </button>\r\n\t\t\t\t\t\t\t<button onClick={this.getJournalDates}> Force Dates Update </button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"row my-2\">\r\n\t\t\t\t\t\t<div className=\"col border mx-2\">\r\n\t\t\t\t\t\t\t<Radar ref={this.chartReference} data={this.state.dataEmotion} options={this.state.optionsEmotions} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col border mx-2\">\r\n\t\t\t\t\t\t\t<Doughnut ref={this.chartReference} data={this.state.dataSentiment} options={this.state.optionsSentiment} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"row  my-2\">\r\n\t\t\t\t\t\t<div className=\"col border mx-2\">\r\n\t\t\t\t\t\t\t<Bar ref={this.chartReference} data={this.state.dataCategories} options={this.state.optionsCategories} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col border mx-2\">\r\n\t\t\t\t\t\t\t<Bar ref={this.chartReference} data={this.state.dataConcepts} options={this.state.optionsConcepts} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"row my-2\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<h3>Entities!</h3>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<table className=\"table\">\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\">Name</th>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\">Type</th>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\">#Appearances</th>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\">Relevance Score</th>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\">Emotion</th>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\">Sentiment</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{entitiesDisplay}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"row my-2\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<h3>Keywords!</h3>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<table className=\"table\">\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\">Word</th>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\">#Appearances</th>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\">Emotion</th>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\">Sentiment</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{keywordsDisplay}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"row my-2\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<h3>Relations!</h3>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<table className=\"table\">\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\">Thing</th>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\">Action</th>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\">Target</th>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\">Score</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{relationsDisplay}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"row  my-2\">\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\tPADDING\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(journalView);","import React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport { withRouter } from \"react-router-dom\";\r\nimport Store from \"store\"\r\nimport {Editor, EditorState, RichUtils, convertToRaw, convertFromRaw } from 'draft-js';\r\n//ContentState\r\n\r\nconst styles = {\r\n  editor: {\r\n    border: '1px solid gray',\r\n    minHeight: '6em'\r\n  }\r\n};\r\n\r\n// START OF EXAMPLE CODE FROM THE DRAFT.JS!!!!!\r\nclass StyleButton extends React.Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.onToggle = (e) => {\r\n\t\t\t//console.log(this.props.style)\r\n\t\t\te.preventDefault();\r\n\t\t\tthis.props.onToggle(this.props.style);\r\n\t\t};\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet className = 'btn btn-outline-primary';\r\n\t\tif (this.props.active) {\r\n\t\t\tclassName += ' active';\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<button className={className} onClick={this.onToggle}>\r\n\t\t\t\t{this.props.label}\r\n\t\t\t</button>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst BLOCK_TYPES = [\r\n\t{label: 'H1', style: 'header-one'},\r\n\t{label: 'H2', style: 'header-two'},\r\n\t{label: 'H3', style: 'header-three'},\r\n\t{label: 'H4', style: 'header-four'},\r\n\t{label: 'H5', style: 'header-five'},\r\n\t{label: 'H6', style: 'header-six'},\r\n\t//{label: 'Blockquote', style: 'blockquote'},\r\n\t{label: 'UL', style: 'unordered-list-item'},\r\n\t{label: 'OL', style: 'ordered-list-item'},\r\n\t//{label: 'Code Block', style: 'code-block'},\r\n];\r\n\r\nconst BlockStyleControls = (props) => {\r\n\tconst {editorState} = props;\r\n\tconst selection = editorState.getSelection();\r\n\tconst blockType = editorState\r\n\t  .getCurrentContent()\r\n\t  .getBlockForKey(selection.getStartKey())\r\n\t  .getType();\r\n\r\n\treturn (\r\n\t\t<div className=\"RichEditor-controls\">\r\n\t\t\t{BLOCK_TYPES.map((type) =>\r\n\t\t\t\t<StyleButton\r\n\t\t\t\t\tkey={type.label}\r\n\t\t\t\t\tactive={type.style === blockType}\r\n\t\t\t\t\tlabel={type.label}\r\n\t\t\t\t\tonToggle={props.onToggle}\r\n\t\t\t\t\tstyle={type.style}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst INLINE_STYLES = [\r\n\t{label: 'Bold', style: 'BOLD'},\r\n\t{label: 'Italic', style: 'ITALIC'},\r\n\t{label: 'Underline', style: 'UNDERLINE'},\r\n\t//{label: 'Monospace', style: 'CODE'},\r\n];\r\n\r\nconst InlineStyleControls = (props) => {\r\n\tconst currentStyle = props.editorState.getCurrentInlineStyle();\r\n\t\r\n\treturn (\r\n\t\t<div className=\"RichEditor-controls\">\r\n\t\t\t{INLINE_STYLES.map((type) =>\r\n\t\t\t\t<StyleButton\r\n\t\t\t\t\tkey={type.label}\r\n\t\t\t\t\tactive={currentStyle.has(type.style)}\r\n\t\t\t\t\tlabel={type.label}\r\n\t\t\t\t\tonToggle={props.onToggle}\r\n\t\t\t\t\tstyle={type.style}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\n// END OF THE EXAMPLE CODE!!!\r\n\r\nclass journalView extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n        super(props);\r\n\t\t\r\n\t\tconst today = new Date()\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tcurrentDate: today,\r\n\t\t\t\r\n\t\t\tmessages: \"Creating journal for: \" + today.toJSON().split(\"T\")[0],\r\n\t\t\t\r\n\t\t\teditorState: EditorState.createEmpty(),\r\n\t\t\t\r\n\t\t\tjournalPlaceolder: \"\",\r\n\r\n        };\r\n\t\t\r\n\t\t// This doesnt look right... Fix this later I guess\r\n\t\tthis.onChange = (incomingState) => {\r\n\t\t\t//console.log(incomingState)\r\n\t\t\tthis.setState({\r\n\t\t\t\teditorState:incomingState,\r\n\t\t\t})\t\r\n\t\t}\r\n\t\t\r\n\t\tthis.setEditor = (editor) => {\r\n\t\t\tthis.editor = editor;\r\n\t\t};\r\n\t\t\r\n\t};\r\n\r\n\tbackButton = () => {\r\n\t\tthis.props.history.goBack()\r\n\t}\r\n\r\n\t// Lets test a POST request then!\r\n\tsaveJournal = () => {\r\n\t\t\r\n\t\tconst randomID = Math.random().toString(16).substr(2, 8);\r\n\t\t\r\n\t\tconst config = {\r\n\t\t\theaders: { Authorization: `JWT ${this.props.authToken}` }\r\n\t\t};\r\n\t\t\r\n\t\tconst data = {\r\n\t\t\tshorthand: 'made from the website: '+randomID,\r\n\t\t\t\r\n\t\t\t// This is my workaround before I learn what ACTUALLY TO DO HERE\r\n\t\t\tauthor: '',\r\n\t\t\r\n\t\t\t// It SHOULD be sufficient to use the current date...\r\n\t\t\t// Because the journal transitions on date changes...\t\t\r\n\t\t\tcreatedDate: this.state.currentDate.toJSON().split(\"T\")[0],\r\n\t\t\t\r\n\t\t\t// Same here, Should be able to do this...\r\n\t\t\t// The question is, is this an \"overwrite\" or just an add?\r\n\t\t\tcontent: this.state.editorState.getCurrentContent().getPlainText(),\r\n\t\t};\r\n\t\t\r\n\t\t//console.log(data.content)\r\n\t\t\r\n\t\taxios.post(this.props.APIHost +\"/saveUserJournal/\", data, config )\r\n\t\t.then( res => { \r\n\t\t\r\n\t\t\tconsole.log(res)\r\n\t\t\tconsole.log(\"Success\")\r\n\t\t\t\r\n\t\t})\r\n\t\t.catch( err => {\r\n\t\t\t// Change this depending on the error...\r\n\t\t\tif (err.response.status === 401) {\r\n\t\t\t\tthis.props.forceLogout()\r\n\t\t\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\t\r\n\tloadToday = () => {\r\n\t\tlet loadedEditor = convertFromRaw(Store.get(\"TodayTest\"))\r\n\t\t//console.log(loadedEditor)\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\teditorState: EditorState.createWithContent(loadedEditor)\r\n\t\t})\r\n\t}\r\n\t\r\n\tcookieToday = () => {\r\n\t\t//console.log('content state', convertToRaw(this.state.editorState.getCurrentContent()));\r\n\t\tStore.set( \"TodayTest\", convertToRaw(this.state.editorState.getCurrentContent()) )\r\n\t}\r\n\r\n\tonBoldClick = () => {\r\n\t\tthis.onChange(RichUtils.toggleInlineStyle(this.state.editorState, 'BOLD'));\r\n\t}\r\n\t// Example code... Can I alter this to be more my style?\r\n\t// It works, so its okay for now...\r\n\ttoggleBlockType = (blockType) => {\r\n\t\tthis.onChange(\r\n\t\t\tRichUtils.toggleBlockType(\r\n\t\t\t\tthis.state.editorState,\r\n\t\t\t\tblockType\r\n\t\t\t)\r\n\t\t);\r\n\t}\r\n\t\r\n\ttoggleInlineStyle = (inlineStyle) => {\r\n\t\tthis.onChange(\r\n            RichUtils.toggleInlineStyle(\r\n\t\t\t\tthis.state.editorState,\r\n\t\t\t\tinlineStyle\r\n            )\r\n        );\r\n\t}\r\n\t\r\n\thandleKeyCommand = (command, editorState) => {\r\n\t\tconst newState = RichUtils.handleKeyCommand(editorState, command);\r\n\r\n\t\tif (newState) {\r\n\t\t\tthis.onChange(newState);\r\n\t\t\treturn 'handled';\r\n\t\t}\r\n\r\n\t\treturn 'not-handled';\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"makeView\">\r\n\t\t\t\t<div className=\"container\">\r\n\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-sm-3 m-2\">\t\r\n\t\t\t\t\t\t\t<button className=\"btn btn-primary\" onClick={this.backButton}>\r\n\t\t\t\t\t\t\t\tGo Back\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-sm m-2\">\t\r\n\t\t\t\t\t\t\tPage Title Test!\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t{this.state.messages}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col border mx-2 my-2\">\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<BlockStyleControls\r\n\t\t\t\t\t\t\t\teditorState={this.state.editorState}\r\n\t\t\t\t\t\t\t\tonToggle={this.toggleBlockType}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<InlineStyleControls\r\n\t\t\t\t\t\t\t\teditorState={this.state.editorState}\r\n\t\t\t\t\t\t\t\tonToggle={this.toggleInlineStyle}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div style={styles.editor} >\r\n\t\t\t\t\t\t\t\t<Editor\r\n\t\t\t\t\t\t\t\t  ref={this.setEditor}\r\n\t\t\t\t\t\t\t\t  \r\n\t\t\t\t\t\t\t\t  editorState={this.state.editorState}\r\n\t\t\t\t\t\t\t\t  onChange={this.onChange}\r\n\t\t\t\t\t\t\t\t  \r\n\t\t\t\t\t\t\t\t  handleKeyCommand={this.handleKeyCommand}\r\n\t\t\t\t\t\t\t\t  placeholder={this.state.journalPlaceolder}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<button className=\"btn btn-outline-primary\" onClick={this.saveJournal}> Save current Journal entry </button>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<button className=\"btn btn-outline-primary\" onClick={this.loadToday}> Load Today's Data </button>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<button className=\"btn btn-outline-primary\" onClick={this.cookieToday}> Cookie Today's Data </button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default withRouter(journalView);","import React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { ButtonGroup, ToggleButton } from 'react-bootstrap';\r\n\r\nimport Store from \"store\"\r\nimport Calendar from 'react-calendar'\r\nimport 'react-calendar/dist/Calendar.css';\r\n\r\nimport { ProgressBar } from 'react-bootstrap';\r\n\r\nimport { Radar, Bar } from 'react-chartjs-2';\r\nimport { testMaxMin, testBarMulti, stackedBarData3Test, stackedBarData2Test, stackedBarData, sentimentBarData } from '../utils';\r\nimport { getRadarEmotionOptions, testBarMultiOptions, stackedBarOptions, sentimentBarOptions } from '../utils';\r\n//import { makeCompanyTestData, makeCompanyTestDataOtherFormat } from \"../utils\";\r\n\r\n// Move all of the functions here to a seperate file, a repository, so that I can fast make layouts sometime\r\n\r\n// This is garunteed\r\nconst AIAspect = [\r\n    { name: 'Emotion', value: 'emotion' },\r\n    { name: 'Sentiment', value: 'sentiment' },\r\n    { name: 'Entities', value: 'entities' },\r\n\t{ name: 'Keywords', value: 'keywords' },\r\n\t//{ name: 'Relations', value: 'relations' },\r\n];\r\n// This is also garunteed...\r\nconst daySet = [\r\n    { name: 'Monday', value: 'mon' },\r\n    { name: 'Tuesday', value: 'tue' },\r\n    { name: 'Wednesday', value: 'wed' },\r\n\t{ name: 'Thursday', value: 'thu' },\r\n\t{ name: 'Friday', value: 'fri' },\r\n\t{ name: 'Saturday', value: 'sat' },\r\n\t{ name: 'Sunday', value: 'sun' },\r\n\t{ name: 'All', value: 'allDay' },\r\n];\r\n\r\n// This is very lean...\r\nconst parseEmotion = (emotionData) => {\r\n\t\r\n\tlet derp = [emotionData.joy, emotionData.anger, emotionData.sadness, emotionData.disgust, emotionData.fear]\r\n\treturn derp;\r\n}\r\n\r\nclass companyViewSummary extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\t\t\t\r\n\t\t\tselectedPrompt:\"p1\",\r\n\t\t\tselectedAspect:\"emotion\",\r\n\t\t\tseletedDay:\"mon\",\r\n\t\t\t\r\n\t\t\tcurrentDate: new Date(),\r\n\t\t\tvalidSummaryDates: [],\r\n\t\t\t\r\n\t\t\tdropMessage: 'Select Company=>',\r\n\t\t\tcompanyList: [],\r\n\t\t\t\r\n\t\t\tcurrentCompany: \"None\",\r\n\t\t\t// What company are is the dataset for?\r\n\t\t\tdataCompany: undefined,\r\n\t\t\t// What week is the dataset for?\r\n\t\t\tdataDate: undefined,\r\n\t\t\t// The actual dataset\r\n\t\t\tdataSet: {mon:{},tue:{},wed:{},thu:{},fri:{},sat:{},sun:{},allDay:{}},\r\n\t\t\t\r\n\t\t\tmessages:\"Waiting for Summary Weekday Selection...\",\r\n        };\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tthis.loadCompanyData()\r\n\t};\r\n\t\r\n\tloadCompanyData = () => {\r\n\t\t// Get the list of companies from the cookies\r\n\t\tlet result = this.getCookiesListData();\r\n\t\tif (!result) {\r\n\t\t\t// If it failed, we go get it from the server...\r\n\t\t\tthis.getCompanyList()\r\n\t\t}\r\n\t}\r\n\t\r\n\tloadDatesData = () => {\r\n\t\t\r\n\t\t// Get the list of companies from the cookies\r\n\t\tlet result = this.getCookiesValidDates();\r\n\t\tif (!result) {\r\n\t\t\t// If it failed, we go get it from the server...\r\n\t\t\tthis.getValidDates()\r\n\t\t}\r\n\t}\r\n\t\r\n\tflushCookies = () => {\r\n\t\tStore.remove(this.props.currentUser+'-companyList')\r\n\t\tStore.remove(this.props.currentUser+'-'+this.state.currentCompany+'-ValidDates')\r\n\t}\r\n\t\r\n\tbackButton = () => {\r\n\t\tthis.props.history.goBack()\r\n\t}\r\n\t\r\n\tselectPrompt = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tselectedPrompt:event.currentTarget.value\r\n\t\t});\r\n\t}\r\n\tselectAI = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tselectedAspect:event.currentTarget.value\r\n\t\t});\r\n\t}\r\n\tselectDay = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tseletedDay:event.currentTarget.value\r\n\t\t});\r\n\t}\r\n\t\r\n\t// Get Company List from the server\r\n\tgetCompanyList = () => {\r\n\t\t\r\n\t\tconst config = {\r\n\t\t\theaders: { Authorization: `JWT ${this.props.authToken}` }\r\n\t\t};\r\n\t\r\n\t\taxios.get(this.props.APIHost +\"/getUsersCompanies\", config)\r\n\t\t.then( \tres => {\r\n\t\t\t\t// Should respond with a 1 length thing\r\n\t\t\t\tif (res.data.length > 0) {\r\n\t\t\t\t\t// Normal behaviour\r\n\t\t\t\t\tconsole.log(\"Got the list of companies\")\r\n\t\t\t\t\t//console.log(res)\r\n\t\t\t\t\t\r\n\t\t\t\t\t// Companies this user is 'owner' of\r\n\t\t\t\t\t//console.log(res.data[0].companyOwner)\r\n\t\t\t\t\t// Companies that this user is Allowed to see\r\n\t\t\t\t\t//console.log(res.data[0].companyAllowsView)\r\n\t\t\t\t\t// Companies this user is sent updates on\r\n\t\t\t\t\t//console.log(res.data[0].companySendsTo)\r\n\t\t\t\t\t\r\n\t\t\t\t\t// Merge these three into a single set for viewing for now?\r\n\t\t\t\t\tlet adding = []\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar index;\r\n\t\t\t\t\tfor (index in res.data[0].companyOwner) {\r\n\t\t\t\t\t\tlet name = res.data[0].companyOwner[index]\r\n\t\t\t\t\t\tif ( !adding.includes(name) ) {\r\n\t\t\t\t\t\t\tadding.push(name)\r\n\t\t\t\t\t\t\t//console.log(name)\r\n\t\t\t\t\t\t}\t\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor (index in res.data[0].companyAllowsView) {\r\n\t\t\t\t\t\tlet name = res.data[0].companyAllowsView[index]\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif ( !adding.includes(name) ) {\r\n\t\t\t\t\t\t\tadding.push(name)\r\n\t\t\t\t\t\t\t//console.log(name)\r\n\t\t\t\t\t\t}\t\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor (index in res.data[0].companySendsTo) {\r\n\t\t\t\t\t\tlet name = res.data[0].companySendsTo[index]\r\n\t\t\t\t\t\tif ( !adding.includes(name) ) {\r\n\t\t\t\t\t\t\tadding.push(name)\r\n\t\t\t\t\t\t\t//console.log(name)\r\n\t\t\t\t\t\t}\t\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tStore.set(this.props.currentUser+'-companyList', {'theList':adding})\r\n\t\t\t\t\tthis.setState({companyList: adding})\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\t// This should not trigger\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch( err => {\r\n\t\t\t\tif (err.response.status === 401) {\r\n\t\t\t\t\tthis.props.forceLogout()\r\n\t\t\t\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\t\r\n\tgetCookiesListData = () => {\r\n\t\tlet getDates = Store.get(this.props.currentUser+'-companyList')\r\n\t\t\r\n\t\ttry {\r\n\t\t\tthis.setState({companyList: getDates['theList']})\r\n\t\t\treturn true\r\n\t\t}\r\n\t\tcatch {\r\n\t\t\tconsole.log(\"Not in the cookies\")\r\n\t\t\treturn false\r\n\t\t}\r\n\t}\r\n\t\r\n\tgetValidDates = () => {\r\n\t\t\r\n\t\tif (this.state.currentCompany === \"None\") {\r\n\t\t\tconsole.log(\"Select Valid Company!\")\r\n\t\t\treturn false\r\n\t\t}\r\n\t\t\r\n\t\tconst config = {\r\n\t\t\theaders: { Authorization: `JWT ${this.props.authToken}` }\r\n\t\t};\r\n\t\t\r\n\t\taxios.get(this.props.APIHost + \"/getCompanyWeekDates?reComp=\"+this.state.currentCompany, config)\r\n\t\t.then( \tres => {\r\n\t\t\t\tlet tempSumArray = []\r\n\t\t\t\t\r\n\t\t\t\tconsole.log(\"Got Valid Dates!\")\r\n\t\t\t\tStore.remove(this.props.currentUser+'-'+this.state.currentCompany+'-ValidDates')\r\n\r\n\t\t\t\tvar item = \"\"\r\n\t\t\t\tfor (item in res.data){\r\n\t\t\t\t\t\r\n\t\t\t\t\t// THESE DATES HAVE THE WRONG TIMEZONE COMING IN, SO THE RESULTING DAY CAN BE WRONG!!!!\r\n\t\t\t\t\t// CHANGE THIS!!!\r\n\t\t\t\t\tconst newDate = new Date(res.data[item].forDate)\r\n\t\t\t\t\tlet checkDate = 0\r\n\t\t\t\t\r\n\t\t\t\t\t// This is the \"Anchor Date\"\r\n\t\t\t\t\tif (res.data[item].hasMon) {\r\n\t\t\t\t\t\ttempSumArray.push( checkDate = newDate.getFullYear()+\"-\"+newDate.getMonth()+\"-\"+(newDate.getDate()+1) )\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (res.data[item].hasTue) {\r\n\t\t\t\t\t\ttempSumArray.push( checkDate = newDate.getFullYear()+\"-\"+newDate.getMonth()+\"-\"+(newDate.getDate()+2) )\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (res.data[item].hasWed) {\r\n\t\t\t\t\t\ttempSumArray.push( checkDate = newDate.getFullYear()+\"-\"+newDate.getMonth()+\"-\"+(newDate.getDate()+3) )\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (res.data[item].hasThu) {\r\n\t\t\t\t\t\ttempSumArray.push( checkDate = newDate.getFullYear()+\"-\"+newDate.getMonth()+\"-\"+(newDate.getDate()+4) )\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (res.data[item].hasFri) {\r\n\t\t\t\t\t\ttempSumArray.push( checkDate = newDate.getFullYear()+\"-\"+newDate.getMonth()+\"-\"+(newDate.getDate()+5) )\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (res.data[item].hasSat) {\r\n\t\t\t\t\t\ttempSumArray.push( checkDate = newDate.getFullYear()+\"-\"+newDate.getMonth()+\"-\"+(newDate.getDate()+6) )\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (res.data[item].hasSun) {\r\n\t\t\t\t\t\ttempSumArray.push( checkDate = newDate.getFullYear()+\"-\"+newDate.getMonth()+\"-\"+(newDate.getDate()+7) )\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\ttempSumArray.push( checkDate )\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tStore.set(this.props.currentUser+'-'+this.state.currentCompany+'-ValidDates', {'dates':tempSumArray})\r\n\t\t\t\t//console.log(tempSumArray)\r\n\t\t\t\t\r\n\t\t\t\tthis.setState({validSummaryDates: tempSumArray})\r\n\t\t})\r\n\t\t.catch( err => {\r\n\t\t\tif (err.response.status === 401) {\r\n\t\t\t\tthis.props.forceLogout()\r\n\t\t\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t\r\n\t// Dates Stuff...\r\n\tgetCookiesValidDates = () => {\r\n\t\tlet getDates = Store.get(this.props.currentUser+'-'+this.state.currentCompany+'-ValidDates')\r\n\t\t\r\n\t\ttry {\r\n\t\t\tthis.setState({validSummaryDates: getDates['dates']})\r\n\t\t\treturn true\r\n\t\t}\r\n\t\tcatch {\r\n\t\t\tconsole.log(\"Not in the cookies\")\r\n\t\t\treturn false\r\n\t\t}\r\n\t}\r\n\t\r\n\tpickDate = (selectedDate) => {\r\n\t\tlet todayWeekday = (selectedDate.getDay()-1)\r\n\t\tif (todayWeekday < 0) {\r\n\t\t\ttodayWeekday = 6\r\n\t\t}\r\n\t\t\r\n\t\t//console.log(this.state.seletedDay)\r\n\t\t//console.log(daySet[selectedDate.getDay()-1].value)\r\n\t\t\r\n\t\tlet copiedDate = new Date(selectedDate.getTime());\r\n\r\n\t\tcopiedDate.setDate(copiedDate.getDate()-(todayWeekday))\r\n\t\tconst dateReq = copiedDate.toJSON().split(\"T\")[0]\r\n\t\t\r\n\t\t// Either way, we HAVE to set the correct variables to what day we are doing...\r\n\t\tthis.setState({\r\n\t\t\tcurrentDate: selectedDate,\r\n\t\t\tseletedDay: daySet[ todayWeekday ].value,\r\n\t\t})\r\n\t\t\r\n\t\t// We are NOT in the same week, or we are NOT the same company, so we MUST do a API call\r\n\t\tif (!(this.state.dataDate === dateReq) || !(this.state.dataCompany === this.state.currentCompany) ) {\r\n\t\t\t\t\t\r\n\t\t\t// The following will get the data from the server.....\r\n\t\t\tif (this.state.currentCompany === \"None\") {\r\n\t\t\t\tconsole.log(\"Select Valid Company!\")\r\n\t\t\t\treturn false\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tconsole.log(\"requesting date\")\r\n\r\n\t\t\tconst config = {\r\n\t\t\t\theaders: { Authorization: `JWT ${this.props.authToken}` }\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\taxios.get(this.props.APIHost +\"/getCompanyWeekSummary/?reqDate=\"+dateReq+\"&reComp=\"+this.state.currentCompany, config)\r\n\t\t\t.then( \r\n\t\t\t\tres => {\r\n\t\t\t\t\t// What if it is > 1?\r\n\t\t\t\t\tif (res.data.length > 0) {\r\n\t\t\t\t\t\tconsole.log(\"obtained a company summary\")\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// Check for matching stuff on this end?\r\n\t\t\t\t\t\t//console.log(res.data[0].summaryResult)\r\n\t\t\t\t\t\t// Save in the cookies for non-login access...\r\n\t\t\t\t\t\t//Store.set('testSummaryData', res.data[0].summaryResult)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t//console.log(res.data)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tlet incomingDict = {\r\n\t\t\t\t\t\t\tmon:res.data[0].monResult,\r\n\t\t\t\t\t\t\ttue:res.data[0].tueResult,\r\n\t\t\t\t\t\t\twed:res.data[0].wedResult,\r\n\t\t\t\t\t\t\tthu:res.data[0].thuResult,\r\n\t\t\t\t\t\t\tfri:res.data[0].friResult,\r\n\t\t\t\t\t\t\tsat:res.data[0].satResult,\r\n\t\t\t\t\t\t\tsun:res.data[0].sunResult,\r\n\t\t\t\t\t\t\tallDay:res.data[0].summaryResult,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\tdataSet:incomingDict,\r\n\t\t\t\t\t\t\tmessages: \"Displaying entry for week of: \" + dateReq,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tconsole.log(\"No entry for that day\")\r\n\t\t\t\t\t\tthis.setState( {\r\n\t\t\t\t\t\t\tmessages: \"No entry for that day\",\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// LEts not store it in the cookies for now...\r\n\t\t\t})\r\n\t\t\t.catch( err => {\r\n\t\t\t\tif (err.response.status === 401) {\r\n\t\t\t\t\tthis.props.forceLogout()\r\n\t\t\t\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\t\r\n\tsetCurrentCompany = (event) => {\r\n\t\tthis.setState(\r\n\t\t\t{dropMessage: event.target.value, currentCompany: event.target.value},\r\n\t\t\tthis.loadDatesData\r\n\t\t)\r\n\t}\r\n\t\r\n\t// Rendering this with Bootstrap React.... To see if there is anything really interesting I can do with it\r\n\t// So far it doesnt look all that different \r\n\trender() {\r\n\t\t\r\n\t\tlet tableDisplay = []\r\n\t\tlet index;\r\n\t\t\r\n\t\t// Read the data from our state machine,\r\n\t\tconst currentPrompt = this.state.selectedPrompt\r\n\t\tconst currentDay = this.state.seletedDay\r\n\t\tconst currentAspect = this.state.selectedAspect\r\n\t\t\r\n\t\tlet promptList = []\r\n\t\t\r\n\t\t// At least this is garunteed to exist\r\n\t\tlet dayData = this.state.dataSet[currentDay]\r\n\t\t// Check to see if the lower states exist...\r\n\t\t\r\n\t\tlet displayStats = [];\r\n\t\tlet promptName = \"not valid prompt\";\r\n\t\t\r\n\t\t// This will trip if we have data\r\n\t\tif (!(dayData === null) && !(dayData === undefined)) {\r\n\t\t\t\r\n\t\t\tlet key;\r\n\t\t\tfor (key in dayData) {\r\n\r\n\t\t\t\tif ( !(dayData[key].name === undefined) ) {\r\n\t\t\t\t\tpromptList.push( {name:dayData[key].name, value:key} )\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// At this point if the array is still empty,we have nothing...\r\n\t\t\tif (promptList.length === 0) {\r\n\t\t\t\tpromptList = [{name:\"No Prompts\", value:\"None\"}]\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//console.log(currentPrompt)\r\n\t\t\t//console.log(dayData)\r\n\t\t\tlet sanityCheck = currentPrompt in dayData\r\n\t\t\tif (sanityCheck) {\r\n\t\t\t\t// Switch state this bugger...\r\n\t\t\t\tpromptName = dayData[currentPrompt][\"name\"]\r\n\t\t\t\tlet dataSet = dayData[currentPrompt][\"data\"][currentAspect]\r\n\t\t\t\tlet purity = dayData.responsePurity\r\n\t\t\t\t\r\n\t\t\t\tdisplayStats.push(\r\n\t\t\t\t\t<div className=\"row m-2\" key=\"1\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"progressBar\">\r\n\t\t\t\t\t\t\t\t<ProgressBar now={ purity } label={`${purity}% Response Rate`} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\t\t\r\n\t\t\t\tswitch(currentAspect) {\r\n\t\t\t\t\tcase \"emotion\":\r\n\t\t\t\t\t\tlet emoMax = parseEmotion( dataSet.max )\r\n\t\t\t\t\t\tlet emoAve = parseEmotion( dataSet.ave )\r\n\t\t\t\t\t\tlet emoMin = parseEmotion( dataSet.min )\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t//console.log(dataSet.max)\r\n\t\t\t\t\t\t//console.log(dataSet.ave)\r\n\t\t\t\t\t\t//console.log(dataSet.min)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tconst dataRadarTest = testMaxMin( emoMax, emoAve, emoMin )\r\n\t\t\t\t\t\tconst radarOptionsTest = getRadarEmotionOptions()\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tlet emoThresh = parseEmotion( dataSet.threshold )\r\n\t\t\t\t\t\tconst dataBarTest = testBarMulti( emoThresh )\r\n\t\t\t\t\t\tconst barOptionsTest = testBarMultiOptions()\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tdisplayStats.push(\r\n\t\t\t\t\t\t\t<div className=\"row m-2\" key=\"2\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t\t\tAverages + Max and min?\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Radar ref={this.chartReference} data={dataRadarTest} options={radarOptionsTest} />\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t\t\t\"How many have hit this threshold\"?\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Bar ref={this.chartReference} data={dataBarTest} options={barOptionsTest} />\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'sentiment':\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tconst dataBarStack = stackedBarData( [dataSet.min], [dataSet.ave], [dataSet.max] )\r\n\t\t\t\t\t\tconst barStackOptions = stackedBarOptions()\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tlet dataTresh = [dataSet.thresholdPos, dataSet.thresholdNeg]\r\n\t\t\t\t\t\tconst dataBarNorm = sentimentBarData( dataTresh )\r\n\t\t\t\t\t\tconst barOptionsNorm = sentimentBarOptions()\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tdisplayStats.push(\r\n\t\t\t\t\t\t\t<div className=\"row m-2\" key=\"2\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t\t\tSentiment Values\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Bar ref={this.chartReference} data={dataBarStack} options={barStackOptions} />\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t\t\t\"How many have hit this threshold\"?\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Bar ref={this.chartReference} data={dataBarNorm} options={barOptionsNorm} />\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'entities':\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t//console.log(dataSet)\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tfor (index in dataSet) {\r\n\t\t\t\t\t\t\tlet entity = dataSet[index]\r\n\t\t\t\t\t\t\t//console.log(entity)\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tlet emoMax = parseEmotion( entity.emotion.max )\r\n\t\t\t\t\t\t\tlet emoAve = parseEmotion( entity.emotion.ave )\r\n\t\t\t\t\t\t\tlet emoMin = parseEmotion( entity.emotion.min )\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tlet emoData = testMaxMin( emoMax, emoAve, emoMin )\r\n\t\t\t\t\t\t\tlet emoOptions = getRadarEmotionOptions()\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tconst dataEntSent = stackedBarData3Test( \r\n\t\t\t\t\t\t\t\t[entity.confidence.min, entity.relevance.min, entity.sentiment.min],\r\n\t\t\t\t\t\t\t\t[entity.confidence.ave, entity.relevance.ave, entity.sentiment.ave],\r\n\t\t\t\t\t\t\t\t[entity.confidence.max, entity.relevance.max, entity.sentiment.max],\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\tconst dataEntOptions = stackedBarOptions()\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\ttableDisplay.push(\r\n\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"row\">{entity.text}</th>\r\n\t\t\t\t\t\t\t\t\t<td>{entity.type}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{entity.count}</td>\r\n\t\t\t\t\t\t\t\t\t<td colSpan=\"3\"><Bar ref={this.chartReference} data={dataEntSent} options={dataEntOptions} /></td>\r\n\t\t\t\t\t\t\t\t\t<td><Radar ref={this.chartReference} data={emoData} options={emoOptions} /></td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tdisplayStats.push(\r\n\t\t\t\t\t\t\t<table className=\"table\" key=\"2\">\r\n\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Name</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Type</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">#Appearances</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Confidence</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Relevance</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Sentiment</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Emotion</th>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t{tableDisplay}\r\n\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'keywords':\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t//console.log(dataSet)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tfor (index in dataSet) {\r\n\t\t\t\t\t\t\tlet keyData = dataSet[index]\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t//const dataKeySent = stackedBarData( [keyData.sentiment.min], [keyData.sentiment.ave], [keyData.sentiment.max] )\r\n\t\t\t\t\t\t\t//const dataKeyOptions = stackedBarOptions()\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tlet emoMax = parseEmotion( keyData.emotion.max )\r\n\t\t\t\t\t\t\tlet emoAve = parseEmotion( keyData.emotion.ave )\r\n\t\t\t\t\t\t\tlet emoMin = parseEmotion( keyData.emotion.min )\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tconst dataRadar = testMaxMin( emoMax, emoAve, emoMin )\r\n\t\t\t\t\t\t\tconst dataRadarOptions = getRadarEmotionOptions()\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tconst dataKeySent = stackedBarData2Test(\r\n\t\t\t\t\t\t\t\t[keyData.relevance.min, keyData.sentiment.min], \r\n\t\t\t\t\t\t\t\t[keyData.relevance.ave, keyData.sentiment.ave], \r\n\t\t\t\t\t\t\t\t[keyData.relevance.max, keyData.sentiment.max] \r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\tconst dataKeyOptions = stackedBarOptions()\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\ttableDisplay.push(\r\n\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"row\">{keyData.text}</th>\r\n\t\t\t\t\t\t\t\t\t<td>{keyData.count}</td>\r\n\t\t\t\t\t\t\t\t\t<td colSpan=\"2\"><Bar ref={this.chartReference} data={dataKeySent} options={dataKeyOptions} /></td>\r\n\t\t\t\t\t\t\t\t\t<td><Radar ref={this.chartReference} data={dataRadar} options={dataRadarOptions} /></td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tdisplayStats.push(\r\n\t\t\t\t\t\t\t<table className=\"table\" key=\"2\">\r\n\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Name</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">#Appearances</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Relevance Score</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Sentiment</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Emotion</th>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t{tableDisplay}\r\n\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'relations':\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t//console.log(dataSet)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tfor (index in dataSet) {\r\n\t\t\t\t\t\t\tlet relData = dataSet[index]\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tconst scoreData = stackedBarData( [relData.score.min], [relData.score.ave], [relData.score.max] )\r\n\t\t\t\t\t\t\tconst scoreOptions = sentimentBarOptions()\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\ttableDisplay.push(\r\n\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"row\">{relData.count}</th>\r\n\t\t\t\t\t\t\t\t\t<td>{relData.arguments[0].text}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{relData.type}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{relData.arguments[1].text}</td>\r\n\t\t\t\t\t\t\t\t\t<td style={{width:\"30%\"}}><Bar ref={this.chartReference} data={scoreData} options={scoreOptions} /></td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tdisplayStats.push(\r\n\t\t\t\t\t\t\t<table className=\"table\" key=\"2\">\r\n\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">#Appearances</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Actor</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Action</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Target</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Score</th>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t{tableDisplay}\r\n\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tconsole.log(\"Invalid AI selection somehow\")\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\t// There was NO DATA in the day here, so we have to display nothing...\r\n\t\t\tpromptList = [{name:\"No Prompts\", value:\"None\"}]\r\n\t\t}\r\n\t\t\r\n\t\tconst tileClassName = ({ date, view }) => {\r\n\t\t\r\n\t\t\t// Add class to tiles in month view only\r\n\t\t\tif (view === 'month') {\r\n\t\t\t\t\r\n\t\t\t\tconst checkDate = date.getFullYear()+\"-\"+date.getMonth()+\"-\"+date.getDate()\r\n\t\t\t\t\r\n\t\t\t\t//console.log(checkDate)\r\n\t\t\t\t//console.log(this.state.validJournalDates)\r\n\r\n\t\t\t\t// Check if a date React-Calendar wants to check is on the list of dates to add class to\r\n\t\t\t\tconst hasSummary = this.state.validSummaryDates.find( element => element === checkDate)\r\n\t\t\t\t\r\n\t\t\t\tif (hasSummary) {\r\n\t\t\t\t\treturn 'btn btn-success'\r\n\t\t\t\t} else {\r\n\t\t\t\t\t//return 'btn btn-outline-dark'\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tvar dropDownInternal = []\r\n\t\t\r\n\t\tfor (index in this.state.companyList) {\r\n\t\t\tlet comp = this.state.companyList[index]\r\n\t\t\tdropDownInternal.push( \r\n\t\t\t\t<button className=\"dropdown-item\" key={index} onClick={this.setCurrentCompany} value={ comp }>\r\n\t\t\t\t\t{comp}\r\n\t\t\t\t</button> \r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className=\"companyView\">\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-sm-3 m-2\">\t\r\n\t\t\t\t\t\t\t<button className=\"btn btn-primary\" onClick={this.backButton}>\r\n\t\t\t\t\t\t\t\tGo Back\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-sm m-2\">\t\r\n\t\t\t\t\t\t\tPage Title Test!\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"row m-2\">\r\n\t\t\t\t\t\t<div className=\"col-lg-3 border m-2\">\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<Calendar \r\n\t\t\t\t\t\t\t\t\tonChange={this.pickDate}\r\n\t\t\t\t\t\t\t\t\tvalue={this.state.currentDate}\r\n\t\t\t\t\t\t\t\t\ttileClassName={tileClassName}\r\n\r\n\t\t\t\t\t\t\t\t\tminDetail={'year'}\r\n\t\t\t\t\t\t\t\t\tmaxDetail={'month'}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col border m-2\">\t\t\r\n\t\t\t\t\t\t\t<div className=\"row m-2\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"dropdown\">\r\n\t\t\t\t\t\t\t\t\t  <button className=\"btn btn-secondary dropdown-toggle\" type=\"button\" id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n\t\t\t\t\t\t\t\t\t  {this.state.dropMessage}\r\n\t\t\t\t\t\t\t\t\t  </button>\r\n\t\t\t\t\t\t\t\t\t  <div className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\r\n\t\t\t\t\t\t\t\t\t\t{dropDownInternal}\r\n\t\t\t\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<button className=\"btn btn-outline-danger\" onClick={this.loadCompanyData}> Reload Company Data </button>\r\n\t\t\t\t\t\t\t\t\t<button className=\"btn btn-outline-danger\" onClick={this.loadDatesData}> Reload Dates </button>\r\n\t\t\t\t\t\t\t\t\t<button className=\"btn btn-outline-danger\" onClick={this.flushCookies}> Flush Cookie Data </button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div className=\"row m-2\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\t\t\r\n\t\t\t\t\t\t\t\t\t<p>{this.state.messages}</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div className=\"row m-2\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<ButtonGroup toggle>\r\n\t\t\t\t\t\t\t\t\t\t{daySet.map((radio, idx) => (\r\n\t\t\t\t\t\t\t\t\t\t<ToggleButton\r\n\t\t\t\t\t\t\t\t\t\t\tkey={idx}\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"radio\"\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"radio\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={radio.value}\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={this.state.seletedDay === radio.value}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.selectDay}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{radio.name}\r\n\t\t\t\t\t\t\t\t\t\t</ToggleButton>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t</ButtonGroup>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div className=\"row m-2\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<ButtonGroup toggle>\r\n\t\t\t\t\t\t\t\t\t\t{promptList.map((radio, idx) => (\r\n\t\t\t\t\t\t\t\t\t\t<ToggleButton\r\n\t\t\t\t\t\t\t\t\t\t\tkey={idx}\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"radio\"\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"radio\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={radio.value}\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={this.state.selectedPrompt === radio.value}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.selectPrompt}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{radio.name}\r\n\t\t\t\t\t\t\t\t\t\t</ToggleButton>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t</ButtonGroup>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div className=\"row m-2\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<ButtonGroup toggle>\r\n\t\t\t\t\t\t\t\t\t\t{AIAspect.map((radio, idx) => (\r\n\t\t\t\t\t\t\t\t\t\t<ToggleButton\r\n\t\t\t\t\t\t\t\t\t\t\tkey={idx}\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"radio\"\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"info\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"radio\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={radio.value}\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={this.state.selectedAspect === radio.value}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.selectAI}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{radio.name}\r\n\t\t\t\t\t\t\t\t\t\t</ToggleButton>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t</ButtonGroup>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"row m-2\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\tShowing Data for prompt: {promptName}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t{displayStats}\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"row  my-2\">\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(companyViewSummary);","import React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nconst sorter = [\"Public\", \"Private\"]\r\n\r\nclass companySettings extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n        super(props);\r\n\t\t\r\n\t\tconst today = new Date()\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tcurrentDate: today,\r\n\t\t\t\r\n\t\t\tmessages: \"Hello, there is nothing yet here...\",\r\n\t\t\t\r\n\t\t\tdropMessage: 'Select Company=>',\r\n\t\t\tcurrentCompany: \"None\",\r\n\t\t\r\n\t\t\tcompanyList: [],\r\n\t\t\t\r\n\t\t\tdataCompanyName: 'No Company Selected',\r\n\t\t\tdataCompanyPriv: 'No Company Selected',\r\n\t\t\t\r\n\t\t\tdataCompanySendTo: [],\r\n\t\t\tdataCompanyViewing: [],\r\n\t\t\tdataCompanyGoverned: [],\r\n\t\t\t\r\n\t\t\tdataCompanySendToAdded: [],\r\n\t\t\tdataCompanyViewingAdded: [],\r\n\t\t\tdataCompanyGovernedAdded: [],\r\n\t\t\t\r\n\t\t\tdataCompanySendToDeleted: [],\r\n\t\t\tdataCompanyViewingDeleted: [],\r\n\t\t\tdataCompanyGovernedDeleted: [],\r\n\t\t\t\r\n\t\t\tsearchSend: \"\",\r\n\t\t\tsearchView: \"\",\r\n\t\t\tsearchGov: \"\",\r\n\t\t\taddingEmail: \"\",\r\n\t\t\t\r\n\t\t\tclickedList: \"\",\r\n\t\t\tclickedIndex: -1,\r\n        };\r\n\t\t\r\n\t\t\r\n\t};\r\n\r\n\tbackButton = () => {\r\n\t\tthis.props.history.goBack()\r\n\t}\r\n\t\r\n\tpostNewCompanyData = () => {\r\n\t\t\r\n\t\t// Verify we have a proper company before we do anyting...\r\n\t\tif (this.state.currentCompany === \"None\") {\r\n\t\t\tconsole.log(\"No company selected\")\r\n\t\t\treturn false\r\n\t\t}\r\n\t\t\r\n\t\tconst config = {\r\n\t\t\theaders: { Authorization: `JWT ${this.props.authToken}` }\r\n\t\t};\r\n\t\t\r\n\t\tconst data = {\r\n\t\t\t// These will be checked by the permissions on the other end...\r\n\t\t\t//requestUser: \"\",\r\n\t\t\tcompanyName: this.state.currentCompany,\r\n\t\t\tcompanyReName: this.state.dataCompanyName,\r\n\t\t\t\r\n\t\t\tsummaryViewAccess: this.state.dataCompanyPriv,\r\n\t\t\t\r\n\t\t\tresultsSendTargets: this.state.dataCompanySendTo,\r\n\t\t\tprivateViewingPerms: this.state.dataCompanyViewing,\r\n\t\t\tgovernedUsers: this.state.dataCompanyGoverned,\r\n\t\t\t\r\n\t\t};\r\n\t\t\r\n\t\t// This will overwrite stuff, hand ready for the deletions\r\n\t\t// But HOW do I handle the addings?\r\n\t\taxios.post(this.props.APIHost +\"/postCompanyData/\", data, config )\r\n\t\t.then( res => { \r\n\t\t\r\n\t\t\t//console.log(res)\r\n\t\t\tconsole.log(\"Success\")\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tdataCompanySendToDeleted: [],\r\n\t\t\t\tdataCompanyViewingDeleted: [],\r\n\t\t\t\tdataCompanyGovernedDeleted: [],\r\n\t\t\t})\r\n\t\t\t\r\n\t\t})\r\n\t\t.catch( err => {\r\n\t\t\t// Change this depending on the error...\r\n\t\t\tif (err.response.status === 401) {\r\n\t\t\t\tthis.props.forceLogout()\r\n\t\t\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tgetCompanyList = () => {\r\n\t\t\r\n\t\tconst config = {\r\n\t\t\theaders: { Authorization: `JWT ${this.props.authToken}` }\r\n\t\t};\r\n\t\t\r\n\t\t// This is bad, as it gets ALL companies...\r\n\t\t// But we SHOULD save it with the permissions...\r\n\t\t// So I need to make this better...\r\n\t\taxios.get(this.props.APIHost +\"/getUsersCompanies\", config)\r\n\t\t.then( \tres => {\r\n\t\t\t\t// Should respond with a 1 length thing\r\n\t\t\t\tif (res.data.length > 0) {\r\n\t\t\t\t\t// Normal behaviour\r\n\t\t\t\t\tconsole.log(\"Got the list of companies\")\r\n\t\t\t\t\t//console.log(res)\r\n\t\t\t\t\t\r\n\t\t\t\t\t// Companies this user is 'owner' of\r\n\t\t\t\t\t//console.log(res.data[0].companyOwner)\r\n\t\t\t\t\t\r\n\t\t\t\t\t// Merge these three into a single set for viewing for now?\r\n\t\t\t\t\tlet adding = []\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar index;\r\n\t\t\t\t\tfor (index in res.data[0].companyOwner) {\r\n\t\t\t\t\t\tlet name = res.data[0].companyOwner[index]\r\n\t\t\t\t\t\tif ( !adding.includes(name) ) {\r\n\t\t\t\t\t\t\tadding.push(name)\r\n\t\t\t\t\t\t\t//console.log(name)\r\n\t\t\t\t\t\t}\t\t\t\t\t\t\t\r\n\t\t\t\t\t}\t\t\t\t\t\r\n\t\t\t\t\tthis.setState({companyList: adding})\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\t// This should not trigger\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch( err => {\r\n\t\t\t\tif (err.response.status === 401) {\r\n\t\t\t\t\tthis.props.forceLogout()\r\n\t\t\t\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\t\r\n\tgetCompanyData = (targetCompany) => {\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: { Authorization: `JWT ${this.props.authToken}` }\r\n\t\t};\r\n\t\t\r\n\t\taxios.get(this.props.APIHost +\"/getCompanyData?reqComp=\"+targetCompany+\"\", config)\r\n\t\t.then( \tres => {\r\n\t\t\t\t// Should respond with a 1 length thing\r\n\t\t\t\tif (res.data.length > 0) {\r\n\t\t\t\t\t// Normal behaviour\r\n\t\t\t\t\tconsole.log(\"Got the company data!\")\r\n\t\t\t\t\t//console.log(res)\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tdataCompanyName: res.data[0].companyName,\r\n\t\t\t\t\t\tdataCompanyPriv: sorter[res.data[0].summaryViewAccess],\r\n\t\t\t\t\t\tdataCompanySendTo: res.data[0].resultsSendTargets,\r\n\t\t\t\t\t\tdataCompanyViewing: res.data[0].privateViewingPerms,\r\n\t\t\t\t\t\tdataCompanyGoverned: res.data[0].governedUsers,\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\t// This should not trigger\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch( err => {\r\n\t\t\t\tconsole.log(err)\r\n\t\t\t\tif (err.response.status === 401) {\r\n\t\t\t\t\tthis.props.forceLogout()\r\n\t\t\t\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\t\r\n\tsendChange = (event) => {\r\n\t\tthis.setState( {searchSend: event.target.value} )\r\n\t}\r\n\tviewChange = (event) => {\r\n\t\tthis.setState( {searchView: event.target.value} )\r\n\t}\r\n\tgovChange = (event) => {\r\n\t\tthis.setState( {searchGov: event.target.value} )\r\n\t}\r\n\t\r\n\temailFieldChange = (event) => {\r\n\t\tthis.setState( {addingEmail: event.target.value} )\r\n\t}\r\n\t\r\n\ttriggerCompanySwap = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tdropMessage: event.target.value, \r\n\t\t\tcurrentCompany: event.target.value\r\n\t\t})\r\n\t\t\r\n\t\tthis.getCompanyData(event.target.value)\r\n\t\t\r\n\t}\r\n\t\r\n\ttriggerModal = (event) => {\r\n\t\t\r\n\t\t//console.log(event.target.parentElement.id)\r\n\t\t//console.log(event.target.parentElement.parentElement.id)\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tclickedList: event.target.parentElement.parentElement.id,\r\n\t\t\tclickedIndex: event.target.parentElement.id,\r\n\t\t})\r\n\t}\r\n\t\r\n\ttriggerStopAdd = (event) => {\r\n\t\t\r\n\t\tlet subset = []\r\n\t\tif (event.target.parentElement.parentElement.id === \"sendUsers\") {\r\n\t\t\tsubset = this.state.dataCompanySendToAdded\r\n\t\t\tsubset.splice( event.target.parentElement.id, 1 )\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tdataCompanySendToAdded: subset\r\n\t\t\t})\r\n\t\t}\r\n\t\telse if (event.target.parentElement.parentElement.id === \"viewUsers\") {\r\n\t\t\tsubset = this.state.dataCompanyViewingAdded\r\n\t\t\tsubset.splice( event.target.parentElement.id, 1 )\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tdataCompanyViewingAdded: subset\r\n\t\t\t})\r\n\t\t}\r\n\t\telse if (event.target.parentElement.parentElement.id === \"govUsers\") {\r\n\t\t\tsubset = this.state.dataCompanyGovernedAdded\r\n\t\t\tsubset.splice( event.target.parentElement.id, 1 )\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tdataCompanyGovernedAdded: subset\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\t\r\n\ttriggerReAdd = (event) => {\r\n\t\t\r\n\t\tlet subset = []\r\n\t\tif (event.target.parentElement.parentElement.id === \"sendUsers\") {\r\n\t\t\tsubset = this.state.dataCompanySendToDeleted\r\n\t\t\tlet reAdd = this.state.dataCompanySendTo\r\n\t\t\treAdd.push( subset.splice( event.target.parentElement.id, 1 )[0] )\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tdataCompanySendTo: reAdd,\r\n\t\t\t\tdataCompanySendToDeleted: subset\r\n\t\t\t})\r\n\t\t}\r\n\t\telse if (event.target.parentElement.parentElement.id === \"viewUsers\") {\r\n\t\t\tsubset = this.state.dataCompanyViewingDeleted\r\n\t\t\tlet reAdd = this.state.dataCompanyViewing\r\n\t\t\treAdd.push( subset.splice( event.target.parentElement.id, 1 )[0] )\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tdataCompanyViewing: reAdd,\r\n\t\t\t\tdataCompanyViewingDeleted: subset\r\n\t\t\t})\r\n\t\t}\r\n\t\telse if (event.target.parentElement.parentElement.id === \"govUsers\") {\r\n\t\t\tsubset = this.state.dataCompanyGovernedDeleted\r\n\t\t\tlet reAdd = this.state.dataCompanyGoverned\r\n\t\t\treAdd.push( subset.splice( event.target.parentElement.id, 1 )[0] )\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tdataCompanyGoverned: reAdd,\r\n\t\t\t\tdataCompanyGovernedDeleted: subset\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\t\r\n\tmodelAddEmail = (event) => {\r\n\t\t//console.log( this.state.addingEmail )\r\n\t\t\r\n\t\t// Reusing a function, so this sits in a slightly wierdly named variable\r\n\t\t//console.log( this.state.clickedIndex )\r\n\t\t\r\n\t\tlet newArray = []\r\n\t\tif (this.state.clickedIndex === \"sendUsers\") {\r\n\t\t\tnewArray = this.state.dataCompanySendToAdded\r\n\t\t\tnewArray.push( this.state.addingEmail )\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tdataCompanySendToAdded: newArray,\r\n\t\t\t})\r\n\t\t}\r\n\t\telse if (this.state.clickedIndex === \"viewUsers\") {\r\n\t\t\tnewArray = this.state.dataCompanyViewingAdded\r\n\t\t\tnewArray.push( this.state.addingEmail )\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tdataCompanyViewingAdded: newArray,\r\n\t\t\t})\r\n\t\t}\r\n\t\telse if (this.state.clickedIndex === \"govUsers\") {\r\n\t\t\tnewArray = this.state.dataCompanyGovernedAdded\r\n\t\t\tnewArray.push( this.state.addingEmail )\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tdataCompanyGovernedAdded: newArray,\r\n\t\t\t})\r\n\t\t}\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\taddingEmail: \"\",\r\n\t\t})\r\n\t}\r\n\t\r\n\tmodelAcceptDelete = (event) => {\r\n\t\t\r\n\t\tlet subset = []\r\n\t\tif (this.state.clickedList === \"sendUsers\") {\r\n\t\t\tsubset = this.state.dataCompanySendTo\r\n\t\t\t\r\n\t\t\tlet deleteQueue = this.state.dataCompanySendToDeleted\r\n\t\t\tdeleteQueue.push( subset.splice( this.state.clickedIndex, 1 )[0] )\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tdataCompanySendTo: subset,\r\n\t\t\t\tdataCompanySendToDeleted: deleteQueue\r\n\t\t\t})\r\n\t\t}\r\n\t\telse if (this.state.clickedList === \"viewUsers\") {\r\n\t\t\tsubset = this.state.dataCompanyViewing\r\n\t\t\t\r\n\t\t\tlet deleteQueue = this.state.dataCompanyViewingDeleted\r\n\t\t\tdeleteQueue.push( subset.splice( this.state.clickedIndex, 1 )[0] )\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tdataCompanyViewing: subset,\r\n\t\t\t\tdataCompanyViewingDeleted: deleteQueue\r\n\t\t\t})\r\n\t\t}\r\n\t\telse if (this.state.clickedList === \"govUsers\") {\r\n\t\t\tsubset = this.state.dataCompanyGoverned\r\n\t\t\t\r\n\t\t\tlet deleteQueue = this.state.dataCompanyGovernedDeleted\r\n\t\t\tdeleteQueue.push( subset.splice( this.state.clickedIndex, 1 )[0] )\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tdataCompanyGoverned: subset,\r\n\t\t\t\tdataCompanyGovernedDeleted: deleteQueue\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\t\r\n\t\tvar dropDownInternal = []\r\n\t\t\r\n\t\tlet index;\r\n\t\tfor (index in this.state.companyList) {\r\n\t\t\tlet comp = this.state.companyList[index]\r\n\t\t\tdropDownInternal.push( \r\n\t\t\t\t<button className=\"dropdown-item\" key={index} onClick={this.triggerCompanySwap} value={ comp }>\r\n\t\t\t\t\t{comp}\r\n\t\t\t\t</button> \r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\t// Send To Set\r\n\t\tlet companySend = []\r\n\t\tfor (index in this.state.dataCompanySendTo) {\r\n\t\t\tlet userSet = this.state.dataCompanySendTo[index]\r\n\t\t\t\r\n\t\t\tif (userSet !== undefined) {\r\n\t\t\t\t\r\n\t\t\t\tif ( userSet.indexOf(this.state.searchSend) > -1) {\r\n\t\t\t\t\r\n\t\t\t\t\tcompanySend.push(\r\n\t\t\t\t\t\t<li key={index} id={index} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t\t\t{userSet}\r\n\t\t\t\t\t\t\t<button className=\"btn btn-sm btn-outline-danger\" data-toggle=\"modal\" onClick={this.triggerModal} data-target=\"#deleteConfirm\">x</button>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t)\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tlet companySendAdd = []\r\n\t\tfor (index in this.state.dataCompanySendToAdded) {\r\n\t\t\tlet userSet = this.state.dataCompanySendToAdded[index]\r\n\t\t\t\r\n\t\t\tcompanySendAdd.push(\r\n\t\t\t\t<li key={index} id={index} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t{userSet}\r\n\t\t\t\t\t<button className=\"btn btn-sm btn-outline-danger\" onClick={this.triggerStopAdd}>x</button>\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\tlet companySendDelete = []\r\n\t\tfor (index in this.state.dataCompanySendToDeleted) {\r\n\t\t\tlet userSet = this.state.dataCompanySendToDeleted[index]\r\n\t\t\t\r\n\t\t\tcompanySendDelete.push(\r\n\t\t\t\t<li key={index} id={index} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t{userSet}\r\n\t\t\t\t\t<button className=\"btn btn-sm btn-outline-success\" onClick={this.triggerReAdd}>+</button>\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\t// Viewing Permission Sets\r\n\t\tlet companyViewing = []\r\n\t\tfor (index in this.state.dataCompanyViewing) {\r\n\t\t\tlet userSet = this.state.dataCompanyViewing[index]\r\n\t\t\t\r\n\t\t\tif ( userSet.indexOf(this.state.searchView) > -1) {\r\n\t\t\t\r\n\t\t\t\tcompanyViewing.push(\r\n\t\t\t\t\t<li key={index} id={index} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t\t{userSet}\r\n\t\t\t\t\t\t<button className=\"btn btn-sm btn-outline-danger\" data-toggle=\"modal\" onClick={this.triggerModal} data-target=\"#deleteConfirm\">x</button>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tlet companyViewingAdd = []\r\n\t\tfor (index in this.state.dataCompanyViewingAdded) {\r\n\t\t\tlet userSet = this.state.dataCompanyViewingAdded[index]\r\n\t\t\t\r\n\t\t\tcompanyViewingAdd.push(\r\n\t\t\t\t<li key={index} id={index} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t{userSet}\r\n\t\t\t\t\t<button className=\"btn btn-sm btn-outline-danger\" onClick={this.triggerStopAdd}>x</button>\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\tlet companyViewingDelete = []\r\n\t\tfor (index in this.state.dataCompanyViewingDeleted) {\r\n\t\t\tlet userSet = this.state.dataCompanyViewingDeleted[index]\r\n\t\t\t\r\n\t\t\tcompanyViewingDelete.push(\r\n\t\t\t\t<li key={index} id={index} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t{userSet}\r\n\t\t\t\t\t<button className=\"btn btn-sm btn-outline-success\" onClick={this.triggerReAdd}>+</button>\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\t// Goverened Users List\r\n\t\tlet governedList = []\r\n\t\tfor (index in this.state.dataCompanyGoverned) {\r\n\t\t\tlet userSet = this.state.dataCompanyGoverned[index]\r\n\t\t\t\r\n\t\t\tif ( userSet.indexOf(this.state.searchGov) > -1) {\r\n\t\t\t\r\n\t\t\t\tgovernedList.push(\r\n\t\t\t\t\t<li key={index} id={index} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t\t{userSet}\r\n\t\t\t\t\t\t<button className=\"btn btn-sm btn-outline-danger\" data-toggle=\"modal\" onClick={this.triggerModal} data-target=\"#deleteConfirm\">x</button>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tlet companyGovernedAdd = []\r\n\t\tfor (index in this.state.dataCompanyGovernedAdded) {\r\n\t\t\tlet userSet = this.state.dataCompanyGovernedAdded[index]\r\n\t\t\t\r\n\t\t\tcompanyGovernedAdd.push(\r\n\t\t\t\t<li key={index} id={index} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t{userSet}\r\n\t\t\t\t\t<button className=\"btn btn-sm btn-outline-danger\" onClick={this.triggerStopAdd}>x</button>\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\tlet companyGovernedDelete = []\r\n\t\tfor (index in this.state.dataCompanyGovernedDeleted) {\r\n\t\t\tlet userSet = this.state.dataCompanyGovernedDeleted[index]\r\n\t\t\t\r\n\t\t\tcompanyGovernedDelete.push(\r\n\t\t\t\t<li key={index} id={index} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t{userSet}\r\n\t\t\t\t\t<button className=\"btn btn-sm btn-outline-success\" onClick={this.triggerReAdd}>+</button>\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\t// There is probobly a better way to do this... But the model stuff may work if it is filled out this way\r\n\t\tlet selectedUser = \"None\"\r\n\t\tif (this.state.clickedList === \"sendUsers\") {\r\n\t\t\tselectedUser = this.state.dataCompanySendTo[this.state.clickedIndex]\r\n\t\t}\r\n\t\telse if (this.state.clickedList === \"viewUsers\") {\r\n\t\t\tselectedUser = this.state.dataCompanyViewing[this.state.clickedIndex]\r\n\t\t}\r\n\t\telse if (this.state.clickedList === \"govUsers\") {\r\n\t\t\tselectedUser = this.state.dataCompanyGoverned[this.state.clickedIndex]\r\n\t\t}\r\n\t\t\r\n\t\t// Technically we can just use currentCompany but, hey! To error check I am going to use the response...\r\n\t\treturn (\r\n\t\t\t<div className=\"companySett\">\r\n\t\t\t\t<div className=\"container\">\r\n\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-sm-3 m-2\">\t\r\n\t\t\t\t\t\t\t<button className=\"btn btn-primary\" onClick={this.backButton}>\r\n\t\t\t\t\t\t\t\tGo Back\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-sm m-2\">\t\r\n\t\t\t\t\t\t\tPage Title Test!\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"dropdown\">\r\n\t\t\t\t\t\t\t  <button className=\"btn btn-secondary dropdown-toggle\" type=\"button\" id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n\t\t\t\t\t\t\t\t{this.state.dropMessage}\r\n\t\t\t\t\t\t\t  </button>\r\n\t\t\t\t\t\t\t  <div className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\r\n\t\t\t\t\t\t\t\t{dropDownInternal}\r\n\t\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<button onClick={this.getCompanyList}> Populate Company List </button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<button> onClick={this.postNewCompanyData}>Save Changes</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\tEdit Company name\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"card-text\">\r\n\t\t\t\t\t\t\t\t\t\t{this.state.dataCompanyName}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\tPrivate/Publix\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"card-text\">\r\n\t\t\t\t\t\t\t\t\t\t{this.state.dataCompanyPriv}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\tUsers Notified:\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<input className=\"form-control\" id=\"\" type=\"text\" onChange={this.sendChange} placeholder=\"Search...\"/>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<ul className=\"card-text list-group\" id=\"sendUsers\">\r\n\t\t\t\t\t\t\t\t\t\t{companySend}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<button type=\"button\" className=\"list-group-item list-group-item-action active\" data-toggle=\"modal\" onClick={this.triggerModal} data-target=\"#addNewUsers\">\r\n\t\t\t\t\t\t\t\t\t\t\tAdd user +\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<li key={\"rem\"} id={\"remLabel\"} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t\t\t\t\t\t\tUsers To Remove:\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t{companySendDelete}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<li key={\"add\"} id={\"addLabel\"} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t\t\t\t\t\t\tEmails To Add:\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t{companySendAdd}\r\n\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\tViewing Privilages:\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<input className=\"form-control\" id=\"\" type=\"text\" onChange={this.viewChange} placeholder=\"Search...\"/>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<ul className=\"card-text list-group\"  id=\"viewUsers\">\r\n\t\t\t\t\t\t\t\t\t\t{companyViewing}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<button type=\"button\" className=\"list-group-item list-group-item-action active\" data-toggle=\"modal\" onClick={this.triggerModal} data-target=\"#addNewUsers\">\r\n\t\t\t\t\t\t\t\t\t\t\tAdd user +\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<li key={\"rem\"} id={\"remLabel\"} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t\t\t\t\t\t\tUsers To Remove:\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t{companyViewingDelete}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<li key={\"add\"} id={\"addLabel\"} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t\t\t\t\t\t\tEmails To Add:\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t{companyViewingAdd}\r\n\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\tTarget Users:\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<input className=\"form-control\" id=\"\" type=\"text\" onChange={this.govChange} placeholder=\"Search...\"/>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<ul className=\"card-text list-group\"  id=\"govUsers\">\r\n\t\t\t\t\t\t\t\t\t\t{governedList}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<button type=\"button\" className=\"list-group-item list-group-item-action active\" data-toggle=\"modal\" onClick={this.triggerModal} data-target=\"#addNewUsers\">\r\n\t\t\t\t\t\t\t\t\t\t\tAdd user +\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<li key={\"rem\"} id={\"remLabel\"} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t\t\t\t\t\t\tUsers To Remove:\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t{companyGovernedDelete}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<li key={\"add\"} id={\"addLabel\"} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t\t\t\t\t\t\tEmails To Add:\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t{companyGovernedAdd}\r\n\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<div className=\"modal fade\" id=\"deleteConfirm\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"deleteConfirmation\" aria-hidden=\"true\">\r\n\t\t\t\t  <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n\t\t\t\t\t<div className=\"modal-content\">\r\n\t\t\t\t\t  <div className=\"modal-header\">\r\n\t\t\t\t\t\t<h5 className=\"modal-title\" id=\"deleteTitleConfirm\">Delete Confirmation</h5>\r\n\t\t\t\t\t\t<button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n\t\t\t\t\t\t  <span aria-hidden=\"true\">&times;</span>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t\t  <div className=\"modal-body\">\r\n\t\t\t\t\t\tAre you SURE you want to delete user: {selectedUser}?\r\n\t\t\t\t\t\tThey will be notified about this change.\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t\t  <div className=\"modal-footer\">\r\n\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-danger\" data-dismiss=\"modal\" onClick={this.modelAcceptDelete}>Yes</button>\r\n\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-primary\" data-dismiss=\"modal\">No</button>\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t  </div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<div className=\"modal fade\" id=\"addNewUsers\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"addNewUsersModal\" aria-hidden=\"true\">\r\n\t\t\t\t  <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n\t\t\t\t\t<div className=\"modal-content\">\r\n\t\t\t\t\t  <div className=\"modal-header\">\r\n\t\t\t\t\t\t<h5 className=\"modal-title\" id=\"deleteTitleConfirm\">Add New User</h5>\r\n\t\t\t\t\t\t<button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n\t\t\t\t\t\t  <span aria-hidden=\"true\">&times;</span>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t\t  <div className=\"modal-body\">\r\n\t\t\t\t\t\tEnter the email of the target user\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t\t  <div className='form-group'>\r\n\t\t\t\t\t\t<label>Email Address</label>\r\n\t\t\t\t\t\t<input type='email' className='form-control' value={this.state.addingEmail} onChange={this.emailFieldChange} placeholder='Enter email' />\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t\t  <div className=\"modal-footer\">\r\n\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-primary\" data-dismiss=\"modal\" onClick={this.modelAddEmail}>Add</button>\r\n\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-danger\" data-dismiss=\"modal\">Cancel</button>\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t  </div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default withRouter(companySettings);","import React from \"react\";\r\n//import axios from \"axios\";\r\n\r\nimport { withRouter } from \"react-router-dom\";\r\n//import { ButtonGroup, ToggleButton } from 'react-bootstrap';\r\n\r\nimport Store from \"store\"\r\nimport Calendar from 'react-calendar'\r\nimport 'react-calendar/dist/Calendar.css';\r\n\r\n//import { ProgressBar } from 'react-bootstrap';\r\n\r\nimport { Line } from 'react-chartjs-2';\r\nimport { arbitraryLineData } from '../utils';\r\nimport { arbitraryLineOptions } from '../utils';\r\n\r\n// Test Data crap from that utils...\r\nimport { generateTestEHIX, generateTestEHIY } from '../utils';\r\n\r\nclass StyleButton extends React.Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.onToggle = (e) => {\r\n\t\t\te.preventDefault();\r\n\t\t\tthis.props.onToggle(this.props.value);\r\n\t\t};\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet className = 'btn btn-outline-primary';\r\n\t\tif (this.props.active) {\r\n\t\t\tclassName += ' active';\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<button className={className} onClick={this.onToggle}>\r\n\t\t\t\t{this.props.label}\r\n\t\t\t</button>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n// Hm, this may be okay? The value should be its index...?\r\nconst historyGraphTimings = [\r\n\t{label:'Max', value:0, dayLength:0},\r\n\t{label:'1Year', value:1, dayLength:365},\r\n\t{label:'6Months', value:2, dayLength:183},\r\n\t{label:'3Months', value:3, dayLength:63},\r\n\t{label:'1Months', value:4, dayLength:31},\r\n\t{label:'1Week', value:5, dayLength:7},\r\n];\r\n\r\nconst GraphTimingButtons = (props) => {\r\n\tconst currentDisplay = props.graphState;\r\n\t\r\n\treturn (\r\n\t\t<div className=\"EHIControls\">\r\n\t\t\t{historyGraphTimings.map((type) =>\r\n\t\t\t\t<StyleButton\r\n\t\t\t\t\tkey={type.label}\r\n\t\t\t\t\tactive={currentDisplay === type.value}\r\n\t\t\t\t\tlabel={type.label}\r\n\t\t\t\t\tonToggle={props.onToggle}\r\n\t\t\t\t\tvalue={type.value}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nclass testClass extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\t\t\t\r\n\t\t\t// The current mode of the \r\n\t\t\tEHITimespan: 0,\r\n\t\t\t\r\n\t\t\t// hmmmm\r\n\t\t\tdateLabels: generateTestEHIX(),\r\n\t\t\tEHISet: generateTestEHIY(),\r\n        };\r\n\t}\r\n\t\r\n\tchangeEHIdates = (dateRangeChoice) => {\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tEHITimespan:dateRangeChoice\r\n\t\t})\r\n\t}\r\n\t\r\n\tpickDate = (selectedDate) => {\r\n\t\tconsole.log(selectedDate)\r\n\t}\r\n\t\r\n\tcookiedata = () => {\r\n\t\tStore.get(\"Haderp\")\r\n\t}\r\n\t\r\n\t// Move this into the render loop to realtime this on the calender...\r\n\ttileClassName = ({ date, view }) => {\r\n\t\t\r\n\t\t\t// Add class to tiles in month view only\r\n\t\t\tif (view === 'month') {\r\n\r\n\t\t\t\t// Check if a date React-Calendar wants to check is on the list of dates to add class to\r\n\t\t\t\tlet hasSummary = Math.floor(Math.random()*7)\r\n\t\t\t\t\r\n\t\t\t\tif (hasSummary === 0) {\r\n\t\t\t\t\treturn 'btn btn-success'\r\n\t\t\t\t} else if (hasSummary === 1) {\r\n\t\t\t\t\treturn 'btn btn-primary'\r\n\t\t\t\t} else if (hasSummary === 2) {\r\n\t\t\t\t\treturn 'btn btn-secondary'\r\n\t\t\t\t} else if (hasSummary === 3) {\r\n\t\t\t\t\treturn 'btn btn-danger'\r\n\t\t\t\t} else if (hasSummary === 4) {\r\n\t\t\t\t\treturn 'btn btn-warning'\r\n\t\t\t\t} else if (hasSummary === 5) {\r\n\t\t\t\t\treturn 'btn btn-info'\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\t//return 'btn btn-outline-dark'\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t// Rendering this with Bootstrap React.... To see if there is anything really interesting I can do with it\r\n\t// So far it doesnt look all that different \r\n\trender() {\r\n\t\t\r\n\t\tlet dayCount = historyGraphTimings[this.state.EHITimespan].dayLength\r\n\t\tif (dayCount === 0) {\r\n\t\t\tdayCount = this.state.dateLabels.length\r\n\t\t}\r\n\t\t\r\n\t\tlet testLabels = this.state.dateLabels.slice(-dayCount)\r\n\t\tlet testData = {\r\n\t\t\tlabel:\"EHI index\",\r\n\t\t\t// May not have to slice the second time?\r\n\t\t\tdata:this.state.EHISet.slice(-dayCount)\r\n\t\t}\r\n\t\t\r\n\t\tlet lineData = arbitraryLineData(testLabels, [testData])\r\n\t\tlet lineOptions = arbitraryLineOptions()\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className=\"testStuff\">\r\n\t\t\t\t<div className=\"container-fluid\">\r\n\t\t\t\t\t\r\n\t\t\t\t\t{/*Global row starts here!*/}\r\n\t\t\t\t\t<div className=\"row m-2\">\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t{/*This Column is the test Sidebar.... Lets add stuff for collapsing it later...*/}\r\n\t\t\t\t\t\t<div className=\"col-2 border m-1\">\r\n\t\t\t\t\t\t\t<div className=\"row m-1\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<Calendar \r\n\t\t\t\t\t\t\t\t\t\tonChange={this.pickDate}\r\n\t\t\t\t\t\t\t\t\t\tvalue={this.state.currentDate}\r\n\t\t\t\t\t\t\t\t\t\ttileClassName={this.tileClassName}\r\n\r\n\t\t\t\t\t\t\t\t\t\tminDetail={'year'}\r\n\t\t\t\t\t\t\t\t\t\tmaxDetail={'month'}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"row m-1\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<button className=\"bton btn-primary\">\r\n\t\t\t\t\t\t\t\t\t\tHello\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t{/*This is the content column...*/}\r\n\t\t\t\t\t\t<div className=\"col-9\">\r\n\t\t\t\t\t\t\t<div className=\"row m-2\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t\t\tEmployee Health Index Test Graph...\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Line\r\n\t\t\t\t\t\t\t\t\t\t\t\theight={150}\r\n\t\t\t\t\t\t\t\t\t\t\t\tdata={lineData} \r\n\t\t\t\t\t\t\t\t\t\t\t\toptions={lineOptions}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t<GraphTimingButtons\r\n\t\t\t\t\t\t\t\t\t\t\t\tgraphState={this.state.EHITimespan}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonToggle={this.changeEHIdates}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t\t\tOther stuff!\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t\t\tIts yaboi!\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"row m-2\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t\t\tEven more other stuff!\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t\t\tIts yaboi!\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"row m-2\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t\t\tOther stuff!\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t\t\tIts yaboi!\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t\t\tMore other stuff!\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t\t\tIts yaboi!\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{/*This is the padding... To make sure the footer doesnt sit above the content...*/}\r\n\t\t\t\t\t<div className=\"row  my-4\">\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(testClass);","import React from \"react\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\n\nimport axios from \"axios\";\n\nimport { Navigation, Footer, Landing, SignIn, SignUp, Forgot, ViewJournals, WriteJournals, ViewCompany, SetCompany, MainMenu, Test} from \"./components\";\n\nimport Store from \"store\"\n\n//import '../node_modules/bootstrap/dist/css/bootstrap.min.css';\nimport './App.css'\n\n// Is THIS a patch for Github Pages react stuff?\n// Maybe...\n// Ill have to test this...\nconst basePath = \"/scenere\"\n\nconst hostName = \"https://cmaster.pythonanywhere.com\"\n//const hostName = \"10.0.0.60:8000\"\n\nclass App extends React.Component {\n\t\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n          \n\t\t  currentUser: undefined,\n\t\t  sessionToken: undefined,\n\n        };\n\t}\n\t\n\tcomponentDidMount() {\n\t\tthis.loadFromCookies();\n\t};\n\t\n\tloadFromCookies = () => {\n\t\tconst lastUserSet = Store.get('lastUser');\n\t\t\t\n\t\ttry{ \n\t\t\tthis.setState({ currentUser: lastUserSet.user, sessionToken: lastUserSet.session }) \n\t\t}\n\t\tcatch{\n\t\t\tconsole.log(\"User was NOT found in the storage\")\n\t\t};\n\t}\n\t\n\tsetToken = ( token, username ) => {\n\t\t// Verify this before we sent it in I guess?\n\t\tthis.setState({ sessionToken: token, currentUser: username })\n\t\t\n\t\tStore.set('lastUser', { user:username, session:token })\n\t\t\n\t\t// Return if we succeeded or not\n\t\treturn true\n\t}\n\t\n\t// Test out refreshing the token...\n\t// Should do this every page reload...\n\trefresh = () => {\n\t\tconst data = {\n\t\t\ttoken: this.state.sessionToken,\n\t\t};\n\t\t\n\t\taxios.post(hostName + \"/apiTokenRefresh/\", data)\n\t\t.then( \tres => {\n\t\t\t//console.log(res)\n\t\t\t\n\t\t\t// If we get here then we should have a new token\n\t\t\t//console.log(res.data.token)\n\t\t\tconsole.log(\"Token refreshed\")\n\t\t\t// A little bit unnecessary but hey...\n\t\t\tthis.setToken( res.data.token, this.state.currentUser)\n\t\t\t\n\t\t\treturn true\n\t\t})\n\t\t.catch( err => {\n\t\t\tconsole.log(err)\n\t\t\t// Check for a specific error?\n\t\t\t\n\t\t\tthis.logout()\n\t\t\t\n\t\t\treturn false\n\t\t});\n\t}\n\n\t// Should move this over to the UTIL...\n\tlogout = () => {\n\t\tthis.setState({ sessionToken: undefined, currentUser: undefined })\n\n\t\tStore.remove('lastUser')\n\t}\n\t\n\t// maybe I should move all the AXIOS stuff to its own file...\n\t\n\t/*\n\t<Route path={basePath+\"/test2\"} exact component={() => <Test2 \n\t\tAPIHost={hostName}\n\t\tforceLogout={this.logout}\n\t\t\n\t/>} />\n\t*/\n\t\n\trender() {\n\n\t\treturn (\n\t\t\t<Router>\n\t\t\t\t<div className=\"App\">\n\t\t\t\n\t\t\t\t\t<Navigation \n\t\t\t\t\t\tcurrentUser={this.state.currentUser}\n\t\t\t\t\t\tbasePath={basePath}\n\n\t\t\t\t\t\tclearLogin={this.setToken}\n\t\t\t\t\t/>\n\t\t\t\t\t\t\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\n\t\t\t\t\t\t<Route path={basePath+\"/test\"} exact component={() => <Test \n\t\t\t\t\t\t\t\tAPIHost={hostName}\n\t\t\t\t\t\t\t\tforceLogout={this.logout}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tcurrentUser={this.state.currentUser}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\ttokenRefresh={this.refresh}\n\t\t\t\t\t\t\t\treRouteTarget={basePath+\"/signin\"}\n\t\t\t\t\t\t\t\tauthToken={this.state.sessionToken}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t/>} />\n\t\t\t\t\t\n\t\t\t\t\t\t<Route path={basePath+\"/\"} exact component={() => <Landing \n\t\t\t\t\t\t\t\tAPIHost={hostName}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t/>} />\n\t\t\t\t\t\t<Route path={basePath+\"/signin\"} exact component={() => <SignIn \n\t\t\t\t\t\t\t\tloginSave={this.setToken}\n\t\t\t\t\t\t\t\tAPIHost={hostName}\n\n\t\t\t\t\t\t\t\treRouteTarget={basePath+\"/menu\"}\n\t\t\t\t\t\t\t\tforgotPath={basePath+\"/forgot\"}\n\t\t\t\t\t\t\t/>} />\n\t\t\t\t\t\t<Route path={basePath+\"/signup\"} exact component={() => <SignUp \n\t\t\t\t\t\t\t\tAPIHost={hostName}\n\t\t\t\t\t\t\t\treRouteTarget={basePath+\"/signin\"}\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t/>} />\n\t\t\t\t\t\t<Route path={basePath+\"/forgot\"} exact component={() => <Forgot \n\t\t\t\t\t\t\t\tAPIHost={hostName}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\treRouteTarget={basePath+\"/signin\"}\n\t\t\t\t\t\t\t/>} />\n\n\t\t\t\t\t\t<Route path={basePath+\"/menu\"} exact component={() => <MainMenu \n\t\t\t\t\t\t\t\tAPIHost={hostName}\n\t\t\t\t\t\t\t\ttokenRefresh={this.refresh}\n\t\t\t\t\t\t\t\treRouteTarget={basePath+\"/signin\"}\n\n\t\t\t\t\t\t\t\tjournalWriteDirect={basePath+\"/write\"}\n\t\t\t\t\t\t\t\tjournalReadDirect={basePath+\"/read\"}\n\t\t\t\t\t\t\t\tcompanyReadDirect={basePath+\"/companyCheck\"}\n\t\t\t\t\t\t\t\tcompanySettingDirect={basePath+\"/companySet\"}\t\n\n\t\t\t\t\t\t\t\tcurrentUser={this.state.currentUser}\n\t\t\t\t\t\t\t\tauthToken={this.state.sessionToken}\n\t\t\t\t\t\t\t/>} />\n\n\t\t\t\t\t\t<Route path={basePath+\"/read\"} exact component={() => <ViewJournals \n\t\t\t\t\t\t\t\tAPIHost={hostName}\n\t\t\t\t\t\t\t\ttokenRefresh={this.refresh}\n\t\t\t\t\t\t\t\treRouteTarget={basePath+\"/signin\"}\n\t\t\t\t\t\t\t\tforceLogout={this.logout}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tcurrentUser={this.state.currentUser}\n\t\t\t\t\t\t\t\tauthToken={this.state.sessionToken}\n\t\t\t\t\t\t\t/>} />\n\t\t\t\t\t\t<Route path={basePath+\"/write\"} exact component={() => <WriteJournals \n\t\t\t\t\t\t\t\tAPIHost={hostName}\n\t\t\t\t\t\t\t\ttokenRefresh={this.refresh}\n\t\t\t\t\t\t\t\treRouteTarget={basePath+\"/signin\"}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tauthToken={this.state.sessionToken}\n\t\t\t\t\t\t\t/>} />\n\t\t\t\t\t\t<Route path={basePath+\"/companyCheck\"} exact component={() => <ViewCompany \n\t\t\t\t\t\t\t\tAPIHost={hostName}\n\t\t\t\t\t\t\t\tforceLogout={this.logout}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tcurrentUser={this.state.currentUser}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\ttokenRefresh={this.refresh}\n\t\t\t\t\t\t\t\treRouteTarget={basePath+\"/signin\"}\n\t\t\t\t\t\t\t\tauthToken={this.state.sessionToken}\n\t\t\t\t\t\t\t/>} />\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t<Route path={basePath+\"/companySet\"} exact component={() => <SetCompany \n\t\t\t\t\t\t\t\tAPIHost={hostName}\n\t\t\t\t\t\t\t\ttokenRefresh={this.refresh}\n\t\t\t\t\t\t\t\treRouteTarget={basePath+\"/signin\"}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tauthToken={this.state.sessionToken}\n\t\t\t\t\t\t\t/>} />\n\n\t\t\t\t\t</Switch>\n\n\t\t\t\t\t<Footer \n\t\t\t\t\t\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</Router>\n\t\t);\n\t}\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nimport'bootstrap/dist/css/bootstrap.min.css';\n//import $ from'jquery';\n//import Popper from 'popper.js';\nimport'bootstrap/dist/js/bootstrap.bundle.min';\n\n//import '@trendmicro/react-sidenav/dist/react-sidenav.css';\n\n//<React.StrictMode>\n//</React.StrictMode>,\n\nReactDOM.render(\n  \n\t<App />,\n  \n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}