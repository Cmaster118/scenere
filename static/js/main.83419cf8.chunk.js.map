{"version":3,"sources":["components/navigation.jsx","components/footer.jsx","components/signIn.jsx","components/signUp.jsx","components/forgot.jsx","components/landing.jsx","utils/index.js","components/journalView.jsx","components/journalMake.jsx","components/companyView.jsx","components/companySettings.jsx","components/freePagesCore.jsx","components/authPagesCore.jsx","components/contentPagesCore.jsx","utils/axiosAPI.jsx","components/companyEHI.jsx","App.js","reportWebVitals.js","index.js"],"names":["navigation","props","triggerLogout","clearLogin","state","something","basePath","this","iconButton","userDisplay","undefined","currentUser","className","to","onClick","type","data-toggle","data-target","aria-controls","aria-expanded","aria-label","id","React","Component","withRouter","footer","signIn","loadFromCookies","data","Store","get","setState","username","user","password","pass","userFieldChange","event","target","value","passFieldChange","remFieldChange","remember","handleSubmit","axios","post","APIHost","then","res","latestAttempt","result","loginSave","token","console","log","history","push","reRouteTarget","catch","err","preventDefault","currentState","onSubmit","onChange","placeholder","htmlFor","forgotPath","signup","usernameFieldChange","emailFieldChange","email","pass2FieldChange","password2","firstNameFieldChange","firstName","lastnameFieldChange","lastName","checkFieldChange","checkField","first_name","last_name","response","status","headers","forgotPassword","goSignIn","arePasswordsSame","password1","swapToCode","sendEmail","checkValue","checkPasswords","tokenFieldChange","resetToken","pass1FieldChange","passwordsSame","currentField","currentButton","currentMessage","landing","getFromCookies","chartReference","createRef","userToken","arbitraryLineData","inputXAxis","inputDataList","builtData","dataIndex","label","fill","backgroundColor","borderColor","labels","datasets","getRadarEmotionData","inputData","borderWidth","testMaxMin","inputMax","inputAve","inputMin","stackedBarData","inputData1","inputData2","inputData3","stackedBarData2Test","stackedBarData3Test","parseEmotion","emotionData","joy","anger","sadness","disgust","fear","AIAspect","name","index","displayPromptSentance","selectedPrompt","dayData","dataSet","promptList","tableDisplay","displayStats","key","length","selectedAspect","emoValue","document","emotion","dataDocEmo","emoOptions","scale","ticks","beginAtZero","suggestedMin","suggestedMax","options","dataBarStack","score","barStackOptions","scales","yAxes","xAxes","entity","emoVal","emoData","dataEntSent","confidence","relevance","sentiment","dataEntOptions","scope","text","count","colSpan","keyData","dataRadar","dataRadarOptions","dataKeySent","dataKeyOptions","pickDate","currentDate","tileClassName","date","view","checkDate","getFullYear","getMonth","getDate","hasJournal","validJournalDates","find","element","validJournalScanDates","minDetail","maxDetail","displayMessage","ButtonGroup","toggle","map","radio","idx","ToggleButton","variant","checked","setPrompt","setAI","currentJournal","styles","editor","border","minHeight","justifyContent","StyleButton","onToggle","e","style","active","BLOCK_TYPES","BlockStyleControls","editorState","selection","getSelection","blockType","getCurrentContent","getBlockForKey","getStartKey","getType","INLINE_STYLES","InlineStyleControls","currentStyle","getCurrentInlineStyle","has","RichUtils","toggleBlockType","inlineStyle","toggleInlineStyle","handleKeyCommand","command","newState","saveToServer","daySet","currentPrompt","currentDay","selectedDay","currentAspect","promptName","purity","ProgressBar","now","emoMax","max","emoAve","ave","emoMin","min","dataDocumentEmo","radarOptions","emoThresh","threshold","dataBar","barOptions","dataBarNorm","sentimentBarData","thresholdPos","thresholdNeg","barOptionsNorm","relData","scoreData","scoreOptions","arguments","width","messageLine1","currentCompany","messageLine2","anchorDate","validSummaryDates","setDay","sorter","companySettings","postNewCompanyData","config","Authorization","authToken","companyName","companyReName","dataCompanyName","summaryViewAccess","dataCompanyPriv","resultsSendTargets","dataCompanySendTo","privateViewingPerms","dataCompanyViewing","governedUsers","dataCompanyGoverned","dataCompanySendToDeleted","dataCompanyViewingDeleted","dataCompanyGovernedDeleted","forceLogout","getCompanyList","adding","companyOwner","includes","companyList","getCompanyData","targetCompany","sendChange","searchSend","viewChange","searchView","govChange","searchGov","addingEmail","triggerCompanySwap","dropMessage","triggerModal","clickedList","parentElement","clickedIndex","triggerStopAdd","subset","dataCompanySendToAdded","splice","dataCompanyViewingAdded","dataCompanyGovernedAdded","triggerReAdd","reAdd","modelAddEmail","newArray","modelAcceptDelete","deleteQueue","today","Date","messages","dropDownInternal","comp","companySend","userSet","indexOf","companySendAdd","companySendDelete","companyViewing","companyViewingAdd","companyViewingDelete","governedList","companyGovernedAdd","companyGovernedDelete","selectedUser","aria-haspopup","aria-labelledby","tabIndex","role","aria-hidden","data-dismiss","FreePages","backButton","goBack","example","AuthPages","DefaultView","ContentPages","componentDidMount","getValidJournalDates","getUserCompanyList","componentDidUpdate","prevProps","prevState","changeJournalContent","incomingState","journalEditorState","changeEHIDaydates","dateRangeChoice","EHIDayTimespan","changeEHIWeekdates","EHIWeekTimespan","flushStorage","remove","selectedCompany","postJournal","inputDate","journalContent","getPlainText","convertToRaw","postingDate","content","editorBlock","callbackFailure","randomID","Math","random","toString","substr","shorthand","author","forDate","toJSON","split","saveJournal","richContent","journalDatesCallback","incomingJournalDates","incomingJournalAIDates","set","checkData","callbackFunction","tempAIArray","tempJoArray","item","newDate","hasAI","getJournalDates","journalDates","AIDates","journalDataCallback","incomingjournalContent","incomingAIData","journalMessage","selectedJournalData","pickJournalCalenderDate","selectedDate","dateReq","AIData","AIresult","getJournalData","companyListCallback","incomingCompanyList","userCompanyList","companyAllowsView","companySendsTo","companyDatesCallback","incomingDatesList","validCompanySummary","getCompanyValidDates","tempSumArray","hasMon","hasTue","hasWed","hasThu","hasFri","hasSat","hasSun","companyDataCallback","incomingDataDict","companyMessage","selectedSummaryWeekData","currentCompanyDataDate","currentCompanyDataName","getCompanyWeeklySummary","todayWeekday","getDay","copiedDate","getTime","setDate","selectedCompanyDay","incomingDict","mon","monResult","tue","tueResult","wed","wedResult","thu","thuResult","fri","friResult","sat","satResult","sun","sunResult","allDay","summaryResult","getCompanySummary","companyEHICallback","incomingEHIDaysLabels","incomingEHIDaysData","incomingEHIWeeksLabels","incomingEHIWeeksData","EHIDayLabels","EHIDaySet","EHIWeekLabels","EHIWeekSet","getCompanyEHIData","labelsDays","dataDays","labelsWeeks","dataWeeks","EHIstorage","getServerEHIData","changeJournalPrompt","selectedJournalPrompt","currentTarget","changeJournalAspect","selectedJournalAspect","companySelectedChangeCallback","changeSelectedCompany","changeCompanyPrompt","selectedCompanyPrompt","changeCompanyAspect","selectedCompanyAspect","changeCompanyDay","EditorState","createEmpty","journalPlaceholder","match","url","path","exact","component","timeIndexDay","timeIndexWeek","ehiDayLabels","ehiDayData","ehiWeekLabels","ehiWeekData","onDayToggle","onWeekToggle","setCompany","loadCompanyList","getValidDates","historyGraphTimings","dayLength","weekLength","GraphTimingButtons","currentDisplay","graphState","currentDayTimeIndex","currentWeekTimeIndex","dayLabels","dayCount","ehiDaysLabels","slice","ehiDaysData","weekLabels","weekData","ehiWeeksLabels","ehiWeeksData","unshift","lineDataDays","lineDataWeeks","lineOptions","hostName","App","lastUserSet","sessionToken","session","setToken","refresh","logout","tokenRefresh","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.83419cf8.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\n\r\nclass navigation extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n          \r\n\t\t  something: null,\r\n\r\n        };\r\n\t}\r\n\r\n\ttriggerLogout = () => {\r\n\t\tthis.props.clearLogin()\r\n\t}\r\n\t\r\n\t/*\r\n\t<li className={'nav-item'}  key='31'>\r\n\t\t<Link className=\"nav-link\" to={basePath+\"/test2\"}>\r\n\t\t\t!!TestDisplay 2!!\r\n\t\t</Link>\r\n\t</li>*/\r\n\t\r\n\trender() {\r\n\t\tconst basePath = this.props.basePath\r\n\r\n\t\tlet iconButton = null\r\n\t\tlet userDisplay = null\r\n\r\n\t\tif (this.props.currentUser === undefined) {\r\n\t\t\ticonButton = [\r\n\t\t\t\t(<li className={'nav-item'} key='1'>\r\n\t\t\t\t\t<Link className=\"nav-link\" to={basePath+\"/signup\"}>\r\n\t\t\t\t\t\tSign Up\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</li>),\r\n\r\n\t\t\t\t(<li className={'nav-item'}  key='2'>\r\n\t\t\t\t\t<Link className=\"nav-link\" to={basePath+\"/signin\"}>\r\n\t\t\t\t\t\tSign In\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</li>)\r\n\t\t\t]\r\n\r\n\t\t\tuserDisplay = (\r\n\t\t\t\t<li className={'nav-item'}  key='3'>\t\r\n\t\t\t\t\t<Link className=\"nav-link\" to={basePath+\"/dashboard\"}>\r\n\t\t\t\t\t\tNone\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t}\r\n\t\telse {\r\n\t\t\ticonButton = [\r\n\t\t\t\t(<li className={'nav-item'}  key='1'>\t\r\n\t\t\t\t\t<Link className=\"nav-link\" to={basePath+\"/dashboard\"}>\r\n\t\t\t\t\t\tDashboard\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</li>),\r\n\t\t\t\r\n\t\t\t\t(<li className={'nav-item'}  key='2'>\r\n\t\t\t\t\t<Link className=\"nav-link\" to={basePath+\"/\"} onClick={this.triggerLogout}>\r\n\t\t\t\t\t\tSign Out\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</li>)\r\n\t\t\t]\r\n\r\n\t\t\tuserDisplay = (\r\n\t\t\t\t<li className={'nav-item'}  key='5'>\t\r\n\t\t\t\t\t<Link className=\"nav-link\" to={basePath+\"/dashboard\"}>\r\n\t\t\t\t\t\t{this.props.currentUser}\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"navigation\">\r\n\t\t\t\t<nav className=\"navbar navbar-expand-lg navbar-dark bg-dark\">\r\n\t\t\t\t\t<div className=\"container-fluid\">\r\n\t\t\t\t\t\t<Link className=\"navbar-brand\" to={basePath+\"/\"}>\r\n\t\t\t\t\t\t\tProject Scenere\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclassName=\"navbar-toggler\"\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\tdata-toggle=\"collapse\"\r\n\t\t\t\t\t\t\tdata-target=\"#navbarResponsive\"\r\n\t\t\t\t\t\t\taria-controls=\"navbarResponsive\"\r\n\t\t\t\t\t\t\taria-expanded=\"false\"\r\n\t\t\t\t\t\t\taria-label=\"Toggle navigation\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<span className=\"navbar-toggler-icon\"></span>\r\n\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t<div className=\"collapse navbar-collapse\" id=\"navbarResponsive\">\r\n\t\t\t\t\t\t\t<ul className=\"navbar-nav ml-auto\">\r\n\t\t\t\t\t\t\t\t{iconButton}\r\n\t\t\t\t\t\t\t\t<li className={'nav-item'}  key='1'>\t\r\n\t\t\t\t\t\t\t\t\t<div className=\"nav-link\">\r\n\t\t\t\t\t\t\t\t\t\tCurrent User:\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t{userDisplay}\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</nav>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(navigation);","import React from \"react\";\r\n\r\nclass footer extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\r\n        };\r\n\t}\r\n\t// fixed-bottom\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"footer\">\r\n\t\t\t\t<footer className=\"py-3 bg-dark fixed-bottom\">\r\n\t\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t\t<p className=\"m-0 text-center text-white\">\r\n\t\t\t\t\t\t\tCopyright &copy; Nightingale Technologies 2021\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</footer>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default footer;","import React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport { Link, withRouter } from 'react-router-dom';\r\n\r\nimport Store from \"store\"\r\n\r\nclass signIn extends React.Component {\r\n\r\n\t// Lets test this out, before we move this over to the App js file\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n          \r\n\t\t\t// Lets do a state machine for the sake of it...\r\n\t\t\t// 0 is \"No result given yet\"\r\n\t\t\t// 1+ would be error codes...\r\n\t\t\t// How can I change this screen as per this?\r\n\t\t\t// Eh, thats later...\r\n\t\t\tcurrentState: 0,\r\n\r\n\t\t\t// This can take in the response code, and we can use that, cant we?\r\n\t\t\tlatestAttempt: 0,\r\n\t\t  \r\n\t\t\tusername: '',\r\n\t\t\t\r\n\t\t\t// This needs to be hashed as fast as possible...\r\n\t\t\t// But I will worry about security...\r\n\t\t\t// Just note that this is probobly a bad idea...\r\n\t\t\tpassword: '',\r\n\t\t\t\r\n\t\t\tremember: false,\r\n\t\t\t\r\n        };\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tthis.loadFromCookies();\r\n\t};\r\n\t\r\n\tloadFromCookies = () => {\r\n\t\t\r\n\t\tconst data = Store.get('rememberUser')\r\n\t\ttry {\r\n\t\t\tthis.setState({ username:data.user ,password:data.pass })\r\n\t\t} catch {\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\t\r\n\tuserFieldChange = (event) => {\r\n\t\tthis.setState( {username: event.target.value} )\r\n\t}\r\n\t\r\n\tpassFieldChange = (event) => {\r\n\t\tthis.setState( {password: event.target.value} )\r\n\t}\r\n\t\r\n\tremFieldChange = (event) => {\r\n\t\tthis.setState( {remember: event.target.value} )\r\n\t}\r\n\t\r\n\thandleSubmit = event => {\r\n\t\t//console.log(\"Login Triggered\")\r\n\t\t\r\n\t\t// THIS IS TERRIBLE SECIRTY! WILL SECURE THE PASSWORD IN PLAIN TEXT!\r\n\t\tif(this.state.remember) {\r\n\t\t\t//Store.set('rememberUser', {user:this.state.username , pass: this.state.password })\r\n\t\t\t//console.log(\"User data Stored\")\r\n\t\t}\r\n\t\t\r\n\t\tconst data = {\r\n\t\t\tusername: this.state.username,\r\n\t\t\tpassword: this.state.password\r\n\t\t};\r\n\t\t\r\n\t\t//console.log(data)\r\n\r\n\t\taxios.post(this.props.APIHost +\"/apiTokenAuth/\", data )\r\n\t\t.then( res => { \r\n\t\t\tthis.setState({ latestAttempt: 200 })\r\n\t\t\tconst result = this.props.loginSave( res.data.token, this.state.username )\r\n\t\t\tconsole.log(\"Success\")\r\n\t\t\t\r\n\t\t\tif (result) {\r\n\t\t\t\tconsole.log(\"Token registered\")\r\n\t\t\t\t\r\n\t\t\t\t// Change this to a dashboard lookin thing\r\n\t\t\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tconsole.log(\"Token Failed..?\")\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch( err => {\r\n\t\t\t// Change this depending on the error...\r\n\t\t\tthis.setState({ latestAttempt: 400 })\r\n\t\t\tconsole.log(err)\r\n\t\t\tconsole.log(\"Connection failed...\")\r\n\t\t})\r\n\r\n\t\tevent.preventDefault();\r\n\t}\r\n\t\r\n\trender() {\r\n\t\r\n\t\treturn (\r\n\t\t\t<div className='container'>\r\n\t\t\t\t<form onSubmit={this.handleSubmit} >\r\n\t\t\t\t\t<h3>Sign In</h3>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<label>Email Address</label>\r\n\t\t\t\t\t\t<input type='text' className='form-control' value={this.state.username} onChange={this.userFieldChange} placeholder='Enter Username' />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<label>Password</label>\r\n\t\t\t\t\t\t<input type='password' className='form-control' value={this.state.password} onChange={this.passFieldChange} placeholder='Enter password' />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<input type='checkbox' className='form-control-input' id='customCheck1' value={this.state.remember} onChange={this.remFieldChange} />\r\n\t\t\t\t\t\t<label className='form-control-label' htmlFor='customCheck1' >Remember Me</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<button type='submit' className='btn btn-dark btn-block'>Submit</button>\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t<p className='col forgot-password text-right text-dark'>\r\n\t\t\t\t\t\t\t<Link className=\"nav-link\" to={this.props.forgotPath}>\r\n\t\t\t\t\t\t\t\tForgot password?\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</p>\r\n\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(signIn);","import React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nclass signup extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\t\t\t\r\n\t\t\tusername: 'dummyUser',\r\n\t\t\temail: 'dummy@dummy.com',\r\n\t\t\tpassword: 'dummyPassword',\r\n\t\t\tpassword2: 'dummyPassword',\r\n\t\t\tfirstName: 'Dummy',\r\n\t\t\tlastName: 'User',\r\n\t\t\t\r\n\t\t\tcheckField: false,\r\n        };\r\n\t}\r\n\t\r\n\t// Wait, are Usernames a good thing for what we are doing? Hmmmm\r\n\tusernameFieldChange = (event) => {\r\n\t\tthis.setState( {username: event.target.value} )\r\n\t}\r\n\t\r\n\temailFieldChange = (event) => {\r\n\t\tthis.setState( {email: event.target.value} )\r\n\t}\r\n\t\r\n\tpassFieldChange = (event) => {\r\n\t\tthis.setState( {password: event.target.value} )\r\n\t}\r\n\t\r\n\tpass2FieldChange = (event) => {\r\n\t\tthis.setState( {password2: event.target.value} )\r\n\t}\r\n\t\r\n\tfirstNameFieldChange = (event) => {\r\n\t\tthis.setState( {firstName: event.target.value} )\r\n\t}\r\n\t\r\n\tlastnameFieldChange = (event) => {\r\n\t\tthis.setState( {lastName: event.target.value} )\r\n\t}\r\n\t\r\n\tcheckFieldChange = (event) => {\r\n\t\tthis.setState( {checkField: event.target.value} )\r\n\t}\r\n\t\r\n\thandleSubmit = (event) => {\r\n\t\t\r\n\t\tif (this.state.checkField) {\r\n\t\t\tconsole.log(\"Field was not checked\")\r\n\t\t}\r\n\t\t\r\n\t\tconst data = {\r\n\t\t\tusername: this.state.username,\r\n\t\t\t\r\n\t\t\tpassword: this.state.password,\r\n\t\t\tpassword2: this.state.password2,\r\n\t\t\t\r\n\t\t\temail: this.state.email,\r\n\t\t\t\r\n\t\t\tfirst_name: this.state.firstName,\r\n\t\t\tlast_name: this.state.lastName,\r\n\t\t};\r\n\t\t\r\n\t\t//console.log(data)\r\n\r\n\t\taxios.post(this.props.APIHost +\"/registerUser/\", data )\r\n\t\t.then( res => { \r\n\t\t\tconsole.log(\"Success\")\r\n\t\t})\r\n\t\t.catch( err => {\r\n\t\t\tconsole.log(err.response.status)\r\n\t\t\tconsole.log(err.response.data)\r\n\t\t\tconsole.log(err.response.headers)\r\n\t\t\tconsole.log(\"Connection failed...\")\r\n\t\t})\r\n\r\n\t\tevent.preventDefault();\r\n\t}\r\n\t\r\n\trender() {\r\n\t\treturn (\r\n\t\t\r\n\t\t\t<div className=\"container\">\r\n\t\t\t\t<button onClick={this.handleSubmit}> Boop </button>\r\n\t\t\t\t<form  onSubmit={this.handleSubmit}>\r\n\t\t\t\t\t<h3>Sign Up</h3>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<label>Username</label>\r\n\t\t\t\t\t\t<input type='text' className='form-control' value={this.state.username} onChange={this.usernameFieldChange} placeholder='Enter Username' />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<label>Email Address</label>\r\n\t\t\t\t\t\t<input type='email' className='form-control' value={this.state.email} onChange={this.emailFieldChange} placeholder='Enter email' />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<label>Password</label>\r\n\t\t\t\t\t\t<input type='password' className='form-control' value={this.state.password} onChange={this.passFieldChange} placeholder='Enter password' />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<label>Confirm Password</label>\r\n\t\t\t\t\t\t<input type='password' className='form-control' value={this.state.password2} onChange={this.pass2FieldChange} placeholder='Confirm password' />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<label>First Name</label>\r\n\t\t\t\t\t\t<input type='text' className='form-control' value={this.state.firstName} onChange={this.firstNameFieldChange} placeholder='First Name' />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<label>Last Name</label>\r\n\t\t\t\t\t\t<input type='text' className='form-control' value={this.state.lastName} onChange={this.lastnameFieldChange} placeholder='Last Name' />\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<input type='checkbox' className='form-control-input' id='customCheck1' value={this.state.checkField} onChange={this.checkFieldChange} />\r\n\t\t\t\t\t\t<label className='form-control-label' htmlFor='customCheck1' >Legal stuff? Not sure...</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<button type='submit' className='btn btn-dark btn-block'>Submit</button>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t</form>\r\n\t\t\t\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default signup;","import React from \"react\";\r\n\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nclass forgotPassword extends React.Component {\r\n\t\t\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\r\n\t\t\temail: '',\r\n\r\n\t\t\tresetToken: '',\r\n\r\n\t\t\tcurrentState: 0,\r\n\r\n\t\t\tpassword1:'',\r\n\t\t\tpassword2:'',\r\n\r\n\t\t\tpasswordsSame: false\r\n\t\t\t\t\t\t\r\n        };\r\n\t\t\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.setState( \r\n\t\t\t{email: '',\r\n\t\t\tresetToken: '',\r\n\t\t\tpassword1: '',\r\n\t\t\tpassword2: ''},\r\n\t\t)\r\n\t}\r\n\r\n\tgoSignIn = () => {\r\n\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t}\r\n\r\n\tarePasswordsSame = () => {\r\n\t\t// I MAY need something more complicated than this, but it can be this for now....\r\n\t\treturn (this.state.password1 === this.state.password2)\r\n\t}\r\n\r\n\tswapToCode = () => {\r\n\t\tthis.setState( {currentState: 1} )\r\n\t}\r\n\r\n\tsendEmail = () => {\r\n\t\tthis.setState( {currentState: 1} )\r\n\t}\r\n\r\n\tcheckValue = () => {\r\n\t\tthis.setState( {currentState: 2} )\r\n\t}\r\n\r\n\tcheckPasswords = () => {\r\n\t\t// I can use the API for this...\r\n\t\tif (this.arePasswordsSame()) {\r\n\t\t\tthis.setState( {currentState: 3} )\r\n\t\t}\r\n\t}\r\n\r\n\r\n\temailFieldChange = (event) => {\r\n\t\tthis.setState( {email: event.target.value} )\r\n\t}\r\n\r\n\ttokenFieldChange = (event) => {\r\n\t\tthis.setState( {resetToken: event.target.value} )\r\n\r\n\t\tthis.arePasswordsSame()\r\n\t}\r\n\t\r\n\tpass1FieldChange = (event) => {\r\n\t\tthis.setState( {password1: event.target.value} )\r\n\r\n\t\t//this.arePasswordsSame()\r\n\t}\r\n\r\n\tpass2FieldChange = (event) => {\r\n\t\tthis.setState( {password2: event.target.value} )\r\n\r\n\t\tthis.arePasswordsSame()\r\n\t}\r\n\r\n\r\n\trender() {\r\n\r\n\t\tlet currentField = null\r\n\t\tlet currentButton = null\r\n\t\tlet currentMessage = null\r\n\r\n\t\tif (this.state.currentState === 0) {\r\n\t\t\tcurrentMessage = (\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<p> \r\n\t\t\t\t\t\t\tEnter your email address.\r\n\t\t\t\t\t\t\tIf it is in the system, we will send you an email address with a code.\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\r\n\t\t\tcurrentField = (\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t<label>Email Address</label>\r\n\t\t\t\t\t\t\t<input type='text' className='form-control' value={this.state.email} onChange={this.emailFieldChange} placeholder='Enter email' />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\r\n\t\t\tcurrentButton = [\r\n\t\t\t\t(\r\n\t\t\t\t\t<div className=\"row\" key={1}>\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<button className=\"btn btn-primary\" onClick={this.sendEmail}>\r\n\t\t\t\t\t\t\t\tSend\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t),(\r\n\t\t\t\t\t<div className=\"row\" key={2}>\r\n\t\t\t\t\t\t<div className=\"col m-2\">\r\n\t\t\t\t\t\t\t<button className=\"btn btn-primary\" onClick={this.swapToCode}>\r\n\t\t\t\t\t\t\t\tAlready have the code!\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\t]\r\n\t\t\t\t\r\n\t\t}\r\n\t\telse if (this.state.currentState === 1) {\r\n\r\n\t\t\tcurrentMessage = (\r\n\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t<p> \r\n\t\t\t\t\t\tCheck your email.\r\n\t\t\t\t\t\tIf your email is correct, then enter the code it gives you here:\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\r\n\t\t\tcurrentField = (\r\n\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<label>Reset token</label>\r\n\t\t\t\t\t\t<input type='text' className='form-control' value={this.state.resetToken} onChange={this.tokenFieldChange} placeholder='Enter Token' />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\r\n\t\t\tcurrentButton = (\r\n\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t<button className=\"btn btn-primary\" onClick={this.checkValue}>\r\n\t\t\t\t\t\tCheck...\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\telse if (this.state.currentState === 2) {\r\n\t\r\n\t\t\tcurrentMessage = [\r\n\t\t\t\t<div className=\"row\"> \r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<p> Enter your new password! </p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t]\r\n\t\t\tif (!this.arePasswordsSame()) {\r\n\t\t\t\tcurrentMessage.push(\r\n\t\t\t\t\t<div className=\"row\"> \r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<p className=\"text-danger\"> Passwords do not match! </p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\r\n\t\t\tcurrentField = [\r\n\t\t\t\t( \r\n\t\t\t\t\t<div className=\"row\"> \r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t<input type='text' className='form-control' value={this.state.resetToken} onChange={this.pass1FieldChange} placeholder='Enter Password' />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t),\r\n\t\t\t\t(\r\n\t\t\t\t\t<div className=\"row\"> \r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t<input type='text' className='form-control' value={this.state.resetToken} onChange={this.pass2FieldChange} placeholder='Re-enter Password' />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\t\r\n\t\t\t\t)\r\n\t\t\t]\r\n\t\t\tcurrentButton = (\r\n\t\t\t\t<div className=\"row\"> \r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<button className=\"btn btn-primary\" onClick={this.checkPasswords}>\r\n\t\t\t\t\t\t\tCheck...\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\telse if (this.state.currentState === 2) {\r\n\t\t\tcurrentMessage = (\r\n\t\t\t\t<div className=\"row\"> \r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<p> Password has been successfullty reset! </p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t\tcurrentField = null\r\n\r\n\t\t\tcurrentButton = (\r\n\t\t\t\t<div className=\"row\"> \r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<button className=\"btn btn-primary\" onClick={this.goSignIn}>\r\n\t\t\t\t\t\t\tSign In!\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div className='container-sm'>\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<h3> Forgot your password? </h3>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{currentMessage}\r\n\t\t\t\t{currentField}\r\n\t\t\t\t{currentButton}\r\n\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(forgotPassword);","import React from \"react\";\r\n// import axios from \"axios\";\r\n\r\nimport Store from \"store\"\r\n\r\nclass landing extends React.Component {\r\n\r\n\t// Lets test this out, before we move this over to the App js file\r\n\tconstructor(props) {\r\n        super(props);\r\n\t\tthis.chartReference = React.createRef();\r\n\t\t\r\n        this.state = {\r\n\t\t\tuserToken: null,\r\n        };\r\n\t}\r\n\t\r\n\tgetFromCookies = () => {\r\n\t\tStore.get('rememberSomething')\r\n\t};\r\n\t\r\n\trender() {\r\n\t\r\n\t\treturn (\r\n\t\t\t<div className=\"landing\">\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t<div className=\"row align-items-center my-5\">\r\n\t\t\t\t\t\t<div className=\"col-lg-12 border\">\r\n\t\t\t\t\t\t\t<h3>\r\n\t\t\t\t\t\t\t\tSample Title\r\n\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"row align-items-center my-2 border\">\r\n\t\t\t\t\t\t<div className=\"col-lg-7\">\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\tAnother set of explinations?\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col m-5 border\">\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\tExplainations ahoy!\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default landing;","// Use this or localstorage?\r\nimport Store from \"store\"\r\n\r\nexport * from \"./axiosAPI\"\r\n\r\n// Maybe I should put ALL the storage stuff here...\r\nexport const login = (tokenKey, username) => {\r\n\tStore.set('jwtSession', {user:username, token:tokenKey})\r\n}\r\n\r\nexport const logout = () => {\r\n\tStore.remove('jwtSession')\r\n}\r\n\r\nexport const isLoggedIn = () => {\r\n\tif (Store.get('jwtSession')) {\r\n\t\treturn true;\r\n\t}\r\n\t\r\n\treturn false;\r\n}\r\n\r\n// Lets try this for the Graph Data...\r\n// See if this works out okay...\r\n// The options may be overkill though...\r\n\r\n\r\n// First version of a Line graph with Arbitrary everything...\r\nexport const arbitraryLineData = (inputXAxis, inputDataList) => {\r\n\t\r\n\tlet builtData = []\r\n\tlet dataIndex = 0\r\n\tfor (dataIndex in inputDataList) {\r\n\t\tbuiltData.push({\r\n\t\t\tlabel: inputDataList[dataIndex].label,\r\n\t\t\tdata: inputDataList[dataIndex].data,\r\n\t\t\tfill: false,\r\n\t\t\tbackgroundColor: 'rgb(99, 255, 132)',\r\n\t\t\tborderColor: 'rgba(255, 132, 99, 0.2)',\r\n\t\t})\r\n\t}\r\n\t\r\n\tconst data = {\r\n\t\tlabels: inputXAxis,\r\n\t\tdatasets: builtData,\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const arbitraryLineOptions = () => {\r\n\tconst options = {\r\n\t\tscales: {\r\n\t\t\tyAxes: [\r\n\t\t\t\t{\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\n// Initial tests show good results, So I should merge these into as few functions as I can....\r\n// Right now its too many...\r\nexport const getRadarEmotionData = (inputData) => {\r\n\t\r\n\tconst data = {\r\n\t\tlabels: ['Joy', 'Anger', 'Sadness', 'Disgust', 'Fear'],\r\n\t\t\tdatasets: [ \r\n\t\t\t{\r\n\t\t\t\tlabel: 'Confidence Levels',\r\n\t\t\t\tdata: inputData,\r\n\t\t\t\tbackgroundColor: 'rgba(99, 255, 132, 0.2)',\r\n\t\t\t\tborderColor: 'rgba(99, 255, 132, 1)',\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const getRadarEmotionOptions = () => {\r\n\tconst options = {\r\n\t  scale: {\r\n\t\tticks: { \r\n\t\t\tbeginAtZero: true,\r\n\t\t\tsuggestedMin: 0,\r\n\t\t\tsuggestedMax: 1,\r\n\t\t},\r\n\t  },\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\nexport const getSentimentData = (inputData) => {\r\n\tconst data = {\r\n\tlabels: ['Positive', 'Negative'],\r\n\tdatasets: [\r\n\t\t\t{\r\n\t\t\tlabel: ['Sentiment'], \r\n\t\t\tdata: inputData,\r\n\t\t\tbackgroundColor: [\r\n\t\t\t\t'rgba(99, 255, 132, 0.2)',\r\n\t\t\t\t'rgba(54, 162, 235, 0.2)',\r\n\t\t\t\t'rgba(255, 206, 86, 0.2)',\r\n\t\t\t\t'rgba(75, 192, 192, 0.2)',\r\n\t\t\t\t'rgba(153, 102, 255, 0.2)',\r\n\t\t\t\t'rgba(255, 159, 64, 0.2)',\r\n\t\t\t],\r\n\t\t\tborderColor: [\r\n\t\t\t\t'rgba(99, 255, 132, 1)',\r\n\t\t\t\t'rgba(54, 162, 235, 1)',\r\n\t\t\t\t'rgba(255, 206, 86, 1)',\r\n\t\t\t\t'rgba(75, 192, 192, 1)',\r\n\t\t\t\t'rgba(153, 102, 255, 1)',\r\n\t\t\t\t'rgba(255, 159, 64, 1)',\r\n\t\t\t],\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const getSentimentOptions = () => {\r\n\tconst options = {\r\n\t\tcutoutPercentage: 50,\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\nexport const getConceptsData = (inputData, labels) => {\r\n\tconst data = {\r\n\tlabels: labels,\r\n\tdatasets: [\r\n\t\t\t{\r\n\t\t\tlabel: 'Concepts Relevance',\r\n\t\t\tdata: inputData,\r\n\t\t\tbackgroundColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 0.2)',\r\n\t\t\t\t'rgba(54, 162, 235, 0.2)',\r\n\t\t\t\t'rgba(255, 206, 86, 0.2)',\r\n\t\t\t\t'rgba(75, 192, 192, 0.2)',\r\n\t\t\t\t'rgba(153, 102, 255, 0.2)',\r\n\t\t\t\t'rgba(255, 159, 64, 0.2)',\r\n\t\t\t],\r\n\t\t\tborderColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 1)',\r\n\t\t\t\t'rgba(54, 162, 235, 1)',\r\n\t\t\t\t'rgba(255, 206, 86, 1)',\r\n\t\t\t\t'rgba(75, 192, 192, 1)',\r\n\t\t\t\t'rgba(153, 102, 255, 1)',\r\n\t\t\t\t'rgba(255, 159, 64, 1)',\r\n\t\t\t],\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const getConceptsOptions = () => {\r\n\tconst options = {\r\n\t\tscales: {\r\n\t\t\tyAxes: [{\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t\tsuggestedMin: 0,\r\n\t\t\t\t\t\tsuggestedMax: 1,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\n// This can probobly be merged with the other one... but it is here for perhaps a color shift?\r\nexport const getCategoryData = (inputData, labels) => {\r\n\tconst data = {\r\n\tlabels: labels,\r\n\tdatasets: [\r\n\t\t\t{\r\n\t\t\tlabel: 'Categories Score',\r\n\t\t\tdata: inputData,\r\n\t\t\tbackgroundColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 0.2)',\r\n\t\t\t\t'rgba(54, 162, 235, 0.2)',\r\n\t\t\t\t'rgba(255, 206, 86, 0.2)',\r\n\t\t\t\t'rgba(75, 192, 192, 0.2)',\r\n\t\t\t\t'rgba(153, 102, 255, 0.2)',\r\n\t\t\t\t'rgba(255, 159, 64, 0.2)',\r\n\t\t\t],\r\n\t\t\tborderColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 1)',\r\n\t\t\t\t'rgba(54, 162, 235, 1)',\r\n\t\t\t\t'rgba(255, 206, 86, 1)',\r\n\t\t\t\t'rgba(75, 192, 192, 1)',\r\n\t\t\t\t'rgba(153, 102, 255, 1)',\r\n\t\t\t\t'rgba(255, 159, 64, 1)',\r\n\t\t\t],\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const getCategoryOptions = () => {\r\n\tconst options = {\r\n\t\tscales: {\r\n\t\t\tyAxes: [{\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t\tsuggestedMin: 0,\r\n\t\t\t\t\t\tsuggestedMax: 1,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\n// Now we can test to see how this would actually look.\r\nexport const testMaxMin = (inputMax, inputAve, inputMin) => {\r\n\tconst data = {\r\n\t\tlabels: ['Joy', 'Anger', 'Sadness', 'Disgust', 'Fear'],\r\n\t\t\tdatasets: [ \r\n\t\t\t{\r\n\t\t\t\tlabel: 'Max',\r\n\t\t\t\tdata: inputMax,\r\n\t\t\t\tbackgroundColor: 'rgba(99, 255, 132, 0.2)',\r\n\t\t\t\tborderColor: 'rgba(99, 255, 132, 1)',\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Ave',\r\n\t\t\t\tdata: inputAve,\r\n\t\t\t\tbackgroundColor: 'rgba(99, 132, 255, 0.2)',\r\n\t\t\t\tborderColor: 'rgba(99, 132, 255, 1)',\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Min',\r\n\t\t\t\tdata: inputMin,\r\n\t\t\t\tbackgroundColor: 'rgba(255, 99, 132, 0.2)',\r\n\t\t\t\tborderColor: 'rgba(255, 99, 132, 1)',\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\n// How can I make this not terrible back here?\r\nexport const testBarMulti = (inputData) => {\r\n\tconst data = {\r\n\tlabels: ['Joy', 'Anger', 'Sadness', 'Disgust', 'Fear'],\r\n\tdatasets: [\r\n\t\t\t{\r\n\t\t\tlabel: '# Above Threshold',\r\n\t\t\tdata: inputData,\r\n\t\t\tbackgroundColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 0.2)',\r\n\t\t\t\t'rgba(54, 162, 235, 0.2)',\r\n\t\t\t\t'rgba(255, 206, 86, 0.2)',\r\n\t\t\t\t'rgba(75, 192, 192, 0.2)',\r\n\t\t\t\t'rgba(153, 102, 255, 0.2)',\r\n\t\t\t\t'rgba(255, 159, 64, 0.2)',\r\n\t\t\t],\r\n\t\t\tborderColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 1)',\r\n\t\t\t\t'rgba(54, 162, 235, 1)',\r\n\t\t\t\t'rgba(255, 206, 86, 1)',\r\n\t\t\t\t'rgba(75, 192, 192, 1)',\r\n\t\t\t\t'rgba(153, 102, 255, 1)',\r\n\t\t\t\t'rgba(255, 159, 64, 1)',\r\n\t\t\t],\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\nexport const testBarMultiOptions = () => {\r\n\tconst options = {\r\n\t\tscales: {\r\n\t\t\tyAxes: [{\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t\tsuggestedMin: 0,\r\n\t\t\t\t\t\tsuggestedMax: 1,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\nexport const stackedBarData = (inputData1, inputData2, inputData3) => {\r\n\tconst data = {\r\n\t\tlabels: ['Value'],\r\n\t\tdatasets: [\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Minimum',\r\n\t\t\t\tdata: inputData1,\r\n\t\t\t\tbackgroundColor: 'rgb(255, 99, 132)',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Average',\r\n\t\t\t\tdata: inputData2,\r\n\t\t\t\tbackgroundColor: 'rgb(54, 162, 235)',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Maximum',\r\n\t\t\t\tdata: inputData3,\r\n\t\t\t\tbackgroundColor: 'rgb(75, 192, 192)',\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\nexport const stackedBarOptions = () => {\r\n\tconst options = {\r\n\t\tscales: {\r\n\t\t\tyAxes: [\r\n\t\t\t\t{\r\n\t\t\t\t\t//stacked: true,\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t\tsuggestedMin: -1,\r\n\t\t\t\t\t\tsuggestedMax: 1,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\txAxes: [\r\n\t\t\t\t{\r\n\t\t\t\t\t//stacked: true,\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\nexport const stackedBarData2Test = (inputData1, inputData2, inputData3) => {\r\n\tconst data = {\r\n\t\tlabels: ['Relevance', 'Sentiment'],\r\n\t\tdatasets: [\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Minimum',\r\n\t\t\t\tdata: inputData1,\r\n\t\t\t\tbackgroundColor: 'rgb(255, 99, 132)',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Average',\r\n\t\t\t\tdata: inputData2,\r\n\t\t\t\tbackgroundColor: 'rgb(54, 162, 235)',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Maximum',\r\n\t\t\t\tdata: inputData3,\r\n\t\t\t\tbackgroundColor: 'rgb(75, 192, 192)',\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const stackedBarData3Test = (inputData1, inputData2, inputData3) => {\r\n\tconst data = {\r\n\t\tlabels: ['Confidence', 'Relevance', 'Sentiment'],\r\n\t\tdatasets: [\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Minimum',\r\n\t\t\t\tdata: inputData1,\r\n\t\t\t\tbackgroundColor: 'rgb(255, 99, 132)',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Average',\r\n\t\t\t\tdata: inputData2,\r\n\t\t\t\tbackgroundColor: 'rgb(54, 162, 235)',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Maximum',\r\n\t\t\t\tdata: inputData3,\r\n\t\t\t\tbackgroundColor: 'rgb(75, 192, 192)',\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const sentimentBarData = (inputData) => {\r\n\tconst data = {\r\n\t\tlabels: ['Positive', 'Negative'],\r\n\t\tdatasets: [\r\n\t\t\t{\r\n\t\t\tlabel: '# Above Threshold',\r\n\t\t\tdata: inputData,\r\n\t\t\tbackgroundColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 0.2)',\r\n\t\t\t\t'rgba(54, 162, 235, 0.2)',\r\n\t\t\t\t'rgba(255, 206, 86, 0.2)',\r\n\t\t\t\t'rgba(75, 192, 192, 0.2)',\r\n\t\t\t\t'rgba(153, 102, 255, 0.2)',\r\n\t\t\t\t'rgba(255, 159, 64, 0.2)',\r\n\t\t\t],\r\n\t\t\tborderColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 1)',\r\n\t\t\t\t'rgba(54, 162, 235, 1)',\r\n\t\t\t\t'rgba(255, 206, 86, 1)',\r\n\t\t\t\t'rgba(75, 192, 192, 1)',\r\n\t\t\t\t'rgba(153, 102, 255, 1)',\r\n\t\t\t\t'rgba(255, 159, 64, 1)',\r\n\t\t\t],\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\nexport const sentimentBarOptions = () => {\r\n\tconst options = {\r\n\t\tscales: {\r\n\t\t\tyAxes: [{\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t\tsuggestedMin: 0,\r\n\t\t\t\t\t\tsuggestedMax: 1,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\n// -------------------------------This is where my template stuff is ---------------------------------------------------------------\r\nexport const getDoughData = (inputData) => {\r\n\tconst data = {\r\n\t\tlabels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],\r\n\t\tdatasets: [\r\n\t\t\t{\r\n\t\t\t\tlabel: '# of Votes',\r\n\t\t\t\tdata: inputData,\r\n\t\t\t\tbackgroundColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 0.2)',\r\n\t\t\t\t'rgba(54, 162, 235, 0.2)',\r\n\t\t\t\t'rgba(255, 206, 86, 0.2)',\r\n\t\t\t\t'rgba(75, 192, 192, 0.2)',\r\n\t\t\t\t'rgba(153, 102, 255, 0.2)',\r\n\t\t\t\t'rgba(255, 159, 64, 0.2)',\r\n\t\t\t],\r\n\t\t\t\tborderColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 1)',\r\n\t\t\t\t'rgba(54, 162, 235, 1)',\r\n\t\t\t\t'rgba(255, 206, 86, 1)',\r\n\t\t\t\t'rgba(75, 192, 192, 1)',\r\n\t\t\t\t'rgba(153, 102, 255, 1)',\r\n\t\t\t\t'rgba(255, 159, 64, 1)',\r\n\t\t\t],\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const getDoughOptions = () => {\r\n\tconst options = {\r\n\t\tcutoutPercentage: 50,\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\nexport const getRadarData = (inputData) => {\r\n\tconst data = {\r\n\t\tlabels: ['Thing 1', 'Thing 2', 'Thing 3', 'Thing 4', 'Thing 5', 'Thing 6'],\r\n\t\t\tdatasets: [ \r\n\t\t\t{\r\n\t\t\t\tlabel: '# of Votes',\r\n\t\t\t\tdata: inputData,\r\n\t\t\t\tbackgroundColor: 'rgba(99, 255, 132, 0.2)',\r\n\t\t\t\tborderColor: 'rgba(99, 255, 132, 1)',\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const getRadarOptions = () => {\r\n\tconst options = {\r\n\t  scale: {\r\n\t\tticks: { beginAtZero: true },\r\n\t  },\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\nexport const getLineData = (inputData, inputData2) => {\r\n\tconst data = {\r\n\t\tlabels: ['Thing 1', 'Thing 2', 'Thing 3', 'Thing 4', 'Thing 5', 'Thing 6'],\r\n\t\t\tdatasets: [ \r\n\t\t\t{\r\n\t\t\t\tlabel: '# of Votes',\r\n\t\t\t\tdata: inputData,\r\n\t\t\t\tfill: false,\r\n\t\t\t\tbackgroundColor: 'rgb(99, 255, 132)',\r\n\t\t\t\tborderColor: 'rgba(99, 255, 132, 0.2)',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: '# of Votes2',\r\n\t\t\t\tdata: inputData2,\r\n\t\t\t\tfill: false,\r\n\t\t\t\tbackgroundColor: 'rgb(255, 99, 132)',\r\n\t\t\t\tborderColor: 'rgba(255, 99, 132, 0.2)',\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const getLineOptions = () => {\r\n\tconst options = {\r\n\t\tscales: {\r\n\t\t\tyAxes: [\r\n\t\t\t\t{\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\nexport const getBarData = (inputData) => {\r\n\tconst data = {\r\n\tlabels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],\r\n\tdatasets: [\r\n\t\t\t{\r\n\t\t\tlabel: '# of Votes',\r\n\t\t\tdata: inputData,\r\n\t\t\tbackgroundColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 0.2)',\r\n\t\t\t\t'rgba(54, 162, 235, 0.2)',\r\n\t\t\t\t'rgba(255, 206, 86, 0.2)',\r\n\t\t\t\t'rgba(75, 192, 192, 0.2)',\r\n\t\t\t\t'rgba(153, 102, 255, 0.2)',\r\n\t\t\t\t'rgba(255, 159, 64, 0.2)',\r\n\t\t\t],\r\n\t\t\tborderColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 1)',\r\n\t\t\t\t'rgba(54, 162, 235, 1)',\r\n\t\t\t\t'rgba(255, 206, 86, 1)',\r\n\t\t\t\t'rgba(75, 192, 192, 1)',\r\n\t\t\t\t'rgba(153, 102, 255, 1)',\r\n\t\t\t\t'rgba(255, 159, 64, 1)',\r\n\t\t\t],\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const getBarOptions = () => {\r\n\tconst options = {\r\n\t\tscales: {\r\n\t\t\tyAxes: [{\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\nexport const getScatterData = (inputData, inputData2) => {\r\n\tconst data = {\r\n\t\tlabels: ['Thing 1', 'Thing 2', 'Thing 3', 'Thing 4', 'Thing 5', 'Thing 6'],\r\n\t\t\tdatasets: [ \r\n\t\t\t{\r\n\t\t\t\tlabel: '# of Votes',\r\n\t\t\t\tdata: inputData,\r\n\t\t\t\tbackgroundColor: 'rgba(99, 255, 132, 0.2)',\r\n\t\t\t\tborderColor: 'rgba(99, 255, 132, 1)',\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: '# of Votes2',\r\n\t\t\t\tdata: inputData2,\r\n\t\t\t\tbackgroundColor: 'rgba(255, 99, 132, 0.2)',\r\n\t\t\t\tborderColor: 'rgba(255, 99, 132, 1)',\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const getScatterOptions = () => {\r\n\tconst options = {\r\n\t\tscales: {\r\n\t\t\tyAxes: [{\r\n\t\t\t\tticks: {\r\n\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t},\r\n\t\t\t},],\r\n\t\t},\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\n// THIS IS EXAMPLE COMPANY TEST DATA!!!\r\nconst makeCompanyDaydata = () => {\r\n\t\r\n\tlet dayData = {\r\n\t\t\temotion: { \r\n\t\t\t\tmax:{joy:Math.random(), anger:Math.random(), sadness:Math.random(), disgust:Math.random(), fear:Math.random()}, \r\n\t\t\t\tmin:{joy:Math.random(), anger:Math.random(), sadness:Math.random(), disgust:Math.random(), fear:Math.random()}, \r\n\t\t\t\tave:{joy:Math.random(), anger:Math.random(), sadness:Math.random(), disgust:Math.random(), fear:Math.random()},\r\n\t\t\t\t\r\n\t\t\t\tthreshold:{joy:Math.random(), anger:Math.random(), sadness:Math.random(), disgust:Math.random(), fear:Math.random()},\r\n\t\t\t},\r\n\t\t\tsentiment: {\r\n\t\t\t\tmax:2*Math.random()-1, \r\n\t\t\t\tmin:2*Math.random()-1, \r\n\t\t\t\tave:2*Math.random()-1,\r\n\t\t\t\t\r\n\t\t\t\tthresholdPos:Math.random(),\r\n\t\t\t\tthresholdNeg:Math.random(),\r\n\t\t\t},\r\n\t\t\tentities: [\r\n\t\t\t\t{text:\"Example Entity\", \r\n\t\t\t\t\tcount:12,\r\n\t\t\t\t\ttype:\"Whatever\",\r\n\t\t\t\t\tconfidence:{ \r\n\t\t\t\t\t\tmax:Math.random(), \r\n\t\t\t\t\t\tmin:Math.random(), \r\n\t\t\t\t\t\tave:Math.random(),\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tstd:Math.random(),\r\n\t\t\t\t\t},\r\n\t\t\t\t\trelevance:{\r\n\t\t\t\t\t\tmax:Math.random(),\r\n\t\t\t\t\t\tmin:Math.random(),\r\n\t\t\t\t\t\tave:Math.random(),\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tstd:Math.random(),\r\n\t\t\t\t\t},\r\n\t\t\t\t\temotion:{\r\n\t\t\t\t\t\tmax:{joy:Math.random(), anger:Math.random(), sadness:Math.random(), disgust:Math.random(), fear:Math.random()},\r\n\t\t\t\t\t\tmin:{joy:Math.random(), anger:Math.random(), sadness:Math.random(), disgust:Math.random(), fear:Math.random()},\r\n\t\t\t\t\t\tave:{joy:Math.random(), anger:Math.random(), sadness:Math.random(), disgust:Math.random(), fear:Math.random()},\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tstd:{joy:Math.random(), anger:Math.random(), sadness:Math.random(), disgust:Math.random(), fear:Math.random()},\r\n\t\t\t\t\t}, \r\n\t\t\t\t\tsentiment:{\r\n\t\t\t\t\t\tmax:2*Math.random()-1, \r\n\t\t\t\t\t\tmin:2*Math.random()-1, \r\n\t\t\t\t\t\tave:2*Math.random()-1,\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tstd:Math.random(),\r\n\t\t\t\t\t},\r\n\t\t\t\t}, \r\n\t\t\t],\r\n\t\t\tkeywords: [\r\n\t\t\t\t{text:\"Example Keyword\", \r\n\t\t\t\t\tcount:6, \r\n\t\t\t\t\t\r\n\t\t\t\t\trelevance:{\r\n\t\t\t\t\t\tmax:Math.random(),\r\n\t\t\t\t\t\tmin:Math.random(),\r\n\t\t\t\t\t\tave:Math.random(),\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tstd:Math.random(),\r\n\t\t\t\t\t}, \r\n\t\t\t\t\temotion:{\r\n\t\t\t\t\t\tmax:{joy:Math.random(), anger:Math.random(), sadness:Math.random(), disgust:Math.random(), fear:Math.random()},\r\n\t\t\t\t\t\tmin:{joy:Math.random(), anger:Math.random(), sadness:Math.random(), disgust:Math.random(), fear:Math.random()},\r\n\t\t\t\t\t\tave:{joy:Math.random(), anger:Math.random(), sadness:Math.random(), disgust:Math.random(), fear:Math.random()},\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tstd:{joy:Math.random(), anger:Math.random(), sadness:Math.random(), disgust:Math.random(), fear:Math.random()},\r\n\t\t\t\t\t}, \r\n\t\t\t\t\tsentiment:{\r\n\t\t\t\t\t\tmax:2*Math.random()-1, \r\n\t\t\t\t\t\tmin:2*Math.random()-1, \r\n\t\t\t\t\t\tave:2*Math.random()-1,\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tstd:Math.random(),\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\trelations: [\r\n\t\t\t\t{type:\"didTo\", \r\n\t\t\t\t\tcount:4, \r\n\t\t\t\t\tscore:{\r\n\t\t\t\t\t\tmax:2*Math.random()-1, \r\n\t\t\t\t\t\tmin:2*Math.random()-1, \r\n\t\t\t\t\t\tave:2*Math.random()-1,\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tstd:Math.random(),\r\n\t\t\t\t\t}, \r\n\t\t\t\t\targuments:[{text:\"person1\"},{text:\"person2\"}] \r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t}\r\n\treturn dayData\r\n}\r\n\r\nexport const makeCompanyTestDataOtherFormat = () => {\r\n\t\r\n\tconst testData = {\r\n\t\tmon: {\r\n\t\t\tresponsePurity: 90,\r\n\t\t\tp1: {\r\n\t\t\t\tname:\"Prompt 1 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp2: {\r\n\t\t\t\tname:\"Prompt 2 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp3: {\r\n\t\t\t\tname:\"Prompt 3 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp4: {\r\n\t\t\t\tname:\"Prompt 4 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t},\r\n\t\ttue: {\r\n\t\t\tresponsePurity: 23,\r\n\t\t\tp1: {\r\n\t\t\t\tname:\"Prompt 1 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp2: {\r\n\t\t\t\tname:\"Prompt 2 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp3: {\r\n\t\t\t\tname:\"Prompt 3 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp4: {\r\n\t\t\t\tname:\"Prompt 4 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t},\r\n\t\twed: {\r\n\t\t\tresponsePurity: 55,\r\n\t\t\tp1: {\r\n\t\t\t\tname:\"Prompt 1 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp2: {\r\n\t\t\t\tname:\"Prompt 2 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp3: {\r\n\t\t\t\tname:\"Prompt 3 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp4: {\r\n\t\t\t\tname:\"Prompt 4 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t},\r\n\t\tthu: {\r\n\t\t\tresponsePurity: 78,\r\n\t\t\tp1: {\r\n\t\t\t\tname:\"Prompt 1 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp2: {\r\n\t\t\t\tname:\"Prompt 2 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp3: {\r\n\t\t\t\tname:\"Prompt 3 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp4: {\r\n\t\t\t\tname:\"Prompt 4 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t},\r\n\t\tfri: {\r\n\t\t\tresponsePurity: 34,\r\n\t\t\tp1: {\r\n\t\t\t\tname:\"Prompt 1 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp2: {\r\n\t\t\t\tname:\"Prompt 2 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp3: {\r\n\t\t\t\tname:\"Prompt 3 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp4: {\r\n\t\t\t\tname:\"Prompt 4 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t}\r\n\t\t},\r\n\t\tsat: {\r\n\t\t\tresponsePurity: 90,\r\n\t\t\tp1: {\r\n\t\t\t\tname:\"Prompt 1 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp2: {\r\n\t\t\t\tname:\"Prompt 2 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp3: {\r\n\t\t\t\tname:\"Prompt 3 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp4: {\r\n\t\t\t\tname:\"Prompt 4 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t}\r\n\t\t},\r\n\t\tsun: {\r\n\t\t\tresponsePurity: 90,\r\n\t\t\tp1: {\r\n\t\t\t\tname:\"Prompt 1 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp2: {\r\n\t\t\t\tname:\"Prompt 2 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp3: {\r\n\t\t\t\tname:\"Prompt 3 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp4: {\r\n\t\t\t\tname:\"Prompt 4 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t}\r\n\t\t},\r\n\t\tallDay: {\r\n\t\t\tresponsePurity: 90,\r\n\t\t\tp1: {\r\n\t\t\t\tname:\"Prompt 1 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp2: {\r\n\t\t\t\tname:\"Prompt 2 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp3: {\r\n\t\t\t\tname:\"Prompt 3 Full Name!!2\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp4: {\r\n\t\t\t\tname:\"Prompt 4 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\t\t\r\n\treturn testData\r\n}\r\n\r\nconst timeLength = 365\r\n\r\n// Lets mess around with this...\r\nexport const generateTestEHIX = () => {\r\n\t\r\n\tlet textX = []\r\n\t\r\n\tlet i;\r\n\tfor (i=-timeLength*2; i < 0; i++) {\r\n\t\ttextX.push(i)\r\n\t}\r\n\t\r\n\treturn textX\r\n}\r\n\r\nexport const generateTestEHIY = () => {\r\n\t\r\n\tlet textY = []\r\n\t\r\n\tlet i;\r\n\tfor (i=0; i < timeLength*2; i++) {\r\n\t\ttextY.push((i/1000)*Math.sin(3.141592654*i/360))\r\n\t}\r\n\t\r\n\treturn textY\r\n}","import React from \"react\";\r\n\r\n//import { useEffect } from \"react\"\r\n\r\nimport Calendar from 'react-calendar'\r\nimport 'react-calendar/dist/Calendar.css';\r\nimport { Radar, Bar } from 'react-chartjs-2';\r\n\r\nimport { ButtonGroup, ToggleButton } from 'react-bootstrap';\r\n\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\n//import {isLoggedIn} from '../utils';\r\nimport {getRadarEmotionData } from '../utils';\r\nimport {getRadarEmotionOptions, stackedBarOptions} from '../utils';\r\n\r\nimport { stackedBarData3Test, stackedBarData2Test, stackedBarData } from '../utils';\r\n\r\n// This is very lean...\r\nconst parseEmotion = (emotionData) => {\r\n\t\r\n\tlet derp = [emotionData.joy, emotionData.anger, emotionData.sadness, emotionData.disgust, emotionData.fear]\r\n\treturn derp;\r\n}\r\n\r\n// Maybe I should move this to getting it from the data...\r\nconst AIAspect = [\r\n    { name: 'Emotion', value: 'emotion' },\r\n    { name: 'Sentiment', value: 'sentiment' },\r\n    { name: 'Entities', value: 'entities' },\r\n\t{ name: 'Keywords', value: 'keywords' },\r\n\t//{ name: 'Relations', value: 'relations' },\r\n];\r\n\r\n// This doesnt look right... Fix this later I guess\r\n/*this.onChange = (editorState) => this.setState({editorState});\r\nthis.setEditor = (editor) => {\r\n\tthis.editor = editor;\r\n};*/\r\n\r\n// Perhaps the journal would be set here instead?\r\n// I CAN use hooks if need be. So I will note that to try once I get this up and running...\r\n// And can check performance...\r\n\r\n// Main Function\r\nconst JournalView = (props) => {\r\n\t\t\r\n\tconst tileClassName = ({ date, view }) => {\r\n\t\r\n\t\t// Add class to tiles in month view only\r\n\t\tif (view === 'month') {\r\n\t\t\t\r\n\t\t\tconst checkDate = date.getFullYear()+\"-\"+date.getMonth()+\"-\"+date.getDate()\r\n\r\n\t\t\t// Check if a date React-Calendar wants to check is on the list of dates to add class to\r\n\t\t\tconst hasJournal = props.validJournalDates.find( element => element === checkDate)\r\n\t\t\tconst hasAI = props.validJournalScanDates.find( element => element === checkDate)\r\n\t\t\t\r\n\t\t\tif (hasAI) {\r\n\t\t\t\treturn 'btn btn-success';\r\n\t\t\t} else if (hasJournal) {\r\n\t\t\t\treturn 'btn btn-warning'\r\n\t\t\t} else {\r\n\t\t\t\t// use the default styling...\r\n\t\t\t\t//return 'btn btn-outline-dark'\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\t\r\n\tlet displayPromptSentance = \"Displaying Data for Journal with prompt: \" + props.selectedPrompt\r\n\t\r\n\tlet index;\r\n\t\r\n\tlet dayData = props.dataSet\r\n\tlet promptList = []\r\n\t\r\n\tlet tableDisplay = []\r\n\tlet displayStats = []\r\n\t//let promptName = \"Invalid Prompt\"\r\n\t\r\n\tif (!(dayData === null) && !(dayData === undefined)) {\r\n\t\t\r\n\t\tlet key;\r\n\t\tfor (key in dayData) {\r\n\r\n\t\t\tif ( !(dayData[key].name === undefined) ) {\r\n\t\t\t\tpromptList.push( {name:dayData[key].name, value:key} )\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t// At this point if the array is still empty,we have nothing...\r\n\t\tif (promptList.length === 0) {\r\n\t\t\tpromptList = [{name:\"No Prompts\", value:\"None\"}]\r\n\t\t}\r\n\t\t\r\n\t\tlet sanityCheck = props.selectedAspect in dayData\r\n\t\tif (sanityCheck) {\r\n\t\t\t//promptName = dayData[props.selectedPrompt][\"name\"]\r\n\t\t\t//displayPromptSentance = \"Showing Data for prompt: \" + promptName\r\n\t\t\t\r\n\t\t\t//let dataSet = dayData[props.selectedPrompt][\"data\"][props.selectedAspect]\r\n\t\t\tlet dataSet = dayData[props.selectedAspect]\r\n\t\t\t\r\n\t\t\tswitch(props.selectedAspect) {\r\n\t\t\t\tcase 'emotion':\r\n\t\t\t\t\tlet emoValue = parseEmotion( dataSet.document.emotion )\r\n\t\t\t\t\t\r\n\t\t\t\t\tlet dataDocEmo = getRadarEmotionData( emoValue )\r\n\t\t\t\t\tlet emoOptions = getRadarEmotionOptions()\r\n\t\t\t\t\r\n\t\t\t\t\tdisplayStats.push(\r\n\t\t\t\t\t\t<div className=\"row m-2\" key=\"2\">\r\n\t\t\t\t\t\t\t<div className=\"col-3\">\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t\tEmotion Values\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t\t<Radar data={dataDocEmo} options={emoOptions} />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col-3\">\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)\r\n\t\t\t\tbreak;\r\n\t\t\t\tcase 'sentiment':\r\n\t\t\t\t\tconst dataBarStack = stackedBarData( [dataSet.document.score] )\r\n\t\t\t\t\tconst barStackOptions = stackedBarOptions()\r\n\t\t\t\t\r\n\t\t\t\t\tdisplayStats.push(\r\n\t\t\t\t\t\t<div className=\"row m-2\" key=\"2\">\r\n\t\t\t\t\t\t\t<div className=\"col-3\">\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t\tSentiment Values\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t\t<Bar data={dataBarStack} options={barStackOptions} />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col-3\">\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)\r\n\t\t\t\tbreak;\r\n\t\t\t\tcase 'entities':\r\n\t\t\t\t\t\r\n\t\t\t\t\t//console.log(dataSet)\r\n\t\t\t\t\tfor (index in dataSet) {\r\n\t\t\t\t\t\tlet entity = dataSet[index]\r\n\t\t\t\t\t\t//console.log(entity)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tlet emoVal = parseEmotion( entity.emotion )\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tlet emoData = getRadarEmotionData( emoVal)\r\n\t\t\t\t\t\tlet emoOptions = getRadarEmotionOptions()\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tconst dataEntSent = stackedBarData3Test( \r\n\t\t\t\t\t\t\t[entity.confidence, entity.relevance, entity.sentiment],\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\tconst dataEntOptions = stackedBarOptions()\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\ttableDisplay.push(\r\n\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t<th scope=\"row\">{entity.text}</th>\r\n\t\t\t\t\t\t\t\t<td>{entity.type}</td>\r\n\t\t\t\t\t\t\t\t<td>{entity.count}</td>\r\n\t\t\t\t\t\t\t\t<td colSpan=\"3\"><Bar data={dataEntSent} options={dataEntOptions} /></td>\r\n\t\t\t\t\t\t\t\t<td><Radar data={emoData} options={emoOptions} /></td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tdisplayStats.push(\r\n\t\t\t\t\t\t<table className=\"table\" key=\"2\">\r\n\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"col\">Name</th>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"col\">Type</th>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"col\">#Appearances</th>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"col\">Confidence</th>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"col\">Relevance</th>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"col\">Sentiment</th>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"col\">Emotion</th>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t{tableDisplay}\r\n\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t</table>\r\n\t\t\t\t\t)\r\n\t\t\t\tbreak;\r\n\t\t\t\tcase 'keywords':\r\n\t\t\t\t\r\n\t\t\t\t\tfor (index in dataSet) {\r\n\t\t\t\t\t\tlet keyData = dataSet[index]\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tlet emoVal = parseEmotion( keyData.emotion )\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tconst dataRadar = getRadarEmotionData( emoVal )\r\n\t\t\t\t\t\tconst dataRadarOptions = getRadarEmotionOptions()\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tconst dataKeySent = stackedBarData2Test(\r\n\t\t\t\t\t\t\t[keyData.relevance, keyData.sentiment], \r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\tconst dataKeyOptions = stackedBarOptions()\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\ttableDisplay.push(\r\n\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t<th scope=\"row\">{keyData.text}</th>\r\n\t\t\t\t\t\t\t\t<td>{keyData.count}</td>\r\n\t\t\t\t\t\t\t\t<td colSpan=\"2\"><Bar data={dataKeySent} options={dataKeyOptions} /></td>\r\n\t\t\t\t\t\t\t\t<td><Radar data={dataRadar} options={dataRadarOptions} /></td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\tdisplayStats.push(\r\n\t\t\t\t\t\t<table className=\"table\" key=\"2\">\r\n\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"col\">Name</th>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"col\">#Appearances</th>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"col\">Relevance Score</th>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"col\">Sentiment</th>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"col\">Emotion</th>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t{tableDisplay}\r\n\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t</table>\r\n\t\t\t\t\t)\r\n\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\t\tconsole.log(\"Invalid AI selection somehow\")\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tpromptList = [{name:\"No Prompts\", value:\"None\"}]\r\n\t\t}\r\n\t}\r\n\telse {\r\n\t\tpromptList = [{name:\"No Prompts\", value:\"None\"}]\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"mainView\">\r\n\t\t\t\r\n\t\t\t<div className=\"container\">\r\n\r\n\t\t\t\t<div className=\"row m-2\">\r\n\t\t\t\t\t<div className=\"col-lg-3 m-2\">\t\t\t\t\t\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<Calendar \r\n\t\t\t\t\t\t\t\tonChange={props.pickDate}\r\n\t\t\t\t\t\t\t\tvalue={props.currentDate}\r\n\t\t\t\t\t\t\t\ttileClassName={tileClassName}\r\n\r\n\t\t\t\t\t\t\t\tminDetail={'year'}\r\n\t\t\t\t\t\t\t\tmaxDetail={'month'}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col m-2\">\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t<div>{props.displayMessage}</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t<div className=\"row m-2\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<div className=\"row m-2\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t<ButtonGroup toggle>\r\n\t\t\t\t\t\t\t\t\t\t\t{promptList.map((radio, idx) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<ToggleButton\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey={idx}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"radio\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"radio\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={radio.value}\r\n\t\t\t\t\t\t\t\t\t\t\t\tchecked={props.selectedPrompt === radio.value}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={props.setPrompt}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{radio.name}\r\n\t\t\t\t\t\t\t\t\t\t\t</ToggleButton>\r\n\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t</ButtonGroup>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<div className=\"row m-2\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t<ButtonGroup toggle>\r\n\t\t\t\t\t\t\t\t\t\t\t{AIAspect.map((radio, idx) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<ToggleButton\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey={idx}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"radio\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"info\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"radio\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={radio.value}\r\n\t\t\t\t\t\t\t\t\t\t\t\tchecked={props.selectedAspect === radio.value}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={props.setAI}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{radio.name}\r\n\t\t\t\t\t\t\t\t\t\t\t</ToggleButton>\r\n\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t</ButtonGroup>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<div className=\"row m-2\">\r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t<div>Journal Contents:</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t<p>{props.currentJournal}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<div className=\"row m-2\">\r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t<div>{displayPromptSentance}</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t<p>{displayStats}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"row  my-2\">\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default withRouter(JournalView);","import React from \"react\";\r\n\r\nimport { withRouter } from \"react-router-dom\";\r\nimport Store from \"store\"\r\nimport {Editor, EditorState, RichUtils, convertToRaw, convertFromRaw } from 'draft-js';\r\n//ContentState\r\n\r\nconst styles = {\r\n  editor: {\r\n    border: '1px solid gray',\r\n    minHeight: '6em',\r\n\tjustifyContent: 'left',\r\n  }\r\n};\r\n\r\n// START OF EXAMPLE CODE FROM THE DRAFT.JS!!!!!\r\nclass StyleButton extends React.Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.onToggle = (e) => {\r\n\t\t\t//console.log(this.props.style)\r\n\t\t\te.preventDefault();\r\n\t\t\tthis.props.onToggle(this.props.style);\r\n\t\t};\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet className = 'btn btn-outline-primary';\r\n\t\tif (this.props.active) {\r\n\t\t\tclassName += ' active';\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<button className={className} onClick={this.onToggle}>\r\n\t\t\t\t{this.props.label}\r\n\t\t\t</button>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst BLOCK_TYPES = [\r\n\t{label: 'H1', style: 'header-one'},\r\n\t{label: 'H2', style: 'header-two'},\r\n\t{label: 'H3', style: 'header-three'},\r\n\t{label: 'H4', style: 'header-four'},\r\n\t{label: 'H5', style: 'header-five'},\r\n\t{label: 'H6', style: 'header-six'},\r\n\t//{label: 'Blockquote', style: 'blockquote'},\r\n\t{label: 'UL', style: 'unordered-list-item'},\r\n\t{label: 'OL', style: 'ordered-list-item'},\r\n\t//{label: 'Code Block', style: 'code-block'},\r\n];\r\n\r\nconst BlockStyleControls = (props) => {\r\n\tconst {editorState} = props;\r\n\tconst selection = editorState.getSelection();\r\n\tconst blockType = editorState\r\n\t  .getCurrentContent()\r\n\t  .getBlockForKey(selection.getStartKey())\r\n\t  .getType();\r\n\r\n\treturn (\r\n\t\t<div className=\"RichEditor-controls\">\r\n\t\t\t{BLOCK_TYPES.map((type) =>\r\n\t\t\t\t<StyleButton\r\n\t\t\t\t\tkey={type.label}\r\n\t\t\t\t\tactive={type.style === blockType}\r\n\t\t\t\t\tlabel={type.label}\r\n\t\t\t\t\tonToggle={props.onToggle}\r\n\t\t\t\t\tstyle={type.style}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst INLINE_STYLES = [\r\n\t{label: 'Bold', style: 'BOLD'},\r\n\t{label: 'Italic', style: 'ITALIC'},\r\n\t{label: 'Underline', style: 'UNDERLINE'},\r\n\t//{label: 'Monospace', style: 'CODE'},\r\n];\r\n\r\nconst InlineStyleControls = (props) => {\r\n\tconst currentStyle = props.editorState.getCurrentInlineStyle();\r\n\t\r\n\treturn (\r\n\t\t<div className=\"RichEditor-controls\">\r\n\t\t\t{INLINE_STYLES.map((type) =>\r\n\t\t\t\t<StyleButton\r\n\t\t\t\t\tkey={type.label}\r\n\t\t\t\t\tactive={currentStyle.has(type.style)}\r\n\t\t\t\t\tlabel={type.label}\r\n\t\t\t\t\tonToggle={props.onToggle}\r\n\t\t\t\t\tstyle={type.style}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\n// END OF THE EXAMPLE CODE!!!\r\n\r\nconst saveEditorData = () => {\r\n\tStore.set( \"TodayTest\", convertToRaw(this.state.editorState.getCurrentContent()) )\r\n}\r\n\r\nconst loadEditorData = () => {\r\n\tlet loadedEditor = convertFromRaw(Store.get(\"TodayTest\"))\r\n\t//console.log(loadedEditor)\r\n\t\r\n\tthis.setState({\r\n\t\teditorState: EditorState.createWithContent(loadedEditor)\r\n\t})\r\n}\r\n\r\n// This contains the EditorJS code... So lets do it last as I am unsure as of what to do...\r\nconst journalView = (props) => {\r\n\t\r\n\t// Example code... Can I alter this to be more my style?\r\n\t// It works, so its okay for now...\r\n\tconst toggleBlockType = (blockType) => {\r\n\t\tthis.onChange(\r\n\t\t\tRichUtils.toggleBlockType(\r\n\t\t\t\tthis.state.editorState,\r\n\t\t\t\tblockType\r\n\t\t\t)\r\n\t\t);\r\n\t}\r\n\t\r\n\tconst toggleInlineStyle = (inlineStyle) => {\r\n\t\tthis.onChange(\r\n            RichUtils.toggleInlineStyle(\r\n\t\t\t\tthis.state.editorState,\r\n\t\t\t\tinlineStyle\r\n            )\r\n        );\r\n\t}\r\n\t\r\n\tconst handleKeyCommand = (command, editorState) => {\r\n\t\tconst newState = RichUtils.handleKeyCommand(editorState, command);\r\n\r\n\t\tif (newState) {\r\n\t\t\tprops.onChange(newState);\r\n\t\t\treturn 'handled';\r\n\t\t}\r\n\r\n\t\treturn 'not-handled';\r\n\t}\r\n\t\r\n\tlet placeholder = \"\"\r\n\tlet promptType = \"Open Ended\"\r\n\r\n\treturn (\r\n\t\t<div className=\"makeView\">\r\n\t\t\t<div className=\"container\">\r\n\t\t\t\r\n\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t<h4>Writing Today's Journal</h4>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t<h5 className=\"card-title\">Today's Prompt is: {promptType}</h5>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t<BlockStyleControls\r\n\t\t\t\t\t\t\t\t\teditorState={props.editorState}\r\n\t\t\t\t\t\t\t\t\tonToggle={toggleBlockType}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<InlineStyleControls\r\n\t\t\t\t\t\t\t\t\teditorState={props.editorState}\r\n\t\t\t\t\t\t\t\t\tonToggle={toggleInlineStyle}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col-1\">\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t<div style={styles.editor} >\r\n\t\t\t\t\t\t\t\t\t<Editor\r\n\t\t\t\t\t\t\t\t\t  \r\n\t\t\t\t\t\t\t\t\t  editorState={props.editorState}\r\n\t\t\t\t\t\t\t\t\t  onChange={props.onChange}\r\n\t\t\t\t\t\t\t\t\t  handleKeyCommand={handleKeyCommand}\r\n\t\t\t\t\t\t\t\t\t  \r\n\t\t\t\t\t\t\t\t\t  placeholder={placeholder}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col-1\">\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t<button className=\"btn btn-outline-primary\" onClick={props.saveToServer}> Save current Journal entry </button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default withRouter(journalView);","import React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { ButtonGroup, ToggleButton } from 'react-bootstrap';\r\n\r\nimport Store from \"store\"\r\nimport Calendar from 'react-calendar'\r\nimport 'react-calendar/dist/Calendar.css';\r\n\r\nimport { ProgressBar } from 'react-bootstrap';\r\n\r\nimport { Radar, Bar } from 'react-chartjs-2';\r\nimport { testMaxMin, testBarMulti, stackedBarData3Test, stackedBarData2Test, stackedBarData, sentimentBarData } from '../utils';\r\nimport { getRadarEmotionOptions, testBarMultiOptions, stackedBarOptions, sentimentBarOptions } from '../utils';\r\n//import { makeCompanyTestData, makeCompanyTestDataOtherFormat } from \"../utils\";\r\n\r\n// Move all of the functions here to a seperate file, a repository, so that I can fast make layouts sometime\r\n\r\n// This is garunteed\r\nconst AIAspect = [\r\n    { name: 'Emotion', value: 'emotion' },\r\n    { name: 'Sentiment', value: 'sentiment' },\r\n    { name: 'Entities', value: 'entities' },\r\n\t{ name: 'Keywords', value: 'keywords' },\r\n\t//{ name: 'Relations', value: 'relations' },\r\n];\r\n// This is also garunteed...\r\nconst daySet = [\r\n    { name: 'Monday', value: 'mon' },\r\n    { name: 'Tuesday', value: 'tue' },\r\n    { name: 'Wednesday', value: 'wed' },\r\n\t{ name: 'Thursday', value: 'thu' },\r\n\t{ name: 'Friday', value: 'fri' },\r\n\t{ name: 'Saturday', value: 'sat' },\r\n\t{ name: 'Sunday', value: 'sun' },\r\n\t{ name: 'All', value: 'allDay' },\r\n];\r\n\r\n// This is very lean...\r\nconst parseEmotion = (emotionData) => {\r\n\t\r\n\tlet derp = [emotionData.joy, emotionData.anger, emotionData.sadness, emotionData.disgust, emotionData.fear]\r\n\treturn derp;\r\n}\r\n\r\nconst companyViewSummary = (props) => {\r\n\t\t\r\n\tlet tableDisplay = []\r\n\tlet index;\r\n\t\r\n\t// Read the data from our state machine,\r\n\tconst currentPrompt = props.selectedPrompt\r\n\tconst currentDay = props.selectedDay\r\n\tconst currentAspect = props.selectedAspect\r\n\t\r\n\tlet promptList = []\r\n\t\r\n\t// At least this is garunteed to exist\r\n\tlet dayData = props.dataSet[currentDay]\r\n\t// Check to see if the lower states exist...\r\n\t\r\n\tlet displayStats = [];\r\n\tlet promptName = \"not valid prompt\";\r\n\t\r\n\t// This will trip if we have data\r\n\tif (!(dayData === null) && !(dayData === undefined)) {\r\n\t\t\r\n\t\tlet key;\r\n\t\tfor (key in dayData) {\r\n\r\n\t\t\tif ( !(dayData[key].name === undefined) ) {\r\n\t\t\t\tpromptList.push( {name:dayData[key].name, value:key} )\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t// At this point if the array is still empty,we have nothing...\r\n\t\tif (promptList.length === 0) {\r\n\t\t\tpromptList = [{name:\"No Prompts\", value:\"None\"}]\r\n\t\t}\r\n\t\t\r\n\t\t//console.log(currentPrompt)\r\n\t\t//console.log(dayData)\r\n\t\tlet sanityCheck = currentPrompt in dayData\r\n\t\tif (sanityCheck) {\r\n\t\t\t// Switch state this bugger...\r\n\t\t\tpromptName = dayData[currentPrompt][\"name\"]\r\n\t\t\tlet dataSet = dayData[currentPrompt][\"data\"][currentAspect]\r\n\t\t\tlet purity = dayData[currentPrompt][\"responsePurity\"]\r\n\t\t\t\r\n\t\t\tdisplayStats.push(\r\n\t\t\t\t<div className=\"row m-2\" key=\"1\">\r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<div className=\"progressBar\">\r\n\t\t\t\t\t\t\t<ProgressBar now={ purity } label={`${purity}% Response Rate`} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t\t\r\n\t\t\tswitch(currentAspect) {\r\n\t\t\t\tcase \"emotion\":\r\n\t\t\t\t\tlet emoMax = parseEmotion( dataSet.max )\r\n\t\t\t\t\tlet emoAve = parseEmotion( dataSet.ave )\r\n\t\t\t\t\tlet emoMin = parseEmotion( dataSet.min )\r\n\t\t\t\t\t\r\n\t\t\t\t\tconst dataDocumentEmo = testMaxMin( emoMax, emoAve, emoMin )\r\n\t\t\t\t\tconst radarOptions = getRadarEmotionOptions()\r\n\t\t\t\t\t\r\n\t\t\t\t\tlet emoThresh = parseEmotion( dataSet.threshold )\r\n\t\t\t\t\tconst dataBar = testBarMulti( emoThresh )\r\n\t\t\t\t\tconst barOptions = testBarMultiOptions()\r\n\t\t\t\t\t\r\n\t\t\t\t\tdisplayStats.push(\r\n\t\t\t\t\t\t<div className=\"row m-2\" key=\"2\">\r\n\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t\tAverages + Max and min?\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t\t<Radar data={dataDocumentEmo} options={radarOptions} />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t\t\"How many have hit this threshold\"?\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t\t<Bar data={dataBar} options={barOptions} />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)\r\n\t\t\t\t\t\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'sentiment':\r\n\t\t\t\t\r\n\t\t\t\t\tconst dataBarStack = stackedBarData( [dataSet.min], [dataSet.ave], [dataSet.max] )\r\n\t\t\t\t\tconst barStackOptions = stackedBarOptions()\r\n\t\t\t\t\t\r\n\t\t\t\t\tlet dataTresh = [dataSet.thresholdPos, dataSet.thresholdNeg]\r\n\t\t\t\t\tconst dataBarNorm = sentimentBarData( dataTresh )\r\n\t\t\t\t\tconst barOptionsNorm = sentimentBarOptions()\r\n\t\t\t\t\r\n\t\t\t\t\tdisplayStats.push(\r\n\t\t\t\t\t\t<div className=\"row m-2\" key=\"2\">\r\n\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t\tSentiment Values\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t\t<Bar data={dataBarStack} options={barStackOptions} />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t\t\"How many have hit this threshold\"?\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t\t<Bar data={dataBarNorm} options={barOptionsNorm} />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)\r\n\t\t\t\t\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'entities':\r\n\t\t\t\t\r\n\t\t\t\t\t//console.log(dataSet)\r\n\t\t\t\t\r\n\t\t\t\t\tfor (index in dataSet) {\r\n\t\t\t\t\t\tlet entity = dataSet[index]\r\n\t\t\t\t\t\t//console.log(entity)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tlet emoMax = parseEmotion( entity.emotion.max )\r\n\t\t\t\t\t\tlet emoAve = parseEmotion( entity.emotion.ave )\r\n\t\t\t\t\t\tlet emoMin = parseEmotion( entity.emotion.min )\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tlet emoData = testMaxMin( emoMax, emoAve, emoMin )\r\n\t\t\t\t\t\tlet emoOptions = getRadarEmotionOptions()\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tconst dataEntSent = stackedBarData3Test( \r\n\t\t\t\t\t\t\t[entity.confidence.min, entity.relevance.min, entity.sentiment.min],\r\n\t\t\t\t\t\t\t[entity.confidence.ave, entity.relevance.ave, entity.sentiment.ave],\r\n\t\t\t\t\t\t\t[entity.confidence.max, entity.relevance.max, entity.sentiment.max],\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\tconst dataEntOptions = stackedBarOptions()\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\ttableDisplay.push(\r\n\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t<th scope=\"row\">{entity.text}</th>\r\n\t\t\t\t\t\t\t\t<td>{entity.type}</td>\r\n\t\t\t\t\t\t\t\t<td>{entity.count}</td>\r\n\t\t\t\t\t\t\t\t<td colSpan=\"3\"><Bar data={dataEntSent} options={dataEntOptions} /></td>\r\n\t\t\t\t\t\t\t\t<td><Radar data={emoData} options={emoOptions} /></td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tdisplayStats.push(\r\n\t\t\t\t\t\t<table className=\"table\" key=\"2\">\r\n\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"col\">Name</th>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"col\">Type</th>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"col\">#Appearances</th>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"col\">Confidence</th>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"col\">Relevance</th>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"col\">Sentiment</th>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"col\">Emotion</th>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t{tableDisplay}\r\n\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t</table>\r\n\t\t\t\t\t)\r\n\t\t\t\t\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'keywords':\r\n\t\t\t\t\r\n\t\t\t\t\t//console.log(dataSet)\r\n\t\t\t\t\t\r\n\t\t\t\t\tfor (index in dataSet) {\r\n\t\t\t\t\t\tlet keyData = dataSet[index]\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t//const dataKeySent = stackedBarData( [keyData.sentiment.min], [keyData.sentiment.ave], [keyData.sentiment.max] )\r\n\t\t\t\t\t\t//const dataKeyOptions = stackedBarOptions()\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tlet emoMax = parseEmotion( keyData.emotion.max )\r\n\t\t\t\t\t\tlet emoAve = parseEmotion( keyData.emotion.ave )\r\n\t\t\t\t\t\tlet emoMin = parseEmotion( keyData.emotion.min )\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tconst dataRadar = testMaxMin( emoMax, emoAve, emoMin )\r\n\t\t\t\t\t\tconst dataRadarOptions = getRadarEmotionOptions()\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tconst dataKeySent = stackedBarData2Test(\r\n\t\t\t\t\t\t\t[keyData.relevance.min, keyData.sentiment.min], \r\n\t\t\t\t\t\t\t[keyData.relevance.ave, keyData.sentiment.ave], \r\n\t\t\t\t\t\t\t[keyData.relevance.max, keyData.sentiment.max] \r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\tconst dataKeyOptions = stackedBarOptions()\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\ttableDisplay.push(\r\n\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t<th scope=\"row\">{keyData.text}</th>\r\n\t\t\t\t\t\t\t\t<td>{keyData.count}</td>\r\n\t\t\t\t\t\t\t\t<td colSpan=\"2\"><Bar data={dataKeySent} options={dataKeyOptions} /></td>\r\n\t\t\t\t\t\t\t\t<td><Radar data={dataRadar} options={dataRadarOptions} /></td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\tdisplayStats.push(\r\n\t\t\t\t\t\t<table className=\"table\" key=\"2\">\r\n\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"col\">Name</th>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"col\">#Appearances</th>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"col\">Relevance Score</th>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"col\">Sentiment</th>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"col\">Emotion</th>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t{tableDisplay}\r\n\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t</table>\r\n\t\t\t\t\t)\r\n\t\t\t\t\t\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'relations':\r\n\t\t\t\t\r\n\t\t\t\t\t//console.log(dataSet)\r\n\t\t\t\t\t\r\n\t\t\t\t\tfor (index in dataSet) {\r\n\t\t\t\t\t\tlet relData = dataSet[index]\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tconst scoreData = stackedBarData( [relData.score.min], [relData.score.ave], [relData.score.max] )\r\n\t\t\t\t\t\tconst scoreOptions = sentimentBarOptions()\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\ttableDisplay.push(\r\n\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t<th scope=\"row\">{relData.count}</th>\r\n\t\t\t\t\t\t\t\t<td>{relData.arguments[0].text}</td>\r\n\t\t\t\t\t\t\t\t<td>{relData.type}</td>\r\n\t\t\t\t\t\t\t\t<td>{relData.arguments[1].text}</td>\r\n\t\t\t\t\t\t\t\t<td style={{width:\"30%\"}}><Bar data={scoreData} options={scoreOptions} /></td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\tdisplayStats.push(\r\n\t\t\t\t\t\t<table className=\"table\" key=\"2\">\r\n\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"col\">#Appearances</th>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"col\">Actor</th>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"col\">Action</th>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"col\">Target</th>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"col\">Score</th>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t{tableDisplay}\r\n\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t</table>\r\n\t\t\t\t\t)\r\n\t\t\t\t\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tconsole.log(\"Invalid AI selection somehow\")\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\telse {\r\n\t\t// There was NO DATA in the day here, so we have to display nothing...\r\n\t\tpromptList = [{name:\"No Prompts\", value:\"None\"}]\r\n\t}\r\n\t\r\n\tconst tileClassName = ({ date, view }) => {\r\n\t\r\n\t\t// Add class to tiles in month view only\r\n\t\tif (view === 'month') {\r\n\t\t\t\r\n\t\t\tconst checkDate = date.getFullYear()+\"-\"+date.getMonth()+\"-\"+date.getDate()\r\n\r\n\t\t\t// Check if a date React-Calendar wants to check is on the list of dates to add class to\r\n\t\t\tconst hasSummary = props.validSummaryDates.find( element => element === checkDate)\r\n\t\t\t\r\n\t\t\tif (hasSummary) {\r\n\t\t\t\treturn 'btn btn-success'\r\n\t\t\t} else {\r\n\t\t\t\t//return 'btn btn-outline-dark'\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\t\r\n\tlet messageLine1 = \"Showing Company Summary for: \" + props.currentCompany\r\n\tlet messageLine2 = \"For week of: \" + props.anchorDate\r\n\t\r\n\treturn (\r\n\t\t<div className=\"companyView\">\r\n\t\t\t<div className=\"container\">\r\n\t\t\t\t\r\n\t\t\t\t<div className=\"row m-2\">\r\n\t\t\t\t\t<div className=\"col-lg-3 m-2\">\t\t\t\t\t\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<Calendar \r\n\t\t\t\t\t\t\t\tonChange={props.pickDate}\r\n\t\t\t\t\t\t\t\tvalue={props.currentDate}\r\n\t\t\t\t\t\t\t\ttileClassName={tileClassName}\r\n\r\n\t\t\t\t\t\t\t\tminDetail={'year'}\r\n\t\t\t\t\t\t\t\tmaxDetail={'month'}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col m-2\">\t\t\r\n\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t<div>{messageLine1}</div>\r\n\t\t\t\t\t\t\t\t<div>{messageLine2}</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t<div className=\"row m-2\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t<ButtonGroup toggle>\r\n\t\t\t\t\t\t\t\t\t\t\t{daySet.map((radio, idx) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<ToggleButton\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey={idx}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"radio\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"radio\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={radio.value}\r\n\t\t\t\t\t\t\t\t\t\t\t\tchecked={props.selectedDay === radio.value}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={props.setDay}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{radio.name}\r\n\t\t\t\t\t\t\t\t\t\t\t</ToggleButton>\r\n\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t</ButtonGroup>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<div className=\"row m-2\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t<ButtonGroup toggle>\r\n\t\t\t\t\t\t\t\t\t\t\t{promptList.map((radio, idx) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<ToggleButton\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey={idx}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"radio\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"radio\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={radio.value}\r\n\t\t\t\t\t\t\t\t\t\t\t\tchecked={props.selectedPrompt === radio.value}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={props.setPrompt}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{radio.name}\r\n\t\t\t\t\t\t\t\t\t\t\t</ToggleButton>\r\n\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t</ButtonGroup>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<div className=\"row m-2\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t<ButtonGroup toggle>\r\n\t\t\t\t\t\t\t\t\t\t\t{AIAspect.map((radio, idx) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<ToggleButton\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey={idx}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"radio\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"info\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"radio\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={radio.value}\r\n\t\t\t\t\t\t\t\t\t\t\t\tchecked={props.selectedAspect === radio.value}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={props.setAI}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{radio.name}\r\n\t\t\t\t\t\t\t\t\t\t\t</ToggleButton>\r\n\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t</ButtonGroup>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t<div>Showing Data for prompt: {promptName}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t{displayStats}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<div className=\"row  my-2\">\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default withRouter(companyViewSummary);","import React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nconst sorter = [\"Public\", \"Private\"]\r\n\r\nclass companySettings extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n        super(props);\r\n\t\t\r\n\t\tconst today = new Date()\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tcurrentDate: today,\r\n\t\t\t\r\n\t\t\tmessages: \"Hello, there is nothing yet here...\",\r\n\t\t\t\r\n\t\t\tdropMessage: 'Select Company=>',\r\n\t\t\tcurrentCompany: \"None\",\r\n\t\t\r\n\t\t\tcompanyList: [],\r\n\t\t\t\r\n\t\t\tdataCompanyName: 'No Company Selected',\r\n\t\t\tdataCompanyPriv: 'No Company Selected',\r\n\t\t\t\r\n\t\t\tdataCompanySendTo: [],\r\n\t\t\tdataCompanyViewing: [],\r\n\t\t\tdataCompanyGoverned: [],\r\n\t\t\t\r\n\t\t\tdataCompanySendToAdded: [],\r\n\t\t\tdataCompanyViewingAdded: [],\r\n\t\t\tdataCompanyGovernedAdded: [],\r\n\t\t\t\r\n\t\t\tdataCompanySendToDeleted: [],\r\n\t\t\tdataCompanyViewingDeleted: [],\r\n\t\t\tdataCompanyGovernedDeleted: [],\r\n\t\t\t\r\n\t\t\tsearchSend: \"\",\r\n\t\t\tsearchView: \"\",\r\n\t\t\tsearchGov: \"\",\r\n\t\t\taddingEmail: \"\",\r\n\t\t\t\r\n\t\t\tclickedList: \"\",\r\n\t\t\tclickedIndex: -1,\r\n        };\r\n\t\t\r\n\t\t\r\n\t};\r\n\t\r\n\tpostNewCompanyData = () => {\r\n\t\t\r\n\t\t// Verify we have a proper company before we do anyting...\r\n\t\tif (this.state.currentCompany === \"None\") {\r\n\t\t\tconsole.log(\"No company selected\")\r\n\t\t\treturn false\r\n\t\t}\r\n\t\t\r\n\t\tconst config = {\r\n\t\t\theaders: { Authorization: `JWT ${this.props.authToken}` }\r\n\t\t};\r\n\t\t\r\n\t\tconst data = {\r\n\t\t\t// These will be checked by the permissions on the other end...\r\n\t\t\t//requestUser: \"\",\r\n\t\t\tcompanyName: this.state.currentCompany,\r\n\t\t\tcompanyReName: this.state.dataCompanyName,\r\n\t\t\t\r\n\t\t\tsummaryViewAccess: this.state.dataCompanyPriv,\r\n\t\t\t\r\n\t\t\tresultsSendTargets: this.state.dataCompanySendTo,\r\n\t\t\tprivateViewingPerms: this.state.dataCompanyViewing,\r\n\t\t\tgovernedUsers: this.state.dataCompanyGoverned,\r\n\t\t\t\r\n\t\t};\r\n\t\t\r\n\t\t// This will overwrite stuff, hand ready for the deletions\r\n\t\t// But HOW do I handle the addings?\r\n\t\taxios.post(this.props.APIHost +\"/postCompanyData/\", data, config )\r\n\t\t.then( res => { \r\n\t\t\r\n\t\t\t//console.log(res)\r\n\t\t\tconsole.log(\"Success\")\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tdataCompanySendToDeleted: [],\r\n\t\t\t\tdataCompanyViewingDeleted: [],\r\n\t\t\t\tdataCompanyGovernedDeleted: [],\r\n\t\t\t})\r\n\t\t\t\r\n\t\t})\r\n\t\t.catch( err => {\r\n\t\t\t// Change this depending on the error...\r\n\t\t\tif (err.response.status === 401) {\r\n\t\t\t\tthis.props.forceLogout()\r\n\t\t\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tgetCompanyList = () => {\r\n\t\t\r\n\t\tconst config = {\r\n\t\t\theaders: { Authorization: `JWT ${this.props.authToken}` }\r\n\t\t};\r\n\t\t\r\n\t\t// This is bad, as it gets ALL companies...\r\n\t\t// But we SHOULD save it with the permissions...\r\n\t\t// So I need to make this better...\r\n\t\taxios.get(this.props.APIHost +\"/getUsersCompanies\", config)\r\n\t\t.then( \tres => {\r\n\t\t\t\t// Should respond with a 1 length thing\r\n\t\t\t\tif (res.data.length > 0) {\r\n\t\t\t\t\t// Normal behaviour\r\n\t\t\t\t\tconsole.log(\"Got the list of companies\")\r\n\t\t\t\t\t//console.log(res)\r\n\t\t\t\t\t\r\n\t\t\t\t\t// Companies this user is 'owner' of\r\n\t\t\t\t\t//console.log(res.data[0].companyOwner)\r\n\t\t\t\t\t\r\n\t\t\t\t\t// Merge these three into a single set for viewing for now?\r\n\t\t\t\t\tlet adding = []\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar index;\r\n\t\t\t\t\tfor (index in res.data[0].companyOwner) {\r\n\t\t\t\t\t\tlet name = res.data[0].companyOwner[index]\r\n\t\t\t\t\t\tif ( !adding.includes(name) ) {\r\n\t\t\t\t\t\t\tadding.push(name)\r\n\t\t\t\t\t\t\t//console.log(name)\r\n\t\t\t\t\t\t}\t\t\t\t\t\t\t\r\n\t\t\t\t\t}\t\t\t\t\t\r\n\t\t\t\t\tthis.setState({companyList: adding})\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\t// This should not trigger\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch( err => {\r\n\t\t\t\tif (err.response.status === 401) {\r\n\t\t\t\t\tthis.props.forceLogout()\r\n\t\t\t\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\t\r\n\tgetCompanyData = (targetCompany) => {\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: { Authorization: `JWT ${this.props.authToken}` }\r\n\t\t};\r\n\t\t\r\n\t\taxios.get(this.props.APIHost +\"/getCompanyData?reqComp=\"+targetCompany+\"\", config)\r\n\t\t.then( \tres => {\r\n\t\t\t\t// Should respond with a 1 length thing\r\n\t\t\t\tif (res.data.length > 0) {\r\n\t\t\t\t\t// Normal behaviour\r\n\t\t\t\t\tconsole.log(\"Got the company data!\")\r\n\t\t\t\t\t//console.log(res)\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tdataCompanyName: res.data[0].companyName,\r\n\t\t\t\t\t\tdataCompanyPriv: sorter[res.data[0].summaryViewAccess],\r\n\t\t\t\t\t\tdataCompanySendTo: res.data[0].resultsSendTargets,\r\n\t\t\t\t\t\tdataCompanyViewing: res.data[0].privateViewingPerms,\r\n\t\t\t\t\t\tdataCompanyGoverned: res.data[0].governedUsers,\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\t// This should not trigger\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch( err => {\r\n\t\t\t\tconsole.log(err)\r\n\t\t\t\tif (err.response.status === 401) {\r\n\t\t\t\t\tthis.props.forceLogout()\r\n\t\t\t\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\t\r\n\tsendChange = (event) => {\r\n\t\tthis.setState( {searchSend: event.target.value} )\r\n\t}\r\n\tviewChange = (event) => {\r\n\t\tthis.setState( {searchView: event.target.value} )\r\n\t}\r\n\tgovChange = (event) => {\r\n\t\tthis.setState( {searchGov: event.target.value} )\r\n\t}\r\n\t\r\n\temailFieldChange = (event) => {\r\n\t\tthis.setState( {addingEmail: event.target.value} )\r\n\t}\r\n\t\r\n\ttriggerCompanySwap = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tdropMessage: event.target.value, \r\n\t\t\tcurrentCompany: event.target.value\r\n\t\t})\r\n\t\t\r\n\t\tthis.getCompanyData(event.target.value)\r\n\t\t\r\n\t}\r\n\t\r\n\ttriggerModal = (event) => {\r\n\t\t\r\n\t\t//console.log(event.target.parentElement.id)\r\n\t\t//console.log(event.target.parentElement.parentElement.id)\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tclickedList: event.target.parentElement.parentElement.id,\r\n\t\t\tclickedIndex: event.target.parentElement.id,\r\n\t\t})\r\n\t}\r\n\t\r\n\ttriggerStopAdd = (event) => {\r\n\t\t\r\n\t\tlet subset = []\r\n\t\tif (event.target.parentElement.parentElement.id === \"sendUsers\") {\r\n\t\t\tsubset = this.state.dataCompanySendToAdded\r\n\t\t\tsubset.splice( event.target.parentElement.id, 1 )\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tdataCompanySendToAdded: subset\r\n\t\t\t})\r\n\t\t}\r\n\t\telse if (event.target.parentElement.parentElement.id === \"viewUsers\") {\r\n\t\t\tsubset = this.state.dataCompanyViewingAdded\r\n\t\t\tsubset.splice( event.target.parentElement.id, 1 )\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tdataCompanyViewingAdded: subset\r\n\t\t\t})\r\n\t\t}\r\n\t\telse if (event.target.parentElement.parentElement.id === \"govUsers\") {\r\n\t\t\tsubset = this.state.dataCompanyGovernedAdded\r\n\t\t\tsubset.splice( event.target.parentElement.id, 1 )\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tdataCompanyGovernedAdded: subset\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\t\r\n\ttriggerReAdd = (event) => {\r\n\t\t\r\n\t\tlet subset = []\r\n\t\tif (event.target.parentElement.parentElement.id === \"sendUsers\") {\r\n\t\t\tsubset = this.state.dataCompanySendToDeleted\r\n\t\t\tlet reAdd = this.state.dataCompanySendTo\r\n\t\t\treAdd.push( subset.splice( event.target.parentElement.id, 1 )[0] )\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tdataCompanySendTo: reAdd,\r\n\t\t\t\tdataCompanySendToDeleted: subset\r\n\t\t\t})\r\n\t\t}\r\n\t\telse if (event.target.parentElement.parentElement.id === \"viewUsers\") {\r\n\t\t\tsubset = this.state.dataCompanyViewingDeleted\r\n\t\t\tlet reAdd = this.state.dataCompanyViewing\r\n\t\t\treAdd.push( subset.splice( event.target.parentElement.id, 1 )[0] )\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tdataCompanyViewing: reAdd,\r\n\t\t\t\tdataCompanyViewingDeleted: subset\r\n\t\t\t})\r\n\t\t}\r\n\t\telse if (event.target.parentElement.parentElement.id === \"govUsers\") {\r\n\t\t\tsubset = this.state.dataCompanyGovernedDeleted\r\n\t\t\tlet reAdd = this.state.dataCompanyGoverned\r\n\t\t\treAdd.push( subset.splice( event.target.parentElement.id, 1 )[0] )\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tdataCompanyGoverned: reAdd,\r\n\t\t\t\tdataCompanyGovernedDeleted: subset\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\t\r\n\tmodelAddEmail = (event) => {\r\n\t\t//console.log( this.state.addingEmail )\r\n\t\t\r\n\t\t// Reusing a function, so this sits in a slightly wierdly named variable\r\n\t\t//console.log( this.state.clickedIndex )\r\n\t\t\r\n\t\tlet newArray = []\r\n\t\tif (this.state.clickedIndex === \"sendUsers\") {\r\n\t\t\tnewArray = this.state.dataCompanySendToAdded\r\n\t\t\tnewArray.push( this.state.addingEmail )\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tdataCompanySendToAdded: newArray,\r\n\t\t\t})\r\n\t\t}\r\n\t\telse if (this.state.clickedIndex === \"viewUsers\") {\r\n\t\t\tnewArray = this.state.dataCompanyViewingAdded\r\n\t\t\tnewArray.push( this.state.addingEmail )\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tdataCompanyViewingAdded: newArray,\r\n\t\t\t})\r\n\t\t}\r\n\t\telse if (this.state.clickedIndex === \"govUsers\") {\r\n\t\t\tnewArray = this.state.dataCompanyGovernedAdded\r\n\t\t\tnewArray.push( this.state.addingEmail )\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tdataCompanyGovernedAdded: newArray,\r\n\t\t\t})\r\n\t\t}\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\taddingEmail: \"\",\r\n\t\t})\r\n\t}\r\n\t\r\n\tmodelAcceptDelete = (event) => {\r\n\t\t\r\n\t\tlet subset = []\r\n\t\tif (this.state.clickedList === \"sendUsers\") {\r\n\t\t\tsubset = this.state.dataCompanySendTo\r\n\t\t\t\r\n\t\t\tlet deleteQueue = this.state.dataCompanySendToDeleted\r\n\t\t\tdeleteQueue.push( subset.splice( this.state.clickedIndex, 1 )[0] )\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tdataCompanySendTo: subset,\r\n\t\t\t\tdataCompanySendToDeleted: deleteQueue\r\n\t\t\t})\r\n\t\t}\r\n\t\telse if (this.state.clickedList === \"viewUsers\") {\r\n\t\t\tsubset = this.state.dataCompanyViewing\r\n\t\t\t\r\n\t\t\tlet deleteQueue = this.state.dataCompanyViewingDeleted\r\n\t\t\tdeleteQueue.push( subset.splice( this.state.clickedIndex, 1 )[0] )\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tdataCompanyViewing: subset,\r\n\t\t\t\tdataCompanyViewingDeleted: deleteQueue\r\n\t\t\t})\r\n\t\t}\r\n\t\telse if (this.state.clickedList === \"govUsers\") {\r\n\t\t\tsubset = this.state.dataCompanyGoverned\r\n\t\t\t\r\n\t\t\tlet deleteQueue = this.state.dataCompanyGovernedDeleted\r\n\t\t\tdeleteQueue.push( subset.splice( this.state.clickedIndex, 1 )[0] )\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tdataCompanyGoverned: subset,\r\n\t\t\t\tdataCompanyGovernedDeleted: deleteQueue\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\t\r\n\t\tvar dropDownInternal = []\r\n\t\t\r\n\t\tlet index;\r\n\t\tfor (index in this.state.companyList) {\r\n\t\t\tlet comp = this.state.companyList[index]\r\n\t\t\tdropDownInternal.push( \r\n\t\t\t\t<button className=\"dropdown-item\" key={index} onClick={this.triggerCompanySwap} value={ comp }>\r\n\t\t\t\t\t{comp}\r\n\t\t\t\t</button> \r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\t// Send To Set\r\n\t\tlet companySend = []\r\n\t\tfor (index in this.state.dataCompanySendTo) {\r\n\t\t\tlet userSet = this.state.dataCompanySendTo[index]\r\n\t\t\t\r\n\t\t\tif (userSet !== undefined) {\r\n\t\t\t\t\r\n\t\t\t\tif ( userSet.indexOf(this.state.searchSend) > -1) {\r\n\t\t\t\t\r\n\t\t\t\t\tcompanySend.push(\r\n\t\t\t\t\t\t<li key={index} id={index} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t\t\t{userSet}\r\n\t\t\t\t\t\t\t<button className=\"btn btn-sm btn-outline-danger\" data-toggle=\"modal\" onClick={this.triggerModal} data-target=\"#deleteConfirm\">x</button>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t)\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tlet companySendAdd = []\r\n\t\tfor (index in this.state.dataCompanySendToAdded) {\r\n\t\t\tlet userSet = this.state.dataCompanySendToAdded[index]\r\n\t\t\t\r\n\t\t\tcompanySendAdd.push(\r\n\t\t\t\t<li key={index} id={index} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t{userSet}\r\n\t\t\t\t\t<button className=\"btn btn-sm btn-outline-danger\" onClick={this.triggerStopAdd}>x</button>\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\tlet companySendDelete = []\r\n\t\tfor (index in this.state.dataCompanySendToDeleted) {\r\n\t\t\tlet userSet = this.state.dataCompanySendToDeleted[index]\r\n\t\t\t\r\n\t\t\tcompanySendDelete.push(\r\n\t\t\t\t<li key={index} id={index} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t{userSet}\r\n\t\t\t\t\t<button className=\"btn btn-sm btn-outline-success\" onClick={this.triggerReAdd}>+</button>\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\t// Viewing Permission Sets\r\n\t\tlet companyViewing = []\r\n\t\tfor (index in this.state.dataCompanyViewing) {\r\n\t\t\tlet userSet = this.state.dataCompanyViewing[index]\r\n\t\t\t\r\n\t\t\tif ( userSet.indexOf(this.state.searchView) > -1) {\r\n\t\t\t\r\n\t\t\t\tcompanyViewing.push(\r\n\t\t\t\t\t<li key={index} id={index} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t\t{userSet}\r\n\t\t\t\t\t\t<button className=\"btn btn-sm btn-outline-danger\" data-toggle=\"modal\" onClick={this.triggerModal} data-target=\"#deleteConfirm\">x</button>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tlet companyViewingAdd = []\r\n\t\tfor (index in this.state.dataCompanyViewingAdded) {\r\n\t\t\tlet userSet = this.state.dataCompanyViewingAdded[index]\r\n\t\t\t\r\n\t\t\tcompanyViewingAdd.push(\r\n\t\t\t\t<li key={index} id={index} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t{userSet}\r\n\t\t\t\t\t<button className=\"btn btn-sm btn-outline-danger\" onClick={this.triggerStopAdd}>x</button>\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\tlet companyViewingDelete = []\r\n\t\tfor (index in this.state.dataCompanyViewingDeleted) {\r\n\t\t\tlet userSet = this.state.dataCompanyViewingDeleted[index]\r\n\t\t\t\r\n\t\t\tcompanyViewingDelete.push(\r\n\t\t\t\t<li key={index} id={index} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t{userSet}\r\n\t\t\t\t\t<button className=\"btn btn-sm btn-outline-success\" onClick={this.triggerReAdd}>+</button>\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\t// Goverened Users List\r\n\t\tlet governedList = []\r\n\t\tfor (index in this.state.dataCompanyGoverned) {\r\n\t\t\tlet userSet = this.state.dataCompanyGoverned[index]\r\n\t\t\t\r\n\t\t\tif ( userSet.indexOf(this.state.searchGov) > -1) {\r\n\t\t\t\r\n\t\t\t\tgovernedList.push(\r\n\t\t\t\t\t<li key={index} id={index} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t\t{userSet}\r\n\t\t\t\t\t\t<button className=\"btn btn-sm btn-outline-danger\" data-toggle=\"modal\" onClick={this.triggerModal} data-target=\"#deleteConfirm\">x</button>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tlet companyGovernedAdd = []\r\n\t\tfor (index in this.state.dataCompanyGovernedAdded) {\r\n\t\t\tlet userSet = this.state.dataCompanyGovernedAdded[index]\r\n\t\t\t\r\n\t\t\tcompanyGovernedAdd.push(\r\n\t\t\t\t<li key={index} id={index} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t{userSet}\r\n\t\t\t\t\t<button className=\"btn btn-sm btn-outline-danger\" onClick={this.triggerStopAdd}>x</button>\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\tlet companyGovernedDelete = []\r\n\t\tfor (index in this.state.dataCompanyGovernedDeleted) {\r\n\t\t\tlet userSet = this.state.dataCompanyGovernedDeleted[index]\r\n\t\t\t\r\n\t\t\tcompanyGovernedDelete.push(\r\n\t\t\t\t<li key={index} id={index} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t{userSet}\r\n\t\t\t\t\t<button className=\"btn btn-sm btn-outline-success\" onClick={this.triggerReAdd}>+</button>\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\t// There is probobly a better way to do this... But the model stuff may work if it is filled out this way\r\n\t\tlet selectedUser = \"None\"\r\n\t\tif (this.state.clickedList === \"sendUsers\") {\r\n\t\t\tselectedUser = this.state.dataCompanySendTo[this.state.clickedIndex]\r\n\t\t}\r\n\t\telse if (this.state.clickedList === \"viewUsers\") {\r\n\t\t\tselectedUser = this.state.dataCompanyViewing[this.state.clickedIndex]\r\n\t\t}\r\n\t\telse if (this.state.clickedList === \"govUsers\") {\r\n\t\t\tselectedUser = this.state.dataCompanyGoverned[this.state.clickedIndex]\r\n\t\t}\r\n\t\t\r\n\t\t// Technically we can just use currentCompany but, hey! To error check I am going to use the response...\r\n\t\treturn (\r\n\t\t\t<div className=\"companySett\">\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"dropdown\">\r\n\t\t\t\t\t\t\t  <button className=\"btn btn-secondary dropdown-toggle\" type=\"button\" id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n\t\t\t\t\t\t\t\t{this.state.dropMessage}\r\n\t\t\t\t\t\t\t  </button>\r\n\t\t\t\t\t\t\t  <div className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\r\n\t\t\t\t\t\t\t\t{dropDownInternal}\r\n\t\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<button className=\"btn btn-primary\" onClick={this.getCompanyList}> Populate Company List </button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<button className=\"btn btn-primary\" onClick={this.postNewCompanyData}>Save Changes</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\tEdit Company name\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"card-text\">\r\n\t\t\t\t\t\t\t\t\t\t{this.state.dataCompanyName}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\tPrivate/Publix\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"card-text\">\r\n\t\t\t\t\t\t\t\t\t\t{this.state.dataCompanyPriv}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\tUsers Notified:\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<input className=\"form-control\" id=\"\" type=\"text\" onChange={this.sendChange} placeholder=\"Search...\"/>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<ul className=\"card-text list-group\" id=\"sendUsers\">\r\n\t\t\t\t\t\t\t\t\t\t{companySend}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<button type=\"button\" className=\"list-group-item list-group-item-action active\" data-toggle=\"modal\" onClick={this.triggerModal} data-target=\"#addNewUsers\">\r\n\t\t\t\t\t\t\t\t\t\t\tAdd user +\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<li key={\"rem\"} id={\"remLabel\"} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t\t\t\t\t\t\tUsers To Remove:\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t{companySendDelete}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<li key={\"add\"} id={\"addLabel\"} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t\t\t\t\t\t\tEmails To Add:\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t{companySendAdd}\r\n\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\tViewing Privilages:\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<input className=\"form-control\" id=\"\" type=\"text\" onChange={this.viewChange} placeholder=\"Search...\"/>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<ul className=\"card-text list-group\"  id=\"viewUsers\">\r\n\t\t\t\t\t\t\t\t\t\t{companyViewing}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<button type=\"button\" className=\"list-group-item list-group-item-action active\" data-toggle=\"modal\" onClick={this.triggerModal} data-target=\"#addNewUsers\">\r\n\t\t\t\t\t\t\t\t\t\t\tAdd user +\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<li key={\"rem\"} id={\"remLabel\"} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t\t\t\t\t\t\tUsers To Remove:\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t{companyViewingDelete}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<li key={\"add\"} id={\"addLabel\"} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t\t\t\t\t\t\tEmails To Add:\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t{companyViewingAdd}\r\n\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\tTarget Users:\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<input className=\"form-control\" id=\"\" type=\"text\" onChange={this.govChange} placeholder=\"Search...\"/>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<ul className=\"card-text list-group\"  id=\"govUsers\">\r\n\t\t\t\t\t\t\t\t\t\t{governedList}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<button type=\"button\" className=\"list-group-item list-group-item-action active\" data-toggle=\"modal\" onClick={this.triggerModal} data-target=\"#addNewUsers\">\r\n\t\t\t\t\t\t\t\t\t\t\tAdd user +\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<li key={\"rem\"} id={\"remLabel\"} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t\t\t\t\t\t\tUsers To Remove:\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t{companyGovernedDelete}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<li key={\"add\"} id={\"addLabel\"} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t\t\t\t\t\t\tEmails To Add:\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t{companyGovernedAdd}\r\n\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<div className=\"modal fade\" id=\"deleteConfirm\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"deleteConfirmation\" aria-hidden=\"true\">\r\n\t\t\t\t  <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n\t\t\t\t\t<div className=\"modal-content\">\r\n\t\t\t\t\t  <div className=\"modal-header\">\r\n\t\t\t\t\t\t<h5 className=\"modal-title\" id=\"deleteTitleConfirm\">Delete Confirmation</h5>\r\n\t\t\t\t\t\t<button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n\t\t\t\t\t\t  <span aria-hidden=\"true\">&times;</span>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t\t  <div className=\"modal-body\">\r\n\t\t\t\t\t\tAre you SURE you want to delete user: {selectedUser}?\r\n\t\t\t\t\t\tThey will be notified about this change.\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t\t  <div className=\"modal-footer\">\r\n\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-danger\" data-dismiss=\"modal\" onClick={this.modelAcceptDelete}>Yes</button>\r\n\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-primary\" data-dismiss=\"modal\">No</button>\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t  </div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<div className=\"modal fade\" id=\"addNewUsers\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"addNewUsersModal\" aria-hidden=\"true\">\r\n\t\t\t\t  <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n\t\t\t\t\t<div className=\"modal-content\">\r\n\t\t\t\t\t  <div className=\"modal-header\">\r\n\t\t\t\t\t\t<h5 className=\"modal-title\" id=\"deleteTitleConfirm\">Add New User</h5>\r\n\t\t\t\t\t\t<button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n\t\t\t\t\t\t  <span aria-hidden=\"true\">&times;</span>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t\t  <div className=\"modal-body\">\r\n\t\t\t\t\t\tEnter the email of the target user\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t\t  <div className='form-group'>\r\n\t\t\t\t\t\t<label>Email Address</label>\r\n\t\t\t\t\t\t<input type='email' className='form-control' value={this.state.addingEmail} onChange={this.emailFieldChange} placeholder='Enter email' />\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t\t  <div className=\"modal-footer\">\r\n\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-primary\" data-dismiss=\"modal\" onClick={this.modelAddEmail}>Add</button>\r\n\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-danger\" data-dismiss=\"modal\">Cancel</button>\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t  </div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default withRouter(companySettings);","import React from \"react\";\r\n\r\nimport { withRouter } from \"react-router-dom\";\r\n//import { ButtonGroup, ToggleButton } from 'react-bootstrap';\r\n\r\n//import Store from \"store\"\r\n\r\n//import {makeCompanyTestData} from \"../utils\";\r\n\r\n// I honestly dont know what to put in the Free pages yet...\r\n\r\nclass FreePages extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\t\t\t\r\n\t\t\t// hmmmm\r\n\t\t\texample: 0,\r\n        };\r\n\t}\r\n\t\r\n\tbackButton = () => {\r\n\t\tthis.props.history.goBack()\r\n\t}\r\n\t\r\n\t// Rendering this with Bootstrap React.... To see if there is anything really interesting I can do with it\r\n\t// So far it doesnt look all that different \r\n\trender() {\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className=\"freePages\">\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\tNon-Authorized Pages\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(FreePages);","import React from \"react\";\r\n\r\nimport { withRouter } from \"react-router-dom\";\r\n//import { ButtonGroup, ToggleButton } from 'react-bootstrap';\r\n\r\n//import Store from \"store\"\r\n\r\n//import {makeCompanyTestData} from \"../utils\";\r\n\r\n// Then lets start here...With the Signin, and Sign Up pages\r\n\r\nclass AuthPages extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\t\t\t\r\n\t\t\t// hmmmm\r\n\t\t\texample: 0,\r\n        };\r\n\t}\r\n\t\r\n\tbackButton = () => {\r\n\t\tthis.props.history.goBack()\r\n\t}\r\n\t\r\n\t// Rendering this with Bootstrap React.... To see if there is anything really interesting I can do with it\r\n\t// So far it doesnt look all that different \r\n\trender() {\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className=\"authPages\">\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\tAuthorization Pages\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(AuthPages);","import React from \"react\";\r\n\r\nimport { withRouter, Link, Route, Switch } from \"react-router-dom\";\r\n//import { ButtonGroup, ToggleButton } from 'react-bootstrap';\r\n\r\nimport Store from \"store\"\r\n\r\n//SetCompany\r\nimport {ViewJournals, WriteJournals, ViewCompany, EHIDisplay} from \".\";\r\nimport {getJournalDates, getJournalData, getCompanyList, getCompanyValidDates, getCompanySummary, getServerEHIData, saveJournal} from \"../utils\";\r\n\r\nimport { EditorState, convertToRaw,  } from 'draft-js';\r\n//convertFromRaw\r\n\r\nconst DefaultView = (props) => {\r\n\r\n\treturn (\r\n\t\t<div className=\"defaultView\">\r\n\t\t\t<h3>\r\n\t\t\t\tThis page is empty, Select an Action from the side menu!\r\n\t\t\t</h3>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\n// This needs to be changed out as this is now in 2 files....\r\nconst daySet = [\r\n    { name: 'Monday', value: 'mon' },\r\n    { name: 'Tuesday', value: 'tue' },\r\n    { name: 'Wednesday', value: 'wed' },\r\n\t{ name: 'Thursday', value: 'thu' },\r\n\t{ name: 'Friday', value: 'fri' },\r\n\t{ name: 'Saturday', value: 'sat' },\r\n\t{ name: 'Sunday', value: 'sun' },\r\n\t{ name: 'All', value: 'allDay' },\r\n];\r\n\r\nclass ContentPages extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\t\t\t\r\n\t\t\tcurrentDate: new Date(),\r\n\t\t\t\r\n\t\t\t// EHI Page State...\r\n\t\t\tEHIDayTimespan: 3,\r\n\t\t\tEHIWeekTimespan: 3,\r\n\t\t\t\r\n\t\t\tEHIDayLabels: [],\r\n\t\t\tEHIDaySet: [],\r\n\t\t\tEHIWeekLabels: [],\r\n\t\t\tEHIWeekSet: [],\r\n\t\t\t\r\n\t\t\t// Journal Read Page State...\r\n\t\t\tselectedJournalPrompt:\"p1\",\r\n\t\t\tselectedJournalAspect:\"emotion\",\r\n\t\t\t\r\n\t\t\t// Where we storing the data from...\r\n\t\t\t// Should probobly do what I did down there and get set stuff to check for the reload...\r\n\t\t\tselectedJournalData: {},\r\n\t\t\t// If I put the calender in the sidebar, we shall put this here...\r\n\t\t\tvalidJournalDates:[],\r\n\t\t\tvalidJournalScanDates: [],\r\n\t\t\t\r\n\t\t\tjournalMessage: \"Choose a date to view the journal!\",\r\n\t\t\tjournalContent: \"Waiting for content...\",\r\n\t\t\t\r\n\t\t\t// I need to put the content block stuff.......\r\n\t\t\tjournalEditorState: EditorState.createEmpty(),\r\n\t\t\tjournalPlaceholder: \"\",\r\n\t\t\t\r\n\t\t\t// Company Summary View Save State\r\n\t\t\tselectedCompanyDay:\"mon\",\r\n\t\t\tselectedCompanyPrompt:\"p1\",\r\n\t\t\tselectedCompanyAspect:\"emotion\",\r\n\t\t\t\r\n\t\t\tcompanyMessage: \"Choose a date and company to view that summary!\",\r\n\t\t\t\r\n\t\t\t// Company List Stuff... Multiple company related things can use this...\r\n\t\t\tselectedCompany:\"None\",\r\n\t\t\tuserCompanyList:[],\r\n\t\t\t\r\n\t\t\t// Last data obtained for company summary\r\n\t\t\tcurrentCompanyDataName:undefined,\r\n\t\t\tcurrentCompanyDataDate:undefined,\r\n\t\t\tselectedSummaryWeekData: {mon:{},tue:{},wed:{},thu:{},fri:{},sat:{},sun:{},allDay:{}},\r\n\t\t\tvalidCompanySummary:[],\r\n        };\r\n\t}\r\n\t\r\n\t// This will run when this component is loaded...\r\n\tcomponentDidMount = () => {\r\n\t\tthis.getValidJournalDates()\r\n\t\tthis.getUserCompanyList()\r\n\t}\r\n\t\r\n\tcomponentDidUpdate = (prevProps, prevState) => {\r\n\t\t\r\n\t\t// When we SWAP TO the Journal Read menu...\r\n\t\t\r\n\t}\r\n\t\r\n\tchangeJournalContent = (incomingState) => {\r\n\t\tthis.setState({\r\n\t\t\tjournalEditorState:incomingState,\r\n\t\t})\t\r\n\t}\r\n\t\r\n\t// This has to be here due to Props being non-writable...\r\n\tchangeEHIDaydates = (dateRangeChoice) => {\r\n\t\tthis.setState({\r\n\t\t\tEHIDayTimespan:dateRangeChoice\r\n\t\t})\r\n\t}\r\n\tchangeEHIWeekdates = (dateRangeChoice) => {\r\n\t\tthis.setState({\r\n\t\t\tEHIWeekTimespan:dateRangeChoice\r\n\t\t})\r\n\t}\r\n\t\r\n\tflushStorage = () => {\r\n\t\tStore.remove(this.props.currentUser+\"-ValidDates\")\r\n\t\tStore.remove(this.props.currentUser+'-companyList')\r\n\t\tStore.remove(this.props.currentUser+'-'+this.state.currentCompany+'-ValidDates')\r\n\t\tStore.remove(this.props.currentUser+'-'+this.state.selectedCompany+'-EHI')\r\n\t}\r\n\t\r\n\tforceLogout = () => {\r\n\t\t// Gonna do this like this, in case we got something else we wana do on logout...\r\n\t\tthis.props.forceLogout()\r\n\t\tthis.props.history.push(this.props.reRouteTarget);\r\n\t}\r\n\t\r\n\tpostJournal = () => {\r\n\t\t// This may need to be overridden?\r\n\t\tlet inputDate = this.state.currentDate\r\n\t\tlet journalContent = this.state.journalEditorState.getCurrentContent().getPlainText()\r\n\t\tlet richContent = convertToRaw(this.state.journalEditorState.getCurrentContent())\r\n\t\t\r\n\t\tsaveJournal(this.props.APIHost, this.props.authToken, inputDate, journalContent, richContent, this.forceLogout)\r\n\t}\r\n\t\r\n\t// Journal Date Stuff----------------------------------------------------------------------\r\n\tjournalDatesCallback = (incomingJournalDates, incomingJournalAIDates) => {\r\n\t\t\r\n\t\tStore.set(this.props.currentUser+\"-ValidDates\", {\"journalDates\":incomingJournalDates ,\"AIDates\":incomingJournalAIDates})\r\n\t\tthis.setState({\r\n\t\t\tvalidJournalDates: incomingJournalDates,\r\n\t\t\tvalidJournalScanDates: incomingJournalAIDates,\r\n\t\t})\r\n\t}\r\n\tgetValidJournalDates = () => {\r\n\t\t// Check the values...\r\n\t\t//this.state.validJournalDates\r\n\t\t//this.state.validJournalScanDates\r\n\t\t\r\n\t\tconsole.log(\"Running a journal dates check\")\r\n\t\t\r\n\t\t// Check if the user is a valid one... As this is loaded in App.js\r\n\t\tif (!(this.props.currentUser === undefined)) {\t\t\r\n\t\t\t// We have to overwrite it if the data is old though...\r\n\t\t\tlet checkData = Store.get(this.props.currentUser+\"-ValidDates\")\r\n\t\t\tif (checkData === undefined) {\r\n\t\t\t\tconsole.log(\"Valid journal Dates were not in the cookies!\")\r\n\t\t\t\tgetJournalDates(this.props.APIHost, this.props.authToken, this.journalDatesCallback, this.forceLogout)\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.journalDatesCallback(checkData.journalDates, checkData.AIDates)\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tconsole.log(\"Invalid User\")\r\n\t\t\t//this.forceLogout()\r\n\t\t}\r\n\t}\r\n\t\r\n\tjournalDataCallback = (incomingjournalContent, incomingAIData) => {\r\n\t\t\r\n\t\t// I will  have to swap over to the bettern form of content...\r\n\t\tthis.setState({\r\n\t\t\tjournalMessage: \"Showing Journal Entry for: \" + this.state.currentDate.toString(),\r\n\t\t\tjournalContent: incomingjournalContent,\r\n\t\t\tselectedJournalData: incomingAIData,\r\n\t\t})\r\n\t}\r\n\tpickJournalCalenderDate = (selectedDate) => {\r\n\t\tthis.setState({\r\n\t\t\tcurrentDate:selectedDate\r\n\t\t})\r\n\t\t\r\n\t\t// THIS data should not be old\r\n\t\t// But if I DO save the block data, this may get real hairy storage wise...\r\n\t\tlet checkData = Store.get(this.props.currentUser+\"-Journal-\"+selectedDate)\r\n\t\tif (checkData === undefined) {\r\n\t\t\tconsole.log(\"Not in the cookies!\")\r\n\t\t\tgetJournalData(this.props.APIHost, this.props.authToken, selectedDate, this.journalDataCallback, this.forceLogout)\r\n\t\t}\r\n\t\telse {\r\n\t\t\t//this.journalDataCallback(checkData.journalContent, checkData.AIData)\r\n\t\t}\r\n\t}\r\n\t\r\n\t// Company Axios/State stuff---------------------------------------------------------------------\r\n\tcompanyListCallback = (incomingCompanyList) => {\r\n\r\n\t\t//Store.set(this.props.currentUser+'-companyList', {'theList':incomingCompanyList})\r\n\t\tthis.setState({\r\n\t\t\tuserCompanyList: incomingCompanyList,\r\n\t\t})\r\n\t}\r\n\tgetUserCompanyList = () => {\r\n\t\tif (!(this.props.currentUser === undefined)) {\t\r\n\t\t\t// We still have to check for date related reworks...\r\n\t\t\tlet checkData = Store.get(this.props.currentUser+\"-companyList\")\r\n\t\t\tif (checkData === undefined) {\r\n\t\t\t\tconsole.log(\"Company list was not in the cookies!\")\r\n\t\t\t\tgetCompanyList(this.props.APIHost, this.props.authToken, this.companyListCallback, this.forceLogout)\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.companyListCallback(checkData[\"theList\"])\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tcompanyDatesCallback = (incomingDatesList) => {\r\n\t\tStore.set(this.props.currentUser+\"-\"+this.state.selectedCompany+\"-ValidDates\", {'dates':incomingDatesList})\r\n\t\tthis.setState({\r\n\t\t\tvalidCompanySummary: incomingDatesList\r\n\t\t})\r\n\t}\r\n\tgetCompanyValidDates = () => {\r\n\t\tif (!(this.state.selectedCompany === \"None\")) {\r\n\t\t\tlet checkData = Store.get(this.props.currentUser+\"-\"+this.state.selectedCompany+\"-ValidDates\")\r\n\t\t\tif (checkData === undefined) {\r\n\t\t\t\tconsole.log(\"Company dates were not in the cookies\")\r\n\t\t\t\tgetCompanyValidDates(this.props.APIHost, this.props.authToken, this.state.selectedCompany, this.companyDatesCallback, this.forceLogout)\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tconsole.log(\"Company Dates WERE in the coockies!\")\r\n\t\t\t\tthis.companyDatesCallback(checkData[\"dates\"])\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tconsole.log(\"Invalid company!\")\r\n\t\t}\r\n\t}\r\n\t\r\n\tcompanyDataCallback = (incomingDataDict, anchorDate) => {\r\n\t\tStore.set(this.props.currentUser+\"-\"+this.state.selectedCompany+\"-\"+anchorDate+\"Data\", {'data':incomingDataDict})\r\n\t\tthis.setState({\r\n\t\t\tcompanyMessage: \"Showing Summary for: \" + this.state.selectedCompany + \" On: \" + this.state.currentDate.toString(),\r\n\t\t\tselectedSummaryWeekData: incomingDataDict,\r\n\t\t\tcurrentCompanyDataDate: anchorDate,\r\n\t\t\tcurrentCompanyDataName: this.state.selectedCompany,\r\n\t\t})\r\n\t}\r\n\tgetCompanyWeeklySummary = (selectedDate) => {\r\n\t\t// First, we need to check if we clicked in the same week as our currently loaded data...\r\n\t\tlet todayWeekday = (selectedDate.getDay()-1)\r\n\t\tif (todayWeekday < 0) {\r\n\t\t\ttodayWeekday = 6\r\n\t\t}\r\n\t\t\r\n\t\tlet copiedDate = new Date(selectedDate.getTime());\r\n\r\n\t\tcopiedDate.setDate(copiedDate.getDate()-(todayWeekday))\r\n\t\tconst anchorDate = copiedDate.toJSON().split(\"T\")[0]\r\n\t\t\r\n\t\t// if we DID, all we need to do is swap the day we are doing...\r\n\t\tif (this.state.currentCompanyDataName === this.state.selectedCompany && this.state.currentCompanyDataDate === anchorDate) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tselectedCompanyDay: daySet[todayWeekday].value,\r\n\t\t\t})\r\n\t\t}\r\n\t\t// if NOT, then we go get the data, as it is NOT loaded...\r\n\t\telse {\r\n\t\t\tif (!(this.state.selectedCompany === \"None\")) {\r\n\t\t\t\tlet checkData = Store.get(this.props.currentUser+\"-\"+this.state.selectedCompany+\"-\"+anchorDate+\"Data\")\r\n\t\t\t\tif (checkData === undefined) {\r\n\t\t\t\t\tconsole.log(\"Company Summary Data was not in the coockies\")\r\n\t\t\t\t\tgetCompanySummary(this.props.APIHost, this.props.authToken, this.state.selectedCompany, selectedDate, this.companyDataCallback, this.forceLogout)\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tthis.companyDataCallback(checkData[\"data\"], anchorDate)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tconsole.log(\"Invalid company!\")\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tcompanyEHICallback = (incomingEHIDaysLabels, incomingEHIDaysData, incomingEHIWeeksLabels, incomingEHIWeeksData) => {\r\n\t\tStore.set(this.props.currentUser+'-'+this.state.selectedCompany+'-EHI', {'labelsDays':incomingEHIDaysLabels, 'dataDays':incomingEHIDaysData, 'labelsWeeks':incomingEHIWeeksLabels, 'dataWeeks':incomingEHIWeeksData})\r\n\t\tthis.setState({\r\n\t\t\tEHIDayLabels: incomingEHIDaysLabels,\r\n\t\t\tEHIDaySet: incomingEHIDaysData,\r\n\t\t\tEHIWeekLabels: incomingEHIWeeksLabels,\r\n\t\t\tEHIWeekSet: incomingEHIWeeksData,\r\n\t\t})\r\n\t}\r\n\t// EHI Stuff\r\n\tgetCompanyEHIData = () => {\r\n\t\tif (!(this.state.selectedCompany === \"None\")) {\r\n\t\t\tlet checkData = Store.get(this.props.currentUser+'-'+this.state.selectedCompany+'-EHI')\r\n\t\t\t// How am I going to check for redos?\r\n\t\t\tif (checkData === undefined) {\r\n\t\t\t\tconsole.log(\"Company EHI Data was not in the coockies\")\r\n\t\t\t\tgetServerEHIData(this.props.APIHost, this.props.authToken, this.state.selectedCompany, this.companyEHICallback, this.forceLogout)\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.companyEHICallback(checkData[\"labelsDays\"], checkData[\"dataDays\"], checkData[\"labelsWeeks\"], checkData[\"dataWeeks\"])\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tconsole.log(\"Invalid company!\")\r\n\t\t}\r\n\t}\r\n\t\r\n\t// Journal Settings...\r\n\tchangeJournalPrompt = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tselectedJournalPrompt:event.currentTarget.value\r\n\t\t})\r\n\t}\r\n\tchangeJournalAspect = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tselectedJournalAspect:event.currentTarget.value\r\n\t\t})\r\n\t}\r\n\t\r\n\tcompanySelectedChangeCallback = () => {\r\n\t\tthis.getCompanyEHIData()\r\n\t\tthis.getCompanyValidDates()\r\n\t}\r\n\t\r\n\tchangeSelectedCompany = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tselectedCompany:event.currentTarget.value\r\n\t\t}, this.companySelectedChangeCallback );\r\n\t}\r\n\t\r\n\t// Company Settings...\r\n\tchangeCompanyPrompt = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tselectedCompanyPrompt:event.currentTarget.value\r\n\t\t})\r\n\t}\r\n\tchangeCompanyAspect = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tselectedCompanyAspect:event.currentTarget.value\r\n\t\t})\r\n\t}\r\n\tchangeCompanyDay = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tselectedCompanyDay:event.currentTarget.value\r\n\t\t});\r\n\t}\r\n\t\r\n\t// Rendering this with Bootstrap React.... To see if there is anything really interesting I can do with it\r\n\t// So far it doesnt look all that different \r\n\trender() {\r\n\t\t\r\n\t\tlet dropMessage = \"Select Company =>\"\r\n\t\tif (!(this.state.selectedCompany === \"None\")) {\r\n\t\t\tdropMessage = this.state.selectedCompany\r\n\t\t}\r\n\t\t\r\n\t\t// I should move this out into the Content Pages Core...\r\n\t\tlet index;\r\n\t\tvar dropDownInternal = []\r\n\t\t\r\n\t\tfor (index in this.state.userCompanyList) {\r\n\t\t\tlet comp = this.state.userCompanyList[index]\r\n\t\t\tdropDownInternal.push( \r\n\t\t\t\t<button className=\"dropdown-item\" key={index} onClick={this.changeSelectedCompany} value={ comp }>\r\n\t\t\t\t\t{comp}\r\n\t\t\t\t</button> \r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className=\"contentPages\">\r\n\t\t\t\t<div className=\"container-fluid\">\r\n\t\t\t\t\t{/*Entire thing...*/}\r\n\t\t\t\t\t<div className=\"row m-1 my-5\">\r\n\t\t\t\t\t\t{/*Sidebar for selecting everything...*/}\r\n\t\t\t\t\t\t{/*First, lets list absolutly everything I would want to be selecting in this mode...*/}\r\n\t\t\t\t\t\t<div className=\"col m-1\">\r\n\t\t\t\t\t\t\t{/* A thing for the top of the sidebar*/}\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t\t\t<h5>Today's Date</h5>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t\t\t{this.state.currentDate.toString()}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t{/*Start of the Journal Mode Stuff...*/}\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t\t\t<h5>Journal View</h5>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"list-group\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{/*Going to need to alter this to show which is active?*/}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{/*<Link className=\"list-group-item\" to={this.props.match.url+\"/EditProfile\"}>Edit Profile</Link>*/}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Link className=\"list-group-item\" to={this.props.match.url+\"/JournalWrite\"}>Write Todays Journal</Link>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Link className=\"list-group-item\" to={this.props.match.url+\"/JournalRead\"}>Review Previous Journals</Link>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{/*Start of the Company Mode Stuff...*/}\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t\t\t<h5>Company View</h5>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"list-group\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col list-group-item\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"dropdown\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t  <button className=\"btn btn-secondary dropdown-toggle\" type=\"button\" id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{dropMessage}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t  </button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t  <div className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{dropDownInternal}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{/*Going to need to alter this to show which is active?*/}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{/*<Link className=\"list-group-item\" to={this.props.match.url+\"/companyDetails\"}>View/Edit Company Settings</Link>*/}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Link className=\"list-group-item\" to={this.props.match.url+\"/CompanyEHI\"}>Review Company EHI</Link>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Link className=\"list-group-item\" to={this.props.match.url+\"/CompanySummary\"}>Review Company Summaries</Link>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\tDebug Buttons!\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<button className=\"btn btn-outline-danger\" onClick={this.flushStorage}>\r\n\t\t\t\t\t\t\t\t\t\tFlush Storage\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{/*Content for the everything....*/}\r\n\t\t\t\t\t\t<div className=\"col-lg-9 border m-1\">\r\n\t\t\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t\t\t<Route path={this.props.match.url+\"/\"} exact component={() => <DefaultView\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t/>} \r\n\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t<Route path={this.props.match.url+\"/userDetail\"} component={() => <DefaultView\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t/>} \r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Route path={this.props.match.url+\"/JournalWrite\"} component={() => <WriteJournals\r\n\t\t\t\t\t\t\t\t\t\tAPIHost={this.props.APIHost}\r\n\t\t\t\t\t\t\t\t\t\tauthToken={this.props.authToken}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.changeJournalContent}\r\n\t\t\t\t\t\t\t\t\t\tplaceholder={this.state.journalPlaceholder}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\teditorState={this.state.journalEditorState}\r\n\t\t\t\t\t\t\t\t\t\tsaveToServer={this.postJournal}\r\n\t\t\t\t\t\t\t\t\t/>} \r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Route path={this.props.match.url+\"/JournalRead\"} component={() => <ViewJournals\r\n\t\t\t\t\t\t\t\t\t\tcurrentDate={this.props.currentDate}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tdataSet={this.state.selectedJournalData}\r\n\t\t\t\t\t\t\t\t\t\tselectedPrompt={this.state.selectedJournalPrompt}\r\n\t\t\t\t\t\t\t\t\t\tselectedAspect={this.state.selectedJournalAspect}\r\n\t\t\t\t\t\t\t\t\t\tvalidJournalDates={this.state.validJournalDates}\r\n\t\t\t\t\t\t\t\t\t\tvalidJournalScanDates={this.state.validJournalScanDates}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tgetJournalDates={this.getValidJournalDates}\r\n\t\t\t\t\t\t\t\t\t\tpickDate={this.pickJournalCalenderDate}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tdisplayMessage={this.state.journalMessage}\r\n\t\t\t\t\t\t\t\t\t\tcurrentJournal={this.state.journalContent}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tsetPrompt={this.changeJournalPrompt}\r\n\t\t\t\t\t\t\t\t\t\tsetAI={this.changeJournalAspect}\r\n\t\t\t\t\t\t\t\t\t/>} \r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Route path={this.props.match.url+\"/companyDetails\"} component={() => <DefaultView\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t/>} \r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Route path={this.props.match.url+\"/CompanyEHI\"} component={() => <EHIDisplay\r\n\t\t\t\t\t\t\t\t\t\ttimeIndexDay={this.state.EHIDayTimespan}\r\n\t\t\t\t\t\t\t\t\t\ttimeIndexWeek={this.state.EHIWeekTimespan}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tehiDayLabels={this.state.EHIDayLabels}\r\n\t\t\t\t\t\t\t\t\t\tehiDayData={this.state.EHIDaySet}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tehiWeekLabels={this.state.EHIWeekLabels}\r\n\t\t\t\t\t\t\t\t\t\tehiWeekData={this.state.EHIWeekSet}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tonDayToggle={this.changeEHIDaydates}\r\n\t\t\t\t\t\t\t\t\t\tonWeekToggle={this.changeEHIWeekdates}\r\n\t\t\t\t\t\t\t\t\t/>} \r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Route path={this.props.match.url+\"/CompanySummary\"} component={() => <ViewCompany\r\n\t\t\t\t\t\t\t\t\t\tcurrentDate={this.props.currentDate}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tcurrentCompany={this.state.currentCompanyDataName}\r\n\t\t\t\t\t\t\t\t\t\tanchorDate={this.state.currentCompanyDataDate}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tcompanyList={this.state.userCompanyList}\r\n\t\t\t\t\t\t\t\t\t\tvalidSummaryDates={this.state.validCompanySummary}\r\n\r\n\t\t\t\t\t\t\t\t\t\tdisplayMessage={this.state.companyMessage}\r\n\t\t\t\t\t\t\t\t\t\tdataSet={this.state.selectedSummaryWeekData}\r\n\t\t\t\t\t\t\t\t\t\tselectedDay={this.state.selectedCompanyDay}\r\n\t\t\t\t\t\t\t\t\t\tselectedPrompt={this.state.selectedCompanyPrompt}\r\n\t\t\t\t\t\t\t\t\t\tselectedAspect={this.state.selectedCompanyAspect}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tsetPrompt={this.changeCompanyPrompt}\r\n\t\t\t\t\t\t\t\t\t\tsetAI={this.changeCompanyAspect}\r\n\t\t\t\t\t\t\t\t\t\tsetDay={this.changeCompanyDay}\r\n\t\t\t\t\t\t\t\t\t\tsetCompany={this.changeSelectedCompany}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tloadCompanyList={this.getUserCompanyList}\r\n\t\t\t\t\t\t\t\t\t\tgetValidDates={this.getCompanyValidDates}\r\n\t\t\t\t\t\t\t\t\t\tpickDate={this.getCompanyWeeklySummary}\r\n\t\t\t\t\t\t\t\t\t/>} \r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Switch>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(ContentPages);","import axios from \"axios\"\r\n\r\n// Save the journal data...\r\nexport const saveJournal = (APIHost, authToken, postingDate, content, editorBlock, callbackFailure) => {\r\n\t\t\r\n\tconst randomID = Math.random().toString(16).substr(2, 8);\r\n\t\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${authToken}` }\r\n\t};\r\n\t\r\n\tconst data = {\r\n\t\tshorthand: 'made from the website: '+randomID,\r\n\t\t\r\n\t\t// This is my workaround before I learn what ACTUALLY TO DO HERE\r\n\t\tauthor: \"\",\r\n\t\r\n\t\t// It SHOULD be sufficient to use the current date...\r\n\t\t// Because the journal transitions on date changes...\t\t\r\n\t\tforDate: postingDate.toJSON().split(\"T\")[0],\r\n\t\t\r\n\t\t// Same here, Should be able to do this...\r\n\t\t// The question is, is this an \"overwrite\" or just an add?\r\n\t\tcontent: content,\r\n\t};\r\n\t\r\n\t//console.log(data)\r\n\t\r\n\taxios.post(APIHost +\"/saveUserJournal/\", data, config )\r\n\t.then( res => { \r\n\t\r\n\t\tconsole.log(\"Success, response is: \")\r\n\t\tconsole.log(res)\r\n\t\t\r\n\t})\r\n\t.catch( err => {\r\n\t\t// Change this depending on the error...\r\n\t\tif (!(err === undefined)) {\r\n\t\t\tif (err.response.status === 401) {\r\n\t\t\t\tcallbackFailure()\r\n\t\t\t}\r\n\t\t}\r\n\t})\r\n}\r\n\r\n// Get the dates for a specific user, defined in the auth token\r\nexport const getJournalDates = (APIHost, authToken, callbackFunction, callbackFailure) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${authToken}` }\r\n\t};\r\n\taxios.get(APIHost +\"/getJournalDates\", config)\r\n\t.then( \r\n\t\tres => {\r\n\t\t\tconsole.log(\"Got Data!\")\r\n\t\t\tlet tempAIArray = []\r\n\t\t\tlet tempJoArray = []\r\n\t\t\tvar item = \"\"\r\n\t\t\tfor (item in res.data){\r\n\t\t\t\tconst newDate = new Date(res.data[item].forDate)\r\n\t\t\t\tconst checkDate = newDate.getFullYear()+\"-\"+newDate.getMonth()+\"-\"+(newDate.getDate()+1)\t\t\t\r\n\t\t\t\tif (res.data[item].hasAI) {\r\n\t\t\t\t\ttempAIArray.push( checkDate )\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttempJoArray.push( checkDate )\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tcallbackFunction(tempJoArray, tempAIArray)\r\n\t})\r\n\t.catch( err => {\r\n\t\tif (!(err === undefined)) {\r\n\t\t\tif (err.response.status === 401) {\r\n\t\t\t\tcallbackFailure()\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n};\r\n\r\n// Get the data for a speific date, where the user defined is in the token\r\nexport const getJournalData = (APIHost, authToken, selectedDate, callbackFunction, callbackFailure) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${authToken}` }\r\n\t};\r\n\t\r\n\tconsole.log(\"Requesting Date from Server\")\r\n\tconst dateReq = selectedDate.toJSON().split(\"T\")[0]\r\n\t\r\n\taxios.get(APIHost +\"/getUserJournal/?reqDate=\"+dateReq, config)\r\n\t.then( \r\n\t\tres => {\r\n\t\t\t// What if it is > 1?\r\n\t\t\tif (res.data.length > 0) {\r\n\t\t\t\tconsole.log(\"obtained a journal entry\")\r\n\t\t\t\t\r\n\t\t\t\tlet journalContent = res.data[0].content\r\n\t\t\t\t//let journalBlock = res.data[0].blockData\r\n\t\t\t\t\r\n\t\t\t\tlet AIData = {}\r\n\t\t\t\tif (res.data[0].hasAI) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tAIData = res.data[0].AIresult\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tcallbackFunction(journalContent, AIData)\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tconsole.log(\"No entry for that day\")\r\n\t\t\t\t\r\n\t\t\t\tlet journalContent = \"\"\r\n\t\t\t\tlet AIData = {}\r\n\t\t\t\t\r\n\t\t\t\tcallbackFunction(journalContent, AIData)\r\n\t\t\t}\r\n\r\n\t})\r\n\t.catch( err => {\r\n\t\tif (!(err === undefined)) {\r\n\t\t\tif (err.response.status === 401) {\r\n\t\t\t\t// Force the logout stuff\r\n\t\t\t\tcallbackFailure()\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n};\r\n\r\n// Get the company list under the user, defined in the token\r\nexport const getCompanyList = (APIHost, authToken, callbackFunction, callbackFailure) => {\r\n\t\t\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${authToken}` }\r\n\t};\r\n\r\n\taxios.get(APIHost +\"/getUsersCompanies\", config)\r\n\t.then( \tres => {\r\n\t\t\t// Should respond with a 1 length thing\r\n\t\t\tif (res.data.length > 0) {\r\n\t\t\t\t// Normal behaviour\r\n\t\t\t\tconsole.log(\"Got the list of companies\")\r\n\t\t\t\t\r\n\t\t\t\t//console.log(res)\r\n\t\t\t\t\r\n\t\t\t\t// Merge these three into a single set for viewing for now?\r\n\t\t\t\tlet adding = []\r\n\t\t\t\t\r\n\t\t\t\tvar index;\r\n\t\t\t\tfor (index in res.data[0].companyOwner) {\r\n\t\t\t\t\tlet name = res.data[0].companyOwner[index]\r\n\t\t\t\t\tif ( !adding.includes(name) ) {\r\n\t\t\t\t\t\tadding.push(name)\r\n\t\t\t\t\t\t//console.log(name)\r\n\t\t\t\t\t}\t\t\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\tfor (index in res.data[0].companyAllowsView) {\r\n\t\t\t\t\tlet name = res.data[0].companyAllowsView[index]\r\n\t\t\t\t\t\r\n\t\t\t\t\tif ( !adding.includes(name) ) {\r\n\t\t\t\t\t\tadding.push(name)\r\n\t\t\t\t\t\t//console.log(name)\r\n\t\t\t\t\t}\t\t\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\tfor (index in res.data[0].companySendsTo) {\r\n\t\t\t\t\tlet name = res.data[0].companySendsTo[index]\r\n\t\t\t\t\tif ( !adding.includes(name) ) {\r\n\t\t\t\t\t\tadding.push(name)\r\n\t\t\t\t\t\t//console.log(name)\r\n\t\t\t\t\t}\t\t\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tcallbackFunction(adding)\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t// This should not trigger\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch( err => {\r\n\t\t\tif (!(err === undefined)) {\r\n\t\t\t\tif (err.response.status === 401) {\r\n\t\t\t\t\t// Force the logout stuff\r\n\t\t\t\t\tcallbackFailure()\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n}\r\n\r\nexport const getCompanyValidDates = (APIHost, authToken, companyName, callbackFunction, callbackFailure) => {\r\n\t\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${authToken}` }\r\n\t};\r\n\t\r\n\taxios.get(APIHost + \"/getCompanyWeekDates?reComp=\"+companyName, config)\r\n\t.then( \tres => {\r\n\t\t\tlet tempSumArray = []\r\n\t\t\t\r\n\t\t\tconsole.log(\"Got Valid Dates!\")\r\n\r\n\t\t\tvar item = \"\"\r\n\t\t\tfor (item in res.data){\r\n\t\t\t\t\r\n\t\t\t\t// THESE DATES HAVE THE WRONG TIMEZONE COMING IN, SO THE RESULTING DAY CAN BE WRONG!!!!\r\n\t\t\t\t// CHANGE THIS!!!\r\n\t\t\t\tconst newDate = new Date(res.data[item].forDate)\r\n\t\t\t\tlet checkDate = 0\r\n\t\t\t\r\n\t\t\t\t// This is the \"Anchor Date\"\r\n\t\t\t\tif (res.data[item].hasMon) {\r\n\t\t\t\t\ttempSumArray.push( checkDate = newDate.getFullYear()+\"-\"+newDate.getMonth()+\"-\"+(newDate.getDate()+1) )\r\n\t\t\t\t}\r\n\t\t\t\tif (res.data[item].hasTue) {\r\n\t\t\t\t\ttempSumArray.push( checkDate = newDate.getFullYear()+\"-\"+newDate.getMonth()+\"-\"+(newDate.getDate()+2) )\r\n\t\t\t\t}\r\n\t\t\t\tif (res.data[item].hasWed) {\r\n\t\t\t\t\ttempSumArray.push( checkDate = newDate.getFullYear()+\"-\"+newDate.getMonth()+\"-\"+(newDate.getDate()+3) )\r\n\t\t\t\t}\r\n\t\t\t\tif (res.data[item].hasThu) {\r\n\t\t\t\t\ttempSumArray.push( checkDate = newDate.getFullYear()+\"-\"+newDate.getMonth()+\"-\"+(newDate.getDate()+4) )\r\n\t\t\t\t}\r\n\t\t\t\tif (res.data[item].hasFri) {\r\n\t\t\t\t\ttempSumArray.push( checkDate = newDate.getFullYear()+\"-\"+newDate.getMonth()+\"-\"+(newDate.getDate()+5) )\r\n\t\t\t\t}\r\n\t\t\t\tif (res.data[item].hasSat) {\r\n\t\t\t\t\ttempSumArray.push( checkDate = newDate.getFullYear()+\"-\"+newDate.getMonth()+\"-\"+(newDate.getDate()+6) )\r\n\t\t\t\t}\r\n\t\t\t\tif (res.data[item].hasSun) {\r\n\t\t\t\t\ttempSumArray.push( checkDate = newDate.getFullYear()+\"-\"+newDate.getMonth()+\"-\"+(newDate.getDate()+7) )\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\ttempSumArray.push( checkDate )\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tcallbackFunction(tempSumArray)\r\n\t})\r\n\t.catch( err => {\r\n\t\tif (!(err === undefined)) {\r\n\t\t\tif (err.response.status === 401) {\r\n\t\t\t\t// Force the logout stuff\r\n\t\t\t\tcallbackFailure()\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n}\r\n\r\n// Get a specific company's summary for the list...\r\nexport const getCompanySummary = (APIHost, authToken, companyName, selectedDate, callbackFunction, callbackFailure) => {\r\n\t\r\n\tlet todayWeekday = (selectedDate.getDay()-1)\r\n\tif (todayWeekday < 0) {\r\n\t\ttodayWeekday = 6\r\n\t}\r\n\t\r\n\tlet copiedDate = new Date(selectedDate.getTime());\r\n\r\n\tcopiedDate.setDate(copiedDate.getDate()-(todayWeekday))\r\n\tconst dateReq = copiedDate.toJSON().split(\"T\")[0]\r\n\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${authToken}` }\r\n\t};\r\n\t\r\n\taxios.get(APIHost +\"/getCompanyWeekSummary/?reqDate=\"+dateReq+\"&reComp=\"+companyName, config)\r\n\t.then( \r\n\t\tres => {\r\n\t\t\t// What if it is > 1?\r\n\t\t\tif (res.data.length > 0) {\r\n\t\t\t\tconsole.log(\"obtained a company summary\")\r\n\t\t\t\t\r\n\t\t\t\t// Check for matching stuff on this end?\r\n\t\t\t\t//console.log(res.data[0].summaryResult)\r\n\t\t\t\t\r\n\t\t\t\tlet incomingDict = {\r\n\t\t\t\t\tmon:res.data[0].monResult,\r\n\t\t\t\t\ttue:res.data[0].tueResult,\r\n\t\t\t\t\twed:res.data[0].wedResult,\r\n\t\t\t\t\tthu:res.data[0].thuResult,\r\n\t\t\t\t\tfri:res.data[0].friResult,\r\n\t\t\t\t\tsat:res.data[0].satResult,\r\n\t\t\t\t\tsun:res.data[0].sunResult,\r\n\t\t\t\t\tallDay:res.data[0].summaryResult,\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tcallbackFunction(incomingDict, dateReq)\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tcallbackFunction({}, dateReq)\r\n\t\t\t}\r\n\t})\r\n\t.catch( err => {\r\n\t\tif (!(err === undefined)) {\r\n\t\t\tif (err.response.status === 401) {\r\n\t\t\t\t// Force the logout stuff\r\n\t\t\t\tcallbackFailure()\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n}\r\n\r\nexport const getServerEHIData = (APIHost, authToken, targetCompany, callbackFunction, callbackFailure) => {\r\n\t\t\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${authToken}` }\r\n\t};\r\n\t\r\n\taxios.get(APIHost +\"/getCompanyEHI?reqComp=\"+targetCompany+\"\", config)\r\n\t.then( \tres => {\r\n\t\t// Should respond with a 1 length thing\r\n\t\t//console.log(res)\r\n\t\tif (res.data.length > 0) {\r\n\t\t\t// Normal behaviour\r\n\t\t\tconsole.log(\"Got the company data!\")\r\n\t\t\t\r\n\t\t\tlet labelsDays = []\r\n\t\t\tlet dataDays = []\r\n\t\t\t\r\n\t\t\tlet labelsWeeks = []\r\n\t\t\tlet dataWeeks = []\r\n\t\t\t\r\n\t\t\tlet index;\r\n\t\t\tfor (index in res.data[0].EHIstorage[\"days\"]) {\r\n\t\t\t\t\r\n\t\t\t\tlabelsDays.push(index)\r\n\t\t\t\tdataDays.push(res.data[0].EHIstorage[\"days\"][index])\r\n\t\t\t}\r\n\t\t\tfor (index in res.data[0].EHIstorage[\"weeks\"]) {\r\n\t\t\t\tlabelsWeeks.push(index)\r\n\t\t\t\tdataWeeks.push(res.data[0].EHIstorage[\"days\"][index])\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tcallbackFunction(labelsDays, dataDays, labelsWeeks, dataWeeks)\r\n\t\t}\r\n\t\telse {\r\n\t\t\t// This should not trigger\r\n\t\t}\r\n\t})\r\n\t.catch( err => {\r\n\t\tif (!(err === undefined)) {\r\n\t\t\tif (err.response.status === 401) {\r\n\t\t\t\t// Force the logout stuff\r\n\t\t\t\tcallbackFailure()\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n}","import React from \"react\";\r\n//import axios from \"axios\";\r\n\r\nimport { withRouter, } from \"react-router-dom\";\r\n\r\n//import Store from \"store\"\r\n\r\n//import { ProgressBar } from 'react-bootstrap';\r\n\r\nimport { Line } from 'react-chartjs-2';\r\nimport { arbitraryLineData } from '../utils';\r\nimport { arbitraryLineOptions } from '../utils';\r\n\r\n// Test Data crap from that utils...\r\n//import { generateTestEHIX, generateTestEHIY } from '../utils';\r\n\r\nclass StyleButton extends React.Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.onToggle = (e) => {\r\n\t\t\te.preventDefault();\r\n\t\t\tthis.props.onToggle(this.props.value);\r\n\t\t};\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet className = 'btn btn-outline-primary';\r\n\t\tif (this.props.active) {\r\n\t\t\tclassName += ' active';\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<button className={className} onClick={this.onToggle}>\r\n\t\t\t\t{this.props.label}\r\n\t\t\t</button>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n// Hm, this may be okay? The value should be its index...?\r\nconst historyGraphTimings = [\r\n\t{label:'Max', value:0, dayLength:0, weekLength:0},\r\n\t{label:'1Year', value:1, dayLength:365, weekLength:52},\r\n\t{label:'6Months', value:2, dayLength:183, weekLength:28},\r\n\t{label:'3Months', value:3, dayLength:63, weekLength:13},\r\n\t{label:'1Months', value:4, dayLength:31,  weekLength:4},\r\n\t{label:'1Week', value:5, dayLength:7, weekLength:1},\r\n];\r\n\r\nconst GraphTimingButtons = (props) => {\r\n\tconst currentDisplay = props.graphState;\r\n\t\r\n\treturn (\r\n\t\t<div className=\"EHIControls\">\r\n\t\t\t{historyGraphTimings.map((type) =>\r\n\t\t\t\t<StyleButton\r\n\t\t\t\t\tkey={type.label}\r\n\t\t\t\t\tactive={currentDisplay === type.value}\r\n\t\t\t\t\tlabel={type.label}\r\n\t\t\t\t\tonToggle={props.onToggle}\r\n\t\t\t\t\tvalue={type.value}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\n\r\n// This will show the EHI in chart form...\r\nconst EHIDisplay = (props) => {\r\n\t\r\n\tconst currentDayTimeIndex = props.timeIndexDay\r\n\tconst currentWeekTimeIndex = props.timeIndexWeek\r\n\t\r\n\tconst dayLabels = props.ehiDayLabels\r\n\tconst dayData = props.ehiDayData\r\n\t\r\n\tlet dayCount = historyGraphTimings[currentDayTimeIndex].dayLength\r\n\tif (dayCount === 0) {\r\n\t\tdayCount = dayLabels.length\r\n\t}\r\n\t\r\n\tlet ehiDaysLabels = dayLabels.slice(-dayCount)\r\n\tlet ehiDaysData = {\r\n\t\tlabel:\"EHI index\",\r\n\t\t// May not have to slice the second time?\r\n\t\tdata:dayData.slice(-dayCount)\r\n\t}\r\n\t\r\n\tconst weekLabels = props.ehiWeekLabels\r\n\tconst weekData = props.ehiWeekData\r\n\t\r\n\tdayCount = historyGraphTimings[currentWeekTimeIndex].weekLength\r\n\tif (dayCount === 0) {\r\n\t\tdayCount = weekLabels.length\r\n\t}\r\n\t\r\n\tlet ehiWeeksLabels = weekLabels.slice(-dayCount)\r\n\tlet ehiWeeksData = {\r\n\t\tlabel:\"EHI index\",\r\n\t\t// May not have to slice the second time?\r\n\t\tdata:weekData.slice(-dayCount)\r\n\t}\r\n\t\r\n\tif (ehiWeeksLabels.length === 1) {\r\n\t\tehiWeeksLabels.unshift(\"\")\r\n\t\tehiWeeksLabels.push(\"\")\r\n\t\t\r\n\t\tehiWeeksData.data.unshift(ehiWeeksData.data[0])\r\n\t\tehiWeeksData.data.push(ehiWeeksData.data[0])\r\n\t}\r\n\t\r\n\tlet lineDataDays = arbitraryLineData(ehiDaysLabels, [ehiDaysData])\r\n\tlet lineDataWeeks = arbitraryLineData(ehiWeeksLabels, [ehiWeeksData])\r\n\tlet lineOptions = arbitraryLineOptions()\r\n\t\r\n\treturn (\r\n\t\t<div className=\"EHIDisplay\">\r\n\t\t\t<div className=\"row m-1\">\r\n\t\t\t\t<div className=\"col-6\">\r\n\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\tEmployee Health Index Daily Data\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t<Line\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tdata={lineDataDays} \r\n\t\t\t\t\t\t\t\toptions={lineOptions}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<GraphTimingButtons\r\n\t\t\t\t\t\t\t\tgraphState={currentDayTimeIndex}\r\n\t\t\t\t\t\t\t\tonToggle={props.onDayToggle}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"col-6\">\r\n\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\tEmployee Health Index Weekly Data\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t<Line\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tdata={lineDataWeeks} \r\n\t\t\t\t\t\t\t\toptions={lineOptions}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<GraphTimingButtons\r\n\t\t\t\t\t\t\t\tgraphState={currentWeekTimeIndex}\r\n\t\t\t\t\t\t\t\tonToggle={props.onWeekToggle}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default withRouter(EHIDisplay);","import React from \"react\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\n\nimport axios from \"axios\";\n\nimport { Navigation, Footer, Landing, SignIn, SignUp, Forgot} from \"./components\";\nimport { FreePages, AuthPages, ContentPages } from \"./components\";\n\nimport Store from \"store\"\n\n//import '../node_modules/bootstrap/dist/css/bootstrap.min.css';\nimport './App.css'\n\n// Is THIS a patch for Github Pages react stuff?\n// Maybe...\n// Ill have to test this...\nconst basePath = \"/scenere\"\n\nconst hostName = \"https://cmaster.pythonanywhere.com\"\n//const hostName = \"http://10.0.0.60:8000\"\n\nclass App extends React.Component {\n\t\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n          \n\t\t  currentUser: undefined,\n\t\t  sessionToken: undefined,\n\n        };\n\t}\n\t\n\tcomponentDidMount() {\n\t\tthis.loadFromCookies();\n\t};\n\t\n\tloadFromCookies = () => {\n\t\tconst lastUserSet = Store.get('lastUser');\n\t\t\t\n\t\ttry{ \n\t\t\tthis.setState({ currentUser: lastUserSet.user, sessionToken: lastUserSet.session }) \n\t\t}\n\t\tcatch{\n\t\t\tconsole.log(\"User was NOT found in the storage\")\n\t\t};\n\t}\n\t\n\tsetToken = ( token, username ) => {\n\t\t// Verify this before we sent it in I guess?\n\t\tthis.setState({ sessionToken: token, currentUser: username })\n\t\t\n\t\tStore.set('lastUser', { user:username, session:token })\n\t\t\n\t\t// Return if we succeeded or not\n\t\treturn true\n\t}\n\t\n\t// Test out refreshing the token...\n\t// Should do this every page reload...\n\trefresh = () => {\n\t\tconst data = {\n\t\t\ttoken: this.state.sessionToken,\n\t\t};\n\t\t\n\t\taxios.post(hostName + \"/apiTokenRefresh/\", data)\n\t\t.then( \tres => {\n\t\t\t//console.log(res)\n\t\t\t\n\t\t\t// If we get here then we should have a new token\n\t\t\t//console.log(res.data.token)\n\t\t\tconsole.log(\"Token refreshed\")\n\t\t\t// A little bit unnecessary but hey...\n\t\t\tthis.setToken( res.data.token, this.state.currentUser)\n\t\t\t\n\t\t\treturn true\n\t\t})\n\t\t.catch( err => {\n\t\t\tconsole.log(err)\n\t\t\t// Check for a specific error?\n\t\t\t\n\t\t\tthis.logout()\n\t\t\t\n\t\t\treturn false\n\t\t});\n\t}\n\n\t// Should move this over to the UTIL...\n\tlogout = () => {\n\t\tthis.setState({ \n\t\t\tsessionToken: undefined, \n\t\t\tcurrentUser: undefined \n\t\t})\n\n\t\tStore.remove('lastUser')\n\t}\n\t\n\t// maybe I should move all the AXIOS stuff to its own file...\n\t\n\trender() {\n\n\t\treturn (\n\t\t\t<Router>\n\t\t\t\t<div className=\"App\">\n\t\t\t\n\t\t\t\t\t<Navigation \n\t\t\t\t\t\tcurrentUser={this.state.currentUser}\n\t\t\t\t\t\tbasePath={basePath}\n\n\t\t\t\t\t\tclearLogin={this.logout}\n\t\t\t\t\t/>\n\t\t\t\t\t\t\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\n\t\t\t\t\t\t{/*To catch ONLY the landing page, this one has to be exact...*/}\n\t\t\t\t\t\t{/*That means that i CANNOT nest them in the landing page...*/}\n\t\t\t\t\t\t{/*Unless I am also missing something*/}\n\t\t\t\t\t\t<Route path={basePath+\"/\"} exact component={() => <Landing \n\t\t\t\t\t\t\t\tAPIHost={hostName}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t/>} \n\t\t\t\t\t\t/>\n\t\t\t\t\t\t\n\t\t\t\t\t\t{/*Anything else will have to be in a different component...*/}\n\t\t\t\t\t\t<Route path={basePath+\"/info\"} component={() => <FreePages \n\t\t\t\t\t\t\t\tAPIHost={hostName}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{/*This can actually be replaced by a Modal in the navigational menu....*/}\n\t\t\t\t\t\t<Route path={basePath+\"/auth\"} component={() => <AuthPages \n\t\t\t\t\t\t\t\tAPIHost={hostName}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t/>} \n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route path={basePath+\"/signin\"} exact component={() => <SignIn \n\t\t\t\t\t\t\t\tloginSave={this.setToken}\n\t\t\t\t\t\t\t\tAPIHost={hostName}\n\n\t\t\t\t\t\t\t\treRouteTarget={basePath+\"/dashboard\"}\n\t\t\t\t\t\t\t\tforgotPath={basePath+\"/forgot\"}\n\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t/>\t\n\t\t\t\t\t\t<Route path={basePath+\"/signup\"} exact component={() => <SignUp \n\t\t\t\t\t\t\t\tAPIHost={hostName}\n\t\t\t\t\t\t\t\treRouteTarget={basePath+\"/signin\"}\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t/>} \n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route path={basePath+\"/forgot\"} exact component={() => <Forgot \n\t\t\t\t\t\t\t\tAPIHost={hostName}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\treRouteTarget={basePath+\"/signin\"}\n\t\t\t\t\t\t\t/>} \n\t\t\t\t\t\t/>\n\t\t\t\t\t\t\n\t\t\t\t\t\t{/*And depending on how complicated this gets, I may need to split this*/}\n\t\t\t\t\t\t<Route path={basePath+\"/dashboard\"} component={() => <ContentPages \n\t\t\t\t\t\t\t\tAPIHost={hostName}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\ttokenRefresh={this.refresh}\n\t\t\t\t\t\t\t\treRouteTarget={basePath+\"/signin\"}\n\t\t\t\t\t\t\t\tforceLogout={this.logout}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tcurrentUser={this.state.currentUser}\n\t\t\t\t\t\t\t\tauthToken={this.state.sessionToken}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t/>} \n\t\t\t\t\t\t/>\n\n\t\t\t\t\t</Switch>\n\n\t\t\t\t\t<Footer \n\t\t\t\t\t\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</Router>\n\t\t);\n\t}\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nimport'bootstrap/dist/css/bootstrap.min.css';\n//import $ from'jquery';\n//import Popper from 'popper.js';\nimport'bootstrap/dist/js/bootstrap.bundle.min';\n\n//import '@trendmicro/react-sidenav/dist/react-sidenav.css';\n\n//<React.StrictMode>\n//</React.StrictMode>,\n\nReactDOM.render(\n  \n\t<App />,\n  \n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}