{"version":3,"sources":["components/navigation.jsx","components/footer.jsx","components/signIn.jsx","components/signUp.jsx","components/forgot.jsx","components/landing.jsx","components/mainMenu.jsx","utils/index.js","components/journalView.jsx","components/journalMake.js","components/companyView.js","components/companySettings.jsx","components/testStuff.jsx","components/testStuff2.jsx","App.js","reportWebVitals.js","index.js"],"names":["navigation","props","triggerLogout","clearLogin","state","something","basePath","this","iconButton","userDisplay","undefined","currentUser","className","to","onClick","type","data-toggle","data-target","aria-controls","aria-expanded","aria-label","id","React","Component","withRouter","footer","signIn","loadFromCookies","data","Store","get","setState","username","user","password","pass","userFieldChange","event","target","value","passFieldChange","remFieldChange","remember","handleSubmit","set","console","log","axios","post","APIHost","then","res","latestAttempt","result","loginSave","token","history","push","reRouteTarget","catch","err","preventDefault","currentState","onSubmit","onChange","placeholder","htmlFor","forgotPath","signup","usernameFieldChange","emailFieldChange","email","pass2FieldChange","password2","firstNameFieldChange","firstName","lastnameFieldChange","lastName","checkFieldChange","checkField","first_name","last_name","latestAttept","forgotPassword","goSignIn","arePasswordsSame","password1","swapToCode","sendEmail","checkValue","checkPasswords","tokenFieldChange","resetToken","pass1FieldChange","passwordsSame","currentField","currentButton","currentMessage","landing","getFromCookies","chartReference","createRef","userToken","mainMenu","journalWriteDirect","journalReadDirect","companyReadDirect","companySettingDirect","getRadarEmotionData","inputData","labels","datasets","label","backgroundColor","borderColor","borderWidth","getSentimentData","getConceptsData","getCategoryData","testMaxMin","inputMax","inputAve","inputMin","testBarMulti","stackedBarData","inputData1","inputData2","inputData3","stackedBarData2Test","stackedBarData3Test","sentimentBarData","makeCompanyDaydata","emotion","max","joy","Math","random","anger","sadness","disgust","fear","min","ave","threshold","sentiment","thresholdPos","thresholdNeg","entities","text","count","confidence","std","relevance","keywords","relations","score","arguments","journalView","backButton","goBack","journalDates","validJournalScanDates","AIDates","validJournalDates","loadTestData","index","AIdata","catData","categories","catLabels","catScores","cat","conData","concepts","conLabels","conRelevance","conDatabase","con","dbpedia_resource","emDataObj","document","emData","entData","entity","ent","entEmotion","senDataScore","oppData","abs","arrangedDataScore","entStore","keyData","keyword","key","keyEmotion","keyStore","relation","relDat","rel","relStore","init","action","dataCategories","dataConcepts","dataEmotion","dataEntities","dataKeywords","dataRelations","dataSentiment","saveToCookies","getJournalDates","config","headers","Authorization","authToken","tempAIArray","tempJoArray","remove","item","newDate","Date","createdDate","checkDate","getFullYear","getMonth","getDate","hasAI","response","status","forceLogout","pickDate","selectedDate","currentDate","journal","content","dateReq","toJSON","split","length","AIresult","messages","toString","journalDisp","forceCalenderUpdateTest","journalData","optionsCategories","scales","yAxes","ticks","beginAtZero","suggestedMin","suggestedMax","optionsConcepts","optionsEmotions","scale","optionsSentiment","cutoutPercentage","editorState","setEditor","editor","entitiesDisplay","emotionData","sentimentData","scope","ref","options","keywordsDisplay","relationsDisplay","tileClassName","date","view","hasJournal","find","element","minDetail","maxDetail","styles","border","minHeight","StyleButton","onToggle","e","style","active","BLOCK_TYPES","BlockStyleControls","selection","getSelection","blockType","getCurrentContent","getBlockForKey","getStartKey","getType","map","INLINE_STYLES","InlineStyleControls","currentStyle","getCurrentInlineStyle","has","saveJournal","shorthand","author","getPlainText","loadToday","loadedEditor","convertFromRaw","EditorState","createWithContent","cookieToday","convertToRaw","onBoldClick","RichUtils","toggleInlineStyle","toggleBlockType","inlineStyle","handleKeyCommand","command","newState","today","createEmpty","journalPlaceolder","incomingState","AIAspect","name","daySet","parseEmotion","companyViewSummary","selectPrompt","selectedPrompt","currentTarget","selectAI","selectedAspect","selectDay","seletedDay","changeRequest","getCompanyList","adding","companyOwner","includes","companyAllowsView","companySendsTo","companyList","getCookiesListData","getDates","getCookiesValidDates","currentCompany","validSummaryDates","getValidDates","tempSumArray","forDate","hasMon","hasTue","hasWed","hasThu","hasFri","hasSat","hasSun","todayWeekday","getDay","copiedDate","getTime","setDate","dataDate","dataCompany","incomingDict","mon","monResult","tue","tueResult","wed","wedResult","thu","thuResult","fri","friResult","sat","satResult","sun","sunResult","allDay","summaryResult","dataSet","companyDisp","setCurrentCompany","dropMessage","tableDisplay","currentPrompt","currentDay","currentAspect","promptList","dayData","displayStats","promptName","purity","responsePurity","ProgressBar","now","emoMax","emoAve","emoMin","dataRadarTest","radarOptionsTest","emoThresh","dataBarTest","barOptionsTest","dataBarStack","barStackOptions","xAxes","dataTresh","dataBarNorm","barOptionsNorm","emoData","emoOptions","dataEntSent","dataEntOptions","colSpan","dataRadar","dataRadarOptions","dataKeySent","dataKeyOptions","relData","scoreData","scoreOptions","width","dropDownInternal","comp","aria-haspopup","aria-labelledby","ButtonGroup","toggle","radio","idx","ToggleButton","variant","checked","sorter","companySettings","postNewCompanyData","companyName","companyReName","dataCompanyName","summaryViewAccess","dataCompanyPriv","resultsSendTargets","dataCompanySendTo","privateViewingPerms","dataCompanyViewing","governedUsers","dataCompanyGoverned","dataCompanySendToDeleted","dataCompanyViewingDeleted","dataCompanyGovernedDeleted","getCompanyData","targetCompany","sendChange","searchSend","viewChange","searchView","govChange","searchGov","addingEmail","triggerCompanySwap","triggerModal","clickedList","parentElement","clickedIndex","triggerStopAdd","subset","dataCompanySendToAdded","splice","dataCompanyViewingAdded","dataCompanyGovernedAdded","triggerReAdd","reAdd","modelAddEmail","newArray","modelAcceptDelete","deleteQueue","companySend","userSet","indexOf","companySendAdd","companySendDelete","companyViewing","companyViewingAdd","companyViewingDelete","governedList","companyGovernedAdd","companyGovernedDelete","selectedUser","tabIndex","role","aria-hidden","data-dismiss","testClass","promptNames","p1","p2","p3","p4","colspan","hostName","App","lastUserSet","sessionToken","session","setToken","refresh","logout","path","exact","component","tokenRefresh","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.5d62b7e8.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\n\r\nclass navigation extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n          \r\n\t\t  something: null,\r\n\r\n        };\r\n\t}\r\n\r\n\ttriggerLogout = () => {\r\n\t\tthis.props.clearLogin()\r\n\t}\r\n\t\r\n\t/*\r\n\t<li className={'nav-item'}  key='30'>\r\n\t\t<Link className=\"nav-link\" to={basePath+\"/test\"}>\r\n\t\t\t!!TestDisplay 1!!\r\n\t\t</Link>\r\n\t</li>\r\n\t<li className={'nav-item'}  key='31'>\r\n\t\t<Link className=\"nav-link\" to={basePath+\"/test2\"}>\r\n\t\t\t!!TestDisplay 2!!\r\n\t\t</Link>\r\n\t</li>*/\r\n\t\r\n\trender() {\r\n\t\tconst basePath = this.props.basePath\r\n\r\n\t\tlet iconButton = null\r\n\t\tlet userDisplay = null\r\n\r\n\t\tif (this.props.currentUser === undefined) {\r\n\t\t\ticonButton = [\r\n\t\t\t\t(<li className={'nav-item'} key='0'>\r\n\t\t\t\t\t<Link className=\"nav-link\" to={basePath+\"/signup\"}>\r\n\t\t\t\t\t\tSign Up\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</li>),\r\n\r\n\t\t\t\t(<li className={'nav-item'}  key='1'>\r\n\t\t\t\t\t<Link className=\"nav-link\" to={basePath+\"/signin\"}>\r\n\t\t\t\t\t\tSign In\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</li>)\r\n\t\t\t]\r\n\r\n\t\t\tuserDisplay = (\r\n\t\t\t\t<li className={'nav-item'}  key='2'>\t\r\n\t\t\t\t\t<Link className=\"nav-link\" to={basePath+\"/menu\"}>\r\n\t\t\t\t\t\tNone\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t}\r\n\t\telse {\r\n\t\t\ticonButton = (\r\n\t\t\t\t<li className={'nav-item'}  key='3'>\r\n\t\t\t\t\t<Link className=\"nav-link\" to={basePath+\"/\"} onClick={this.triggerLogout}>\r\n\t\t\t\t\t\tSign Out\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\r\n\t\t\tuserDisplay = (\r\n\t\t\t\t<li className={'nav-item'}  key='4'>\t\r\n\t\t\t\t\t<Link className=\"nav-link\" to={basePath+\"/menu\"}>\r\n\t\t\t\t\t\t{this.props.currentUser}\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"navigation\">\r\n\t\t\t\t<nav className=\"navbar navbar-expand-lg navbar-dark bg-dark\">\r\n\t\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t\t<Link className=\"navbar-brand\" to={basePath+\"/\"}>\r\n\t\t\t\t\t\t\tProject Scenere\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclassName=\"navbar-toggler\"\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\tdata-toggle=\"collapse\"\r\n\t\t\t\t\t\t\tdata-target=\"#navbarResponsive\"\r\n\t\t\t\t\t\t\taria-controls=\"navbarResponsive\"\r\n\t\t\t\t\t\t\taria-expanded=\"false\"\r\n\t\t\t\t\t\t\taria-label=\"Toggle navigation\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<span className=\"navbar-toggler-icon\"></span>\r\n\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t<div className=\"collapse navbar-collapse\" id=\"navbarResponsive\">\r\n\t\t\t\t\t\t\t<ul className=\"navbar-nav ml-auto\">\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t{iconButton}\r\n\t\t\t\t\t\t\t\t<li className={'nav-link'}>\t\r\n\t\t\t\t\t\t\t\t\tCurrent User: \r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t{userDisplay}\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</nav>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(navigation);","import React from \"react\";\r\n\r\nclass footer extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\r\n        };\r\n\t}\r\n\t// fixed-bottom\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"footer\">\r\n\t\t\t\t<footer className=\"py-3 bg-dark fixed-bottom\">\r\n\t\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t\t<p className=\"m-0 text-center text-white\">\r\n\t\t\t\t\t\t\tCopyright &copy; Nightingale Technologies 2020\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</footer>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default footer;","import React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport { Link, withRouter } from 'react-router-dom';\r\n\r\nimport Store from \"store\"\r\n\r\nclass signIn extends React.Component {\r\n\r\n\t// Lets test this out, before we move this over to the App js file\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n          \r\n\t\t\t// Lets do a state machine for the sake of it...\r\n\t\t\t// 0 is \"No result given yet\"\r\n\t\t\t// 1+ would be error codes...\r\n\t\t\t// How can I change this screen as per this?\r\n\t\t\t// Eh, thats later...\r\n\t\t\tcurrentState: 0,\r\n\r\n\t\t\t// This can take in the response code, and we can use that, cant we?\r\n\t\t\tlatestAttempt: 0,\r\n\t\t  \r\n\t\t\tusername: '',\r\n\t\t\t\r\n\t\t\t// This needs to be hashed as fast as possible...\r\n\t\t\t// But I will worry about security...\r\n\t\t\t// Just note that this is probobly a bad idea...\r\n\t\t\tpassword: '',\r\n\t\t\t\r\n\t\t\tremember: false,\r\n\t\t\t\r\n        };\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tthis.loadFromCookies();\r\n\t};\r\n\t\r\n\tloadFromCookies = () => {\r\n\t\t\r\n\t\tconst data = Store.get('rememberUser')\r\n\t\ttry {\r\n\t\t\tthis.setState({ username:data.user ,password:data.pass })\r\n\t\t} catch {\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\t\r\n\tuserFieldChange = (event) => {\r\n\t\tthis.setState( {username: event.target.value} )\r\n\t}\r\n\t\r\n\tpassFieldChange = (event) => {\r\n\t\tthis.setState( {password: event.target.value} )\r\n\t}\r\n\t\r\n\tremFieldChange = (event) => {\r\n\t\tthis.setState( {remember: event.target.value} )\r\n\t}\r\n\t\r\n\thandleSubmit = event => {\r\n\t\t//console.log(\"Login Triggered\")\r\n\t\t\r\n\t\t// THIS IS TERRIBLE SECIRTY! WILL SECURE THE PASSWORD IN PLAIN TEXT!\r\n\t\tif(this.state.remember) {\r\n\t\t\tStore.set('rememberUser', {user:this.state.username , pass: this.state.password })\r\n\t\t\tconsole.log(\"User data Stored\")\r\n\t\t}\r\n\t\t\r\n\t\tconst data = {\r\n\t\t\tusername: this.state.username,\r\n\t\t\tpassword: this.state.password\r\n\t\t};\r\n\t\t\r\n\t\t//console.log(data)\r\n\r\n\t\taxios.post(this.props.APIHost +\"/apiTokenAuth/\", data )\r\n\t\t.then( res => { \r\n\t\t\tthis.setState({ latestAttempt: 200 })\r\n\t\t\tconst result = this.props.loginSave( res.data.token, this.state.username )\r\n\t\t\tconsole.log(\"Success\")\r\n\t\t\t\r\n\t\t\tif (result) {\r\n\t\t\t\tconsole.log(\"Token registered\")\r\n\t\t\t\t\r\n\t\t\t\t// Change this to a dashboard lookin thing\r\n\t\t\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tconsole.log(\"Token Failed..?\")\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch( err => {\r\n\t\t\t// Change this depending on the error...\r\n\t\t\tthis.setState({ latestAttempt: 400 })\r\n\t\t\tconsole.log(err)\r\n\t\t\tconsole.log(\"Connection failed...\")\r\n\t\t})\r\n\r\n\t\tevent.preventDefault();\r\n\t}\r\n\t\r\n\trender() {\r\n\t\r\n\t\treturn (\r\n\t\t\t<div className='container'>\r\n\t\t\t\t<form onSubmit={this.handleSubmit} >\r\n\t\t\t\t\t<h3>Sign In</h3>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<label>Email Address</label>\r\n\t\t\t\t\t\t<input type='text' className='form-control' value={this.state.username} onChange={this.userFieldChange} placeholder='Enter Username' />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<label>Password</label>\r\n\t\t\t\t\t\t<input type='password' className='form-control' value={this.state.password} onChange={this.passFieldChange} placeholder='Enter password' />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<input type='checkbox' className='form-control-input' id='customCheck1' value={this.state.remember} onChange={this.remFieldChange} />\r\n\t\t\t\t\t\t<label className='form-control-label' htmlFor='customCheck1' >Remember Me</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<button type='submit' className='btn btn-dark btn-block'>Submit</button>\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t<p className='col forgot-password text-right text-dark'>\r\n\t\t\t\t\t\t\t<Link className=\"nav-link\" to={this.props.forgotPath}>\r\n\t\t\t\t\t\t\t\tForgot password?\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</p>\r\n\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(signIn);","import React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nclass signup extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\t\t\t\r\n\t\t\tusername: '',\r\n\t\t\temail: '',\r\n\t\t\tpassword: '',\r\n\t\t\tpassword2: '',\r\n\t\t\tfirstName: '',\r\n\t\t\tlastName: '',\r\n\t\t\t\r\n\t\t\tcheckField: false,\r\n        };\r\n\t}\r\n\t\r\n\t// Wait, are Usernames a good thing for what we are doing? Hmmmm\r\n\tusernameFieldChange = (event) => {\r\n\t\tthis.setState( {username: event.target.value} )\r\n\t}\r\n\t\r\n\temailFieldChange = (event) => {\r\n\t\tthis.setState( {email: event.target.value} )\r\n\t}\r\n\t\r\n\tpassFieldChange = (event) => {\r\n\t\tthis.setState( {password: event.target.value} )\r\n\t}\r\n\t\r\n\tpass2FieldChange = (event) => {\r\n\t\tthis.setState( {password2: event.target.value} )\r\n\t}\r\n\t\r\n\tfirstNameFieldChange = (event) => {\r\n\t\tthis.setState( {firstName: event.target.value} )\r\n\t}\r\n\t\r\n\tlastnameFieldChange = (event) => {\r\n\t\tthis.setState( {lastName: event.target.value} )\r\n\t}\r\n\t\r\n\tcheckFieldChange = (event) => {\r\n\t\tthis.setState( {checkField: event.target.value} )\r\n\t}\r\n\t\r\n\thandleSubmit = event => {\r\n\t\t\r\n\t\tif (this.state.checkField) {\r\n\t\t\tconsole.log(\"Field was not checked\")\r\n\t\t}\r\n\t\t\r\n\t\tconst data = {\r\n\t\t\tusername: this.state.username,\r\n\t\t\t\r\n\t\t\tpassword: this.state.password,\r\n\t\t\tpassword2: this.state.password2,\r\n\t\t\t\r\n\t\t\temail: this.state.email,\r\n\t\t\t\r\n\t\t\tfirst_name: this.state.firstName,\r\n\t\t\tlast_name: this.state.firstName,\r\n\t\t};\r\n\t\t\r\n\t\t//DISABLE SIGNUP FOR NOW\r\n\t\t\r\n\t\t//console.log(data)\r\n\r\n\t\taxios.post(this.props.APIHost +\"/registerUser/\", data )\r\n\t\t.then( res => { \r\n\t\t\tthis.setState({ latestAttept: 200 })\r\n\t\t\tconsole.log(\"Success\")\r\n\t\t})\r\n\t\t.catch( err => {\r\n\t\t\t// Change this depending on the error...\r\n\t\t\tthis.setState({ latestAttept: 400 })\r\n\t\t\tconsole.log(err)\r\n\t\t\tconsole.log(\"Connection failed...\")\r\n\t\t})\r\n\r\n\t\tevent.preventDefault();\r\n\t}\r\n\t\r\n\trender() {\r\n\t\treturn (\r\n\t\t\r\n\t\t\t<div className=\"container\">\r\n\t\t\t\t<form  onSubmit={this.handleSubmit}>\r\n\t\t\t\t\t<h3>Sign Up</h3>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<label>Username</label>\r\n\t\t\t\t\t\t<input type='text' className='form-control' value={this.state.username} onChange={this.usernameFieldChange} placeholder='Enter Username' />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<label>Email Address</label>\r\n\t\t\t\t\t\t<input type='email' className='form-control' value={this.state.email} onChange={this.emailFieldChange} placeholder='Enter email' />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<label>Password</label>\r\n\t\t\t\t\t\t<input type='password' className='form-control' value={this.state.password} onChange={this.passFieldChange} placeholder='Enter password' />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<label>Confirm Password</label>\r\n\t\t\t\t\t\t<input type='password' className='form-control' value={this.state.password2} onChange={this.pass2FieldChange} placeholder='Confirm password' />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<label>First Name</label>\r\n\t\t\t\t\t\t<input type='text' className='form-control' value={this.state.firstName} onChange={this.firstNameFieldChange} placeholder='First Name' />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<label>Last Name</label>\r\n\t\t\t\t\t\t<input type='text' className='form-control' value={this.state.lastName} onChange={this.lastnameFieldChange} placeholder='Last Name' />\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<input type='checkbox' className='form-control-input' id='customCheck1' value={this.state.checkField} onChange={this.checkFieldChange} />\r\n\t\t\t\t\t\t<label className='form-control-label' htmlFor='customCheck1' >Legal stuff? Not sure...</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<button type='submit' className='btn btn-dark btn-block'>Submit</button>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t</form>\r\n\t\t\t\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default signup;","import React from \"react\";\r\n\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nclass forgotPassword extends React.Component {\r\n\t\t\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\r\n\t\t\temail: '',\r\n\r\n\t\t\tresetToken: '',\r\n\r\n\t\t\tcurrentState: 0,\r\n\r\n\t\t\tpassword1:'',\r\n\t\t\tpassword2:'',\r\n\r\n\t\t\tpasswordsSame: false\r\n\t\t\t\t\t\t\r\n        };\r\n\t\t\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.setState( \r\n\t\t\t{email: ''},\r\n\t\t\t{resetToken: ''},\r\n\t\t\t{password1: ''},\r\n\t\t\t{password2: ''},\r\n\t\t)\r\n\t}\r\n\r\n\tgoSignIn = () => {\r\n\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t}\r\n\r\n\tarePasswordsSame = () => {\r\n\t\t// I MAY need something more complicated than this, but it can be this for now....\r\n\t\treturn (this.state.password1 === this.state.password2)\r\n\t}\r\n\r\n\tswapToCode = () => {\r\n\t\tthis.setState( {currentState: 1} )\r\n\t}\r\n\r\n\tsendEmail = () => {\r\n\t\tthis.setState( {currentState: 1} )\r\n\t}\r\n\r\n\tcheckValue = () => {\r\n\t\tthis.setState( {currentState: 2} )\r\n\t}\r\n\r\n\tcheckPasswords = () => {\r\n\t\t// I can use the API for this...\r\n\t\tif (this.arePasswordsSame()) {\r\n\t\t\tthis.setState( {currentState: 3} )\r\n\t\t}\r\n\t}\r\n\r\n\r\n\temailFieldChange = (event) => {\r\n\t\tthis.setState( {email: event.target.value} )\r\n\t}\r\n\r\n\ttokenFieldChange = (event) => {\r\n\t\tthis.setState( {resetToken: event.target.value} )\r\n\r\n\t\tthis.arePasswordsSame()\r\n\t}\r\n\t\r\n\tpass1FieldChange = (event) => {\r\n\t\tthis.setState( {password1: event.target.value} )\r\n\r\n\t\t//this.arePasswordsSame()\r\n\t}\r\n\r\n\tpass2FieldChange = (event) => {\r\n\t\tthis.setState( {password2: event.target.value} )\r\n\r\n\t\tthis.arePasswordsSame()\r\n\t}\r\n\r\n\r\n\trender() {\r\n\r\n\t\tlet currentField = null\r\n\t\tlet currentButton = null\r\n\t\tlet currentMessage = null\r\n\r\n\t\tif (this.state.currentState === 0) {\r\n\t\t\tcurrentMessage = (\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<p> \r\n\t\t\t\t\t\t\tEnter your email address.\r\n\t\t\t\t\t\t\tIf it is in the system, we will send you an email address with a code.\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\r\n\t\t\tcurrentField = (\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t<label>Email Address</label>\r\n\t\t\t\t\t\t\t<input type='text' className='form-control' value={this.state.email} onChange={this.emailFieldChange} placeholder='Enter email' />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\r\n\t\t\tcurrentButton = [\r\n\t\t\t\t(\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<button className=\"btn btn-primary\" onClick={this.sendEmail}>\r\n\t\t\t\t\t\t\t\tSend\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t),(\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col m-2\">\r\n\t\t\t\t\t\t\t<button className=\"btn btn-primary\" onClick={this.swapToCode}>\r\n\t\t\t\t\t\t\t\tAlready have the code!\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\t]\r\n\t\t\t\t\r\n\t\t}\r\n\t\telse if (this.state.currentState === 1) {\r\n\r\n\t\t\tcurrentMessage = (\r\n\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t<p> \r\n\t\t\t\t\t\tCheck your email.\r\n\t\t\t\t\t\tIf your email is correct, then enter the code it gives you here:\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\r\n\t\t\tcurrentField = (\r\n\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<label>Reset token</label>\r\n\t\t\t\t\t\t<input type='text' className='form-control' value={this.state.resetToken} onChange={this.tokenFieldChange} placeholder='Enter Token' />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\r\n\t\t\tcurrentButton = (\r\n\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t<button className=\"btn btn-primary\" onClick={this.checkValue}>\r\n\t\t\t\t\t\tCheck...\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\telse if (this.state.currentState === 2) {\r\n\t\r\n\t\t\tcurrentMessage = [\r\n\t\t\t\t<div className=\"row\"> \r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<p> Enter your new password! </p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t]\r\n\t\t\tif (!this.arePasswordsSame()) {\r\n\t\t\t\tcurrentMessage.push(\r\n\t\t\t\t\t<div className=\"row\"> \r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<p className=\"text-danger\"> Passwords do not match! </p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\r\n\t\t\tcurrentField = [\r\n\t\t\t\t( \r\n\t\t\t\t\t<div className=\"row\"> \r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t<input type='text' className='form-control' value={this.state.resetToken} onChange={this.pass1FieldChange} placeholder='Enter Password' />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t),\r\n\t\t\t\t(\r\n\t\t\t\t\t<div className=\"row\"> \r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t<input type='text' className='form-control' value={this.state.resetToken} onChange={this.pass2FieldChange} placeholder='Re-enter Password' />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\t\r\n\t\t\t\t)\r\n\t\t\t]\r\n\t\t\tcurrentButton = (\r\n\t\t\t\t<div className=\"row\"> \r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<button className=\"btn btn-primary\" onClick={this.checkPasswords}>\r\n\t\t\t\t\t\t\tCheck...\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\telse if (this.state.currentState === 2) {\r\n\t\t\tcurrentMessage = (\r\n\t\t\t\t<div className=\"row\"> \r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<p> Password has been successfullty reset! </p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t\tcurrentField = null\r\n\r\n\t\t\tcurrentButton = (\r\n\t\t\t\t<div className=\"row\"> \r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<button className=\"btn btn-primary\" onClick={this.goSignIn}>\r\n\t\t\t\t\t\t\tSign In!\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div className='container-sm'>\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<h3> Forgot your password? </h3>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{currentMessage}\r\n\t\t\t\t{currentField}\r\n\t\t\t\t{currentButton}\r\n\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(forgotPassword);","import React from \"react\";\r\n// import axios from \"axios\";\r\n\r\nimport Store from \"store\"\r\n\r\nclass landing extends React.Component {\r\n\r\n\t// Lets test this out, before we move this over to the App js file\r\n\tconstructor(props) {\r\n        super(props);\r\n\t\tthis.chartReference = React.createRef();\r\n\t\t\r\n        this.state = {\r\n\t\t\tuserToken: null,\r\n        };\r\n\t}\r\n\t\r\n\tgetFromCookies = () => {\r\n\t\tStore.get('rememberSomething')\r\n\t};\r\n\t\r\n\trender() {\r\n\t\r\n\t\treturn (\r\n\t\t\t<div className=\"landing\">\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t<div className=\"row align-items-center my-5\">\r\n\t\t\t\t\t\t<div className=\"col-lg-12 border\">\r\n\t\t\t\t\t\t\t<h3>\r\n\t\t\t\t\t\t\t\tSample Title\r\n\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"row align-items-center my-2 border\">\r\n\t\t\t\t\t\t<div className=\"col-lg-7\">\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\tAnother set of explinations?\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col m-5 border\">\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\tExplainations ahoy!\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default landing;","import React from \"react\";\r\n// import axios from \"axios\";\r\n\r\nimport Store from \"store\"\r\nimport { Link, withRouter } from \"react-router-dom\";\r\n\r\nclass mainMenu extends React.Component {\r\n\r\n\t// Lets test this out, before we move this over to the App js file\r\n\tconstructor(props) {\r\n        super(props);\r\n\t\tthis.chartReference = React.createRef();\r\n\t\t\r\n        this.state = {\r\n\t\t\tsomething: null,\r\n        };\r\n\r\n\t\t// We are going to have to redirect from here if there is no user...\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tconsole.log(\"Check for login...\")\r\n\r\n\t\tif (this.props.currentUser === undefined) {\r\n\t\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\t}\r\n\t\t\r\n\t\t// Hm, What would be a better use of our tokens then doing just this every time?\r\n\t\t\r\n\t\t//let check = this.props.tokenRefresh()\r\n\t\t//if (!check) {\r\n\t\t//\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\t//}\r\n\t}\r\n\t\r\n\tgetFromCookies = () => {\r\n\t\tStore.get('rememberSomething')\r\n\t};\r\n\t\r\n\trender() {\r\n\t\r\n\t\treturn (\r\n\t\t\t<div className=\"mainMenu\">\r\n\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\r\n\t\t\t\t\t<div className=\"row align-items-center my-5\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\tWelcome to this barebones dashboard lookin thing!\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"row align-items-center my-5\">\r\n\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\tWrite/Edit Journal\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"card-text\">\r\n\t\t\t\t\t\t\t\t\t\tClick this button to write today's Journal\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t<Link className=\"btn btn-primary\" to={this.props.journalWriteDirect}>\r\n\t\t\t\t\t\t\t\t\t\tGo!\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\tView Past Journal\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"card-text\">\r\n\t\t\t\t\t\t\t\t\t\tView the contents and AI result of your previous Journals\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t<Link className=\"btn btn-primary\" to={this.props.journalReadDirect}>\r\n\t\t\t\t\t\t\t\t\t\tGo!\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\tView Company Summary\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"card-text\">\r\n\t\t\t\t\t\t\t\t\t\tView contents of Company Summaries, to which you belong.\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t<Link className=\"btn btn-primary\" to={this.props.companyReadDirect}>\r\n\t\t\t\t\t\t\t\t\t\tGo!\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\tCompany Edit!\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"card-text\">\r\n\t\t\t\t\t\t\t\t\t\tEdit Company Entiries to which you are Owner of\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t<Link className=\"btn btn-primary\" to={this.props.companySettingDirect}>\r\n\t\t\t\t\t\t\t\t\t\tGo!\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(mainMenu);","// Use this or localstorage?\r\nimport Store from \"store\"\r\n\r\n// Maybe I should put ALL the storage stuff here...\r\nexport const login = (tokenKey, username) => {\r\n\tStore.set('jwtSession', {user:username, token:tokenKey})\r\n}\r\n\r\nexport const logout = () => {\r\n\tStore.remove('jwtSession')\r\n}\r\n\r\nexport const isLoggedIn = () => {\r\n\tif (Store.get('jwtSession')) {\r\n\t\treturn true;\r\n\t}\r\n\t\r\n\treturn false;\r\n}\r\n\r\n// Lets try this for the Graph Data...\r\n// See if this works out okay...\r\n// The options may be overkill though...\r\n\r\n\r\n// Initial tests show good results, So I should merge these into as few functions as I can....\r\n// Right now its too many...\r\nexport const getRadarEmotionData = (inputData) => {\r\n\t\r\n\tconst data = {\r\n\t\tlabels: ['Anger', 'Disgust', 'Fear', 'Joy', 'Sadness'],\r\n\t\t\tdatasets: [ \r\n\t\t\t{\r\n\t\t\t\tlabel: 'Confidence Levels',\r\n\t\t\t\tdata: inputData,\r\n\t\t\t\tbackgroundColor: 'rgba(99, 255, 132, 0.2)',\r\n\t\t\t\tborderColor: 'rgba(99, 255, 132, 1)',\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const getRadarEmotionOptions = () => {\r\n\tconst options = {\r\n\t  scale: {\r\n\t\tticks: { \r\n\t\t\tbeginAtZero: true,\r\n\t\t\tsuggestedMin: 0,\r\n\t\t\tsuggestedMax: 1,\r\n\t\t},\r\n\t  },\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\nexport const getSentimentData = (inputData) => {\r\n\tconst data = {\r\n\tlabels: ['Positive', 'Negative'],\r\n\tdatasets: [\r\n\t\t\t{\r\n\t\t\tlabel: ['Sentiment'], \r\n\t\t\tdata: inputData,\r\n\t\t\tbackgroundColor: [\r\n\t\t\t\t'rgba(99, 255, 132, 0.2)',\r\n\t\t\t\t'rgba(54, 162, 235, 0.2)',\r\n\t\t\t\t'rgba(255, 206, 86, 0.2)',\r\n\t\t\t\t'rgba(75, 192, 192, 0.2)',\r\n\t\t\t\t'rgba(153, 102, 255, 0.2)',\r\n\t\t\t\t'rgba(255, 159, 64, 0.2)',\r\n\t\t\t],\r\n\t\t\tborderColor: [\r\n\t\t\t\t'rgba(99, 255, 132, 1)',\r\n\t\t\t\t'rgba(54, 162, 235, 1)',\r\n\t\t\t\t'rgba(255, 206, 86, 1)',\r\n\t\t\t\t'rgba(75, 192, 192, 1)',\r\n\t\t\t\t'rgba(153, 102, 255, 1)',\r\n\t\t\t\t'rgba(255, 159, 64, 1)',\r\n\t\t\t],\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const getSentimentOptions = () => {\r\n\tconst options = {\r\n\t\tcutoutPercentage: 50,\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\nexport const getConceptsData = (inputData, labels) => {\r\n\tconst data = {\r\n\tlabels: labels,\r\n\tdatasets: [\r\n\t\t\t{\r\n\t\t\tlabel: 'Concepts Relevance',\r\n\t\t\tdata: inputData,\r\n\t\t\tbackgroundColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 0.2)',\r\n\t\t\t\t'rgba(54, 162, 235, 0.2)',\r\n\t\t\t\t'rgba(255, 206, 86, 0.2)',\r\n\t\t\t\t'rgba(75, 192, 192, 0.2)',\r\n\t\t\t\t'rgba(153, 102, 255, 0.2)',\r\n\t\t\t\t'rgba(255, 159, 64, 0.2)',\r\n\t\t\t],\r\n\t\t\tborderColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 1)',\r\n\t\t\t\t'rgba(54, 162, 235, 1)',\r\n\t\t\t\t'rgba(255, 206, 86, 1)',\r\n\t\t\t\t'rgba(75, 192, 192, 1)',\r\n\t\t\t\t'rgba(153, 102, 255, 1)',\r\n\t\t\t\t'rgba(255, 159, 64, 1)',\r\n\t\t\t],\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const getConceptsOptions = () => {\r\n\tconst options = {\r\n\t\tscales: {\r\n\t\t\tyAxes: [{\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t\tsuggestedMin: 0,\r\n\t\t\t\t\t\tsuggestedMax: 1,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\n// This can probobly be merged with the other one... but it is here for perhaps a color shift?\r\nexport const getCategoryData = (inputData, labels) => {\r\n\tconst data = {\r\n\tlabels: labels,\r\n\tdatasets: [\r\n\t\t\t{\r\n\t\t\tlabel: 'Categories Score',\r\n\t\t\tdata: inputData,\r\n\t\t\tbackgroundColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 0.2)',\r\n\t\t\t\t'rgba(54, 162, 235, 0.2)',\r\n\t\t\t\t'rgba(255, 206, 86, 0.2)',\r\n\t\t\t\t'rgba(75, 192, 192, 0.2)',\r\n\t\t\t\t'rgba(153, 102, 255, 0.2)',\r\n\t\t\t\t'rgba(255, 159, 64, 0.2)',\r\n\t\t\t],\r\n\t\t\tborderColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 1)',\r\n\t\t\t\t'rgba(54, 162, 235, 1)',\r\n\t\t\t\t'rgba(255, 206, 86, 1)',\r\n\t\t\t\t'rgba(75, 192, 192, 1)',\r\n\t\t\t\t'rgba(153, 102, 255, 1)',\r\n\t\t\t\t'rgba(255, 159, 64, 1)',\r\n\t\t\t],\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const getCategoryOptions = () => {\r\n\tconst options = {\r\n\t\tscales: {\r\n\t\t\tyAxes: [{\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t\tsuggestedMin: 0,\r\n\t\t\t\t\t\tsuggestedMax: 1,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\n// Now we can test to see how this would actually look.\r\nexport const testMaxMin = (inputMax, inputAve, inputMin) => {\r\n\tconst data = {\r\n\t\tlabels: ['Joy', 'Anger', 'Sadness', 'Disgust', 'Fear'],\r\n\t\t\tdatasets: [ \r\n\t\t\t{\r\n\t\t\t\tlabel: 'Max',\r\n\t\t\t\tdata: inputMax,\r\n\t\t\t\tbackgroundColor: 'rgba(99, 255, 132, 0.2)',\r\n\t\t\t\tborderColor: 'rgba(99, 255, 132, 1)',\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Ave',\r\n\t\t\t\tdata: inputAve,\r\n\t\t\t\tbackgroundColor: 'rgba(99, 132, 255, 0.2)',\r\n\t\t\t\tborderColor: 'rgba(99, 132, 255, 1)',\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Min',\r\n\t\t\t\tdata: inputMin,\r\n\t\t\t\tbackgroundColor: 'rgba(255, 99, 132, 0.2)',\r\n\t\t\t\tborderColor: 'rgba(255, 99, 132, 1)',\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\n// How can I make this not terrible back here?\r\nexport const testBarMulti = (inputData) => {\r\n\tconst data = {\r\n\tlabels: ['Joy', 'Anger', 'Sadness', 'Disgust', 'Fear'],\r\n\tdatasets: [\r\n\t\t\t{\r\n\t\t\tlabel: '% Above Threshold',\r\n\t\t\tdata: inputData,\r\n\t\t\tbackgroundColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 0.2)',\r\n\t\t\t\t'rgba(54, 162, 235, 0.2)',\r\n\t\t\t\t'rgba(255, 206, 86, 0.2)',\r\n\t\t\t\t'rgba(75, 192, 192, 0.2)',\r\n\t\t\t\t'rgba(153, 102, 255, 0.2)',\r\n\t\t\t\t'rgba(255, 159, 64, 0.2)',\r\n\t\t\t],\r\n\t\t\tborderColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 1)',\r\n\t\t\t\t'rgba(54, 162, 235, 1)',\r\n\t\t\t\t'rgba(255, 206, 86, 1)',\r\n\t\t\t\t'rgba(75, 192, 192, 1)',\r\n\t\t\t\t'rgba(153, 102, 255, 1)',\r\n\t\t\t\t'rgba(255, 159, 64, 1)',\r\n\t\t\t],\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\nexport const testBarMultiOptions = () => {\r\n\tconst options = {\r\n\t\tscales: {\r\n\t\t\tyAxes: [{\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t\tsuggestedMin: 0,\r\n\t\t\t\t\t\tsuggestedMax: 1,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\nexport const stackedBarData = (inputData1, inputData2, inputData3) => {\r\n\tconst data = {\r\n\t\tlabels: ['Value'],\r\n\t\tdatasets: [\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Minimum',\r\n\t\t\t\tdata: inputData1,\r\n\t\t\t\tbackgroundColor: 'rgb(255, 99, 132)',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Average',\r\n\t\t\t\tdata: inputData2,\r\n\t\t\t\tbackgroundColor: 'rgb(54, 162, 235)',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Maximum',\r\n\t\t\t\tdata: inputData3,\r\n\t\t\t\tbackgroundColor: 'rgb(75, 192, 192)',\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\nexport const stackedBarOptions = () => {\r\n\tconst options = {\r\n\t\tscales: {\r\n\t\t\tyAxes: [\r\n\t\t\t\t{\r\n\t\t\t\t\t//stacked: true,\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t\tsuggestedMin: -1,\r\n\t\t\t\t\t\tsuggestedMax: 1,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\txAxes: [\r\n\t\t\t\t{\r\n\t\t\t\t\t//stacked: true,\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\nexport const stackedBarData2Test = (inputData1, inputData2, inputData3) => {\r\n\tconst data = {\r\n\t\tlabels: ['Relevance', 'Sentiment'],\r\n\t\tdatasets: [\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Minimum',\r\n\t\t\t\tdata: inputData1,\r\n\t\t\t\tbackgroundColor: 'rgb(255, 99, 132)',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Average',\r\n\t\t\t\tdata: inputData2,\r\n\t\t\t\tbackgroundColor: 'rgb(54, 162, 235)',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Maximum',\r\n\t\t\t\tdata: inputData3,\r\n\t\t\t\tbackgroundColor: 'rgb(75, 192, 192)',\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const stackedBarData3Test = (inputData1, inputData2, inputData3) => {\r\n\tconst data = {\r\n\t\tlabels: ['Confidence', 'Relevance', 'Sentiment'],\r\n\t\tdatasets: [\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Minimum',\r\n\t\t\t\tdata: inputData1,\r\n\t\t\t\tbackgroundColor: 'rgb(255, 99, 132)',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Average',\r\n\t\t\t\tdata: inputData2,\r\n\t\t\t\tbackgroundColor: 'rgb(54, 162, 235)',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Maximum',\r\n\t\t\t\tdata: inputData3,\r\n\t\t\t\tbackgroundColor: 'rgb(75, 192, 192)',\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const sentimentBarData = (inputData) => {\r\n\tconst data = {\r\n\t\tlabels: ['Positive', 'Negative'],\r\n\t\tdatasets: [\r\n\t\t\t{\r\n\t\t\tlabel: '% Above Threshold',\r\n\t\t\tdata: inputData,\r\n\t\t\tbackgroundColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 0.2)',\r\n\t\t\t\t'rgba(54, 162, 235, 0.2)',\r\n\t\t\t\t'rgba(255, 206, 86, 0.2)',\r\n\t\t\t\t'rgba(75, 192, 192, 0.2)',\r\n\t\t\t\t'rgba(153, 102, 255, 0.2)',\r\n\t\t\t\t'rgba(255, 159, 64, 0.2)',\r\n\t\t\t],\r\n\t\t\tborderColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 1)',\r\n\t\t\t\t'rgba(54, 162, 235, 1)',\r\n\t\t\t\t'rgba(255, 206, 86, 1)',\r\n\t\t\t\t'rgba(75, 192, 192, 1)',\r\n\t\t\t\t'rgba(153, 102, 255, 1)',\r\n\t\t\t\t'rgba(255, 159, 64, 1)',\r\n\t\t\t],\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\nexport const sentimentBarOptions = () => {\r\n\tconst options = {\r\n\t\tscales: {\r\n\t\t\tyAxes: [{\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t\tsuggestedMin: 0,\r\n\t\t\t\t\t\tsuggestedMax: 1,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\n// This is where my template stuff is ---------------------------------------------------------------\r\nexport const getDoughData = (inputData) => {\r\n\tconst data = {\r\n\t\tlabels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],\r\n\t\tdatasets: [\r\n\t\t\t{\r\n\t\t\t\tlabel: '# of Votes',\r\n\t\t\t\tdata: inputData,\r\n\t\t\t\tbackgroundColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 0.2)',\r\n\t\t\t\t'rgba(54, 162, 235, 0.2)',\r\n\t\t\t\t'rgba(255, 206, 86, 0.2)',\r\n\t\t\t\t'rgba(75, 192, 192, 0.2)',\r\n\t\t\t\t'rgba(153, 102, 255, 0.2)',\r\n\t\t\t\t'rgba(255, 159, 64, 0.2)',\r\n\t\t\t],\r\n\t\t\t\tborderColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 1)',\r\n\t\t\t\t'rgba(54, 162, 235, 1)',\r\n\t\t\t\t'rgba(255, 206, 86, 1)',\r\n\t\t\t\t'rgba(75, 192, 192, 1)',\r\n\t\t\t\t'rgba(153, 102, 255, 1)',\r\n\t\t\t\t'rgba(255, 159, 64, 1)',\r\n\t\t\t],\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const getDoughOptions = () => {\r\n\tconst options = {\r\n\t\tcutoutPercentage: 50,\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\nexport const getRadarData = (inputData) => {\r\n\tconst data = {\r\n\t\tlabels: ['Thing 1', 'Thing 2', 'Thing 3', 'Thing 4', 'Thing 5', 'Thing 6'],\r\n\t\t\tdatasets: [ \r\n\t\t\t{\r\n\t\t\t\tlabel: '# of Votes',\r\n\t\t\t\tdata: inputData,\r\n\t\t\t\tbackgroundColor: 'rgba(99, 255, 132, 0.2)',\r\n\t\t\t\tborderColor: 'rgba(99, 255, 132, 1)',\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const getRadarOptions = () => {\r\n\tconst options = {\r\n\t  scale: {\r\n\t\tticks: { beginAtZero: true },\r\n\t  },\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\nexport const getLineData = (inputData, inputData2) => {\r\n\tconst data = {\r\n\t\tlabels: ['Thing 1', 'Thing 2', 'Thing 3', 'Thing 4', 'Thing 5', 'Thing 6'],\r\n\t\t\tdatasets: [ \r\n\t\t\t{\r\n\t\t\t\tlabel: '# of Votes',\r\n\t\t\t\tdata: inputData,\r\n\t\t\t\tfill: false,\r\n\t\t\t\tbackgroundColor: 'rgb(99, 255, 132)',\r\n\t\t\t\tborderColor: 'rgba(99, 255, 132, 0.2)',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: '# of Votes2',\r\n\t\t\t\tdata: inputData2,\r\n\t\t\t\tfill: false,\r\n\t\t\t\tbackgroundColor: 'rgb(255, 99, 132)',\r\n\t\t\t\tborderColor: 'rgba(255, 99, 132, 0.2)',\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const getLineOptions = () => {\r\n\tconst options = {\r\n\t\tscales: {\r\n\t\t\tyAxes: [\r\n\t\t\t\t{\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\nexport const getBarData = (inputData) => {\r\n\tconst data = {\r\n\tlabels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],\r\n\tdatasets: [\r\n\t\t\t{\r\n\t\t\tlabel: '# of Votes',\r\n\t\t\tdata: inputData,\r\n\t\t\tbackgroundColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 0.2)',\r\n\t\t\t\t'rgba(54, 162, 235, 0.2)',\r\n\t\t\t\t'rgba(255, 206, 86, 0.2)',\r\n\t\t\t\t'rgba(75, 192, 192, 0.2)',\r\n\t\t\t\t'rgba(153, 102, 255, 0.2)',\r\n\t\t\t\t'rgba(255, 159, 64, 0.2)',\r\n\t\t\t],\r\n\t\t\tborderColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 1)',\r\n\t\t\t\t'rgba(54, 162, 235, 1)',\r\n\t\t\t\t'rgba(255, 206, 86, 1)',\r\n\t\t\t\t'rgba(75, 192, 192, 1)',\r\n\t\t\t\t'rgba(153, 102, 255, 1)',\r\n\t\t\t\t'rgba(255, 159, 64, 1)',\r\n\t\t\t],\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const getBarOptions = () => {\r\n\tconst options = {\r\n\t\tscales: {\r\n\t\t\tyAxes: [{\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\nexport const getScatterData = (inputData, inputData2) => {\r\n\tconst data = {\r\n\t\tlabels: ['Thing 1', 'Thing 2', 'Thing 3', 'Thing 4', 'Thing 5', 'Thing 6'],\r\n\t\t\tdatasets: [ \r\n\t\t\t{\r\n\t\t\t\tlabel: '# of Votes',\r\n\t\t\t\tdata: inputData,\r\n\t\t\t\tbackgroundColor: 'rgba(99, 255, 132, 0.2)',\r\n\t\t\t\tborderColor: 'rgba(99, 255, 132, 1)',\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: '# of Votes2',\r\n\t\t\t\tdata: inputData2,\r\n\t\t\t\tbackgroundColor: 'rgba(255, 99, 132, 0.2)',\r\n\t\t\t\tborderColor: 'rgba(255, 99, 132, 1)',\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const getScatterOptions = () => {\r\n\tconst options = {\r\n\t\tscales: {\r\n\t\t\tyAxes: [{\r\n\t\t\t\tticks: {\r\n\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t},\r\n\t\t\t},],\r\n\t\t},\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\n// THIS IS EXAMPLE COMPANY TEST DATA!!!\r\nconst makeCompanyDaydata = () => {\r\n\t\r\n\tlet dayData = {\r\n\t\t\temotion: { \r\n\t\t\t\tmax:{joy:Math.random(), anger:Math.random(), sadness:Math.random(), disgust:Math.random(), fear:Math.random()}, \r\n\t\t\t\tmin:{joy:Math.random(), anger:Math.random(), sadness:Math.random(), disgust:Math.random(), fear:Math.random()}, \r\n\t\t\t\tave:{joy:Math.random(), anger:Math.random(), sadness:Math.random(), disgust:Math.random(), fear:Math.random()},\r\n\t\t\t\t\r\n\t\t\t\tthreshold:{joy:Math.random(), anger:Math.random(), sadness:Math.random(), disgust:Math.random(), fear:Math.random()},\r\n\t\t\t},\r\n\t\t\tsentiment: {\r\n\t\t\t\tmax:2*Math.random()-1, \r\n\t\t\t\tmin:2*Math.random()-1, \r\n\t\t\t\tave:2*Math.random()-1,\r\n\t\t\t\t\r\n\t\t\t\tthresholdPos:Math.random(),\r\n\t\t\t\tthresholdNeg:Math.random(),\r\n\t\t\t},\r\n\t\t\tentities: [\r\n\t\t\t\t{text:\"Example Entity\", \r\n\t\t\t\t\tcount:12,\r\n\t\t\t\t\ttype:\"Whatever\",\r\n\t\t\t\t\tconfidence:{ \r\n\t\t\t\t\t\tmax:Math.random(), \r\n\t\t\t\t\t\tmin:Math.random(), \r\n\t\t\t\t\t\tave:Math.random(),\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tstd:Math.random(),\r\n\t\t\t\t\t},\r\n\t\t\t\t\trelevance:{\r\n\t\t\t\t\t\tmax:Math.random(),\r\n\t\t\t\t\t\tmin:Math.random(),\r\n\t\t\t\t\t\tave:Math.random(),\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tstd:Math.random(),\r\n\t\t\t\t\t},\r\n\t\t\t\t\temotion:{\r\n\t\t\t\t\t\tmax:{joy:Math.random(), anger:Math.random(), sadness:Math.random(), disgust:Math.random(), fear:Math.random()},\r\n\t\t\t\t\t\tmin:{joy:Math.random(), anger:Math.random(), sadness:Math.random(), disgust:Math.random(), fear:Math.random()},\r\n\t\t\t\t\t\tave:{joy:Math.random(), anger:Math.random(), sadness:Math.random(), disgust:Math.random(), fear:Math.random()},\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tstd:{joy:Math.random(), anger:Math.random(), sadness:Math.random(), disgust:Math.random(), fear:Math.random()},\r\n\t\t\t\t\t}, \r\n\t\t\t\t\tsentiment:{\r\n\t\t\t\t\t\tmax:2*Math.random()-1, \r\n\t\t\t\t\t\tmin:2*Math.random()-1, \r\n\t\t\t\t\t\tave:2*Math.random()-1,\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tstd:Math.random(),\r\n\t\t\t\t\t},\r\n\t\t\t\t}, \r\n\t\t\t],\r\n\t\t\tkeywords: [\r\n\t\t\t\t{text:\"Example Keyword\", \r\n\t\t\t\t\tcount:6, \r\n\t\t\t\t\t\r\n\t\t\t\t\trelevance:{\r\n\t\t\t\t\t\tmax:Math.random(),\r\n\t\t\t\t\t\tmin:Math.random(),\r\n\t\t\t\t\t\tave:Math.random(),\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tstd:Math.random(),\r\n\t\t\t\t\t}, \r\n\t\t\t\t\temotion:{\r\n\t\t\t\t\t\tmax:{joy:Math.random(), anger:Math.random(), sadness:Math.random(), disgust:Math.random(), fear:Math.random()},\r\n\t\t\t\t\t\tmin:{joy:Math.random(), anger:Math.random(), sadness:Math.random(), disgust:Math.random(), fear:Math.random()},\r\n\t\t\t\t\t\tave:{joy:Math.random(), anger:Math.random(), sadness:Math.random(), disgust:Math.random(), fear:Math.random()},\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tstd:{joy:Math.random(), anger:Math.random(), sadness:Math.random(), disgust:Math.random(), fear:Math.random()},\r\n\t\t\t\t\t}, \r\n\t\t\t\t\tsentiment:{\r\n\t\t\t\t\t\tmax:2*Math.random()-1, \r\n\t\t\t\t\t\tmin:2*Math.random()-1, \r\n\t\t\t\t\t\tave:2*Math.random()-1,\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tstd:Math.random(),\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\trelations: [\r\n\t\t\t\t{type:\"didTo\", \r\n\t\t\t\t\tcount:4, \r\n\t\t\t\t\tscore:{\r\n\t\t\t\t\t\tmax:2*Math.random()-1, \r\n\t\t\t\t\t\tmin:2*Math.random()-1, \r\n\t\t\t\t\t\tave:2*Math.random()-1,\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tstd:Math.random(),\r\n\t\t\t\t\t}, \r\n\t\t\t\t\targuments:[{text:\"person1\"},{text:\"person2\"}] \r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t}\r\n\treturn dayData\r\n}\r\n\r\nexport const makeCompanyTestData = () => {\r\n\t\r\n\tconst testData = {\r\n\t\tp1:{ name:\"Prompt 1 Full Sentance\",\r\n\t\t\tresponsePurity:90,\r\n\t\t\tmon: makeCompanyDaydata(),\r\n\t\t\ttue: makeCompanyDaydata(),\r\n\t\t\twed: makeCompanyDaydata(),\r\n\t\t\tthu: makeCompanyDaydata(),\r\n\t\t\tfri: makeCompanyDaydata(),\r\n\t\t\tsat: makeCompanyDaydata(),\r\n\t\t\tsun: makeCompanyDaydata(),\r\n\t\t\tallDay: makeCompanyDaydata(),\r\n\t\t},\r\n\t\tp2:{ name:\"Prompt 2 Full Sentance\",\r\n\t\t\tresponsePurity:50,\r\n\t\t\tmon:makeCompanyDaydata(),\r\n\t\t\ttue:makeCompanyDaydata(),\r\n\t\t\twed:makeCompanyDaydata(),\r\n\t\t\tthu:makeCompanyDaydata(),\r\n\t\t\tfri:makeCompanyDaydata(),\r\n\t\t\tsat:makeCompanyDaydata(),\r\n\t\t\tsun:makeCompanyDaydata(),\r\n\t\t\tallDay:makeCompanyDaydata(),\r\n\t\t},\r\n\t\tp3:{ name:\"Prompt 3 Full Sentance\",\r\n\t\t\tresponsePurity:10,\r\n\t\t\tmon: makeCompanyDaydata(),\r\n\t\t\ttue: makeCompanyDaydata(),\r\n\t\t\twed: makeCompanyDaydata(),\r\n\t\t\tthu: makeCompanyDaydata(),\r\n\t\t\tfri: makeCompanyDaydata(),\r\n\t\t\tsat: makeCompanyDaydata(),\r\n\t\t\tsun: makeCompanyDaydata(),\r\n\t\t\tallDay: makeCompanyDaydata(),\r\n\t\t},\r\n\t\tp4:{ name:\"Prompt 4 Full Sentance\",\r\n\t\t\tresponsePurity:75,\r\n\t\t\tmon: makeCompanyDaydata(),\r\n\t\t\ttue: makeCompanyDaydata(),\r\n\t\t\twed: makeCompanyDaydata(),\r\n\t\t\tthu: makeCompanyDaydata(),\r\n\t\t\tfri: makeCompanyDaydata(),\r\n\t\t\tsat: makeCompanyDaydata(),\r\n\t\t\tsun: makeCompanyDaydata(),\r\n\t\t\tallDay: makeCompanyDaydata(),\r\n\t\t},\r\n\t}\r\n\t\t\t\r\n\treturn testData\r\n}\r\nexport const makeCompanyTestDataOtherFormat = () => {\r\n\t\r\n\tconst testData = {\r\n\t\tmon: {\r\n\t\t\tresponsePurity: 90,\r\n\t\t\tp1: {\r\n\t\t\t\tname:\"Prompt 1 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp2: {\r\n\t\t\t\tname:\"Prompt 2 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp3: {\r\n\t\t\t\tname:\"Prompt 3 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp4: {\r\n\t\t\t\tname:\"Prompt 4 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t},\r\n\t\ttue: {\r\n\t\t\tresponsePurity: 23,\r\n\t\t\tp1: {\r\n\t\t\t\tname:\"Prompt 1 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp2: {\r\n\t\t\t\tname:\"Prompt 2 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp3: {\r\n\t\t\t\tname:\"Prompt 3 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp4: {\r\n\t\t\t\tname:\"Prompt 4 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t},\r\n\t\twed: {\r\n\t\t\tresponsePurity: 55,\r\n\t\t\tp1: {\r\n\t\t\t\tname:\"Prompt 1 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp2: {\r\n\t\t\t\tname:\"Prompt 2 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp3: {\r\n\t\t\t\tname:\"Prompt 3 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp4: {\r\n\t\t\t\tname:\"Prompt 4 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t},\r\n\t\tthu: {\r\n\t\t\tresponsePurity: 78,\r\n\t\t\tp1: {\r\n\t\t\t\tname:\"Prompt 1 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp2: {\r\n\t\t\t\tname:\"Prompt 2 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp3: {\r\n\t\t\t\tname:\"Prompt 3 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp4: {\r\n\t\t\t\tname:\"Prompt 4 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t},\r\n\t\tfri: {\r\n\t\t\tresponsePurity: 34,\r\n\t\t\tp1: {\r\n\t\t\t\tname:\"Prompt 1 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp2: {\r\n\t\t\t\tname:\"Prompt 2 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp3: {\r\n\t\t\t\tname:\"Prompt 3 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp4: {\r\n\t\t\t\tname:\"Prompt 4 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t}\r\n\t\t},\r\n\t\tsat: {\r\n\t\t\tresponsePurity: 90,\r\n\t\t\tp1: {\r\n\t\t\t\tname:\"Prompt 1 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp2: {\r\n\t\t\t\tname:\"Prompt 2 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp3: {\r\n\t\t\t\tname:\"Prompt 3 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp4: {\r\n\t\t\t\tname:\"Prompt 4 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t}\r\n\t\t},\r\n\t\tsun: {\r\n\t\t\tresponsePurity: 90,\r\n\t\t\tp1: {\r\n\t\t\t\tname:\"Prompt 1 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp2: {\r\n\t\t\t\tname:\"Prompt 2 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp3: {\r\n\t\t\t\tname:\"Prompt 3 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp4: {\r\n\t\t\t\tname:\"Prompt 4 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t}\r\n\t\t},\r\n\t\tallDay: {\r\n\t\t\tresponsePurity: 90,\r\n\t\t\tp1: {\r\n\t\t\t\tname:\"Prompt 1 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp2: {\r\n\t\t\t\tname:\"Prompt 2 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp3: {\r\n\t\t\t\tname:\"Prompt 3 Full Name!!2\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp4: {\r\n\t\t\t\tname:\"Prompt 4 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\t\t\r\n\treturn testData\r\n}","import React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport Store from \"store\"\r\nimport Calendar from 'react-calendar'\r\nimport 'react-calendar/dist/Calendar.css';\r\nimport { Doughnut, Radar, Bar } from 'react-chartjs-2';\r\n\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\n//import {isLoggedIn} from '../utils';\r\nimport {getRadarEmotionData, getSentimentData, getConceptsData, getCategoryData} from '../utils';\r\nimport {getRadarEmotionOptions, getSentimentOptions, getConceptsOptions, getCategoryOptions} from '../utils';\r\n\r\nclass journalView extends React.Component {\r\n\r\n\tconstructor(props) {\r\n        super(props);\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tmessages: \"Waiting for user input...\",\r\n\t\t\tjournalData: \"\",\r\n\t\t\t\r\n\t\t\tcurrentDate: new Date(),\r\n\t\t\t\r\n\t\t\t// These are the dates that we know have valid Journal entries\r\n\t\t\tvalidJournalDates: [],\r\n\t\t\t// These are the dates that we know have a valid Journal, AND an valid AI response!\r\n\t\t\tvalidJournalScanDates: [],\r\n\t\t\t\r\n\t\t\tdataCategories: getCategoryData([0], ['']),\r\n\t\t\toptionsCategories: getCategoryOptions(),\r\n\t\t\t\r\n\t\t\tdataConcepts: getConceptsData([0],['']),\r\n\t\t\toptionsConcepts: getConceptsOptions(),\r\n\t\t\t\r\n\t\t\tdataEntities: [],\r\n\t\t\tdataKeywords: [],\r\n\t\t\tdataRelations: [],\r\n\t\t\t\r\n\t\t\tdataEmotion: getRadarEmotionData([0]),\r\n\t\t\toptionsEmotions: getRadarEmotionOptions(),\r\n\t\t\t\r\n\t\t\tdataSentiment: getSentimentData([0]),\r\n\t\t\toptionsSentiment: getSentimentOptions(),\r\n\r\n        };\r\n\t\t\r\n\t\t// This doesnt look right... Fix this later I guess\r\n\t\tthis.onChange = (editorState) => this.setState({editorState});\r\n\t\tthis.setEditor = (editor) => {\r\n\t\t\tthis.editor = editor;\r\n\t\t};\r\n\t\t\r\n\t};\r\n\r\n\tbackButton = () => {\r\n\t\tthis.props.history.goBack()\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\t\r\n\t\tlet result = this.loadFromCookies();\r\n\t\tif (!result) {\r\n\t\t\tthis.getJournalDates()\r\n\t\t}\r\n\t};\r\n\t\r\n\tloadFromCookies = () => {\r\n\t\t// Security here given our user....\r\n\t\t// console.log(this.props.currentUser)\r\n\t\t\r\n\t\t// Change this so that it is for the currentuser, I got that up here done, but LETS TRY\r\n\t\tlet journalDates = Store.get(this.props.currentUser+'-ValidDates')\r\n\t\t\r\n\t\ttry{\r\n\t\t\tthis.setState({validJournalScanDates: journalDates.AIDates, validJournalDates: journalDates.journalDates})\r\n\t\t\tconsole.log(\"Got the journal data from the cookies\")\r\n\t\t\treturn true\r\n\t\t} catch{\r\n\t\t\tconsole.log(\"No cookies to load the data from\")\r\n\t\t\treturn false\r\n\t\t}\r\n\t};\r\n\t\r\n\tloadTestData = () => {\r\n\t\t// And here is our testdata for display\r\n\t\tlet AIdata = Store.get('testData')\r\n\t\t//try{\r\n\t\t\t//console.log(AIdata)\r\n\t\t\t\r\n\t\t\t// Categories!\r\n\t\t\tconst catData = AIdata.categories\r\n\t\t\t\r\n\t\t\tlet catLabels = []\r\n\t\t\tlet catScores = []\r\n\t\t\t\r\n\t\t\tvar index;\r\n\t\t\tfor (index in catData) {\r\n\t\t\t\tconst cat = catData[index]\r\n\t\t\t\t//console.log(cat)\r\n\t\t\t\t\r\n\t\t\t\tcatLabels.push(cat.label)\r\n\t\t\t\tcatScores.push(cat.score)\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Concepts!\r\n\t\t\tconst conData = AIdata.concepts\r\n\t\t\t\r\n\t\t\tlet conLabels = []\r\n\t\t\tlet conRelevance = []\r\n\t\t\tlet conDatabase = []\r\n\t\t\t\r\n\t\t\tfor (index in conData) {\r\n\t\t\t\tconst con = conData[index]\r\n\t\t\t\t\r\n\t\t\t\tconLabels.push(con.text)\r\n\t\t\t\tconRelevance.push(con.relevance)\r\n\t\t\t\tconDatabase.push(con.dbpedia_resource)\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Emotions!\r\n\t\t\tconst emDataObj = AIdata.emotion.document.emotion\r\n\t\t\tconst emData = [emDataObj.anger, emDataObj.disgust, emDataObj.fear, emDataObj.joy, emDataObj.sadness]\r\n\t\t\t\r\n\t\t\t// Entities!\r\n\t\t\tconst entData = AIdata.entities\r\n\t\t\t\r\n\t\t\tlet entity = []\r\n\r\n\t\t\tfor (index in entData) {\r\n\t\t\t\tconst ent = entData[index]\r\n\t\t\t\t//console.log(ent)\r\n\t\t\t\t\r\n\t\t\t\t// What about this?\r\n\t\t\t\t//console.log(ent.disambiguation)\r\n\t\t\t\t\r\n\t\t\t\tconst entEmotion = [ent.emotion.anger, ent.emotion.disgust, ent.emotion.fear, ent.emotion.joy, ent.emotion.sadness]\r\n\t\t\t\t\r\n\t\t\t\tconst senDataScore = ent.sentiment.score\r\n\t\t\t\tconst oppData = 1-Math.abs(senDataScore)\r\n\t\t\t\t\r\n\t\t\t\tlet arrangedDataScore = [0, 0]\r\n\t\t\t\tif (senDataScore > 0) {\r\n\t\t\t\t\tarrangedDataScore = [senDataScore, oppData]\r\n\t\t\t\t} else {\r\n\t\t\t\t\tarrangedDataScore = [oppData, senDataScore]\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tconst entStore = {\r\n\t\t\t\t\tid:index,\r\n\t\t\t\t\t\r\n\t\t\t\t\ttext:ent.text,\r\n\t\t\t\t\ttype:ent.type,\r\n\t\t\t\t\t\r\n\t\t\t\t\tcount:ent.count,\r\n\t\t\t\t\trelevance:ent.relevance,\r\n\t\t\t\t\t\r\n\t\t\t\t\temotion:entEmotion,\r\n\t\t\t\t\tsentiment:arrangedDataScore,\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tentity.push(entStore)\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Keywords!\r\n\t\t\tconst keyData = AIdata.keywords\r\n\t\t\t\r\n\t\t\tlet keyword = []\r\n\r\n\t\t\tfor (index in keyData) {\r\n\t\t\t\tconst key = keyData[index]\r\n\t\t\t\t\r\n\t\t\t\t//console.log(key.emotion)\r\n\t\t\t\t//console.log(key.sentiment)\r\n\t\t\t\t\r\n\t\t\t\tconst keyEmotion = [key.emotion.anger, key.emotion.disgust, key.emotion.fear, key.emotion.joy, key.emotion.sadness]\r\n\t\t\t\t\r\n\t\t\t\tconst senDataScore = key.sentiment.score\r\n\t\t\t\tconst oppData = 1-Math.abs(senDataScore)\r\n\t\t\t\t\r\n\t\t\t\tlet arrangedDataScore = [0, 0]\r\n\t\t\t\tif (senDataScore > 0) {\r\n\t\t\t\t\tarrangedDataScore = [senDataScore, oppData]\r\n\t\t\t\t} else {\r\n\t\t\t\t\tarrangedDataScore = [oppData, senDataScore]\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tconst keyStore = {\r\n\t\t\t\t\tid:index,\r\n\t\t\t\t\t\r\n\t\t\t\t\ttext:key.text,\r\n\t\t\t\t\tcount:key.count,\r\n\t\t\t\t\trelevance:key.relevance,\r\n\t\t\t\t\t\r\n\t\t\t\t\temotion:keyEmotion,\r\n\t\t\t\t\tsentiment:arrangedDataScore,\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tkeyword.push(keyStore)\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Relations!\r\n\t\t\tlet relation = []\r\n\t\t\t\r\n\t\t\tconst relDat = AIdata.relations\r\n\r\n\t\t\tfor (index in relDat) {\r\n\t\t\t\tconst rel = relDat[index]\r\n\t\t\t\t\r\n\t\t\t\t// Probobly combine these?\r\n\t\t\t\t\r\n\t\t\t\tconst relStore = {\r\n\t\t\t\t\tid: index,\r\n\t\t\t\t\tinit:rel.arguments[0].text,\r\n\t\t\t\t\taction:rel.type,\r\n\t\t\t\t\ttarget:rel.arguments[1].text,\r\n\t\t\t\t\tscore:rel.score,\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\trelation.push(relStore)\r\n\r\n\t\t\t\t// How do I Show this?\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Sentiment!\r\n\t\t\tconst senDataScore = AIdata.sentiment.document.score\r\n\t\t\t\r\n\t\t\tconst senOne = 0.5*(senDataScore + 1)\r\n\t\t\tconst senOpp = 0.5*(senDataScore - 1)\r\n\t\t\t\r\n\t\t\tlet arrangedDataScore = [senOne, senOpp]\r\n\r\n\t\t\tthis.setState({\r\n\t\t\t\t\r\n\t\t\t\tdataCategories:getCategoryData(catScores, catLabels),\r\n\t\t\t\tdataConcepts:getConceptsData(conRelevance, conLabels),\r\n\t\t\t\tdataEmotion:getRadarEmotionData(emData),\r\n\t\t\t\t\r\n\t\t\t\tdataEntities: entity,\r\n\t\t\t\tdataKeywords: keyword,\r\n\t\t\t\tdataRelations: relation,\r\n\t\t\t\r\n\t\t\t\tdataSentiment:getSentimentData(arrangedDataScore),\r\n\t\t\t\t\r\n\t\t\t})\r\n\t\t\t\r\n\t\t//} catch{\r\n\t\t\t//console.log(\"Error!\")\r\n\t\t//}\r\n\t}\r\n\t\r\n\tsaveToCookies = () => {\r\n\t\t\r\n\t\tStore.set(this.props.currentUser+'-ValidDates', { journalDates:this.state.validJournalDates, AIDates:this.state.validJournalScanDates })\r\n\t\tconsole.log(\"Saved to cookies!\")\r\n\t};\r\n\t\r\n\tgetJournalDates = () => {\r\n\t\t\r\n\t\tconst config = {\r\n\t\t\theaders: { Authorization: `JWT ${this.props.authToken}` }\r\n\t\t};\r\n\t\t\r\n\t\t// IF ANY GETS FAILS DUE TO BAD TOKEN, WE NEED TO SEND IT UP THE CHAIN TO DO SOMETHING ABOUT IT\r\n\t\t\r\n\t\t// So, this will give you EVERY SINGLE VALID ENTRY WE HAVE\r\n\t\t// WITHOUT. I REPEAT. WITHOUT THE JOURNAL CONTENT\r\n\t\taxios.get(this.props.APIHost +\"/getJournalDates\", config)\r\n\t\t.then( \r\n\t\t\tres => {\r\n\t\t\t\t\r\n\t\t\t\tconsole.log(\"Got Data!\")\r\n\t\t\t\t\r\n\t\t\t\tlet tempAIArray = []\r\n\t\t\t\tlet tempJoArray = []\r\n\t\t\t\t\r\n\t\t\t\tStore.remove(this.props.currentUser+'-ValidDates')\r\n\r\n\t\t\t\tvar item = \"\"\r\n\t\t\t\tfor (item in res.data){\r\n\t\t\t\t\t\r\n\t\t\t\t\t// THESE DATES HAVE THE WRONG TIMEZONE COMING IN, SO THE RESULTING DAY CAN BE WRONG!!!!\r\n\t\t\t\t\t// CHANGE THIS!!!\r\n\t\t\t\t\tconst newDate = new Date(res.data[item].createdDate)\r\n\t\t\t\t\t\r\n\t\t\t\t\tconst checkDate = newDate.getFullYear()+\"-\"+newDate.getMonth()+\"-\"+(newDate.getDate()+1)\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (res.data[item].hasAI) {\r\n\t\t\t\t\t\ttempAIArray.push( checkDate )\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ttempJoArray.push( checkDate )\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tthis.setState({validJournalScanDates: tempAIArray, validJournalDates: tempJoArray})\r\n\t\t\t\t\r\n\t\t\t\t// Save this new set to the cookies...\r\n\t\t\t\tthis.saveToCookies()\r\n\t\t\t\t\r\n\t\t})\r\n\t\t.catch( err => {\r\n\t\t\tif (err.response.status === 401) {\r\n\t\t\t\tthis.props.forceLogout()\r\n\t\t\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\treturn false\r\n\t};\r\n\t\r\n\tpickDate = (selectedDate) => {\r\n\t\t\r\n\t\tconsole.log(\"requesting date\")\r\n\t\tthis.setState({currentDate: selectedDate})\r\n\t\t\r\n\t\t// Okay, so check to see if we HAVE the journal entry in our storage\r\n\t\t// If we do, show that!\r\n\t\r\n\t\t// Change this so that it is for the currentuser, I got that up here done, but LETS TRY\r\n\t\tlet journal = Store.get(this.props.currentUser+'-Journal-'+selectedDate)\r\n\t\t\r\n\t\ttry{\r\n\t\t\t\r\n\t\t\t// TO DO, THIS ONE!\r\n\t\t\tconsole.log(journal.content)\r\n\t\t\t\r\n\t\t\tconsole.log(\"Got the Journal entry from storage?!\")\r\n\t\t} catch{\r\n\t\t\t//console.log(\"No cookies to load the data from\")\r\n\t\t\r\n\t\t\t// If we DONT, ask the server\r\n\t\t\t// need to be able to check if it was changed...\r\n\t\t\t// Probobly need to add a \"last Edited\" field...\r\n\t\t\t// And and edit history... but that is for later\r\n\t\t\t\r\n\t\t\tconst config = {\r\n\t\t\t\theaders: { Authorization: `JWT ${this.props.authToken}` }\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\tconsole.log(\"requesting date\")\r\n\t\t\tthis.setState({currentDate: selectedDate})\r\n\t\t\t\r\n\t\t\tconst dateReq = selectedDate.toJSON().split(\"T\")[0]\r\n\t\t\t\r\n\t\t\taxios.get(this.props.APIHost +\"/getUserJournal/?reqDate=\"+dateReq, config)\r\n\t\t\t.then( \r\n\t\t\t\tres => {\r\n\t\t\t\t\t// What if it is > 1?\r\n\t\t\t\t\tif (res.data.length > 0) {\r\n\t\t\t\t\t\tconsole.log(\"obtained a journal entry\")\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (res.data[0].hasAI) {\r\n\t\t\t\t\t\t\tconsole.log(\"Saved to the storage\")\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t// Save in the cookies for non-login access...\r\n\t\t\t\t\t\t\tStore.set('testData', res.data[0].AIresult)\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tthis.loadTestData()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.setState( {\r\n\t\t\t\t\t\t\tmessages: \"Showing Journal Entry for: \" + this.state.currentDate.toString(),\r\n\t\t\t\t\t\t\tjournalDisp: res.data[0].content,\r\n\t\t\t\t\t\t} )\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tconsole.log(\"No entry for that day\")\r\n\t\t\t\t\t\tthis.setState( {\r\n\t\t\t\t\t\t\tmessages: \"No entry for that day\",\r\n\t\t\t\t\t\t\tjournalDisp: \"\",\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// LEts not store it in the cookies for now...\r\n\t\t\t})\r\n\t\t\t.catch( err => {\r\n\t\t\t\t\r\n\t\t\t\tif (err.response.status === 401) {\r\n\t\t\t\t\tthis.props.forceLogout()\r\n\t\t\t\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t});\r\n\t\t\r\n\t\t}\r\n\t};\r\n\t\r\n\tforceCalenderUpdateTest = () => {\r\n\t\t\r\n\t}\r\n\r\n\trender() {\r\n\t\t\r\n\t\tconst tileClassName = ({ date, view }) => {\r\n\t\t\r\n\t\t\t// Add class to tiles in month view only\r\n\t\t\tif (view === 'month') {\r\n\t\t\t\t\r\n\t\t\t\tconst checkDate = date.getFullYear()+\"-\"+date.getMonth()+\"-\"+date.getDate()\r\n\t\t\t\t\r\n\t\t\t\t//console.log(checkDate)\r\n\t\t\t\t//console.log(this.state.validJournalDates)\r\n\r\n\t\t\t\t// Check if a date React-Calendar wants to check is on the list of dates to add class to\r\n\t\t\t\tconst hasJournal = this.state.validJournalDates.find( element => element === checkDate)\r\n\t\t\t\tconst hasAI = this.state.validJournalScanDates.find( element => element === checkDate)\r\n\t\t\t\t\r\n\t\t\t\tif (hasAI) {\r\n\t\t\t\t\treturn 'btn btn-success';\r\n\t\t\t\t} else if (hasJournal) {\r\n\t\t\t\t\treturn 'btn btn-warning'\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// use the default styling...\r\n\t\t\t\t\t//return 'btn btn-outline-dark'\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t// Entities\r\n\t\tvar entitiesDisplay = [];\r\n\t\t\r\n\t\tif (this.state.dataEntities.length > 0) { \r\n\t\t\tvar index;\r\n\t\t\tfor (index in this.state.dataEntities) {\r\n\t\t\t\tconst ent = this.state.dataEntities[index]\r\n\t\t\t\t\r\n\t\t\t\tconst emotionData = getRadarEmotionData(ent.emotion)\r\n\t\t\t\tconst sentimentData = getSentimentData(ent.sentiment)\r\n\t\t\t\t\r\n\t\t\t\tentitiesDisplay.push(\r\n\t\t\t\t\t<tr key={ent.id}>\r\n\t\t\t\t\t\t<th scope=\"row\">{ent.text}</th>\r\n\t\t\t\t\t\t<td>{ent.type}</td>\r\n\t\t\t\t\t\t<td>{ent.count}</td>\r\n\t\t\t\t\t\t<td>{ent.relevance}</td>\r\n\t\t\t\t\t\t<td> <Radar ref={this.chartReference} data={emotionData} options={this.state.optionsEmotions} /> </td>\r\n\t\t\t\t\t\t<td> <Doughnut ref={this.chartReference} data={sentimentData} options={this.state.optionsSentiment} /> </td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t}\r\n\t\t\r\n\t\t// Keywords\r\n\t\tvar keywordsDisplay = [];\r\n\t\t\r\n\t\tif (this.state.dataKeywords.length > 0) { \r\n\t\t\tfor (index in this.state.dataKeywords) {\r\n\t\t\t\tconst key = this.state.dataKeywords[index]\r\n\t\t\t\t\r\n\t\t\t\tconst emotionData = getRadarEmotionData(key.emotion)\r\n\t\t\t\tconst sentimentData = getSentimentData(key.sentiment)\r\n\t\t\t\t\r\n\t\t\t\tkeywordsDisplay.push(\r\n\t\t\t\t\t<tr key={key.id}>\r\n\t\t\t\t\t\t<th scope=\"row\">{key.text}</th>\r\n\t\t\t\t\t\t<td>{key.count}</td>\r\n\t\t\t\t\t\t<td><Radar ref={this.chartReference} data={emotionData} options={this.state.optionsEmotions} /></td>\r\n\t\t\t\t\t\t<td><Doughnut ref={this.chartReference} data={sentimentData} options={this.state.optionsSentiment} /></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t}\r\n\t\t\r\n\t\t// R E L A T I O N S\r\n\t\tvar relationsDisplay = [];\r\n\t\t\r\n\t\tif (this.state.dataRelations.length > 0) { \r\n\t\t\r\n\t\t\tfor (index in this.state.dataRelations) {\r\n\t\t\t\tconst rel = this.state.dataRelations[index]\r\n\t\t\t\trelationsDisplay.push(\r\n\t\t\t\t\t<tr key={rel.id}>\r\n\t\t\t\t\t\t<th scope=\"row\">{rel.init}</th>\r\n\t\t\t\t\t\t<td>{rel.action}</td>\r\n\t\t\t\t\t\t<td>{rel.target}</td>\r\n\t\t\t\t\t\t<td>{rel.score}</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className=\"mainView\">\r\n\t\t\t\t\r\n\t\t\t\t<div className=\"container\">\r\n\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-sm-3 m-2\">\t\r\n\t\t\t\t\t\t\t<button className=\"btn btn-primary\" onClick={this.backButton}>\r\n\t\t\t\t\t\t\t\tGo Back\r\n\t\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-sm m-2\">\t\r\n\t\t\t\t\t\t\tPage Title Test!\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"row \">\r\n\t\t\t\t\t\t<div className=\"col-lg-3 border m-2\">\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<Calendar \r\n\t\t\t\t\t\t\t\t\tonChange={this.pickDate}\r\n\t\t\t\t\t\t\t\t\tvalue={this.state.currentDate}\r\n\t\t\t\t\t\t\t\t\ttileClassName={tileClassName}\r\n\r\n\t\t\t\t\t\t\t\t\tminDetail={'year'}\r\n\t\t\t\t\t\t\t\t\tmaxDetail={'month'}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col border m-2\">\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div className=\"row my-2\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<p>{this.state.messages}</p>\r\n\t\t\t\t\t\t\t\t\t<p>{this.state.journalDisp}</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"row my-2\">\r\n\t\t\t\t\t\t<div className=\"col-lg-2\">\r\n\t\t\t\t\t\t\t<p> Debug! </p>\r\n\t\t\t\t\t\t\t<button onClick={this.loadTestData}> Load Stored AI Data </button>\r\n\t\t\t\t\t\t\t<button onClick={this.getJournalDates}> Force Dates Update </button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"row my-2\">\r\n\t\t\t\t\t\t<div className=\"col border mx-2\">\r\n\t\t\t\t\t\t\t<Radar ref={this.chartReference} data={this.state.dataEmotion} options={this.state.optionsEmotions} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col border mx-2\">\r\n\t\t\t\t\t\t\t<Doughnut ref={this.chartReference} data={this.state.dataSentiment} options={this.state.optionsSentiment} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"row  my-2\">\r\n\t\t\t\t\t\t<div className=\"col border mx-2\">\r\n\t\t\t\t\t\t\t<Bar ref={this.chartReference} data={this.state.dataCategories} options={this.state.optionsCategories} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col border mx-2\">\r\n\t\t\t\t\t\t\t<Bar ref={this.chartReference} data={this.state.dataConcepts} options={this.state.optionsConcepts} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"row my-2\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<h3>Entities!</h3>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<table className=\"table\">\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\">Name</th>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\">Type</th>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\">#Appearances</th>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\">Relevance Score</th>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\">Emotion</th>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\">Sentiment</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{entitiesDisplay}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"row my-2\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<h3>Keywords!</h3>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<table className=\"table\">\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\">Word</th>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\">#Appearances</th>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\">Emotion</th>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\">Sentiment</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{keywordsDisplay}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"row my-2\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<h3>Relations!</h3>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<table className=\"table\">\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\">Thing</th>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\">Action</th>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\">Target</th>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\">Score</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{relationsDisplay}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"row  my-2\">\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\tPADDING\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(journalView);","import React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport { withRouter } from \"react-router-dom\";\r\nimport Store from \"store\"\r\nimport {Editor, EditorState, RichUtils, convertToRaw, convertFromRaw } from 'draft-js';\r\n//ContentState\r\n\r\nconst styles = {\r\n  editor: {\r\n    border: '1px solid gray',\r\n    minHeight: '6em'\r\n  }\r\n};\r\n\r\n// START OF EXAMPLE CODE FROM THE DRAFT.JS!!!!!\r\nclass StyleButton extends React.Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.onToggle = (e) => {\r\n\t\t\t//console.log(this.props.style)\r\n\t\t\te.preventDefault();\r\n\t\t\tthis.props.onToggle(this.props.style);\r\n\t\t};\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet className = 'btn btn-outline-primary';\r\n\t\tif (this.props.active) {\r\n\t\t\tclassName += ' active';\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<button className={className} onClick={this.onToggle}>\r\n\t\t\t\t{this.props.label}\r\n\t\t\t</button>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst BLOCK_TYPES = [\r\n\t{label: 'H1', style: 'header-one'},\r\n\t{label: 'H2', style: 'header-two'},\r\n\t{label: 'H3', style: 'header-three'},\r\n\t{label: 'H4', style: 'header-four'},\r\n\t{label: 'H5', style: 'header-five'},\r\n\t{label: 'H6', style: 'header-six'},\r\n\t//{label: 'Blockquote', style: 'blockquote'},\r\n\t{label: 'UL', style: 'unordered-list-item'},\r\n\t{label: 'OL', style: 'ordered-list-item'},\r\n\t//{label: 'Code Block', style: 'code-block'},\r\n];\r\n\r\nconst BlockStyleControls = (props) => {\r\n\tconst {editorState} = props;\r\n\tconst selection = editorState.getSelection();\r\n\tconst blockType = editorState\r\n\t  .getCurrentContent()\r\n\t  .getBlockForKey(selection.getStartKey())\r\n\t  .getType();\r\n\r\n\treturn (\r\n\t\t<div className=\"RichEditor-controls\">\r\n\t\t\t{BLOCK_TYPES.map((type) =>\r\n\t\t\t\t<StyleButton\r\n\t\t\t\t\tkey={type.label}\r\n\t\t\t\t\tactive={type.style === blockType}\r\n\t\t\t\t\tlabel={type.label}\r\n\t\t\t\t\tonToggle={props.onToggle}\r\n\t\t\t\t\tstyle={type.style}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst INLINE_STYLES = [\r\n\t{label: 'Bold', style: 'BOLD'},\r\n\t{label: 'Italic', style: 'ITALIC'},\r\n\t{label: 'Underline', style: 'UNDERLINE'},\r\n\t//{label: 'Monospace', style: 'CODE'},\r\n];\r\n\r\nconst InlineStyleControls = (props) => {\r\n\tconst currentStyle = props.editorState.getCurrentInlineStyle();\r\n\t\r\n\treturn (\r\n\t\t<div className=\"RichEditor-controls\">\r\n\t\t\t{INLINE_STYLES.map((type) =>\r\n\t\t\t\t<StyleButton\r\n\t\t\t\t\tkey={type.label}\r\n\t\t\t\t\tactive={currentStyle.has(type.style)}\r\n\t\t\t\t\tlabel={type.label}\r\n\t\t\t\t\tonToggle={props.onToggle}\r\n\t\t\t\t\tstyle={type.style}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\n// END OF THE EXAMPLE CODE!!!\r\n\r\nclass journalView extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n        super(props);\r\n\t\t\r\n\t\tconst today = new Date()\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tcurrentDate: today,\r\n\t\t\t\r\n\t\t\tmessages: \"Creating journal for: \" + today.toJSON().split(\"T\")[0],\r\n\t\t\t\r\n\t\t\teditorState: EditorState.createEmpty(),\r\n\t\t\t\r\n\t\t\tjournalPlaceolder: \"\",\r\n\r\n        };\r\n\t\t\r\n\t\t// This doesnt look right... Fix this later I guess\r\n\t\tthis.onChange = (incomingState) => {\r\n\t\t\t//console.log(incomingState)\r\n\t\t\tthis.setState({\r\n\t\t\t\teditorState:incomingState,\r\n\t\t\t})\t\r\n\t\t}\r\n\t\t\r\n\t\tthis.setEditor = (editor) => {\r\n\t\t\tthis.editor = editor;\r\n\t\t};\r\n\t\t\r\n\t};\r\n\r\n\tbackButton = () => {\r\n\t\tthis.props.history.goBack()\r\n\t}\r\n\r\n\t// Lets test a POST request then!\r\n\tsaveJournal = () => {\r\n\t\t\r\n\t\tconst config = {\r\n\t\t\theaders: { Authorization: `JWT ${this.props.authToken}` }\r\n\t\t};\r\n\t\t\r\n\t\tconst data = {\r\n\t\t\tshorthand: 'made from the website (random code needed)',\r\n\t\t\t\r\n\t\t\t// This is my workaround before I learn what ACTUALLY TO DO HERE\r\n\t\t\tauthor: '',\r\n\t\t\r\n\t\t\t// It SHOULD be sufficient to use the current date...\r\n\t\t\t// Because the journal transitions on date changes...\t\t\r\n\t\t\tcreatedDate: this.state.currentDate.toJSON().split(\"T\")[0],\r\n\t\t\t\r\n\t\t\t// Same here, Should be able to do this...\r\n\t\t\t// The question is, is this an \"overwrite\" or just an add?\r\n\t\t\tcontent: this.state.editorState.getCurrentContent().getPlainText(),\r\n\t\t};\r\n\t\t\r\n\t\t//console.log(data.content)\r\n\t\t\r\n\t\taxios.post(this.props.APIHost +\"/saveUserJournal/\", data, config )\r\n\t\t.then( res => { \r\n\t\t\r\n\t\t\tconsole.log(res)\r\n\t\t\tconsole.log(\"Success\")\r\n\t\t\t\r\n\t\t})\r\n\t\t.catch( err => {\r\n\t\t\t// Change this depending on the error...\r\n\t\t\tif (err.response.status === 401) {\r\n\t\t\t\tthis.props.forceLogout()\r\n\t\t\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\t\r\n\tloadToday = () => {\r\n\t\tlet loadedEditor = convertFromRaw(Store.get(\"TodayTest\"))\r\n\t\t//console.log(loadedEditor)\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\teditorState: EditorState.createWithContent(loadedEditor)\r\n\t\t})\r\n\t}\r\n\t\r\n\tcookieToday = () => {\r\n\t\t//console.log('content state', convertToRaw(this.state.editorState.getCurrentContent()));\r\n\t\tStore.set( \"TodayTest\", convertToRaw(this.state.editorState.getCurrentContent()) )\r\n\t}\r\n\r\n\tonBoldClick = () => {\r\n\t\tthis.onChange(RichUtils.toggleInlineStyle(this.state.editorState, 'BOLD'));\r\n\t}\r\n\t// Example code... Can I alter this to be more my style?\r\n\t// It works, so its okay for now...\r\n\ttoggleBlockType = (blockType) => {\r\n\t\tthis.onChange(\r\n\t\t\tRichUtils.toggleBlockType(\r\n\t\t\t\tthis.state.editorState,\r\n\t\t\t\tblockType\r\n\t\t\t)\r\n\t\t);\r\n\t}\r\n\t\r\n\ttoggleInlineStyle = (inlineStyle) => {\r\n\t\tthis.onChange(\r\n            RichUtils.toggleInlineStyle(\r\n\t\t\t\tthis.state.editorState,\r\n\t\t\t\tinlineStyle\r\n            )\r\n        );\r\n\t}\r\n\t\r\n\thandleKeyCommand = (command, editorState) => {\r\n\t\tconst newState = RichUtils.handleKeyCommand(editorState, command);\r\n\r\n\t\tif (newState) {\r\n\t\t\tthis.onChange(newState);\r\n\t\t\treturn 'handled';\r\n\t\t}\r\n\r\n\t\treturn 'not-handled';\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"makeView\">\r\n\t\t\t\t<div className=\"container\">\r\n\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-sm-3 m-2\">\t\r\n\t\t\t\t\t\t\t<button className=\"btn btn-primary\" onClick={this.backButton}>\r\n\t\t\t\t\t\t\t\tGo Back\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-sm m-2\">\t\r\n\t\t\t\t\t\t\tPage Title Test!\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t{this.state.messages}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col border mx-2 my-2\">\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<BlockStyleControls\r\n\t\t\t\t\t\t\t\teditorState={this.state.editorState}\r\n\t\t\t\t\t\t\t\tonToggle={this.toggleBlockType}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<InlineStyleControls\r\n\t\t\t\t\t\t\t\teditorState={this.state.editorState}\r\n\t\t\t\t\t\t\t\tonToggle={this.toggleInlineStyle}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div style={styles.editor} >\r\n\t\t\t\t\t\t\t\t<Editor\r\n\t\t\t\t\t\t\t\t  ref={this.setEditor}\r\n\t\t\t\t\t\t\t\t  \r\n\t\t\t\t\t\t\t\t  editorState={this.state.editorState}\r\n\t\t\t\t\t\t\t\t  onChange={this.onChange}\r\n\t\t\t\t\t\t\t\t  \r\n\t\t\t\t\t\t\t\t  handleKeyCommand={this.handleKeyCommand}\r\n\t\t\t\t\t\t\t\t  placeholder={this.state.journalPlaceolder}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<button className=\"btn btn-outline-primary\" onClick={this.saveJournal}> Save current Journal entry </button>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<button className=\"btn btn-outline-primary\" onClick={this.loadToday}> Load Today's Data </button>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<button className=\"btn btn-outline-primary\" onClick={this.cookieToday}> Cookie Today's Data </button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default withRouter(journalView);","import React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { ButtonGroup, ToggleButton } from 'react-bootstrap';\r\n\r\nimport Store from \"store\"\r\nimport Calendar from 'react-calendar'\r\nimport 'react-calendar/dist/Calendar.css';\r\n\r\nimport { ProgressBar } from 'react-bootstrap';\r\n\r\nimport { Radar, Bar } from 'react-chartjs-2';\r\nimport { testMaxMin, testBarMulti, stackedBarData3Test, stackedBarData2Test, stackedBarData, sentimentBarData } from '../utils';\r\nimport { getRadarEmotionOptions, testBarMultiOptions, stackedBarOptions, sentimentBarOptions } from '../utils';\r\n//import { makeCompanyTestData, makeCompanyTestDataOtherFormat } from \"../utils\";\r\n\r\n// Move all of the functions here to a seperate file, a repository, so that I can fast make layouts sometime\r\n\r\n// This is garunteed\r\nconst AIAspect = [\r\n    { name: 'Emotion', value: 'emotion' },\r\n    { name: 'Sentiment', value: 'sentiment' },\r\n    { name: 'Entities', value: 'entities' },\r\n\t{ name: 'Keywords', value: 'keywords' },\r\n\t{ name: 'Relations', value: 'relations' },\r\n];\r\n// This is also garunteed...\r\nconst daySet = [\r\n    { name: 'Monday', value: 'mon' },\r\n    { name: 'Tuesday', value: 'tue' },\r\n    { name: 'Wednesday', value: 'wed' },\r\n\t{ name: 'Thursday', value: 'thu' },\r\n\t{ name: 'Friday', value: 'fri' },\r\n\t{ name: 'Saturday', value: 'sat' },\r\n\t{ name: 'Sunday', value: 'sun' },\r\n\t{ name: 'All', value: 'allDay' },\r\n];\r\n\r\n// This is very lean...\r\nconst parseEmotion = (emotionData) => {\r\n\t\r\n\tlet derp = [emotionData.joy, emotionData.anger, emotionData.sadness, emotionData.disgust, emotionData.fear]\r\n\treturn derp;\r\n}\r\n\r\nclass companyViewSummary extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\t\t\t\r\n\t\t\tselectedPrompt:\"p1\",\r\n\t\t\tselectedAspect:\"emotion\",\r\n\t\t\tseletedDay:\"mon\",\r\n\t\t\t\r\n\t\t\tcurrentDate: new Date(),\r\n\t\t\tvalidSummaryDates: [],\r\n\t\t\t\r\n\t\t\tdropMessage: 'Select Company=>',\r\n\t\t\tcompanyList: [],\r\n\t\t\t\r\n\t\t\tcurrentCompany: \"None\",\r\n\t\t\t// What company are is the dataset for?\r\n\t\t\tdataCompany: undefined,\r\n\t\t\t// What week is the dataset for?\r\n\t\t\tdataDate: undefined,\r\n\t\t\t// The actual dataset\r\n\t\t\tdataSet: {mon:{},tue:{},wed:{},thu:{},fri:{},sat:{},sun:{},allDay:{}},\r\n\t\t\t\r\n\t\t\tmessages:\"Display based on the previous stucture, but with much more buttons and graph examples!\",\r\n        };\r\n\t}\r\n\t\r\n\tbackButton = () => {\r\n\t\tthis.props.history.goBack()\r\n\t}\r\n\t\r\n\tselectPrompt = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tselectedPrompt:event.currentTarget.value\r\n\t\t});\r\n\t}\r\n\tselectAI = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tselectedAspect:event.currentTarget.value\r\n\t\t});\r\n\t}\r\n\tselectDay = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tseletedDay:event.currentTarget.value\r\n\t\t});\r\n\t}\r\n\t\r\n\tchangeRequest = () => {\r\n\t\t//console.log( Store.get(\"testData\") )\r\n\t\t\r\n\t\t//let overwriteData = this.state.dataSet\r\n\t\t//console.log(overwriteData)\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\t//dataSet:overwriteData\r\n\t\t})\r\n\t}\r\n\t\r\n\t// Get Company List from the server\r\n\tgetCompanyList = () => {\r\n\t\t\r\n\t\tconst config = {\r\n\t\t\theaders: { Authorization: `JWT ${this.props.authToken}` }\r\n\t\t};\r\n\t\r\n\t\taxios.get(this.props.APIHost +\"/getUsersCompanies\", config)\r\n\t\t.then( \tres => {\r\n\t\t\t\t// Should respond with a 1 length thing\r\n\t\t\t\tif (res.data.length > 0) {\r\n\t\t\t\t\t// Normal behaviour\r\n\t\t\t\t\tconsole.log(\"Got the list of companies\")\r\n\t\t\t\t\t//console.log(res)\r\n\t\t\t\t\t\r\n\t\t\t\t\t// Companies this user is 'owner' of\r\n\t\t\t\t\t//console.log(res.data[0].companyOwner)\r\n\t\t\t\t\t// Companies that this user is Allowed to see\r\n\t\t\t\t\t//console.log(res.data[0].companyAllowsView)\r\n\t\t\t\t\t// Companies this user is sent updates on\r\n\t\t\t\t\t//console.log(res.data[0].companySendsTo)\r\n\t\t\t\t\t\r\n\t\t\t\t\t// Merge these three into a single set for viewing for now?\r\n\t\t\t\t\tlet adding = []\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar index;\r\n\t\t\t\t\tfor (index in res.data[0].companyOwner) {\r\n\t\t\t\t\t\tlet name = res.data[0].companyOwner[index]\r\n\t\t\t\t\t\tif ( !adding.includes(name) ) {\r\n\t\t\t\t\t\t\tadding.push(name)\r\n\t\t\t\t\t\t\t//console.log(name)\r\n\t\t\t\t\t\t}\t\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor (index in res.data[0].companyAllowsView) {\r\n\t\t\t\t\t\tlet name = res.data[0].companyAllowsView[index]\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif ( !adding.includes(name) ) {\r\n\t\t\t\t\t\t\tadding.push(name)\r\n\t\t\t\t\t\t\t//console.log(name)\r\n\t\t\t\t\t\t}\t\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor (index in res.data[0].companySendsTo) {\r\n\t\t\t\t\t\tlet name = res.data[0].companySendsTo[index]\r\n\t\t\t\t\t\tif ( !adding.includes(name) ) {\r\n\t\t\t\t\t\t\tadding.push(name)\r\n\t\t\t\t\t\t\t//console.log(name)\r\n\t\t\t\t\t\t}\t\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tStore.set(this.props.currentUser+'-companyList', {'theList':adding})\r\n\t\t\t\t\tthis.setState({companyList: adding})\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\t// This should not trigger\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch( err => {\r\n\t\t\t\tif (err.response.status === 401) {\r\n\t\t\t\t\tthis.props.forceLogout()\r\n\t\t\t\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\t\r\n\tgetCookiesListData = () => {\r\n\t\tlet getDates = Store.get(this.props.currentUser+'-companyList')\r\n\t\t\r\n\t\ttry {\r\n\t\t\tthis.setState({companyList: getDates['theList']})\r\n\t\t}\r\n\t\tcatch {\r\n\t\t\tconsole.log(\"Not in the cookies\")\r\n\t\t}\r\n\t}\r\n\t\r\n\t// Dates Stuff...\r\n\tgetCookiesValidDates = () => {\r\n\t\tlet getDates = Store.get(this.props.currentUser+'-'+this.state.currentCompany+'-ValidDates')\r\n\t\t\r\n\t\ttry {\r\n\t\t\tthis.setState({validSummaryDates: getDates['dates']})\r\n\t\t}\r\n\t\tcatch {\r\n\t\t\tconsole.log(\"Not in the cookies\")\r\n\t\t}\r\n\t}\r\n\t\r\n\tgetValidDates = () => {\r\n\t\t\r\n\t\tif (this.state.currentCompany === \"None\") {\r\n\t\t\tconsole.log(\"Select Valid Company!\")\r\n\t\t\treturn false\r\n\t\t}\r\n\t\t\r\n\t\tconst config = {\r\n\t\t\theaders: { Authorization: `JWT ${this.props.authToken}` }\r\n\t\t};\r\n\t\t\r\n\t\taxios.get(this.props.APIHost + \"/getCompanyWeekDates?reComp=\"+this.state.currentCompany, config)\r\n\t\t.then( \tres => {\r\n\t\t\t\tlet tempSumArray = []\r\n\t\t\t\t\r\n\t\t\t\tconsole.log(\"Got Valid Dates!\")\r\n\t\t\t\tStore.remove(this.props.currentUser+'-'+this.state.currentCompany+'-ValidDates')\r\n\r\n\t\t\t\tvar item = \"\"\r\n\t\t\t\tfor (item in res.data){\r\n\t\t\t\t\t\r\n\t\t\t\t\t// THESE DATES HAVE THE WRONG TIMEZONE COMING IN, SO THE RESULTING DAY CAN BE WRONG!!!!\r\n\t\t\t\t\t// CHANGE THIS!!!\r\n\t\t\t\t\tconst newDate = new Date(res.data[item].forDate)\r\n\t\t\t\t\tlet checkDate = 0\r\n\t\t\t\t\r\n\t\t\t\t\t// This is the \"Anchor Date\"\r\n\t\t\t\t\tif (res.data[item].hasMon) {\r\n\t\t\t\t\t\ttempSumArray.push( checkDate = newDate.getFullYear()+\"-\"+newDate.getMonth()+\"-\"+(newDate.getDate()+1) )\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (res.data[item].hasTue) {\r\n\t\t\t\t\t\ttempSumArray.push( checkDate = newDate.getFullYear()+\"-\"+newDate.getMonth()+\"-\"+(newDate.getDate()+2) )\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (res.data[item].hasWed) {\r\n\t\t\t\t\t\ttempSumArray.push( checkDate = newDate.getFullYear()+\"-\"+newDate.getMonth()+\"-\"+(newDate.getDate()+3) )\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (res.data[item].hasThu) {\r\n\t\t\t\t\t\ttempSumArray.push( checkDate = newDate.getFullYear()+\"-\"+newDate.getMonth()+\"-\"+(newDate.getDate()+4) )\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (res.data[item].hasFri) {\r\n\t\t\t\t\t\ttempSumArray.push( checkDate = newDate.getFullYear()+\"-\"+newDate.getMonth()+\"-\"+(newDate.getDate()+5) )\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (res.data[item].hasSat) {\r\n\t\t\t\t\t\ttempSumArray.push( checkDate = newDate.getFullYear()+\"-\"+newDate.getMonth()+\"-\"+(newDate.getDate()+6) )\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (res.data[item].hasSun) {\r\n\t\t\t\t\t\ttempSumArray.push( checkDate = newDate.getFullYear()+\"-\"+newDate.getMonth()+\"-\"+(newDate.getDate()+7) )\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\ttempSumArray.push( checkDate )\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tStore.set(this.props.currentUser+'-'+this.state.currentCompany+'-ValidDates', {'dates':tempSumArray})\r\n\t\t\t\t//console.log(tempSumArray)\r\n\t\t\t\t\r\n\t\t\t\tthis.setState({validSummaryDates: tempSumArray})\r\n\t\t})\r\n\t\t.catch( err => {\r\n\t\t\tif (err.response.status === 401) {\r\n\t\t\t\tthis.props.forceLogout()\r\n\t\t\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t\r\n\tpickDate = (selectedDate) => {\r\n\t\tlet todayWeekday = (selectedDate.getDay()-1)\r\n\t\tif (todayWeekday < 0) {\r\n\t\t\ttodayWeekday = 6\r\n\t\t}\r\n\t\t\r\n\t\t//console.log(this.state.seletedDay)\r\n\t\t//console.log(daySet[selectedDate.getDay()-1].value)\r\n\t\t\r\n\t\tlet copiedDate = new Date(selectedDate.getTime());\r\n\r\n\t\tcopiedDate.setDate(copiedDate.getDate()-(todayWeekday))\r\n\t\tconst dateReq = copiedDate.toJSON().split(\"T\")[0]\r\n\t\t\r\n\t\t// Either way, we HAVE to set the correct variables to what day we are doing...\r\n\t\tthis.setState({\r\n\t\t\tcurrentDate: selectedDate,\r\n\t\t\tseletedDay: daySet[ todayWeekday ].value,\r\n\t\t})\r\n\t\t\r\n\t\t// We are NOT in the same week, or we are NOT the same company, so we MUST do a API call\r\n\t\tif (!(this.state.dataDate === dateReq) || !(this.state.dataCompany === this.state.currentCompany) ) {\r\n\t\t\t\t\t\r\n\t\t\t// The following will get the data from the server.....\r\n\t\t\tif (this.state.currentCompany === \"None\") {\r\n\t\t\t\tconsole.log(\"Select Valid Company!\")\r\n\t\t\t\treturn false\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tconsole.log(\"requesting date\")\r\n\r\n\t\t\tconst config = {\r\n\t\t\t\theaders: { Authorization: `JWT ${this.props.authToken}` }\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\taxios.get(this.props.APIHost +\"/getCompanyWeekSummary/?reqDate=\"+dateReq+\"&reComp=\"+this.state.currentCompany, config)\r\n\t\t\t.then( \r\n\t\t\t\tres => {\r\n\t\t\t\t\t// What if it is > 1?\r\n\t\t\t\t\tif (res.data.length > 0) {\r\n\t\t\t\t\t\tconsole.log(\"obtained a company summary\")\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// Check for matching stuff on this end?\r\n\t\t\t\t\t\t//console.log(res.data[0].summaryResult)\r\n\t\t\t\t\t\t// Save in the cookies for non-login access...\r\n\t\t\t\t\t\t//Store.set('testSummaryData', res.data[0].summaryResult)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t//console.log(res.data)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tlet incomingDict = {\r\n\t\t\t\t\t\t\tmon:res.data[0].monResult,\r\n\t\t\t\t\t\t\ttue:res.data[0].tueResult,\r\n\t\t\t\t\t\t\twed:res.data[0].wedResult,\r\n\t\t\t\t\t\t\tthu:res.data[0].thuResult,\r\n\t\t\t\t\t\t\tfri:res.data[0].friResult,\r\n\t\t\t\t\t\t\tsat:res.data[0].satResult,\r\n\t\t\t\t\t\t\tsun:res.data[0].sunResult,\r\n\t\t\t\t\t\t\tallDay:res.data[0].summaryResult,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\tdataSet:incomingDict\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tconsole.log(\"No entry for that day\")\r\n\t\t\t\t\t\tthis.setState( {\r\n\t\t\t\t\t\t\tmessages: \"No entry for that day\",\r\n\t\t\t\t\t\t\tcompanyDisp: \":/\",\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// LEts not store it in the cookies for now...\r\n\t\t\t})\r\n\t\t\t.catch( err => {\r\n\t\t\t\tif (err.response.status === 401) {\r\n\t\t\t\t\tthis.props.forceLogout()\r\n\t\t\t\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\t\r\n\tsetCurrentCompany = (event) => {\r\n\t\r\n\t\tthis.setState({dropMessage: event.target.value, currentCompany: event.target.value})\r\n\t}\r\n\t\r\n\t// Rendering this with Bootstrap React.... To see if there is anything really interesting I can do with it\r\n\t// So far it doesnt look all that different \r\n\trender() {\r\n\t\t\r\n\t\tlet tableDisplay = []\r\n\t\tlet index;\r\n\t\t\r\n\t\t// Read the data from our state machine,\r\n\t\tconst currentPrompt = this.state.selectedPrompt\r\n\t\tconst currentDay = this.state.seletedDay\r\n\t\tconst currentAspect = this.state.selectedAspect\r\n\t\t\r\n\t\tlet promptList = []\r\n\t\t\r\n\t\t// At least this is garunteed to exist\r\n\t\tlet dayData = this.state.dataSet[currentDay]\r\n\t\t// Check to see if the lower states exist...\r\n\t\t\r\n\t\tlet displayStats = [];\r\n\t\tlet promptName = \"NO DATA FOUND!\";\r\n\t\t\r\n\t\t// This will trip if we have data\r\n\t\tif (!(dayData === null) && !(dayData === undefined)) {\r\n\t\t\t\r\n\t\t\tlet key;\r\n\t\t\tfor (key in dayData) {\r\n\r\n\t\t\t\tif ( !(dayData[key].name === undefined) ) {\r\n\t\t\t\t\tpromptList.push( {name:dayData[key].name, value:key} )\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// At this point if the array is still empty,we have nothing...\r\n\t\t\tif (promptList.length === 0) {\r\n\t\t\t\tpromptList = [{name:\"No Prompts\", value:\"None\"}]\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//console.log(currentPrompt)\r\n\t\t\t//console.log(dayData)\r\n\t\t\tlet sanityCheck = currentPrompt in dayData\r\n\t\t\tif (sanityCheck) {\r\n\t\t\t\t// Switch state this bugger...\r\n\t\t\t\tpromptName = dayData[currentPrompt][\"name\"]\r\n\t\t\t\tlet dataSet = dayData[currentPrompt][\"data\"][currentAspect]\r\n\t\t\t\tlet purity = dayData.responsePurity\r\n\t\t\t\t\r\n\t\t\t\tdisplayStats.push(\r\n\t\t\t\t\t<div className=\"row m-2\" key=\"1\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"progressBar\">\r\n\t\t\t\t\t\t\t\t<ProgressBar now={ purity } label={`${purity}% Response Rate`} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\t\t\r\n\t\t\t\tswitch(currentAspect) {\r\n\t\t\t\t\tcase \"emotion\":\r\n\t\t\t\t\t\tlet emoMax = parseEmotion( dataSet.max )\r\n\t\t\t\t\t\tlet emoAve = parseEmotion( dataSet.ave )\r\n\t\t\t\t\t\tlet emoMin = parseEmotion( dataSet.min )\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t//console.log(dataSet.max)\r\n\t\t\t\t\t\t//console.log(dataSet.ave)\r\n\t\t\t\t\t\t//console.log(dataSet.min)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tconst dataRadarTest = testMaxMin( emoMax, emoAve, emoMin )\r\n\t\t\t\t\t\tconst radarOptionsTest = getRadarEmotionOptions()\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tlet emoThresh = parseEmotion( dataSet.threshold )\r\n\t\t\t\t\t\tconst dataBarTest = testBarMulti( emoThresh )\r\n\t\t\t\t\t\tconst barOptionsTest = testBarMultiOptions()\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tdisplayStats.push(\r\n\t\t\t\t\t\t\t<div className=\"row m-2\" key=\"2\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t\t\tAverages + Max and min?\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Radar ref={this.chartReference} data={dataRadarTest} options={radarOptionsTest} />\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t\t\t\"How many have hit this threshold\"?\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Bar ref={this.chartReference} data={dataBarTest} options={barOptionsTest} />\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'sentiment':\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tconst dataBarStack = stackedBarData( [dataSet.min], [dataSet.ave], [dataSet.max] )\r\n\t\t\t\t\t\tconst barStackOptions = stackedBarOptions()\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tlet dataTresh = [dataSet.thresholdPos, dataSet.thresholdNeg]\r\n\t\t\t\t\t\tconst dataBarNorm = sentimentBarData( dataTresh )\r\n\t\t\t\t\t\tconst barOptionsNorm = sentimentBarOptions()\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tdisplayStats.push(\r\n\t\t\t\t\t\t\t<div className=\"row m-2\" key=\"2\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t\t\tSentiment Values\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Bar ref={this.chartReference} data={dataBarStack} options={barStackOptions} />\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t\t\t\"How many have hit this threshold\"?\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Bar ref={this.chartReference} data={dataBarNorm} options={barOptionsNorm} />\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'entities':\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t//console.log(dataSet)\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tfor (index in dataSet) {\r\n\t\t\t\t\t\t\tlet entity = dataSet[index]\r\n\t\t\t\t\t\t\t//console.log(entity)\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tlet emoMax = parseEmotion( entity.emotion.max )\r\n\t\t\t\t\t\t\tlet emoAve = parseEmotion( entity.emotion.min )\r\n\t\t\t\t\t\t\tlet emoMin = parseEmotion( entity.emotion.ave )\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tlet emoData = testMaxMin( emoMax, emoAve, emoMin )\r\n\t\t\t\t\t\t\tlet emoOptions = getRadarEmotionOptions()\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tconst dataEntSent = stackedBarData3Test( \r\n\t\t\t\t\t\t\t\t[entity.confidence.min, entity.relevance.min, entity.sentiment.min],\r\n\t\t\t\t\t\t\t\t[entity.confidence.ave, entity.relevance.ave, entity.sentiment.ave],\r\n\t\t\t\t\t\t\t\t[entity.confidence.max, entity.relevance.max, entity.sentiment.max],\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\tconst dataEntOptions = stackedBarOptions()\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\ttableDisplay.push(\r\n\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"row\">{entity.text}</th>\r\n\t\t\t\t\t\t\t\t\t<td>{entity.type}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{entity.count}</td>\r\n\t\t\t\t\t\t\t\t\t<td colSpan=\"3\"><Bar ref={this.chartReference} data={dataEntSent} options={dataEntOptions} /></td>\r\n\t\t\t\t\t\t\t\t\t<td><Radar ref={this.chartReference} data={emoData} options={emoOptions} /></td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tdisplayStats.push(\r\n\t\t\t\t\t\t\t<table className=\"table\" key=\"2\">\r\n\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Name</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Type</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">#Appearances</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Confidence</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Relevance</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Sentiment</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Emotion</th>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t{tableDisplay}\r\n\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'keywords':\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t//console.log(dataSet)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tfor (index in dataSet) {\r\n\t\t\t\t\t\t\tlet keyData = dataSet[index]\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t//const dataKeySent = stackedBarData( [keyData.sentiment.min], [keyData.sentiment.ave], [keyData.sentiment.max] )\r\n\t\t\t\t\t\t\t//const dataKeyOptions = stackedBarOptions()\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tlet emoMax = parseEmotion( keyData.emotion.max )\r\n\t\t\t\t\t\t\tlet emoAve = parseEmotion( keyData.emotion.min )\r\n\t\t\t\t\t\t\tlet emoMin = parseEmotion( keyData.emotion.ave )\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tconst dataRadar = testMaxMin( emoMax, emoAve, emoMin )\r\n\t\t\t\t\t\t\tconst dataRadarOptions = getRadarEmotionOptions()\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tconst dataKeySent = stackedBarData2Test(\r\n\t\t\t\t\t\t\t\t[keyData.relevance.min, keyData.sentiment.min], \r\n\t\t\t\t\t\t\t\t[keyData.relevance.ave, keyData.sentiment.ave], \r\n\t\t\t\t\t\t\t\t[keyData.relevance.max, keyData.sentiment.max] \r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\tconst dataKeyOptions = stackedBarOptions()\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\ttableDisplay.push(\r\n\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"row\">{keyData.text}</th>\r\n\t\t\t\t\t\t\t\t\t<td>{keyData.count}</td>\r\n\t\t\t\t\t\t\t\t\t<td colSpan=\"2\"><Bar ref={this.chartReference} data={dataKeySent} options={dataKeyOptions} /></td>\r\n\t\t\t\t\t\t\t\t\t<td><Radar ref={this.chartReference} data={dataRadar} options={dataRadarOptions} /></td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tdisplayStats.push(\r\n\t\t\t\t\t\t\t<table className=\"table\" key=\"2\">\r\n\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Name</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">#Appearances</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Relevance Score</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Sentiment</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Emotion</th>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t{tableDisplay}\r\n\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'relations':\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t//console.log(dataSet)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tfor (index in dataSet) {\r\n\t\t\t\t\t\t\tlet relData = dataSet[index]\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tconst scoreData = stackedBarData( [relData.score.min], [relData.score.ave], [relData.score.max] )\r\n\t\t\t\t\t\t\tconst scoreOptions = sentimentBarOptions()\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\ttableDisplay.push(\r\n\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"row\">{relData.count}</th>\r\n\t\t\t\t\t\t\t\t\t<td>{relData.arguments[0].text}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{relData.type}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{relData.arguments[1].text}</td>\r\n\t\t\t\t\t\t\t\t\t<td style={{width:\"30%\"}}><Bar ref={this.chartReference} data={scoreData} options={scoreOptions} /></td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tdisplayStats.push(\r\n\t\t\t\t\t\t\t<table className=\"table\" key=\"2\">\r\n\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">#Appearances</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Actor</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Action</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Target</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Score</th>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t{tableDisplay}\r\n\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tconsole.log(\"Invalid AI selection somehow\")\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\t// There was NO DATA in the day here, so we have to display nothing...\r\n\t\t\tpromptList = [{name:\"No Prompts\", value:\"None\"}]\r\n\t\t}\r\n\t\t\r\n\t\tconst tileClassName = ({ date, view }) => {\r\n\t\t\r\n\t\t\t// Add class to tiles in month view only\r\n\t\t\tif (view === 'month') {\r\n\t\t\t\t\r\n\t\t\t\tconst checkDate = date.getFullYear()+\"-\"+date.getMonth()+\"-\"+date.getDate()\r\n\t\t\t\t\r\n\t\t\t\t//console.log(checkDate)\r\n\t\t\t\t//console.log(this.state.validJournalDates)\r\n\r\n\t\t\t\t// Check if a date React-Calendar wants to check is on the list of dates to add class to\r\n\t\t\t\tconst hasSummary = this.state.validSummaryDates.find( element => element === checkDate)\r\n\t\t\t\t\r\n\t\t\t\tif (hasSummary) {\r\n\t\t\t\t\treturn 'btn btn-success'\r\n\t\t\t\t} else {\r\n\t\t\t\t\t//return 'btn btn-outline-dark'\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tvar dropDownInternal = []\r\n\t\t\r\n\t\tfor (index in this.state.companyList) {\r\n\t\t\tlet comp = this.state.companyList[index]\r\n\t\t\tdropDownInternal.push( \r\n\t\t\t\t<button className=\"dropdown-item\" key={index} onClick={this.setCurrentCompany} value={ comp }>\r\n\t\t\t\t\t{comp}\r\n\t\t\t\t</button> \r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className=\"testStuff\">\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-sm-3 m-2\">\t\r\n\t\t\t\t\t\t\t<button className=\"btn btn-primary\" onClick={this.backButton}>\r\n\t\t\t\t\t\t\t\tGo Back\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-sm m-2\">\t\r\n\t\t\t\t\t\t\tPage Title Test!\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"row m-2\">\r\n\t\t\t\t\t\t<div className=\"col-lg-3 border m-2\">\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<Calendar \r\n\t\t\t\t\t\t\t\t\tonChange={this.pickDate}\r\n\t\t\t\t\t\t\t\t\tvalue={this.state.currentDate}\r\n\t\t\t\t\t\t\t\t\ttileClassName={tileClassName}\r\n\r\n\t\t\t\t\t\t\t\t\tminDetail={'year'}\r\n\t\t\t\t\t\t\t\t\tmaxDetail={'month'}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col border m-2\">\t\t\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\t\t\r\n\t\t\t\t\t\t\t\t\t<p>{this.state.messages}</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"dropdown\">\r\n\t\t\t\t\t\t\t\t\t  <button className=\"btn btn-secondary dropdown-toggle\" type=\"button\" id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n\t\t\t\t\t\t\t\t\t  {this.state.dropMessage}\r\n\t\t\t\t\t\t\t\t\t  </button>\r\n\t\t\t\t\t\t\t\t\t  <div className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\r\n\t\t\t\t\t\t\t\t\t\t{dropDownInternal}\r\n\t\t\t\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<button onClick={this.getCompanyList}> Get Comp List (server)</button>\r\n\t\t\t\t\t\t\t\t\t<button onClick={this.getCookiesListData}> Get Comp List (cookies)</button>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<button onClick={this.getValidDates}> Get Valid Dates (server)</button>\r\n\t\t\t\t\t\t\t\t\t<button onClick={this.getCookiesValidDates}> Get Valid Dates (cookies)</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"row m-2\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<ButtonGroup toggle>\r\n\t\t\t\t\t\t\t\t\t\t{daySet.map((radio, idx) => (\r\n\t\t\t\t\t\t\t\t\t\t<ToggleButton\r\n\t\t\t\t\t\t\t\t\t\t\tkey={idx}\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"radio\"\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"radio\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={radio.value}\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={this.state.seletedDay === radio.value}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.selectDay}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{radio.name}\r\n\t\t\t\t\t\t\t\t\t\t</ToggleButton>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t</ButtonGroup>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div className=\"row m-2\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<ButtonGroup toggle>\r\n\t\t\t\t\t\t\t\t\t\t{promptList.map((radio, idx) => (\r\n\t\t\t\t\t\t\t\t\t\t<ToggleButton\r\n\t\t\t\t\t\t\t\t\t\t\tkey={idx}\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"radio\"\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"radio\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={radio.value}\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={this.state.selectedPrompt === radio.value}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.selectPrompt}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{radio.name}\r\n\t\t\t\t\t\t\t\t\t\t</ToggleButton>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t</ButtonGroup>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div className=\"row m-2\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<ButtonGroup toggle>\r\n\t\t\t\t\t\t\t\t\t\t{AIAspect.map((radio, idx) => (\r\n\t\t\t\t\t\t\t\t\t\t<ToggleButton\r\n\t\t\t\t\t\t\t\t\t\t\tkey={idx}\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"radio\"\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"info\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"radio\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={radio.value}\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={this.state.selectedAspect === radio.value}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.selectAI}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{radio.name}\r\n\t\t\t\t\t\t\t\t\t\t</ToggleButton>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t</ButtonGroup>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"row m-2\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\tShowing Data for {promptName}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t{displayStats}\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"row  my-2\">\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(companyViewSummary);","import React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nconst sorter = [\"Public\", \"Private\"]\r\n\r\nclass companySettings extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n        super(props);\r\n\t\t\r\n\t\tconst today = new Date()\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tcurrentDate: today,\r\n\t\t\t\r\n\t\t\tmessages: \"Hello, there is nothing yet here...\",\r\n\t\t\t\r\n\t\t\tdropMessage: 'Select Company=>',\r\n\t\t\tcurrentCompany: \"None\",\r\n\t\t\r\n\t\t\tcompanyList: [],\r\n\t\t\t\r\n\t\t\tdataCompanyName: 'No Company Selected',\r\n\t\t\tdataCompanyPriv: 'No Company Selected',\r\n\t\t\t\r\n\t\t\tdataCompanySendTo: [],\r\n\t\t\tdataCompanyViewing: [],\r\n\t\t\tdataCompanyGoverned: [],\r\n\t\t\t\r\n\t\t\tdataCompanySendToAdded: [],\r\n\t\t\tdataCompanyViewingAdded: [],\r\n\t\t\tdataCompanyGovernedAdded: [],\r\n\t\t\t\r\n\t\t\tdataCompanySendToDeleted: [],\r\n\t\t\tdataCompanyViewingDeleted: [],\r\n\t\t\tdataCompanyGovernedDeleted: [],\r\n\t\t\t\r\n\t\t\tsearchSend: \"\",\r\n\t\t\tsearchView: \"\",\r\n\t\t\tsearchGov: \"\",\r\n\t\t\taddingEmail: \"\",\r\n\t\t\t\r\n\t\t\tclickedList: \"\",\r\n\t\t\tclickedIndex: -1,\r\n        };\r\n\t\t\r\n\t\t\r\n\t};\r\n\r\n\tbackButton = () => {\r\n\t\tthis.props.history.goBack()\r\n\t}\r\n\t\r\n\tpostNewCompanyData = () => {\r\n\t\t\r\n\t\t// Verify we have a proper company before we do anyting...\r\n\t\tif (this.state.currentCompany === \"None\") {\r\n\t\t\tconsole.log(\"No company selected\")\r\n\t\t\treturn false\r\n\t\t}\r\n\t\t\r\n\t\tconst config = {\r\n\t\t\theaders: { Authorization: `JWT ${this.props.authToken}` }\r\n\t\t};\r\n\t\t\r\n\t\tconst data = {\r\n\t\t\t// These will be checked by the permissions on the other end...\r\n\t\t\t//requestUser: \"\",\r\n\t\t\tcompanyName: this.state.currentCompany,\r\n\t\t\tcompanyReName: this.state.dataCompanyName,\r\n\t\t\t\r\n\t\t\tsummaryViewAccess: this.state.dataCompanyPriv,\r\n\t\t\t\r\n\t\t\tresultsSendTargets: this.state.dataCompanySendTo,\r\n\t\t\tprivateViewingPerms: this.state.dataCompanyViewing,\r\n\t\t\tgovernedUsers: this.state.dataCompanyGoverned,\r\n\t\t\t\r\n\t\t};\r\n\t\t\r\n\t\t// This will overwrite stuff, hand ready for the deletions\r\n\t\t// But HOW do I handle the addings?\r\n\t\taxios.post(this.props.APIHost +\"/postCompanyData/\", data, config )\r\n\t\t.then( res => { \r\n\t\t\r\n\t\t\t//console.log(res)\r\n\t\t\tconsole.log(\"Success\")\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tdataCompanySendToDeleted: [],\r\n\t\t\t\tdataCompanyViewingDeleted: [],\r\n\t\t\t\tdataCompanyGovernedDeleted: [],\r\n\t\t\t})\r\n\t\t\t\r\n\t\t})\r\n\t\t.catch( err => {\r\n\t\t\t// Change this depending on the error...\r\n\t\t\tif (err.response.status === 401) {\r\n\t\t\t\tthis.props.forceLogout()\r\n\t\t\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tgetCompanyList = () => {\r\n\t\t\r\n\t\tconst config = {\r\n\t\t\theaders: { Authorization: `JWT ${this.props.authToken}` }\r\n\t\t};\r\n\t\t\r\n\t\t// This is bad, as it gets ALL companies...\r\n\t\t// But we SHOULD save it with the permissions...\r\n\t\t// So I need to make this better...\r\n\t\taxios.get(this.props.APIHost +\"/getUsersCompanies\", config)\r\n\t\t.then( \tres => {\r\n\t\t\t\t// Should respond with a 1 length thing\r\n\t\t\t\tif (res.data.length > 0) {\r\n\t\t\t\t\t// Normal behaviour\r\n\t\t\t\t\tconsole.log(\"Got the list of companies\")\r\n\t\t\t\t\t//console.log(res)\r\n\t\t\t\t\t\r\n\t\t\t\t\t// Companies this user is 'owner' of\r\n\t\t\t\t\t//console.log(res.data[0].companyOwner)\r\n\t\t\t\t\t\r\n\t\t\t\t\t// Merge these three into a single set for viewing for now?\r\n\t\t\t\t\tlet adding = []\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar index;\r\n\t\t\t\t\tfor (index in res.data[0].companyOwner) {\r\n\t\t\t\t\t\tlet name = res.data[0].companyOwner[index]\r\n\t\t\t\t\t\tif ( !adding.includes(name) ) {\r\n\t\t\t\t\t\t\tadding.push(name)\r\n\t\t\t\t\t\t\t//console.log(name)\r\n\t\t\t\t\t\t}\t\t\t\t\t\t\t\r\n\t\t\t\t\t}\t\t\t\t\t\r\n\t\t\t\t\tthis.setState({companyList: adding})\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\t// This should not trigger\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch( err => {\r\n\t\t\t\tif (err.response.status === 401) {\r\n\t\t\t\t\tthis.props.forceLogout()\r\n\t\t\t\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\t\r\n\tgetCompanyData = (targetCompany) => {\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: { Authorization: `JWT ${this.props.authToken}` }\r\n\t\t};\r\n\t\t\r\n\t\taxios.get(this.props.APIHost +\"/getCompanyData?reqComp=\"+targetCompany+\"\", config)\r\n\t\t.then( \tres => {\r\n\t\t\t\t// Should respond with a 1 length thing\r\n\t\t\t\tif (res.data.length > 0) {\r\n\t\t\t\t\t// Normal behaviour\r\n\t\t\t\t\tconsole.log(\"Got the company data!\")\r\n\t\t\t\t\t//console.log(res)\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tdataCompanyName: res.data[0].companyName,\r\n\t\t\t\t\t\tdataCompanyPriv: sorter[res.data[0].summaryViewAccess],\r\n\t\t\t\t\t\tdataCompanySendTo: res.data[0].resultsSendTargets,\r\n\t\t\t\t\t\tdataCompanyViewing: res.data[0].privateViewingPerms,\r\n\t\t\t\t\t\tdataCompanyGoverned: res.data[0].governedUsers,\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\t// This should not trigger\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch( err => {\r\n\t\t\t\tconsole.log(err)\r\n\t\t\t\tif (err.response.status === 401) {\r\n\t\t\t\t\tthis.props.forceLogout()\r\n\t\t\t\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\t\r\n\tsendChange = (event) => {\r\n\t\tthis.setState( {searchSend: event.target.value} )\r\n\t}\r\n\tviewChange = (event) => {\r\n\t\tthis.setState( {searchView: event.target.value} )\r\n\t}\r\n\tgovChange = (event) => {\r\n\t\tthis.setState( {searchGov: event.target.value} )\r\n\t}\r\n\t\r\n\temailFieldChange = (event) => {\r\n\t\tthis.setState( {addingEmail: event.target.value} )\r\n\t}\r\n\t\r\n\ttriggerCompanySwap = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tdropMessage: event.target.value, \r\n\t\t\tcurrentCompany: event.target.value\r\n\t\t})\r\n\t\t\r\n\t\tthis.getCompanyData(event.target.value)\r\n\t\t\r\n\t}\r\n\t\r\n\ttriggerModal = (event) => {\r\n\t\t\r\n\t\t//console.log(event.target.parentElement.id)\r\n\t\t//console.log(event.target.parentElement.parentElement.id)\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tclickedList: event.target.parentElement.parentElement.id,\r\n\t\t\tclickedIndex: event.target.parentElement.id,\r\n\t\t})\r\n\t}\r\n\t\r\n\ttriggerStopAdd = (event) => {\r\n\t\t\r\n\t\tlet subset = []\r\n\t\tif (event.target.parentElement.parentElement.id === \"sendUsers\") {\r\n\t\t\tsubset = this.state.dataCompanySendToAdded\r\n\t\t\tsubset.splice( event.target.parentElement.id, 1 )\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tdataCompanySendToAdded: subset\r\n\t\t\t})\r\n\t\t}\r\n\t\telse if (event.target.parentElement.parentElement.id === \"viewUsers\") {\r\n\t\t\tsubset = this.state.dataCompanyViewingAdded\r\n\t\t\tsubset.splice( event.target.parentElement.id, 1 )\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tdataCompanyViewingAdded: subset\r\n\t\t\t})\r\n\t\t}\r\n\t\telse if (event.target.parentElement.parentElement.id === \"govUsers\") {\r\n\t\t\tsubset = this.state.dataCompanyGovernedAdded\r\n\t\t\tsubset.splice( event.target.parentElement.id, 1 )\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tdataCompanyGovernedAdded: subset\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\t\r\n\ttriggerReAdd = (event) => {\r\n\t\t\r\n\t\tlet subset = []\r\n\t\tif (event.target.parentElement.parentElement.id === \"sendUsers\") {\r\n\t\t\tsubset = this.state.dataCompanySendToDeleted\r\n\t\t\tlet reAdd = this.state.dataCompanySendTo\r\n\t\t\treAdd.push( subset.splice( event.target.parentElement.id, 1 )[0] )\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tdataCompanySendTo: reAdd,\r\n\t\t\t\tdataCompanySendToDeleted: subset\r\n\t\t\t})\r\n\t\t}\r\n\t\telse if (event.target.parentElement.parentElement.id === \"viewUsers\") {\r\n\t\t\tsubset = this.state.dataCompanyViewingDeleted\r\n\t\t\tlet reAdd = this.state.dataCompanyViewing\r\n\t\t\treAdd.push( subset.splice( event.target.parentElement.id, 1 )[0] )\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tdataCompanyViewing: reAdd,\r\n\t\t\t\tdataCompanyViewingDeleted: subset\r\n\t\t\t})\r\n\t\t}\r\n\t\telse if (event.target.parentElement.parentElement.id === \"govUsers\") {\r\n\t\t\tsubset = this.state.dataCompanyGovernedDeleted\r\n\t\t\tlet reAdd = this.state.dataCompanyGoverned\r\n\t\t\treAdd.push( subset.splice( event.target.parentElement.id, 1 )[0] )\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tdataCompanyGoverned: reAdd,\r\n\t\t\t\tdataCompanyGovernedDeleted: subset\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\t\r\n\tmodelAddEmail = (event) => {\r\n\t\t//console.log( this.state.addingEmail )\r\n\t\t\r\n\t\t// Reusing a function, so this sits in a slightly wierdly named variable\r\n\t\t//console.log( this.state.clickedIndex )\r\n\t\t\r\n\t\tlet newArray = []\r\n\t\tif (this.state.clickedIndex === \"sendUsers\") {\r\n\t\t\tnewArray = this.state.dataCompanySendToAdded\r\n\t\t\tnewArray.push( this.state.addingEmail )\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tdataCompanySendToAdded: newArray,\r\n\t\t\t})\r\n\t\t}\r\n\t\telse if (this.state.clickedIndex === \"viewUsers\") {\r\n\t\t\tnewArray = this.state.dataCompanyViewingAdded\r\n\t\t\tnewArray.push( this.state.addingEmail )\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tdataCompanyViewingAdded: newArray,\r\n\t\t\t})\r\n\t\t}\r\n\t\telse if (this.state.clickedIndex === \"govUsers\") {\r\n\t\t\tnewArray = this.state.dataCompanyGovernedAdded\r\n\t\t\tnewArray.push( this.state.addingEmail )\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tdataCompanyGovernedAdded: newArray,\r\n\t\t\t})\r\n\t\t}\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\taddingEmail: \"\",\r\n\t\t})\r\n\t}\r\n\t\r\n\tmodelAcceptDelete = (event) => {\r\n\t\t\r\n\t\tlet subset = []\r\n\t\tif (this.state.clickedList === \"sendUsers\") {\r\n\t\t\tsubset = this.state.dataCompanySendTo\r\n\t\t\t\r\n\t\t\tlet deleteQueue = this.state.dataCompanySendToDeleted\r\n\t\t\tdeleteQueue.push( subset.splice( this.state.clickedIndex, 1 )[0] )\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tdataCompanySendTo: subset,\r\n\t\t\t\tdataCompanySendToDeleted: deleteQueue\r\n\t\t\t})\r\n\t\t}\r\n\t\telse if (this.state.clickedList === \"viewUsers\") {\r\n\t\t\tsubset = this.state.dataCompanyViewing\r\n\t\t\t\r\n\t\t\tlet deleteQueue = this.state.dataCompanyViewingDeleted\r\n\t\t\tdeleteQueue.push( subset.splice( this.state.clickedIndex, 1 )[0] )\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tdataCompanyViewing: subset,\r\n\t\t\t\tdataCompanyViewingDeleted: deleteQueue\r\n\t\t\t})\r\n\t\t}\r\n\t\telse if (this.state.clickedList === \"govUsers\") {\r\n\t\t\tsubset = this.state.dataCompanyGoverned\r\n\t\t\t\r\n\t\t\tlet deleteQueue = this.state.dataCompanyGovernedDeleted\r\n\t\t\tdeleteQueue.push( subset.splice( this.state.clickedIndex, 1 )[0] )\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tdataCompanyGoverned: subset,\r\n\t\t\t\tdataCompanyGovernedDeleted: deleteQueue\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\t\r\n\t\tvar dropDownInternal = []\r\n\t\t\r\n\t\tlet index;\r\n\t\tfor (index in this.state.companyList) {\r\n\t\t\tlet comp = this.state.companyList[index]\r\n\t\t\tdropDownInternal.push( \r\n\t\t\t\t<button className=\"dropdown-item\" key={index} onClick={this.triggerCompanySwap} value={ comp }>\r\n\t\t\t\t\t{comp}\r\n\t\t\t\t</button> \r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\t// Send To Set\r\n\t\tlet companySend = []\r\n\t\tfor (index in this.state.dataCompanySendTo) {\r\n\t\t\tlet userSet = this.state.dataCompanySendTo[index]\r\n\t\t\t\r\n\t\t\tif (userSet !== undefined) {\r\n\t\t\t\t\r\n\t\t\t\tif ( userSet.indexOf(this.state.searchSend) > -1) {\r\n\t\t\t\t\r\n\t\t\t\t\tcompanySend.push(\r\n\t\t\t\t\t\t<li key={index} id={index} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t\t\t{userSet}\r\n\t\t\t\t\t\t\t<button className=\"btn btn-sm btn-outline-danger\" data-toggle=\"modal\" onClick={this.triggerModal} data-target=\"#deleteConfirm\">x</button>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t)\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tlet companySendAdd = []\r\n\t\tfor (index in this.state.dataCompanySendToAdded) {\r\n\t\t\tlet userSet = this.state.dataCompanySendToAdded[index]\r\n\t\t\t\r\n\t\t\tcompanySendAdd.push(\r\n\t\t\t\t<li key={index} id={index} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t{userSet}\r\n\t\t\t\t\t<button className=\"btn btn-sm btn-outline-danger\" onClick={this.triggerStopAdd}>x</button>\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\tlet companySendDelete = []\r\n\t\tfor (index in this.state.dataCompanySendToDeleted) {\r\n\t\t\tlet userSet = this.state.dataCompanySendToDeleted[index]\r\n\t\t\t\r\n\t\t\tcompanySendDelete.push(\r\n\t\t\t\t<li key={index} id={index} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t{userSet}\r\n\t\t\t\t\t<button className=\"btn btn-sm btn-outline-success\" onClick={this.triggerReAdd}>+</button>\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\t// Viewing Permission Sets\r\n\t\tlet companyViewing = []\r\n\t\tfor (index in this.state.dataCompanyViewing) {\r\n\t\t\tlet userSet = this.state.dataCompanyViewing[index]\r\n\t\t\t\r\n\t\t\tif ( userSet.indexOf(this.state.searchView) > -1) {\r\n\t\t\t\r\n\t\t\t\tcompanyViewing.push(\r\n\t\t\t\t\t<li key={index} id={index} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t\t{userSet}\r\n\t\t\t\t\t\t<button className=\"btn btn-sm btn-outline-danger\" data-toggle=\"modal\" onClick={this.triggerModal} data-target=\"#deleteConfirm\">x</button>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tlet companyViewingAdd = []\r\n\t\tfor (index in this.state.dataCompanyViewingAdded) {\r\n\t\t\tlet userSet = this.state.dataCompanyViewingAdded[index]\r\n\t\t\t\r\n\t\t\tcompanyViewingAdd.push(\r\n\t\t\t\t<li key={index} id={index} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t{userSet}\r\n\t\t\t\t\t<button className=\"btn btn-sm btn-outline-danger\" onClick={this.triggerStopAdd}>x</button>\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\tlet companyViewingDelete = []\r\n\t\tfor (index in this.state.dataCompanyViewingDeleted) {\r\n\t\t\tlet userSet = this.state.dataCompanyViewingDeleted[index]\r\n\t\t\t\r\n\t\t\tcompanyViewingDelete.push(\r\n\t\t\t\t<li key={index} id={index} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t{userSet}\r\n\t\t\t\t\t<button className=\"btn btn-sm btn-outline-success\" onClick={this.triggerReAdd}>+</button>\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\t// Goverened Users List\r\n\t\tlet governedList = []\r\n\t\tfor (index in this.state.dataCompanyGoverned) {\r\n\t\t\tlet userSet = this.state.dataCompanyGoverned[index]\r\n\t\t\t\r\n\t\t\tif ( userSet.indexOf(this.state.searchGov) > -1) {\r\n\t\t\t\r\n\t\t\t\tgovernedList.push(\r\n\t\t\t\t\t<li key={index} id={index} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t\t{userSet}\r\n\t\t\t\t\t\t<button className=\"btn btn-sm btn-outline-danger\" data-toggle=\"modal\" onClick={this.triggerModal} data-target=\"#deleteConfirm\">x</button>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tlet companyGovernedAdd = []\r\n\t\tfor (index in this.state.dataCompanyGovernedAdded) {\r\n\t\t\tlet userSet = this.state.dataCompanyGovernedAdded[index]\r\n\t\t\t\r\n\t\t\tcompanyGovernedAdd.push(\r\n\t\t\t\t<li key={index} id={index} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t{userSet}\r\n\t\t\t\t\t<button className=\"btn btn-sm btn-outline-danger\" onClick={this.triggerStopAdd}>x</button>\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\tlet companyGovernedDelete = []\r\n\t\tfor (index in this.state.dataCompanyGovernedDeleted) {\r\n\t\t\tlet userSet = this.state.dataCompanyGovernedDeleted[index]\r\n\t\t\t\r\n\t\t\tcompanyGovernedDelete.push(\r\n\t\t\t\t<li key={index} id={index} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t{userSet}\r\n\t\t\t\t\t<button className=\"btn btn-sm btn-outline-success\" onClick={this.triggerReAdd}>+</button>\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\t// There is probobly a better way to do this... But the model stuff may work if it is filled out this way\r\n\t\tlet selectedUser = \"None\"\r\n\t\tif (this.state.clickedList === \"sendUsers\") {\r\n\t\t\tselectedUser = this.state.dataCompanySendTo[this.state.clickedIndex]\r\n\t\t}\r\n\t\telse if (this.state.clickedList === \"viewUsers\") {\r\n\t\t\tselectedUser = this.state.dataCompanyViewing[this.state.clickedIndex]\r\n\t\t}\r\n\t\telse if (this.state.clickedList === \"govUsers\") {\r\n\t\t\tselectedUser = this.state.dataCompanyGoverned[this.state.clickedIndex]\r\n\t\t}\r\n\t\t\r\n\t\t// Technically we can just use currentCompany but, hey! To error check I am going to use the response...\r\n\t\treturn (\r\n\t\t\t<div className=\"companySett\">\r\n\t\t\t\t<div className=\"container\">\r\n\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-sm-3 m-2\">\t\r\n\t\t\t\t\t\t\t<button className=\"btn btn-primary\" onClick={this.backButton}>\r\n\t\t\t\t\t\t\t\tGo Back\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-sm m-2\">\t\r\n\t\t\t\t\t\t\tPage Title Test!\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"dropdown\">\r\n\t\t\t\t\t\t\t  <button className=\"btn btn-secondary dropdown-toggle\" type=\"button\" id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n\t\t\t\t\t\t\t\t{this.state.dropMessage}\r\n\t\t\t\t\t\t\t  </button>\r\n\t\t\t\t\t\t\t  <div className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\r\n\t\t\t\t\t\t\t\t{dropDownInternal}\r\n\t\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<button onClick={this.getCompanyList}> Populate Company List </button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<button> onClick={this.postNewCompanyData}>Save Changes</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\tEdit Company name\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"card-text\">\r\n\t\t\t\t\t\t\t\t\t\t{this.state.dataCompanyName}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\tPrivate/Publix\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"card-text\">\r\n\t\t\t\t\t\t\t\t\t\t{this.state.dataCompanyPriv}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\tUsers Notified:\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<input className=\"form-control\" id=\"\" type=\"text\" onChange={this.sendChange} placeholder=\"Search...\"/>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<ul className=\"card-text list-group\" id=\"sendUsers\">\r\n\t\t\t\t\t\t\t\t\t\t{companySend}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<button type=\"button\" className=\"list-group-item list-group-item-action active\" data-toggle=\"modal\" onClick={this.triggerModal} data-target=\"#addNewUsers\">\r\n\t\t\t\t\t\t\t\t\t\t\tAdd user +\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<li key={\"rem\"} id={\"remLabel\"} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t\t\t\t\t\t\tUsers To Remove:\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t{companySendDelete}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<li key={\"add\"} id={\"addLabel\"} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t\t\t\t\t\t\tEmails To Add:\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t{companySendAdd}\r\n\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\tViewing Privilages:\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<input className=\"form-control\" id=\"\" type=\"text\" onChange={this.viewChange} placeholder=\"Search...\"/>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<ul className=\"card-text list-group\"  id=\"viewUsers\">\r\n\t\t\t\t\t\t\t\t\t\t{companyViewing}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<button type=\"button\" className=\"list-group-item list-group-item-action active\" data-toggle=\"modal\" onClick={this.triggerModal} data-target=\"#addNewUsers\">\r\n\t\t\t\t\t\t\t\t\t\t\tAdd user +\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<li key={\"rem\"} id={\"remLabel\"} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t\t\t\t\t\t\tUsers To Remove:\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t{companyViewingDelete}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<li key={\"add\"} id={\"addLabel\"} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t\t\t\t\t\t\tEmails To Add:\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t{companyViewingAdd}\r\n\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\tTarget Users:\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<input className=\"form-control\" id=\"\" type=\"text\" onChange={this.govChange} placeholder=\"Search...\"/>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<ul className=\"card-text list-group\"  id=\"govUsers\">\r\n\t\t\t\t\t\t\t\t\t\t{governedList}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<button type=\"button\" className=\"list-group-item list-group-item-action active\" data-toggle=\"modal\" onClick={this.triggerModal} data-target=\"#addNewUsers\">\r\n\t\t\t\t\t\t\t\t\t\t\tAdd user +\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<li key={\"rem\"} id={\"remLabel\"} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t\t\t\t\t\t\tUsers To Remove:\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t{companyGovernedDelete}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<li key={\"add\"} id={\"addLabel\"} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t\t\t\t\t\t\tEmails To Add:\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t{companyGovernedAdd}\r\n\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<div className=\"modal fade\" id=\"deleteConfirm\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"deleteConfirmation\" aria-hidden=\"true\">\r\n\t\t\t\t  <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n\t\t\t\t\t<div className=\"modal-content\">\r\n\t\t\t\t\t  <div className=\"modal-header\">\r\n\t\t\t\t\t\t<h5 className=\"modal-title\" id=\"deleteTitleConfirm\">Delete Confirmation</h5>\r\n\t\t\t\t\t\t<button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n\t\t\t\t\t\t  <span aria-hidden=\"true\">&times;</span>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t\t  <div className=\"modal-body\">\r\n\t\t\t\t\t\tAre you SURE you want to delete user: {selectedUser}?\r\n\t\t\t\t\t\tThey will be notified about this change.\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t\t  <div className=\"modal-footer\">\r\n\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-danger\" data-dismiss=\"modal\" onClick={this.modelAcceptDelete}>Yes</button>\r\n\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-primary\" data-dismiss=\"modal\">No</button>\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t  </div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<div className=\"modal fade\" id=\"addNewUsers\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"addNewUsersModal\" aria-hidden=\"true\">\r\n\t\t\t\t  <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n\t\t\t\t\t<div className=\"modal-content\">\r\n\t\t\t\t\t  <div className=\"modal-header\">\r\n\t\t\t\t\t\t<h5 className=\"modal-title\" id=\"deleteTitleConfirm\">Add New User</h5>\r\n\t\t\t\t\t\t<button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n\t\t\t\t\t\t  <span aria-hidden=\"true\">&times;</span>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t\t  <div className=\"modal-body\">\r\n\t\t\t\t\t\tEnter the email of the target user\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t\t  <div className='form-group'>\r\n\t\t\t\t\t\t<label>Email Address</label>\r\n\t\t\t\t\t\t<input type='email' className='form-control' value={this.state.addingEmail} onChange={this.emailFieldChange} placeholder='Enter email' />\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t\t  <div className=\"modal-footer\">\r\n\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-primary\" data-dismiss=\"modal\" onClick={this.modelAddEmail}>Add</button>\r\n\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-danger\" data-dismiss=\"modal\">Cancel</button>\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t  </div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default withRouter(companySettings);","import React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { ButtonGroup, ToggleButton } from 'react-bootstrap';\r\n\r\nimport Store from \"store\"\r\nimport Calendar from 'react-calendar'\r\nimport 'react-calendar/dist/Calendar.css';\r\n\r\nimport { ProgressBar } from 'react-bootstrap';\r\n\r\nimport { Radar, Bar } from 'react-chartjs-2';\r\nimport { testMaxMin, testBarMulti, stackedBarData3Test, stackedBarData2Test, stackedBarData, sentimentBarData } from '../utils';\r\nimport { getRadarEmotionOptions, testBarMultiOptions, stackedBarOptions, sentimentBarOptions } from '../utils';\r\n//import { makeCompanyTestData, makeCompanyTestDataOtherFormat } from \"../utils\";\r\n\r\n// Move all of the functions here to a seperate file, a repository, so that I can fast make layouts sometime\r\n\r\n// This is garunteed\r\nconst AIAspect = [\r\n    { name: 'Emotion', value: 'emotion' },\r\n    { name: 'Sentiment', value: 'sentiment' },\r\n    { name: 'Entities', value: 'entities' },\r\n\t{ name: 'Keywords', value: 'keywords' },\r\n\t{ name: 'Relations', value: 'relations' },\r\n];\r\n// This is also garunteed...\r\nconst daySet = [\r\n    { name: 'Monday', value: 'mon' },\r\n    { name: 'Tuesday', value: 'tue' },\r\n    { name: 'Wednesday', value: 'wed' },\r\n\t{ name: 'Thursday', value: 'thu' },\r\n\t{ name: 'Friday', value: 'fri' },\r\n\t{ name: 'Saturday', value: 'sat' },\r\n\t{ name: 'Sunday', value: 'sun' },\r\n\t{ name: 'All', value: 'allDay' },\r\n];\r\n\r\n// This is very lean...\r\nconst parseEmotion = (emotionData) => {\r\n\t\r\n\tlet derp = [emotionData.joy, emotionData.anger, emotionData.sadness, emotionData.disgust, emotionData.fear]\r\n\treturn derp;\r\n}\r\n\r\nclass testClass extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\t\t\t\r\n\t\t\tselectedPrompt:\"p1\",\r\n\t\t\tselectedAspect:\"emotion\",\r\n\t\t\tseletedDay:\"mon\",\r\n\t\t\t\r\n\t\t\tcurrentDate: new Date(),\r\n\t\t\tvalidSummaryDates: [],\r\n\t\t\t\r\n\t\t\tdropMessage: 'Select Company=>',\r\n\t\t\tcompanyList: [],\r\n\t\t\t\r\n\t\t\t// hmmmm\r\n\t\t\tdataSet: {mon:{},tue:{},wed:{},thu:{},fri:{},sat:{},sun:{},allDay:{}},\r\n\t\t\t\r\n\t\t\tmessages:\"Display based on the previous stucture, but with much more buttons and graph examples!\",\r\n        };\r\n\t}\r\n\t\r\n\tbackButton = () => {\r\n\t\tthis.props.history.goBack()\r\n\t}\r\n\t\r\n\tselectPrompt = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tselectedPrompt:event.currentTarget.value\r\n\t\t});\r\n\t}\r\n\tselectAI = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tselectedAspect:event.currentTarget.value\r\n\t\t});\r\n\t}\r\n\tselectDay = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tseletedDay:event.currentTarget.value\r\n\t\t});\r\n\t}\r\n\t\r\n\tchangeRequest = () => {\r\n\t\t//console.log( Store.get(\"testData\") )\r\n\t\t\r\n\t\t//let overwriteData = this.state.dataSet\r\n\t\t//console.log(overwriteData)\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\t//dataSet:overwriteData\r\n\t\t})\r\n\t}\r\n\t\r\n\t// Get Company List from the server\r\n\tgetCompanyList = () => {\r\n\t\t\r\n\t\tconst config = {\r\n\t\t\theaders: { Authorization: `JWT ${this.props.authToken}` }\r\n\t\t};\r\n\t\r\n\t\taxios.get(this.props.APIHost +\"/getUsersCompanies\", config)\r\n\t\t.then( \tres => {\r\n\t\t\t\t// Should respond with a 1 length thing\r\n\t\t\t\tif (res.data.length > 0) {\r\n\t\t\t\t\t// Normal behaviour\r\n\t\t\t\t\tconsole.log(\"Got the list of companies\")\r\n\t\t\t\t\t//console.log(res)\r\n\t\t\t\t\t\r\n\t\t\t\t\t// Companies this user is 'owner' of\r\n\t\t\t\t\t//console.log(res.data[0].companyOwner)\r\n\t\t\t\t\t// Companies that this user is Allowed to see\r\n\t\t\t\t\t//console.log(res.data[0].companyAllowsView)\r\n\t\t\t\t\t// Companies this user is sent updates on\r\n\t\t\t\t\t//console.log(res.data[0].companySendsTo)\r\n\t\t\t\t\t\r\n\t\t\t\t\t// Merge these three into a single set for viewing for now?\r\n\t\t\t\t\tlet adding = []\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar index;\r\n\t\t\t\t\tfor (index in res.data[0].companyOwner) {\r\n\t\t\t\t\t\tlet name = res.data[0].companyOwner[index]\r\n\t\t\t\t\t\tif ( !adding.includes(name) ) {\r\n\t\t\t\t\t\t\tadding.push(name)\r\n\t\t\t\t\t\t\t//console.log(name)\r\n\t\t\t\t\t\t}\t\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor (index in res.data[0].companyAllowsView) {\r\n\t\t\t\t\t\tlet name = res.data[0].companyAllowsView[index]\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif ( !adding.includes(name) ) {\r\n\t\t\t\t\t\t\tadding.push(name)\r\n\t\t\t\t\t\t\t//console.log(name)\r\n\t\t\t\t\t\t}\t\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor (index in res.data[0].companySendsTo) {\r\n\t\t\t\t\t\tlet name = res.data[0].companySendsTo[index]\r\n\t\t\t\t\t\tif ( !adding.includes(name) ) {\r\n\t\t\t\t\t\t\tadding.push(name)\r\n\t\t\t\t\t\t\t//console.log(name)\r\n\t\t\t\t\t\t}\t\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tStore.set(this.props.currentUser+'-companyList', {'theList':adding})\r\n\t\t\t\t\tthis.setState({companyList: adding})\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\t// This should not trigger\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch( err => {\r\n\t\t\t\tif (err.response.status === 401) {\r\n\t\t\t\t\tthis.props.forceLogout()\r\n\t\t\t\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\t\r\n\tgetCookiesListData = () => {\r\n\t\tlet getDates = Store.get(this.props.currentUser+'-companyList')\r\n\t\t\r\n\t\ttry {\r\n\t\t\tthis.setState({companyList: getDates['theList']})\r\n\t\t}\r\n\t\tcatch {\r\n\t\t\tconsole.log(\"Not in the cookies\")\r\n\t\t}\r\n\t}\r\n\t\r\n\t// Dates Stuff...\r\n\tgetCookiesValidDates = () => {\r\n\t\tlet getDates = Store.get(this.props.currentUser+'-'+this.state.currentCompany+'-ValidDates')\r\n\t\t\r\n\t\ttry {\r\n\t\t\tthis.setState({validSummaryDates: getDates['dates']})\r\n\t\t}\r\n\t\tcatch {\r\n\t\t\tconsole.log(\"Not in the cookies\")\r\n\t\t}\r\n\t}\r\n\t\r\n\tgetValidDates = () => {\r\n\t\t\r\n\t\tif (this.state.currentCompany === \"None\") {\r\n\t\t\tconsole.log(\"Select Valid Company!\")\r\n\t\t\treturn false\r\n\t\t}\r\n\t\t\r\n\t\tconst config = {\r\n\t\t\theaders: { Authorization: `JWT ${this.props.authToken}` }\r\n\t\t};\r\n\t\t\r\n\t\taxios.get(this.props.APIHost + \"/getCompanyWeekDates?reComp=\"+this.state.currentCompany, config)\r\n\t\t.then( \tres => {\r\n\t\t\t\tlet tempSumArray = []\r\n\t\t\t\t\r\n\t\t\t\tconsole.log(\"Got Valid Dates!\")\r\n\t\t\t\tStore.remove(this.props.currentUser+'-'+this.state.currentCompany+'-ValidDates')\r\n\r\n\t\t\t\tvar item = \"\"\r\n\t\t\t\tfor (item in res.data){\r\n\t\t\t\t\t\r\n\t\t\t\t\t// THESE DATES HAVE THE WRONG TIMEZONE COMING IN, SO THE RESULTING DAY CAN BE WRONG!!!!\r\n\t\t\t\t\t// CHANGE THIS!!!\r\n\t\t\t\t\tconst newDate = new Date(res.data[item].forDate)\r\n\t\t\t\t\tlet checkDate = 0\r\n\t\t\t\t\r\n\t\t\t\t\t// This is the \"Anchor Date\"\r\n\t\t\t\t\tif (res.data[item].hasMon) {\r\n\t\t\t\t\t\ttempSumArray.push( checkDate = newDate.getFullYear()+\"-\"+newDate.getMonth()+\"-\"+(newDate.getDate()+1) )\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (res.data[item].hasTue) {\r\n\t\t\t\t\t\ttempSumArray.push( checkDate = newDate.getFullYear()+\"-\"+newDate.getMonth()+\"-\"+(newDate.getDate()+2) )\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (res.data[item].hasWed) {\r\n\t\t\t\t\t\ttempSumArray.push( checkDate = newDate.getFullYear()+\"-\"+newDate.getMonth()+\"-\"+(newDate.getDate()+3) )\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (res.data[item].hasThu) {\r\n\t\t\t\t\t\ttempSumArray.push( checkDate = newDate.getFullYear()+\"-\"+newDate.getMonth()+\"-\"+(newDate.getDate()+4) )\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (res.data[item].hasFri) {\r\n\t\t\t\t\t\ttempSumArray.push( checkDate = newDate.getFullYear()+\"-\"+newDate.getMonth()+\"-\"+(newDate.getDate()+5) )\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (res.data[item].hasSat) {\r\n\t\t\t\t\t\ttempSumArray.push( checkDate = newDate.getFullYear()+\"-\"+newDate.getMonth()+\"-\"+(newDate.getDate()+6) )\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (res.data[item].hasSun) {\r\n\t\t\t\t\t\ttempSumArray.push( checkDate = newDate.getFullYear()+\"-\"+newDate.getMonth()+\"-\"+(newDate.getDate()+7) )\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\ttempSumArray.push( checkDate )\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tStore.set(this.props.currentUser+'-'+this.state.currentCompany+'-ValidDates', {'dates':tempSumArray})\r\n\t\t\t\t//console.log(tempSumArray)\r\n\t\t\t\t\r\n\t\t\t\tthis.setState({validSummaryDates: tempSumArray})\r\n\t\t})\r\n\t\t.catch( err => {\r\n\t\t\tif (err.response.status === 401) {\r\n\t\t\t\tthis.props.forceLogout()\r\n\t\t\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t\r\n\tpickDate = (selectedDate) => {\r\n\t\t// Try this for now, get the week from the server, load that data set into the memory...\r\n\t\tif (this.state.currentCompany === \"None\") {\r\n\t\t\tconsole.log(\"Select Valid Company!\")\r\n\t\t\treturn false\r\n\t\t}\r\n\t\t\r\n\t\tconsole.log(\"requesting date\")\r\n\t\tthis.setState({currentDate: selectedDate})\r\n\t\t\r\n\t\tconst config = {\r\n\t\t\theaders: { Authorization: `JWT ${this.props.authToken}` }\r\n\t\t};\r\n\r\n\t\tselectedDate.setDate(selectedDate.getDate()-selectedDate.getDay()+1)\r\n\t\tconst dateReq = selectedDate.toJSON().split(\"T\")[0]\r\n\t\t\r\n\t\taxios.get(this.props.APIHost +\"/getCompanyWeekSummary/?reqDate=\"+dateReq+\"&reComp=\"+this.state.currentCompany, config)\r\n\t\t.then( \r\n\t\t\tres => {\r\n\t\t\t\t// What if it is > 1?\r\n\t\t\t\tif (res.data.length > 0) {\r\n\t\t\t\t\tconsole.log(\"obtained a company summary\")\r\n\t\t\t\t\t\r\n\t\t\t\t\t// Check for matching stuff on this end?\r\n\t\t\t\t\t//console.log(res.data[0].summaryResult)\r\n\t\t\t\t\t// Save in the cookies for non-login access...\r\n\t\t\t\t\t//Store.set('testSummaryData', res.data[0].summaryResult)\r\n\t\t\t\t\t\r\n\t\t\t\t\t//console.log(res.data)\r\n\t\t\t\t\t\r\n\t\t\t\t\tlet incomingDict = {\r\n\t\t\t\t\t\tmon:res.data[0].monResult,\r\n\t\t\t\t\t\ttue:res.data[0].tueResult,\r\n\t\t\t\t\t\twed:res.data[0].wedResult,\r\n\t\t\t\t\t\tthu:res.data[0].thuResult,\r\n\t\t\t\t\t\tfri:res.data[0].friResult,\r\n\t\t\t\t\t\tsat:res.data[0].satResult,\r\n\t\t\t\t\t\tsun:res.data[0].sunResult,\r\n\t\t\t\t\t\tallDay:res.data[0].summaryResult,\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tdataSet:incomingDict\r\n\t\t\t\t\t})\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tconsole.log(\"No entry for that day\")\r\n\t\t\t\t\tthis.setState( {\r\n\t\t\t\t\t\tmessages: \"No entry for that day\",\r\n\t\t\t\t\t\tcompanyDisp: \":/\",\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\t// LEts not store it in the cookies for now...\r\n\t\t})\r\n\t\t.catch( err => {\r\n\t\t\tif (err.response.status === 401) {\r\n\t\t\t\tthis.props.forceLogout()\r\n\t\t\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t\r\n\tsetCurrentCompany = (event) => {\r\n\t\r\n\t\tthis.setState({dropMessage: event.target.value, currentCompany: event.target.value})\r\n\t}\r\n\t\r\n\t// Rendering this with Bootstrap React.... To see if there is anything really interesting I can do with it\r\n\t// So far it doesnt look all that different \r\n\trender() {\r\n\t\t\r\n\t\tlet tableDisplay = []\r\n\t\tlet index;\r\n\t\t\r\n\t\t// Read the data from our state machine,\r\n\t\tconst currentPrompt = this.state.selectedPrompt\r\n\t\tconst currentDay = this.state.seletedDay\r\n\t\tconst currentAspect = this.state.selectedAspect\r\n\t\t\r\n\t\tlet promptList = []\r\n\t\t\r\n\t\t// At least this is garunteed to exist\r\n\t\tlet dayData = this.state.dataSet[currentDay]\r\n\t\t// Check to see if the lower states exist...\r\n\t\t\r\n\t\tlet displayStats = [];\r\n\t\tlet promptName = \"NO DATA FOUND!\";\r\n\t\t\r\n\t\t\r\n\t\t// This will trip if we have data\r\n\t\tif (!(dayData === null)) {\r\n\t\t\t\r\n\t\t\tlet key;\r\n\t\t\tfor (key in dayData) {\r\n\r\n\t\t\t\tif ( !(dayData[key].name === undefined) ) {\r\n\t\t\t\t\tpromptList.push( {name:dayData[key].name, value:key} )\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// At this point if the array is still empty,we have nothing...\r\n\t\t\tif (promptList.length === 0) {\r\n\t\t\t\tpromptList = [{name:\"No Prompts\", value:\"None\"}]\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tlet sanityCheck = currentPrompt in dayData\r\n\t\t\tif (sanityCheck) {\r\n\t\t\t\t// Switch state this bugger...\r\n\t\t\t\tpromptName = dayData[currentPrompt][\"name\"]\r\n\t\t\t\tlet dataSet = dayData[currentPrompt][\"data\"][currentAspect]\r\n\t\t\t\tlet purity = dayData.responsePurity\r\n\t\t\t\t\r\n\t\t\t\tdisplayStats.push(\r\n\t\t\t\t\t<div className=\"row m-2\" key=\"1\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"progressBar\">\r\n\t\t\t\t\t\t\t\t<ProgressBar now={ purity } label={`${purity}% Response Rate`} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\t\t\r\n\t\t\t\tswitch(currentAspect) {\r\n\t\t\t\t\tcase \"emotion\":\r\n\t\t\t\t\t\tlet emoMax = parseEmotion( dataSet.max )\r\n\t\t\t\t\t\tlet emoAve = parseEmotion( dataSet.ave )\r\n\t\t\t\t\t\tlet emoMin = parseEmotion( dataSet.min )\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tconsole.log(dataSet.max)\r\n\t\t\t\t\t\tconsole.log(dataSet.ave)\r\n\t\t\t\t\t\tconsole.log(dataSet.min)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tconst dataRadarTest = testMaxMin( emoMax, emoAve, emoMin )\r\n\t\t\t\t\t\tconst radarOptionsTest = getRadarEmotionOptions()\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tlet emoThresh = parseEmotion( dataSet.threshold )\r\n\t\t\t\t\t\tconst dataBarTest = testBarMulti( emoThresh )\r\n\t\t\t\t\t\tconst barOptionsTest = testBarMultiOptions()\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tdisplayStats.push(\r\n\t\t\t\t\t\t\t<div className=\"row m-2\" key=\"2\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t\t\tAverages + Max and min?\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Radar ref={this.chartReference} data={dataRadarTest} options={radarOptionsTest} />\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t\t\t\"How many have hit this threshold\"?\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Bar ref={this.chartReference} data={dataBarTest} options={barOptionsTest} />\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'sentiment':\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tconst dataBarStack = stackedBarData( [dataSet.min], [dataSet.ave], [dataSet.max] )\r\n\t\t\t\t\t\tconst barStackOptions = stackedBarOptions()\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tlet dataTresh = [dataSet.thresholdPos, dataSet.thresholdNeg]\r\n\t\t\t\t\t\tconst dataBarNorm = sentimentBarData( dataTresh )\r\n\t\t\t\t\t\tconst barOptionsNorm = sentimentBarOptions()\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tdisplayStats.push(\r\n\t\t\t\t\t\t\t<div className=\"row m-2\" key=\"2\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t\t\tSentiment Values\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Bar ref={this.chartReference} data={dataBarStack} options={barStackOptions} />\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t\t\t\"How many have hit this threshold\"?\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Bar ref={this.chartReference} data={dataBarNorm} options={barOptionsNorm} />\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'entities':\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t//console.log(dataSet)\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tfor (index in dataSet) {\r\n\t\t\t\t\t\t\tlet entity = dataSet[index]\r\n\t\t\t\t\t\t\tconsole.log(entity)\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tlet emoMax = parseEmotion( entity.emotion.max )\r\n\t\t\t\t\t\t\tlet emoAve = parseEmotion( entity.emotion.min )\r\n\t\t\t\t\t\t\tlet emoMin = parseEmotion( entity.emotion.ave )\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tlet emoData = testMaxMin( emoMax, emoAve, emoMin )\r\n\t\t\t\t\t\t\tlet emoOptions = getRadarEmotionOptions()\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tconst dataEntSent = stackedBarData3Test( \r\n\t\t\t\t\t\t\t\t[entity.confidence.min, entity.relevance.min, entity.sentiment.min],\r\n\t\t\t\t\t\t\t\t[entity.confidence.ave, entity.relevance.ave, entity.sentiment.ave],\r\n\t\t\t\t\t\t\t\t[entity.confidence.max, entity.relevance.max, entity.sentiment.max],\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\tconst dataEntOptions = stackedBarOptions()\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\ttableDisplay.push(\r\n\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"row\">{entity.text}</th>\r\n\t\t\t\t\t\t\t\t\t<td>{entity.type}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{entity.count}</td>\r\n\t\t\t\t\t\t\t\t\t<td colSpan=\"3\"><Bar ref={this.chartReference} data={dataEntSent} options={dataEntOptions} /></td>\r\n\t\t\t\t\t\t\t\t\t<td><Radar ref={this.chartReference} data={emoData} options={emoOptions} /></td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tdisplayStats.push(\r\n\t\t\t\t\t\t\t<table className=\"table\" key=\"2\">\r\n\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Name</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Type</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">#Appearances</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Confidence</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Relevance</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Sentiment</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Emotion</th>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t{tableDisplay}\r\n\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'keywords':\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t//console.log(dataSet)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tfor (index in dataSet) {\r\n\t\t\t\t\t\t\tlet keyData = dataSet[index]\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t//const dataKeySent = stackedBarData( [keyData.sentiment.min], [keyData.sentiment.ave], [keyData.sentiment.max] )\r\n\t\t\t\t\t\t\t//const dataKeyOptions = stackedBarOptions()\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tlet emoMax = parseEmotion( keyData.emotion.max )\r\n\t\t\t\t\t\t\tlet emoAve = parseEmotion( keyData.emotion.min )\r\n\t\t\t\t\t\t\tlet emoMin = parseEmotion( keyData.emotion.ave )\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tconst dataRadar = testMaxMin( emoMax, emoAve, emoMin )\r\n\t\t\t\t\t\t\tconst dataRadarOptions = getRadarEmotionOptions()\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tconst dataKeySent = stackedBarData2Test(\r\n\t\t\t\t\t\t\t\t[keyData.relevance.min, keyData.sentiment.min], \r\n\t\t\t\t\t\t\t\t[keyData.relevance.ave, keyData.sentiment.ave], \r\n\t\t\t\t\t\t\t\t[keyData.relevance.max, keyData.sentiment.max] \r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\tconst dataKeyOptions = stackedBarOptions()\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\ttableDisplay.push(\r\n\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"row\">{keyData.text}</th>\r\n\t\t\t\t\t\t\t\t\t<td>{keyData.count}</td>\r\n\t\t\t\t\t\t\t\t\t<td colSpan=\"2\"><Bar ref={this.chartReference} data={dataKeySent} options={dataKeyOptions} /></td>\r\n\t\t\t\t\t\t\t\t\t<td><Radar ref={this.chartReference} data={dataRadar} options={dataRadarOptions} /></td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tdisplayStats.push(\r\n\t\t\t\t\t\t\t<table className=\"table\" key=\"2\">\r\n\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Name</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">#Appearances</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Relevance Score</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Sentiment</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Emotion</th>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t{tableDisplay}\r\n\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'relations':\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t//console.log(dataSet)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tfor (index in dataSet) {\r\n\t\t\t\t\t\t\tlet relData = dataSet[index]\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tconst scoreData = stackedBarData( [relData.score.min], [relData.score.ave], [relData.score.max] )\r\n\t\t\t\t\t\t\tconst scoreOptions = sentimentBarOptions()\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\ttableDisplay.push(\r\n\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"row\">{relData.count}</th>\r\n\t\t\t\t\t\t\t\t\t<td>{relData.arguments[0].text}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{relData.type}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{relData.arguments[1].text}</td>\r\n\t\t\t\t\t\t\t\t\t<td style={{width:\"30%\"}}><Bar ref={this.chartReference} data={scoreData} options={scoreOptions} /></td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tdisplayStats.push(\r\n\t\t\t\t\t\t\t<table className=\"table\" key=\"2\">\r\n\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">#Appearances</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Actor</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Action</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Target</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Score</th>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t{tableDisplay}\r\n\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tconsole.log(\"Invalid AI selection somehow\")\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\t// There was NO DATA in the day here, so we have to display nothing...\r\n\t\t\tpromptList = [{name:\"No Prompts\", value:\"None\"}]\r\n\t\t}\r\n\t\t\r\n\t\tconst tileClassName = ({ date, view }) => {\r\n\t\t\r\n\t\t\t// Add class to tiles in month view only\r\n\t\t\tif (view === 'month') {\r\n\t\t\t\t\r\n\t\t\t\tconst checkDate = date.getFullYear()+\"-\"+date.getMonth()+\"-\"+date.getDate()\r\n\t\t\t\t\r\n\t\t\t\t//console.log(checkDate)\r\n\t\t\t\t//console.log(this.state.validJournalDates)\r\n\r\n\t\t\t\t// Check if a date React-Calendar wants to check is on the list of dates to add class to\r\n\t\t\t\tconst hasSummary = this.state.validSummaryDates.find( element => element === checkDate)\r\n\t\t\t\t\r\n\t\t\t\tif (hasSummary) {\r\n\t\t\t\t\treturn 'btn btn-success'\r\n\t\t\t\t} else {\r\n\t\t\t\t\t//return 'btn btn-outline-dark'\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tvar dropDownInternal = []\r\n\t\t\r\n\t\tfor (index in this.state.companyList) {\r\n\t\t\tlet comp = this.state.companyList[index]\r\n\t\t\tdropDownInternal.push( \r\n\t\t\t\t<button className=\"dropdown-item\" key={index} onClick={this.setCurrentCompany} value={ comp }>\r\n\t\t\t\t\t{comp}\r\n\t\t\t\t</button> \r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className=\"testStuff\">\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-sm-3 m-2\">\t\r\n\t\t\t\t\t\t\t<button className=\"btn btn-primary\" onClick={this.backButton}>\r\n\t\t\t\t\t\t\t\tGo Back\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-sm m-2\">\t\r\n\t\t\t\t\t\t\tPage Title Test!\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"row m-2\">\r\n\t\t\t\t\t\t<div className=\"col-lg-3 border m-2\">\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<Calendar \r\n\t\t\t\t\t\t\t\t\tonChange={this.pickDate}\r\n\t\t\t\t\t\t\t\t\tvalue={this.state.currentDate}\r\n\t\t\t\t\t\t\t\t\ttileClassName={tileClassName}\r\n\r\n\t\t\t\t\t\t\t\t\tminDetail={'year'}\r\n\t\t\t\t\t\t\t\t\tmaxDetail={'month'}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col border m-2\">\t\t\t\t\t\r\n\t\t\t\t\t\t\t<p>{this.state.messages}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"dropdown\">\r\n\t\t\t\t\t\t\t  <button className=\"btn btn-secondary dropdown-toggle\" type=\"button\" id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n\t\t\t\t\t\t\t  {this.state.dropMessage}\r\n\t\t\t\t\t\t\t  </button>\r\n\t\t\t\t\t\t\t  <div className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\r\n\t\t\t\t\t\t\t\t{dropDownInternal}\r\n\t\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<button onClick={this.getCompanyList}> Get Comp List (server)</button>\r\n\t\t\t\t\t\t\t<button onClick={this.getCookiesListData}> Get Comp List (cookies)</button>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<button onClick={this.getValidDates}> Get Valid Dates (server)</button>\r\n\t\t\t\t\t\t\t<button onClick={this.getCookiesValidDates}> Get Valid Dates (cookies)</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"row m-2\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<ButtonGroup toggle>\r\n\t\t\t\t\t\t\t\t{daySet.map((radio, idx) => (\r\n\t\t\t\t\t\t\t\t<ToggleButton\r\n\t\t\t\t\t\t\t\t\tkey={idx}\r\n\t\t\t\t\t\t\t\t\ttype=\"radio\"\r\n\t\t\t\t\t\t\t\t\tvariant=\"secondary\"\r\n\t\t\t\t\t\t\t\t\tname=\"radio\"\r\n\t\t\t\t\t\t\t\t\tvalue={radio.value}\r\n\t\t\t\t\t\t\t\t\tchecked={this.state.seletedDay === radio.value}\r\n\t\t\t\t\t\t\t\t\tonChange={this.selectDay}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{radio.name}\r\n\t\t\t\t\t\t\t\t</ToggleButton>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</ButtonGroup>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"row m-2\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<ButtonGroup toggle>\r\n\t\t\t\t\t\t\t\t{promptList.map((radio, idx) => (\r\n\t\t\t\t\t\t\t\t<ToggleButton\r\n\t\t\t\t\t\t\t\t\tkey={idx}\r\n\t\t\t\t\t\t\t\t\ttype=\"radio\"\r\n\t\t\t\t\t\t\t\t\tvariant=\"primary\"\r\n\t\t\t\t\t\t\t\t\tname=\"radio\"\r\n\t\t\t\t\t\t\t\t\tvalue={radio.value}\r\n\t\t\t\t\t\t\t\t\tchecked={this.state.selectedPrompt === radio.value}\r\n\t\t\t\t\t\t\t\t\tonChange={this.selectPrompt}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{radio.name}\r\n\t\t\t\t\t\t\t\t</ToggleButton>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</ButtonGroup>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"row m-2\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<ButtonGroup toggle>\r\n\t\t\t\t\t\t\t\t{AIAspect.map((radio, idx) => (\r\n\t\t\t\t\t\t\t\t<ToggleButton\r\n\t\t\t\t\t\t\t\t\tkey={idx}\r\n\t\t\t\t\t\t\t\t\ttype=\"radio\"\r\n\t\t\t\t\t\t\t\t\tvariant=\"info\"\r\n\t\t\t\t\t\t\t\t\tname=\"radio\"\r\n\t\t\t\t\t\t\t\t\tvalue={radio.value}\r\n\t\t\t\t\t\t\t\t\tchecked={this.state.selectedAspect === radio.value}\r\n\t\t\t\t\t\t\t\t\tonChange={this.selectAI}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{radio.name}\r\n\t\t\t\t\t\t\t\t</ToggleButton>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</ButtonGroup>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"row m-2\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\tShowing Data for {promptName}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t{displayStats}\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"row  my-2\">\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(testClass);","import React from \"react\";\r\n\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { ButtonGroup, ToggleButton } from 'react-bootstrap';\r\n\r\n//import Store from \"store\"\r\n\r\nimport { ProgressBar } from 'react-bootstrap';\r\n\r\nimport Calendar from 'react-calendar'\r\nimport 'react-calendar/dist/Calendar.css';\r\n\r\nimport { Radar, Bar } from 'react-chartjs-2';\r\nimport { testMaxMin, testBarMulti, stackedBarData3Test, stackedBarData2Test, stackedBarData, sentimentBarData } from '../utils';\r\nimport { getRadarEmotionOptions, testBarMultiOptions, stackedBarOptions, sentimentBarOptions } from '../utils';\r\nimport {makeCompanyTestData} from \"../utils\";\r\n\r\nconst promptNames = {\r\n\tp1:\"Full Prompt 1 Name Here\",\r\n\tp2:\"Full Prompt 2 Name Here\",\r\n\tp3:\"Full Prompt 3 Name Here\",\r\n\tp4:\"Full Prompt 4 Name Here\",\r\n}\r\n\r\nconst promptList = [\r\n    { name: 'Prompt 1 Type?', value: 'p1' },\r\n    { name: 'Prompt 2 Type?', value: 'p2' },\r\n    { name: 'Prompt 3 Type?', value: 'p3' },\r\n\t{ name: 'Prompt 4 Type?', value: 'p4' },\r\n];\r\n\r\nconst AIAspect = [\r\n    { name: 'Emotion', value: 'emotion' },\r\n    { name: 'Sentiment', value: 'sentiment' },\r\n    { name: 'Entities', value: 'entities' },\r\n\t{ name: 'Keywords', value: 'keywords' },\r\n\t{ name: 'Relations', value: 'relations' },\r\n];\r\n\r\nconst daySet = [\r\n    { name: 'Monday', value: 'mon' },\r\n    { name: 'Tuesday', value: 'tue' },\r\n    { name: 'Wednesday', value: 'wed' },\r\n\t{ name: 'Thursday', value: 'thu' },\r\n\t{ name: 'Friday', value: 'fri' },\r\n\t{ name: 'Saturday', value: 'sat' },\r\n\t{ name: 'Sunday', value: 'sun' },\r\n\t{ name: 'All', value: 'allDay' },\r\n];\r\n\r\n// This is very lean...\r\nconst parseEmotion = (emotionData) => {\r\n\t\r\n\tlet derp = [emotionData.joy, emotionData.anger, emotionData.sadness, emotionData.disgust, emotionData.fear]\r\n\treturn derp;\r\n}\r\n\r\nclass testClass extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\t\t\t\r\n\t\t\tselectedPrompt:\"p1\",\r\n\t\t\tselectedAspect:\"emotion\",\r\n\t\t\tseletedDay:\"mon\",\r\n\t\t\t\r\n\t\t\t// hmmmm\r\n\t\t\tdataSet: makeCompanyTestData(),\r\n        };\r\n\t}\r\n\t\r\n\tbackButton = () => {\r\n\t\tthis.props.history.goBack()\r\n\t}\r\n\t\r\n\tselectPrompt = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tselectedPrompt:event.currentTarget.value\r\n\t\t});\r\n\t\t\r\n\t\tthis.changeRequest()\r\n\t}\r\n\tselectAI = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tselectedAspect:event.currentTarget.value\r\n\t\t});\r\n\t\t\r\n\t\tthis.changeRequest()\r\n\t}\r\n\tselectDay = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tseletedDay:event.currentTarget.value\r\n\t\t});\r\n\t\t\r\n\t\tthis.changeRequest()\r\n\t}\r\n\t\r\n\tchangeRequest = () => {\r\n\t\t//console.log( Store.get(\"testData\") )\r\n\t\t\r\n\t\t//let overwriteData = this.state.dataSet\r\n\t\t//console.log(overwriteData)\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\t//dataSet:overwriteData\r\n\t\t})\r\n\t}\r\n\t\r\n\t// Rendering this with Bootstrap React.... To see if there is anything really interesting I can do with it\r\n\t// So far it doesnt look all that different \r\n\trender() {\r\n\t\t\r\n\t\tlet tableDisplay = []\r\n\t\tlet index;\r\n\t\t\r\n\t\t// Read the data from our state machine,\r\n\t\tconst currentPrompt = this.state.selectedPrompt\r\n\t\tconst currentDay = this.state.seletedDay\r\n\t\tconst currentAspect = this.state.selectedAspect\r\n\t\t\r\n\t\t// Switch state this bugger...\r\n\t\tlet dataSet = this.state.dataSet[currentPrompt][currentDay][currentAspect]\r\n\t\tlet purity = this.state.dataSet[currentPrompt].responsePurity\r\n\t\t\r\n\t\t// Set up the displays...\r\n\t\tlet displayStats = []\r\n\t\tdisplayStats.push(\r\n\t\t\t<div className=\"row m-2\" key=\"1\">\r\n\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t<div className=\"progressBar\">\r\n\t\t\t\t\t\t<ProgressBar now={ purity } label={`${purity}% Response Rate`} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t\t\r\n\t\tif (!(dataSet === undefined)) {\r\n\t\t\t\r\n\t\t\tswitch(currentAspect) {\r\n\t\t\t\tcase \"emotion\":\r\n\t\t\t\t\tlet emoMax = parseEmotion( dataSet.max )\r\n\t\t\t\t\tlet emoAve = parseEmotion( dataSet.min )\r\n\t\t\t\t\tlet emoMin = parseEmotion( dataSet.ave )\r\n\t\t\t\t\t\r\n\t\t\t\t\tconst dataRadarTest = testMaxMin( emoMax, emoAve, emoMin )\r\n\t\t\t\t\tconst radarOptionsTest = getRadarEmotionOptions()\r\n\t\t\t\t\t\r\n\t\t\t\t\tlet emoThresh = parseEmotion( dataSet.threshold )\r\n\t\t\t\t\tconst dataBarTest = testBarMulti( emoThresh )\r\n\t\t\t\t\tconst barOptionsTest = testBarMultiOptions()\r\n\t\t\t\t\t\r\n\t\t\t\t\tdisplayStats.push(\r\n\t\t\t\t\t\t<div className=\"row m-2\" key=\"2\">\r\n\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t\tAverages + Max and min?\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t\t<Radar ref={this.chartReference} data={dataRadarTest} options={radarOptionsTest} />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t\t\"How many have hit this threshold\"?\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t\t<Bar ref={this.chartReference} data={dataBarTest} options={barOptionsTest} />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)\r\n\t\t\t\t\t\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'sentiment':\r\n\t\t\t\t\r\n\t\t\t\t\tconst dataBarStack = stackedBarData( [dataSet.min], [dataSet.ave], [dataSet.max] )\r\n\t\t\t\t\tconst barStackOptions = stackedBarOptions()\r\n\t\t\t\t\t\r\n\t\t\t\t\tlet dataTresh = [dataSet.thresholdPos, dataSet.thresholdNeg]\r\n\t\t\t\t\tconst dataBarNorm = sentimentBarData( dataTresh )\r\n\t\t\t\t\tconst barOptionsNorm = sentimentBarOptions()\r\n\t\t\t\t\r\n\t\t\t\t\tdisplayStats.push(\r\n\t\t\t\t\t\t<div className=\"row m-2\" key=\"2\">\r\n\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t\t\"How many have hit this threshold\"?\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t\t<Bar ref={this.chartReference} data={dataBarStack} options={barStackOptions} />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t\t\"How many have hit this threshold\"?\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t\t<Bar ref={this.chartReference} data={dataBarNorm} options={barOptionsNorm} />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)\r\n\t\t\t\t\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'entities':\r\n\t\t\t\t\r\n\t\t\t\t\t//console.log(dataSet)\r\n\t\t\t\t\r\n\t\t\t\t\tfor (index in dataSet) {\r\n\t\t\t\t\t\tlet entity = dataSet[index]\r\n\t\t\t\t\t\tconsole.log(entity)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tlet emoMax = parseEmotion( entity.emotion.max )\r\n\t\t\t\t\t\tlet emoAve = parseEmotion( entity.emotion.min )\r\n\t\t\t\t\t\tlet emoMin = parseEmotion( entity.emotion.ave )\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tlet emoData = testMaxMin( emoMax, emoAve, emoMin )\r\n\t\t\t\t\t\tlet emoOptions = getRadarEmotionOptions()\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tconst dataEntSent = stackedBarData3Test( \r\n\t\t\t\t\t\t\t[entity.confidence.min, entity.relevance.min, entity.sentiment.min],\r\n\t\t\t\t\t\t\t[entity.confidence.ave, entity.relevance.ave, entity.sentiment.ave],\r\n\t\t\t\t\t\t\t[entity.confidence.max, entity.relevance.max, entity.sentiment.max],\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\tconst dataEntOptions = stackedBarOptions()\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\ttableDisplay.push(\r\n\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t<th scope=\"row\">{entity.text}</th>\r\n\t\t\t\t\t\t\t\t<td>{entity.type}</td>\r\n\t\t\t\t\t\t\t\t<td>{entity.count}</td>\r\n\t\t\t\t\t\t\t\t<td colspan=\"3\"><Bar ref={this.chartReference} data={dataEntSent} options={dataEntOptions} /></td>\r\n\t\t\t\t\t\t\t\t<td><Radar ref={this.chartReference} data={emoData} options={emoOptions} /></td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tdisplayStats.push(\r\n\t\t\t\t\t\t<table className=\"table\" key=\"2\">\r\n\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"col\">Name</th>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"col\">Type</th>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"col\">#Appearances</th>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"col\">Confidence</th>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"col\">Relevance</th>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"col\">Sentiment</th>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"col\">Emotion</th>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t{tableDisplay}\r\n\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t</table>\r\n\t\t\t\t\t)\r\n\t\t\t\t\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'keywords':\r\n\t\t\t\t\r\n\t\t\t\t\t//console.log(dataSet)\r\n\t\t\t\t\t\r\n\t\t\t\t\tfor (index in dataSet) {\r\n\t\t\t\t\t\tlet keyData = dataSet[index]\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t//const dataKeySent = stackedBarData( [keyData.sentiment.min], [keyData.sentiment.ave], [keyData.sentiment.max] )\r\n\t\t\t\t\t\t//const dataKeyOptions = stackedBarOptions()\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tlet emoMax = parseEmotion( keyData.emotion.max )\r\n\t\t\t\t\t\tlet emoAve = parseEmotion( keyData.emotion.min )\r\n\t\t\t\t\t\tlet emoMin = parseEmotion( keyData.emotion.ave )\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tconst dataRadar = testMaxMin( emoMax, emoAve, emoMin )\r\n\t\t\t\t\t\tconst dataRadarOptions = getRadarEmotionOptions()\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tconst dataKeySent = stackedBarData2Test(\r\n\t\t\t\t\t\t\t[keyData.relevance.min, keyData.sentiment.min], \r\n\t\t\t\t\t\t\t[keyData.relevance.ave, keyData.sentiment.ave], \r\n\t\t\t\t\t\t\t[keyData.relevance.max, keyData.sentiment.max] \r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\tconst dataKeyOptions = stackedBarOptions()\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\ttableDisplay.push(\r\n\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t<th scope=\"row\">{keyData.text}</th>\r\n\t\t\t\t\t\t\t\t<td>{keyData.count}</td>\r\n\t\t\t\t\t\t\t\t<td colSpan=\"2\"><Bar ref={this.chartReference} data={dataKeySent} options={dataKeyOptions} /></td>\r\n\t\t\t\t\t\t\t\t<td><Radar ref={this.chartReference} data={dataRadar} options={dataRadarOptions} /></td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\tdisplayStats.push(\r\n\t\t\t\t\t\t<table className=\"table\" key=\"2\">\r\n\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"col\">Name</th>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"col\">#Appearances</th>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"col\">Relevance Score</th>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"col\">Sentiment</th>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"col\">Emotion</th>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t{tableDisplay}\r\n\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t</table>\r\n\t\t\t\t\t)\r\n\t\t\t\t\t\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'relations':\r\n\t\t\t\t\r\n\t\t\t\t\t//console.log(dataSet)\r\n\t\t\t\t\t\r\n\t\t\t\t\tfor (index in dataSet) {\r\n\t\t\t\t\t\tlet relData = dataSet[index]\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tconst scoreData = stackedBarData( [relData.score.min], [relData.score.ave], [relData.score.max] )\r\n\t\t\t\t\t\tconst scoreOptions = stackedBarOptions()\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\ttableDisplay.push(\r\n\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t<th scope=\"row\">{relData.count}</th>\r\n\t\t\t\t\t\t\t\t<td>{relData.arguments[0].text}</td>\r\n\t\t\t\t\t\t\t\t<td>{relData.type}</td>\r\n\t\t\t\t\t\t\t\t<td>{relData.arguments[1].text}</td>\r\n\t\t\t\t\t\t\t\t<td style={{width:\"30%\"}}><Bar ref={this.chartReference} data={scoreData} options={scoreOptions} /></td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\tdisplayStats.push(\r\n\t\t\t\t\t\t<table className=\"table\" key=\"2\">\r\n\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"col\">#Appearances</th>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"col\">Actor</th>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"col\">Action</th>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"col\">Target</th>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"col\">Score</th>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t{tableDisplay}\r\n\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t</table>\r\n\t\t\t\t\t)\r\n\t\t\t\t\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tconsole.log(\"Invalid AI selection somehow\")\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className=\"testStuff\">\r\n\t\t\t\t<div className=\"container-fluid\">\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"row m-2\">\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t<div className=\"col-4 border\">\r\n\t\t\t\t\t\t\t<div className=\"row m-2\">\r\n\t\t\t\t\t\t\t\t<div className=\"col border m-2\">\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<Calendar \r\n\r\n\t\t\t\t\t\t\t\t\t\t\tminDetail={'year'}\r\n\t\t\t\t\t\t\t\t\t\t\tmaxDetail={'month'}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"row m-2\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<ButtonGroup toggle>\r\n\t\t\t\t\t\t\t\t\t\t{promptList.map((radio, idx) => (\r\n\t\t\t\t\t\t\t\t\t\t<ToggleButton\r\n\t\t\t\t\t\t\t\t\t\t\tkey={idx}\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"radio\"\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"radio\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={radio.value}\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={this.state.selectedPrompt === radio.value}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.selectPrompt}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{radio.name}\r\n\t\t\t\t\t\t\t\t\t\t</ToggleButton>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t</ButtonGroup>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div className=\"row m-2\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<ButtonGroup toggle>\r\n\t\t\t\t\t\t\t\t\t\t{daySet.map((radio, idx) => (\r\n\t\t\t\t\t\t\t\t\t\t<ToggleButton\r\n\t\t\t\t\t\t\t\t\t\t\tkey={idx}\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"radio\"\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"radio\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={radio.value}\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={this.state.seletedDay === radio.value}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.selectDay}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{radio.name}\r\n\t\t\t\t\t\t\t\t\t\t</ToggleButton>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t</ButtonGroup>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div className=\"row m-2\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<ButtonGroup toggle>\r\n\t\t\t\t\t\t\t\t\t\t{AIAspect.map((radio, idx) => (\r\n\t\t\t\t\t\t\t\t\t\t<ToggleButton\r\n\t\t\t\t\t\t\t\t\t\t\tkey={idx}\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"radio\"\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"info\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"radio\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={radio.value}\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={this.state.selectedAspect === radio.value}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.selectAI}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{radio.name}\r\n\t\t\t\t\t\t\t\t\t\t</ToggleButton>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t</ButtonGroup>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<div className=\"col-8 border\">\r\n\t\t\t\t\t\t\t<div className=\"row m-2\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\tShowing Data for {promptNames[this.state.selectedPrompt]}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t{displayStats}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"row  my-2\">\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(testClass);","import React from \"react\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\n\nimport axios from \"axios\";\n\nimport { Navigation, Footer, Landing, SignIn, SignUp, Forgot, ViewJournals, WriteJournals, ViewCompany, SetCompany, MainMenu, Test, Test2 } from \"./components\";\n\nimport Store from \"store\"\n\n//import '../node_modules/bootstrap/dist/css/bootstrap.min.css';\nimport './App.css'\n\n// Is THIS a patch for Github Pages react stuff?\n// Maybe...\n// Ill have to test this...\nconst basePath = \"/scenere\"\n\nconst hostName = \"https://cmaster.pythonanywhere.com\"\n//const hostName = \"10.0.0.60:8000\"\n\nclass App extends React.Component {\n\t\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n          \n\t\t  currentUser: undefined,\n\t\t  sessionToken: undefined,\n\n        };\n\t}\n\t\n\tcomponentDidMount() {\n\t\tthis.loadFromCookies();\n\t};\n\t\n\tloadFromCookies = () => {\n\t\tconst lastUserSet = Store.get('lastUser');\n\t\t\t\n\t\ttry{ \n\t\t\tthis.setState({ currentUser: lastUserSet.user, sessionToken: lastUserSet.session }) \n\t\t}\n\t\tcatch{\n\t\t\tconsole.log(\"User was NOT found in the storage\")\n\t\t};\n\t}\n\t\n\tsetToken = ( token, username ) => {\n\t\t// Verify this before we sent it in I guess?\n\t\tthis.setState({ sessionToken: token, currentUser: username })\n\t\t\n\t\tStore.set('lastUser', { user:username, session:token })\n\t\t\n\t\t// Return if we succeeded or not\n\t\treturn true\n\t}\n\t\n\t// Test out refreshing the token...\n\t// Should do this every page reload...\n\trefresh = () => {\n\t\tconst data = {\n\t\t\ttoken: this.state.sessionToken,\n\t\t};\n\t\t\n\t\taxios.post(hostName + \"/apiTokenRefresh/\", data)\n\t\t.then( \tres => {\n\t\t\t//console.log(res)\n\t\t\t\n\t\t\t// If we get here then we should have a new token\n\t\t\t//console.log(res.data.token)\n\t\t\tconsole.log(\"Token refreshed\")\n\t\t\t// A little bit unnecessary but hey...\n\t\t\tthis.setToken( res.data.token, this.state.currentUser)\n\t\t\t\n\t\t\treturn true\n\t\t})\n\t\t.catch( err => {\n\t\t\tconsole.log(err)\n\t\t\t// Check for a specific error?\n\t\t\t\n\t\t\tthis.logout()\n\t\t\t\n\t\t\treturn false\n\t\t});\n\t}\n\n\t// Should move this over to the UTIL...\n\tlogout = () => {\n\t\tthis.setState({ sessionToken: undefined, currentUser: undefined })\n\n\t\tStore.remove('lastUser')\n\t}\n\t\n\t// maybe I should move all the AXIOS stuff to its own file...\n\t\n\trender() {\n\n\t\treturn (\n\t\t\t<Router>\n\t\t\t\t<div className=\"App\">\n\t\t\t\n\t\t\t\t\t<Navigation \n\t\t\t\t\t\tcurrentUser={this.state.currentUser}\n\t\t\t\t\t\tbasePath={basePath}\n\n\t\t\t\t\t\tclearLogin={this.setToken}\n\t\t\t\t\t/>\n\t\t\t\t\t\t\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\n\t\t\t\t\t\t<Route path={basePath+\"/test\"} exact component={() => <Test \n\t\t\t\t\t\t\t\tAPIHost={hostName}\n\t\t\t\t\t\t\t\tforceLogout={this.logout}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tcurrentUser={this.state.currentUser}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\ttokenRefresh={this.refresh}\n\t\t\t\t\t\t\t\treRouteTarget={basePath+\"/signin\"}\n\t\t\t\t\t\t\t\tauthToken={this.state.sessionToken}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t/>} />\n\t\t\t\t\t\t<Route path={basePath+\"/test2\"} exact component={() => <Test2 \n\t\t\t\t\t\t\t\tAPIHost={hostName}\n\t\t\t\t\t\t\t\tforceLogout={this.logout}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t/>} />\n\t\t\t\t\t\n\t\t\t\t\t\t<Route path={basePath+\"/\"} exact component={() => <Landing \n\t\t\t\t\t\t\t\tAPIHost={hostName}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t/>} />\n\t\t\t\t\t\t<Route path={basePath+\"/signin\"} exact component={() => <SignIn \n\t\t\t\t\t\t\t\tloginSave={this.setToken}\n\t\t\t\t\t\t\t\tAPIHost={hostName}\n\n\t\t\t\t\t\t\t\treRouteTarget={basePath+\"/menu\"}\n\t\t\t\t\t\t\t\tforgotPath={basePath+\"/forgot\"}\n\t\t\t\t\t\t\t/>} />\n\t\t\t\t\t\t<Route path={basePath+\"/signup\"} exact component={() => <SignUp \n\t\t\t\t\t\t\t\tAPIHost={hostName}\n\t\t\t\t\t\t\t\treRouteTarget={basePath+\"/signin\"}\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t/>} />\n\t\t\t\t\t\t<Route path={basePath+\"/forgot\"} exact component={() => <Forgot \n\t\t\t\t\t\t\t\tAPIHost={hostName}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\treRouteTarget={basePath+\"/signin\"}\n\t\t\t\t\t\t\t/>} />\n\n\t\t\t\t\t\t<Route path={basePath+\"/menu\"} exact component={() => <MainMenu \n\t\t\t\t\t\t\t\tAPIHost={hostName}\n\t\t\t\t\t\t\t\ttokenRefresh={this.refresh}\n\t\t\t\t\t\t\t\treRouteTarget={basePath+\"/signin\"}\n\n\t\t\t\t\t\t\t\tjournalWriteDirect={basePath+\"/write\"}\n\t\t\t\t\t\t\t\tjournalReadDirect={basePath+\"/read\"}\n\t\t\t\t\t\t\t\tcompanyReadDirect={basePath+\"/companyCheck\"}\n\t\t\t\t\t\t\t\tcompanySettingDirect={basePath+\"/companySet\"}\t\n\n\t\t\t\t\t\t\t\tcurrentUser={this.state.currentUser}\n\t\t\t\t\t\t\t\tauthToken={this.state.sessionToken}\n\t\t\t\t\t\t\t/>} />\n\n\t\t\t\t\t\t<Route path={basePath+\"/read\"} exact component={() => <ViewJournals \n\t\t\t\t\t\t\t\tAPIHost={hostName}\n\t\t\t\t\t\t\t\ttokenRefresh={this.refresh}\n\t\t\t\t\t\t\t\treRouteTarget={basePath+\"/signin\"}\n\t\t\t\t\t\t\t\tforceLogout={this.logout}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tcurrentUser={this.state.currentUser}\n\t\t\t\t\t\t\t\tauthToken={this.state.sessionToken}\n\t\t\t\t\t\t\t/>} />\n\t\t\t\t\t\t<Route path={basePath+\"/write\"} exact component={() => <WriteJournals \n\t\t\t\t\t\t\t\tAPIHost={hostName}\n\t\t\t\t\t\t\t\ttokenRefresh={this.refresh}\n\t\t\t\t\t\t\t\treRouteTarget={basePath+\"/signin\"}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tauthToken={this.state.sessionToken}\n\t\t\t\t\t\t\t/>} />\n\t\t\t\t\t\t<Route path={basePath+\"/companyCheck\"} exact component={() => <ViewCompany \n\t\t\t\t\t\t\t\tAPIHost={hostName}\n\t\t\t\t\t\t\t\tforceLogout={this.logout}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tcurrentUser={this.state.currentUser}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\ttokenRefresh={this.refresh}\n\t\t\t\t\t\t\t\treRouteTarget={basePath+\"/signin\"}\n\t\t\t\t\t\t\t\tauthToken={this.state.sessionToken}\n\t\t\t\t\t\t\t/>} />\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t<Route path={basePath+\"/companySet\"} exact component={() => <SetCompany \n\t\t\t\t\t\t\t\tAPIHost={hostName}\n\t\t\t\t\t\t\t\ttokenRefresh={this.refresh}\n\t\t\t\t\t\t\t\treRouteTarget={basePath+\"/signin\"}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tauthToken={this.state.sessionToken}\n\t\t\t\t\t\t\t/>} />\n\n\t\t\t\t\t</Switch>\n\n\t\t\t\t\t<Footer \n\t\t\t\t\t\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</Router>\n\t\t);\n\t}\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nimport'bootstrap/dist/css/bootstrap.min.css';\n//import $ from'jquery';\n//import Popper from 'popper.js';\nimport'bootstrap/dist/js/bootstrap.bundle.min';\n\n//import '@trendmicro/react-sidenav/dist/react-sidenav.css';\n\n//<React.StrictMode>\n//</React.StrictMode>,\n\nReactDOM.render(\n  \n\t<App />,\n  \n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}