(this["webpackJsonpproject-scenere"]=this["webpackJsonpproject-scenere"]||[]).push([[0],{164:function(e,t,s){},400:function(e,t,s){},401:function(e,t,s){},405:function(e,t,s){"use strict";s.r(t);var a=s(0),n=s(1),r=s.n(n),c=s(66),o=s.n(c),i=(s(164),s(3)),l=s(4),d=s(6),u=s(5),h=s(7),m=s(14),j=s(17),p=s.n(j),b=s(8),v=s.n(b),g=void 0,x=["day","week","month","year"],O=function(e){var t=e.getFullYear().toString(),s=(e.getMonth()+1).toString(),a=e.getDate().toString(),n=s.split(""),r=a.split("");return t+"-"+(n[1]?s:"0"+n[0])+"-"+(r[1]?a:"0"+r[0])},N=function(e){e.response&&(401===e.response.status||403===e.response.status||e.response.status)},f=function(e,t,s,a,n){var r={username:t,password:s};v.a.post(e+"/apiTokenAuth/",r).then((function(e){var t=e.data.token;a(t)})).catch((function(e){if(e.response){var t=e.response.data,s=[],a=[];for(var r in t)"username"===r?(s.push(1),a.push(t[r])):"password"===r?(s.push(2),a.push(t[r])):"non_field_errors"===r?(s.push(3),a.push(t[r])):(s.push(10),a.push("Unknown Error"));n(s,a)}else n([0],["Network Error"])}))},y=function(e,t,s,a){var n={headers:{Authorization:"JWT ".concat(t)}};v.a.get(e+"/emailVerifyResend",n).then((function(e){s()})).catch((function(e){void 0!==e&&void 0!==e.response&&401===e.response.status&&a()}))},w=function(e,t,s,a,n,r,c,o){var i=Math.random().toString(16).substr(2,8),l={headers:{Authorization:"JWT ".concat(t)}},d={shorthand:"made from the website: "+i,forDate:O(s),usedPromptKeyText:a,content:n,richText:r};v.a.post(e+"/saveUserJournal/",d,l).then((function(e){c(e.data)})).catch((function(e){if(void 0!==e)if(401===e.response.status)o([401],["Invalid Token"]);else{var t=e.response.data,s=[],a=[];for(var n in t)"author"===n||"non_field_errors"===n?(s.push(3),a.push(t[n])):(s.push(10),a.push("Unknown Error"));o(s,a)}}))},C=function(e,t,s,a,n){var r={headers:{Authorization:"JWT ".concat(t)}};v.a.get(e+"/getUsersPermissionTree?reqPerms="+s,r).then((function(e){a(e.data.tree,e.data.nameList,e.data.idList)})).catch((function(e){e.response?401===e.response.status&&n([401],["Unauthorized"]):(console.log("Network Error!"),n([0],["Network Error"]))}))},S=function(e,t,s,a,n,r,c){var o={headers:{Authorization:"JWT ".concat(t)}},i={reqDiv:s,targetInvite:a,targetAction:n};v.a.put(e+"/setDivisionInvite/",i,o).then((function(e){var t=e.data;r(t)})).catch((function(e){if(e.response){var t=e.response.data,s=[],a=[];for(var n in t)"???"===n?(s.push(1),a.push(t[n])):(s.push(10),a.push("Unknown Error"));c(s,a)}else c([0],["Network Error"])}))},D=function(e,t,s,a,n){var r={headers:{Authorization:"JWT ".concat(t)}};v.a.get(e+"/getDivisionData?reqDiv="+s,r).then((function(e){var t=e.data[0];a(t)})).catch((function(e){if(e.response){var t=e.response.data,s=[],a=[];for(var r in t)"???"===r?(s.push(1),a.push(t[r])):(s.push(10),a.push("Unknown Error"));n(s,a)}else n([0],["Network Error"])}))},k=function(e,t,s,a,n){var r={headers:{Authorization:"JWT ".concat(t)}},c=s;v.a.put(e+"/setDivisionData/",c,r).then((function(e){var t=e.data;a(t)})).catch((function(e){if(e.response){n([],[])}else n([0],["Network Error"])}))},E=function(e,t,s,a,n,r){var c={headers:{Authorization:"JWT ".concat(t)}},o={targetInvite:s,targetAction:a};v.a.put(e+"/setUserInvite/",o,c).then((function(e){var t=e.data;n(t)})).catch((function(e){if(e.response){var t=e.response.data,s=[],a=[];for(var n in t)"???"===n?(s.push(1),a.push(t[n])):(s.push(10),a.push("Unknown Error"));r(s,a)}else r([0],["Network Error"])}))},I=function(e,t){var s=[],a=0;for(a in t)s.push({label:t[a].label,data:t[a].data,fill:!1,backgroundColor:"rgb(99, 255, 132)",borderColor:"rgba(255, 132, 99, 0.2)"});return{labels:e,datasets:s}},P=function(e){return{labels:["Joy","Anger","Sadness","Disgust","Fear"],datasets:[{label:"Confidence Levels",data:e,backgroundColor:"rgba(99, 255, 132, 0.2)",borderColor:"rgba(99, 255, 132, 1)",borderWidth:1}]}},T=function(e,t,s){return{labels:["Joy","Anger","Sadness","Disgust","Fear"],datasets:[{label:"Max",data:e,backgroundColor:"rgba(99, 255, 132, 0.2)",borderColor:"rgba(99, 255, 132, 1)",borderWidth:1},{label:"Ave",data:t,backgroundColor:"rgba(99, 132, 255, 0.2)",borderColor:"rgba(99, 132, 255, 1)",borderWidth:1},{label:"Min",data:s,backgroundColor:"rgba(255, 99, 132, 0.2)",borderColor:"rgba(255, 99, 132, 1)",borderWidth:1}]}},A=function(e,t,s){return{labels:["Value"],datasets:[{label:"Minimum",data:e,backgroundColor:"rgb(255, 99, 132)"},{label:"Average",data:t,backgroundColor:"rgb(54, 162, 235)"},{label:"Maximum",data:s,backgroundColor:"rgb(75, 192, 192)"}]}},F=function(e,t,s){return{labels:["Relevance","Sentiment"],datasets:[{label:"Minimum",data:e,backgroundColor:"rgb(255, 99, 132)"},{label:"Average",data:t,backgroundColor:"rgb(54, 162, 235)"},{label:"Maximum",data:s,backgroundColor:"rgb(75, 192, 192)"}]}},L=function(e){return{labels:["Relevance","Sentiment"],datasets:[{label:"Value",data:e,backgroundColor:"rgb(54, 162, 235)"}]}},R=function(e){return{labels:["Confidence","Relevance","Sentiment"],datasets:[{label:"Value",data:e,backgroundColor:"rgb(54, 162, 235)"}]}},U=s(156),M=[0,1],H=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).setCompanyName=function(e){a.setState({currentCompanyName:e})},a.setUserName=function(e){a.setState({currentUserName:e})},a.disableMenu=function(){a.setState({enabled:!1})},a.activateMenu=function(e){return void 0!==M.find((function(t){return t===e}))?(a.setState({enabled:!0,displayState:e}),!0):(a.setState({enabled:!1}),!1)},a.state={enabled:!1,displayState:0,currentCompanyName:"No Company!",currentUserName:"No User!"},a}return Object(l.a)(s,[{key:"render",value:function(){var e=[];switch(this.state.displayState){case 0:e.push(Object(a.jsx)("div",{className:"list-group-item list-group-item-secondary",children:Object(a.jsx)("h4",{children:this.state.currentUserName})},"1"),Object(a.jsx)(h.b,{className:"list-group-item",to:this.props.basePath+"/dashboard/userMode/journalWrite",children:"Make Today's Journal"},"2"),Object(a.jsx)(h.b,{className:"list-group-item",to:this.props.basePath+"/dashboard/userMode/journalRead",children:"View past Journals"},"3"),Object(a.jsx)(h.b,{className:"list-group-item",to:this.props.basePath+"/dashboard/userMode/writeSuggestion",children:"Make Suggestions"},"4"));break;case 1:e.push(Object(a.jsx)(h.b,{className:"list-group-item list-group-item-secondary",to:this.props.basePath+"/dashboard/companyMode/companySelect",children:Object(a.jsx)("h3",{children:this.state.currentCompanyName})},"0"),Object(a.jsx)(h.b,{className:"list-group-item list-group-item-light",to:this.props.basePath+"/dashboard/companyMode/companyEHI",children:"View EHI"},"1"),Object(a.jsx)(h.b,{className:"list-group-item list-group-item-light",to:this.props.basePath+"/dashboard/companyMode/companySummary",children:"View Summaries"},"2"),Object(a.jsx)(h.b,{className:"list-group-item list-group-item-light",to:this.props.basePath+"/dashboard/companyMode/companySuggestions",children:"View Suggestion Box"},"3"),Object(a.jsx)(h.b,{className:"list-group-item list-group-item-light",to:this.props.basePath+"/dashboard/companyMode/companyPrompts",children:"Edit Prompt Events"},"4"),Object(a.jsx)(h.b,{className:"list-group-item list-group-item-light",to:this.props.basePath+"/dashboard/companyMode/companyInvites",children:"User Invites"},"5"),Object(a.jsx)(h.b,{className:"list-group-item list-group-item-light",to:this.props.basePath+"/dashboard/companyMode/companyPerms",children:"Permission Settings"},"6"),Object(a.jsx)(h.b,{className:"list-group-item list-group-item-light",to:this.props.basePath+"/dashboard/companyMode/companySettings",children:"Misc. Settings"},"7"));break;default:e.push(Object(a.jsx)("div",{className:"list-group",children:"Invalid Menu! Oops!"}))}return Object(a.jsx)("div",{className:"menuContainer",children:this.state.enabled&&Object(a.jsx)(U.slide,{children:Object(a.jsxs)("div",{className:"list-group",children:[Object(a.jsx)(h.b,{className:"list-group-item list-group-item-dark",to:this.props.basePath+"/dashboard",children:"Dashboard"}),e]})})})}}]),s}(r.a.Component),J=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).userFieldChange=function(e){a.setState({username:e.target.value,usernameError:!1,passwordError:!1,isWrongError:!1,networkError:!1,miscError:!1})},a.passFieldChange=function(e){a.setState({password:e.target.value,usernameError:!1,passwordError:!1,isWrongError:!1,networkError:!1,miscError:!1})},a.remFieldChange=function(e){a.setState({remember:!a.state.remember,usernameError:!1,passwordError:!1,isWrongError:!1,networkError:!1,miscError:!1})},a.handleSubmitSuccess=function(e){a.props.loginSave(e,a.state.username,a.state.remember)?(console.log("Token registered"),a.props.history.push(a.props.reRouteTarget)):console.log("Token Set on OUR END Failed..?")},a.handleSubmitFailure=function(e,t){console.log("Connection failed...");var s=[!1,!1,!1,!1],n=!1;for(var r in e)e[r]>s.length?n=!0:s[e[r]]=!0;a.setState({networkError:s[0],usernameError:s[1],passwordError:s[2],isWrongError:s[3],miscError:n})},a.handleSubmit=function(e){f(a.props.APIHost,a.state.username,a.state.password,a.handleSubmitSuccess,a.handleSubmitFailure),e.preventDefault()},a.state={currentState:0,lastAttemptCode:-1,lastAttemptMessage:"",usernameError:!1,passwordError:!1,isWrongError:!1,networkError:!1,miscError:!1,username:"",password:"",remember:!1},a}return Object(l.a)(s,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e="";(this.state.usernameError||this.state.isWrongError)&&(e="bg-warning");var t="";return(this.state.passwordError||this.state.isWrongError)&&(t="bg-warning"),Object(a.jsx)("div",{className:"container text-center",children:Object(a.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(a.jsx)("h3",{children:"Sign In"}),Object(a.jsx)("p",{className:"text-danger",children:this.state.isWrongError?"Username and/or Password are incorrect":""}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"Username"}),Object(a.jsx)("input",{type:"text",className:"form-control "+e,value:this.state.username,onChange:this.userFieldChange,placeholder:"Enter Username"}),Object(a.jsx)("p",{className:"text-danger",children:this.state.usernameError?"Username cant be blank":""})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"Password"}),Object(a.jsx)("input",{type:"password",className:"form-control "+t,value:this.state.password,onChange:this.passFieldChange,placeholder:"Enter password"}),Object(a.jsx)("p",{className:"text-danger",children:this.state.passwordError?"Password cannot be blank":""})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{className:"form-control-label",htmlFor:"customCheck1",children:"Remember Me"}),Object(a.jsx)("input",{type:"checkbox",className:"form-control-input",id:"customCheck1",value:this.state.remember,onChange:this.remFieldChange})]}),this.state.miscError?Object(a.jsx)("p",{className:"text-danger border",children:"Unknown Error"}):void 0,this.state.networkError?Object(a.jsx)("p",{className:"bg-warning text-danger border",children:"Server cannot be reached!"}):void 0,Object(a.jsx)("button",{type:"submit",className:"btn btn-dark btn-block",children:"Submit"}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col"}),Object(a.jsx)("div",{className:"col"}),Object(a.jsx)("div",{className:"col"}),Object(a.jsx)("p",{className:"col forgot-password text-dark",children:Object(a.jsx)(h.b,{className:"nav-link border",to:this.props.forgotPath,children:"Forgot password?"})})]})]})})}}]),s}(r.a.Component),V=Object(m.f)(J),B=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).usernameFieldChange=function(e){a.setState({username:e.target.value})},a.emailFieldChange=function(e){a.setState({email:e.target.value})},a.passFieldChange=function(e){a.setState({password:e.target.value,passwordError:e.target.value!==a.state.password2,passwordErrorDetail:"Passwords do not match!"})},a.pass2FieldChange=function(e){a.setState({password2:e.target.value,passwordError:e.target.value!==a.state.password,passwordErrorDetail:"Passwords do not match!"})},a.firstNameFieldChange=function(e){a.setState({firstName:e.target.value})},a.lastnameFieldChange=function(e){a.setState({lastName:e.target.value})},a.checkFieldChange=function(e){a.setState({checkField:e.target.value})},a.nowSendEmailCallback=function(){a.props.history.push(a.props.reRouteTarget)},a.nowSendEmailFailure=function(){console.log("Oh no. We failed"),a.props.history.push(a.props.reRouteTarget)},a.nowSendEmail=function(e){y(a.props.APIHost,e,a.nowSendEmailCallback,a.nowSendEmailFailure)},a.nowSignInCallback=function(e){a.props.loginSave(e,a.state.username,!1)?(console.log("Token registered"),a.nowSendEmail(e)):(console.log("Token Failed..?"),a.props.history.push(a.props.reRouteTarget))},a.nowSignInFailure=function(){console.log("Sign in failed, I dont even know what to do here..."),a.props.history.push(a.props.reRouteTarget)},a.nowSignIn=function(){f(a.props.APIHost,a.state.username,a.state.password,a.nowSignInCallback,a.nowSignInFailure)},a.handleSignUpSubmitCallback=function(e){201===e&&(console.log("Successful Sign up, now signing in..."),a.nowSignIn())},a.handleSignUpSubmitFailure=function(e,t){var s=[!1,!1,!1,!1],n=["","","",""],r=!1;for(var c in e)e[c]>s.length?r=!0:(s[e[c]]=!0,n[e[c]]=t[c]);a.setState({networkError:s[0],usernameError:s[1],passwordError:s[2],emailError:s[3],uncaughtError:r,usernameErrorDetail:n[1],passwordErrorDetail:n[2],emailErrorDetail:n[3]})},a.handleSignUpSubmit=function(e){a.state.checkField?function(e,t,s,a,n,r,c,o,i){var l={username:t,password:s,password2:a,email:n,first_name:r,last_name:c};v.a.post(e+"/registerUser/",l).then((function(e){var t=e.status;o(t)})).catch((function(e){if(e.response){var t=e.response.data,s=[],a=[];for(var n in t)"username"===n?(s.push(1),a.push(t[n])):"password"===n?(s.push(2),a.push(t[n])):"email"===n?(s.push(3),a.push(t[n])):(s.push(10),a.push("Unknown Error"));i(s,a)}else console.log("Network Error!"),i([0],["Network Error"])}))}(a.props.APIHost,a.state.username,a.state.password,a.state.password2,a.state.email,a.state.firstName,a.state.lastName,a.handleSignUpSubmitCallback,a.handleSignUpSubmitFailure):console.log("Field was not checked"),e.preventDefault()},a.state={username:"",email:"",password:"",password2:"",firstName:"",lastName:"",networkError:!1,usernameError:!1,usernameErrorDetail:"Username is unavalible",emailError:!1,emailErrorDetail:"Email is invalid/taken",passwordError:!1,passwordErrorDetail:"Passwords do not match!",uncaughtError:!1,checkField:!1},a}return Object(l.a)(s,[{key:"render",value:function(){var e="form-control";this.state.usernameError&&(e+=" bg-warning");var t="form-control";this.state.emailError&&(t+=" bg-warning");var s="form-control";return this.state.passwordError&&(s+=" bg-warning"),Object(a.jsx)("div",{className:"signUp",children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("h3",{children:"Sign Up"})})}),Object(a.jsxs)("form",{onSubmit:this.handleSignUpSubmit,children:[Object(a.jsxs)("div",{id:"align-left",children:[Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{id:"label-left",children:"Username"}),Object(a.jsx)("input",{type:"text",className:e,value:this.state.username,onChange:this.usernameFieldChange,placeholder:"Enter Username"}),Object(a.jsx)("p",{className:"text-danger",children:this.state.usernameError?this.state.usernameErrorDetail:""})]})})}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{id:"align-left",children:"Email Address"}),Object(a.jsx)("input",{type:"email",className:t,value:this.state.email,onChange:this.emailFieldChange,placeholder:"Enter email"}),Object(a.jsx)("p",{className:"text-danger",children:this.state.emailError?this.state.emailErrorDetail:""})]})})}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{id:"align-left",children:"Password"}),Object(a.jsx)("input",{type:"password",className:s,value:this.state.password,onChange:this.passFieldChange,placeholder:"Enter password"})]})})}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{id:"align-left",children:"Confirm Password"}),Object(a.jsx)("input",{type:"password",className:s,value:this.state.password2,onChange:this.pass2FieldChange,placeholder:"Confirm password"}),Object(a.jsx)("p",{className:"text-danger",children:this.state.passwordError?this.state.passwordErrorDetail:""})]})})}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{id:"align-left",children:"First Name"}),Object(a.jsx)("input",{type:"text",className:"form-control",value:this.state.firstName,onChange:this.firstNameFieldChange,placeholder:"First Name"})]})})}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{id:"align-left",children:"Last Name"}),Object(a.jsx)("input",{type:"text",className:"form-control",value:this.state.lastName,onChange:this.lastnameFieldChange,placeholder:"Last Name"})]})})})]}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("input",{type:"checkbox",className:"form-control-input",id:"customCheck1",value:this.state.checkField,onChange:this.checkFieldChange}),Object(a.jsx)("label",{className:"form-control-label",htmlFor:"customCheck1",children:"Legal stuff?"})]})})}),Object(a.jsx)("div",{className:"row",children:Object(a.jsxs)("div",{className:"col",children:[this.state.networkError?Object(a.jsx)("p",{className:"bg-warning text-danger border",children:"Server cannot be reached!"}):void 0,Object(a.jsx)("button",{type:"submit",className:"btn btn-dark btn-block",children:"Submit"})]})}),Object(a.jsx)("div",{className:"row my-5",children:Object(a.jsx)("div",{className:"col"})})]})]})})}}]),s}(r.a.Component),G=Object(m.f)(B),W=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).goSignIn=function(){a.props.history.push(a.props.reRouteTarget)},a.arePasswordsSame=function(){return a.state.password1===a.state.password2},a.swapToCode=function(){a.setState({currentState:1})},a.sendEmailSuccess=function(e,t){console.log("Email Send Success"),a.setState({currentState:1,networkError:!1,uncaughtError:!1})},a.sendEmailFailure=function(e,t){console.log("Email Send Failure");var s=[!1,!1],n=["",""],r=!1;for(var c in e)e[c]>s.length?r=!0:(s[e[c]]=!0,n[e[c]]=t[c]);a.setState({networkError:s[0],emailError:s[1],uncaughtError:r,emailErrorDetail:n[1]})},a.sendEmail=function(){console.log("Sending the Email Here..."),function(e,t,s,a){var n={targetEmail:t};v.a.post(e+"/nonAuthPassword/sendEmail/",n).then((function(e){s(e.status)})).catch((function(e){if(e.response){var t=e.response.data,s=[],n=[];for(var r in t)"email"===r?(s.push(1),n.push(t[r])):(s.push(10),n.push("Unknown Error"));a(s,n)}else console.log("Network Error!"),a([0],["Network Error"])}))}(a.props.APIHost,a.state.email,a.sendEmailSuccess,a.sendEmailFailure)},a.checkTokenSuccess=function(e){console.log("Token Matched!"),a.setState({currentState:2,networkError:!1,uncaughtError:!1})},a.checkTokenFailure=function(e,t){console.log("Token Failed!");var s=[!1,!1],n=["",""],r=!1;for(var c in e)e[c]>s.length?r=!0:(s[e[c]]=!0,n[e[c]]=t[c]);a.setState({networkError:s[0],tokenError:s[1],uncaughtError:r,tokenErrorDetail:n[1]})},a.checkToken=function(){var e,t,s,n;console.log("Send Token Here..."),e=a.props.APIHost,t=a.state.resetToken,s=a.checkTokenSuccess,n=a.checkTokenFailure,v.a.get(e+"/nonAuthPassword/validate/?token="+t,{}).then((function(e){s(e.status)})).catch((function(e){if(e.response){var t=e.response.data,s=[],a=[];for(var r in t)"status"===r?(s.push(1),a.push(t[r])):(s.push(10),a.push("Unknown Error"));n(s,a)}else console.log("Network Error!"),n([0],["Network Error"])}))},a.submitPasswordSuccess=function(e){console.log("Password Reset Success!"),a.setState({currentState:3,networkError:!1,uncaughtError:!1})},a.submitPasswordFailure=function(e,t){var s=[!1,!1],n=["",""],r=!1;for(var c in e)e[c]>s.length?r=!0:(s[e[c]]=!0,n[e[c]]=t[c]);a.setState({networkError:s[0],passwordError:s[1],uncaughtError:r,passwordErrorDetail:n[1]})},a.submitPasswords=function(){console.log("Checking Passwords..."),a.arePasswordsSame()?(console.log("Passwords Checked out!"),function(e,t,s,a,n,r){var c={password:s,password2:a,passToken:t};v.a.put(e+"/nonAuthPassword/Change/",c).then((function(e){n(e.status)})).catch((function(e){if(e.response){var t=e.response.data,s=[],a=[];for(var n in t)"password"===n?(s.push(1),a.push(t[n])):(s.push(10),a.push("Unknown Error"));r(s,a)}else console.log("Network Error!"),r([0],["Network Error"])}))}(a.props.APIHost,a.state.resetToken,a.state.password1,a.state.password2,a.submitPasswordSuccess,a.submitPasswordFailure)):console.log("Passwords Failed!")},a.emailFieldChange=function(e){a.setState({email:e.target.value})},a.tokenFieldChange=function(e){a.setState({resetToken:e.target.value})},a.pass1FieldChange=function(e){a.setState({password1:e.target.value})},a.pass2FieldChange=function(e){a.setState({password2:e.target.value,passwordsSameError:e.target.value!==a.state.password1})},a.state={currentState:0,email:"",resetToken:"",password1:"",password2:"",passwordsSameError:!1,networkError:!1,emailError:!1,emailErrorDetail:"",tokenError:!1,tokenErrorDetail:"",passwordError:!1,passwordErrorDetail:"",uncaughtError:!1},a}return Object(l.a)(s,[{key:"componentDidMount",value:function(){this.setState({email:"",resetToken:"",password1:"",password2:""})}},{key:"render",value:function(){var e=null,t=null,s=null;return 0===this.state.currentState?(this.state.networkError,this.state.emailError,s=Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("p",{children:"Enter your email address. If it is in the system, we will send you an email address with a code."})})}),e=Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"Email Address"}),Object(a.jsx)("input",{type:"email",className:"form-control",value:this.state.email,onChange:this.emailFieldChange,placeholder:"Enter email"})]})})}),t=[Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("button",{className:"btn btn-primary",onClick:this.sendEmail,children:"Send"})})},1),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col m-2",children:Object(a.jsx)("button",{className:"btn btn-primary",onClick:this.swapToCode,children:"Already have the code!"})})},2)]):1===this.state.currentState?(this.state.networkError,this.state.tokenError,s=Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("p",{children:"Check your email. If your email is correct, then enter the code it gives you here:"})}),e=Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"Reset token"}),Object(a.jsx)("input",{type:"text",className:"form-control",value:this.state.resetToken,onChange:this.tokenFieldChange,placeholder:"Enter Token"})]})}),t=Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("button",{className:"btn btn-primary",onClick:this.checkToken,children:"Check Code"})})):2===this.state.currentState?(this.state.networkError,this.state.passwordError,s=[Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("p",{children:" Enter your new password! "})})},1)],this.state.passwordsSameError&&s.push(Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("p",{className:"text-danger",children:" Passwords do not match! "})})},2)),e=[Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("div",{className:"form-group",children:Object(a.jsx)("input",{type:"password",className:"form-control",value:this.state.password1,onChange:this.pass1FieldChange,placeholder:"Enter Password"})})})},3),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("div",{className:"form-group",children:Object(a.jsx)("input",{type:"password",className:"form-control",value:this.state.password2,onChange:this.pass2FieldChange,placeholder:"Re-enter Password"})})})},4)],t=Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("button",{className:"btn btn-primary",onClick:this.submitPasswords,children:"Submit"})})})):3===this.state.currentState&&(s=Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("p",{children:" Password has been successfullty reset! "})})}),e=null,t=Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("button",{className:"btn btn-primary",onClick:this.goSignIn,children:"Sign In!"})})})),Object(a.jsxs)("div",{className:"container-sm",children:[Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("h3",{children:" Forgot your password? "})})}),s,e,t]})}}]),s}(r.a.Component),q=Object(m.f)(W),z=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).forceLogout=function(){a.props.forceLogout(),a.props.history.push(a.props.reRouteTarget)},a.tokenFieldChange=function(e){a.setState({token:e.target.value})},a.gotoDash=function(){a.props.history.push(a.props.reRouteSuccessTarget)},a.handleVerifyCallback=function(e,t){200===e&&(console.log("Successful Verification!"),a.setState({done:!0}))},a.handleVerifyFailure=function(e,t){if(400===e)for(var s in t)"status"===s&&a.setState({tokenError:!0,tokenErrorDetail:t[s]})},a.handleVerifySubmit=function(e){!function(e,t,s,a,n){var r={headers:{Authorization:"JWT ".concat(t)}};v.a.get(e+"/emailActivate/?token="+s,r).then((function(e){a(e.status,e.data)})).catch((function(e){void 0!==e&&void 0!==e.response&&n(e.response.status,e.response.data)}))}(a.props.APIHost,a.props.authToken,a.state.token,a.handleVerifyCallback,a.handleVerifyFailure),e.preventDefault()},a.reSendEmailCallback=function(){a.setState({resend:"A new code has been sent!"})},a.reSendEmailFailure=function(e,t){console.log("Oh no. We failed...."),401===e&&a.props.forceLogout()},a.reSendEmail=function(){y(a.props.APIHost,a.props.authToken,a.reSendEmailCallback,a.reSendEmailFailure)},a.state={token:"",tokenError:!1,tokenErrorDetail:"???",done:!1,resend:""},a}return Object(l.a)(s,[{key:"render",value:function(){var e="form-control";this.state.tokenError&&(e+=" bg-warning");var t=[];return t=this.state.done?Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"row",children:Object(a.jsxs)("div",{className:"col",children:[Object(a.jsx)("h3",{children:"Thank you!"}),Object(a.jsx)("p",{children:"Account has been activated! Press here to go to the dashboard:"})]})}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("button",{className:"btn btn-dark",onClick:this.gotoDash,children:"To the Dashboard!"})})})]}):Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("h3",{children:"Activate your account"})})}),Object(a.jsx)("form",{onSubmit:this.handleVerifySubmit,children:Object(a.jsxs)("div",{id:"align-left",children:[Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("p",{children:" Check your email, you should have received a code, enter it here and your account will be activated!"})})}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{id:"label-left",children:"Enter token here:"}),Object(a.jsx)("input",{type:"text",className:e,value:this.state.username,onChange:this.tokenFieldChange,placeholder:"Token"}),Object(a.jsx)("p",{className:"text-danger",children:this.state.tokenError?this.state.tokenErrorDetail:""})]})})}),Object(a.jsx)("div",{className:"row my-2",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("button",{type:"submit",className:"btn btn-dark btn-block",children:"Submit"})})})]})}),Object(a.jsx)("div",{className:"row my-2",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("button",{onClick:this.reSendEmail,className:"btn btn-dark btn-block",children:"Re-send Activation code"})})}),Object(a.jsx)("div",{className:"row my-2",children:Object(a.jsx)("div",{className:"col",children:this.state.resend})})]}),Object(a.jsx)("div",{className:"signUp",children:Object(a.jsx)("div",{className:"container",children:t})})}}]),s}(r.a.Component),K=Object(m.f)(z),Y=function(e){return Object(a.jsx)("header",{className:"header",children:Object(a.jsx)("div",{className:"intro",children:Object(a.jsx)("div",{className:"overlay",children:Object(a.jsx)("div",{className:"container",children:Object(a.jsx)("div",{className:"row",children:Object(a.jsxs)("div",{className:"col col-md-offset-2 intro-text",children:[Object(a.jsx)("h1",{children:"Project Scenere"}),Object(a.jsx)("h5",{children:"Welcome to the Alpha!"})]})})})})})})},Z=s(406),X=s(407),_=s(408),Q=s(409),$=function(e){return Object(a.jsx)("div",{className:"text-center",id:"features",children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("div",{className:"row m-3",children:Object(a.jsxs)("div",{className:"col",children:[Object(a.jsx)("h2",{className:"section-title",children:"Features"}),Object(a.jsx)("p",{className:"text-muted section-subtitle",children:"Lorem ipsum"})]})}),Object(a.jsxs)("div",{className:"row my-2",children:[Object(a.jsxs)("div",{className:"col-sm-6 col-md-6 col-lg-3",children:[Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col"}),Object(a.jsx)("div",{className:"col",children:Object(a.jsx)(Z.a,{className:"iconBG",color:"white",size:72})}),Object(a.jsx)("div",{className:"col"})]}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("h3",{children:"Feature Title"})})}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("p",{className:"col text-muted",children:"Lorem ipsum dolor sit amet placerat facilisis felis mi in tempus eleifend pellentesque natoque etiam."})})]}),Object(a.jsxs)("div",{className:"col-sm-6 col-md-6 col-lg-3",children:[Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col"}),Object(a.jsx)("div",{className:"col",children:Object(a.jsx)(X.a,{className:"iconBG",color:"white",size:72})}),Object(a.jsx)("div",{className:"col"})]}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("h3",{children:"Feature Title"})})}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("p",{className:"col text-muted",children:"Lorem ipsum dolor sit amet placerat facilisis felis mi in tempus eleifend pellentesque natoque etiam."})})]}),Object(a.jsxs)("div",{className:"col-sm-6 col-md-6 col-lg-3",children:[Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col"}),Object(a.jsx)("div",{className:"col",children:Object(a.jsx)(_.a,{className:"iconBG",color:"white",size:72})}),Object(a.jsx)("div",{className:"col"})]}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("h3",{children:"Feature Title"})})}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("p",{className:"col text-muted",children:"Lorem ipsum dolor sit amet placerat facilisis felis mi in tempus eleifend pellentesque natoque etiam."})})]}),Object(a.jsxs)("div",{className:"col-sm-6 col-md-6 col-lg-3",children:[Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col"}),Object(a.jsx)("div",{className:"col",children:Object(a.jsx)(Q.a,{className:"iconBG",color:"white",size:72})}),Object(a.jsx)("div",{className:"col"})]}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("h3",{children:"Feature Title"})})}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("p",{className:"col text-muted",children:"Lorem ipsum dolor sit amet placerat facilisis felis mi in tempus eleifend pellentesque natoque etiam."})})]})]})]})})},ee=function(e){return Object(a.jsx)("div",{id:"about",children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("div",{className:"row m-4",children:Object(a.jsxs)("div",{className:"col",children:[Object(a.jsx)("h2",{className:"section-title",children:"About Us"}),Object(a.jsx)("p",{className:"text-muted section-subtitle",children:"Lorem ipsum"})]})}),Object(a.jsx)("div",{className:"row m-4",children:Object(a.jsx)("div",{className:"col text-muted",children:"Lorem ipsum dolor sit amet placerat facilisis felis mi in tempus eleifend pellentesque natoque etiam."})}),Object(a.jsx)("div",{className:"row m-4",children:Object(a.jsx)("h5",{className:"col about-subsection",children:"Title of Subsection"})}),Object(a.jsxs)("div",{className:"row my-2 about-text text-muted",children:[Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("ul",{children:[Object(a.jsx)("li",{children:"Lorem ipsum dolor sit amet"}),Object(a.jsx)("li",{children:"Lorem ipsum dolor sit amet"}),Object(a.jsx)("li",{children:"Lorem ipsum dolor sit amet"}),Object(a.jsx)("li",{children:"Lorem ipsum dolor sit amet"})]})}),Object(a.jsx)("div",{className:"col list-style",children:Object(a.jsxs)("ul",{children:[Object(a.jsx)("li",{children:"Lorem ipsum dolor sit amet"}),Object(a.jsx)("li",{children:"Lorem ipsum dolor sit amet"}),Object(a.jsx)("li",{children:"Lorem ipsum dolor sit amet"}),Object(a.jsx)("li",{children:"Lorem ipsum dolor sit amet"})]})})]})]})})},te=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).emailFieldChange=function(e){a.setState({email:e.target.value})},a.callbackSuccess=function(){},a.callbackFailure=function(){},a.handleSubmit=function(e){!function(e,t,s,a){var n={email:t};v.a.post(e+"/sendBetaEmail/",n).then((function(e){e.status})).catch((function(e){}))}(a.props.APIHost,a.state.email,a.callbackSuccess,a.callbackFailure),e.preventDefault()},a.state={email:""},a}return Object(l.a)(s,[{key:"render",value:function(){return Object(a.jsx)("div",{id:"contact",children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{children:"Beta Request"}),Object(a.jsx)("p",{children:"Interested in beta testing? Enter you email below"})]})})}),Object(a.jsx)("form",{onSubmit:this.handleSubmit,children:Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("div",{className:"form-group",children:Object(a.jsx)("input",{type:"email",className:"form-control",value:this.state.email,onChange:this.emailFieldChange,placeholder:"Enter email"})})}),Object(a.jsxs)("div",{className:"col",children:[Object(a.jsx)("label",{}),Object(a.jsx)("button",{type:"submit",className:"btn btn-dark btn-block",children:"Send!"})]})]})})]})})}}]),s}(r.a.Component),se=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).firstNameFieldChange=function(e){a.setState({firstName:e.target.value})},a.lastnameFieldChange=function(e){a.setState({lastName:e.target.value})},a.emailFieldChange=function(e){a.setState({email:e.target.value})},a.companyFieldChange=function(e){a.setState({company:e.target.value})},a.contentFieldChange=function(e){a.setState({content:e.target.value})},a.callbackSuccess=function(){},a.callbackFailure=function(){},a.handleSubmit=function(e){!function(e,t,s,a,n,r,c,o){var i={firstName:t,lastName:s,email:a,company:n,content:r};v.a.post(e+"/sendContactEmail/",i).then((function(e){e.status})).catch((function(e){}))}(a.props.APIHost,a.state.firstName,a.state.lastName,a.state.email,a.state.company,a.state.content,a.callbackSuccess,a.callbackFailure),e.preventDefault()},a.state={firstName:"",lastName:"",email:"",company:"",content:""},a}return Object(l.a)(s,[{key:"render",value:function(){return Object(a.jsx)("div",{id:"contact",children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{children:"Contact Us"}),Object(a.jsx)("p",{children:"Lorem ipsum dolor sit amet placerat"})]})})}),Object(a.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"First Name"}),Object(a.jsx)("input",{type:"text",className:"form-control",value:this.state.firstName,onChange:this.firstNameFieldChange,placeholder:"First Name"})]})}),Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"Last Name"}),Object(a.jsx)("input",{type:"text",className:"form-control",value:this.state.lastName,onChange:this.lastnameFieldChange,placeholder:"Last Name"})]})})]}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"Email Address"}),Object(a.jsx)("input",{type:"email",className:"form-control",value:this.state.email,onChange:this.emailFieldChange,placeholder:"Enter email"})]})}),Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"Company"}),Object(a.jsx)("input",{type:"text",className:"form-control",value:this.state.company,onChange:this.companyFieldChange,placeholder:"Company Name"})]})})]}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"Content"}),Object(a.jsx)("textarea",{type:"text",className:"form-control",value:this.state.content,onChange:this.contentFieldChange,placeholder:"Content"})]})})}),Object(a.jsx)("div",{className:"row my-1",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("button",{type:"submit",className:"btn btn-dark btn-block",children:"Send Message"})})})]})]})})}}]),s}(r.a.Component),ae=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).triggerLogout=function(){a.props.logout()},a.checkTheStorage=function(){console.log("Checking Storage contents:"),p.a.each((function(e,t){console.log(t,"==",e);var s=e.expiryDate;Date.now()>s&&(console.log("Expired!"),p.a.remove(t))})),console.log("Done!")},a.clearTheStorage=function(){console.log("Clearing Data..."),p.a.clearAll(),console.log("Done!")},a.saveToStorage=function(){!function(e,t){var s=new Date;s.setSeconds(s.getSeconds()+70);var a={expiryDate:s.getTime(),data:t};p.a.set(e,a)}("asdf",{SecondKey:"asdf",thirdKey:"boop"})},a.getFromStorage=function(){var e=function(e){var t=p.a.get(e);if(void 0===t)return 0;var s=t.expiryDate,a=Date.now();return console.log(s),console.log(a),a>s?(console.log("Expired"),p.a.remove(e),1):(console.log("Allowed"),t.data)}("asdf");console.log(e)},a.state={},a}return Object(l.a)(s,[{key:"render",value:function(){var e=null,t=null;return void 0===this.props.currentUser?(e=[Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)(h.b,{className:"nav-link",to:this.props.reRouteSignUp,children:"Sign Up"})},"1"),Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)(h.b,{className:"nav-link",to:this.props.reRouteSignIn,children:"Sign In"})},"2")],t=Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)(h.b,{className:"nav-link",to:this.props.reRouteSignIn,children:"None"})},"3")):(e=[Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)(h.b,{className:"nav-link",to:this.props.reRouteDashboard,children:"Dashboard"})},"1")],t=Object(a.jsxs)("div",{className:"dropdown",children:[Object(a.jsx)("div",{className:"nav-link",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:this.props.currentUser}),Object(a.jsxs)("div",{className:"dropdown-menu dropdown-menu-right","aria-labelledby":"dropdownMenuButton",children:[Object(a.jsx)(h.b,{className:"dropdown-item",to:this.props.reRouteUserInvites,children:"Invites"}),Object(a.jsx)(h.b,{className:"dropdown-item",to:this.props.reRouteUserSecurity,children:"Security"}),Object(a.jsx)(h.b,{className:"dropdown-item",to:this.props.reRouteUserPermissions,children:"Permissions"}),Object(a.jsx)(h.b,{className:"dropdown-item",to:this.props.reRouteLanding,onClick:this.triggerLogout,children:"Sign Out"})]})]},"5")),Object(a.jsx)("div",{className:"navigation",children:Object(a.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:Object(a.jsxs)("div",{className:"container-fluid",children:[Object(a.jsx)(h.b,{className:"navbar-brand",to:this.props.reRouteLanding,children:"Project Scenere"}),Object(a.jsx)("div",{className:"dropdown"}),Object(a.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarResponsive","aria-controls":"navbarResponsive","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(a.jsx)("span",{className:"navbar-toggler-icon"})}),Object(a.jsx)("div",{className:"collapse navbar-collapse",id:"navbarResponsive",children:Object(a.jsxs)("ul",{className:"navbar-nav ml-auto",children:[e,t]})})]})})})}}]),s}(r.a.Component),ne=Object(m.f)(ae),re=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).state={},a}return Object(l.a)(s,[{key:"render",value:function(){return Object(a.jsx)("div",{className:"footer fixed-bottom",children:Object(a.jsx)("footer",{className:"py-3 bg-dark",children:Object(a.jsx)("div",{className:"container",children:Object(a.jsx)("p",{className:"m-0 text-center text-white",children:"Copyright \xa9 Nightingale Technologies 2021"})})})})}}]),s}(r.a.Component),ce=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).state={},a}return Object(l.a)(s,[{key:"render",value:function(){return Object(a.jsxs)("div",{className:"freePages",children:[Object(a.jsx)(Y,{}),Object(a.jsx)(te,{APIHost:this.props.APIHost}),Object(a.jsx)($,{}),Object(a.jsx)(ee,{}),Object(a.jsx)(se,{APIHost:this.props.APIHost})]})}}]),s}(r.a.Component),oe=Object(m.f)(ce),ie=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).backButton=function(){a.props.history.goBack()},a.state={example:0},a}return Object(l.a)(s,[{key:"render",value:function(){return Object(a.jsx)("div",{className:"authPages",children:Object(a.jsx)("div",{className:"container",children:Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col",children:"Authorization Pages"})})})})}}]),s}(r.a.Component),le=(Object(m.f)(ie),function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).componentDidMount=function(){if(void 0===a.state.authToken){var e=p.a.get("lastUser");try{var t=e.session;void 0!==t?a.setState({authToken:t}):a.forceLogout()}catch(s){a.forceLogout()}}else a.loadData()},a.clearCompanyData=function(){a.setState({EHIData:[],currentCompanyDataName:void 0,currentCompanyDataType:void 0,selectedSummaryWeekData:{},validCompanySummaryDates:[],selectedSuggestDay:!1,selectedSuggestDayData:[],validDivisionSuggestionDates:[]})},a.loadData=function(){a.checkActiveUser(),a.getValidJournalDates(),a.getUserCompanyAdminViewTree(),a.getUserCompanySendsTree(),a.getUserGovernedPermTree()},a.forceLogout=function(){a.props.logout(),a.props.history.push(a.props.reRouteTarget)},a.checkActiveUserCallback=function(e){!0===e||a.props.history.push(a.props.activateRedirect)},a.checkActiveUser=function(){!function(e,t,s,a){var n={headers:{Authorization:"JWT ".concat(t)}};v.a.get(e+"/userIsActive",n).then((function(e){s(e.data[0].isActive)})).catch((function(e){void 0!==e&&void 0!==e.response&&a(e.response.status,e.response.data)}))}(a.props.APIHost,a.state.authToken,a.checkActiveUserCallback,a.forceLogout)},a.journalDatesCallback=function(e,t){a.setState({validJournalDates:e,validJournalScanDates:t})},a.getValidJournalDates=function(){if(void 0!==a.props.currentUser){(function(e,t,s,a){var n={headers:{Authorization:"JWT ".concat(t)}};v.a.get(e+"/getJournalDates",n).then((function(e){var t=[],a=[],n="";for(n in e.data){var r=new Date(e.data[n].forDate),c=r.getFullYear()+"-"+r.getMonth()+"-"+(r.getDate()+1);e.data[n].hasAI?t.push(c):a.push(c)}s(a,t)})).catch((function(e){void 0!==e&&void 0!==e.response&&401===e.response.status&&a()}))})(a.props.APIHost,a.state.authToken,a.journalDatesCallback,a.forceLogout)}},a.governedPermTreeCallback=function(e,t,s){a.setState({companyGovernedDataTree:e,companyGovernedDataRawList:t,companyGovernedDataRawIDList:s})},a.governedPermTreeFailure=function(e,t){for(var s in e)401===e[s]&&a.forceLogout()},a.getUserGovernedPermTree=function(){if(void 0!==a.props.currentUser){C(a.props.APIHost,a.state.authToken,["gov"],a.governedPermTreeCallback,a.governedPermTreeFailure)}},a.companyListCallback=function(e,t,s){a.setState({companyViewableDataTree:e,companyViewableDataRawList:t,companyViewableDataRawIDs:s})},a.companyListFailure=function(e,t){for(var s in e)401===e[s]&&a.forceLogout()},a.getUserCompanyAdminViewTree=function(){if(void 0!==a.props.currentUser){C(a.props.APIHost,a.state.authToken,["admin","view"],a.companyListCallback,a.companyListFailure)}},a.companySendCallback=function(e,t,s){a.setState({companySendDataTree:e,companySendDataRawList:t,companySendDataRawIDList:s})},a.companySendFailure=function(e,t){for(var s in e)401===e[s]&&a.forceLogout()},a.getUserCompanySendsTree=function(){if(void 0!==a.props.currentUser){C(a.props.APIHost,a.state.authToken,["send"],a.companySendCallback,a.companySendFailure)}},a.companyDatesCallback=function(e){a.setState({validCompanySummaryDates:e})},a.getCompanyValidDates=function(){if(-1!==a.state.currentDivisionID){(function(e,t,s,a,n){var r={headers:{Authorization:"JWT ".concat(t)}};v.a.get(e+"/getCompanyDates/?reqDiv="+s,r).then((function(e){var t={},s="";for(s in e.data){var n=x[e.data[s].summaryType];n in t||(t[n]=[]),t[n].push(e.data[s].forDate)}a(t)})).catch((function(e){void 0!==e&&void 0!==e.response&&401===e.response.status&&n()}))})(a.props.APIHost,a.state.authToken,a.state.currentDivisionID,a.companyDatesCallback,a.forceLogout)}},a.companySuggestionDateCallback=function(e){a.setState({validDivisionSuggestionDates:e})},a.getCompanyValidSuggestionDates=function(){if(-1!==a.state.currentDivisionID){(function(e,t,s,a,n){var r={headers:{Authorization:"JWT ".concat(t)}};v.a.get(e+"/getCompanySuggestionDates/?reqDiv="+s,r).then((function(e){var t=[],s="";for(s in e.data){var n=new Date(e.data[s]),r=n.getFullYear()+"-"+n.getMonth()+"-"+(n.getDate()+1);t.push(r)}a(t)})).catch((function(e){void 0!==e&&void 0!==e.response&&401===e.response.status&&n()}))})(a.props.APIHost,a.state.authToken,a.state.currentDivisionID,a.companySuggestionDateCallback,a.forceLogout)}},a.companySuggestionDataCallback=function(e,t){var s=new Date(e);a.setState({selectedSuggestDay:s,selectedSuggestDayData:t})},a.getCompanySuggestionData=function(e){if(-1!==a.state.currentDivisionID){a.setState({getCompanySuggestionData:e});(function(e,t,s,a,n,r){var c={headers:{Authorization:"JWT ".concat(t)}},o=a.toJSON().split("T")[0];v.a.get(e+"/getCompanySuggestionData?reqDiv="+s+"&reqDate="+o,c).then((function(e){n(a,e.data)})).catch((function(e){void 0!==e&&void 0!==e.response&&401===e.response.status&&r()}))})(a.props.APIHost,a.state.authToken,a.state.currentDivisionID,e,a.companySuggestionDataCallback,a.forceLogout)}else a.setState({})},a.companyDataCallback=function(e,t){a.setState({companyMessage:"Showing Summary for: "+a.state.currentDivisionID+" On: "+a.state.selectedCompanyDate.toString(),selectedSummaryWeekData:e,currentCompanyDataType:t,currentCompanyDataName:a.state.currentDivisionName,currentCompanyDataID:a.state.currentDivisionID})},a.getCompanyWeeklySummary=function(e){var t=e.getDay()-1;t<0&&(t=6);if(a.setState({selectedCompanyDate:e}),-1!==a.state.currentDivisionID){(function(e,t,s,a,n,r,c){var o=new Date(n.getTime()).toJSON().split("T")[0],i={headers:{Authorization:"JWT ".concat(t)}};v.a.get(e+"/getCompanySummary/?reqDate="+o+"&reqDiv="+s+"&type="+a,i).then((function(e){e.data.length>0&&r(e.data[0],a)})).catch((function(e){void 0!==e&&void 0!==e.response&&401===e.response.status&&c()}))})(a.props.APIHost,a.state.authToken,a.state.currentDivisionID,0,e,a.companyDataCallback,a.forceLogout)}},a.companyEHICallback=function(e){a.setState({EHIData:e})},a.getCompanyEHIData=function(){if(-1!==a.state.currentDivisionID){(function(e,t,s,a,n){var r={headers:{Authorization:"JWT ".concat(t)}};v.a.get(e+"/getCompanyEHI/?reqDiv="+s,r).then((function(e){e.data.length>0?a(e.data[0].EHIstorage):n()})).catch((function(e){void 0!==e&&void 0!==e.response&&401===e.response.status&&n()}))})(a.props.APIHost,a.state.authToken,a.state.currentDivisionID,a.companyEHICallback,a.forceLogout)}},a.selectCompanyLayer=function(e){var t=a.state.currentCompanyIndexes;t.push(e.target.value),a.setState({currentCompanyIndexes:t,lastCompanyRequestStatus:0})},a.backCompanyLayer=function(e){var t=a.state.currentCompanyIndexes;t.splice(e.target.value),a.setState({currentCompanyIndexes:t,lastCompanyRequestStatus:0})},a.getThatData=function(){a.clearCompanyData(),a.getCompanyEHIData(),a.getCompanyValidDates(),a.getCompanyValidSuggestionDates()},a.getCompanyDataRequest=function(e){var t=e.target.value.split(",");Number(t[0])>0?(a.setState({currentDivisionName:t[1],currentDivisionID:t[2],lastCompanyRequestStatus:1},a.getThatData),a.props.changeMenuCompanyName(t[1])):a.setState({lastCompanyRequestStatus:2})},a.changeCompanyPrompt=function(e){a.setState({selectedCompanyPrompt:e.currentTarget.value})},a.changeCompanyAspect=function(e){a.setState({selectedCompanyAspect:e.currentTarget.value})},a.changeCompanyDay=function(e){a.setState({selectedCompanyDay:e.currentTarget.value})},a.state={currentDate:new Date,validJournalDates:[],validJournalScanDates:[],selectedCompanyDate:new Date,selectedSuggestionDate:new Date,EHIData:[],selectedCompanyDay:"mon",selectedCompanyPrompt:"misc",selectedCompanyAspect:"emotion",companyMessage:"Choose a date and company to view that summary!",currentDivisionID:-1,currentDivisionName:"None",currentCompanyIndexes:[],companyViewableDataTree:{},companyViewableDataRawList:[],companyViewableDataRawIDs:[],companySendDataTree:{},companySendDataRawList:[],companySendDataRawIDList:[],lastCompanyRequestStatus:0,currentCompanyDataName:void 0,currentCompanyDataType:void 0,selectedSummaryWeekData:{},validCompanySummaryDates:[],selectedSuggestDay:!1,selectedSuggestDayData:[],validDivisionSuggestionDates:[],companyGovernedDataTree:{},companyGovernedDataRawList:[],companyGovernedDataRawIDList:[],lastGovernedCompanyRequestStatus:void 0,authToken:a.props.authToken},a}return Object(l.a)(s,[{key:"render",value:function(){var e=this;return Object(a.jsx)("div",{className:"contentPages",children:Object(a.jsx)("div",{className:"container-fluid",children:Object(a.jsxs)(m.c,{children:[Object(a.jsx)(m.a,{path:this.props.match.url,exact:!0,component:function(){return Object(a.jsx)(ue,{toUserPage:e.props.match.url+"/userMode/journalWrite",toCompanyPage:e.props.match.url+"/companyMode/companySelect"})}}),Object(a.jsx)(m.a,{path:this.props.match.url+"/userMode",component:function(){return Object(a.jsx)(ze,{reRouteUser:e.props.reRouteUser,currentDate:e.state.currentDate,forceLogout:e.forceLogout,APIHost:e.props.APIHost,authToken:e.state.authToken,currentUser:e.props.currentUser,companyViewableDataRawList:e.state.companyViewableDataRawList,companyViewableDataRawIDs:e.state.companyViewableDataRawIDs,companySendDataRawIDList:e.state.companySendDataRawIDList,companyGovernedDataRawList:e.state.companyGovernedDataRawList,companyGovernedDataRawIDList:e.state.companyGovernedDataRawIDList,loadCompanyData:e.loadData,validJournalDates:e.state.validJournalDates,validJournalScanDates:e.state.validJournalScanDates,currentCompanyGovernedIndexes:e.state.currentCompanyGovernedIndexes,companyGovernedDataTree:e.state.companyGovernedDataTree,lastGovernedCompanyRequestStatus:e.state.lastGovernedCompanyRequestStatus,disableMenu:e.props.disableMenu,activateUserMenu:e.props.activateUserMenu})}}),Object(a.jsx)(m.a,{path:this.props.match.url+"/companyMode",component:function(){return Object(a.jsx)(xt,{forceLogout:e.forceLogout,reRouteCompany:e.props.reRouteCompany,currentDate:e.state.currentDate,currentDivisionName:e.state.currentDivisionName,currentCompanyIndexes:e.state.currentCompanyIndexes,companyViewableDataTree:e.state.companyViewableDataTree,lastCompanyRequestStatus:e.state.lastCompanyRequestStatus,selectCompanyLayer:e.selectCompanyLayer,backCompanyLayer:e.backCompanyLayer,getCompanyDataRequest:e.getCompanyDataRequest,APIHost:e.props.APIHost,authToken:e.state.authToken,currentDivisionID:e.state.currentDivisionID,selectedCompanyDate:e.state.selectedCompanyDate,validDivisionSuggestionDates:e.state.validDivisionSuggestionDates,selectedSuggestDay:e.state.selectedSuggestDay,selectedSuggestDayData:e.state.selectedSuggestDayData,getCompanySuggestionData:e.getCompanySuggestionData,EHIData:e.state.EHIData,currentCompanyDataName:e.state.currentCompanyDataName,currentCompanyDataType:e.state.currentCompanyDataType,validCompanySummaryDates:e.state.validCompanySummaryDates,companyMessage:e.state.companyMessage,selectedSummaryWeekData:e.state.selectedSummaryWeekData,selectedCompanyDay:e.state.selectedCompanyDay,selectedCompanyPrompt:e.state.selectedCompanyPrompt,selectedCompanyAspect:e.state.selectedCompanyAspect,changeCompanyPrompt:e.changeCompanyPrompt,changeCompanyAspect:e.changeCompanyAspect,changeCompanyDay:e.changeCompanyDay,changeSelectedCompany:e.changeSelectedCompany,getUserCompanyAdminViewTree:e.getUserCompanyAdminViewTree,getCompanyValidDates:e.getCompanyValidDates,getCompanyWeeklySummary:e.getCompanyWeeklySummary,loadCompanyData:e.loadData,disableMenu:e.props.disableMenu,activateCompanyMenu:e.props.activateCompanyMenu})}})]})})})}}]),s}(r.a.Component)),de=Object(m.f)(le),ue=Object(m.f)((function(e){return Object(a.jsx)("div",{className:"defaultView",children:Object(a.jsx)("div",{className:"container",children:Object(a.jsx)("div",{className:"row my-5",children:Object(a.jsx)("div",{className:"col m-1",children:Object(a.jsxs)("div",{className:"card shadow",children:[Object(a.jsx)("div",{className:"card-header",children:Object(a.jsx)("h3",{children:"This is an empty dashboard for the time being..."})}),Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsx)(h.b,{className:"list-group-item",to:e.toUserPage,children:"Go To User Mode"}),Object(a.jsx)(h.b,{className:"list-group-item",to:e.toCompanyPage,children:"Go to Company Mode"})]})]})})})})})})),he=s(13),me={editor:{border:"1px solid gray",minHeight:"6em",textAlign:"left"}},je=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(){var e;return Object(i.a)(this,s),(e=t.call(this)).onToggle=function(t){t.preventDefault(),e.props.onToggle(e.props.style)},e}return Object(l.a)(s,[{key:"render",value:function(){var e="btn btn-outline-primary";return this.props.active&&(e+=" active"),Object(a.jsx)("button",{className:e,onMouseDown:this.onToggle,children:this.props.label})}}]),s}(r.a.Component),pe=[{label:"H1",style:"header-one"},{label:"H2",style:"header-two"},{label:"H3",style:"header-three"},{label:"H4",style:"header-four"},{label:"H5",style:"header-five"},{label:"H6",style:"header-six"},{label:"UL",style:"unordered-list-item"},{label:"OL",style:"ordered-list-item"}],be=function(e){var t=e.editorState,s=t.getSelection(),n=t.getCurrentContent().getBlockForKey(s.getStartKey()).getType();return Object(a.jsx)("div",{className:"RichEditor-controls",children:pe.map((function(t){return Object(a.jsx)(je,{active:t.style===n,label:t.label,onToggle:e.onToggle,style:t.style},t.label)}))})},ve=[{label:"Bold",style:"BOLD"},{label:"Italic",style:"ITALIC"},{label:"Underline",style:"UNDERLINE"}],ge=function(e){var t=e.editorState.getCurrentInlineStyle();return Object(a.jsx)("div",{className:"RichEditor-controls",children:ve.map((function(s){return Object(a.jsx)(je,{active:t.has(s.style),label:s.label,onToggle:e.onToggle,style:s.style},s.label)}))})},xe=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).toggleBlockType=function(e){a.props.onChange(he.RichUtils.toggleBlockType(a.props.editorState,e))},a.toggleInlineStyle=function(e){a.props.onChange(he.RichUtils.toggleInlineStyle(a.props.editorState,e))},a.handleKeyCommand=function(e,t){var s=he.RichUtils.handleKeyCommand(t,e);return s?(a.props.onChange(s),"handled"):"not-handled"},a.state={},a.focusMe=function(){return a.refs.editor.focus()},a}return Object(l.a)(s,[{key:"render",value:function(){var e=0,t=[],s=this.props.companyDataTree;t.push(Object(a.jsx)("button",{onClick:this.props.backLayer,value:0,className:"btn btn-outline-dark",children:"Root"},e)),e+=1;var n="",r=0,c=!1,o=!1,i=!1,l=!1,d=!1,u=!1,h=!1;for(var m in this.props.suggestionErrors[0])1===this.props.suggestionErrors[0][m]?(c=!0,l=Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col text-success",children:this.props.suggestionErrors[1][m]})})):2===this.props.suggestionErrors[0][m]?(c=!0,d=Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col text-success",children:"Created Suggestion for: "+this.props.suggestionErrors[1][m].targetDivision+", "+this.props.suggestionErrors[1][m].createdDate})})):3===this.props.suggestionErrors[0][m]||4===this.props.suggestionErrors[0][m]?(o=!0,u=Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col text-danger",children:this.props.suggestionErrors[1][m]})})):10===this.props.suggestionErrors[0][m]&&(i=!0,h=Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col text-danger",children:this.props.suggestionErrors[1][m]})}));if(this.props.currentCompanySelections.length>0)for(var j=0;j<this.props.currentCompanySelections.length;j++){n+=s[this.props.currentCompanySelections[j]].name+"/",r=s[this.props.currentCompanySelections[j]].perm;var p="btn";s[this.props.currentCompanySelections[j]].perm?p+=" btn-secondary":p+=" btn-outline-secondary",t.push(Object(a.jsx)("button",{onClick:this.props.backLayer,value:j+1,className:p,children:s[this.props.currentCompanySelections[j]].name},e)),e+=1,s=s[this.props.currentCompanySelections[j]].children}else n="No Selection";var b=[];for(var v in s){var g="btn";s[v].perm?g+=" btn-primary":g+=" btn-outline-primary",b.push(Object(a.jsx)("button",{onClick:this.props.selectLayer,value:v,className:g,children:s[v].name},e)),e+=1}0===b.length&&(b.push(Object(a.jsx)("div",{className:"btn btn-outline-secondary",children:"End of Data"},e)),e+=1);var x="btn ";x+=r>0?"btn-success":"btn-danger";var O="";!1===this.props.lastRequestStatus&&(O=" bg-danger");return Object(a.jsx)("div",{className:"makeView",children:Object(a.jsxs)("div",{className:"container-fluid",children:[Object(a.jsx)("div",{className:"row my-2",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("div",{className:"card shadow",children:[Object(a.jsx)("div",{className:"card-header",children:Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col my-2",children:Object(a.jsx)("div",{className:O,children:"Select Part of Company:"})})})}),Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsx)("div",{className:"row my-2",children:Object(a.jsx)("div",{className:"col btn-group btn-group-sm",children:t})}),Object(a.jsx)("div",{className:"row my-2",children:Object(a.jsx)("div",{className:"col btn-group btn-group-sm",children:b})})]})]})})}),Object(a.jsx)("div",{className:"row my-2",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("div",{className:"card shadow",children:[Object(a.jsxs)("div",{className:"card-header",children:[Object(a.jsx)("h4",{children:"Writing Suggestion for:"}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col my-2",children:Object(a.jsx)("div",{className:O,children:n})})})]}),Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsx)("div",{className:"row",children:Object(a.jsxs)("div",{className:"col",children:[Object(a.jsx)(be,{editorState:this.props.editorState,onToggle:this.toggleBlockType}),Object(a.jsx)(ge,{editorState:this.props.editorState,onToggle:this.toggleInlineStyle})]})}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col-1"}),Object(a.jsx)("div",{className:"col",onClick:this.focusMe,children:Object(a.jsx)("div",{id:"align-left",children:Object(a.jsx)("div",{style:me.editor,children:Object(a.jsx)(he.Editor,{editorState:this.props.editorState,onChange:this.props.onChange,handleKeyCommand:this.handleKeyCommand,spellCheck:!0,placeholder:"",ref:"editor"})})})}),Object(a.jsx)("div",{className:"col-1"})]}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("button",{className:x,onMouseDown:this.props.saveToServer,children:" Save Suggestion "})})}),c&&l,c&&d,o&&u,i&&h]})]})})})]})})}}]),s}(r.a.Component),Oe=Object(m.f)(xe),Ne=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).toggleDelete=function(e){var t=Number(e.target.value),s=[],n=-1;switch(e.target.name){case"gov":-1===(n=(s=a.state.delGoverns.slice()).indexOf(t))?s.push(t):s.splice(n,1),a.setState({delGoverns:s});break;case"sen":-1===(n=(s=a.state.togSends.slice()).indexOf(t))?s.push(t):s.splice(n,1),a.setState({togSends:s});break;case"vie":-1===(n=(s=a.state.delViews.slice()).indexOf(t))?s.push(t):s.splice(n,1),a.setState({delViews:s});break;default:console.log("Failed to have the correct name")}},a.setSuccess=function(e){console.log("Set Data Success"),console.log(e),a.props.triggerRefresh()},a.setFailure=function(e,t){console.log("Set Data Failure"),console.log(e),console.log(t)},a.saveChanges=function(){var e={togEmails:a.state.togSends,delGovern:a.state.delGoverns};!function(e,t,s,a,n){var r={headers:{Authorization:"JWT ".concat(t)}},c=s;v.a.put(e+"/setUserProfileData/",c,r).then((function(e){var t=e.data;a(t)})).catch((function(e){e.response?n([],[]):n([0],["Network Error"])}))}(a.props.APIHost,a.props.authToken,e,a.setSuccess,a.setFailure)},a.state={delViews:[],togSends:[],delGoverns:[]},a}return Object(l.a)(s,[{key:"render",value:function(){var e=[];if(this.props.viewNameList.length>0)for(var t in this.props.viewNameList){var s="",n=this.props.sendIDList.indexOf(this.props.viewIDList[t]);n>=0&&(s="bg-success"),(n=this.state.togSends.indexOf(this.props.viewIDList[t]))>=0&&(s="bg-warning"),(n=this.state.delViews.indexOf(this.props.viewIDList[t]))>=0&&(s="bg-danger"),e.push(Object(a.jsxs)("li",{className:"list-group-item d-flex justify-content-around "+s,children:[this.props.viewNameList[t],Object(a.jsx)("button",{className:"badge badge-success badge-pill",name:"sen",value:this.props.viewIDList[t],onClick:this.toggleDelete,children:"View"}),Object(a.jsx)("button",{className:"badge badge-danger badge-pill",name:"vie",value:this.props.viewIDList[t],onClick:this.toggleDelete,children:"X"})]},t))}else e.push(Object(a.jsx)("li",{className:"list-group-item d-flex justify-content-around",children:"None!"},0));var r=[];if(this.props.governedNameList.length>0)for(var c in this.props.governedNameList){var o="";this.state.delGoverns.indexOf(this.props.governedIDList[c])>=0&&(o="bg-danger"),r.push(Object(a.jsxs)("li",{className:"list-group-item d-flex justify-content-around "+o,children:[this.props.governedNameList[c],Object(a.jsx)("button",{className:"badge badge-danger badge-pill",name:"gov",value:this.props.governedIDList[c],onClick:this.toggleDelete,children:"X"})]},c))}else r.push(Object(a.jsx)("li",{className:"list-group-item d-flex justify-content-around",children:"None!"},0));return Object(a.jsx)("div",{className:"defaultView",children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("div",{className:"card shadow",children:[Object(a.jsx)("div",{className:"card-header",children:Object(a.jsx)("h5",{children:"Companies you can View data for"})}),Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsx)("ul",{className:"list-group",children:e}),Object(a.jsx)("button",{className:"btn btn-secondary","data-toggle":"modal","data-target":"#deleteConfirm",children:"Confirm"})]})]})})}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("div",{className:"card shadow",children:[Object(a.jsx)("div",{className:"card-header",children:Object(a.jsx)("h5",{children:"Companies getting your Journal Info"})}),Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsx)("ul",{className:"list-group",children:r}),Object(a.jsx)("button",{className:"btn btn-secondary","data-toggle":"modal","data-target":"#deleteConfirm",children:"Confirm"})]})]})})}),Object(a.jsx)("div",{className:"modal fade",id:"deleteConfirm",tabIndex:"-1",role:"dialog","aria-labelledby":"deleteConfirmation","aria-hidden":"true",children:Object(a.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:Object(a.jsxs)("div",{className:"modal-content",children:[Object(a.jsxs)("div",{className:"modal-header",children:[Object(a.jsx)("h5",{className:"modal-title",id:"deleteTitleConfirm",children:"Delete Confirmation"}),Object(a.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(a.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(a.jsx)("div",{className:"modal-body",children:"Are you SURE you want to make these changes?"}),Object(a.jsxs)("div",{className:"modal-footer",children:[Object(a.jsx)("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal",onClick:this.saveChanges,children:"Yes"}),Object(a.jsx)("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal",children:"No"})]})]})})})]})})}}]),s}(r.a.Component),fe=Object(m.f)(Ne),ye=s(43),we=(s(79),s(16)),Ce=s(410),Se=s(412),De=function(e){return[e.joy,e.anger,e.sadness,e.disgust,e.fear]},ke=[{name:"Emotion",value:"emotion"},{name:"Sentiment",value:"sentiment"},{name:"Entities",value:"entities"},{name:"Keywords",value:"keywords"}],Ee={editor:{border:"1px solid gray",minHeight:"6em",textAlign:"left"}},Ie=Object(m.f)((function(e){var t="Displaying Data for Journal with prompt: "+e.journalPromptSet[e.selectedPrompt],s="None",n=[];if(e.journalPromptSet.length>0){for(var r in e.journalPromptSet)null!==e.journalPromptSet[r]?n.push({name:e.journalPromptSet[r].identifier,value:r}):n.push({name:"Empty",value:r});try{s=e.journalPromptSet[e.selectedPrompt].text}catch(A){s="None"}}var c=he.EditorState.createEmpty();if(void 0!==e.journalRichContentSet[e.selectedPrompt]){var o=Object(he.convertFromRaw)(e.journalRichContentSet[e.selectedPrompt]);c=he.EditorState.createWithContent(o)}0===n.length&&n.push({name:"No Prompts",value:-1});var i=e.journalAIDataSet[e.selectedPrompt],l=e.journalContentSet[e.selectedPrompt];void 0===l&&(l="No Content!");var d=[],u=[];if(null!==i&&void 0!==i&&e.selectedAspect in i){var h=i[e.selectedAspect];switch(e.selectedAspect){case"emotion":var m=De(h.document.emotion),j=P(m),p={scale:{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}};u.push(Object(a.jsxs)("div",{className:"row m-2",children:[Object(a.jsx)("div",{className:"col"}),Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("div",{className:"card",children:[Object(a.jsx)("div",{className:"card-header",children:"Emotion Values"}),Object(a.jsx)("div",{className:"card-body",children:Object(a.jsx)(we.Radar,{data:j,options:p})})]})}),Object(a.jsx)("div",{className:"col"})]},"2"));break;case"sentiment":var b={labels:["Value"],datasets:[{label:"Value",data:[h.document.score],backgroundColor:"rgb(54, 162, 235)"}]},v={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:-1,suggestedMax:1}}],xAxes:[{}]}};u.push(Object(a.jsxs)("div",{className:"row m-2",children:[Object(a.jsx)("div",{className:"col"}),Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("div",{className:"card",children:[Object(a.jsx)("div",{className:"card-header",children:"Sentiment Values"}),Object(a.jsx)("div",{className:"card-body",children:Object(a.jsx)(we.Bar,{data:b,options:v})})]})}),Object(a.jsx)("div",{className:"col"})]},"2"));break;case"entities":for(var g in h){var x=h[g],O=De(x.emotion),N=P(O),f={scale:{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}},y=R([x.confidence,x.relevance,x.sentiment.score]),w={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:-1,suggestedMax:1}}],xAxes:[{}]}};d.push(Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{scope:"row",children:x.text}),Object(a.jsx)("td",{children:x.type}),Object(a.jsx)("td",{children:x.count}),Object(a.jsx)("td",{colSpan:"3",children:Object(a.jsx)(we.Bar,{data:y,options:w})}),Object(a.jsx)("td",{children:Object(a.jsx)(we.Radar,{data:N,options:f})})]},g))}u.push(Object(a.jsxs)("table",{className:"table",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{scope:"col",children:"Name"}),Object(a.jsx)("th",{scope:"col",children:"Type"}),Object(a.jsx)("th",{scope:"col",children:"#Appearances"}),Object(a.jsx)("th",{scope:"col",children:"Confidence"}),Object(a.jsx)("th",{scope:"col",children:"Relevance"}),Object(a.jsx)("th",{scope:"col",children:"Sentiment"}),Object(a.jsx)("th",{scope:"col",children:"Emotion"})]})}),Object(a.jsx)("tbody",{children:d})]},"2"));break;case"keywords":for(var C in h){var S=h[C],D=De(S.emotion),k=P(D),E={scale:{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}},I=L([S.relevance,S.sentiment.score]),T={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:-1,suggestedMax:1}}],xAxes:[{}]}};d.push(Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{scope:"row",children:S.text}),Object(a.jsx)("td",{children:S.count}),Object(a.jsx)("td",{colSpan:"2",children:Object(a.jsx)(we.Bar,{data:I,options:T})}),Object(a.jsx)("td",{children:Object(a.jsx)(we.Radar,{data:k,options:E})})]},C))}u.push(Object(a.jsxs)("table",{className:"table",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{scope:"col",children:"Name"}),Object(a.jsx)("th",{scope:"col",children:"#Appearances"}),Object(a.jsx)("th",{scope:"col",children:"Relevance Score"}),Object(a.jsx)("th",{scope:"col",children:"Sentiment"}),Object(a.jsx)("th",{scope:"col",children:"Emotion"})]})}),Object(a.jsx)("tbody",{children:d})]},"2"));break;default:console.log("Invalid AI selection somehow")}}return Object(a.jsx)("div",{className:"mainView",children:Object(a.jsxs)("div",{className:"container-fluid justify-content-center",children:[Object(a.jsxs)("div",{className:"row m-2",children:[Object(a.jsx)("div",{className:"col- m-2",children:Object(a.jsx)("div",{children:Object(a.jsx)(ye.a,{className:"shadow",onChange:e.pickDate,value:e.currentDate,tileClassName:function(t){var s=t.date;if("month"===t.view){var a=s.getFullYear()+"-"+s.getMonth()+"-"+s.getDate(),n=e.validJournalDates.find((function(e){return e===a}));if(e.validJournalScanDates.find((function(e){return e===a})))return"btn btn-success";if(n)return"btn btn-warning"}},minDetail:"year",maxDetail:"month"})})}),Object(a.jsx)("div",{className:"col my-2",children:Object(a.jsxs)("div",{className:"card shadow",children:[Object(a.jsx)("div",{className:"card-header",children:Object(a.jsx)("div",{children:e.displayMessage})}),Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsx)("div",{className:"row m-2",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsx)(Ce.a,{toggle:!0,children:n.map((function(t,s){return Object(a.jsx)(Se.a,{type:"radio",variant:"primary",name:"radio",value:t.value,checked:e.selectedPrompt===t.value,onChange:e.setPrompt,children:t.name},s)}))})})}),Object(a.jsx)("div",{className:"row m-2",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsx)(Ce.a,{toggle:!0,children:ke.map((function(t,s){return Object(a.jsx)(Se.a,{type:"radio",variant:"info",name:"radio",value:t.value,checked:e.selectedAspect===t.value,onChange:e.setAI,children:t.name},s)}))})})})]})]})})]}),Object(a.jsx)("div",{className:"row m-2",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("div",{className:"card shadow",children:[Object(a.jsx)("div",{className:"card-header",children:Object(a.jsx)("div",{children:"Prompt and Journal Contents:"})}),Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsxs)("p",{children:["Prompt Contents: ",s]}),Object(a.jsxs)("p",{children:["Bare Content: ",l]}),Object(a.jsxs)("div",{id:"align-left",children:["Rich Content:",Object(a.jsx)("div",{style:Ee.editor,children:Object(a.jsx)(he.Editor,{editorState:c,placeholder:"Nothing Here!",readOnly:!0})})]})]})]})})}),Object(a.jsx)("div",{className:"row m-2",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("div",{className:"card shadow",children:[Object(a.jsx)("div",{className:"card-header",children:Object(a.jsx)("div",{children:t})}),Object(a.jsx)("div",{className:"card-body",children:u})]})})}),Object(a.jsx)("div",{className:"row  my-2",children:Object(a.jsx)("p",{})})]})})})),Pe={editor:{border:"1px solid gray",minHeight:"6em",textAlign:"left"}},Te=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(){var e;return Object(i.a)(this,s),(e=t.call(this)).onToggle=function(t){t.preventDefault(),e.props.onToggle(e.props.style)},e}return Object(l.a)(s,[{key:"render",value:function(){var e="btn btn-outline-primary";return this.props.active&&(e+=" active"),Object(a.jsx)("button",{className:e,onMouseDown:this.onToggle,children:this.props.label})}}]),s}(r.a.Component),Ae=[{label:"H1",style:"header-one"},{label:"H2",style:"header-two"},{label:"H3",style:"header-three"},{label:"H4",style:"header-four"},{label:"H5",style:"header-five"},{label:"H6",style:"header-six"}],Fe=function(e){var t=e.editorState,s=t.getSelection(),n=t.getCurrentContent().getBlockForKey(s.getStartKey()).getType();return Object(a.jsx)("div",{className:"RichEditor-controls",children:Ae.map((function(t){return Object(a.jsx)(Te,{active:t.style===n,label:t.label,onToggle:e.onToggle,style:t.style},t.label)}))})},Le=[{label:"Bold",style:"BOLD"},{label:"Italic",style:"ITALIC"},{label:"Underline",style:"UNDERLINE"}],Re=function(e){var t=e.editorState.getCurrentInlineStyle();return Object(a.jsx)("div",{className:"RichEditor-controls",children:Le.map((function(s){return Object(a.jsx)(Te,{active:t.has(s.style),label:s.label,onToggle:e.onToggle,style:s.style},s.label)}))})},Ue=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).toggleBlockType=function(e){a.props.onChange(he.RichUtils.toggleBlockType(a.props.editorState,e))},a.toggleInlineStyle=function(e){a.props.onChange(he.RichUtils.toggleInlineStyle(a.props.editorState,e))},a.handleKeyCommand=function(e,t){var s=he.RichUtils.handleKeyCommand(t,e);return s?(a.props.onChange(s),"handled"):"not-handled"},a.saveJournal=function(){a.props.saveToServer()},a.state={},a.focusMe=function(e){return a.refs.editor.focus()},a}return Object(l.a)(s,[{key:"render",value:function(){var e="No Prompts! \n Feel free to write whatever you like!";if(this.props.promptList.length>0&&this.props.promptIndex>=0&&this.props.promptIndex<this.props.promptList.length){var t=this.props.promptList[this.props.promptIndex].text;e="Prompt"+(this.props.promptIndex+1)+": \n"+t}var s=!1,n=!1,r=!1,c=!1,o=!1,i=!1,l=!1;for(var d in this.props.journalErrors[0])1===this.props.journalErrors[0][d]?(s=!0,c=Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col text-success",children:this.props.journalErrors[1][d]})})):2===this.props.journalErrors[0][d]?(s=!0,o=Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col text-success",children:"Created Journal for: "+this.props.journalErrors[1][d].forDate})})):3===this.props.journalErrors[0][d]?(n=!0,i=Object(a.jsx)("div",{children:Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col text-warning",children:"Sorry! That Journal already exists"})})})):10===this.props.journalErrors[0][d]&&(r=!0,l=Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col text-danger",children:this.props.journalErrors[1][d]})}));return Object(a.jsx)("div",{className:"makeView",children:Object(a.jsxs)("div",{className:"container-fluid",children:[Object(a.jsx)("div",{className:"row my-2",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("div",{className:"card shadow",children:[Object(a.jsx)("div",{className:"card-header",children:Object(a.jsx)("h4",{children:"Writing Today's Journal"})}),Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsx)("h5",{className:"card-title",children:e}),Object(a.jsx)("div",{className:"row",children:Object(a.jsxs)("div",{className:"col",children:[Object(a.jsx)(Fe,{editorState:this.props.editorState,onToggle:this.toggleBlockType}),Object(a.jsx)(Re,{editorState:this.props.editorState,onToggle:this.toggleInlineStyle})]})}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col",onClick:this.focusMe,children:Object(a.jsx)("div",{id:"align-left",children:Object(a.jsx)("div",{style:Pe.editor,children:Object(a.jsx)(he.Editor,{editorState:this.props.editorState,onChange:this.props.onChange,handleKeyCommand:this.handleKeyCommand,spellCheck:!0,placeholder:"",ref:"editor"})})})})}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("button",{className:"btn btn-outline-primary",onMouseDown:this.saveJournal,children:" Save current Journal entry "})})}),s&&c,s&&o,n&&i,r&&l]})]})})}),Object(a.jsxs)("div",{className:"row my-2",children:[Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("button",{className:"btn btn-outline-primary",onClick:this.props.prevPrompt,children:"Load Prev Prompt"})}),Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("button",{className:"btn btn-outline-primary",onClick:this.props.nextPrompt,children:"Load Next Prompt"})})]})]})})}}]),s}(r.a.Component),Me=Object(m.f)(Ue),He=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).oldPasswordChange=function(e){a.setState({oldPassword:e.target.value})},a.newPasswordChange=function(e){a.setState({newPassword:e.target.value})},a.newPassword2Change=function(e){a.setState({newPassword2:e.target.value})},a.newEmailChange=function(e){a.setState({newEmail:e.target.value})},a.newNewFirstChange=function(e){a.setState({newFirstName:e.target.value})},a.newLastNameChange=function(e){a.setState({newLastName:e.target.value})},a.getDataSuccess=function(e){console.log("Data Success"),console.log(e)},a.getDataFailure=function(e,t){console.log("Data Failure"),console.log(e),console.log(t)},a.getCurrentData=function(){!function(e,t,s,a){var n={headers:{Authorization:"JWT ".concat(t)}};v.a.get(e+"/getUserDetails/",n).then((function(e){var t=e.data;s(t)})).catch((function(e){if(e.response){500===e.response.status&&a([10],["Server Error"]);var t=e.response.data,s=[],n=[];for(var r in t)"???"===r?(s.push(1),n.push(t[r])):(s.push(10),n.push("Unknown Error"));a(s,n)}else a([0],["Network Error"])}))}(a.props.APIHost,a.props.authToken,a.getDataSuccess,a.getDataFailure)},a.changeGeneralSuccess=function(e){console.log("Update Success"),console.log(e)},a.changeGeneralFailure=function(e,t){console.log("Update Failure"),console.log(e),console.log(t)},a.changeEmail=function(){!function(e,t,s,a,n){var r={headers:{Authorization:"JWT ".concat(t)}},c={email:s};v.a.put(e+"/updateUserEmail/",c,r).then((function(e){var t=e.data;a(t)})).catch((function(e){if(e.response){500===e.response.status&&n([10],["Server Error"]);var t=e.response.data,s=[],a=[];for(var r in t)"???"===r?(s.push(1),a.push(t[r])):(s.push(10),a.push("Unknown Error"));n(s,a)}else n([0],["Network Error"])}))}(a.props.APIHost,a.props.authToken,a.state.newEmail,a.changeGeneralSuccess,a.changeGeneralFailure),a.setState({newEmail:""})},a.changeName=function(){!function(e,t,s,a,n,r){var c={headers:{Authorization:"JWT ".concat(t)}},o={first_name:s,last_name:a};v.a.put(e+"/updateUserName/",o,c).then((function(e){var t=e.data;n(t)})).catch((function(e){if(e.response){500===e.response.status&&r([10],["Server Error"]);var t=e.response.data,s=[],a=[];for(var n in t)"???"===n?(s.push(1),a.push(t[n])):(s.push(10),a.push("Unknown Error"));r(s,a)}else r([0],["Network Error"])}))}(a.props.APIHost,a.props.authToken,a.state.newFirstName,a.state.newLastName,a.changeGeneralSuccess,a.changeGeneralFailure),a.setState({newFirstName:"",newLastName:""})},a.changePassword=function(){!function(e,t,s,a,n,r,c){var o={headers:{Authorization:"JWT ".concat(t)}},i={oldPassword:s,password:a,password2:n};v.a.put(e+"/updateUserPassword/",i,o).then((function(e){var t=e.data;r(t)})).catch((function(e){if(e.response){500===e.response.status&&c([10],["Server Error"]);var t=e.response.data,s=[],a=[];for(var n in t)"???"===n?(s.push(1),a.push(t[n])):(s.push(10),a.push("Unknown Error"));c(s,a)}else c([0],["Network Error"])}))}(a.props.APIHost,a.props.authToken,a.state.oldPassword,a.state.newPassword,a.state.newPassword2,a.changeGeneralSuccess,a.changeGeneralFailure),a.setState({oldPassword:"",setNewPassword:"",setNewPassword2:""})},a.state={currentEmail:"",currentFirstName:"",currentLastName:"",newEmail:"",newFirstName:"",newLastName:"",oldPassword:[],newPassword:[],newPassword2:[]},a}return Object(l.a)(s,[{key:"componentDidMount",value:function(){this.getCurrentData()}},{key:"render",value:function(){var e="form-control",t="form-control";return Object(a.jsxs)("div",{className:"userSecurty",children:[Object(a.jsx)("div",{className:"container",children:Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("div",{className:"card shadow",children:[Object(a.jsx)("div",{className:"card-header",children:Object(a.jsx)("h5",{children:"Edit User Security Details"})}),Object(a.jsx)("div",{className:"card-body",children:Object(a.jsxs)("div",{className:"list-group",children:[Object(a.jsxs)("div",{className:"list-group-item",children:[Object(a.jsx)("div",{children:this.state.currentEmail}),Object(a.jsx)("button",{className:"btn btn-primary","data-toggle":"modal","data-target":"#changeEmailModal",children:"Change Email"})]}),Object(a.jsxs)("div",{className:"list-group-item",children:[Object(a.jsx)("div",{children:this.state.currentFirstName+" "+this.state.currentLastName}),Object(a.jsx)("button",{className:"btn btn-primary","data-toggle":"modal","data-target":"#changeNameModal",children:"Change Name"})]}),Object(a.jsx)("div",{className:"list-group-item",children:Object(a.jsx)("button",{className:"btn btn-primary","data-toggle":"modal","data-target":"#changePasswordModal",children:"Change Password"})})]})})]})})})}),Object(a.jsx)("div",{className:"modal fade",id:"changeEmailModal",tabIndex:"-1",role:"dialog","aria-labelledby":"changeEmailModal","aria-hidden":"true",children:Object(a.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:Object(a.jsxs)("div",{className:"modal-content",children:[Object(a.jsxs)("div",{className:"modal-header",children:[Object(a.jsx)("h5",{className:"modal-title",id:"deleteTitleConfirm",children:"Change Email"}),Object(a.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(a.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(a.jsx)("div",{className:"modal-body",children:Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{id:"align-left",children:"New Email"}),Object(a.jsx)("input",{type:"email",className:e,value:this.state.newEmail,onChange:this.newEmailChange,placeholder:"Enter Email"})]})}),Object(a.jsxs)("div",{className:"modal-footer",children:[Object(a.jsx)("button",{type:"button",className:"btn btn-outline-secondary","data-dismiss":"modal",onClick:this.changeEmail,children:"Change Email"}),Object(a.jsx)("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal",children:"Cancel"})]})]})})}),Object(a.jsx)("div",{className:"modal fade",id:"changeNameModal",tabIndex:"-1",role:"dialog","aria-labelledby":"changeNameModal","aria-hidden":"true",children:Object(a.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:Object(a.jsxs)("div",{className:"modal-content",children:[Object(a.jsxs)("div",{className:"modal-header",children:[Object(a.jsx)("h5",{className:"modal-title",id:"deleteTitleConfirm",children:"Change Name"}),Object(a.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(a.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(a.jsxs)("div",{className:"modal-body",children:[Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{id:"align-left",children:"New First Name"}),Object(a.jsx)("input",{type:"text",className:e,value:this.state.newFirstName,onChange:this.newNewFirstChange,placeholder:"Enter New First Name"})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{id:"align-left",children:"New Last Name"}),Object(a.jsx)("input",{type:"text",className:e,value:this.state.newLastName,onChange:this.newLastNameChange,placeholder:"Enter New Last Name"})]})]}),Object(a.jsxs)("div",{className:"modal-footer",children:[Object(a.jsx)("button",{type:"button",className:"btn btn-outline-secondary","data-dismiss":"modal",onClick:this.changeName,children:"Change Name"}),Object(a.jsx)("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal",children:"Cancel"})]})]})})}),Object(a.jsx)("div",{className:"modal fade",id:"changePasswordModal",tabIndex:"-1",role:"dialog","aria-labelledby":"changePasswordModal","aria-hidden":"true",children:Object(a.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:Object(a.jsxs)("div",{className:"modal-content",children:[Object(a.jsxs)("div",{className:"modal-header",children:[Object(a.jsx)("h5",{className:"modal-title",id:"deleteTitleConfirm",children:"Change Password"}),Object(a.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(a.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(a.jsxs)("div",{className:"modal-body",children:[Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{id:"align-left",children:"Old Password"}),Object(a.jsx)("input",{type:"password",className:t,value:this.state.oldPassword,onChange:this.oldPasswordChange,placeholder:"Enter password"})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{id:"align-left",children:"New Password"}),Object(a.jsx)("input",{type:"password",className:t,value:this.state.newPassword,onChange:this.newPasswordChange,placeholder:"Enter password"})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{id:"align-left",children:"New Password (again)"}),Object(a.jsx)("input",{type:"password",className:t,value:this.state.newPassword2,onChange:this.newPassword2Change,placeholder:"Enter password"})]})]}),Object(a.jsxs)("div",{className:"modal-footer",children:[Object(a.jsx)("button",{type:"button",className:"btn btn-outline-secondary","data-dismiss":"modal",onClick:this.changePassword,children:"Change Password"}),Object(a.jsx)("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal",children:"Cancel"})]})]})})})]})}}]),s}(r.a.Component),Je=Object(m.f)(He),Ve=["Invalid","Admin","Viewer","Governed"],Be=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).getUserInvitesSuccess=function(e){console.log("Got the Invites");var t=[],s=[],n=[],r=[];for(var c in e)t.push(e[c].id),s.push(e[c].getUserFullName),n.push(e[c].inviteDivision),r.push(Ve[e[c]]);a.setState({inviteIDList:t,inviteNamesList:n,inviteRolesList:r})},a.getUserInvitesFailure=function(e,t){console.log("Failure Somehow..."),console.log(e),console.log(t)},a.getUserInvites=function(){!function(e,t,s,a){var n={headers:{Authorization:"JWT ".concat(t)}};v.a.get(e+"/getUsersInvites",n).then((function(e){var t=e.data;s(t)})).catch((function(e){if(e.response){var t=e.response.data,s=[],n=[];for(var r in t)"???"===r?(s.push(1),n.push(t[r])):(s.push(10),n.push("Unknown Error"));a(s,n)}else a([0],["Network Error"])}))}(a.props.APIHost,a.props.authToken,a.getUserInvitesSuccess,a.getUserInvitesFailure)},a.inviteSuccess=function(e,t){console.log("Invite Success")},a.inviteFailure=function(e,t){for(var s in console.log("Invite Failure"),e)0===e[s]||1===e[s]||2===e[s]||e[s]},a.submitCode=function(){console.log(a.state.inviteCode),console.log("Submit"),function(e,t,s,a,n){var r={headers:{Authorization:"JWT ".concat(t)}};v.a.get(e+"/useDivisionInvite?joinCode="+s,r).then((function(e){var t=e.response.data;a(t)})).catch((function(e){if(e.response){var t=e.response.data,s=[],a=[];for(var r in t)"dup"===r?(s.push(1),a.push(t[r])):"token"===r?(s.push(2),a.push(t[r])):"invite"===r?(s.push(3),a.push(t[r])):(s.push(10),a.push("Unknown Error"));n(s,a)}else n([0],["Network Error"])}))}(a.props.APIHost,a.props.authToken,a.state.inviteCode,a.inviteSuccess,a.inviteFailure)},a.spendInviteSuccess=function(e){a.getUserInvites(),a.props.triggerRefresh()},a.spendInviteFailure=function(e,t){console.log("Spend Invite Failure"),console.log(e),console.log(t),a.getUserInvites(),a.props.triggerRefresh()},a.inviteYes=function(e){console.log("Accept");var t=e.target.value;E(a.props.APIHost,a.props.authToken,t,1,a.spendInviteSuccess,a.spendInviteFailure)},a.inviteNo=function(e){console.log("Deny");var t=e.target.value;E(a.props.APIHost,a.props.authToken,t,0,a.spendInviteSuccess,a.spendInviteFailure)},a.codeFieldChange=function(e){a.setState({inviteCode:e.target.value})},a.state={inviteCode:"",inviteIDList:[],inviteNamesList:[],inviteRolesList:[]},a}return Object(l.a)(s,[{key:"componentDidMount",value:function(){this.getUserInvites()}},{key:"render",value:function(){var e=[];for(var t in this.state.inviteNamesList){e.push(Object(a.jsxs)("li",{className:"list-group-item d-flex justify-content-around",children:[Object(a.jsx)("div",{children:this.state.inviteNamesList[t]}),Object(a.jsx)("div",{children:this.state.inviteRolesList[t]}),Object(a.jsx)("button",{className:"badge badge-success badge-pill",value:this.state.inviteIDList[t],onClick:this.inviteYes,children:"/"}),Object(a.jsx)("button",{className:"badge badge-danger badge-pill",value:this.state.inviteIDList[t],onClick:this.inviteNo,children:"X"})]},t))}return 0===this.state.inviteNamesList.length&&e.push(Object(a.jsx)("li",{className:"list-group-item",children:"No Invites!"},0)),Object(a.jsx)("div",{className:"userInvite",children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("div",{className:"card shadow",children:[Object(a.jsx)("div",{className:"card-header",children:Object(a.jsx)("h5",{children:"Enter Invite Code"})}),Object(a.jsx)("div",{className:"card-body",children:Object(a.jsxs)("div",{className:"list-group",children:[Object(a.jsx)("div",{className:"list-group-item",children:Object(a.jsx)("input",{type:"text",className:"form-control",value:this.state.inviteCode,onChange:this.codeFieldChange,placeholder:"Enter Code"})}),Object(a.jsx)("div",{className:"list-group-item",children:Object(a.jsx)("button",{className:"btn btn-primary",onClick:this.submitCode,children:"Submit"})})]})})]})})}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("div",{className:"card shadow",children:[Object(a.jsx)("div",{className:"card-header",children:Object(a.jsx)("h5",{children:"Current Company Invites"})}),Object(a.jsx)("div",{className:"card-body",children:Object(a.jsxs)("ul",{className:"list-group",children:[e,Object(a.jsx)("button",{className:"btn btn-primary",onClick:this.getUserInvites,children:"Re-Load Invites"})]})})]})})})]})})}}]),s}(r.a.Component),Ge=Object(m.f)(Be),We=function(e){return Object(a.jsx)("div",{className:"defaultView",children:Object(a.jsx)("h3",{children:"404! You have selected and invalid page"})})},qe=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).forceLogout=function(){a.props.forceLogout(),a.props.history.push(a.props.reRouteTarget)},a.changeSuggestionContent=function(e){a.setState({suggestionEditorState:e})},a.changeJournalContent=function(e){a.setState({journalEditorState:e})},a.journalPostCallback=function(e){a.setState({journalErrors:[[1,2],["Success!",e]]})},a.journalPostFailure=function(e,t){for(var s in e)401===e[s]&&a.forceLogout(),a.setState({journalErrors:[e,t]})},a.postJournal=function(){var e=a.props.currentDate,t=a.state.journalEditorState.getCurrentContent().getPlainText(),s=Object(he.convertToRaw)(a.state.journalEditorState.getCurrentContent());if(a.state.journalCurrentPrompt>=0&&a.state.journalCurrentPrompt<a.state.journalValidPrompts.length&&a.state.journalValidPrompts.length>0){var n=a.state.journalValidPrompts[a.state.journalCurrentPrompt].identifier;w(a.props.APIHost,a.props.authToken,e,n,t,s,a.journalPostCallback,a.journalPostFailure)}else w(a.props.APIHost,a.props.authToken,e,"none",t,s,a.journalPostCallback,a.journalPostFailure)},a.suggestionPostCallback=function(e){a.setState({suggestionErrors:[[1,2],["Success!",e]]})},a.suggestionPostFailureCallback=function(e,t){for(var s in e)401===e[s]&&a.forceLogout(),a.setState({suggestionErrors:[e,t]})},a.postSuggestion=function(){var e=a.props.currentDate,t=a.state.suggestionEditorState.getCurrentContent().getPlainText(),s=Object(he.convertToRaw)(a.state.suggestionEditorState.getCurrentContent()),n=a.state.currentSuggestionDivision;-1!==n?function(e,t,s,a,n,r,c,o){var i={headers:{Authorization:"JWT ".concat(t)}},l={reqDiv:a,targetDivision:a,createdDate:O(s),content:n,richText:r};v.a.post(e+"/saveNewSuggestion/",l,i).then((function(e){c(e.data)})).catch((function(e){if(e.response)if(401===e.response.status)o([401],["Invalid Token"]);else if(403===e.response.status)o([3],["You do not have permission to post to this!"]);else{var t=e.response.data,s=[],a=[];for(var n in t)"targetDivision"===n?(s.push(10),a.push(t[n])):(s.push(10),a.push("Unknown Error"));o(s,a)}else console.log("Network Error!"),o([0],["Network Error"])}))}(a.props.APIHost,a.props.authToken,e,n,t,s,a.suggestionPostCallback,a.suggestionPostFailureCallback):(console.log("Not allowed!"),a.setState({suggestionErrors:[[4],["You need to select a company!"]]}))},a.journalDataCallback=function(e,t,s,n){a.setState({journalMessage:"Showing Journal Entry for: "+a.state.selectedJournalDate.toString(),viewJournalPrompts:e,viewJournalContents:t,viewJournalBlock:s,viewJournalAIData:n})},a.pickJournalCalenderDate=function(e){a.setState({selectedJournalDate:e});(function(e,t,s,a,n){var r={headers:{Authorization:"JWT ".concat(t)}},c=s.toJSON().split("T")[0];v.a.get(e+"/getUserJournal/?reqDate="+c,r).then((function(e){var t=[],s=[],n=[],r=[];for(var c in e.data){t.push(e.data[c].usedPromptKey),s.push(e.data[c].content),n.push(e.data[c].richText);var o={};e.data[c].hasAI&&(o=e.data[c].AIresult),r.push(o)}a(t,s,n,r)})).catch((function(e){e.response?401===e.response.status&&n([401],["Unauthorized"]):(console.log("Network Error!"),n([0],["Network Error"]))}))})(a.props.APIHost,a.props.authToken,e,a.journalDataCallback,a.forceLogout)},a.journalPromptsCallback=function(e){a.setState({journalValidPrompts:e})},a.journalPromptsFailure=function(e,t){console.log(e),console.log(t),a.forceLogout()},a.getJournalPrompts=function(){if(void 0!==a.props.currentUser){(function(e,t,s,a){var n={headers:{Authorization:"JWT ".concat(t)}};v.a.get(e+"/getValidPrompts",n).then((function(e){s(e.data)})).catch((function(e){if(e.response)if(401===e.response.status)a([401],["Invalid Token"]);else if(403===e.response.status)a([3],["You do not have permission!"]);else{var t=e.response.data,s=[],n=[];for(var r in t)"???"===r?(s.push(10),n.push(t[r])):(s.push(10),n.push("Unknown Error"));a(s,n)}else console.log("Network Error!"),a([0],["Network Error"])}))})(a.props.APIHost,a.props.authToken,a.journalPromptsCallback,a.journalPromptsFailure)}},a.changeJournalPrompt=function(e){a.setState({selectedJournalPrompt:e.currentTarget.value})},a.changeJournalAspect=function(e){a.setState({selectedJournalAspect:e.currentTarget.value})},a.prevPrompt=function(){var e=a.state.journalCurrentPrompt-1;e<0&&(e=a.state.journalValidPrompts.length-1),0===a.state.journalValidPrompts.length&&(e=0),a.setState({journalCurrentPrompt:e,journalEditorState:he.EditorState.createEmpty(),journalErrors:[]})},a.nextPrompt=function(){var e=a.state.journalCurrentPrompt+1;e>=a.state.journalValidPrompts.length&&(e=0),a.setState({journalCurrentPrompt:e,journalEditorState:he.EditorState.createEmpty(),journalErrors:[]})},a.selectGovernedCompanyLayer=function(e){var t=a.state.currentCompanyGovernedIndexes;t.push(e.target.value);var s=t[t.length-1];a.setState({currentSuggestionDivision:s,currentCompanyGovernedIndexes:t,lastGovernedCompanyRequestStatus:void 0})},a.backGovernedCompanyLayer=function(e){var t=a.state.currentCompanyGovernedIndexes;t.splice(e.target.value);var s=t[t.length-1];a.setState({currentSuggestionDivision:s,currentCompanyGovernedIndexes:t,lastGovernedCompanyRequestStatus:void 0})},a.state={selectedJournalDate:new Date,journalCurrentPrompt:0,journalValidPrompts:[],selectedJournalPrompt:"p1",selectedJournalAspect:"emotion",journalMessage:"Choose a date to view the journal!",journalContent:"Waiting for content...",viewJournalPrompts:[],viewJournalContents:[],viewJournalBlock:[],viewJournalAIData:[],journalEditorState:he.EditorState.createEmpty(),journalErrors:[],suggestionEditorState:he.EditorState.createEmpty(),suggestionErrors:[],currentSuggestionDivision:-1,currentCompanyGovernedIndexes:[]},a}return Object(l.a)(s,[{key:"componentDidMount",value:function(){this.props.activateUserMenu(1),this.getJournalPrompts()}},{key:"componentWillUnmount",value:function(){this.props.disableMenu()}},{key:"render",value:function(){var e=this;return Object(a.jsx)("div",{className:"contentPages",children:Object(a.jsx)("div",{className:"container",children:Object(a.jsx)("div",{className:"row m-1 my-5",children:Object(a.jsx)("div",{className:"col m-1",children:Object(a.jsxs)(m.c,{children:[Object(a.jsx)(m.a,{path:this.props.match.url+"/journalWrite",component:function(){return Object(a.jsx)(Me,{onChange:e.changeJournalContent,editorState:e.state.journalEditorState,saveToServer:e.postJournal,journalErrors:e.state.journalErrors,promptList:e.state.journalValidPrompts,promptIndex:e.state.journalCurrentPrompt,prevPrompt:e.prevPrompt,nextPrompt:e.nextPrompt})}}),Object(a.jsx)(m.a,{path:this.props.match.url+"/journalRead",component:function(){return Object(a.jsx)(Ie,{currentDate:e.state.selectedJournalDate,journalPromptSet:e.state.viewJournalPrompts,journalAIDataSet:e.state.viewJournalAIData,journalContentSet:e.state.viewJournalContents,journalRichContentSet:e.state.viewJournalBlock,selectedPrompt:e.state.selectedJournalPrompt,selectedAspect:e.state.selectedJournalAspect,validJournalDates:e.props.validJournalDates,validJournalScanDates:e.props.validJournalScanDates,pickDate:e.pickJournalCalenderDate,displayMessage:e.state.journalMessage,setPrompt:e.changeJournalPrompt,setAI:e.changeJournalAspect})}}),Object(a.jsx)(m.a,{path:this.props.match.url+"/writeSuggestion",component:function(){return Object(a.jsx)(Oe,{currentCompanySelections:e.state.currentCompanyGovernedIndexes,companyDataTree:e.props.companyGovernedDataTree,lastRequestStatus:e.props.lastGovernedCompanyRequestStatus,selectLayer:e.selectGovernedCompanyLayer,backLayer:e.backGovernedCompanyLayer,onChange:e.changeSuggestionContent,editorState:e.state.suggestionEditorState,saveToServer:e.postSuggestion,suggestionErrors:e.state.suggestionErrors})}}),Object(a.jsx)(m.a,{path:this.props.match.url+"/userPermissions",component:function(){return Object(a.jsx)(fe,{APIHost:e.props.APIHost,authToken:e.props.authToken,currentUser:e.props.currentUser,viewNameList:e.props.companyViewableDataRawList,viewIDList:e.props.companyViewableDataRawIDs,sendIDList:e.props.companySendDataRawIDList,governedNameList:e.props.companyGovernedDataRawList,governedIDList:e.props.companyGovernedDataRawIDList,triggerRefresh:e.props.loadCompanyData,triggerLogout:e.forceLogout})}}),Object(a.jsx)(m.a,{path:this.props.match.url+"/userSecurity",component:function(){return Object(a.jsx)(Je,{APIHost:e.props.APIHost,authToken:e.props.authToken})}}),Object(a.jsx)(m.a,{path:this.props.match.url+"/userInvite",component:function(){return Object(a.jsx)(Ge,{APIHost:e.props.APIHost,authToken:e.props.authToken,triggerRefresh:e.props.loadCompanyData})}}),Object(a.jsx)(m.a,{path:this.props.match.url+"/",component:function(){return Object(a.jsx)(We,{})}})]})})})})})}}]),s}(r.a.Component),ze=Object(m.f)(qe),Ke=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(){var e;return Object(i.a)(this,s),(e=t.call(this)).onToggle=function(t){t.preventDefault(),e.props.onToggle(e.props.value)},e}return Object(l.a)(s,[{key:"render",value:function(){var e="btn btn-outline-primary";return this.props.active&&(e+=" active"),Object(a.jsx)("button",{className:e,onClick:this.onToggle,children:this.props.label})}}]),s}(r.a.Component),Ye=[{label:"Max",value:0,dayLength:0,weekLength:0},{label:"1Year",value:1,dayLength:365,weekLength:52},{label:"6Months",value:2,dayLength:183,weekLength:28},{label:"3Months",value:3,dayLength:63,weekLength:13},{label:"1Months",value:4,dayLength:31,weekLength:4},{label:"1Week",value:5,dayLength:7,weekLength:1}],Ze=function(e){var t=e.graphState;return Object(a.jsx)("div",{className:"EHIControls",children:Ye.map((function(s){return Object(a.jsx)(Ke,{active:t===s.value,label:s.label,onToggle:e.onToggle,value:s.value},s.label)}))})},Xe=Object(m.f)((function(e){var t=e.timeIndex,s=[],n=[];for(var r in e.EHIData)n.push({name:r,value:r});0===n.length&&n.push({name:"No Prompts!",value:"none"});var c=e.EHIselectedPrompt,o=e.EHIselectedTimescale,i=[];if(void 0!==e.EHIData[c]){for(var l in e.EHIData[c])s.push({name:l,value:l});void 0!==e.EHIData[c][o]&&(i=e.EHIData[c][o])}0===s.length&&s.push({name:"Waiting for prompt...",value:"none"});var d=[],u=[],h={scales:{yAxes:[{ticks:{beginAtZero:!0}}]}},m=I([],[[]]);if(void 0!==i){for(var j in i)d.push(j),u.push(i[j]);var p=Ye[t].dayLength;0===p&&(p=d.length);var b=d.slice(-p),v={label:"EHI index",data:u.slice(-p)};m=I(b,[v])}return Object(a.jsx)("div",{className:"EHIDisplay",children:Object(a.jsxs)("div",{className:"container-fluid",children:[Object(a.jsx)("div",{className:"row m-1",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("div",{className:"card shadow",children:[Object(a.jsx)("div",{className:"card-header",children:"EHI Controls V1"}),Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsx)("div",{className:"row m-2",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsx)(Ce.a,{toggle:!0,children:n.map((function(t,s){return Object(a.jsx)(Se.a,{type:"radio",variant:"primary",name:"radio",value:t.value,checked:e.selectedPrompt===t.value,onChange:e.EHISetPrompt,children:t.name},s)}))})})}),Object(a.jsx)("div",{className:"row m-2",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsx)(Ce.a,{toggle:!0,children:s.map((function(t,s){return Object(a.jsx)(Se.a,{type:"radio",variant:"secondary",name:"radio",value:t.value,checked:e.selectedTimescale===t.value,onChange:e.EHISetTimescale,children:t.name},s)}))})})})]})]})})}),Object(a.jsx)("div",{className:"row m-1",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("div",{className:"card shadow",children:[Object(a.jsxs)("div",{className:"card-header",children:[Object(a.jsx)("div",{children:Object(a.jsx)("i",{children:Object(a.jsx)("b",{children:"Employee Health Index:"})})}),Object(a.jsxs)("div",{children:["Prompt: ",c]}),Object(a.jsxs)("div",{children:["Scale: ",o]})]}),Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsx)(we.Line,{data:m,options:h}),Object(a.jsx)(Ze,{graphState:t,onToggle:e.EHITimeToggle})]})]})})})]})})})),_e=["Invalid","Admin","Viewer","Governed"],Qe=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).tiggerReload=function(){a.getDivisionData(),a.getDivisionsInvites()},a.getSuccess=function(e){a.setState({companyFullName:e.fullPathName,divisionName:e.divisionName,inviteCode:e.inviteCode})},a.getFailure=function(e,t){console.log("Get Data Failure"),console.log(e),console.log(t)},a.getDivisionData=function(){if(a.props.currentDivisionID>=0){console.log("Requesting Division Data From Server..."),D(a.props.APIHost,a.props.authToken,a.props.currentDivisionID,a.getSuccess,a.getFailure)}},a.getInvitesSuccess=function(e){var t=[],s=[],n=[];for(var r in e)t.push(e[r].id),s.push(e[r].getUserFullName),n.push(_e[e[r].targetRole]);a.setState({inviteIDList:t,inviteNamesList:s,inviteRolesList:n})},a.getInvitesFailure=function(e,t){console.log("Get Invites Failure"),console.log(e),console.log(t)},a.getDivisionsInvites=function(){if(a.props.currentDivisionID>=0){(function(e,t,s,a,n){var r={headers:{Authorization:"JWT ".concat(t)}};v.a.get(e+"/getDivisionInvites?reqDiv="+s,r).then((function(e){var t=e.data;a(t)})).catch((function(e){if(e.response){var t=e.response.data,s=[],a=[];for(var r in t)"???"===r?(s.push(1),a.push(t[r])):(s.push(10),a.push("Unknown Error"));n(s,a)}else n([0],["Network Error"])}))})(a.props.APIHost,a.props.authToken,a.props.currentDivisionID,a.getInvitesSuccess,a.getInvitesFailure)}},a.inviteSuccess=function(e){console.log("Create Invite Success"),console.log(e)},a.inviteFailure=function(e,t){console.log("Create Invite Failure"),console.log(e),console.log(t)},a.inviteUser=function(e){console.log("Send Invite"),function(e,t,s,a,n,r,c){var o={headers:{Authorization:"JWT ".concat(t)}},i={reqDiv:s,targetUser:a,targetAction:n};v.a.post(e+"/createDivisionInvite/",i,o).then((function(e){var t=e.data;r(t)})).catch((function(e){if(e.response){var t=e.response.data,s=[],a=[];for(var n in t)"???"===n?(s.push(1),a.push(t[n])):(s.push(10),a.push("Unknown Error"));c(s,a)}else c([0],["Network Error"])}))}(a.props.APIHost,a.props.authToken,a.props.currentDivisionID,a.state.targetUser,a.state.targetRole,a.inviteSuccess,a.inviteFailure)},a.spendInviteSuccess=function(e){console.log("Spend Invite Success"),console.log(e),a.tiggerReload()},a.spendInviteFailure=function(e,t){console.log("Spend Invite Failure"),console.log(e),console.log(t),a.getDivisionsInvites()},a.inviteYes=function(e){console.log("Accept");var t=e.target.value;S(a.props.APIHost,a.props.authToken,a.props.currentDivisionID,t,1,a.spendInviteSuccess,a.spendInviteFailure)},a.inviteNo=function(e){console.log("Deny");var t=e.target.value;S(a.props.APIHost,a.props.authToken,a.props.currentDivisionID,t,0,a.spendInviteSuccess,a.spendInviteFailure)},a.userFieldChange=function(e){a.setState({targetUser:e.target.value})},a.triggerDropdown=function(e){a.setState({targetRole:e.target.value})},a.state={inviteCode:"No Data",targetUser:"",targetRole:"",inviteIDList:[],inviteNamesList:[],inviteRolesList:[],companyFullName:"No Data",divisionName:"No Data"},a}return Object(l.a)(s,[{key:"componentDidMount",value:function(){this.tiggerReload()}},{key:"render",value:function(){var e=[];for(var t in this.state.inviteNamesList){e.push(Object(a.jsxs)("li",{className:"list-group-item d-flex justify-content-around",children:[Object(a.jsx)("div",{children:this.state.inviteNamesList[t]}),Object(a.jsx)("div",{children:this.state.inviteRolesList[t]}),Object(a.jsx)("button",{className:"badge badge-success badge-pill",value:this.state.inviteIDList[t],onClick:this.inviteYes,children:"/"}),Object(a.jsx)("button",{className:"badge badge-danger badge-pill",value:this.state.inviteIDList[t],onClick:this.inviteNo,children:"X"})]},t))}0===this.state.inviteNamesList.length&&e.push(Object(a.jsx)("li",{className:"list-group-item",children:"No Invites!"},0));var s="Select Role =>";return""!==this.state.targetRole&&(s=_e[this.state.targetRole]),Object(a.jsx)("div",{className:"companySett",children:Object(a.jsxs)("div",{className:"container-fluid",children:[Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("div",{className:"card shadow",children:[Object(a.jsx)("div",{className:"card-header",children:Object(a.jsx)("h5",{children:"Invites for this division:"})}),Object(a.jsx)("div",{className:"card-body",children:this.state.companyFullName})]})}),Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("div",{className:"card shadow",children:[Object(a.jsx)("div",{className:"card-header",children:Object(a.jsx)("h5",{children:"Invites List"})}),Object(a.jsx)("div",{className:"card-body",children:Object(a.jsx)("ul",{children:e})})]})})]}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("div",{className:"card shadow",children:[Object(a.jsx)("div",{className:"card-header",children:Object(a.jsx)("h5",{children:"Invite Code"})}),Object(a.jsx)("div",{className:"card-body",children:this.state.inviteCode})]})}),Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("div",{className:"card shadow",children:[Object(a.jsx)("div",{className:"card-header",children:Object(a.jsx)("h5",{children:"Invite User"})}),Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("input",{type:"text",className:"form-control",value:this.state.targetUser,onChange:this.userFieldChange,placeholder:"Enter Username or Email"})}),Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("div",{className:"dropdown",children:[Object(a.jsx)("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:s}),Object(a.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuLink",children:[Object(a.jsx)("button",{className:"dropdown-item",value:"1",onClick:this.triggerDropdown,children:"Admin"}),Object(a.jsx)("button",{className:"dropdown-item",value:"2",onClick:this.triggerDropdown,children:"View Permissions"}),Object(a.jsx)("button",{className:"dropdown-item",value:"3",onClick:this.triggerDropdown,children:"Governed User"})]})]})})]}),Object(a.jsx)("button",{className:"btn btn-primary",onClick:this.inviteUser,children:"Invite"})]})]})})]})]})})}}]),s}(r.a.Component),$e=Object(m.f)(Qe),et=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).tiggerReload=function(){a.getDivisionData()},a.getSuccess=function(e){a.setState({companyFullName:e.fullPathName,divisionName:e.divisionName,numChild:e.getNumChildUsers,admins:e.adminAccountNames,views:e.privateViewingNames,sends:e.resultsSendTargetsNames,governs:e.governedUsersNames,adminsIDs:e.adminAccounts,viewsIDs:e.privateViewingPerms,sendsIDs:e.resultsSendTargets,governsIDs:e.governedUsers,delAdmins:[],delViews:[],delSends:[],delGoverns:[]})},a.getFailure=function(e,t){console.log("Get Data Failure"),console.log(e),console.log(t)},a.getDivisionData=function(){if(a.props.currentDivisionID>=0){D(a.props.APIHost,a.props.authToken,a.props.currentDivisionID,a.getSuccess,a.getFailure)}},a.setSuccess=function(e){console.log("Set Data Success"),console.log(e),a.props.triggerRefresh()},a.setFailure=function(e,t){console.log("Set Data Failure"),console.log(e),console.log(t)},a.saveChanges=function(){var e={reqDiv:a.props.currentDivisionID,chName:"",delAdmins:a.state.delAdmins,delViews:a.state.delViews,delEmails:a.state.delSends,delGovern:a.state.delGoverns};k(a.props.APIHost,a.props.authToken,e,a.setSuccess,a.setFailure)},a.toggleDelete=function(e){var t=Number(e.target.value),s=[],n=-1;switch(e.target.name){case"adm":-1===(n=(s=a.state.delAdmins.slice()).indexOf(t))?s.push(t):s.splice(n,1),a.setState({delAdmins:s});break;case"vie":-1===(n=(s=a.state.delViews.slice()).indexOf(t))?s.push(t):s.splice(n,1),a.setState({delViews:s});break;case"sen":-1===(n=(s=a.state.delSends.slice()).indexOf(t))?s.push(t):s.splice(n,1),a.setState({delSends:s});break;case"gov":-1===(n=(s=a.state.delGoverns.slice()).indexOf(t))?s.push(t):s.splice(n,1),a.setState({delGoverns:s});break;default:console.log("Failed to have the correct name")}},a.state={companyFullName:"No Data",divisionName:"No Data",adminsIDs:[],viewsIDs:[],sendsIDs:[],governsIDs:[],admins:[],views:[],sends:[],governs:[],delAdmins:[],delViews:[],delSends:[],delGoverns:[],numChild:0},a}return Object(l.a)(s,[{key:"componentDidMount",value:function(){this.tiggerReload()}},{key:"render",value:function(){var e=[];for(var t in this.state.admins){var s="";this.state.delAdmins.indexOf(this.state.adminsIDs[t])>=0&&(s="bg-warning"),e.push(Object(a.jsx)("li",{className:"list-group-item d-flex justify-content-around"+s,children:this.state.admins[t]},t))}0===this.state.admins.length&&e.push(Object(a.jsx)("li",{className:"list-group-item",children:"No Users!"},0));var n=[];for(var r in this.state.views){var c="";this.state.delViews.indexOf(this.state.viewsIDs[r])>=0&&(c="bg-warning"),n.push(Object(a.jsxs)("li",{className:"list-group-item d-flex justify-content-around "+c,children:[this.state.views[r],Object(a.jsx)("button",{className:"badge badge-danger badge-pill",name:"vie",value:this.state.viewsIDs[r],onClick:this.toggleDelete,children:"X"})]},r))}0===this.state.views.length&&n.push(Object(a.jsx)("li",{className:"list-group-item",children:"No Users!"},0));var o=[];for(var i in this.state.sends){var l="";this.state.delSends.indexOf(this.state.sendsIDs[i])>=0&&(l="bg-warning"),o.push(Object(a.jsxs)("li",{className:"list-group-item d-flex justify-content-around "+l,children:[this.state.sends[i],Object(a.jsx)("button",{className:"badge badge-danger badge-pill",name:"sen",value:this.state.sendsIDs[i],onClick:this.toggleDelete,children:"X"})]},i))}0===this.state.sends.length&&o.push(Object(a.jsx)("li",{className:"list-group-item",children:"No Users!"},0));var d=[];for(var u in this.state.governs){var h="";this.state.delGoverns.indexOf(this.state.governsIDs[u])>=0&&(h="bg-warning"),d.push(Object(a.jsxs)("li",{className:"list-group-item d-flex justify-content-around "+h,children:[this.state.governs[u],Object(a.jsx)("button",{className:"badge badge-danger badge-pill",name:"gov",value:this.state.governsIDs[u],onClick:this.toggleDelete,children:"X"})]},u))}return 0===this.state.governs.length&&d.push(Object(a.jsx)("li",{className:"list-group-item",children:"No Users!"},0)),d.push(Object(a.jsxs)("li",{className:"list-group-item",children:["And ",this.state.numChild," others in child nodes"]},"end")),Object(a.jsx)("div",{className:"companySett",children:Object(a.jsxs)("div",{className:"container-fluid",children:[Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("div",{className:"card shadow",children:[Object(a.jsx)("div",{className:"card-header",children:Object(a.jsx)("h5",{children:"Changing Permissions for:"})}),Object(a.jsx)("div",{className:"card-body",children:this.state.companyFullName})]})})}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("div",{className:"card shadow",children:[Object(a.jsx)("div",{className:"card-header",children:Object(a.jsx)("h5",{children:"Administrators"})}),Object(a.jsx)("div",{className:"card-body",children:e})]})}),Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("div",{className:"card shadow",children:[Object(a.jsx)("div",{className:"card-header",children:Object(a.jsx)("h5",{children:"Viewing Privilages:"})}),Object(a.jsx)("div",{className:"card-body",children:Object(a.jsx)("ul",{children:n})})]})}),Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("div",{className:"card shadow",children:[Object(a.jsx)("div",{className:"card-header",children:Object(a.jsx)("h5",{children:"Users Notified:"})}),Object(a.jsx)("div",{className:"card-body",children:Object(a.jsx)("ul",{children:o})})]})})]}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("div",{className:"card shadow",children:[Object(a.jsx)("div",{className:"card-header",children:Object(a.jsx)("h5",{children:"Target Users:"})}),Object(a.jsx)("div",{className:"card-body",children:Object(a.jsx)("ul",{children:d})})]})})}),Object(a.jsx)("button",{className:"btn btn-primary",onClick:this.saveChanges,children:"Save Changes"})]})})}}]),s}(r.a.Component),tt=Object(m.f)(et),st=["Public","Private","Governed Users"],at=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).tiggerReload=function(){a.getDivisionData()},a.getSuccess=function(e){a.setState({companyFullName:e.fullPathName,divisionName:e.divisionName,expiryDate:e.getCompanyExpiryDate,viewPerms:e.summaryViewAccess})},a.getFailure=function(e,t){console.log("Get Data Failure"),console.log(e),console.log(t)},a.getDivisionData=function(){if(a.props.currentDivisionID>=0){D(a.props.APIHost,a.props.authToken,a.props.currentDivisionID,a.getSuccess,a.getFailure)}},a.setSuccess=function(e){console.log("Set Data Success"),console.log(e),a.props.triggerRefresh()},a.setFailure=function(e,t){console.log("Set Data Failure"),console.log(e),console.log(t)},a.saveChanges=function(){var e={reqDiv:a.props.currentDivisionID,chName:""};k(a.props.APIHost,a.props.authToken,e,a.setSuccess,a.setFailure)},a.divisionFieldChange=function(e){a.setState({divisionName:e.target.value})},a.triggerDropdown=function(e){a.setState({viewPerms:e.target.name})},a.state={newViewPerms:0,viewPerms:-1,expiryDate:"No Data",companyFullName:"No Data",divisionName:"No Data"},a}return Object(l.a)(s,[{key:"componentDidMount",value:function(){this.tiggerReload()}},{key:"render",value:function(){return Object(a.jsx)("div",{className:"companySett",children:Object(a.jsxs)("div",{className:"container-fluid",children:[Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("div",{className:"card shadow",children:[Object(a.jsx)("div",{className:"card-header",children:Object(a.jsx)("h5",{children:"Full Company Path"})}),Object(a.jsx)("div",{className:"card-body",children:this.state.companyFullName})]})})}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("div",{className:"card shadow",children:[Object(a.jsx)("div",{className:"card-header",children:Object(a.jsx)("h5",{children:"Change Division Name"})}),Object(a.jsx)("div",{className:"card-body",children:Object(a.jsx)("div",{children:Object(a.jsx)("input",{type:"text",className:"form-control",value:this.state.divisionName,onChange:this.divisionFieldChange,placeholder:"No Name?!"})})})]})})}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("div",{className:"card shadow",children:[Object(a.jsx)("div",{className:"card-header",children:Object(a.jsx)("h5",{children:"Viewing Permissions"})}),Object(a.jsx)("div",{className:"card-body",children:Object(a.jsxs)("div",{className:"dropdown",children:[Object(a.jsx)("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:st[this.state.viewPerms]}),Object(a.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuLink",children:[Object(a.jsx)("button",{className:"dropdown-item",name:"0",onClick:this.triggerDropdown,children:"Public"}),Object(a.jsx)("button",{className:"dropdown-item",name:"1",onClick:this.triggerDropdown,children:"Private"}),Object(a.jsx)("button",{className:"dropdown-item",name:"2",onClick:this.triggerDropdown,children:"Governed Users"})]})]})})]})}),Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("div",{className:"card shadow",children:[Object(a.jsx)("div",{className:"card-header",children:Object(a.jsx)("h5",{children:"Subscription Expiry"})}),Object(a.jsx)("div",{className:"card-body d-inline-flex justify-content-around",children:this.state.expiryDate})]})})]}),Object(a.jsx)("button",{className:"btn btn-primary",onClick:this.saveChanges,disabled:!0,children:"Save Changes"})]})})}}]),s}(r.a.Component),nt=Object(m.f)(at),rt=Object(m.f)((function(e){var t=0,s=[],n=e.companyDataTree;s.push(Object(a.jsx)("button",{onClick:e.backLayer,value:0,className:"btn btn-outline-dark",children:"Root"},t)),t+=1;var r="",c="",o=0,i=-1;if(e.currentCompanySelections.length>0)for(var l=0;l<e.currentCompanySelections.length;l++){r+=n[e.currentCompanySelections[l]].name+"/",c=n[e.currentCompanySelections[l]].name,o=n[e.currentCompanySelections[l]].perm,i=e.currentCompanySelections[l];var d="btn";n[e.currentCompanySelections[l]].perm?d+=" btn-secondary":d+=" btn-outline-secondary",s.push(Object(a.jsx)("button",{onClick:e.backLayer,value:l+1,className:d,children:n[e.currentCompanySelections[l]].name},t)),t+=1,n=n[e.currentCompanySelections[l]].children}else r="No Selection";var u=[];for(var h in n){var m="btn";n[h].perm?m+=" btn-primary":m+=" btn-outline-primary",u.push(Object(a.jsx)("button",{onClick:e.selectLayer,value:h,className:m,children:n[h].name},t)),t+=1}0===u.length&&(u.push(Object(a.jsx)("div",{className:"btn btn-outline-secondary",children:"End of Data"},t)),t+=1);var j="btn ",p="";o>0?(j+="btn-success",p=" text-success"):(j+="btn-danger",p=" text-danger");var b=[o,c,i];return Object(a.jsx)("div",{className:"testPages",children:Object(a.jsx)("div",{className:"container-fluid",children:Object(a.jsx)("div",{className:"row my-2",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("div",{className:"card shadow",children:[Object(a.jsxs)("div",{className:"card-header",children:[Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col my-2",children:"Select a Company Division you have Viewing Privilege for:"})}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col my-2",children:Object(a.jsx)("div",{className:p,children:r})})})]}),Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsx)("div",{className:"row my-2",children:Object(a.jsx)("div",{className:"col btn-group btn-group-sm",children:s})}),Object(a.jsx)("div",{className:"row my-2",children:Object(a.jsx)("div",{className:"col btn-group btn-group-sm",children:u})}),Object(a.jsx)("div",{className:"row my-2",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("button",{onClick:e.getDataRequest,value:b,className:j,children:"Get Data"})})}),e.lastRequestStatus>0&&Object(a.jsx)("div",{className:"row",children:Object(a.jsxs)("div",{className:"col",children:[1===e.lastRequestStatus&&"Data Obtained, Ready To Go!",2===e.lastRequestStatus&&"Not Allowed!"]})})]})]})})})})})})),ct=Object(m.f)((function(e){var t=0,s=[];for(var n in e.dataSet)s.push(Object(a.jsx)("div",{className:"row m-2",children:Object(a.jsx)("div",{className:"col border",children:e.dataSet[n].content})},t)),t+=1;0===s.length&&(s.push(Object(a.jsx)("div",{className:"row m-2",children:Object(a.jsx)("div",{className:"col",children:"No data to show!"})},t)),t+=1),!1===e.dataDay&&(s=[Object(a.jsx)("div",{className:"row m-2",children:Object(a.jsx)("div",{className:"col",children:"No Day Selected!"})},t)]);var r=e.currentDate;return!1===e.currentDate&&(r=new Date),Object(a.jsx)("div",{className:"testPages",children:Object(a.jsxs)("div",{className:"container-fluid",children:[Object(a.jsxs)("div",{className:"row m-2",children:[Object(a.jsx)("div",{className:"col- m-2",children:Object(a.jsx)(ye.a,{className:"shadow",onChange:e.pickDate,value:r,tileClassName:function(t){var s=t.date;if("month"===t.view){var a=s.getFullYear()+"-"+s.getMonth()+"-"+s.getDate();if(e.validDays.find((function(e){return e===a})))return"btn btn-success"}},minDetail:"year",maxDetail:"month"})}),Object(a.jsx)("div",{className:"col m-2",children:Object(a.jsxs)("div",{className:"card shadow",children:[Object(a.jsx)("div",{className:"card-header",children:Object(a.jsxs)("div",{children:["Suggestions for Date: ",e.dataDay&&e.dataDay.toString()]})}),Object(a.jsx)("div",{className:"card-body",children:s})]})})]}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col"})})]})})})),ot=s(413),it=[{name:"Emotion",value:"emotion"},{name:"Sentiment",value:"sentiment"},{name:"Entities",value:"entities"},{name:"Keywords",value:"keywords"}],lt=["Daily","Weekly","Monthy","Annual"],dt=function(e){return[e.joy,e.anger,e.sadness,e.disgust,e.fear]},ut=Object(m.f)((function(e){var t,s,n,r,c=[],o=e.selectedPrompt,i=e.selectedAspect,l=e.dataSet.forDate,d=e.dataSet.promptList,u=[],h=e.dataSet.summaryResult,m=[],j="not valid prompt";if(null!==h&&void 0!==h){for(var p in h)u.push({name:p,value:p});if(0===u.length&&(u=[{name:"No Prompts",value:"None"}]),o in h){try{j=d.find((function(e){return e.identifier===o})).text}catch(te){j="Prompt Display Error"}var b=h[o].responsePurity;m.push(Object(a.jsx)("div",{className:"row m-2",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("div",{className:"progressBar",children:Object(a.jsx)(ot.a,{now:b,label:"".concat(b,"% Response Rate")})})})},"1"));try{var v=h[o].data[i];switch(i){case"emotion":var g=dt(v.max),x=dt(v.ave),O=dt(v.min),N=T(g,x,O),f={scale:{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}},y=dt(v.threshold),w={labels:["Joy","Anger","Sadness","Disgust","Fear"],datasets:[{label:"# Above Threshold",data:y,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]},C={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}]}};m.push(Object(a.jsxs)("div",{className:"row m-2 justify-content-center",children:[Object(a.jsx)("div",{className:"col-sm col-md col-lg",children:Object(a.jsxs)("div",{className:"card shadow",children:[Object(a.jsx)("div",{className:"card-header",children:"Averages + Max and min?"}),Object(a.jsx)("div",{className:"card-body",children:Object(a.jsx)(we.Radar,{data:N,options:f})})]})}),Object(a.jsx)("div",{className:"col-sm col-md col-lg",children:Object(a.jsxs)("div",{className:"card shadow",children:[Object(a.jsx)("div",{className:"card-header",children:'"How many have hit this threshold"?'}),Object(a.jsx)("div",{className:"card-body",children:Object(a.jsx)(we.Bar,{data:w,options:C})})]})})]},"2"));break;case"sentiment":var S=A([v.min],[v.ave],[v.max]),D={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:-1,suggestedMax:1}}],xAxes:[{}]}},k=function(e){return{labels:["Positive","Negative"],datasets:[{label:"# Above Threshold",data:e,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]}}([v.thresholdPos,v.thresholdNeg]),E={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}]}};m.push(Object(a.jsxs)("div",{className:"row m-2 justify-content-center",children:[Object(a.jsx)("div",{className:"col-sm col-md col-lg",children:Object(a.jsxs)("div",{className:"card shadow",children:[Object(a.jsx)("div",{className:"card-header",children:"Sentiment Values"}),Object(a.jsx)("div",{className:"card-body",children:Object(a.jsx)(we.Bar,{data:S,options:D})})]})}),Object(a.jsx)("div",{className:"col-sm col-md col-lg",children:Object(a.jsxs)("div",{className:"card shadow",children:[Object(a.jsx)("div",{className:"card-header",children:'"How many have hit this threshold"?'}),Object(a.jsx)("div",{className:"card-body",children:Object(a.jsx)(we.Bar,{data:k,options:E})})]})})]},"2"));break;case"entities":for(t in v){var I=v[t],P=dt(I.emotion.max),L=dt(I.emotion.ave),R=dt(I.emotion.min),U=T(P,L,R),M={scale:{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}},H=(s=[I.confidence.min,I.relevance.min,I.sentiment.min],n=[I.confidence.ave,I.relevance.ave,I.sentiment.ave],r=[I.confidence.max,I.relevance.max,I.sentiment.max],{labels:["Confidence","Relevance","Sentiment"],datasets:[{label:"Minimum",data:s,backgroundColor:"rgb(255, 99, 132)"},{label:"Average",data:n,backgroundColor:"rgb(54, 162, 235)"},{label:"Maximum",data:r,backgroundColor:"rgb(75, 192, 192)"}]}),J={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:-1,suggestedMax:1}}],xAxes:[{}]}};c.push(Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{scope:"row",children:I.text}),Object(a.jsx)("td",{children:I.type}),Object(a.jsx)("td",{children:I.count}),Object(a.jsx)("td",{colSpan:"3",children:Object(a.jsx)(we.Bar,{data:H,options:J})}),Object(a.jsx)("td",{children:Object(a.jsx)(we.Radar,{data:U,options:M})})]},t))}m.push(Object(a.jsxs)("table",{className:"table",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{scope:"col",children:"Name"}),Object(a.jsx)("th",{scope:"col",children:"Type"}),Object(a.jsx)("th",{scope:"col",children:"#Appearances"}),Object(a.jsx)("th",{scope:"col",children:"Confidence"}),Object(a.jsx)("th",{scope:"col",children:"Relevance"}),Object(a.jsx)("th",{scope:"col",children:"Sentiment"}),Object(a.jsx)("th",{scope:"col",children:"Emotion"})]})}),Object(a.jsx)("tbody",{children:c})]},"2"));break;case"keywords":for(t in v){var V=v[t],B=dt(V.emotion.max),G=dt(V.emotion.ave),W=dt(V.emotion.min),q=T(B,G,W),z={scale:{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}},K=F([V.relevance.min,V.sentiment.min],[V.relevance.ave,V.sentiment.ave],[V.relevance.max,V.sentiment.max]),Y={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:-1,suggestedMax:1}}],xAxes:[{}]}};c.push(Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{scope:"row",children:V.text}),Object(a.jsx)("td",{children:V.count}),Object(a.jsx)("td",{colSpan:"2",children:Object(a.jsx)(we.Bar,{data:K,options:Y})}),Object(a.jsx)("td",{children:Object(a.jsx)(we.Radar,{data:q,options:z})})]},t))}m.push(Object(a.jsxs)("table",{className:"table",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{scope:"col",children:"Name"}),Object(a.jsx)("th",{scope:"col",children:"#Appearances"}),Object(a.jsx)("th",{scope:"col",children:"Relevance Score"}),Object(a.jsx)("th",{scope:"col",children:"Sentiment"}),Object(a.jsx)("th",{scope:"col",children:"Emotion"})]})}),Object(a.jsx)("tbody",{children:c})]},"2"));break;case"relations":for(t in v){var Z=v[t],X=A([Z.score.min],[Z.score.ave],[Z.score.max]),_={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}]}};c.push(Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{scope:"row",children:Z.count}),Object(a.jsx)("td",{children:Z.arguments[0].text}),Object(a.jsx)("td",{children:Z.type}),Object(a.jsx)("td",{children:Z.arguments[1].text}),Object(a.jsx)("td",{style:{width:"30%"},children:Object(a.jsx)(we.Bar,{data:X,options:_})})]},t))}m.push(Object(a.jsxs)("table",{className:"table",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{scope:"col",children:"#Appearances"}),Object(a.jsx)("th",{scope:"col",children:"Actor"}),Object(a.jsx)("th",{scope:"col",children:"Action"}),Object(a.jsx)("th",{scope:"col",children:"Target"}),Object(a.jsx)("th",{scope:"col",children:"Score"})]})}),Object(a.jsx)("tbody",{children:c})]},"2"));break;default:console.log("Invalid AI selection somehow")}}catch(te){m.push(Object(a.jsx)("div",{className:"row m-2 border",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("p",{children:"There was no data to read!"})})},"2"))}}else m.push(Object(a.jsx)("div",{className:"row m-2 border",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("p",{children:"Select a Prompt"})})},"2"))}else u=[{name:"No Prompts",value:"None"}],m.push(Object(a.jsx)("div",{className:"row m-2 border",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("p",{children:"There was no data to read!"})})},"2"));var Q="Showing Company Summary for: "+e.currentCompany,$="For Date: "+l,ee="Summary Type: "+lt[e.summaryType];return Object(a.jsx)("div",{className:"companyView",children:Object(a.jsxs)("div",{className:"container-fluid",children:[Object(a.jsxs)("div",{className:"row m-2 justify-content-center",children:[Object(a.jsx)("div",{className:"col- m-2",children:Object(a.jsx)("div",{children:Object(a.jsx)(ye.a,{className:"shadow",onChange:e.pickDate,value:e.currentDate,tileClassName:function(t){var s=t.date,a=t.view,n=!1,r=String(s.getFullYear()),c=String(s.getMonth()+1);c<10&&(c="0"+c);var o=String(s.getDate());o<10&&(o="0"+o);var i=r+"-"+c+"-"+o;if("month"===a)try{n=e.validSummaryDates.day.find((function(e){return e===i}))}catch(l){}if(n)return"btn btn-success"},minDetail:"year",maxDetail:"month"})})}),Object(a.jsx)("div",{className:"col m-2",children:Object(a.jsxs)("div",{className:"card shadow",children:[Object(a.jsxs)("div",{className:"card-header",children:[Object(a.jsx)("div",{children:Q}),Object(a.jsx)("div",{children:$}),Object(a.jsx)("div",{children:ee})]}),Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsx)("div",{className:"row m-2",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsx)(Ce.a,{toggle:!0,children:u.map((function(t,s){return Object(a.jsx)(Se.a,{type:"radio",variant:"primary",name:"radio",value:t.value,checked:e.selectedPrompt===t.value,onChange:e.setPrompt,children:t.name},s)}))})})}),Object(a.jsx)("div",{className:"row m-2",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsx)(Ce.a,{toggle:!0,children:it.map((function(t,s){return Object(a.jsx)(Se.a,{type:"radio",variant:"info",name:"radio",value:t.value,checked:e.selectedAspect===t.value,onChange:e.setAI,children:t.name},s)}))})})})]})]})})]}),Object(a.jsx)("div",{className:"row m-2",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("div",{className:"card shadow",children:[Object(a.jsx)("div",{className:"card-header",children:Object(a.jsxs)("div",{children:["Showing Data for prompt: ",j]})}),Object(a.jsx)("div",{className:"card-body",children:m})]})})}),Object(a.jsx)("div",{className:"row  my-2",children:Object(a.jsx)("p",{})})]})})})),ht=s(411),mt=["Never","Always","On Monday","On Tuesday","On Wednesday","On Thursday","On Friday","On Saturday","On Sunday"],jt=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).state={btnLen:2},a}return Object(l.a)(s,[{key:"render",value:function(){var e="",t="";this.props.activePage<=0&&(e="disabled"),this.props.activePage>=this.props.totalLoaded/this.props.numPerPage-1&&(t="disabled");for(var s=[],n=-this.state.btnLen;n<=this.state.btnLen;n++){var r="",c=n+this.props.activePage;c<0||c>=this.props.totalLoaded/this.props.numPerPage||(0===n&&(r="active "),s.push(Object(a.jsx)("button",{className:"btn btn-outline-primary "+r,value:c,onClick:this.props.changeToNum,children:c},n)))}return Object(a.jsx)("div",{className:"paginator",children:Object(a.jsx)("div",{className:"container",children:Object(a.jsx)("div",{className:"row",children:Object(a.jsxs)("div",{className:"col",children:[Object(a.jsx)("button",{className:"btn btn-outline-primary "+e,value:"bck",onClick:this.props.changePrevNext,children:"Prev"}),s,Object(a.jsx)("button",{className:"btn btn-outline-primary "+t,value:"fwd",onClick:this.props.changePrevNext,children:"Next"})]})})})})}}]),s}(r.a.Component),pt=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).setLastClickedEvent=function(e){a.setState({lastClickedEventIndex:Number(e.target.value)})},a.getEventsSuccess=function(e){a.setState({eventsCompBin:e})},a.getEventsFailure=function(e,t){console.log(e),console.log(t),a.props.forceLogout()},a.getEvents=function(){if(-1!==a.props.currentDivisionID){(function(e,t,s,a,n){var r={headers:{Authorization:"JWT ".concat(t)}};v.a.get(e+"/getDivisionEvents/?reqDiv="+s,r).then((function(e){var t=e.data;for(var n in t){var r=!1;void 0!==t[n].usedBy.find((function(e){return e===Number(s)}))&&(r=!0),t[n].usedBy=r,t[n].fromServer=!0}a(t)})).catch((function(e){N(e),n([],[])}))})(a.props.APIHost,a.props.authToken,a.props.currentDivisionID,a.getEventsSuccess,a.getEventsFailure)}},a.saveEventsSuccess=function(e,t){if(!a.state.eventsCompBin[e].fromServer){var s=a.state.eventsCompBin.slice();s[e].id=Number(t.split(":")[1]),s[e].fromServer=!0,a.setState({eventsCompBin:s})}a.setState({eventSuccessIndex:e})},a.saveEventsFailure=function(e,t,s){console.log(t),console.log(s),a.props.forceLogout()},a.saveCompEvent=function(e){var t=a.state.eventsCompBin[e.target.value],s=t.id,n=t.triggerType,r=t.usedBy,c=t.enabled,o=[];for(var i in t.promptPool)o.push(t.promptPool[i].identifier);!function(e,t,s,a,n,r,c,o,i,l,d){var u={headers:{Authorization:"JWT ".concat(t)}},h={id:a,reqDiv:n,enabledDiv:r,enabled:c,triggerType:o,promptSet:i};v.a.post(e+"/setDivisionEvents/",h,u).then((function(e){var t=e.data;l(s,t)})).catch((function(e){N(e),d(s,[],[])}))}(a.props.APIHost,a.props.authToken,Number(e.target.value),s,a.props.currentDivisionID,r,c,n,o,a.saveEventsSuccess,a.saveEventsFailure)},a.searchForPromptsCallback=function(e){a.setState({promptsBin:e,hasSent:!0})},a.searchForPromptsFailure=function(e,t){console.log(e),console.log(t),a.props.forceLogout()},a.searchForPrompts=function(){(function(e,t,s,a,n,r){var c={headers:{Authorization:"JWT ".concat(t)}};v.a.get(e+"/searchPrompts/?queryText="+s+"&queryType="+a,c).then((function(e){var t=e.data;n(t)})).catch((function(e){N(e),r([],[])}))})(a.props.APIHost,a.props.authToken,a.state.searchText,a.state.searchType,a.searchForPromptsCallback,a.searchForPromptsFailure)},a.deleteEventCallback=function(e,t){var s=Number(e),n=a.state.eventsCompBin.slice();n.splice(s,1),a.setState({eventsCompBin:n})},a.deleteEventFailure=function(e,t){console.log(e),console.log(t),a.props.forceLogout()},a.deleteEvent=function(e){var t=a.state.eventsCompBin[Number(e.target.value)],s=t.id;t.fromServer?function(e,t,s,a,n,r,c){var o={headers:{Authorization:"JWT ".concat(t)}},i={id:a,reqDiv:n};v.a.post(e+"/deleteDivisionEvents/",i,o).then((function(e){var t=e.data;r(s,t)})).catch((function(e){N(e),c(s,[],[])}))}(a.props.APIHost,a.props.authToken,Number(e.target.value),s,a.props.currentDivisionID,a.deleteEventCallback,a.deleteEventFailure):a.deleteEventCallback(Number(e.target.value),"Not On The Server")},a.createEvent=function(){var e=a.state.eventsCompBin.slice();e.push({id:-1,triggerType:0,promptPool:[],enabled:!0,usedBy:!1,fromServer:!1}),a.setState({eventsCompBin:e})},a.changeInput=function(e){a.setState({searchText:e.target.value})},a.deleteEventPrompt=function(e){var t=Number(e.target.name),s=Number(e.target.value),n=a.state.eventsCompBin.slice();n[t].promptPool.splice(s,1),a.setState({eventsCompBin:n})},a.addingEventPrompt=function(e){var t=Number(e.target.value),s=a.state.lastClickedEventIndex;if(s>=0){var n=a.state.eventsCompBin.slice(),r=0;void 0===n[s].promptPool.find((function(e){return e.identifier===a.state.promptsBin[t].identifier}))?(n[s].promptPool.push(a.state.promptsBin[t]),r=1):r=2,a.setState({eventsCompBin:n,addedPrompt:r})}},a.changeTrigger=function(e){var t=e.target.name.split(","),s=a.state.eventsCompBin.slice();s[t[0]].triggerType=Number(t[1]),a.setState({eventsCompBin:s})},a.enabledDivFieldChange=function(e){var t=a.state.eventsCompBin.slice();t[e.target.name].usedBy=!t[e.target.name].usedBy,a.setState({eventsCompBin:t})},a.enabledGloFieldChange=function(e){var t=a.state.eventsCompBin.slice();t[e.target.name].enabled=!t[e.target.name].enabled,a.setState({eventsCompBin:t})},a.changePageTo=function(e){var t=Number(e.target.value);a.setState({pageNum:t})},a.changePageFwdBck=function(e){var t=Number(a.state.pageNum);if("fwd"===e.target.value){if((t+=1)>a.state.promptsBin.length/a.state.numPerPage)return}else if("bck"===e.target.value&&(t-=1)<0)return;a.setState({pageNum:t})},a.state={eventsCompBin:[],promptsBin:[],pageNum:0,numPerPage:5,searchText:"",searchType:"text",hasSent:!1,eventSuccessIndex:-1,eventErrorIndex:-1,eventErrorMessage:"",lastClickedEventIndex:-1,addedPrompt:0},a}return Object(l.a)(s,[{key:"componentDidMount",value:function(){this.getEvents()}},{key:"render",value:function(){var e=this,t=[];0===t.length&&t.push(Object(a.jsx)("div",{className:"col",children:"Nothing Here!"},0));var s=[],n=[],r=function(t){var r=e.state.eventsCompBin[t];n.push(Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("div",{className:"card",children:[Object(a.jsxs)("div",{className:"card-header",children:[!r.fromServer&&Object(a.jsx)("div",{className:"text-danger",children:"Not Saved!"}),"Delete",Object(a.jsx)("button",{className:"badge badge-danger badge-pill",name:"test",value:t,onClick:e.deleteEvent,children:"X"})]}),Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("div",{className:"dropdown",children:["Trigger Type:",Object(a.jsx)("div",{className:"btn btn-secondary mx-2",type:"button",id:"EventButton"+t,"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:mt[r.triggerType]}),Object(a.jsx)("div",{className:"dropdown-menu","aria-labelledby":"EventButton"+t,children:mt.map((function(s,n){return Object(a.jsx)("div",{children:Object(a.jsx)("button",{className:"dropdown-item",name:[t,n],onClick:e.changeTrigger,children:s})},n)}))})]})})}),Object(a.jsx)("div",{className:"row m-1",children:Object(a.jsxs)("div",{className:"col",children:[Object(a.jsx)("b",{children:Object(a.jsx)("u",{children:Object(a.jsx)("i",{children:r.promptPool.length})})})," Prompts",Object(a.jsx)("button",{className:"btn btn-secondary mx-2","data-toggle":"modal","data-target":"#changePrompts"+t,children:"Change"})]})}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("div",{className:"custom-control custom-checkbox",children:[Object(a.jsx)("input",{type:"checkbox",className:"custom-control-input",id:"customCheck1"+t,name:t,value:r.usedBy,onChange:e.enabledDivFieldChange,checked:r.usedBy}),Object(a.jsx)("label",{className:"custom-control-label",htmlFor:"customCheck1"+t,children:"Enabled For This Division"})]})})}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("div",{className:"custom-control custom-checkbox",children:[Object(a.jsx)("input",{type:"checkbox",className:"custom-control-input",id:"customCheck2"+t,name:t,value:r.enabled,onChange:e.enabledGloFieldChange,checked:r.enabled,disabled:!0}),Object(a.jsx)("label",{className:"custom-control-label",htmlFor:"customCheck2"+t,children:"Enabled For ALL Divisions"})]})})}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("button",{className:"btn btn-primary",value:t,onClick:e.saveCompEvent,children:"Save"})})}),e.state.eventSuccessIndex===Number(t)&&Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col text-success",children:"Saved!"})})]})]})},t));var c=[];for(var o in r.promptPool){var i=r.promptPool[o].text.substring(0,12)+"...";c.push(Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{scope:"row",children:Object(a.jsx)("button",{className:"btn btn-outline-secondary","data-toggle":"collapse","data-target":"#displayPromptCollapse"+o,children:i})}),Object(a.jsx)("td",{children:r.promptPool[o].identifier}),Object(a.jsx)("td",{children:r.promptPool[o].property1}),Object(a.jsx)("th",{children:Object(a.jsx)("button",{className:"close",type:"button",value:o,name:t,onClick:e.deleteEventPrompt,"aria-label":"Close",children:"\xd7"})})]},o),Object(a.jsx)("tr",{children:Object(a.jsx)("th",{scope:"row",colSpan:"4",className:"collapse",id:"displayPromptCollapse"+o,children:r.promptPool[o].text})},1+o+r.promptPool.length))}0===c.length&&c.push(Object(a.jsx)("tr",{children:Object(a.jsx)("th",{scope:"row",colSpan:"4",children:"Nothing here!"})},0)),s.push(Object(a.jsx)("div",{className:"modal fade",id:"changePrompts"+t,tabIndex:"-1",role:"dialog","aria-labelledby":"promptChanger","aria-hidden":"true",children:Object(a.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:Object(a.jsxs)("div",{className:"modal-content",children:[Object(a.jsxs)("div",{className:"modal-header",children:[Object(a.jsx)("h5",{className:"modal-title",children:"Altering Prompts"}),Object(a.jsx)("button",{type:"btn btn-danger",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(a.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(a.jsxs)("div",{className:"modal-body",children:[Object(a.jsxs)("table",{className:"table",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{scope:"col",children:"Text"}),Object(a.jsx)("th",{scope:"col",children:"IID?"}),Object(a.jsx)("th",{scope:"col",children:"Prop 1?"}),Object(a.jsx)("th",{scope:"col",children:"Delete"})]})}),Object(a.jsx)("tbody",{children:c})]},"1"),Object(a.jsx)("button",{className:"btn btn-primary",value:t,onClick:e.setLastClickedEvent,"data-toggle":"modal","data-target":"#addPrompts",children:"Add New Prompt"})]}),Object(a.jsx)("div",{className:"modal-footer"})]})})},t))};for(var c in this.state.eventsCompBin)r(c);0===n.length&&n.push(Object(a.jsx)("div",{className:"col",children:"Nothing Here!"},0));var o=[];if(this.state.promptsBin.length>0)for(var i=0;i<this.state.numPerPage;i++){var l=i+this.state.pageNum*this.state.numPerPage;if(l>=this.state.promptsBin.length)break;var d=this.state.promptsBin[l].text.substring(0,12)+"...";o.push(Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{scope:"row",children:Object(a.jsx)("button",{className:"btn btn-outline-secondary","data-toggle":"collapse","data-target":"#collapseExample"+l,children:d})}),Object(a.jsx)("td",{children:this.state.promptsBin[l].identifier}),Object(a.jsx)("td",{children:this.state.promptsBin[l].property1}),Object(a.jsx)("th",{children:Object(a.jsx)("button",{className:"btn btn-outline-secondary",value:l,onClick:this.addingEventPrompt,children:"+"})})]},l),Object(a.jsx)("tr",{children:Object(a.jsx)("th",{scope:"row",colSpan:"4",className:"collapse",id:"collapseExample"+l,children:this.state.promptsBin[l].text})},1+l+this.state.promptsBin.length))}else this.state.hasSent?o.push(Object(a.jsx)("tr",{children:Object(a.jsx)("th",{scope:"row",colSpan:"4",children:"No Results!"})},0)):o.push(Object(a.jsx)("tr",{children:Object(a.jsx)("th",{scope:"row",colSpan:"4",children:"Waiting for Search!"})},0));return Object(a.jsx)("div",{className:"EHIDisplay",children:Object(a.jsxs)("div",{className:"container-fluid",children:[Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("div",{className:"card shadow",children:[Object(a.jsx)("div",{className:"card-header",children:Object(a.jsx)("h5",{children:"This Company's Shared Events"})}),Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsx)("div",{className:"row",children:n}),Object(a.jsx)("div",{className:"row my-2",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("button",{className:"btn btn-primary",onClick:this.createEvent,children:"Create Event"})})})]})]})})}),s,Object(a.jsx)("div",{className:"modal fade",id:"addPrompts",tabIndex:"-1",role:"dialog","aria-labelledby":"promptAdder","aria-hidden":"true",children:Object(a.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:Object(a.jsxs)("div",{className:"modal-content",children:[Object(a.jsxs)("div",{className:"modal-header",children:[Object(a.jsx)("h5",{className:"modal-title",children:"Adding Prompts"}),Object(a.jsx)("button",{type:"btn btn-danger",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(a.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(a.jsxs)("div",{className:"modal-body",children:[Object(a.jsxs)("div",{className:"input-group rounded",children:[Object(a.jsx)("input",{type:"search",className:"form-control rounded",placeholder:"Search Text","aria-label":"Search","aria-describedby":"search-addon",onChange:this.changeInput}),Object(a.jsx)("button",{className:"input-group-text border-0",id:"search-addon",onClick:this.searchForPrompts,children:Object(a.jsx)(ht.a,{className:"iconBG",color:"black",size:16})})]}),Object(a.jsxs)("table",{className:"table",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{scope:"col",children:"Text"}),Object(a.jsx)("th",{scope:"col",children:"IID?"}),Object(a.jsx)("th",{scope:"col",children:"Prop 1?"}),Object(a.jsx)("th",{scope:"col",children:"Add"})]})}),Object(a.jsx)("tbody",{children:o})]},"1"),1===this.state.addedPrompt&&Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col text-success",children:"Added!"})}),2===this.state.addedPrompt&&Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col text-warning",children:"Already on the list!"})})]}),Object(a.jsx)("div",{className:"modal-footer",children:Object(a.jsx)(jt,{activePage:this.state.pageNum,changePrevNext:this.changePageFwdBck,changeToNum:this.changePageTo,totalLoaded:this.state.promptsBin.length,numPerPage:this.state.numPerPage})})]})})})]})})}}]),s}(r.a.Component),bt=Object(m.f)(pt),vt=function(e){return Object(a.jsx)("div",{className:"defaultView",children:Object(a.jsx)("h3",{children:"404! You have selected and invalid page"})})},gt=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).changeEHIPrompt=function(e){a.setState({EHISelectedPrompt:e.currentTarget.value})},a.changeEHITimescale=function(e){a.setState({EHISelectedTimescale:e.currentTarget.value})},a.EHITimeToggle=function(e){a.setState({EHITimespan:e})},a.state={EHITimespan:3,EHISelectedPrompt:"none",EHISelectedTimescale:"none"},a}return Object(l.a)(s,[{key:"componentDidMount",value:function(){this.props.activateCompanyMenu(1)}},{key:"componentWillUnmount",value:function(){this.props.disableMenu()}},{key:"render",value:function(){var e=this;return Object(a.jsx)("div",{className:"contentPages",children:Object(a.jsx)("div",{className:"container",children:Object(a.jsx)("div",{className:"row m-1 my-5",children:Object(a.jsxs)("div",{className:"col m-1",children:[-1===this.props.currentDivisionID&&Object(a.jsxs)("div",{className:"row m-2",children:[Object(a.jsx)("div",{className:"col"}),Object(a.jsx)("div",{className:"col m-2 border bg-warning shadow",children:"Select a Company First!"}),Object(a.jsx)("div",{className:"col"})]}),Object(a.jsxs)(m.c,{children:[Object(a.jsx)(m.a,{path:this.props.match.url+"/companySelect",exact:!0,component:function(){return Object(a.jsx)(rt,{currentCompanySelections:e.props.currentCompanyIndexes,companyDataTree:e.props.companyViewableDataTree,lastRequestStatus:e.props.lastCompanyRequestStatus,selectLayer:e.props.selectCompanyLayer,backLayer:e.props.backCompanyLayer,getDataRequest:e.props.getCompanyDataRequest})}}),Object(a.jsx)(m.a,{path:this.props.match.url+"/companyInvites",component:function(){return Object(a.jsx)($e,{APIHost:e.props.APIHost,authToken:e.props.authToken,currentDivisionID:e.props.currentDivisionID,triggerRefresh:e.props.loadCompanyData})}}),Object(a.jsx)(m.a,{path:this.props.match.url+"/companyPerms",component:function(){return Object(a.jsx)(tt,{APIHost:e.props.APIHost,authToken:e.props.authToken,currentDivisionID:e.props.currentDivisionID,triggerRefresh:e.props.loadCompanyData})}}),Object(a.jsx)(m.a,{path:this.props.match.url+"/companySettings",component:function(){return Object(a.jsx)(nt,{APIHost:e.props.APIHost,authToken:e.props.authToken,currentDivisionID:e.props.currentDivisionID,triggerRefresh:e.props.loadCompanyData})}}),Object(a.jsx)(m.a,{path:this.props.match.url+"/companySuggestions",component:function(){return Object(a.jsx)(ct,{currentDate:e.props.selectedSuggestDay,validDays:e.props.validDivisionSuggestionDates,dataDay:e.props.selectedSuggestDay,dataSet:e.props.selectedSuggestDayData,pickDate:e.props.getCompanySuggestionData,currentDivisionID:e.props.currentDivisionID})}}),Object(a.jsx)(m.a,{path:this.props.match.url+"/companyEHI",component:function(){return Object(a.jsx)(Xe,{currentDivisionID:e.props.currentDivisionID,timeIndex:e.state.EHITimespan,EHIData:e.props.EHIData,EHIselectedPrompt:e.state.EHISelectedPrompt,EHIselectedTimescale:e.state.EHISelectedTimescale,EHISetPrompt:e.changeEHIPrompt,EHISetTimescale:e.changeEHITimescale,EHITimeToggle:e.EHITimeToggle})}}),Object(a.jsx)(m.a,{path:this.props.match.url+"/companySummary",component:function(){return Object(a.jsx)(ut,{currentDate:e.props.selectedCompanyDate,currentCompany:e.props.currentCompanyDataName,summaryType:e.props.currentCompanyDataType,validSummaryDates:e.props.validCompanySummaryDates,displayMessage:e.props.companyMessage,dataSet:e.props.selectedSummaryWeekData,selectedDay:e.props.selectedCompanyDay,selectedPrompt:e.props.selectedCompanyPrompt,selectedAspect:e.props.selectedCompanyAspect,setPrompt:e.props.changeCompanyPrompt,setAI:e.props.changeCompanyAspect,setDay:e.props.changeCompanyDay,setCompany:e.props.changeSelectedCompany,loadCompanyList:e.props.getUserCompanyAdminViewTree,getValidDates:e.props.getCompanyValidDates,pickDate:e.props.getCompanyWeeklySummary})}}),Object(a.jsx)(m.a,{path:this.props.match.url+"/companyPrompts",component:function(){return Object(a.jsx)(bt,{APIHost:e.props.APIHost,authToken:e.props.authToken,forceLogout:e.props.forceLogout,currentDivisionID:e.props.currentDivisionID})}}),Object(a.jsx)(m.a,{path:this.props.match.url+"/",component:function(){return Object(a.jsx)(vt,{})}})]})]})})})})}}]),s}(r.a.Component),xt=Object(m.f)(gt),Ot=(s(400),s(401),"/scenere"),Nt="https://cmaster.pythonanywhere.com",ft=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).disableMenu=function(){try{a.refs.sidebar.disableMenu()}catch(e){}},a.activateUserMenu=function(){try{a.refs.sidebar.activateMenu(0)}catch(e){}},a.activateCompanyMenu=function(){try{a.refs.sidebar.activateMenu(1)}catch(e){}},a.changeMenuUserName=function(e){try{a.refs.sidebar.setUserName(e)}catch(t){}},a.changeMenuCompanyName=function(e){try{a.refs.sidebar.setCompanyName(e)}catch(t){}},a.loadFromCookies=function(){var e=p.a.get("lastUser");try{new Date>new Date(e.expire)?(console.log("SESSION WAS EXPIRED!"),p.a.remove("lastUser")):(a.changeMenuUserName(e.user),a.setState({currentUser:e.user,sessionToken:e.session,remember:!0}))}catch(t){console.log("User was NOT found in the storage")}},a.setToken=function(e,t,s){a.setState({sessionToken:e,currentUser:t,rememberMe:s}),a.changeMenuUserName(t);var n=new Date;return n=new Date(n.getTime()+18e5),!0===s&&p.a.set("lastUser",{user:t,session:e,expire:n}),!0},a.refreshCallback=function(e){a.setToken(e,a.state.currentUser,a.status.rememberMe)},a.refreshFailure=function(){a.logout()},a.refresh=function(){!function(e,t,s,a){var n={token:t};v.a.post(e+"/apiTokenRefresh/",n).then((function(e){s()})).catch((function(e){return g.logout(),!1}))}(Nt,a.state.sessionToken,a.refreshCallback,a.refreshFailure)},a.logout=function(){a.setState({sessionToken:void 0,currentUser:void 0}),a.changeMenuUserName("No User"),p.a.remove("lastUser")},a.state={currentUser:void 0,sessionToken:void 0,remember:!1},a}return Object(l.a)(s,[{key:"componentDidMount",value:function(){this.loadFromCookies()}},{key:"render",value:function(){var e=this;return Object(a.jsx)(h.a,{children:Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(H,{ref:"sidebar",basePath:Ot}),Object(a.jsx)(ne,{currentUser:this.state.currentUser,logout:this.logout,reRouteSignIn:"/scenere/signin",reRouteSignUp:"/scenere/signup",reRouteLanding:"/scenere/",reRouteDashboard:"/scenere/dashboard",reRouteUserInvites:"/scenere/dashboard/userMode/userInvite",reRouteUserSecurity:"/scenere/dashboard/userMode/userSecurity",reRouteUserPermissions:"/scenere/dashboard/userMode/userPermissions"}),Object(a.jsxs)(m.c,{children:[Object(a.jsx)(m.a,{path:"/scenere/",exact:!0,component:function(){return Object(a.jsx)(oe,{APIHost:Nt})}}),Object(a.jsx)(m.a,{path:"/scenere/signin",exact:!0,component:function(){return Object(a.jsx)(V,{APIHost:Nt,loginSave:e.setToken,reRouteTarget:"/scenere/dashboard",forgotPath:"/scenere/forgot"})}}),Object(a.jsx)(m.a,{path:"/scenere/signup",exact:!0,component:function(){return Object(a.jsx)(G,{APIHost:Nt,reRouteTarget:"/scenere/verify",loginSave:e.setToken,authToken:e.state.sessionToken})}}),Object(a.jsx)(m.a,{path:"/scenere/verify",exact:!0,component:function(){return Object(a.jsx)(K,{APIHost:Nt,authToken:e.state.sessionToken,forceLogout:e.logout,reRouteTarget:"/scenere/signin",reRouteSuccessTarget:"/scenere/dashboard"})}}),Object(a.jsx)(m.a,{path:"/scenere/forgot",exact:!0,component:function(){return Object(a.jsx)(q,{APIHost:Nt,reRouteTarget:"/scenere/signin"})}}),Object(a.jsx)(m.a,{path:"/scenere/contact",exact:!0,component:function(){return Object(a.jsx)(se,{APIHost:Nt})}}),Object(a.jsx)(m.a,{path:"/scenere/dashboard",component:function(){return Object(a.jsx)(de,{APIHost:Nt,tokenRefresh:e.refresh,reRouteTarget:"/scenere/signin",activateRedirect:"/scenere/verify",logout:e.logout,currentUser:e.state.currentUser,authToken:e.state.sessionToken,reRouteCompany:"/scenere/dashboard",reRouteUser:"/scenere/dashboard",disableMenu:e.disableMenu,activateUserMenu:e.activateUserMenu,activateCompanyMenu:e.activateCompanyMenu,changeMenuCompanyName:e.changeMenuCompanyName})}})]}),Object(a.jsx)(re,{})]})})}}]),s}(r.a.Component),yt=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,414)).then((function(t){var s=t.getCLS,a=t.getFID,n=t.getFCP,r=t.getLCP,c=t.getTTFB;s(e),a(e),n(e),r(e),c(e)}))};s(402),s(403);o.a.render(Object(a.jsx)(ft,{}),document.getElementById("root")),yt()}},[[405,1,2]]]);
//# sourceMappingURL=main.e787e299.chunk.js.map