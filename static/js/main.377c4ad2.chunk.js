/*! For license information please see main.377c4ad2.chunk.js.LICENSE.txt */
(this["webpackJsonpproject-scenere"]=this["webpackJsonpproject-scenere"]||[]).push([[0],{245:function(e,t,a){},532:function(e,t,a){},533:function(e,t,a){},537:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a.n(s),r=a(41),i=a.n(r),c=(a(245),a(4)),o=a(5),l=a(7),d=a(6),h=a(8),u=a(17),j=a(547),m=a(38),b=a.n(m),p=a(233),v=a.n(p),g=v.a.create({baseURL:"https://cmaster.pythonanywhere.com"}),x="",O="",f=function(e){x=e},N=function(e){O=e},S=["day","week","month","year"],y=function(e){var t=e.getFullYear().toString(),a=(e.getMonth()+1).toString(),s=e.getDate().toString(),n=a.split(""),r=s.split("");return t+"-"+(n[1]?a:"0"+n[0])+"-"+(r[1]?s:"0"+r[0])},D=function(e){if(e.response){var t=e.response.status,a=e.response.data;if(401===t){for(var s in a)if("No active account found with the given credentials"===a[s])return{action:3,messages:[{mod:3,text:a[s]}]};return{action:1,messages:[{mod:1,text:"Try That Again!"}]}}if(403===t)return{action:2,messages:[{mod:-1,text:"Permission Failed"}]};if(400===t){var n=[];for(var r in a)"username"===r?n.push({mod:1,text:a[r]}):"password"===r?n.push({mod:2,text:a[r]}):"non_field_errors"===r?n.push({mod:3,text:a[r]}):"email"===r?n.push({mod:4,text:a[r]}):"dup"===r?n.push({mod:5,text:a[r]}):"token"===r?n.push({mod:6,text:a[r]}):"invite"===r?n.push({mod:7,text:a[r]}):"status"===r?n.push({mod:8,text:a[r]}):n.push({mod:0,text:a[r]});return{action:3,messages:n}}return 500===t?{action:4,messages:[{mod:-1,text:"Server Error!"}]}:{action:5,messages:[{mod:-1,text:"Unhandled Response! Error!"}]}}return{action:0,messages:[{mod:-1,text:"Newtork Error"}]}},C=function(e,t,a,s,n){var r={password:a};e?r.email=t:r.username=t,g.post("/api/getToken/",r).then((function(e){s(e.data)})).catch((function(e){var t=D(e);n(t)}))},w=function(e,t){var a={headers:{Authorization:"JWT ".concat(x)}};g.get("/emailVerifyResend",a).then((function(t){e()})).catch((function(e){var a=D(e);t(a)}))},k=function(e,t,a,s,n,r){var i=Math.random().toString(16).substr(2,8),c={headers:{Authorization:"JWT ".concat(x)}},o={shorthand:"made from the website: "+i,forDate:y(e),usedPromptKeyText:t,content:a,richText:s};g.post("/saveUserJournal/",o,c).then((function(e){n(e.data)})).catch((function(e){var t=D(e);r(t)}))},E=function(e,t,a,s,n){var r={headers:{Authorization:"JWT ".concat(x)}},i={reqDiv:e,targetInvite:t,targetAction:a};g.put("/setDivisionInvite/",i,r).then((function(e){var t=e.data;s(t)})).catch((function(e){var t=D(e);n(t)}))},P=function(e,t,a){var s={headers:{Authorization:"JWT ".concat(x)}};g.get("/getDivisionData?reqDiv="+e,s).then((function(e){var a=e.data[0];t(a)})).catch((function(e){var t=D(e);a(t)}))},I=function(e,t,a){var s={headers:{Authorization:"JWT ".concat(x)}},n=e;g.put("/setDivisionData/",n,s).then((function(e){var a=e.data;t(a)})).catch((function(e){var t=D(e);a(t)}))},T=function(e,t,a,s){var n={headers:{Authorization:"JWT ".concat(x)}},r={targetInvite:e,targetAction:t};g.put("/setUserInvite/",r,n).then((function(e){var t=e.data;a(t)})).catch((function(e){var t=D(e);s(t)}))},F=function(e,t,a,s,n,r){var i={headers:{Authorization:"JWT ".concat(x)}},c={id:t,reqDiv:a,enabledDiv:s};g.post("/setNonDivisionEvents/",c,i).then((function(t){var a=t.data;n(e,a)})).catch((function(e){var t=D(e);r(t)}))},L=function(e,t,a,s){var n={headers:{Authorization:"JWT ".concat(x)}},r="recent";void 0!==t&&(r=t.toJSON().split("T")[0]),g.get("/getWebData/?reqDiv="+e+"&reqDate="+r,n).then((function(e){a(e.data)})).catch((function(e){var t=D(e);s(t)}))},A=function(e,t){var a=[],s=0;for(s in t)a.push({label:t[s].label,data:t[s].data,fill:!1,backgroundColor:"rgb(99, 255, 132)",borderColor:"rgba(255, 132, 99, 0.2)"});return{labels:e,datasets:a}},W=function(e){return{labels:["Joy","Anger","Sadness","Disgust","Fear"],datasets:[{label:"Confidence Levels",data:e,backgroundColor:"rgba(99, 255, 132, 0.2)",borderColor:"rgba(99, 255, 132, 1)",borderWidth:1}]}},J=function(e,t,a){return{labels:["Joy","Anger","Sadness","Disgust","Fear"],datasets:[{label:"Max",data:e,backgroundColor:"rgba(99, 255, 132, 0.2)",borderColor:"rgba(99, 255, 132, 1)",borderWidth:1},{label:"Ave",data:t,backgroundColor:"rgba(99, 132, 255, 0.2)",borderColor:"rgba(99, 132, 255, 1)",borderWidth:1},{label:"Min",data:a,backgroundColor:"rgba(255, 99, 132, 0.2)",borderColor:"rgba(255, 99, 132, 1)",borderWidth:1}]}},U=function(e,t,a){return{labels:["Value"],datasets:[{label:"Minimum",data:e,backgroundColor:"rgb(255, 99, 132)"},{label:"Average",data:t,backgroundColor:"rgb(54, 162, 235)"},{label:"Maximum",data:a,backgroundColor:"rgb(75, 192, 192)"}]}},M=function(e,t,a){return{labels:["Relevance","Sentiment"],datasets:[{label:"Minimum",data:e,backgroundColor:"rgb(255, 99, 132)"},{label:"Average",data:t,backgroundColor:"rgb(54, 162, 235)"},{label:"Maximum",data:a,backgroundColor:"rgb(75, 192, 192)"}]}},R=function(e){return{labels:["Relevance","Sentiment"],datasets:[{label:"Value",data:e,backgroundColor:"rgb(54, 162, 235)"}]}},H=function(e){return{labels:["Confidence","Relevance","Sentiment"],datasets:[{label:"Value",data:e,backgroundColor:"rgb(54, 162, 235)"}]}},V=function(e){var t=[],a=[];for(var s in e)t.push(s),a.push(e[s]);return{labels:t,datasets:[{label:["# Obtained"],data:a,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]}},B=a(234),G=a(0),q=[0,1],z=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).setCompanyFlag=function(e){if("number"!==typeof e)return!1;s.setState({showFullCompanyFlag:e})},s.setCompanyName=function(e){s.setState({currentCompanyName:e})},s.setUserName=function(e){s.setState({currentUserName:e})},s.disableMenu=function(){s.setState({enabled:!1})},s.activateMenu=function(e){return void 0!==q.find((function(t){return t===e}))?(s.setState({enabled:!0,displayState:e}),!0):(s.setState({enabled:!1}),!1)},s.state={enabled:!1,displayState:0,showFullCompanyFlag:0,currentCompanyName:"No Company!",currentUserName:"No User!"},s}return Object(o.a)(a,[{key:"render",value:function(){var e=[];switch(this.state.displayState){case 0:e.push(Object(G.jsx)("div",{className:"list-group-item list-group-item-secondary",children:Object(G.jsx)("h4",{children:this.state.currentUserName})},"1"),Object(G.jsx)(h.b,{className:"list-group-item",to:this.props.basePath+"/dashboard/userMode/journalWrite",children:"Make Today's Journal"},"2"),Object(G.jsx)(h.b,{className:"list-group-item",to:this.props.basePath+"/dashboard/userMode/journalRead",children:"View past Journals"},"3"),Object(G.jsx)(h.b,{className:"list-group-item",to:this.props.basePath+"/dashboard/userMode/writeSuggestion",children:"Make Suggestions"},"4"));break;case 1:e.push(Object(G.jsx)(h.b,{className:"list-group-item list-group-item-secondary",to:this.props.basePath+"/dashboard/companyMode/companySelect",children:Object(G.jsx)("h3",{children:this.state.currentCompanyName})},"0")),1===this.state.showFullCompanyFlag?e.push(Object(G.jsx)(h.b,{className:"list-group-item list-group-item-light",to:this.props.basePath+"/dashboard/companyMode/companyEHI",children:"View EHI"},"1"),Object(G.jsx)(h.b,{className:"list-group-item list-group-item-light",to:this.props.basePath+"/dashboard/companyMode/companySummary",children:"View Summaries"},"2"),Object(G.jsx)(h.b,{className:"list-group-item list-group-item-light",to:this.props.basePath+"/dashboard/companyMode/companySuggestions",children:"View Suggestion Box"},"3"),Object(G.jsx)(h.b,{className:"list-group-item list-group-item-light",to:this.props.basePath+"/dashboard/companyMode/companyWeb",children:"View Web (Beta)"},"4")):2===this.state.showFullCompanyFlag?e.push(Object(G.jsx)(h.b,{className:"list-group-item list-group-item-light",to:this.props.basePath+"/dashboard/companyMode/companyEHI",children:"View EHI"},"1"),Object(G.jsx)(h.b,{className:"list-group-item list-group-item-light",to:this.props.basePath+"/dashboard/companyMode/companySummary",children:"View Summaries"},"2"),Object(G.jsx)(h.b,{className:"list-group-item list-group-item-light",to:this.props.basePath+"/dashboard/companyMode/companySuggestions",children:"View Suggestion Box"},"3"),Object(G.jsx)(h.b,{className:"list-group-item list-group-item-light",to:this.props.basePath+"/dashboard/companyMode/companyWeb",children:"View Web (Beta)"},"4"),Object(G.jsx)("div",{className:"list-group-item list-group-item-secondary",children:Object(G.jsx)("h4",{children:"Settings"})},"4.5"),Object(G.jsx)(h.b,{className:"list-group-item list-group-item-light",to:this.props.basePath+"/dashboard/companyMode/companyPrompts",children:"Edit Prompt Events"},"5"),Object(G.jsx)(h.b,{className:"list-group-item list-group-item-light",to:this.props.basePath+"/dashboard/companyMode/companyInvites",children:"User Invites"},"6"),Object(G.jsx)(h.b,{className:"list-group-item list-group-item-light",to:this.props.basePath+"/dashboard/companyMode/companyPerms",children:"Permission Settings"},"7"),Object(G.jsx)(h.b,{className:"list-group-item list-group-item-light",to:this.props.basePath+"/dashboard/companyMode/companySettings",children:"Misc. Settings"},"8")):e.push(Object(G.jsx)(h.b,{className:"list-group-item list-group-item-light",to:this.props.basePath+"/dashboard/companyMode/companySelect",children:Object(G.jsx)("h5",{children:"Select Company"})},"1"));break;default:e.push(Object(G.jsx)("div",{className:"list-group",children:"Invalid Menu! Oops!"}))}return Object(G.jsx)("div",{className:"menuContainer",children:this.state.enabled&&Object(G.jsx)(B.slide,{children:Object(G.jsxs)("div",{className:"list-group",children:[Object(G.jsx)(h.b,{className:"list-group-item list-group-item-dark",to:this.props.basePath+"/dashboard",children:"Dashboard"}),e]})})})}}]),a}(n.a.Component),K=function(e){var t=b.a.get(e);if(void 0===t)return 0;if(void 0===t.data)return b.a.remove(e),2;var a=t.expiryDate;return Date.now()>a?(b.a.remove(e),1):t.data},Y=function(e,t,a){try{var s=new Date;0===a?s.setHours(s.getHours()+1):1===a?s.setDate(s.getDate()+1):2===a?s.setDate(s.getDate()+7):s.setSeconds(s.getSeconds()+90);var n={expiryDate:s.getTime(),data:t};b.a.set(e,n)}catch(r){return!1}return!0},Z=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).resetErrors=function(){s.setState({usernameError:!1,passwordError:!1,isWrongError:!1,networkError:!1,miscError:!1})},s.userFieldChange=function(e){s.setState({username:e.target.value}),s.resetErrors()},s.emailFieldChange=function(e){s.setState({email:e.target.value}),s.resetErrors()},s.passFieldChange=function(e){s.setState({password:e.target.value}),s.resetErrors()},s.remFieldChange=function(e){s.setState({remember:!s.state.remember}),s.resetErrors()},s.handleSubmitFailure=function(e){var t=!1,a=!1,n=!1,r=!1,i=!1,c=!1;if(0===e.action)t=!0;else if(3===e.action)for(var o in e.messages)1===e.messages[o].mod?a=!0:2===e.messages[o].mod?n=!0:3===e.messages[o].mod?r=!0:i=!0;else(4===e.action||5===e.action)&&(c=!0);s.setState({networkError:t,usernameError:a,passwordError:n,isWrongError:r,unhandledError:i,serverError:c,signInState:3})},s.handleSubmitSuccess=function(e){var t=e.access,a=e.refresh,n=s.state.username;s.state.signInEmailMode&&(n=s.state.email),s.props.loginSave(a,t,n,s.state.remember)?s.props.history.push(s.props.reRouteTarget):(console.log("Token Set on OUR END Failed..?"),s.setState({signInState:3}))},s.handleSubmit=function(e){var t=s.state.username;s.state.signInEmailMode&&(t=s.state.email),C(s.state.signInEmailMode,t,s.state.password,s.handleSubmitSuccess,s.handleSubmitFailure),s.setState({signInState:1}),e.preventDefault()},s.state={signInState:0,usernameError:!1,emailError:!1,passwordError:!1,isWrongError:!1,networkError:!1,miscError:!1,signInEmailMode:!1,email:"",username:"",password:"",remember:!1},s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e="";(this.state.emailError||this.state.isWrongError)&&(e="bg-warning");var t="";(this.state.usernameError||this.state.isWrongError)&&(t="bg-warning");var a="";(this.state.passwordError||this.state.isWrongError)&&(a="bg-warning");var s=1===this.state.signInState;return Object(G.jsxs)("div",{className:"container text-center",children:[Object(G.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(G.jsx)("h3",{children:"Sign In"}),Object(G.jsx)("p",{className:"text-danger",children:this.state.isWrongError?"Email and/or Password are incorrect":""}),this.state.signInEmailMode?Object(G.jsxs)("div",{className:"form-group",children:[Object(G.jsx)("label",{children:"Email"}),Object(G.jsx)("input",{type:"text",className:"form-control "+e,value:this.state.email,onChange:this.emailFieldChange,placeholder:"Enter Email"}),Object(G.jsx)("p",{className:"text-danger",children:this.state.emailError?"Email cant be blank":""})]}):Object(G.jsxs)("div",{className:"form-group",children:[Object(G.jsx)("label",{children:"Username"}),Object(G.jsx)("input",{type:"text",className:"form-control "+t,value:this.state.username,onChange:this.userFieldChange,placeholder:"Enter Username"}),Object(G.jsx)("p",{className:"text-danger",children:this.state.usernameError?"Username cant be blank":""})]}),Object(G.jsxs)("div",{className:"form-group",children:[Object(G.jsx)("label",{children:"Password"}),Object(G.jsx)("input",{type:"password",className:"form-control "+a,value:this.state.password,onChange:this.passFieldChange,placeholder:"Enter password"}),Object(G.jsx)("p",{className:"text-danger",children:this.state.passwordError?"Password cannot be blank":""})]}),Object(G.jsxs)("div",{className:"form-group",children:[Object(G.jsx)("label",{className:"form-control-label",htmlFor:"customCheck1",children:"Keep Me Logged In"}),Object(G.jsx)("input",{type:"checkbox",className:"form-control-input",id:"customCheck1",value:this.state.remember,onChange:this.remFieldChange})]}),this.state.miscError?Object(G.jsx)("p",{className:"text-danger border",children:"Unknown Error"}):void 0,this.state.networkError?Object(G.jsx)("p",{className:"bg-warning text-danger border",children:"Server cannot be reached!"}):void 0,Object(G.jsx)("button",{type:"submit",className:"btn btn-dark btn-block",children:"Submit"}),Object(G.jsxs)("div",{className:"row",children:[Object(G.jsx)("div",{className:"col"}),Object(G.jsx)("div",{className:"col"}),Object(G.jsx)("div",{className:"col"}),Object(G.jsx)("p",{className:"col forgot-password text-dark",children:Object(G.jsx)(h.b,{className:"nav-link border",to:this.props.forgotPath,children:"Forgot password?"})})]})]}),Object(G.jsxs)(j.a,{show:s,variant:"warning",children:[Object(G.jsx)(j.a.Heading,{children:"Waiting"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"Waiting for server..."}),Object(G.jsx)("hr",{})]})]})}}]),a}(n.a.Component),X=Object(u.f)(Z),_=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).usernameFieldChange=function(e){s.setState({username:e.target.value})},s.emailFieldChange=function(e){s.setState({email:e.target.value})},s.passFieldChange=function(e){s.setState({password:e.target.value,passwordError:e.target.value!==s.state.password2,passwordErrorDetail:"Passwords do not match!"})},s.pass2FieldChange=function(e){s.setState({password2:e.target.value,passwordError:e.target.value!==s.state.password,passwordErrorDetail:"Passwords do not match!"})},s.firstNameFieldChange=function(e){s.setState({firstName:e.target.value})},s.lastnameFieldChange=function(e){s.setState({lastName:e.target.value})},s.checkFieldChange=function(e){s.setState({checkField:e.target.value})},s.nowSendEmailFailure=function(){console.log("Oh no. We failed"),s.props.history.push(s.props.reRouteTarget),s.setState({nowSendEmailState:3})},s.nowSendEmailCallback=function(){s.props.history.push(s.props.reRouteTarget),s.setState({nowSendEmailState:2})},s.nowSendEmail=function(e){w(e,s.nowSendEmailCallback,s.nowSendEmailFailure),s.setState({nowSendEmailState:1})},s.nowSignInFailure=function(){console.log("Sign in failed, I dont even know what to do here... Normal errors dont work here..."),s.props.history.push(s.props.reRouteTarget),s.setState({nowSignInState:3})},s.nowSignInCallback=function(e){s.props.loginSave(e,s.state.username,!1)?(console.log("Token registered"),s.nowSendEmail(e)):(console.log("Token Failed..?"),s.props.history.push(s.props.reRouteTarget)),s.setState({nowSignInState:2})},s.nowSignIn=function(){C(s.state.username,s.state.password,s.nowSignInCallback,s.nowSignInFailure),s.setState({nowSignInState:1})},s.handleSignUpSubmitFailure=function(e){var t=!1,a=!1,n="",r=!1,i="",c=!1,o="",l=!1,d=!1;if(0===e.action)t=!0;else if(3===e.action)for(var h in e.messages)1===e.messages[h].mod?(a=!0,n=e.messages[h].text):2===e.messages[h].mod?(r=!0,i=e.messages[h].text):4===e.messages[h].mod?(c=!0,o="Email is taken!"):l=!0;else(4===e.action||5===e.action)&&(d=!0);s.setState({networkError:t,usernameError:a,usernameErrorDetail:n,passwordError:r,passwordErrorDetail:i,emailError:c,emailErrorDetail:o,unhandledError:l,serverError:d,handleSignUpSubmitState:3})},s.handleSignUpSubmitCallback=function(e){201===e&&(console.log("Successful Sign up, now signing in..."),s.nowSignIn(),s.setState({handleSignUpSubmitState:2}))},s.handleSignUpSubmit=function(e){s.state.checkField?(!function(e,t,a,s,n,r,i,c){var o={username:e,password:t,password2:a,email:s,first_name:n,last_name:r};g.post("/registerUser/",o).then((function(e){var t=e.status;i(t)})).catch((function(e){var t=D(e);c(t)}))}(s.state.username,s.state.password,s.state.password2,s.state.email,s.state.firstName,s.state.lastName,s.handleSignUpSubmitCallback,s.handleSignUpSubmitFailure),s.setState({handleSignUpSubmitState:1,legalError:!1})):(console.log("Field was not checked"),s.setState({legalError:!0})),e.preventDefault()},s.state={username:"",email:"",password:"",password2:"",firstName:"",lastName:"",networkError:!1,usernameError:!1,usernameErrorDetail:"Username is unavalible",emailError:!1,emailErrorDetail:"Email is invalid/taken",passwordError:!1,passwordErrorDetail:"Passwords do not match!",unhandledError:!1,serverError:!1,checkField:!1,nowSendEmailState:0,nowSignInState:0,handleSignUpSubmitState:0,legalError:!1},s}return Object(o.a)(a,[{key:"render",value:function(){var e="form-control";this.state.usernameError&&(e+=" bg-warning");var t="form-control";this.state.emailError&&(t+=" bg-warning");var a="form-control";this.state.passwordError&&(a+=" bg-warning");var s=this.state.legalError,n=1===this.state.handleSignUpSubmitState;return Object(G.jsx)("div",{className:"signUp",children:Object(G.jsxs)("div",{className:"container",children:[Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("h3",{children:"Sign Up"})})}),Object(G.jsxs)("form",{onSubmit:this.handleSignUpSubmit,children:[Object(G.jsxs)("div",{id:"align-left",children:[Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"form-group",children:[Object(G.jsx)("label",{id:"label-left",children:"Username"}),Object(G.jsx)("input",{type:"text",className:e,value:this.state.username,onChange:this.usernameFieldChange,placeholder:"Enter Username"}),Object(G.jsx)("p",{className:"text-danger",children:this.state.usernameError?this.state.usernameErrorDetail:""})]})})}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"form-group",children:[Object(G.jsx)("label",{id:"align-left",children:"Email Address"}),Object(G.jsx)("input",{type:"email",className:t,value:this.state.email,onChange:this.emailFieldChange,placeholder:"Enter email"}),Object(G.jsx)("p",{className:"text-danger",children:this.state.emailError?this.state.emailErrorDetail:""})]})})}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"form-group",children:[Object(G.jsx)("label",{id:"align-left",children:"Password"}),Object(G.jsx)("input",{type:"password",className:a,value:this.state.password,onChange:this.passFieldChange,placeholder:"Enter password"})]})})}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"form-group",children:[Object(G.jsx)("label",{id:"align-left",children:"Confirm Password"}),Object(G.jsx)("input",{type:"password",className:a,value:this.state.password2,onChange:this.pass2FieldChange,placeholder:"Confirm password"}),Object(G.jsx)("p",{className:"text-danger",children:this.state.passwordError?this.state.passwordErrorDetail:""})]})})}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"form-group",children:[Object(G.jsx)("label",{id:"align-left",children:"First Name"}),Object(G.jsx)("input",{type:"text",className:"form-control",value:this.state.firstName,onChange:this.firstNameFieldChange,placeholder:"First Name"})]})})}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"form-group",children:[Object(G.jsx)("label",{id:"align-left",children:"Last Name"}),Object(G.jsx)("input",{type:"text",className:"form-control",value:this.state.lastName,onChange:this.lastnameFieldChange,placeholder:"Last Name"})]})})})]}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"form-group",children:[Object(G.jsx)("input",{type:"checkbox",className:"form-control-input",id:"customCheck1",value:this.state.checkField,onChange:this.checkFieldChange}),Object(G.jsx)("label",{className:"form-control-label",htmlFor:"customCheck1",children:"Legal stuff?"})]})})}),Object(G.jsx)("div",{className:"row",children:Object(G.jsxs)("div",{className:"col",children:[this.state.networkError?Object(G.jsx)("p",{className:"bg-warning text-danger border",children:"Server cannot be reached!"}):void 0,Object(G.jsx)("button",{type:"submit",className:"btn btn-dark btn-block",children:"Submit"})]})})]}),Object(G.jsxs)(j.a,{show:s,variant:"danger",children:[Object(G.jsx)(j.a.Heading,{children:"Warning"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"You have to accept the non-existant legal documents"}),Object(G.jsx)("hr",{})]}),Object(G.jsxs)(j.a,{show:n,variant:"warning",children:[Object(G.jsx)(j.a.Heading,{children:"Waiting"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"This should display while waiting for the return"}),Object(G.jsx)("hr",{})]}),Object(G.jsx)("div",{className:"row my-5",children:Object(G.jsx)("div",{className:"col"})})]})})}}]),a}(n.a.Component),Q=Object(u.f)(_),$=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).goSignIn=function(){s.props.history.push(s.props.reRouteTarget)},s.arePasswordsSame=function(){return s.state.password1===s.state.password2},s.swapToCode=function(){s.setState({currentState:1})},s.sendEmailSuccess=function(e,t){console.log("Email Send Success"),s.setState({currentState:1,networkError:!1,uncaughtError:!1,sendEmailState:2})},s.sendEmailFailure=function(e){var t=!1,a="";if(0===e.action);else if(2===e.action);else if(3===e.action)for(var n in e.messages)4===e.messages[n].mod&&(t=!0,a=e.messages[n].text);else 4===e.action||e.action;s.setState({networkError:!1,emailError:t,uncaughtError:!1,emailErrorDetail:a,sendEmailState:3})},s.sendEmail=function(){console.log("Sending the Email Here..."),function(e,t,a){var s={targetEmail:e};g.post("/nonAuthPassword/sendEmail/",s).then((function(e){t(e.status)})).catch((function(e){var t=D(e);a(t)}))}(s.state.email,s.sendEmailSuccess,s.sendEmailFailure),s.setState({sendEmailState:1})},s.checkTokenFailure=function(e){var t=!1,a="";if(0===e.action);else if(2===e.action);else if(3===e.action)for(var n in e.messages)4===e.messages[n].mod&&(t=!0,a=e.messages[n].text);else 4===e.action||e.action;s.setState({networkError:!1,tokenError:t,uncaughtError:!1,tokenErrorDetail:a[1],validateCodeState:3})},s.checkTokenSuccess=function(e){console.log("Token Matched!"),s.setState({currentState:2,networkError:!1,uncaughtError:!1,validateCodeState:2})},s.checkToken=function(){var e,t,a;console.log("Send Token Here..."),e=s.state.resetToken,t=s.checkTokenSuccess,a=s.checkTokenFailure,g.get("/nonAuthPassword/validate/?token="+e,{}).then((function(e){t(e.status)})).catch((function(e){var t=D(e);a(t)})),s.setState({validateCodeState:1})},s.submitPasswordFailure=function(e){var t=!1,a=!1,n="";if(0===e.action);else if(2===e.action);else if(3===e.action)for(var r in e.messages)2===e.messages[r].mod?(t=!0,n=e.messages[r].text):a=!0;else 4===e.action||e.action;s.setState({networkError:!1,passwordError:t,uncaughtError:a,passwordErrorDetail:n,submitPasswordState:3})},s.submitPasswordSuccess=function(e){console.log("Password Reset Success!"),s.setState({currentState:3,networkError:!1,uncaughtError:!1,submitPasswordState:2})},s.submitPasswords=function(){console.log("Checking Passwords..."),s.arePasswordsSame()?(console.log("Passwords Checked out!"),function(e,t,a,s,n){var r={password:t,password2:a,passToken:e};g.put("/nonAuthPassword/Change/",r).then((function(e){s(e.status)})).catch((function(e){var t=D(e);n(t)}))}(s.state.resetToken,s.state.password1,s.state.password2,s.submitPasswordSuccess,s.submitPasswordFailure),s.setState({submitPasswordState:1})):console.log("Passwords Failed!")},s.emailFieldChange=function(e){s.setState({email:e.target.value})},s.tokenFieldChange=function(e){s.setState({resetToken:e.target.value})},s.pass1FieldChange=function(e){s.setState({password1:e.target.value})},s.pass2FieldChange=function(e){s.setState({password2:e.target.value,passwordsSameError:e.target.value!==s.state.password1})},s.state={currentState:0,email:"",resetToken:"",password1:"",password2:"",passwordsSameError:!1,networkError:!1,emailError:!1,emailErrorDetail:"",tokenError:!1,tokenErrorDetail:"",passwordError:!1,passwordErrorDetail:"",uncaughtError:!1,sendEmailState:0,validateCodeState:0,submitPasswordState:0},s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.setState({email:"",resetToken:"",password1:"",password2:""})}},{key:"render",value:function(){var e=null,t=null,a=null;0===this.state.currentState?(this.state.networkError,this.state.emailError,a=Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("p",{children:"Enter your email address. If it is in the system, we will send you an email address with a code."})})}),e=Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"form-group",children:[Object(G.jsx)("label",{children:"Email Address"}),Object(G.jsx)("input",{type:"email",className:"form-control",value:this.state.email,onChange:this.emailFieldChange,placeholder:"Enter email"})]})})}),t=[Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("button",{className:"btn btn-primary",onClick:this.sendEmail,children:"Send"})})},1),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col m-2",children:Object(G.jsx)("button",{className:"btn btn-primary",onClick:this.swapToCode,children:"Already have the code!"})})},2)]):1===this.state.currentState?(this.state.networkError,this.state.tokenError,a=Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("p",{children:"Check your email. If your email is correct, then enter the code it gives you here:"})}),e=Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"form-group",children:[Object(G.jsx)("label",{children:"Reset token"}),Object(G.jsx)("input",{type:"text",className:"form-control",value:this.state.resetToken,onChange:this.tokenFieldChange,placeholder:"Enter Token"})]})}),t=Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("button",{className:"btn btn-primary",onClick:this.checkToken,children:"Check Code"})})):2===this.state.currentState?(this.state.networkError,this.state.passwordError,a=[Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("p",{children:" Enter your new password! "})})},1)],this.state.passwordsSameError&&a.push(Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("p",{className:"text-danger",children:" Passwords do not match! "})})},2)),e=[Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("div",{className:"form-group",children:Object(G.jsx)("input",{type:"password",className:"form-control",value:this.state.password1,onChange:this.pass1FieldChange,placeholder:"Enter Password"})})})},3),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("div",{className:"form-group",children:Object(G.jsx)("input",{type:"password",className:"form-control",value:this.state.password2,onChange:this.pass2FieldChange,placeholder:"Re-enter Password"})})})},4)],t=Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("button",{className:"btn btn-primary",onClick:this.submitPasswords,children:"Submit"})})})):3===this.state.currentState&&(a=Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("p",{children:" Password has been successfullty reset! "})})}),e=null,t=Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("button",{className:"btn btn-primary",onClick:this.goSignIn,children:"Sign In!"})})}));var s=1===this.state.sendEmailState||1===this.state.validateCodeState||1===this.state.submitPasswordState,n=2===this.state.sendEmailState||2===this.state.validateCodeState||2===this.state.submitPasswordState,r=3===this.state.sendEmailState||3===this.state.validateCodeState||3===this.state.submitPasswordState;return Object(G.jsxs)("div",{className:"container-sm",children:[Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("h3",{children:" Forgot your password? "})})}),a,e,t,Object(G.jsxs)(j.a,{show:s,variant:"warning",children:[Object(G.jsx)(j.a.Heading,{children:"Waiting"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"Waiting for server response for submission..."}),Object(G.jsx)("hr",{})]}),Object(G.jsxs)(j.a,{show:n,variant:"success",children:[Object(G.jsx)(j.a.Heading,{children:"Waiting"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"This should display if we got a success"}),Object(G.jsx)("hr",{})]}),Object(G.jsxs)(j.a,{show:r,variant:"danger",children:[Object(G.jsx)(j.a.Heading,{children:"Error!"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"This should display if we got an error"}),Object(G.jsx)("hr",{})]})]})}}]),a}(n.a.Component),ee=Object(u.f)($),te=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).tokenFieldChange=function(e){s.setState({token:e.target.value})},s.gotoDash=function(){s.props.history.push(s.props.reRouteSuccessTarget)},s.handleVerifyFailure=function(e){var t=!1,a="";if(0===e.action);else if(2===e.action);else if(3===e.action)for(var n in e.messages)1===e.messages[n].mod&&(t=!0,a=e.messages[n].text);else 4===e.action||e.action;s.setState({tokenError:t,tokenErrorDetail:a,validateStatus:3})},s.handleVerifyCallback=function(e,t){200===e&&(console.log("Successful Verification!"),s.setState({done:!0,validateStatus:2}))},s.handleVerifySubmit=function(e){!function(e,t,a){var s={headers:{Authorization:"JWT ".concat(x)}};g.get("/emailActivate/?token="+e,s).then((function(e){t(e.status,e.data)})).catch((function(e){var t=D(e);a(t)}))}(s.state.token,s.handleVerifyCallback,s.handleVerifyFailure),s.setState({validateStatus:1}),e.preventDefault()},s.reSendEmailFailure=function(e){0===e.action||(2===e.action?s.props.refreshToken(s.reSendEmail):3===e.action||4===e.action||e.action),s.setState({sendEmailStatus:3})},s.reSendEmailCallback=function(){s.setState({resend:"A new code has been sent!",sendEmailStatus:2})},s.reSendEmail=function(){w(s.reSendEmailCallback,s.reSendEmailFailure),s.setState({sendEmailStatus:1})},s.state={token:"",tokenError:!1,tokenErrorDetail:"???",done:!1,resend:"",validateStatus:0,sendEmailStatus:0},s}return Object(o.a)(a,[{key:"render",value:function(){var e="form-control";this.state.tokenError&&(e+=" bg-warning");var t=[];t=this.state.done?Object(G.jsxs)("div",{children:[Object(G.jsx)("div",{className:"row",children:Object(G.jsxs)("div",{className:"col",children:[Object(G.jsx)("h3",{children:"Thank you!"}),Object(G.jsx)("p",{children:"Account has been activated! Press here to go to the dashboard:"})]})}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("button",{className:"btn btn-dark",onClick:this.gotoDash,children:"To the Dashboard!"})})})]}):Object(G.jsxs)("div",{children:[Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("h3",{children:"Activate your account"})})}),Object(G.jsx)("form",{onSubmit:this.handleVerifySubmit,children:Object(G.jsxs)("div",{id:"align-left",children:[Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("p",{children:" Check your email, you should have received a code, enter it here and your account will be activated!"})})}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"form-group",children:[Object(G.jsx)("label",{id:"label-left",children:"Enter token here:"}),Object(G.jsx)("input",{type:"text",className:e,value:this.state.username,onChange:this.tokenFieldChange,placeholder:"Token"}),Object(G.jsx)("p",{className:"text-danger",children:this.state.tokenError?this.state.tokenErrorDetail:""})]})})}),Object(G.jsx)("div",{className:"row my-2",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("button",{type:"submit",className:"btn btn-dark btn-block",children:"Submit"})})})]})}),Object(G.jsx)("div",{className:"row my-2",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("button",{onClick:this.reSendEmail,className:"btn btn-dark btn-block",children:"Re-send Activation code"})})}),Object(G.jsx)("div",{className:"row my-2",children:Object(G.jsx)("div",{className:"col",children:this.state.resend})})]});var a=1===this.state.validateStatus||1===this.state.sendEmailStatus,s=2===this.state.validateStatus||2===this.state.sendEmailStatus,n=3===this.state.validateStatus||3===this.state.sendEmailStatus;return Object(G.jsx)("div",{className:"signUp",children:Object(G.jsxs)("div",{className:"container",children:[t,Object(G.jsxs)(j.a,{show:a,variant:"warning",children:[Object(G.jsx)(j.a.Heading,{children:"Waiting"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"Waiting for server response for submission..."}),Object(G.jsx)("hr",{})]}),Object(G.jsxs)(j.a,{show:s,variant:"success",children:[Object(G.jsx)(j.a.Heading,{children:"Waiting"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"This should display if we got a success"}),Object(G.jsx)("hr",{})]}),Object(G.jsxs)(j.a,{show:n,variant:"danger",children:[Object(G.jsx)(j.a.Heading,{children:"Error!"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"This should display if we got an error"}),Object(G.jsx)("hr",{})]})]})})}}]),a}(n.a.Component),ae=Object(u.f)(te),se=function(e){return Object(G.jsx)("header",{className:"header",children:Object(G.jsx)("div",{className:"intro",children:Object(G.jsx)("div",{className:"overlay",children:Object(G.jsx)("div",{className:"container",children:Object(G.jsx)("div",{className:"row",children:Object(G.jsxs)("div",{className:"col col-md-offset-2 intro-text",children:[Object(G.jsx)("h1",{children:"Project Scenere"}),Object(G.jsx)("h5",{children:"Welcome to the Alpha!"})]})})})})})})},ne=a(539),re=a(540),ie=a(541),ce=a(542),oe=function(e){return Object(G.jsx)("div",{className:"text-center",id:"features",children:Object(G.jsxs)("div",{className:"container",children:[Object(G.jsx)("div",{className:"row m-3",children:Object(G.jsxs)("div",{className:"col",children:[Object(G.jsx)("h2",{className:"section-title",children:"Features"}),Object(G.jsx)("p",{className:"text-muted section-subtitle",children:"Lorem ipsum"})]})}),Object(G.jsxs)("div",{className:"row my-2",children:[Object(G.jsxs)("div",{className:"col-sm-6 col-md-6 col-lg-3",children:[Object(G.jsxs)("div",{className:"row",children:[Object(G.jsx)("div",{className:"col"}),Object(G.jsx)("div",{className:"col",children:Object(G.jsx)(ne.a,{className:"iconBG",color:"white",size:72})}),Object(G.jsx)("div",{className:"col"})]}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("h3",{children:"Feature Title"})})}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("p",{className:"col text-muted",children:"Lorem ipsum dolor sit amet placerat facilisis felis mi in tempus eleifend pellentesque natoque etiam."})})]}),Object(G.jsxs)("div",{className:"col-sm-6 col-md-6 col-lg-3",children:[Object(G.jsxs)("div",{className:"row",children:[Object(G.jsx)("div",{className:"col"}),Object(G.jsx)("div",{className:"col",children:Object(G.jsx)(re.a,{className:"iconBG",color:"white",size:72})}),Object(G.jsx)("div",{className:"col"})]}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("h3",{children:"Feature Title"})})}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("p",{className:"col text-muted",children:"Lorem ipsum dolor sit amet placerat facilisis felis mi in tempus eleifend pellentesque natoque etiam."})})]}),Object(G.jsxs)("div",{className:"col-sm-6 col-md-6 col-lg-3",children:[Object(G.jsxs)("div",{className:"row",children:[Object(G.jsx)("div",{className:"col"}),Object(G.jsx)("div",{className:"col",children:Object(G.jsx)(ie.a,{className:"iconBG",color:"white",size:72})}),Object(G.jsx)("div",{className:"col"})]}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("h3",{children:"Feature Title"})})}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("p",{className:"col text-muted",children:"Lorem ipsum dolor sit amet placerat facilisis felis mi in tempus eleifend pellentesque natoque etiam."})})]}),Object(G.jsxs)("div",{className:"col-sm-6 col-md-6 col-lg-3",children:[Object(G.jsxs)("div",{className:"row",children:[Object(G.jsx)("div",{className:"col"}),Object(G.jsx)("div",{className:"col",children:Object(G.jsx)(ce.a,{className:"iconBG",color:"white",size:72})}),Object(G.jsx)("div",{className:"col"})]}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("h3",{children:"Feature Title"})})}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("p",{className:"col text-muted",children:"Lorem ipsum dolor sit amet placerat facilisis felis mi in tempus eleifend pellentesque natoque etiam."})})]})]})]})})},le=function(e){return Object(G.jsx)("div",{id:"about",children:Object(G.jsxs)("div",{className:"container",children:[Object(G.jsx)("div",{className:"row m-4",children:Object(G.jsxs)("div",{className:"col",children:[Object(G.jsx)("h2",{className:"section-title",children:"About Us"}),Object(G.jsx)("p",{className:"text-muted section-subtitle",children:"Lorem ipsum"})]})}),Object(G.jsx)("div",{className:"row m-4",children:Object(G.jsx)("div",{className:"col text-muted",children:"Lorem ipsum dolor sit amet placerat facilisis felis mi in tempus eleifend pellentesque natoque etiam."})}),Object(G.jsx)("div",{className:"row m-4",children:Object(G.jsx)("h5",{className:"col about-subsection",children:"Title of Subsection"})}),Object(G.jsxs)("div",{className:"row my-2 about-text text-muted",children:[Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("ul",{children:[Object(G.jsx)("li",{children:"Lorem ipsum dolor sit amet"}),Object(G.jsx)("li",{children:"Lorem ipsum dolor sit amet"}),Object(G.jsx)("li",{children:"Lorem ipsum dolor sit amet"}),Object(G.jsx)("li",{children:"Lorem ipsum dolor sit amet"})]})}),Object(G.jsx)("div",{className:"col list-style",children:Object(G.jsxs)("ul",{children:[Object(G.jsx)("li",{children:"Lorem ipsum dolor sit amet"}),Object(G.jsx)("li",{children:"Lorem ipsum dolor sit amet"}),Object(G.jsx)("li",{children:"Lorem ipsum dolor sit amet"}),Object(G.jsx)("li",{children:"Lorem ipsum dolor sit amet"})]})})]})]})})},de=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).emailFieldChange=function(e){s.setState({email:e.target.value})},s.callbackFailure=function(){s.setState({handleEmailStatus:3})},s.callbackSuccess=function(){s.setState({handleEmailStatus:2})},s.handleSubmit=function(e){!function(e,t,a){var s={email:e};g.post("/sendBetaEmail/",s).then((function(e){e.status})).catch((function(e){var t=D(e);a(t)}))}(s.state.email,s.callbackSuccess,s.callbackFailure),e.preventDefault(),s.setState({handleEmailStatus:1})},s.state={email:"",handleEmailStatus:0},s}return Object(o.a)(a,[{key:"render",value:function(){return Object(G.jsx)("div",{id:"contact",children:Object(G.jsxs)("div",{className:"container",children:[Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{children:[Object(G.jsx)("h2",{children:"Beta Request"}),Object(G.jsx)("p",{children:"Interested in beta testing? Enter you email below"})]})})}),Object(G.jsx)("form",{onSubmit:this.handleSubmit,children:Object(G.jsxs)("div",{className:"row",children:[Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("div",{className:"form-group",children:Object(G.jsx)("input",{type:"email",className:"form-control",value:this.state.email,onChange:this.emailFieldChange,placeholder:"Enter email"})})}),Object(G.jsxs)("div",{className:"col",children:[Object(G.jsx)("label",{}),Object(G.jsx)("button",{type:"submit",className:"btn btn-dark btn-block",children:"Send!"})]})]})})]})})}}]),a}(n.a.Component),he=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).firstNameFieldChange=function(e){s.setState({firstName:e.target.value})},s.lastnameFieldChange=function(e){s.setState({lastName:e.target.value})},s.emailFieldChange=function(e){s.setState({email:e.target.value})},s.companyFieldChange=function(e){s.setState({company:e.target.value})},s.contentFieldChange=function(e){s.setState({content:e.target.value})},s.callbackFailure=function(){s.setState({emailContactState:3})},s.callbackSuccess=function(){s.setState({emailContactState:2})},s.handleSubmit=function(e){!function(e,t,a,s,n,r,i){var c={firstName:e,lastName:t,email:a,company:s,content:n};g.post("/sendContactEmail/",c).then((function(e){e.status})).catch((function(e){var t=D(e);i(t)}))}(s.state.firstName,s.state.lastName,s.state.email,s.state.company,s.state.content,s.callbackSuccess,s.callbackFailure),e.preventDefault(),s.setState({emailContactState:1})},s.state={firstName:"",lastName:"",email:"",company:"",content:"",emailContactState:0},s}return Object(o.a)(a,[{key:"render",value:function(){return Object(G.jsx)("div",{id:"contact",children:Object(G.jsxs)("div",{className:"container",children:[Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{children:[Object(G.jsx)("h2",{children:"Contact Us"}),Object(G.jsx)("p",{children:"Lorem ipsum dolor sit amet placerat"})]})})}),Object(G.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(G.jsxs)("div",{className:"row",children:[Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"form-group",children:[Object(G.jsx)("label",{children:"First Name"}),Object(G.jsx)("input",{type:"text",className:"form-control",value:this.state.firstName,onChange:this.firstNameFieldChange,placeholder:"First Name"})]})}),Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"form-group",children:[Object(G.jsx)("label",{children:"Last Name"}),Object(G.jsx)("input",{type:"text",className:"form-control",value:this.state.lastName,onChange:this.lastnameFieldChange,placeholder:"Last Name"})]})})]}),Object(G.jsxs)("div",{className:"row",children:[Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"form-group",children:[Object(G.jsx)("label",{children:"Email Address"}),Object(G.jsx)("input",{type:"email",className:"form-control",value:this.state.email,onChange:this.emailFieldChange,placeholder:"Enter email"})]})}),Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"form-group",children:[Object(G.jsx)("label",{children:"Company"}),Object(G.jsx)("input",{type:"text",className:"form-control",value:this.state.company,onChange:this.companyFieldChange,placeholder:"Company Name"})]})})]}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"form-group",children:[Object(G.jsx)("label",{children:"Content"}),Object(G.jsx)("textarea",{type:"text",className:"form-control",value:this.state.content,onChange:this.contentFieldChange,placeholder:"Content"})]})})}),Object(G.jsx)("div",{className:"row my-1",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("button",{type:"submit",className:"btn btn-dark btn-block",children:"Send Message"})})})]})]})})}}]),a}(n.a.Component),ue=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).triggerLogout=function(){s.props.logout(),s.props.history.push(s.props.reRouteSignIn)},s.state={},s}return Object(o.a)(a,[{key:"render",value:function(){var e=null,t=null;return void 0===this.props.currentUser?e=[Object(G.jsx)("li",{className:"nav-item",children:Object(G.jsx)(h.b,{className:"nav-link",to:this.props.reRouteSignUp,children:"Sign Up"})},"1"),Object(G.jsx)("li",{className:"nav-item",children:Object(G.jsx)(h.b,{className:"nav-link",to:this.props.reRouteSignIn,children:"Sign In"})},"2")]:(e=[Object(G.jsx)("li",{className:"nav-item",children:Object(G.jsx)(h.b,{className:"nav-link",to:this.props.reRouteDashboard,children:"Dashboard"})},"1")],t=Object(G.jsxs)("div",{className:"dropdown",children:[Object(G.jsx)("div",{className:"nav-link",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:this.props.currentUser}),Object(G.jsxs)("div",{className:"dropdown-menu dropdown-menu-right","aria-labelledby":"dropdownMenuButton",children:[Object(G.jsx)(h.b,{className:"dropdown-item",to:this.props.reRouteUserInvites,children:"Invites"}),Object(G.jsx)(h.b,{className:"dropdown-item",to:this.props.reRouteUserSecurity,children:"Security"}),Object(G.jsx)(h.b,{className:"dropdown-item",to:this.props.reRouteUserPermissions,children:"Permissions"}),Object(G.jsx)(h.b,{className:"dropdown-item",to:this.props.reRouteLanding,onClick:this.triggerLogout,children:"Sign Out"})]})]},"5")),Object(G.jsx)("div",{className:"navigation",children:Object(G.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:Object(G.jsxs)("div",{className:"container-fluid",children:[Object(G.jsx)(h.b,{className:"navbar-brand",to:this.props.reRouteLanding,children:"Project Scenere"}),Object(G.jsx)("div",{className:"dropdown"}),Object(G.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarResponsive","aria-controls":"navbarResponsive","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(G.jsx)("span",{className:"navbar-toggler-icon"})}),Object(G.jsx)("div",{className:"collapse navbar-collapse",id:"navbarResponsive",children:Object(G.jsxs)("ul",{className:"navbar-nav ml-auto",children:[e,t]})})]})})})}}]),a}(n.a.Component),je=Object(u.f)(ue),me=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={},s}return Object(o.a)(a,[{key:"render",value:function(){return Object(G.jsx)("div",{className:"footer fixed-bottom",children:Object(G.jsx)("footer",{className:"py-3 bg-dark",children:Object(G.jsx)("div",{className:"container",children:Object(G.jsx)("p",{className:"m-0 text-center text-white",children:"Copyright \xa9 Nightingale Technologies 2021"})})})})}}]),a}(n.a.Component),be=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={},s}return Object(o.a)(a,[{key:"render",value:function(){return Object(G.jsxs)("div",{className:"freePages",children:[Object(G.jsx)(se,{}),Object(G.jsx)(de,{}),Object(G.jsx)(oe,{}),Object(G.jsx)(le,{}),Object(G.jsx)(he,{})]})}}]),a}(n.a.Component),pe=Object(u.f)(be),ve=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).backButton=function(){s.props.history.goBack()},s.state={example:0},s}return Object(o.a)(a,[{key:"render",value:function(){return Object(G.jsx)("div",{className:"authPages",children:Object(G.jsx)("div",{className:"container",children:Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:"Authorization Pages"})})})})}}]),a}(n.a.Component),ge=(Object(u.f)(ve),function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).componentDidMount=function(){-1===s.state.currentDivisionID&&s.props.changeCompanyMenuItems(0),s.loadData()},s.triggerLogout=function(){s.props.logout(),s.props.history.push(s.props.reRouteSignIn)},s.clearCompanyData=function(){s.setState({EHIData:[],currentCompanyDataName:void 0,currentCompanyDataType:void 0,selectedSummaryWeekData:{},validCompanySummaryDates:[],selectedSuggestDay:!1,selectedSuggestDayData:[],validDivisionSuggestionDates:[]})},s.loadData=function(){s.checkActiveUser(),s.getValidJournalDates(),s.getValidNonJournalDates(),s.getJournalPrompts(),s.getUserCompanyPermsApp()},s.APIGetEmailAIDataFailure=function(e){console.log(e)},s.APIGetEmailAIDataCallback=function(e){console.log(e)},s.APIGetEmailAIData=function(){!function(e,t,a){var s={headers:{Authorization:"JWT ".concat(x)}};g.get("/getEmailScan/?emailID="+e,s).then((function(e){e.data.length>0?t(e.data[0]):a({mod:37,text:"No Data to read!"})})).catch((function(e){var t=D(e);a(t)}))}("ASDF",s.APIGetEmailAIDataCallback,s.APIGetEmailAIDataFailure)},s.journalPromptsFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return void s.props.refreshToken(s.loadData);2===e.action||3===e.action||4===e.action||e.action}t=e.messages,s.setState({journalPromptsErrors:t,getJournalPromptsStatus:3})},s.journalPromptsCallback=function(e){s.setState({journalValidPrompts:e,getJournalPromptsStatus:2})},s.getJournalPrompts=function(){if(void 0!==s.props.currentUser){!function(e,t){var a={headers:{Authorization:"JWT ".concat(x)}};g.get("/getValidPrompts",a).then((function(t){e(t.data)})).catch((function(e){var a=D(e);t(a)}))}(s.journalPromptsCallback,s.journalPromptsFailure),s.setState({getJournalPromptsStatus:1})}else s.triggerLogout()},s.checkActiveUserFailure=function(e){var t;if(0===e.action)console.log("WHY");else{if(1===e.action)return void s.props.refreshToken(s.loadData);2===e.action||3===e.action||4===e.action||e.action}t=e.messages,s.setState({checkActiveUserStatus:3,checkActiveUserError:t})},s.checkActiveUserCallback=function(e){!0===e?s.setState({checkActiveUserStatus:2}):s.props.history.push(s.props.activateRedirect)},s.checkActiveUser=function(){void 0!==s.props.currentUser?(!function(e,t){var a={headers:{Authorization:"JWT ".concat(x),"Content-Type":"application/json",accept:"application/json"}};g.get("/userIsActive",a).then((function(t){e(t.data[0].isActive)})).catch((function(e){var a=D(e);t(a)}))}(s.checkActiveUserCallback,s.checkActiveUserFailure),s.setState({checkActiveUserStatus:1})):s.triggerLogout()},s.journalDatesFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return void s.props.refreshToken(s.loadData);2===e.action||3===e.action||4===e.action||e.action}t=e.messages,s.setState({getJournalDatesStatus:3,getJournalDatesError:t})},s.journalDatesCallback=function(e,t){s.setState({validJournalDates:e,validJournalScanDates:t,getJournalDatesStatus:2})},s.getValidJournalDates=function(){if(void 0!==s.props.currentUser){!function(e,t){var a={headers:{Authorization:"JWT ".concat(x)}};g.get("/getJournalDates",a).then((function(t){var a=new Date,s=a.getFullYear()+"-"+a.getMonth()+"-"+a.getDate(),n=[],r=[];for(var i in t.data){var c=new Date(t.data[i].forDate),o=c.getFullYear()+"-"+c.getMonth()+"-"+(c.getDate()+1);t.data[i].hasAI?(o in r?n[o].push(t.data[i].usedPromptKey):n[o]=[t.data[i].usedPromptKey],s===o&&("today"in n?n.today.push(t.data[i].usedPromptKey):n.today=[t.data[i].usedPromptKey])):(o in r?r[o].push(t.data[i].usedPromptKey):r[o]=[t.data[i].usedPromptKey],s===o&&("today"in r?r.today.push(t.data[i].usedPromptKey):r.today=[t.data[i].usedPromptKey]))}e(r,n)})).catch((function(e){var a=D(e);t(a)}))}(s.journalDatesCallback,s.journalDatesFailure),s.setState({getJournalDatesStatus:1})}else s.triggerLogout()},s.nonJournalDatesFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return void s.props.refreshToken(s.loadData);2===e.action||3===e.action||4===e.action||e.action}t=e.messages,s.setState({getNonJournalDatesStatus:3,getNonJournalDatesError:t})},s.nonJournalDatesCallback=function(e){s.setState({validNonJournalDates:e,getNonJournalDatesStatus:2})},s.getValidNonJournalDates=function(){if(void 0!==s.props.currentUser){!function(e,t){var a={headers:{Authorization:"JWT ".concat(x)}};g.get("/getNonJournalDates",a).then((function(t){var a=new Date,s=a.getFullYear()+"-"+a.getMonth()+"-"+a.getDate(),n=[];for(var r in t.data){var i=new Date(t.data[r].forDate),c=i.getFullYear()+"-"+i.getMonth()+"-"+(i.getDate()+1);c in n?n[c].push(t.data[r].usedPromptKey):n[c]=[t.data[r].usedPromptKey],s===c&&("today"in n?n.today.push(t.data[r].usedPromptKey):n.today=[t.data[r].usedPromptKey])}e(n)})).catch((function(e){var a=D(e);t(a)}))}(s.nonJournalDatesCallback,s.nonJournalDatesFailure),s.setState({getNonJournalDatesStatus:1})}else s.triggerLogout()},s.companyListFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return void s.props.refreshToken(s.loadData);2===e.action||3===e.action||4===e.action||e.action}t=e.messages,s.setState({getUserCompanyPermsAppStatus:3,getUserCompanyPermsAppError:t})},s.companyListCallback=function(e){s.setState({userLoadedCompanyList:e,getUserCompanyPermsAppStatus:2});var t=0,a=-1;for(var n in e){var r=e[n].perm.indexOf(0),i=e[n].perm.indexOf(1);(r>-1||i>-1)&&(t+=1,a=i,r>-1&&(a=r))}1===t&&t>-1&&s.getCompanyDataRequest(e[a])},s.getUserCompanyPermsApp=function(){if(void 0!==s.props.currentUser){!function(e,t,a){var s={headers:{Authorization:"JWT ".concat(x)}};g.get("/getUsersPermissionTree?reqPerms="+e,s).then((function(e){t(e.data.divList)})).catch((function(e){var t=D(e);a(t)}))}(["admin","view","send","gov"],s.companyListCallback,s.companyListFailure),s.setState({getUserCompanyPermsAppStatus:1})}else s.triggerLogout()},s.companyDatesFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return void s.props.refreshToken(s.getThatData);2===e.action||3===e.action||4===e.action||e.action}t=e.messages,s.setState({getCompanyValidDatesStatus:3,getCompanyValidDatesError:t})},s.companyDatesCallback=function(e){s.setState({validCompanySummaryDates:e,getCompanyValidDatesStatus:2})},s.getCompanyValidDates=function(){if(-1!==s.state.currentDivisionID){!function(e,t,a){var s={headers:{Authorization:"JWT ".concat(x)}};g.get("/getCompanyDates/?reqDiv="+e,s).then((function(e){var a={},s="";for(s in e.data){var n=S[e.data[s].summaryType];n in a||(a[n]=[]),a[n].push({date:e.data[s].forDate,num:e.data[s].hasPrompts})}t(a)})).catch((function(e){var t=D(e);a(t)}))}(s.state.currentDivisionID,s.companyDatesCallback,s.companyDatesFailure),s.setState({getCompanyValidDatesStatus:1})}},s.companySuggestionDateFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return void s.props.refreshToken(s.getThatData);2===e.action||3===e.action||4===e.action||e.action}t=e.messages,s.setState({getCompanyValidSuggestionDatesStatus:3,getCompanyValidSuggestionDatesError:t})},s.companySuggestionDateCallback=function(e){s.setState({validDivisionSuggestionDates:e,getCompanyValidSuggestionDatesStatus:2})},s.getCompanyValidSuggestionDates=function(){if(-1!==s.state.currentDivisionID){!function(e,t,a){var s={headers:{Authorization:"JWT ".concat(x)}};g.get("/getCompanySuggestionDates/?reqDiv="+e,s).then((function(e){var a=[],s="";for(s in e.data){var n=new Date(e.data[s]),r=n.getFullYear()+"-"+n.getMonth()+"-"+(n.getDate()+1);a.push(r)}t(a)})).catch((function(e){var t=D(e);a(t)}))}(s.state.currentDivisionID,s.companySuggestionDateCallback,s.companySuggestionDateFailure),s.setState({getCompanyValidSuggestionDatesStatus:1})}},s.companySuggestionDataFailure=function(e){var t;0===e.action||(1===e.action?s.props.refreshToken(s.tokenHasRefreshed):2===e.action||3===e.action||4===e.action||e.action),t=e.messages,s.setState({getCompanySuggestionDataStatus:3,getCompanySuggestionDataError:t})},s.companySuggestionDataCallback=function(e,t){var a=new Date(e);s.setState({selectedSuggestDay:a,selectedSuggestDayData:t,getCompanySuggestionDataStatus:2})},s.getCompanySuggestionData=function(e){if(-1!==s.state.currentDivisionID){s.setState({getCompanySuggestionData:e});!function(e,t,a,s){var n={headers:{Authorization:"JWT ".concat(x)}},r=t.toJSON().split("T")[0];g.get("/getCompanySuggestionData?reqDiv="+e+"&reqDate="+r,n).then((function(e){a(t,e.data)})).catch((function(e){var t=D(e);s(t)}))}(s.state.currentDivisionID,e,s.companySuggestionDataCallback,s.companySuggestionDataFailure),s.setState({getCompanySuggestionDataStatus:1})}else s.setState({})},s.companyDataFailure=function(e){var t;0===e.action||(1===e.action?s.props.refreshToken(s.tokenHasRefreshed):2===e.action||3===e.action||4===e.action||e.action),t=e.messages,s.setState({getCompanyWeeklySummaryStatus:3,getCompanyWeeklySummaryError:t})},s.companyDataCallback=function(e,t){s.setState({companyMessage:"Showing Summary for: "+s.state.currentDivisionID+" On: "+s.state.selectedCompanyDate.toString(),selectedSummaryWeekData:e,currentCompanyDataType:t,currentCompanyDataName:s.state.currentDivisionName,currentCompanyDataID:s.state.currentDivisionID,getCompanyWeeklySummaryStatus:2})},s.getCompanyWeeklySummary=function(e){if(-1!==s.state.currentDivisionID){!function(e,t,a,s,n){var r=new Date(a.getTime()).toJSON().split("T")[0],i={headers:{Authorization:"JWT ".concat(x)}};g.get("/getCompanySummary/?reqDate="+r+"&reqDiv="+e+"&type="+t,i).then((function(e){s(e.data[0],t)})).catch((function(e){var t=D(e);n(t)}))}(s.state.currentDivisionID,0,e,s.companyDataCallback,s.companyDataFailure),s.setState({getCompanyWeeklySummaryStatus:1,selectedCompanyDate:e,currentCompanyDataName:void 0,currentCompanyDataType:void 0,selectedSummaryWeekData:{}})}},s.tokenHasRefreshed=function(){console.log("Tell the user to redo that!")},s.companyEHIFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return void s.props.refreshToken(s.getThatData);2===e.action||3===e.action||4===e.action||e.action}t=e.messages,s.setState({getCompanyEHIDataStatus:3,getCompanyEHIDataError:t})},s.companyEHICallback=function(e){s.setState({EHIData:e,getCompanyEHIDataStatus:2})},s.getCompanyEHIData=function(){if(-1!==s.state.currentDivisionID){!function(e,t,a){var s={headers:{Authorization:"JWT ".concat(x)}};g.get("/getCompanyEHI/?reqDiv="+e,s).then((function(e){e.data.length>0?t(e.data[0].EHIstorage):a()})).catch((function(e){var t=D(e);a(t)}))}(s.state.currentDivisionID,s.companyEHICallback,s.companyEHIFailure),s.setState({getCompanyEHIDataStatus:1})}},s.getDivisionWebDatesFailure=function(e){if(0===e.action);else{if(1===e.action)return void s.props.refreshToken(s.getDivisionWebDates);e.action}s.setState({getDatesWebStatus:3,getDatesWebError:e.messages})},s.getDivisionWebDatesCallback=function(e){s.setState({validDivisionWebDates:e,getDatesWebStatus:2})},s.getDivisionWebDates=function(){if(-1!==s.props.currentDivisionID){!function(e,t,a){var s={headers:{Authorization:"JWT ".concat(x)}};g.get("/getWebDates/?reqDiv="+e,s).then((function(e){t(e.data)})).catch((function(e){var t=D(e);a(t)}))}(s.state.currentDivisionID,s.getDivisionWebDatesCallback,s.getDivisionWebDatesFailure),s.setState({getDatesWebStatus:1})}else s.props.history.push(s.props.reRouteTarget)},s.getThatData=function(){s.clearCompanyData(),s.getCompanyEHIData(),s.getCompanyValidDates(),s.getCompanyValidSuggestionDates(),s.getDivisionWebDates()},s.getCompanyDataRequest=function(e){var t=e.perm.indexOf(0)>-1,a=e.perm.indexOf(1)>-1;t?s.props.changeCompanyMenuItems(2):a&&s.props.changeCompanyMenuItems(1),t||a?(s.setState({currentDivisionName:e.name,currentDivisionID:e.id,currentDivisionPerms:e.perm},s.getThatData),s.props.changeMenuCompanyName(e.name)):s.setState({getCompanyDataStatus:!1})},s.changeCompanyPrompt=function(e){s.setState({selectedCompanyPrompt:e.currentTarget.value})},s.changeCompanyAspect=function(e){s.setState({selectedCompanyAspect:e.currentTarget.value})},s.changeCompanyDay=function(e){s.setState({selectedCompanyDay:e.currentTarget.value})},s.state={currentDate:new Date,validJournalDates:[],validJournalScanDates:[],selectedCompanyDate:new Date,selectedSuggestionDate:new Date,EHIData:[],selectedCompanyDay:"mon",selectedCompanyPrompt:"misc",selectedCompanyAspect:"emotion",companyMessage:"Choose a date and company to view that summary!",currentDivisionID:-1,currentDivisionName:"None",currentCompanyDataName:void 0,currentCompanyDataType:void 0,selectedSummaryWeekData:{},validCompanySummaryDates:[],selectedSuggestDay:!1,selectedSuggestDayData:[],validDivisionSuggestionDates:[],validDivisionWebDates:[],getDatesWebStatus:0,getDatesWebError:[],lastGovernedCompanyRequestStatus:void 0,userLoadedCompanyList:[],checkActiveUserStatus:0,checkActiveUserError:[],getJournalDatesStatus:0,getJournalDatesError:[],getUserCompanyPermsAppStatus:0,getUserCompanyPermsAppError:[],getCompanyValidDatesStatus:0,getCompanyValidDatesError:[],getCompanyValidSuggestionDatesStatus:0,getCompanyValidSuggestionDatesError:[],getCompanyEHIDataStatus:0,getCompanyEHIDataError:[],getCompanySuggestionDataStatus:0,getCompanySuggestionDataError:[],getCompanyWeeklySummaryStatus:0,getCompanyWeeklySummaryError:[],getCompanyDataStatus:!0,journalValidPrompts:[],journalPromptsErrors:[],getJournalPromptsStatus:0,validNonJournalDates:[],getNonJournalDatesError:[],getNonJournalDatesStatus:0},s}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=1===this.state.getJournalPromptsStatus||1===this.state.checkActiveUserStatus||1===this.state.getJournalDatesStatus||1===this.state.getUserCompanyPermsAppStatus;return Object(G.jsx)("div",{className:"contentPages",children:Object(G.jsxs)("div",{className:"container-fluid",children:[Object(G.jsxs)(u.c,{children:[Object(G.jsx)(u.a,{path:this.props.match.url,exact:!0,component:function(){return Object(G.jsx)(Oe,{toUserPage:e.props.match.url+"/userMode/journalWrite",toCompanyPage:e.props.match.url+"/companyMode/companySelect",userLoadedCompanyList:e.state.userLoadedCompanyList})}}),Object(G.jsx)(u.a,{path:this.props.match.url+"/userMode",component:function(){return Object(G.jsx)(jt,{reRouteUser:e.props.reRouteUser,currentDate:e.state.currentDate,refreshToken:e.props.refreshToken,currentUser:e.props.currentUser,loadCompanyData:e.loadData,validNonJournalDates:e.state.validNonJournalDates,validJournalDates:e.state.validJournalDates,validJournalScanDates:e.state.validJournalScanDates,lastGovernedCompanyRequestStatus:e.state.lastGovernedCompanyRequestStatus,disableMenu:e.props.disableMenu,activateUserMenu:e.props.activateUserMenu,userLoadedCompanyList:e.state.userLoadedCompanyList,journalValidPrompts:e.state.journalValidPrompts,journalPromptsErrors:e.state.journalPromptsErrors})}}),Object(G.jsx)(u.a,{path:this.props.match.url+"/companyMode",component:function(){return Object(G.jsx)(ea,{refreshToken:e.props.refreshToken,reRouteCompany:e.props.reRouteCompany,userLoadedCompanyList:e.state.userLoadedCompanyList,resetCompanySelectStatus:e.resetCompanySelectStatus,currentDate:e.state.currentDate,currentDivisionName:e.state.currentDivisionName,getCompanyDataRequest:e.getCompanyDataRequest,currentDivisionID:e.state.currentDivisionID,selectedCompanyDate:e.state.selectedCompanyDate,validDivisionWebDates:e.state.validDivisionWebDates,validDivisionSuggestionDates:e.state.validDivisionSuggestionDates,selectedSuggestDay:e.state.selectedSuggestDay,selectedSuggestDayData:e.state.selectedSuggestDayData,getCompanySuggestionData:e.getCompanySuggestionData,EHIData:e.state.EHIData,currentCompanyDataName:e.state.currentCompanyDataName,currentCompanyDataType:e.state.currentCompanyDataType,validCompanySummaryDates:e.state.validCompanySummaryDates,companyMessage:e.state.companyMessage,selectedSummaryWeekData:e.state.selectedSummaryWeekData,selectedCompanyDay:e.state.selectedCompanyDay,selectedCompanyPrompt:e.state.selectedCompanyPrompt,selectedCompanyAspect:e.state.selectedCompanyAspect,changeCompanyPrompt:e.changeCompanyPrompt,changeCompanyAspect:e.changeCompanyAspect,changeCompanyDay:e.changeCompanyDay,changeSelectedCompany:e.changeSelectedCompany,getCompanyValidDates:e.getCompanyValidDates,getCompanyWeeklySummary:e.getCompanyWeeklySummary,loadCompanyData:e.loadData,disableMenu:e.props.disableMenu,activateCompanyMenu:e.props.activateCompanyMenu,getCompanyDataStatus:e.state.getCompanyDataStatus,getCompanyValidDatesStatus:e.state.getCompanyValidDatesStatus,getCompanyValidDatesError:e.state.getCompanyValidDatesError,getCompanyValidSuggestionDatesStatus:e.state.getCompanyValidSuggestionDatesStatus,getCompanyValidSuggestionDatesError:e.state.getCompanyValidSuggestionDatesError,getCompanyEHIDataStatus:e.state.getCompanyEHIDataStatus,getCompanyEHIDataError:e.state.getCompanyEHIDataError,getCompanySuggestionDataStatus:e.state.getCompanySuggestionDataStatus,getCompanySuggestionDataError:e.state.getCompanySuggestionDataError,getCompanyWeeklySummaryStatus:e.state.getCompanyWeeklySummaryStatus,getCompanyWeeklySummaryError:e.state.getCompanyWeeklySummaryError,getDatesWebStatus:e.state.getDatesWebStatus,getDatesWebError:e.state.getDatesWebError})}})]}),Object(G.jsx)("div",{className:"container",children:Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)(j.a,{show:t,variant:"warning",children:[Object(G.jsx)(j.a.Heading,{children:"Waiting"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"Waiting for server..."}),Object(G.jsx)("hr",{})]})})})})]})})}}]),a}(n.a.Component)),xe=Object(u.f)(ge),Oe=Object(u.f)((function(e){return Object(G.jsx)("div",{className:"defaultView",children:Object(G.jsx)("div",{className:"container",children:Object(G.jsx)("div",{className:"row my-5",children:Object(G.jsx)("div",{className:"col m-1",children:Object(G.jsxs)("div",{className:"card shadow",children:[Object(G.jsx)("div",{className:"card-header",children:Object(G.jsx)("h3",{children:"This is an empty dashboard for the time being..."})}),Object(G.jsxs)("div",{className:"card-body",children:[Object(G.jsx)(h.b,{className:"list-group-item",to:e.toUserPage,children:"Go To User Mode"}),e.userLoadedCompanyList.length>0?Object(G.jsx)(h.b,{className:"list-group-item",to:e.toCompanyPage,children:"Go to Company Mode"}):Object(G.jsx)("div",{className:"list-group-item",children:"No Companies to view!"})]})]})})})})})})),fe=a(14),Ne=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={btnLen:2},s}return Object(o.a)(a,[{key:"render",value:function(){var e="",t="";this.props.activePage<=0&&(e="disabled"),this.props.activePage>=this.props.totalLoaded/this.props.numPerPage-1&&(t="disabled");for(var a=[],s=-this.state.btnLen;s<=this.state.btnLen;s++){var n="",r=s+this.props.activePage;r<0||r>=this.props.totalLoaded/this.props.numPerPage||(0===s&&(n="active "),a.push(Object(G.jsx)("button",{className:"btn btn-outline-primary "+n,value:r,onClick:this.props.changeToNum,children:r},s)))}return Object(G.jsx)("div",{className:"paginator",children:Object(G.jsx)("div",{className:"container",children:Object(G.jsx)("div",{className:"row",children:Object(G.jsxs)("div",{className:"col",children:[Object(G.jsx)("button",{className:"btn btn-outline-primary "+e,value:"bck",onClick:this.props.changePrevNext,children:"Prev"}),a,Object(G.jsx)("button",{className:"btn btn-outline-primary "+t,value:"fwd",onClick:this.props.changePrevNext,children:"Next"})]})})})})}}]),a}(n.a.Component),Se={editor:{border:"1px solid gray",minHeight:"6em",textAlign:"left"}},ye=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).onToggle=function(t){t.preventDefault(),e.props.onToggle(e.props.style)},e}return Object(o.a)(a,[{key:"render",value:function(){var e="btn btn-outline-primary";return this.props.active&&(e+=" active"),Object(G.jsx)("button",{className:e,onMouseDown:this.onToggle,children:this.props.label})}}]),a}(n.a.Component),De=[{label:"H1",style:"header-one"},{label:"H2",style:"header-two"},{label:"H3",style:"header-three"},{label:"H4",style:"header-four"},{label:"H5",style:"header-five"},{label:"H6",style:"header-six"},{label:"UL",style:"unordered-list-item"},{label:"OL",style:"ordered-list-item"}],Ce=function(e){var t=e.editorState,a=t.getSelection(),s=t.getCurrentContent().getBlockForKey(a.getStartKey()).getType();return Object(G.jsx)("div",{className:"RichEditor-controls",children:De.map((function(t){return Object(G.jsx)(ye,{active:t.style===s,label:t.label,onToggle:e.onToggle,style:t.style},t.label)}))})},we=[{label:"Bold",style:"BOLD"},{label:"Italic",style:"ITALIC"},{label:"Underline",style:"UNDERLINE"}],ke=function(e){var t=e.editorState.getCurrentInlineStyle();return Object(G.jsx)("div",{className:"RichEditor-controls",children:we.map((function(a){return Object(G.jsx)(ye,{active:t.has(a.style),label:a.label,onToggle:e.onToggle,style:a.style},a.label)}))})},Ee=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).initializeSubList=function(){var e=[];for(var t in s.props.userLoadedCompanyList){var a=-1;for(var n in s.props.userLoadedCompanyList[t].perm)3===s.props.userLoadedCompanyList[t].perm[n]&&(a=3);a>=0&&a<4&&e.push(s.props.userLoadedCompanyList[t])}return e},s.toggleBlockType=function(e){s.props.onChange(fe.RichUtils.toggleBlockType(s.props.editorState,e))},s.toggleInlineStyle=function(e){s.props.onChange(fe.RichUtils.toggleInlineStyle(s.props.editorState,e))},s.handleKeyCommand=function(e,t){var a=fe.RichUtils.handleKeyCommand(t,e);return a?(s.props.onChange(a),"handled"):"not-handled"},s.changePageTo=function(e){var t=Number(e.target.value);s.setState({pageNum:t})},s.changePageFwdBck=function(e){var t=Number(s.state.pageNum);if("fwd"===e.target.value){if((t+=1)>s.state.subList.length/s.state.numPerPage)return}else if("bck"===e.target.value&&(t-=1)<0)return;s.setState({pageNum:t})},s.setCompany=function(e){s.props.setSuggestionDivision(Number(e.target.value))},s.state={pageNum:0,numPerPage:3,numChooseLimit:5,subList:s.initializeSubList()},s.focusMe=function(){return s.refs.editor.focus()},s}return Object(o.a)(a,[{key:"render",value:function(){var e=[],t="No Valid Company!",a=0;for(var s in this.props.userLoadedCompanyList)this.props.currentDivisionID===this.props.userLoadedCompanyList[s].id&&(t=this.props.userLoadedCompanyList[s].name,this.props.userLoadedCompanyList[s].perm.indexOf(3)&&(a=1));for(var n=0;n<this.state.numPerPage;n++){var r=n+this.state.pageNum*this.state.numPerPage;r>this.state.subList.length||r<0||void 0!==this.state.subList[r]&&e.push(Object(G.jsxs)("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[Object(G.jsx)("div",{className:"col",children:this.state.subList[r].fullname}),Object(G.jsx)("div",{className:"col-2",children:Object(G.jsx)("button",{className:"btn btn-primary",value:this.state.subList[r].id,onClick:this.setCompany,children:"Choose!"})})]},n))}0===e.length&&e.push(Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:"No Companies! If you see this page then this is an error!"})},"0"));var i="btn ";i+=a>0?"btn-success":"btn-danger";var c="";!1===this.props.lastRequestStatus&&(c=" bg-danger");var o=1===this.props.postSuggestionStatus,l=2===this.props.postSuggestionStatus,d=3===this.props.postSuggestionStatus,h=[];for(var u in this.props.suggestionErrors)h.push(this.props.suggestionErrors[u].text);return 0===h.length&&h.push("Unknown!"),Object(G.jsx)("div",{className:"makeView",children:Object(G.jsxs)("div",{className:"container-fluid",children:[Object(G.jsx)("div",{className:"row my-2",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"card shadow",children:[Object(G.jsx)("div",{className:"card-header",children:Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col my-2",children:Object(G.jsx)("div",{className:c,children:"Select Part of Company:"})})})}),Object(G.jsxs)("div",{className:"card-body",children:[Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("ul",{className:"list-group",children:e})})}),Object(G.jsx)(Ne,{activePage:this.state.pageNum,changePrevNext:this.changePageFwdBck,changeToNum:this.changePageTo,totalLoaded:this.state.subList.length,numPerPage:this.state.numPerPage})]})]})})}),Object(G.jsx)("div",{className:"row my-2",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"card shadow",children:[Object(G.jsxs)("div",{className:"card-header",children:[Object(G.jsx)("h4",{children:"Writing Suggestion for:"}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col my-2",children:Object(G.jsx)("div",{className:c,children:t})})})]}),Object(G.jsxs)("div",{className:"card-body",children:[Object(G.jsx)("div",{className:"row",children:Object(G.jsxs)("div",{className:"col",children:[Object(G.jsx)(Ce,{editorState:this.props.editorState,onToggle:this.toggleBlockType}),Object(G.jsx)(ke,{editorState:this.props.editorState,onToggle:this.toggleInlineStyle})]})}),Object(G.jsxs)("div",{className:"row",children:[Object(G.jsx)("div",{className:"col-1"}),Object(G.jsx)("div",{className:"col",onClick:this.focusMe,children:Object(G.jsx)("div",{id:"align-left",children:Object(G.jsx)("div",{style:Se.editor,children:Object(G.jsx)(fe.Editor,{editorState:this.props.editorState,onChange:this.props.onChange,handleKeyCommand:this.handleKeyCommand,spellCheck:!0,placeholder:"",ref:"editor"})})})}),Object(G.jsx)("div",{className:"col-1"})]}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("button",{className:i,onMouseDown:this.props.saveToServer,children:" Save Suggestion "})})})]})]})})}),Object(G.jsxs)(j.a,{show:o,variant:"warning",children:[Object(G.jsx)(j.a.Heading,{children:"Waiting"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"Waiting for server response..."}),Object(G.jsx)("hr",{})]}),Object(G.jsxs)(j.a,{show:l,variant:"success",children:[Object(G.jsx)(j.a.Heading,{children:"Success!"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"Successfully submitted suggestion!"}),Object(G.jsx)("hr",{})]}),Object(G.jsxs)(j.a,{show:d,variant:"danger",children:[Object(G.jsx)(j.a.Heading,{children:"Danger!"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:h}),Object(G.jsx)("hr",{})]})]})})}}]),a}(n.a.Component),Pe=Object(u.f)(Ee),Ie=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).initViews=function(){var e=[];for(var t in s.props.userLoadedCompanyList)s.props.userLoadedCompanyList[t].perm.indexOf(1)>-1&&e.push(s.props.userLoadedCompanyList[t]);return e},s.initSends=function(){var e=[];for(var t in s.props.userLoadedCompanyList)s.props.userLoadedCompanyList[t].perm.indexOf(2)>-1&&e.push(s.props.userLoadedCompanyList[t]);return e},s.initGovs=function(){var e=[];for(var t in s.props.userLoadedCompanyList)s.props.userLoadedCompanyList[t].perm.indexOf(3)>-1&&e.push(s.props.userLoadedCompanyList[t]);return e},s.setCurrentData=function(e){var t=Number(e.target.value),a="No Name!",n=[],r=[],i=[];switch(e.target.name){case"gov":n.push(s.state.govSubList[t].id),a=s.state.govSubList[t].fullname;break;case"sen":r.push(s.state.viewSubList[t].id),a=s.state.viewSubList[t].fullname;break;case"vie":i.push(s.state.viewSubList[t].id),a=s.state.viewSubList[t].fullname;break;default:console.log("Failed to have the correct name")}s.setState({delGoverns:n,togSends:r,delViews:i,selectedName:a})},s.setFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return void s.props.refreshToken(s.saveChanges());2===e.action||3===e.action||4===e.action||e.action}t=e.messages,s.setState({saveChangesError:t,saveChangesStatus:3})},s.setSuccess=function(e){console.log("Set Data Success"),console.log(e),s.props.triggerRefresh(),s.setState({saveChangesStatus:2})},s.saveChanges=function(){!function(e,t,a){var s={headers:{Authorization:"JWT ".concat(x)}},n=e;g.put("/setUserProfileData/",n,s).then((function(e){var a=e.data;t(a)})).catch((function(e){var t=D(e);a(t)}))}({delViews:s.state.delViews,togEmails:s.state.togSends,delGoverns:s.state.delGoverns},s.setSuccess,s.setFailure),s.setState({delGoverns:[],togSends:[],delViews:[],selectedName:"No Name!",saveChangesStatus:1})},s.state={delViews:[],togSends:[],delGoverns:[],viewSubList:s.initViews(),sendSubList:s.initSends(),govSubList:s.initGovs(),selectedName:"No Name!",saveChangesStatus:0,saveChangesError:[]},s}return Object(o.a)(a,[{key:"render",value:function(){var e=[];if(this.state.viewSubList.length>0)for(var t in this.state.viewSubList){var a="",s=this.state.sendSubList.indexOf(this.state.viewSubList[t]);s>=0&&(a="bg-info"),(s=this.state.togSends.indexOf(this.state.viewSubList[t].id))>=0&&(a="bg-warning"),(s=this.state.delViews.indexOf(this.state.viewSubList[t].id))>=0&&(a="bg-danger"),e.push(Object(G.jsxs)("li",{className:"list-group-item d-flex justify-content-around "+a,children:[Object(G.jsx)("div",{className:"col alignOverride",children:this.state.viewSubList[t].fullname}),Object(G.jsx)("div",{className:"col-2",children:Object(G.jsx)("button",{className:"badge badge-success badge-pill",name:"sen",value:t,"data-toggle":"modal","data-target":"#viewToggleConfirm",onClick:this.setCurrentData,children:"View"})}),Object(G.jsx)("div",{className:"col-1",children:Object(G.jsx)("button",{className:"badge badge-danger badge-pill",name:"vie",value:t,"data-toggle":"modal","data-target":"#deleteConfirm",onClick:this.setCurrentData,children:"X"})})]},t))}else e.push(Object(G.jsx)("li",{className:"list-group-item d-flex justify-content-around",children:"None!"},0));var n=[];if(this.state.govSubList.length>0)for(var r in this.state.govSubList){var i="";this.state.delGoverns.indexOf(this.state.govSubList[r].id)>=0&&(i="bg-danger"),n.push(Object(G.jsxs)("li",{className:"list-group-item d-flex justify-content-around "+i,children:[Object(G.jsx)("div",{className:"col alignOverride",children:this.state.govSubList[r].fullname}),Object(G.jsx)("div",{className:"col-1",children:Object(G.jsx)("button",{className:"badge badge-danger badge-pill",name:"gov",value:r,"data-toggle":"modal","data-target":"#deleteConfirm",onClick:this.setCurrentData,children:"X"})})]},r))}else n.push(Object(G.jsx)("li",{className:"list-group-item d-flex justify-content-around",children:"None!"},0));var c=1===this.state.saveChangesStatus,o=3===this.state.saveChangesStatus,l=[];for(var d in this.state.saveChangesError)l.push(this.state.saveChangesError[d].text);return 0===l.length&&l.push("Unknown!"),Object(G.jsx)("div",{className:"defaultView",children:Object(G.jsxs)("div",{className:"container",children:[Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"card shadow",children:[Object(G.jsx)("div",{className:"card-header",children:Object(G.jsx)("h5",{children:"Companies you can View data for"})}),Object(G.jsx)("div",{className:"card-body",children:Object(G.jsx)("ul",{className:"list-group",children:e})})]})})}),Object(G.jsx)("div",{className:"row",children:Object(G.jsxs)("div",{className:"col",children:[Object(G.jsxs)("div",{className:"card shadow",children:[Object(G.jsx)("div",{className:"card-header",children:Object(G.jsx)("h5",{children:"Companies getting your Journal Info"})}),Object(G.jsx)("div",{className:"card-body",children:Object(G.jsx)("ul",{className:"list-group",children:n})})]}),Object(G.jsxs)(j.a,{show:c,variant:"warning",children:[Object(G.jsx)(j.a.Heading,{children:"Waiting"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"Waiting for server response..."}),Object(G.jsx)("hr",{})]}),Object(G.jsxs)(j.a,{show:!1,variant:"success",children:[Object(G.jsx)(j.a.Heading,{children:"Success!"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"Success!"}),Object(G.jsx)("hr",{})]}),Object(G.jsxs)(j.a,{show:o,variant:"danger",children:[Object(G.jsx)(j.a.Heading,{children:"Danger!"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:l}),Object(G.jsx)("hr",{})]})]})}),Object(G.jsx)("div",{className:"modal fade",id:"deleteConfirm",tabIndex:"-1",role:"dialog","aria-labelledby":"deleteConfirmation","aria-hidden":"true",children:Object(G.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:Object(G.jsxs)("div",{className:"modal-content",children:[Object(G.jsxs)("div",{className:"modal-header",children:[Object(G.jsx)("h5",{className:"modal-title",id:"deleteTitleConfirm",children:"Delete Confirmation"}),Object(G.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(G.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(G.jsxs)("div",{className:"modal-body",children:[Object(G.jsx)("div",{children:"Are you SURE you want to revoke permission for:"}),Object(G.jsxs)("div",{children:[this.state.selectedName,"?"]}),Object(G.jsx)("div",{children:"You will need to be invited back!"})]}),Object(G.jsxs)("div",{className:"modal-footer",children:[Object(G.jsx)("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal",onClick:this.saveChanges,children:"Yes"}),Object(G.jsx)("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal",children:"No"})]})]})})}),Object(G.jsx)("div",{className:"modal fade",id:"viewToggleConfirm",tabIndex:"-1",role:"dialog","aria-labelledby":"viewToggleConfirm","aria-hidden":"true",children:Object(G.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:Object(G.jsxs)("div",{className:"modal-content",children:[Object(G.jsxs)("div",{className:"modal-header",children:[Object(G.jsx)("h5",{className:"modal-title",id:"deleteTitleConfirm",children:"Toggle Notification Confirmation"}),Object(G.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(G.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(G.jsxs)("div",{className:"modal-body",children:[Object(G.jsx)("div",{children:"Are you SURE you want to toggle notifications for:"}),Object(G.jsxs)("div",{children:[this.state.selectedName,"?"]})]}),Object(G.jsxs)("div",{className:"modal-footer",children:[Object(G.jsx)("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal",onClick:this.saveChanges,children:"Yes"}),Object(G.jsx)("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal",children:"No"})]})]})})})]})})}}]),a}(n.a.Component),Te=Object(u.f)(Ie),Fe=a(42),Le=(a(77),a(15)),Ae=a(543),We=a(546),Je=a(548),Ue=a(544),Me=a(549),Re=function(e){return[e.joy,e.anger,e.sadness,e.disgust,e.fear]},He=[{name:"Emotion",value:"emotion"},{name:"Sentiment",value:"sentiment"},{name:"Entities",value:"entities"},{name:"Keywords",value:"keywords"}],Ve={editor:{minHeight:"6em",textAlign:"left"}},Be=function(e){var t=[];for(var a in e.promptQuestions){var s="outline-";Number(e.selected)===Number(a)&&(s=""),t.push(Object(G.jsx)("button",{type:"button",value:a,className:"btn disabled btn-"+s+"primary",children:e.promptQuestions[a]},a))}return Object(G.jsx)("div",{className:"MultiIteration",children:t})},Ge=function(e){var t=["outline-","outline-","outline-","outline-","outline-","outline-"];e.selected>=0&&e.selected<t.length&&(t[e.selected]="");var a=[];for(var s in t)a.push(Object(G.jsx)("button",{type:"button",value:s,className:"btn disabled btn-"+t[s]+"primary",children:s},s));return Object(G.jsx)("div",{className:"RatingIteration",children:a})},qe=function(e){var t=["outline-","outline-","outline-","outline-","outline-"];e.selected>=0&&e.selected<t.length&&(t[e.selected]="");var a=[];for(var s in t)a.push(Object(G.jsx)("button",{type:"button",value:s,className:"btn disabled btn-"+t[s]+"primary",children:s-2},s));return Object(G.jsxs)("div",{className:"LikertIteration",children:[Object(G.jsx)("span",{className:"btn btn-link disabled",disabled:!0,children:"Highly Disagree"}),a,Object(G.jsx)("span",{className:"btn btn-link disabled",disabled:!0,children:"Highly Agree"})]})},ze=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).setAspect=function(e){s.setState({selectedAspect:e.currentTarget.value})},s.state={selectedAspect:"emotion"},s}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=fe.EditorState.createEmpty();if(void 0!==this.props.richText){var a=Object(fe.convertFromRaw)(this.props.richText);t=fe.EditorState.createWithContent(a)}var s=[],n=[],r=this.props.AIresults;if(null!==r&&void 0!==r&&this.state.selectedAspect in r){var i=r[this.state.selectedAspect];switch(this.state.selectedAspect){case"emotion":var c=Re(i.document.emotion),o=W(c),l={scale:{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}};s.push(Object(G.jsxs)(Ae.a,{bordered:!0,responsive:!0,children:[Object(G.jsx)("thead",{children:Object(G.jsx)("tr",{children:Object(G.jsx)("th",{scope:"col",children:"Whole Journal Emotion Data"})})}),Object(G.jsx)("tbody",{children:Object(G.jsx)("tr",{children:Object(G.jsx)("td",{children:Object(G.jsx)(Le.Radar,{data:o,options:l})})},0)})]},"1"));break;case"sentiment":var d={labels:["Value"],datasets:[{label:"Value",data:[i.document.score],backgroundColor:"rgb(54, 162, 235)"}]},h={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:-1,suggestedMax:1}}],xAxes:[{}]}};s.push(Object(G.jsxs)(Ae.a,{bordered:!0,responsive:!0,children:[Object(G.jsx)("thead",{children:Object(G.jsx)("tr",{children:Object(G.jsx)("th",{scope:"col",children:"Whole Journal Sentiment Data"})})}),Object(G.jsx)("tbody",{children:Object(G.jsx)("tr",{children:Object(G.jsx)("td",{children:Object(G.jsx)(Le.Bar,{data:d,options:h})})},0)})]},"1"));break;case"entities":for(var u in i){var j=i[u],m=Re(j.emotion),b=W(m),p={scale:{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}},v=H([j.confidence,j.relevance,j.sentiment.score]),g={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:-1,suggestedMax:1}}],xAxes:[{}]}};n.push(Object(G.jsxs)("tr",{children:[Object(G.jsx)("th",{scope:"row",children:j.text}),Object(G.jsx)("td",{children:j.type}),Object(G.jsx)("td",{children:j.count}),Object(G.jsx)("td",{colSpan:"3",children:Object(G.jsx)(Le.Bar,{data:v,options:g})}),Object(G.jsx)("td",{children:Object(G.jsx)(Le.Radar,{data:b,options:p})})]},u))}0===n.length&&n.push(Object(G.jsx)("tr",{children:Object(G.jsx)("td",{colSpan:"7",children:'"Nothing!"'})},0)),s.push(Object(G.jsxs)(Ae.a,{bordered:!0,responsive:!0,children:[Object(G.jsx)("thead",{children:Object(G.jsxs)("tr",{children:[Object(G.jsx)("th",{scope:"col",children:"Name"}),Object(G.jsx)("th",{scope:"col",children:"Type"}),Object(G.jsx)("th",{scope:"col",children:"#Appearances"}),Object(G.jsx)("th",{scope:"col",children:"Confidence"}),Object(G.jsx)("th",{scope:"col",children:"Relevance"}),Object(G.jsx)("th",{scope:"col",children:"Sentiment"}),Object(G.jsx)("th",{scope:"col",children:"Emotion"})]})}),Object(G.jsx)("tbody",{children:n})]},"2"));break;case"keywords":for(var x in i){var O=i[x],f=Re(O.emotion),N=W(f),S={scale:{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}},y=R([O.relevance,O.sentiment.score]),D={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:-1,suggestedMax:1}}],xAxes:[{}]}};n.push(Object(G.jsxs)("tr",{children:[Object(G.jsx)("th",{scope:"row",children:O.text}),Object(G.jsx)("td",{children:O.count}),Object(G.jsx)("td",{colSpan:"2",children:Object(G.jsx)(Le.Bar,{data:y,options:D})}),Object(G.jsx)("td",{children:Object(G.jsx)(Le.Radar,{data:N,options:S})})]},x))}0===n.length&&n.push(Object(G.jsx)("tr",{children:Object(G.jsx)("td",{colSpan:"5",children:'"Nothing!"'})},0)),s.push(Object(G.jsxs)(Ae.a,{bordered:!0,responsive:!0,children:[Object(G.jsx)("thead",{children:Object(G.jsxs)("tr",{children:[Object(G.jsx)("th",{scope:"col",children:"Name"}),Object(G.jsx)("th",{scope:"col",children:"#Appearances"}),Object(G.jsx)("th",{scope:"col",children:"Relevance Score"}),Object(G.jsx)("th",{scope:"col",children:"Sentiment"}),Object(G.jsx)("th",{scope:"col",children:"Emotion"})]})}),Object(G.jsx)("tbody",{children:n})]},"3"));break;default:console.log("Invalid AI selection somehow")}}return 0===s.length&&s.push("Nothing to display!"),Object(G.jsx)("div",{className:"JournalIteration",children:Object(G.jsxs)(We.a,{children:[Object(G.jsx)(We.a.Toggle,{as:Je.a.Header,variant:"link",eventKey:"0",children:Object(G.jsx)("div",{style:Ve.editor,children:Object(G.jsx)(fe.Editor,{editorState:t,placeholder:"Nothing Here!",readOnly:!0})})}),Object(G.jsx)(We.a.Collapse,{eventKey:"0",children:Object(G.jsx)(Je.a,{children:Object(G.jsxs)(Je.a.Body,{children:[Object(G.jsx)("div",{className:"row my-2",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)(Ue.a,{toggle:!0,children:He.map((function(t,a){return Object(G.jsx)(Me.a,{type:"radio",variant:"info",name:"radio",value:t.value,checked:e.state.selectedAspect===t.value,onChange:e.setAspect,children:t.name},a)}))})})}),Object(G.jsx)("hr",{}),Object(G.jsx)("div",{className:"row my-2",children:Object(G.jsx)("div",{className:"col",children:s})})]})})})]})})}}]),a}(n.a.Component),Ke=Object(u.f)((function(e){var t=[];for(var a in e.viewNonJournalData){var s="No Prompt Data!",n="Prompt Showing Error!";if(null!==e.viewNonJournalData[a].usedPromptKey){switch(s=e.viewNonJournalData[a].usedPromptKey.text,e.viewNonJournalData[a].usedPromptKey.promptType){case 1:n=Object(G.jsx)(qe,{selected:e.viewNonJournalData[a].chosenValue});break;case 2:n=Object(G.jsx)(Ge,{selected:e.viewNonJournalData[a].chosenValue});break;case 3:n=Object(G.jsx)(Be,{promptQuestions:e.viewNonJournalData[a].usedPromptKey.promptChoices,selected:e.viewNonJournalData[a].chosenValue})}t.push(Object(G.jsx)("div",{className:"row",children:Object(G.jsxs)("div",{className:"col",children:[Object(G.jsx)("h5",{children:s}),Object(G.jsx)("div",{children:n}),Object(G.jsx)("hr",{})]})},a))}}for(var r in e.viewJournalData){var i="No Prompt Data!",c="No Prompt!";if(null===e.viewJournalData[r].usedPromptKey||(i=e.viewJournalData[r].usedPromptKey.text,0===e.viewJournalData[r].usedPromptKey.promptType)){try{c=Object(G.jsx)(ze,{content:e.viewJournalData[r].content,richText:e.viewJournalData[r].richText,hasAI:e.viewJournalData[r].hasAI,AIresults:e.viewJournalData[r].AIresult})}catch(p){console.log("MISSING A JOURNAL'S CONTENT!")}var o=t.length;t.push(Object(G.jsx)("div",{className:"row",children:Object(G.jsxs)("div",{className:"col",children:[Object(G.jsx)("h5",{children:i}),Object(G.jsx)("div",{children:c}),Object(G.jsx)("hr",{})]})},r+o))}}var l=1===e.pickJournalCalenderDateStatus||1===e.pickNonJournalCalenderDateStatus,d=3===e.pickJournalCalenderDateStatus||3===e.pickNonJournalCalenderDateStatus,h=!1,u=[];for(var m in e.journalViewErrors)1!==e.journalViewErrors[m].mod||h||(h=!0,u.push(e.journalViewErrors[m].text));for(var b in e.nonJournalViewErrors)1!==e.nonJournalViewErrors[b].mod||h||(h=!0,u.push(e.nonJournalViewErrors[b].text));return 0===u.length&&u.push("Unknown!"),Object(G.jsx)("div",{className:"mainView",children:Object(G.jsxs)("div",{className:"container-fluid justify-content-center",children:[Object(G.jsx)("div",{className:"row m-2 justify-content-center",children:Object(G.jsx)("div",{className:"col- m-2 ",children:Object(G.jsx)("div",{children:Object(G.jsx)(Fe.a,{className:"shadow",onChange:e.pickDate,value:e.currentDate,tileClassName:function(t){var a=t.date;if("month"===t.view){var s=a.getFullYear()+"-"+a.getMonth()+"-"+a.getDate(),n=!1;for(var r in e.validJournalDates)if(s===r){n=!0;break}var i=!1;for(var c in e.validJournalScanDates)if(s===c){i=!0;break}if(!n)for(var o in e.validNonJournalDates)if(s===o){n=!0;break}if(i)return"btn btn-success";if(n)return"btn btn-warning"}},minDetail:"year",maxDetail:"month"})})})}),Object(G.jsx)("div",{className:"row m-2",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"card shadow",children:[Object(G.jsxs)("div",{className:"card-header",children:["Prompt Data for ",e.currentDate.toString()]}),Object(G.jsx)("div",{className:"card-body",children:t})]})})}),Object(G.jsxs)(j.a,{show:l,variant:"warning",children:[Object(G.jsx)(j.a.Heading,{children:"Waiting"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"Waiting for server response..."}),Object(G.jsx)("hr",{})]}),Object(G.jsxs)(j.a,{show:!1,variant:"success",children:[Object(G.jsx)(j.a.Heading,{children:"Success!"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"Successfully obtained data!"}),Object(G.jsx)("hr",{})]}),Object(G.jsxs)(j.a,{show:d,variant:"danger",children:[Object(G.jsx)(j.a.Heading,{children:"Error!"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:u}),Object(G.jsx)("hr",{})]})]})})})),Ye={editor:{border:"1px solid gray",minHeight:"6em",textAlign:"left"}},Ze=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).onToggle=function(t){t.preventDefault(),e.props.onToggle(e.props.style)},e}return Object(o.a)(a,[{key:"render",value:function(){var e="btn btn-outline-primary";return this.props.active&&(e+=" active"),Object(G.jsx)("button",{className:e,onMouseDown:this.onToggle,children:this.props.label})}}]),a}(n.a.Component),Xe=[{label:"H1",style:"header-one"},{label:"H2",style:"header-two"},{label:"H3",style:"header-three"},{label:"H4",style:"header-four"},{label:"H5",style:"header-five"},{label:"H6",style:"header-six"}],_e=function(e){var t=e.editorState,a=t.getSelection(),s=t.getCurrentContent().getBlockForKey(a.getStartKey()).getType();return Object(G.jsx)("div",{className:"RichEditor-controls",children:Xe.map((function(t){return Object(G.jsx)(Ze,{active:t.style===s,label:t.label,onToggle:e.onToggle,style:t.style},t.label)}))})},Qe=[{label:"Bold",style:"BOLD"},{label:"Italic",style:"ITALIC"},{label:"Underline",style:"UNDERLINE"}],$e=function(e){var t=e.editorState.getCurrentInlineStyle();return Object(G.jsx)("div",{className:"RichEditor-controls",children:Qe.map((function(a){return Object(G.jsx)(Ze,{active:t.has(a.style),label:a.label,onToggle:e.onToggle,style:a.style},a.label)}))})},et=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).loadData=function(){if(void 0!==s.props.initialSave)return s.props.initialSave.data},s.selectMulti=function(e){s.setState({selected:e.target.value}),s.props.saveTo(s.props.id,3,e.target.value)},s.state={selected:s.loadData()},s}return Object(o.a)(a,[{key:"render",value:function(){var e="",t="primary";this.props.alreadyDone&&(e=" disabled",t="danger");var a=[];for(var s in this.props.choices){var n="";this.state.selected===s&&(n="active"),a.push(Object(G.jsx)("button",{type:"button",onClick:this.selectMulti,value:s,className:"btn btn-outline-"+t+" "+n+e,children:this.props.choices[s]},s))}return Object(G.jsxs)("div",{className:"RatingIteration",children:[this.props.alreadyDone&&Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col text-warning",children:"Already Submitted!"})}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("div",{className:"btn-group",role:"group","aria-label":"...",children:a})})})]})}}]),a}(n.a.Component),tt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).loadData=function(){return void 0!==s.props.initialSave?s.props.initialSave.data:-1},s.selectRating=function(e){var t=Number(e.target.value);s.setState({selected:t}),s.props.saveTo(s.props.id,2,t)},s.state={selected:s.loadData()},s}return Object(o.a)(a,[{key:"render",value:function(){var e=["","","","","",""];this.state.selected>=0&&this.state.selected<e.length&&(e[this.state.selected]="active");var t="",a="primary";this.props.alreadyDone&&(t=" disabled",a="danger");var s=[];for(var n in e)s.push(Object(G.jsx)("button",{type:"button",onClick:this.selectRating,value:n,className:"btn btn-outline-"+a+" "+e[n]+t,children:n},n));return Object(G.jsxs)("div",{className:"RatingIteration",children:[this.props.alreadyDone&&Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col text-warning",children:"Already Submitted!"})}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("div",{className:"btn-group",role:"group","aria-label":"...",children:s})})})]})}}]),a}(n.a.Component),at=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).loadData=function(){return void 0!==s.props.initialSave?s.props.initialSave.data:-1},s.selectLikert=function(e){var t=Number(e.target.value);s.setState({selected:t}),s.props.saveTo(s.props.id,1,t)},s.state={selected:s.loadData()},s}return Object(o.a)(a,[{key:"render",value:function(){var e=["","","","",""];this.state.selected>=0&&this.state.selected<e.length&&(e[this.state.selected]="active");var t="",a="primary";this.props.alreadyDone&&(t=" disabled",a="danger ");var s=[];for(var n in e)s.push(Object(G.jsx)("button",{type:"button",onClick:this.selectLikert,value:n,className:"btn btn-outline-"+a+" "+e[n]+t,children:n-2},n));return Object(G.jsxs)("div",{className:"LikertIteration",children:[this.props.alreadyDone&&Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col text-warning",children:"Already Submitted!"})}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"btn-group",role:"group","aria-label":"...",children:[Object(G.jsx)("span",{className:"btn btn-link disabled",disabled:!0,children:"Highly Disagree"}),s,Object(G.jsx)("span",{className:"btn btn-link disabled",disabled:!0,children:"Highly Agree"})]})})})]})}}]),a}(n.a.Component),st=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).loadData=function(){return void 0!==s.props.initialSave?fe.EditorState.createWithContent(Object(fe.convertFromRaw)(s.props.initialSave.data.block)):fe.EditorState.createEmpty()},s.onChange=function(e){s.setState({editorState:e}),s.props.saveTo(s.props.id,0,{raw:e.getCurrentContent().getPlainText(),block:Object(fe.convertToRaw)(e.getCurrentContent())})},s.toggleBlockType=function(e){s.onChange(fe.RichUtils.toggleBlockType(s.state.editorState,e))},s.toggleInlineStyle=function(e){s.onChange(fe.RichUtils.toggleInlineStyle(s.state.editorState,e))},s.handleKeyCommand=function(e,t){var a=fe.RichUtils.handleKeyCommand(t,e);return a?(s.onChange(a),"handled"):"not-handled"},s.state={editorState:s.loadData()},s.focusMe=function(e){return s.refs.editor.focus()},s.onToggle=function(e){e.preventDefault()},s}return Object(o.a)(a,[{key:"render",value:function(){var e="";return this.props.alreadyDone&&(e="Journal Already Submitted!"),Object(G.jsxs)("div",{className:"journalIteratorContainer",children:[this.props.alreadyDone&&Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col text-warning",children:"Already Submitted!"})}),!this.props.alreadyDone&&Object(G.jsx)("div",{className:"row",children:Object(G.jsxs)("div",{className:"col",children:[Object(G.jsx)(_e,{editorState:this.state.editorState,onToggle:this.toggleBlockType}),Object(G.jsx)($e,{editorState:this.state.editorState,onToggle:this.toggleInlineStyle})]})}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",onClick:this.focusMe,children:Object(G.jsx)("div",{id:"align-left",children:Object(G.jsx)("div",{style:Ye.editor,children:Object(G.jsx)(fe.Editor,{editorState:this.state.editorState,onChange:this.onChange,handleKeyCommand:this.handleKeyCommand,spellCheck:!0,placeholder:e,readOnly:this.props.alreadyDone,ref:"editor"})})})})})]})}}]),a}(n.a.Component),nt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).journalPostFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return void s.props.refreshToken(s.saveFullSet);2===e.action||3===e.action||4===e.action||e.action}t=e.messages,s.setState({journalErrors:t,postJournalStatus:3})},s.journalPostCallback=function(e){s.setState({journalErrors:[],postJournalStatus:2})},s.postJournal=function(e,t){var a=s.props.currentDate,n=t.raw,r=t.block;if(void 0!==e)k(a,e,n,r,s.journalPostCallback,s.journalPostFailure);else{k(a,"none",n,r,s.journalPostCallback,s.journalPostFailure)}s.setState({postJournalStatus:1})},s.nonJournalPostFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return void s.props.refreshToken(s.saveFullSet);2===e.action||3===e.action||4===e.action||e.action}t=e.messages,s.setState({nonJournalErrors:t,postNonJournalStatus:3})},s.nonJournalPostCallback=function(e){s.setState({journalErrors:[],postNonJournalStatus:2})},s.postNonJournal=function(e,t){var a=s.props.currentDate;void 0!==e?(!function(e,t,a,s,n){var r=Math.random().toString(16).substr(2,8),i={headers:{Authorization:"JWT ".concat(x)}},c={shorthand:"made from the website: "+r,forDate:y(e),usedPromptKeyText:t,chosenValue:a};g.post("/saveUserNonJournal/",c,i).then((function(e){s(e.data)})).catch((function(e){var t=D(e);n(t)}))}(a,e,t,s.nonJournalPostCallback,s.nonJournalPostFailure),s.setState({postNonJournalStatus:1})):s.setState({nonJournalErrors:[{mod:-1,text:"Invalid prompt id!"}],postNonJournalStatus:3})},s.checkDataSet=function(){var e=K("promptDataSaved-"+s.props.currentUser);if(0===e);else if(2===e);else if(1!==e)return e;return{}},s.savePromptData=function(e,t,a){var n={};for(var r in s.state.promptData)n[r]=s.state.promptData[r];n[e]={type:t,data:a},s.setState({promptData:n}),Y("promptDataSaved-"+s.props.currentUser,n,1)},s.saveFullSet=function(){for(var e in s.state.promptData)void 0!==s.state.promptData[e]&&(0===s.state.promptData[e].type?s.postJournal(e,s.state.promptData[e].data):s.postNonJournal(e,s.state.promptData[e].data))},s.state={promptData:s.checkDataSet(),journalErrors:[],postJournalStatus:0,nonJournalErrors:[],postNonJournalStatus:0},s}return Object(o.a)(a,[{key:"render",value:function(){var e=[];for(var t in this.props.promptList){var a="Prompt Showing Error!",s=this.props.promptList[t].identifier,n=!1;for(var r in this.props.nonJournalPromptsDone.today)if(s===this.props.nonJournalPromptsDone.today[r].identifier){n=!0;break}for(var i in this.props.journalPromptsDone.today)if(s===this.props.journalPromptsDone.today[i].identifier){n=!0;break}for(var c in this.props.journalScanPromptsDone.today)if(s===this.props.journalScanPromptsDone.today[c].identifier){n=!0;break}switch(this.props.promptList[t].promptType){case 0:a=Object(G.jsx)(st,{initialSave:this.state.promptData[s],id:s,saveTo:this.savePromptData,alreadyDone:n});break;case 1:a=Object(G.jsx)(at,{initialSave:this.state.promptData[s],id:s,saveTo:this.savePromptData,alreadyDone:n});break;case 2:a=Object(G.jsx)(tt,{initialSave:this.state.promptData[s],id:s,saveTo:this.savePromptData,alreadyDone:n});break;case 3:a=Object(G.jsx)(et,{choices:this.props.promptList[t].promptChoices,initialSave:this.state.promptData[s],id:s,saveTo:this.savePromptData,alreadyDone:n});break;default:a="Prompt Showing Error!"}e.push(Object(G.jsxs)("div",{children:[Object(G.jsx)("div",{className:"row my-3",children:Object(G.jsxs)("div",{className:"col",children:[Object(G.jsx)("h5",{children:this.props.promptList[t].text}),Object(G.jsx)("div",{children:a})]})}),Object(G.jsx)("hr",{})]},t))}if(0===e.length){var o="misc",l=!1;for(var d in this.props.nonJournalPromptsDone.today)if(o===this.props.nonJournalPromptsDone.today[d]){l=!0;break}for(var h in this.props.journalPromptsDone.today)if(o===this.props.journalPromptsDone.today[h]){l=!0;break}for(var u in this.props.journalScanPromptsDone.today)if(o===this.props.journalScanPromptsDone.today[u]){l=!0;break}e.push(Object(G.jsxs)("div",{children:[Object(G.jsx)("div",{className:"row my-3",children:Object(G.jsxs)("div",{className:"col",children:[Object(G.jsx)("h5",{children:"No Prompts! have a free Open Ended Journal!"}),Object(G.jsx)("div",{children:Object(G.jsx)(st,{initialSave:this.state.promptData.misc,id:o,saveTo:this.savePromptData,alreadyDone:l})})]})}),Object(G.jsx)("hr",{})]},0))}var m=1===this.state.postJournalStatus||1===this.state.postNonJournalStatus,b=2===this.state.postJournalStatus||2===this.state.postNonJournalStatus,p=3===this.state.postJournalStatus||3===this.state.postNonJournalStatus,v=[];for(var g in this.state.journalErrors)v.push(this.state.journalErrors[g].text);for(var x in this.state.nonJournalErrors)v.push(this.state.nonJournalErrors[x].text);return 0===v.length&&v.push("Unknown!"),Object(G.jsx)("div",{className:"makeView",children:Object(G.jsxs)("div",{className:"container-fluid",children:[Object(G.jsxs)("div",{className:"card shadow",children:[Object(G.jsx)("div",{className:"card-header",children:Object(G.jsxs)("h4",{children:["Number of prompts today: ",this.props.promptList.length]})}),Object(G.jsxs)("div",{className:"card-body",children:[e,Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("button",{className:"btn btn-outline-primary",onMouseDown:this.saveFullSet,children:" Post Everything! "})})})]})]}),Object(G.jsxs)(j.a,{show:m,variant:"warning",children:[Object(G.jsx)(j.a.Heading,{children:"Waiting"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"Waiting for server response..."}),Object(G.jsx)("hr",{})]}),Object(G.jsxs)(j.a,{show:b,variant:"success",children:[Object(G.jsx)(j.a.Heading,{children:"Success!"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"Entry Posted!"}),Object(G.jsx)("hr",{})]}),Object(G.jsxs)(j.a,{show:p,variant:"danger",children:[Object(G.jsx)(j.a.Heading,{children:"Error!"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:v}),Object(G.jsx)("hr",{})]})]})})}}]),a}(n.a.Component),rt=Object(u.f)(nt),it=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).oldPasswordChange=function(e){s.setState({oldPassword:e.target.value})},s.newPasswordChange=function(e){s.setState({newPassword:e.target.value})},s.newPassword2Change=function(e){s.setState({newPassword2:e.target.value})},s.newEmailChange=function(e){s.setState({newEmail:e.target.value})},s.newNewFirstChange=function(e){s.setState({newFirstName:e.target.value})},s.newLastNameChange=function(e){s.setState({newLastName:e.target.value})},s.getDataFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return void s.props.refreshToken(s.getCurrentData);2===e.action||3===e.action||4===e.action||e.action}t=e.messages,s.setState({getCurrentDataError:t,getCurrentDataStatus:3})},s.getDataSuccess=function(e){s.setState({getCurrentDataStatus:2})},s.getCurrentData=function(){!function(e,t){var a={headers:{Authorization:"JWT ".concat(x)}};g.get("/getUserDetails/",a).then((function(t){var a=t.data;e(a)})).catch((function(e){var a=D(e);t(a)}))}(s.getDataSuccess,s.getDataFailure),s.setState({getCurrentDataStatus:1})},s.changeGeneralFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return void s.props.refreshToken(s.changeEmail);2===e.action||3===e.action||4===e.action||e.action}t=e.messages,s.setState({changeGeneralError:t,changeGeneralStatus:3})},s.changeGeneralSuccess=function(e){s.setState({changeGeneralStatus:2})},s.changeEmail=function(){!function(e,t,a){var s={headers:{Authorization:"JWT ".concat(x)}},n={email:e};g.put("/updateUserEmail/",n,s).then((function(e){var a=e.data;t(a)})).catch((function(e){var t=D(e);a(t)}))}(s.state.newEmail,s.changeGeneralSuccess,s.changeGeneralFailure),s.setState({newEmail:"",changeGeneralStatus:1})},s.changeName=function(){!function(e,t,a,s){var n={headers:{Authorization:"JWT ".concat(x)}},r={first_name:e,last_name:t};g.put("/updateUserName/",r,n).then((function(e){var t=e.data;a(t)})).catch((function(e){var t=D(e);s(t)}))}(s.state.newFirstName,s.state.newLastName,s.changeGeneralSuccess,s.changeGeneralFailure),s.setState({newFirstName:"",newLastName:"",changeGeneralStatus:1})},s.changePassword=function(){!function(e,t,a,s,n){var r={headers:{Authorization:"JWT ".concat(x)}},i={oldPassword:e,password:t,password2:a};g.put("/updateUserPassword/",i,r).then((function(e){var t=e.data;s(t)})).catch((function(e){var t=D(e);n(t)}))}(s.state.oldPassword,s.state.newPassword,s.state.newPassword2,s.changeGeneralSuccess,s.changeGeneralFailure),s.setState({oldPassword:"",setNewPassword:"",setNewPassword2:"",changeGeneralStatus:1})},s.state={currentEmail:"",currentFirstName:"",currentLastName:"",newEmail:"",newFirstName:"",newLastName:"",oldPassword:[],newPassword:[],newPassword2:[],getCurrentDataStatus:0,changeGeneralStatus:0,getCurrentDataError:[],changeGeneralError:[]},s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e="form-control",t="form-control",a=1===this.state.getCurrentDataStatus,s=3===this.state.getCurrentDataStatus,n=[];for(var r in this.state.getCurrentDataError)n.push(this.state.getCurrentDataError[r].text);for(var i in this.state.changeGeneralError)n.push(this.state.changeGeneralError[i].text);return 0===n.length&&n.push("Unknown!"),Object(G.jsxs)("div",{className:"userSecurty",children:[Object(G.jsxs)("div",{className:"container",children:[Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"card shadow",children:[Object(G.jsx)("div",{className:"card-header",children:Object(G.jsx)("h5",{children:"Edit User Security Details"})}),Object(G.jsx)("div",{className:"card-body",children:Object(G.jsxs)("div",{className:"list-group",children:[Object(G.jsxs)("div",{className:"list-group-item",children:[Object(G.jsx)("div",{children:this.state.currentEmail}),Object(G.jsx)("button",{className:"btn btn-primary","data-toggle":"modal","data-target":"#changeEmailModal",disabled:!0,children:"Change Email"})]}),Object(G.jsxs)("div",{className:"list-group-item",children:[Object(G.jsx)("div",{children:this.state.currentFirstName+" "+this.state.currentLastName}),Object(G.jsx)("button",{className:"btn btn-primary","data-toggle":"modal","data-target":"#changeNameModal",disabled:!0,children:"Change Name"})]}),Object(G.jsx)("div",{className:"list-group-item",children:Object(G.jsx)("button",{className:"btn btn-primary","data-toggle":"modal","data-target":"#changePasswordModal",disabled:!0,children:"Change Password"})})]})})]})})}),Object(G.jsxs)(j.a,{show:a,variant:"warning",children:[Object(G.jsx)(j.a.Heading,{children:"Waiting"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"Waiting for server response..."}),Object(G.jsx)("hr",{})]}),Object(G.jsxs)(j.a,{show:!1,variant:"success",children:[Object(G.jsx)(j.a.Heading,{children:"Success!"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"Success!"}),Object(G.jsx)("hr",{})]}),Object(G.jsxs)(j.a,{show:s,variant:"danger",children:[Object(G.jsx)(j.a.Heading,{children:"Danger!"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:n}),Object(G.jsx)("hr",{})]})]}),Object(G.jsx)("div",{className:"modal fade",id:"changeEmailModal",tabIndex:"-1",role:"dialog","aria-labelledby":"changeEmailModal","aria-hidden":"true",children:Object(G.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:Object(G.jsxs)("div",{className:"modal-content",children:[Object(G.jsxs)("div",{className:"modal-header",children:[Object(G.jsx)("h5",{className:"modal-title",id:"deleteTitleConfirm",children:"Change Email"}),Object(G.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(G.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(G.jsx)("div",{className:"modal-body",children:Object(G.jsxs)("div",{className:"form-group",children:[Object(G.jsx)("label",{id:"align-left",children:"New Email"}),Object(G.jsx)("input",{type:"email",className:e,value:this.state.newEmail,onChange:this.newEmailChange,placeholder:"Enter Email"})]})}),Object(G.jsxs)("div",{className:"modal-footer",children:[Object(G.jsx)("button",{type:"button",className:"btn btn-outline-secondary","data-dismiss":"modal",onClick:this.changeEmail,children:"Change Email"}),Object(G.jsx)("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal",children:"Cancel"})]})]})})}),Object(G.jsx)("div",{className:"modal fade",id:"changeNameModal",tabIndex:"-1",role:"dialog","aria-labelledby":"changeNameModal","aria-hidden":"true",children:Object(G.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:Object(G.jsxs)("div",{className:"modal-content",children:[Object(G.jsxs)("div",{className:"modal-header",children:[Object(G.jsx)("h5",{className:"modal-title",id:"deleteTitleConfirm",children:"Change Name"}),Object(G.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(G.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(G.jsxs)("div",{className:"modal-body",children:[Object(G.jsxs)("div",{className:"form-group",children:[Object(G.jsx)("label",{id:"align-left",children:"New First Name"}),Object(G.jsx)("input",{type:"text",className:e,value:this.state.newFirstName,onChange:this.newNewFirstChange,placeholder:"Enter New First Name"})]}),Object(G.jsxs)("div",{className:"form-group",children:[Object(G.jsx)("label",{id:"align-left",children:"New Last Name"}),Object(G.jsx)("input",{type:"text",className:e,value:this.state.newLastName,onChange:this.newLastNameChange,placeholder:"Enter New Last Name"})]})]}),Object(G.jsxs)("div",{className:"modal-footer",children:[Object(G.jsx)("button",{type:"button",className:"btn btn-outline-secondary","data-dismiss":"modal",onClick:this.changeName,children:"Change Name"}),Object(G.jsx)("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal",children:"Cancel"})]})]})})}),Object(G.jsx)("div",{className:"modal fade",id:"changePasswordModal",tabIndex:"-1",role:"dialog","aria-labelledby":"changePasswordModal","aria-hidden":"true",children:Object(G.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:Object(G.jsxs)("div",{className:"modal-content",children:[Object(G.jsxs)("div",{className:"modal-header",children:[Object(G.jsx)("h5",{className:"modal-title",id:"deleteTitleConfirm",children:"Change Password"}),Object(G.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(G.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(G.jsxs)("div",{className:"modal-body",children:[Object(G.jsxs)("div",{className:"form-group",children:[Object(G.jsx)("label",{id:"align-left",children:"Old Password"}),Object(G.jsx)("input",{type:"password",className:t,value:this.state.oldPassword,onChange:this.oldPasswordChange,placeholder:"Enter password"})]}),Object(G.jsxs)("div",{className:"form-group",children:[Object(G.jsx)("label",{id:"align-left",children:"New Password"}),Object(G.jsx)("input",{type:"password",className:t,value:this.state.newPassword,onChange:this.newPasswordChange,placeholder:"Enter password"})]}),Object(G.jsxs)("div",{className:"form-group",children:[Object(G.jsx)("label",{id:"align-left",children:"New Password (again)"}),Object(G.jsx)("input",{type:"password",className:t,value:this.state.newPassword2,onChange:this.newPassword2Change,placeholder:"Enter password"})]})]}),Object(G.jsxs)("div",{className:"modal-footer",children:[Object(G.jsx)("button",{type:"button",className:"btn btn-outline-secondary","data-dismiss":"modal",onClick:this.changePassword,children:"Change Password"}),Object(G.jsx)("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal",children:"Cancel"})]})]})})})]})}}]),a}(n.a.Component),ct=Object(u.f)(it),ot=["Invalid","Admin User","Viewing User","Governed User"],lt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).getUserInvitesFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return void s.props.refreshToken(s.getUserInvites);2===e.action||3===e.action||4===e.action||e.action}t=e.messages,s.setState({getUserInvitesErrors:t,getUserInvitesStatus:3})},s.getUserInvitesSuccess=function(e){var t=[],a=[],n=[],r=[];for(var i in e)t.push(e[i].id),a.push(e[i].getUserFullName),n.push(e[i].inviteDivision),r.push(ot[e[i].targetRole]);s.setState({inviteIDList:t,inviteNamesList:n,inviteRolesList:r,getUserInvitesStatus:2})},s.getUserInvites=function(){!function(e,t){var a={headers:{Authorization:"JWT ".concat(x)}};g.get("/getUsersInvites",a).then((function(t){var a=t.data;e(a)})).catch((function(e){var a=D(e);t(a)}))}(s.getUserInvitesSuccess,s.getUserInvitesFailure),s.setState({getUserInvitesStatus:1})},s.inviteFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return void s.props.refreshToken(s.submitCode);if(2===e.action);else if(3===e.action)for(var a in e.messages)5===e.messages[a].mod||6===e.messages[a].mod||e.messages[a].mod;else 4===e.action||e.action}t=e.messages,s.setState({submitCodeErrors:t,submitCodeStatus:3})},s.inviteSuccess=function(e,t){console.log("Invite Success"),s.setState({submitCodeStatus:2})},s.submitCode=function(){!function(e,t,a){var s={headers:{Authorization:"JWT ".concat(x)}};g.get("/useDivisionInvite?joinCode="+e,s).then((function(e){var a=e.response.data;t(a)})).catch((function(e){var t=D(e);a(t)}))}(s.state.inviteCode,s.inviteSuccess,s.inviteFailure),s.setState({submitCodeStatus:1})},s.spendInviteFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return void s.props.refreshToken(s.baseTryAgain);2===e.action||3===e.action||4===e.action||e.action}t=e.messages,s.getUserInvites(),s.props.triggerRefresh(),s.setState({spendInviteErrors:t,spendInviteStatus:3})},s.spendInviteSuccess=function(e){s.getUserInvites(),s.props.triggerRefresh(),s.setState({spendInviteStatus:2})},s.inviteYes=function(e){var t=e.target.value;T(t,1,s.spendInviteSuccess,s.spendInviteFailure),s.setState({spendInviteStatus:1})},s.inviteNo=function(e){var t=e.target.value;T(t,0,s.spendInviteSuccess,s.spendInviteFailure),s.setState({spendInviteStatus:1})},s.codeFieldChange=function(e){s.setState({inviteCode:e.target.value})},s.baseTryAgain=function(){console.log("Put Some 'Uh Oh, try again' thing here")},s.state={inviteCode:"",inviteIDList:[],inviteNamesList:[],inviteRolesList:[],getUserInvitesStatus:0,submitCodeStatus:0,spendInviteStatus:0,getUserInvitesErrors:[],submitCodeErrors:[],spendInviteErrors:[]},s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.getUserInvites()}},{key:"render",value:function(){var e=1===this.state.getUserInvitesStatus||1===this.state.spendInviteStatus||1===this.state.submitCodeStatus,t=3===this.state.getUserInvitesStatus||3===this.state.spendInviteStatus||3===this.state.submitCodeStatus,a=[];for(var s in this.state.getUserInvitesErrors)a.push(this.state.getUserInvitesErrors[s].text);for(var n in this.state.submitCodeErrors)a.push(this.state.submitCodeErrors[n].text);for(var r in this.state.spendInviteErrors)a.push(this.state.spendInviteErrors[r].text);0===a.length&&a.push("Unknown!");var i=[];for(var c in this.state.inviteNamesList){i.push(Object(G.jsxs)("li",{className:"list-group-item d-flex justify-content-around",children:[Object(G.jsx)("div",{className:"col alignOverride",children:this.state.inviteNamesList[c]}),Object(G.jsx)("div",{className:"col alignOverride",children:this.state.inviteRolesList[c]}),Object(G.jsx)("div",{className:"col-2",children:Object(G.jsx)("button",{className:"badge badge-success badge-pill",value:this.state.inviteIDList[c],onClick:this.inviteYes,children:"/"})}),Object(G.jsx)("div",{className:"col-1",children:Object(G.jsx)("button",{className:"badge badge-danger badge-pill",value:this.state.inviteIDList[c],onClick:this.inviteNo,children:"X"})})]},c))}return 0===this.state.inviteNamesList.length&&i.push(Object(G.jsx)("li",{className:"list-group-item",children:"No Invites!"},0)),Object(G.jsx)("div",{className:"userInvite",children:Object(G.jsxs)("div",{className:"container",children:[Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"card shadow",children:[Object(G.jsx)("div",{className:"card-header",children:Object(G.jsx)("h5",{children:"Enter Invite Code"})}),Object(G.jsx)("div",{className:"card-body",children:Object(G.jsxs)("div",{className:"list-group",children:[Object(G.jsx)("div",{className:"list-group-item",children:Object(G.jsx)("input",{type:"text",className:"form-control",value:this.state.inviteCode,onChange:this.codeFieldChange,placeholder:"Enter Code"})}),Object(G.jsx)("div",{className:"list-group-item",children:Object(G.jsx)("button",{className:"btn btn-primary",onClick:this.submitCode,children:"Submit"})})]})})]})})}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"card shadow",children:[Object(G.jsx)("div",{className:"card-header",children:Object(G.jsx)("h5",{children:"Current Company Invites"})}),Object(G.jsx)("div",{className:"card-body",children:Object(G.jsxs)("ul",{className:"list-group",children:[Object(G.jsx)("li",{className:"list-group-item",children:Object(G.jsxs)("div",{className:"row",children:[Object(G.jsx)("div",{className:"col alignOverride",children:"Division name"}),Object(G.jsx)("div",{className:"col alignOverride",children:"Target Role"}),Object(G.jsx)("div",{className:"col-2"}),Object(G.jsx)("div",{className:"col-1"})]})},-1),i]})})]})})}),Object(G.jsxs)(j.a,{show:e,variant:"warning",children:[Object(G.jsx)(j.a.Heading,{children:"Waiting"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"Waiting for response..."}),Object(G.jsx)("hr",{})]}),Object(G.jsxs)(j.a,{show:!1,variant:"success",children:[Object(G.jsx)(j.a.Heading,{children:"Success!"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"Success!"}),Object(G.jsx)("hr",{})]}),Object(G.jsxs)(j.a,{show:t,variant:"danger",children:[Object(G.jsx)(j.a.Heading,{children:"Error!"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:a}),Object(G.jsx)("hr",{})]})]})})}}]),a}(n.a.Component),dt=Object(u.f)(lt),ht=function(e){return Object(G.jsx)("div",{className:"defaultView",children:Object(G.jsx)("h3",{children:"404! You have selected and invalid page"})})},ut=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).initializeSuggestionDivision=function(){var e=[];for(var t in s.props.userLoadedCompanyList){var a=-1;for(var n in s.props.userLoadedCompanyList[t].perm)3===s.props.userLoadedCompanyList[t].perm[n]&&(a=3);a>=0&&a<4&&e.push(s.props.userLoadedCompanyList[t])}return 1===e.length?e[0].id:-1},s.changeSuggestionContent=function(e){s.setState({suggestionEditorState:e})},s.suggestionPostFailureCallback=function(e){var t;if(0===e.action);else{if(1===e.action)return void s.props.refreshToken(s.postSuggestion);2===e.action||3===e.action||4===e.action||e.action}t=e.messages,s.setState({suggestionErrors:t,postSuggestionStatus:3})},s.suggestionPostCallback=function(e){s.setState({suggestionErrors:[],postSuggestionStatus:2})},s.postSuggestion=function(){var e=s.props.currentDate,t=s.state.suggestionEditorState.getCurrentContent().getPlainText(),a=Object(fe.convertToRaw)(s.state.suggestionEditorState.getCurrentContent()),n=s.state.currentSuggestionDivision;-1!==n?(!function(e,t,a,s,n,r){var i={headers:{Authorization:"JWT ".concat(x)}},c={reqDiv:t,targetDivision:t,createdDate:y(e),content:a,richText:s};g.post("/saveNewSuggestion/",c,i).then((function(e){n(e.data)})).catch((function(e){var t=D(e);r(t)}))}(e,n,t,a,s.suggestionPostCallback,s.suggestionPostFailureCallback),s.setState({postSuggestionStatus:1})):(console.log("Not allowed!"),s.setState({suggestionErrors:["You need to select a company!"]}))},s.refreshCompleted=function(){console.log("Put a Please Try again thing on the UI")},s.journalDataFailure=function(e){var t;0===e.action||(1===e.action?s.props.refreshToken(s.refreshCompleted):2===e.action||3===e.action||4===e.action||e.action),t=e.messages,s.setState({journalViewErrors:t,pickJournalCalenderDateStatus:3})},s.journalDataCallback=function(e){s.setState({viewJournalData:e,pickJournalCalenderDateStatus:2})},s.nonJournalDataFailure=function(e){var t=e.messages;0===e.action||(1===e.action?s.props.refreshToken(s.refreshCompleted):2===e.action||3===e.action||4===e.action||e.action),s.setState({nonJournalViewErrors:t,pickNonJournalCalenderDateStatus:3})},s.nonJournalDataCallback=function(e){s.setState({viewNonJournalData:e,pickNonJournalCalenderDateStatus:2})},s.pickJournalCalenderDate=function(e){s.setState({selectedJournalDate:e});!function(e,t,a){var s={headers:{Authorization:"JWT ".concat(x)}},n=e.toJSON().split("T")[0];g.get("/getUserJournal/?reqDate="+n,s).then((function(e){t(e.data)})).catch((function(e){var t=D(e);a(t)}))}(e,s.journalDataCallback,s.journalDataFailure),function(e,t,a){var s={headers:{Authorization:"JWT ".concat(x)}},n=e.toJSON().split("T")[0];g.get("/getUserNonJournal/?reqDate="+n,s).then((function(e){t(e.data)})).catch((function(e){var t=D(e);a(t)}))}(e,s.nonJournalDataCallback,s.nonJournalDataFailure),s.setState({pickJournalCalenderDateStatus:1,pickNonJournalCalenderDateStatus:1,viewJournalData:[],viewNonJournalData:[]})},s.setSuggestionDivision=function(e){s.setState({currentSuggestionDivision:e})},s.state={selectedJournalDate:new Date,journalValidPrompts:[],journalMessage:"Choose a date to view the journal!",journalContent:"Waiting for content...",viewJournalData:[],viewNonJournalData:[],suggestionEditorState:fe.EditorState.createEmpty(),suggestionErrors:[],journalViewErrors:[],nonJournalViewErrors:[],journalPromptsErrors:[],currentSuggestionDivision:s.initializeSuggestionDivision(),postSuggestionStatus:0,pickJournalCalenderDateStatus:0,pickNonJournalCalenderDateStatus:0},s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.activateUserMenu(1),console.log("User Pages Core Loaded")}},{key:"componentWillUnmount",value:function(){this.props.disableMenu()}},{key:"render",value:function(){var e=this,t=[];for(var a in this.state.journalPromptsErrors)t.push(this.state.journalPromptsErrors[a].text);return 0===t.length&&t.push("Unknown!"),Object(G.jsx)("div",{className:"contentPages",children:Object(G.jsx)("div",{className:"container",children:Object(G.jsx)("div",{className:"row m-1 my-5",children:Object(G.jsx)("div",{className:"col m-1",children:Object(G.jsxs)(u.c,{children:[Object(G.jsx)(u.a,{path:this.props.match.url+"/journalWrite",component:function(){return Object(G.jsx)(rt,{refreshToken:e.props.refreshToken,currentDate:e.props.currentDate,promptList:e.props.journalValidPrompts,nonJournalPromptsDone:e.props.validNonJournalDates,journalPromptsDone:e.props.validJournalDates,journalScanPromptsDone:e.props.validJournalScanDates,currentUser:e.props.currentUser})}}),Object(G.jsx)(u.a,{path:this.props.match.url+"/journalRead",component:function(){return Object(G.jsx)(Ke,{currentDate:e.state.selectedJournalDate,viewJournalData:e.state.viewJournalData,viewNonJournalData:e.state.viewNonJournalData,validNonJournalDates:e.props.validNonJournalDates,validJournalDates:e.props.validJournalDates,validJournalScanDates:e.props.validJournalScanDates,pickDate:e.pickJournalCalenderDate,journalViewErrors:e.state.journalViewErrors,nonJournalViewErrors:e.state.nonJournalViewErrors,pickJournalCalenderDateStatus:e.state.pickJournalCalenderDateStatus,pickNonJournalCalenderDateStatus:e.state.pickNonJournalCalenderDateStatus})}}),Object(G.jsx)(u.a,{path:this.props.match.url+"/writeSuggestion",component:function(){return Object(G.jsx)(Pe,{userLoadedCompanyList:e.props.userLoadedCompanyList,lastRequestStatus:e.props.lastGovernedCompanyRequestStatus,setSuggestionDivision:e.setSuggestionDivision,currentDivisionID:e.state.currentSuggestionDivision,onChange:e.changeSuggestionContent,editorState:e.state.suggestionEditorState,saveToServer:e.postSuggestion,suggestionErrors:e.state.suggestionErrors,postSuggestionStatus:e.state.postSuggestionStatus})}}),Object(G.jsx)(u.a,{path:this.props.match.url+"/userPermissions",component:function(){return Object(G.jsx)(Te,{currentUser:e.props.currentUser,userLoadedCompanyList:e.props.userLoadedCompanyList,triggerRefresh:e.props.loadCompanyData,refreshToken:e.props.refreshToken})}}),Object(G.jsx)(u.a,{path:this.props.match.url+"/userSecurity",component:function(){return Object(G.jsx)(ct,{refreshToken:e.props.refreshToken})}}),Object(G.jsx)(u.a,{path:this.props.match.url+"/userInvite",component:function(){return Object(G.jsx)(dt,{triggerRefresh:e.props.loadCompanyData,refreshToken:e.props.refreshToken})}}),Object(G.jsx)(u.a,{path:this.props.match.url+"/",component:function(){return Object(G.jsx)(ht,{})}})]})})})})})}}]),a}(n.a.Component),jt=Object(u.f)(ut),mt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).onToggle=function(t){t.preventDefault(),e.props.onToggle(e.props.value)},e}return Object(o.a)(a,[{key:"render",value:function(){var e="btn btn-outline-primary";return this.props.active&&(e+=" active"),Object(G.jsx)("button",{className:e,onClick:this.onToggle,children:this.props.label})}}]),a}(n.a.Component),bt=[{label:"Max",value:0,dayLength:0,weekLength:0},{label:"1Year",value:1,dayLength:365,weekLength:52},{label:"6Months",value:2,dayLength:183,weekLength:28},{label:"3Months",value:3,dayLength:63,weekLength:13},{label:"1Months",value:4,dayLength:31,weekLength:4},{label:"1Week",value:5,dayLength:7,weekLength:1}],pt=function(e){var t=e.graphState;return Object(G.jsx)("div",{className:"EHIControls",children:bt.map((function(a){return Object(G.jsx)(mt,{active:t===a.value,label:a.label,onToggle:e.onToggle,value:a.value},a.label)}))})},vt=Object(u.f)((function(e){var t=e.timeIndex,a=[],s=[];for(var n in e.EHIData)s.push({name:n,value:n});0===s.length&&s.push({name:"No Prompts!",value:"none"});var r=e.EHIselectedPrompt,i=e.EHIselectedTimescale,c=[];if(void 0!==e.EHIData[r]){for(var o in e.EHIData[r])a.push({name:o,value:o});void 0!==e.EHIData[r][i]&&(c=e.EHIData[r][i])}0===a.length&&a.push({name:"Nothing to select!",value:"none"});var l=[],d=[],h={scales:{yAxes:[{ticks:{beginAtZero:!0}}]}},u=A([],[[]]);if(void 0!==c){for(var j in c)l.push(j),d.push(c[j]);var m=bt[t].dayLength;0===m&&(m=l.length);var b=l.slice(-m),p={label:"EHI index",data:d.slice(-m)};u=A(b,[p])}return Object(G.jsx)("div",{className:"EHIDisplay",children:Object(G.jsxs)("div",{className:"container-fluid",children:[Object(G.jsx)("div",{className:"row m-1",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"card shadow",children:[Object(G.jsx)("div",{className:"card-header",children:"EHI Controls V1"}),Object(G.jsxs)("div",{className:"card-body",children:[Object(G.jsx)("div",{className:"row m-2",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)(Ue.a,{toggle:!0,children:s.map((function(t,a){return Object(G.jsx)(Me.a,{type:"radio",variant:"primary",name:"radio",value:t.value,checked:r===t.value,onChange:e.EHISetPrompt,children:t.name},a)}))})})}),Object(G.jsx)("div",{className:"row m-2",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)(Ue.a,{toggle:!0,children:a.map((function(t,a){return Object(G.jsx)(Me.a,{type:"radio",variant:"secondary",name:"radio",value:t.value,checked:i===t.value,onChange:e.EHISetTimescale,children:t.name},a)}))})})})]})]})})}),Object(G.jsx)("div",{className:"row m-1",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"card shadow",children:[Object(G.jsxs)("div",{className:"card-header",children:[Object(G.jsx)("div",{children:Object(G.jsx)("i",{children:Object(G.jsx)("b",{children:"Employee Health Index:"})})}),Object(G.jsxs)("div",{children:["Prompt: ",r]}),Object(G.jsxs)("div",{children:["Scale: ",i]})]}),Object(G.jsxs)("div",{className:"card-body",children:[Object(G.jsx)(Le.Line,{data:u,options:h}),Object(G.jsx)(pt,{graphState:t,onToggle:e.EHITimeToggle})]})]})})})]})})})),gt=["Invalid","Admin","Allowed to View","Governed User"],xt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).tiggerReload=function(){s.getDivisionData(),s.getDivisionsInvites()},s.getFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return void s.props.refreshToken(s.getDivisionData);2===e.action||3===e.action||4===e.action||e.action}t=e.messages,s.setState({getDivisionDataError:t,getDivisionDataStatus:3})},s.getSuccess=function(e){s.setState({companyFullName:e.fullPathName,divisionName:e.divisionName,inviteCode:e.inviteCode,getDivisionDataStatus:2})},s.getDivisionData=function(){if(s.props.currentDivisionID>=0){P(s.props.currentDivisionID,s.getSuccess,s.getFailure),s.setState({getDivisionDataStatus:1})}},s.getInvitesFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return void s.props.refreshToken(s.getDivisionsInvites);2===e.action||3===e.action||4===e.action||e.action}t=e.messages,s.setState({getInvitesStatus:3,getInvitesError:t})},s.getInvitesSuccess=function(e){var t=[],a=[],n=[];for(var r in e)t.push(e[r].id),a.push(e[r].getUserFullName),n.push(gt[e[r].targetRole]);s.setState({inviteIDList:t,inviteNamesList:a,inviteRolesList:n,getInvitesStatus:2})},s.getDivisionsInvites=function(){if(s.props.currentDivisionID>=0){!function(e,t,a){var s={headers:{Authorization:"JWT ".concat(x)}};g.get("/getDivisionInvites?reqDiv="+e,s).then((function(e){var a=e.data;t(a)})).catch((function(e){var t=D(e);a(t)}))}(s.props.currentDivisionID,s.getInvitesSuccess,s.getInvitesFailure),s.setState({getInvitesStatus:1})}},s.inviteFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return void s.props.refreshToken(s.tokenHasRefreshed);2===e.action||3===e.action||4===e.action||e.action}t=e.messages,s.setState({createInvitesStatus:3,createInvitesError:t})},s.inviteSuccess=function(e){console.log("Create Invite Success"),console.log(e),s.setState({createInvitesStatus:2})},s.inviteUser=function(e){console.log("Send Invite"),function(e,t,a,s,n){var r={headers:{Authorization:"JWT ".concat(x)}},i={reqDiv:e,targetUser:t,targetAction:a};g.post("/createDivisionInvite/",i,r).then((function(e){var t=e.data;s(t)})).catch((function(e){var t=D(e);n(t)}))}(s.props.currentDivisionID,s.state.targetUser,s.state.targetRole,s.inviteSuccess,s.inviteFailure),s.setState({createInvitesStatus:1})},s.spendInviteFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return void s.props.refreshToken(s.tokenHasRefreshed);2===e.action||3===e.action||4===e.action||e.action}t=e.messages,s.setState({useInvitesStatus:3,useInvitesError:t}),s.getDivisionsInvites()},s.spendInviteSuccess=function(e){console.log("Spend Invite Success"),console.log(e),s.tiggerReload(),s.setState({useInvitesStatus:2})},s.inviteYes=function(e){console.log("Accept");var t=e.target.value;E(s.props.currentDivisionID,t,1,s.spendInviteSuccess,s.spendInviteFailure),s.setState({useInvitesStatus:1})},s.inviteNo=function(e){console.log("Deny");var t=e.target.value;E(s.props.currentDivisionID,t,0,s.spendInviteSuccess,s.spendInviteFailure),s.setState({useInvitesStatus:1})},s.userFieldChange=function(e){s.setState({targetUser:e.target.value})},s.triggerDropdown=function(e){s.setState({targetRole:e.target.value})},s.tokenHasRefreshed=function(){console.log("Show a 'try again' here")},s.state={inviteCode:"No Data",targetUser:"",targetRole:"",inviteIDList:[],inviteNamesList:[],inviteRolesList:[],companyFullName:"No Data",divisionName:"No Data",getDivisionDataStatus:0,getDivisionDataError:[],getInvitesStatus:0,getInvitesError:[],createInvitesStatus:0,createInvitesError:[],useInvitesStatus:0,useInvitesError:[]},s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.tiggerReload()}},{key:"render",value:function(){var e=[];for(var t in this.state.inviteNamesList){e.push(Object(G.jsxs)("li",{className:"list-group-item d-flex justify-content-around",children:[Object(G.jsx)("div",{className:"col",children:this.state.inviteNamesList[t]}),Object(G.jsx)("div",{className:"col",children:this.state.inviteRolesList[t]}),Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("button",{className:"badge badge-success badge-pill",value:this.state.inviteIDList[t],onClick:this.inviteYes,children:"/"})}),Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("button",{className:"badge badge-danger badge-pill",value:this.state.inviteIDList[t],onClick:this.inviteNo,children:"X"})})]},t))}0===this.state.inviteNamesList.length&&e.push(Object(G.jsx)("li",{className:"list-group-item",children:"No Invites!"},0));var a="Select Role =>";""!==this.state.targetRole&&(a=gt[this.state.targetRole]);var s=1===this.state.getDivisionDataStatus||1===this.state.getInvitesStatus,n=3===this.state.getDivisionDataStatus||3===this.state.getInvitesStatus,r=[];for(var i in this.state.getDivisionDataError)r.push(this.state.getDivisionDataError[i].text);for(var c in this.state.getInvitesError)r.push(this.state.getInvitesError[c].text);for(var o in this.state.createInvitesError)r.push(this.state.createInvitesError[o].text);for(var l in this.state.useInvitesError)r.push(this.state.useInvitesError[l].text);return 0===r.length&&r.push("Unknown!"),Object(G.jsx)("div",{className:"companySett",children:Object(G.jsxs)("div",{className:"container-fluid",children:[Object(G.jsxs)("div",{className:"row",children:[Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"card shadow",children:[Object(G.jsx)("div",{className:"card-header",children:Object(G.jsx)("h5",{children:"Invites for this division:"})}),Object(G.jsx)("div",{className:"card-body",children:this.state.companyFullName})]})}),Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"card shadow",children:[Object(G.jsx)("div",{className:"card-header",children:Object(G.jsx)("h5",{children:"Invite Code"})}),Object(G.jsx)("div",{className:"card-body",children:this.state.inviteCode})]})})]}),Object(G.jsxs)("div",{className:"row",children:[Object(G.jsx)("div",{className:"col-md-12 col-lg",children:Object(G.jsxs)("div",{className:"card shadow",children:[Object(G.jsx)("div",{className:"card-header",children:Object(G.jsx)("h5",{children:"Invites List"})}),Object(G.jsx)("div",{className:"card-body",children:Object(G.jsx)("ul",{children:e})})]})}),Object(G.jsx)("div",{className:"col-md-12 col-lg",children:Object(G.jsxs)("div",{className:"card shadow",children:[Object(G.jsx)("div",{className:"card-header",children:Object(G.jsx)("h5",{children:"Invite User"})}),Object(G.jsxs)("div",{className:"card-body",children:[Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("input",{type:"text",className:"form-control",value:this.state.targetUser,onChange:this.userFieldChange,placeholder:"Enter Username or Email"})})}),Object(G.jsxs)("div",{className:"row",children:[Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"dropdown",children:[Object(G.jsx)("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:a}),Object(G.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuLink",children:[Object(G.jsx)("button",{className:"dropdown-item",value:"1",onClick:this.triggerDropdown,children:"Admin"}),Object(G.jsx)("button",{className:"dropdown-item",value:"2",onClick:this.triggerDropdown,children:"Allowed to View"}),Object(G.jsx)("button",{className:"dropdown-item",value:"3",onClick:this.triggerDropdown,children:"Governed User"})]})]})}),Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("button",{className:"btn btn-primary",onClick:this.inviteUser,children:"Invite"})})]})]})]})})]}),Object(G.jsxs)(j.a,{show:s,variant:"warning",children:[Object(G.jsx)(j.a.Heading,{children:"Waiting"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"Waiting for server response..."}),Object(G.jsx)("hr",{})]}),Object(G.jsxs)(j.a,{show:!1,variant:"success",children:[Object(G.jsx)(j.a.Heading,{children:"Success!"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"Successful!"}),Object(G.jsx)("hr",{})]}),Object(G.jsxs)(j.a,{show:n,variant:"danger",children:[Object(G.jsx)(j.a.Heading,{children:"Error!"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"Failure!"}),Object(G.jsx)("hr",{})]})]})})}}]),a}(n.a.Component),Ot=Object(u.f)(xt),ft=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).tiggerReload=function(){s.getDivisionData()},s.getFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return void s.props.refreshToken(s.getDivisionData);2===e.action||3===e.action||4===e.action||e.action}t=e.messages,s.setState({getPermissionsStatus:3,getPermissionsError:t})},s.getSuccess=function(e){s.setState({companyFullName:e.fullPathName,divisionName:e.divisionName,numChild:e.getNumChildUsers,admins:e.adminAccountNames,views:e.privateViewingNames,sends:e.resultsSendTargetsNames,governs:e.governedUsersNames,adminsIDs:e.adminAccounts,viewsIDs:e.privateViewingPerms,sendsIDs:e.resultsSendTargets,governsIDs:e.governedUsers,delAdmins:[],delViews:[],delSends:[],delGoverns:[],getPermissionsStatus:2})},s.getDivisionData=function(){if(s.props.currentDivisionID>=0){P(s.props.currentDivisionID,s.getSuccess,s.getFailure),s.setState({getPermissionsStatus:1})}},s.setFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return void s.props.refreshToken(s.saveChanges);2===e.action||3===e.action||4===e.action||e.action}t=e.messages,s.setState({setPermissionsStatus:3,setPermissionsError:t})},s.setSuccess=function(e){console.log("Set Data Success"),console.log(e),s.props.triggerRefresh(),s.setState({setPermissionsStatus:2})},s.saveChanges=function(){var e={reqDiv:s.props.currentDivisionID,chName:"",delAdmins:s.state.delAdmins,delViews:s.state.delViews,delEmails:s.state.delSends,delGovern:s.state.delGoverns};I(e,s.setSuccess,s.setFailure),s.setState({setPermissionsStatus:1})},s.toggleDelete=function(e){var t=e.target.value.split(","),a=Number(t[0]),n=Number(t[1]),r="No Name!",i=[],c=[],o=[],l=[];switch(e.target.name){case"adm":i.push(n),r=s.state.admins[a];break;case"vie":c.push(n),r=s.state.views[a];break;case"sen":o.push(n),r=s.state.sends[a];break;case"gov":l.push(n),r=s.state.governs[a];break;default:console.log("Failed to have the correct name")}s.setState({delAdmins:i,delViews:c,delSends:o,delGoverns:l,selectedName:r})},s.state={companyFullName:"No Data",divisionName:"No Data",adminsIDs:[],viewsIDs:[],sendsIDs:[],governsIDs:[],admins:[],views:[],sends:[],governs:[],delAdmins:[],delViews:[],delSends:[],delGoverns:[],numChild:0,getPermissionsStatus:0,getPermissionsError:[],setPermissionsStatus:0,setPermissionsError:[]},s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.tiggerReload()}},{key:"render",value:function(){var e=[];for(var t in this.state.admins){var a="";this.state.delAdmins.indexOf(this.state.adminsIDs[t])>=0&&(a="bg-warning"),e.push(Object(G.jsx)("li",{className:"list-group-item d-flex justify-content-around"+a,children:this.state.admins[t]},t))}0===this.state.admins.length&&e.push(Object(G.jsx)("li",{className:"list-group-item",children:"No Users!"},0));var s=[];for(var n in this.state.views){var r="";this.state.delViews.indexOf(this.state.viewsIDs[n])>=0&&(r="bg-warning"),s.push(Object(G.jsxs)("li",{className:"list-group-item d-flex justify-content-around "+r,children:[this.state.views[n],Object(G.jsx)("button",{className:"badge badge-danger badge-pill",name:"vie",value:[n,this.state.viewsIDs[n]],"data-toggle":"modal","data-target":"#deleteConfirm",onClick:this.toggleDelete,children:"X"})]},n))}0===this.state.views.length&&s.push(Object(G.jsx)("li",{className:"list-group-item",children:"No Users!"},0));var i=[];for(var c in this.state.sends){var o="";this.state.delSends.indexOf(this.state.sendsIDs[c])>=0&&(o="bg-warning"),i.push(Object(G.jsx)("li",{className:"list-group-item d-flex justify-content-around "+o,children:this.state.sends[c]},c))}0===this.state.sends.length&&i.push(Object(G.jsx)("li",{className:"list-group-item",children:"No Users!"},0));var l=[];for(var d in this.state.governs){var h="";this.state.delGoverns.indexOf(this.state.governsIDs[d])>=0&&(h="bg-warning"),l.push(Object(G.jsxs)("li",{className:"list-group-item d-flex justify-content-around "+h,children:[this.state.governs[d],Object(G.jsx)("button",{className:"badge badge-danger badge-pill",name:"gov",value:[d,this.state.governsIDs[d]],"data-toggle":"modal","data-target":"#deleteConfirm",onClick:this.toggleDelete,children:"X"})]},d))}0===this.state.governs.length&&l.push(Object(G.jsx)("li",{className:"list-group-item",children:"No Users!"},0)),l.push(Object(G.jsxs)("li",{className:"list-group-item",children:["And ",this.state.numChild," others in child nodes"]},"end"));var u=1===this.state.setPermissionsStatus||1===this.state.getPermissionsStatus,m=2===this.state.setPermissionsStatus,b=3===this.state.setPermissionsStatus||3===this.state.getPermissionsStatus,p=[];for(var v in this.state.getPermissionsError)p.push(this.state.getPermissionsError[v].text);for(var g in this.state.getPermissionsError)p.push(this.state.getPermissionsError[g].text);return 0===p.length&&p.push("Unknown!"),Object(G.jsx)("div",{className:"companySett",children:Object(G.jsxs)("div",{className:"container-fluid",children:[Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"card shadow",children:[Object(G.jsx)("div",{className:"card-header",children:Object(G.jsx)("h5",{children:"Changing Permissions for:"})}),Object(G.jsx)("div",{className:"card-body",children:this.state.companyFullName})]})})}),Object(G.jsxs)("div",{className:"row",children:[Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"card shadow",children:[Object(G.jsx)("div",{className:"card-header",children:Object(G.jsx)("h5",{children:"Administrators"})}),Object(G.jsx)("div",{className:"card-body",children:e})]})}),Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"card shadow",children:[Object(G.jsx)("div",{className:"card-header",children:Object(G.jsx)("h5",{children:"Viewing Privilages:"})}),Object(G.jsx)("div",{className:"card-body",children:Object(G.jsx)("ul",{children:s})})]})})]}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"card shadow",children:[Object(G.jsx)("div",{className:"card-header",children:Object(G.jsx)("h5",{children:"Target Users:"})}),Object(G.jsx)("div",{className:"card-body",children:Object(G.jsx)("ul",{children:l})})]})})}),Object(G.jsxs)(j.a,{show:u,variant:"warning",children:[Object(G.jsx)(j.a.Heading,{children:"Waiting"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"Waiting for server response..."}),Object(G.jsx)("hr",{})]}),Object(G.jsxs)(j.a,{show:m,variant:"success",children:[Object(G.jsx)(j.a.Heading,{children:"Success!"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"Successfull!"}),Object(G.jsx)("hr",{})]}),Object(G.jsxs)(j.a,{show:b,variant:"danger",children:[Object(G.jsx)(j.a.Heading,{children:"Error!"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:p}),Object(G.jsx)("hr",{})]}),Object(G.jsx)("div",{className:"modal fade",id:"deleteConfirm",tabIndex:"-1",role:"dialog","aria-labelledby":"deleteConfirmation","aria-hidden":"true",children:Object(G.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:Object(G.jsxs)("div",{className:"modal-content",children:[Object(G.jsxs)("div",{className:"modal-header",children:[Object(G.jsx)("h5",{className:"modal-title",id:"deleteTitleConfirm",children:"Delete Confirmation"}),Object(G.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(G.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(G.jsxs)("div",{className:"modal-body",children:[Object(G.jsx)("div",{children:"Are you SURE you want to revoke permission for:"}),Object(G.jsxs)("div",{children:[this.state.selectedName,"?"]}),Object(G.jsx)("div",{children:"You will need to reinvite the user!"})]}),Object(G.jsxs)("div",{className:"modal-footer",children:[Object(G.jsx)("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal",onClick:this.saveChanges,children:"Yes"}),Object(G.jsx)("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal",children:"No"})]})]})})})]})})}}]),a}(n.a.Component),Nt=Object(u.f)(ft),St=["Public","Private","Governed Users"],yt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).tiggerReload=function(){s.getDivisionData()},s.getFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return void s.props.refreshToken(s.getDivisionData);2===e.action||3===e.action||4===e.action||e.action}t=e.messages,s.setState({getSettingsStatus:3,getSettingsError:t})},s.getSuccess=function(e){s.setState({companyFullName:e.fullPathName,divisionName:e.divisionName,expiryDate:e.getCompanyExpiryDate,viewPerms:e.summaryViewAccess,getSettingsStatus:2})},s.getDivisionData=function(){if(s.props.currentDivisionID>=0){P(s.props.currentDivisionID,s.getSuccess,s.getFailure),s.setState({getSettingsStatus:1})}},s.setFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return void s.props.refreshToken(s.saveChanges);2===e.action||3===e.action||4===e.action||e.action}t=e.messages,s.setState({saveChangesStatus:3,saveChangesError:t})},s.setSuccess=function(e){console.log("Set Data Success"),console.log(e),s.props.triggerRefresh(),s.setState({saveChangesStatus:2})},s.saveChanges=function(){var e={reqDiv:s.props.currentDivisionID,chName:""};I(e,s.setSuccess,s.setFailure),s.setState({saveChangesStatus:1})},s.divisionFieldChange=function(e){s.setState({divisionName:e.target.value})},s.triggerDropdown=function(e){s.setState({viewPerms:e.target.name})},s.state={newViewPerms:0,viewPerms:-1,expiryDate:"No Data",companyFullName:"No Data",divisionName:"No Data",getSettingsStatus:0,getSettingsError:[],saveChangesStatus:0,saveChangesError:[]},s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.tiggerReload()}},{key:"render",value:function(){var e=1===this.state.getSettingsStatus,t=3===this.state.getSettingsStatus,a=[];for(var s in this.state.getSettingsError)a.push(this.state.getSettingsError[s].text);return 0===a.length&&a.push("Unknown!"),Object(G.jsx)("div",{className:"companySett",children:Object(G.jsxs)("div",{className:"container-fluid",children:[Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"card shadow",children:[Object(G.jsx)("div",{className:"card-header",children:Object(G.jsx)("h5",{children:"Full Company Path"})}),Object(G.jsx)("div",{className:"card-body",children:this.state.companyFullName})]})})}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"card shadow",children:[Object(G.jsx)("div",{className:"card-header",children:Object(G.jsx)("h5",{children:"Change Division Name"})}),Object(G.jsx)("div",{className:"card-body",children:Object(G.jsx)("div",{children:Object(G.jsx)("input",{type:"text",className:"form-control",value:this.state.divisionName,onChange:this.divisionFieldChange,placeholder:"No Name?!"})})})]})})}),Object(G.jsxs)("div",{className:"row",children:[Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"card shadow",children:[Object(G.jsx)("div",{className:"card-header",children:Object(G.jsx)("h5",{children:"Viewing Permissions"})}),Object(G.jsx)("div",{className:"card-body",children:Object(G.jsxs)("div",{className:"dropdown",children:[Object(G.jsx)("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:St[this.state.viewPerms]}),Object(G.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuLink",children:[Object(G.jsx)("button",{className:"dropdown-item",name:"0",onClick:this.triggerDropdown,children:"Public"}),Object(G.jsx)("button",{className:"dropdown-item",name:"1",onClick:this.triggerDropdown,children:"Private"}),Object(G.jsx)("button",{className:"dropdown-item",name:"2",onClick:this.triggerDropdown,children:"Governed Users"})]})]})})]})}),Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"card shadow",children:[Object(G.jsx)("div",{className:"card-header",children:Object(G.jsx)("h5",{children:"Subscription Expiry"})}),Object(G.jsx)("div",{className:"card-body d-inline-flex justify-content-around",children:this.state.expiryDate})]})})]}),Object(G.jsx)("button",{className:"btn btn-primary",onClick:this.saveChanges,disabled:!0,children:"Save Changes"}),Object(G.jsxs)(j.a,{show:e,variant:"warning",children:[Object(G.jsx)(j.a.Heading,{children:"Waiting"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"Waiting for server response..."}),Object(G.jsx)("hr",{})]}),Object(G.jsxs)(j.a,{show:!1,variant:"success",children:[Object(G.jsx)(j.a.Heading,{children:"Success!"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"Successfully obtained data!"}),Object(G.jsx)("hr",{})]}),Object(G.jsxs)(j.a,{show:t,variant:"danger",children:[Object(G.jsx)(j.a.Heading,{children:"Error!"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:a}),Object(G.jsx)("hr",{})]})]})})}}]),a}(n.a.Component),Dt=Object(u.f)(yt),Ct=["Admin","Viewer","Governer"],wt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={btnLen:2},s}return Object(o.a)(a,[{key:"render",value:function(){var e="",t="";this.props.activePage<=0&&(e="disabled"),this.props.activePage>=this.props.totalLoaded/this.props.numPerPage-1&&(t="disabled");for(var a=[],s=-this.state.btnLen;s<=this.state.btnLen;s++){var n="",r=s+this.props.activePage;r<0||r>=this.props.totalLoaded/this.props.numPerPage||(0===s&&(n="active "),a.push(Object(G.jsx)("button",{className:"btn btn-outline-primary "+n,value:r,onClick:this.props.changeToNum,children:r},s)))}return Object(G.jsx)("div",{className:"paginator",children:Object(G.jsx)("div",{className:"container",children:Object(G.jsx)("div",{className:"row",children:Object(G.jsxs)("div",{className:"col",children:[Object(G.jsx)("button",{className:"btn btn-outline-primary "+e,value:"bck",onClick:this.props.changePrevNext,children:"Prev"}),a,Object(G.jsx)("button",{className:"btn btn-outline-primary "+t,value:"fwd",onClick:this.props.changePrevNext,children:"Next"})]})})})})}}]),a}(n.a.Component),kt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).initializeSubList=function(){var e=[];for(var t in s.props.userLoadedCompanyList){var a=-1;for(var n in s.props.userLoadedCompanyList[t].perm)0===s.props.userLoadedCompanyList[t].perm[n]?a=0:1===s.props.userLoadedCompanyList[t].perm[n]&&0!==a&&(a=1);a>=0&&a<4&&e.push([s.props.userLoadedCompanyList[t],a])}return e},s.getData=function(e){s.props.getDataRequest(s.props.userLoadedCompanyList[e.target.value])},s.changePageTo=function(e){var t=Number(e.target.value);s.setState({pageNum:t})},s.changePageFwdBck=function(e){var t=Number(s.state.pageNum);if("fwd"===e.target.value){if((t+=1)>s.props.subList.length/s.state.numPerPage)return}else if("bck"===e.target.value&&(t-=1)<0)return;s.setState({pageNum:t})},s.state={pageNum:0,numPerPage:10,numChooseLimit:5,subList:s.initializeSubList()},s}return Object(o.a)(a,[{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){for(var e=[],t=0;t<this.state.numPerPage;t++){var a=t+this.state.pageNum*this.state.numPerPage;a>this.state.subList.length||a<0||void 0!==this.state.subList[a]&&e.push(Object(G.jsxs)("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[Object(G.jsx)("div",{className:"col",children:this.state.subList[a][0].fullname}),Object(G.jsx)("div",{className:"col",children:Ct[this.state.subList[a][1]]}),Object(G.jsx)("div",{className:"col-2",children:Object(G.jsx)("button",{className:"btn btn-primary",value:a,onClick:this.getData,children:"GET!"})})]},t))}0===e.length&&e.push(Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:"No Companies! If you see this page then this is an error!"})},"0"));var s=1===this.props.getCompanyValidDatesStatus||1===this.props.getCompanyValidSuggestionDatesStatus||1===this.props.getCompanyEHIDataStatus,n=2===this.props.getCompanyValidDatesStatus||2===this.props.getCompanyValidSuggestionDatesStatus||2===this.props.getCompanyEHIDataStatus,r=3===this.props.getCompanyValidDatesStatus||3===this.props.getCompanyValidSuggestionDatesStatus||3===this.props.getCompanyEHIDataStatus,i=[];for(var c in this.props.getCompanyEHIDataError)i.push(this.props.getCompanyEHIDataError[c].text);for(var o in this.props.getCompanyValidSuggestionDatesError)i.push(this.props.getCompanyValidSuggestionDatesError[o].text);for(var l in this.props.getCompanyValidDatesError)i.push(this.props.getCompanyValidDatesError[l].text);return 0===i.length&&i.push("Unknown!"),Object(G.jsx)("div",{className:"testPages",children:Object(G.jsxs)("div",{className:"container-fluid",children:[Object(G.jsx)("div",{className:"row my-2",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"card shadow",children:[Object(G.jsx)("div",{className:"card-header",children:Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col my-2",children:Object(G.jsx)("h3",{children:"Your Company Divisions"})})})}),Object(G.jsxs)("div",{className:"card-body",children:[Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("ul",{className:"list-group",children:e})})}),Object(G.jsx)(wt,{activePage:this.state.pageNum,changePrevNext:this.changePageFwdBck,changeToNum:this.changePageTo,totalLoaded:this.state.subList.length,numPerPage:this.state.numPerPage})]})]})})}),Object(G.jsxs)(j.a,{show:s,variant:"warning",children:[Object(G.jsx)(j.a.Heading,{children:"Waiting"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"Waiting for server response..."}),Object(G.jsx)("hr",{})]}),Object(G.jsxs)(j.a,{show:n,variant:"success",children:[Object(G.jsx)(j.a.Heading,{children:"Success!"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"Successfully obtained data!"}),Object(G.jsx)("hr",{})]}),Object(G.jsxs)(j.a,{show:r,variant:"danger",children:[Object(G.jsx)(j.a.Heading,{children:"Error!"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"Failure!"}),Object(G.jsx)("hr",{})]})]})})}}]),a}(n.a.Component),Et=Object(u.f)(kt),Pt=Object(u.f)((function(e){var t=0,a=[];for(var s in e.dataSet)a.push(Object(G.jsx)("div",{className:"row m-2",children:Object(G.jsx)("div",{className:"col border",children:e.dataSet[s].content})},t)),t+=1;0===a.length&&(a.push(Object(G.jsx)("div",{className:"row m-2",children:Object(G.jsx)("div",{className:"col",children:"No data to show!"})},t)),t+=1),!1===e.dataDay&&(a=[Object(G.jsx)("div",{className:"row m-2",children:Object(G.jsx)("div",{className:"col",children:"No Day Selected!"})},t)]);var n=void 0;!1===e.currentDate&&(n=new Date);var r=1===e.getCompanySuggestionDataStatus,i=3===e.getCompanySuggestionDataStatus,c=[];for(var o in e.getCompanySuggestionDataError)c.push(e.getCompanySuggestionDataError[o].text);return 0===c.length&&c.push("Unknown!"),Object(G.jsx)("div",{className:"testPages",children:Object(G.jsxs)("div",{className:"container-fluid",children:[Object(G.jsxs)("div",{className:"row m-2",children:[Object(G.jsx)("div",{className:"col- m-2",children:Object(G.jsx)(Fe.a,{className:"shadow",onChange:e.pickDate,value:n,tileClassName:function(t){var a=t.date;if("month"===t.view){var s=a.getFullYear()+"-"+a.getMonth()+"-"+a.getDate();if(e.validDays.find((function(e){return e===s})))return"btn btn-success"}},minDetail:"year",maxDetail:"month"})}),Object(G.jsx)("div",{className:"col-md-12 col-lg-6 m-2",children:Object(G.jsxs)("div",{className:"card shadow",children:[Object(G.jsx)("div",{className:"card-header",children:Object(G.jsxs)("div",{children:["Suggestions for Date: ",e.dataDay&&e.dataDay.toString()]})}),Object(G.jsx)("div",{className:"card-body",children:a})]})})]}),Object(G.jsxs)(j.a,{show:r,variant:"warning",children:[Object(G.jsx)(j.a.Heading,{children:"Waiting"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"Waiting for server response..."}),Object(G.jsx)("hr",{})]}),Object(G.jsxs)(j.a,{show:!1,variant:"success",children:[Object(G.jsx)(j.a.Heading,{children:"Success!"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"Successfully obtained data!"}),Object(G.jsx)("hr",{})]}),Object(G.jsxs)(j.a,{show:i,variant:"danger",children:[Object(G.jsx)(j.a.Heading,{children:"Error!"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:c}),Object(G.jsx)("hr",{})]})]})})})),It=a(550),Tt=[{name:"Emotion",value:"emotion"},{name:"Sentiment",value:"sentiment"},{name:"Entities",value:"entities"},{name:"Keywords",value:"keywords"}],Ft=["Daily","Weekly","Monthy","Annual"],Lt=function(e){return[e.joy,e.anger,e.sadness,e.disgust,e.fear]},At=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).changeSelected=function(e){s.setState({selected:e.target.id})},s.state={selected:"frequencyPercent"},s}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.dataSet.responsePurity,t=[];for(var a in this.props.givenPrompt.promptChoices)t.push(Object(G.jsx)("div",{children:a+": "+this.props.givenPrompt.promptChoices[a]},a));var s={},n=[];for(var r in this.props.dataSet.data){var i="outline-";if(this.state.selected===r)for(var c in i="",this.props.givenPrompt.promptChoices)c in this.props.dataSet.data[r]?s[c]=this.props.dataSet.data[r][c]:s[c]=0;n.push(Object(G.jsx)("div",{className:"btn btn-"+i+"primary",id:r,onClick:this.changeSelected,children:r},r))}var o=V(s),l={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:0}}]}};return Object(G.jsx)("div",{className:"MultiIteration",children:Object(G.jsxs)(We.a,{children:[Object(G.jsxs)(We.a.Toggle,{as:Je.a.Header,variant:"link",eventKey:"0",children:[Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:this.props.givenPrompt.text})},"0"),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("div",{className:"progressBar",children:Object(G.jsx)(It.a,{now:e,label:"".concat(e,"% Response Rate")})})})},"1")]}),Object(G.jsx)(We.a.Collapse,{eventKey:"0",children:Object(G.jsx)(Je.a,{children:Object(G.jsxs)(Je.a.Body,{children:[n,Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)(Le.Bar,{data:o,options:l})})}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:t})})]})})})]})})}}]),a}(n.a.Component),Wt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).changeSelected=function(e){s.setState({selected:e.target.id})},s.state={selected:"frequencyPercent"},s}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.dataSet.responsePurity,t={},a=[],s=["Ext Dis","Dis","Neu","Agr","Ext Agr"];for(var n in this.props.dataSet.data){var r="outline-";if(this.state.selected===n)for(var i in r="",s)i in this.props.dataSet.data[n]?t[i]=this.props.dataSet.data[n][i]:t[i]=0;a.push(Object(G.jsx)("div",{className:"btn btn-"+r+"primary",id:n,onClick:this.changeSelected,children:n},n))}var c=V(t),o={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:0}}]}};return Object(G.jsx)("div",{className:"LikertIteration",children:Object(G.jsxs)(We.a,{children:[Object(G.jsxs)(We.a.Toggle,{as:Je.a.Header,variant:"link",eventKey:"0",children:[Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:this.props.givenPrompt.text})},"0"),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("div",{className:"progressBar",children:Object(G.jsx)(It.a,{now:e,label:"".concat(e,"% Response Rate")})})})},"1")]}),Object(G.jsx)(We.a.Collapse,{eventKey:"0",children:Object(G.jsx)(Je.a,{children:Object(G.jsxs)(Je.a.Body,{children:[a,Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)(Le.Bar,{data:c,options:o})})})]})})})]})})}}]),a}(n.a.Component),Jt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).changeSelected=function(e){s.setState({selected:e.target.id})},s.state={selected:"frequencyPercent"},s}return Object(o.a)(a,[{key:"render",value:function(){var e={},t=[];for(var a in this.props.dataSet.data){var s="outline-";if(this.state.selected===a){s="";for(var n=1;n<=10;n++)n in this.props.dataSet.data[a]?e[n]=this.props.dataSet.data[a][n]:e[n]=0}t.push(Object(G.jsx)("div",{className:"btn btn-"+s+"primary",id:a,onClick:this.changeSelected,children:a},a))}var r=this.props.dataSet.responsePurity,i=V(e),c={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:0}}]}};return Object(G.jsx)("div",{className:"RatingIteration",children:Object(G.jsxs)(We.a,{children:[Object(G.jsxs)(We.a.Toggle,{as:Je.a.Header,variant:"link",eventKey:"0",children:[Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:this.props.givenPrompt.text})},"0"),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("div",{className:"progressBar",children:Object(G.jsx)(It.a,{now:r,label:"".concat(r,"% Response Rate")})})})},"1")]}),Object(G.jsx)(We.a.Collapse,{eventKey:"0",children:Object(G.jsx)(Je.a,{children:Object(G.jsxs)(Je.a.Body,{children:[t,Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)(Le.Bar,{data:i,options:c})})})]})})})]})})}}]),a}(n.a.Component),Ut=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).setAspect=function(e){s.setState({selectedAspect:e.currentTarget.value})},s.state={selectedAspect:"emotion"},s}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.props.dataSet.responsePurity;t<0&&(t=0);var a,s,n,r=this.props.dataSet.data[this.state.selectedAspect],i=[],c=[];if(null!==r&&void 0!==r)try{switch(this.state.selectedAspect){case"emotion":var o=Lt(r.max),l=Lt(r.ave),d=Lt(r.min),h=J(o,l,d),u={scale:{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}},j=Lt(r.threshold),m={labels:["Joy","Anger","Sadness","Disgust","Fear"],datasets:[{label:"# Above Threshold",data:j,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]},b={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}]}};i.push(Object(G.jsxs)(Ae.a,{bordered:!0,responsive:!0,children:[Object(G.jsx)("thead",{children:Object(G.jsxs)("tr",{children:[Object(G.jsx)("th",{scope:"col",children:"Emotion Data"}),Object(G.jsx)("th",{scope:"col",children:"Num Journals in data"})]})}),Object(G.jsx)("tbody",{children:Object(G.jsxs)("tr",{children:[Object(G.jsxs)("th",{scope:"row",children:[" ",Object(G.jsx)(Le.Radar,{data:h,options:u})," "]}),Object(G.jsxs)("td",{children:[" ",Object(G.jsx)(Le.Bar,{data:m,options:b})," "]})]},0)})]},"2"));break;case"sentiment":var p=U([r.min],[r.ave],[r.max]),v={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:-1,suggestedMax:1}}],xAxes:[{}]}},g=function(e){return{labels:["Positive","Negative"],datasets:[{label:"# Above Threshold",data:e,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]}}([r.thresholdPos,r.thresholdNeg]),x={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}]}};i.push(Object(G.jsxs)(Ae.a,{bordered:!0,responsive:!0,children:[Object(G.jsx)("thead",{children:Object(G.jsxs)("tr",{children:[Object(G.jsx)("th",{scope:"col",children:"Sentiment Values"}),Object(G.jsx)("th",{scope:"col",children:"Num Journals in data"})]})}),Object(G.jsx)("tbody",{children:Object(G.jsxs)("tr",{children:[Object(G.jsx)("th",{scope:"row",children:Object(G.jsx)(Le.Bar,{data:p,options:v})}),Object(G.jsx)("td",{children:Object(G.jsx)(Le.Bar,{data:g,options:x})})]},0)})]},"2"));break;case"entities":for(var O in r){var f=r[O],N=Lt(f.emotion.max),S=Lt(f.emotion.ave),y=Lt(f.emotion.min),D=J(N,S,y),C={scale:{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}},w=(a=[f.confidence.min,f.relevance.min,f.sentiment.min],s=[f.confidence.ave,f.relevance.ave,f.sentiment.ave],n=[f.confidence.max,f.relevance.max,f.sentiment.max],{labels:["Confidence","Relevance","Sentiment"],datasets:[{label:"Minimum",data:a,backgroundColor:"rgb(255, 99, 132)"},{label:"Average",data:s,backgroundColor:"rgb(54, 162, 235)"},{label:"Maximum",data:n,backgroundColor:"rgb(75, 192, 192)"}]}),k={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:-1,suggestedMax:1}}],xAxes:[{}]}};c.push(Object(G.jsxs)("tr",{children:[Object(G.jsx)("th",{scope:"row",children:f.text}),Object(G.jsx)("td",{children:f.type}),Object(G.jsx)("td",{children:f.count}),Object(G.jsx)("td",{colSpan:"3",children:Object(G.jsx)(Le.Bar,{data:w,options:k})}),Object(G.jsx)("td",{children:Object(G.jsx)(Le.Radar,{data:D,options:C})})]},O))}0===c.length&&c.push(Object(G.jsx)("tr",{children:Object(G.jsx)("td",{colSpan:"7",children:'"Nothing!"'})},0)),i.push(Object(G.jsxs)(Ae.a,{bordered:!0,responsive:!0,children:[Object(G.jsx)("thead",{children:Object(G.jsxs)("tr",{children:[Object(G.jsx)("th",{scope:"col",children:"Name"}),Object(G.jsx)("th",{scope:"col",children:"Type"}),Object(G.jsx)("th",{scope:"col",children:"#Appearances"}),Object(G.jsx)("th",{scope:"col",children:"Confidence"}),Object(G.jsx)("th",{scope:"col",children:"Relevance"}),Object(G.jsx)("th",{scope:"col",children:"Sentiment"}),Object(G.jsx)("th",{scope:"col",children:"Emotion"})]})}),Object(G.jsx)("tbody",{children:c})]},"2"));break;case"keywords":for(var E in r){var P=r[E],I=Lt(P.emotion.max),T=Lt(P.emotion.ave),F=Lt(P.emotion.min),L=J(I,T,F),A={scale:{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}},W=M([P.relevance.min,P.sentiment.min],[P.relevance.ave,P.sentiment.ave],[P.relevance.max,P.sentiment.max]),R={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:-1,suggestedMax:1}}],xAxes:[{}]}};c.push(Object(G.jsxs)("tr",{children:[Object(G.jsx)("th",{scope:"row",children:P.text}),Object(G.jsx)("td",{children:P.count}),Object(G.jsx)("td",{colSpan:"2",children:Object(G.jsx)(Le.Bar,{data:W,options:R})}),Object(G.jsx)("td",{children:Object(G.jsx)(Le.Radar,{data:L,options:A})})]},E))}0===c.length&&c.push(Object(G.jsx)("tr",{children:Object(G.jsx)("td",{colSpan:"5",children:'"Nothing!"'})},0)),i.push(Object(G.jsxs)(Ae.a,{bordered:!0,responsive:!0,children:[Object(G.jsx)("thead",{children:Object(G.jsxs)("tr",{children:[Object(G.jsx)("th",{scope:"col",children:"Name"}),Object(G.jsx)("th",{scope:"col",children:"#Appearances"}),Object(G.jsx)("th",{scope:"col",children:"Relevance Score"}),Object(G.jsx)("th",{scope:"col",children:"Sentiment"}),Object(G.jsx)("th",{scope:"col",children:"Emotion"})]})}),Object(G.jsx)("tbody",{children:c})]},"2"));break;case"relations":for(var H in r){var V=r[H],B=U([V.score.min],[V.score.ave],[V.score.max]),q={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}]}};c.push(Object(G.jsxs)("tr",{children:[Object(G.jsx)("th",{scope:"row",children:V.count}),Object(G.jsx)("td",{children:V.arguments[0].text}),Object(G.jsx)("td",{children:V.type}),Object(G.jsx)("td",{children:V.arguments[1].text}),Object(G.jsx)("td",{style:{width:"30%"},children:Object(G.jsx)(Le.Bar,{data:B,options:q})})]},H))}0===c.length&&c.push(Object(G.jsx)("tr",{children:Object(G.jsx)("th",{scope:"row",children:'"Nothing!"'})},0)),i.push(Object(G.jsxs)(Ae.a,{bordered:!0,responsive:!0,children:[Object(G.jsx)("thead",{children:Object(G.jsxs)("tr",{children:[Object(G.jsx)("th",{scope:"col",children:"#Appearances"}),Object(G.jsx)("th",{scope:"col",children:"Actor"}),Object(G.jsx)("th",{scope:"col",children:"Action"}),Object(G.jsx)("th",{scope:"col",children:"Target"}),Object(G.jsx)("th",{scope:"col",children:"Score"})]})}),Object(G.jsx)("tbody",{children:c})]},"2"));break;default:console.log("Invalid AI selection somehow")}}catch(z){i.push(Object(G.jsx)("div",{className:"row m-2 border",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("p",{children:"There was no data to read!"})})},"2"))}else i.push(Object(G.jsx)("div",{className:"row m-2 border",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("p",{children:"There was no data to read!"})})},"2"));return Object(G.jsx)("div",{className:"JournalIteration",children:Object(G.jsxs)(We.a,{children:[Object(G.jsxs)(We.a.Toggle,{as:Je.a.Header,variant:"link",eventKey:"0",children:[Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:this.props.givenPrompt.text})},"0"),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("div",{className:"progressBar",children:Object(G.jsx)(It.a,{now:t,label:"".concat(t,"% Response Rate")})})})},"1")]}),Object(G.jsx)(We.a.Collapse,{eventKey:"0",children:Object(G.jsx)(Je.a,{children:Object(G.jsxs)(Je.a.Body,{children:[Object(G.jsx)("div",{className:"row my-2",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)(Ue.a,{toggle:!0,children:Tt.map((function(t,a){return Object(G.jsx)(Me.a,{type:"radio",variant:"info",name:"radio",value:t.value,checked:e.state.selectedAspect===t.value,onChange:e.setAspect,children:t.name},a)}))})})}),Object(G.jsx)("hr",{}),i]})})})]})})}}]),a}(n.a.Component),Mt=Object(u.f)((function(e){var t=[],a=e.currentDate;if(void 0!==e.dataSet){a=e.dataSet.forDate;var s=0,n=function(a){var n=-1,r={text:"No Text!"};try{n=(r=e.dataSet.promptList.find((function(e){return e.identifier===a}))).promptType}catch(c){}var i="No Prompt!";switch(n){case 0:i=Object(G.jsx)(Ut,{givenPrompt:r,dataSet:e.dataSet.summaryResult[a]});break;case 1:i=Object(G.jsx)(Wt,{givenPrompt:r,dataSet:e.dataSet.summaryResult[a]});break;case 2:i=Object(G.jsx)(Jt,{givenPrompt:r,dataSet:e.dataSet.summaryResult[a]});break;case 3:i=Object(G.jsx)(At,{givenPrompt:r,dataSet:e.dataSet.summaryResult[a]});break;default:i=i=Object(G.jsx)(Ut,{givenPrompt:{text:"No Prompt!"},dataSet:e.dataSet.summaryResult[a]})}t.push(Object(G.jsx)("div",{className:"row",children:Object(G.jsxs)("div",{className:"col",children:[Object(G.jsx)("div",{children:i}),Object(G.jsx)("hr",{})]})},s)),s+=1};for(var r in e.dataSet.summaryResult)n(r)}0===t.length&&t.push(Object(G.jsx)("div",{className:"row",children:Object(G.jsxs)("div",{className:"col",children:[Object(G.jsx)("div",{children:"No Data to Display!"}),Object(G.jsx)("hr",{})]})},0));var i="Showing Company Summary for: "+e.currentCompany,c="For Date: "+a,o="Summary Type: "+Ft[e.summaryType],l=1===e.getCompanyWeeklySummaryStatus,d=3===e.getCompanyWeeklySummaryStatus;l&&(i="Please Wait...",c="Loading",o="...");var h=[];for(var u in e.getCompanyWeeklySummaryError)h.push(e.getCompanyWeeklySummaryError[u].text);return 0===h.length&&h.push("Unknown!"),Object(G.jsx)("div",{className:"companyView",children:Object(G.jsxs)("div",{className:"container-fluid",children:[Object(G.jsx)("div",{className:"row m-2 justify-content-center",children:Object(G.jsx)("div",{className:"col- m-2",children:Object(G.jsx)("div",{children:Object(G.jsx)(Fe.a,{className:"shadow",onChange:e.pickDate,value:e.currentDate,tileClassName:function(t){var a=t.date,s=t.view,n=!1,r=0,i=String(a.getFullYear()),c=String(a.getMonth()+1);c<10&&(c="0"+c);var o=String(a.getDate());o<10&&(o="0"+o);var l=i+"-"+c+"-"+o;if("month"===s)try{r=(n=e.validSummaryDates.day.find((function(e){return e.date===l}))).num}catch(d){}if(n)return r>0?"btn btn-success":"btn btn-warning"},minDetail:"year",maxDetail:"month"})})})}),Object(G.jsx)("div",{className:"row m-2",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"card shadow",children:[Object(G.jsxs)("div",{className:"card-header",children:[Object(G.jsx)("div",{children:i}),Object(G.jsx)("div",{children:c}),Object(G.jsx)("div",{children:o})]}),Object(G.jsx)("div",{className:"card-body",children:t})]})})}),Object(G.jsxs)(j.a,{show:l,variant:"warning",children:[Object(G.jsx)(j.a.Heading,{children:"Waiting"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"Waiting for server response..."}),Object(G.jsx)("hr",{})]}),Object(G.jsxs)(j.a,{show:!1,variant:"success",children:[Object(G.jsx)(j.a.Heading,{children:"Success!"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"Successfully obtained data!"}),Object(G.jsx)("hr",{})]}),Object(G.jsxs)(j.a,{show:d,variant:"danger",children:[Object(G.jsx)(j.a.Heading,{children:"Error!"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:h}),Object(G.jsx)("hr",{})]})]})})})),Rt=a(545),Ht=["Never","Always","On Monday","On Tuesday","On Wednesday","On Thursday","On Friday","On Saturday","On Sunday"],Vt=["Open","Likert","Rating","Multi","Boolean"],Bt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={btnLen:2},s}return Object(o.a)(a,[{key:"render",value:function(){var e="",t="";this.props.activePage<=0&&(e="disabled"),this.props.activePage>=this.props.totalLoaded/this.props.numPerPage-1&&(t="disabled");for(var a=[],s=-this.state.btnLen;s<=this.state.btnLen;s++){var n="",r=s+this.props.activePage;r<0||r>=this.props.totalLoaded/this.props.numPerPage||(0===s&&(n="active "),a.push(Object(G.jsx)("button",{className:"btn btn-outline-primary "+n,value:r,onClick:this.props.changeToNum,children:r},s)))}return Object(G.jsx)("div",{className:"paginator",children:Object(G.jsx)("div",{className:"container",children:Object(G.jsx)("div",{className:"row",children:Object(G.jsxs)("div",{className:"col",children:[Object(G.jsx)("button",{className:"btn btn-outline-primary "+e,value:"bck",onClick:this.props.changePrevNext,children:"Prev"}),a,Object(G.jsx)("button",{className:"btn btn-outline-primary "+t,value:"fwd",onClick:this.props.changePrevNext,children:"Next"})]})})})})}}]),a}(n.a.Component),Gt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).setLastClickedEvent=function(e){s.setState({lastClickedEventIndex:Number(e.target.value)})},s.getEventsFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return void s.props.refreshToken(s.getEvents);2===e.action||3===e.action||4===e.action||e.action}t=e.messages,s.setState({getEventsStatus:3,getEventsError:t})},s.getEventsSuccess=function(e){var t=[],a=[],n=[];for(var r in e)null===e[r].creatorCompany?t.push(e[r]):e[r].creatorDivision===s.props.currentDivisionID?n.push(e[r]):a.push(e[r]);s.setState({eventsGlobBin:t,eventsCompBin:a,eventsDivBin:n,getEventsStatus:2})},s.getEvents=function(){if(-1!==s.props.currentDivisionID){!function(e,t,a){var s={headers:{Authorization:"JWT ".concat(x)}};g.get("/getDivisionEvents/?reqDiv="+e,s).then((function(a){var s=a.data;for(var n in s){var r=!1;void 0!==s[n].usedBy.find((function(t){return t===Number(e)}))&&(r=!0),s[n].usedBy=r,s[n].fromServer=!0}t(s)})).catch((function(e){var t=D(e);a(t)}))}(s.props.currentDivisionID,s.getEventsSuccess,s.getEventsFailure),s.setState({getEventsStatus:1})}else console.log("MOVE IT BACK TO THE SELECT COMPANY HERE!")},s.saveEventsFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return void s.props.refreshToken(s.tokenHasRefreshedError);2===e.action||3===e.action||4===e.action||e.action}t=e.messages,s.setState({saveEventStatus:3,saveEventError:t})},s.saveEventsSuccess=function(e,t){if(!s.state.eventsDivBin[e].fromServer){var a=s.state.eventsDivBin.slice();a[e].id=Number(t.split(":")[1]),a[e].fromServer=!0,s.setState({eventsDivBin:a})}s.setState({saveEventStatus:2})},s.saveDivEvent=function(e){var t=s.state.eventsDivBin[e.target.value],a=t.id,n=t.triggerType,r=t.usedBy,i=t.enabled,c=[];for(var o in t.promptPool)c.push(t.promptPool[o].identifier);!function(e,t,a,s,n,r,i,c,o){var l={headers:{Authorization:"JWT ".concat(x)}},d={id:t,reqDiv:a,enabledDiv:s,enabled:n,triggerType:r,promptSet:i};g.post("/setDivisionEvents/",d,l).then((function(t){var a=t.data;c(e,a)})).catch((function(e){var t=D(e);o(t)}))}(Number(e.target.value),a,s.props.currentDivisionID,r,i,n,c,s.saveEventsSuccess,s.saveEventsFailure),s.setState({saveEventStatus:0})},s.saveNonDivEventsFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return void s.props.refreshToken(s.tokenHasRefreshedError);2===e.action||3===e.action||4===e.action||e.action}t=e.messages,s.setState({saveEventStatus:3,saveEventError:t})},s.saveNonDivEventsSuccess=function(e,t){s.setState({saveEventStatus:2})},s.saveGlobEvent=function(e){var t=s.state.eventsGlobBin[e.target.value],a=t.id,n=t.usedBy;F(Number(e.target.value),a,s.props.currentDivisionID,n,s.saveNonDivEventsSuccess,s.saveNonDivEventsFailure),s.setState({saveEventStatus:0})},s.saveCompEvent=function(e){var t=s.state.eventsCompBin[e.target.value],a=t.id,n=t.usedBy;F(Number(e.target.value),a,s.props.currentDivisionID,n,s.saveNonDivEventsSuccess,s.saveNonDivEventsFailure),s.setState({saveEventStatus:0})},s.searchForPromptsFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return void s.props.refreshToken(s.searchForPrompts);2===e.action||3===e.action||4===e.action||e.action}t=e.messages,s.setState({searchForStatus:3,searchForError:t})},s.searchForPromptsCallback=function(e){s.setState({promptsBin:e,hasSent:!0,searchForStatus:2})},s.searchForPrompts=function(){!function(e,t,a,s){var n={headers:{Authorization:"JWT ".concat(x)}};g.get("/searchPrompts/?queryText="+e+"&queryType="+t,n).then((function(e){var t=e.data;a(t)})).catch((function(e){var t=D(e);s(t)}))}(s.state.searchText,s.state.searchType,s.searchForPromptsCallback,s.searchForPromptsFailure),s.setState({searchForStatus:1})},s.deleteEventFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return void s.props.refreshToken(s.tokenHasRefreshedError);2===e.action||3===e.action||4===e.action||e.action}t=e.messages,s.setState({deleteEventStatus:3,deleteEventError:t})},s.deleteEventCallback=function(e,t){var a=Number(e),n=s.state.eventsDivBin.slice();n.splice(a,1),s.setState({eventsDivBin:n,deleteEventStatus:2})},s.deleteEvent=function(e){var t=s.state.eventsDivBin[Number(e.target.value)],a=t.id;t.fromServer?(!function(e,t,a,s,n){var r={headers:{Authorization:"JWT ".concat(x)}},i={id:t,reqDiv:a};g.post("/deleteDivisionEvents/",i,r).then((function(t){var a=t.data;s(e,a)})).catch((function(e){var t=D(e);n(t)}))}(Number(e.target.value),a,s.props.currentDivisionID,s.deleteEventCallback,s.deleteEventFailure),s.setState({deleteEventStatus:1})):s.deleteEventCallback(Number(e.target.value),"Not On The Server")},s.createEvent=function(){var e=s.state.eventsDivBin.slice();e.push({id:-1,triggerType:0,promptPool:[],enabled:!0,usedBy:!1,fromServer:!1}),s.setState({eventsDivBin:e})},s.changeInput=function(e){s.setState({searchText:e.target.value})},s.deleteEventPrompt=function(e){var t=Number(e.target.name),a=Number(e.target.value),n=s.state.eventsDivBin.slice();n[t].promptPool.splice(a,1),s.setState({eventsDivBin:n})},s.addingEventPrompt=function(e){var t=Number(e.target.value),a=s.state.lastClickedEventIndex;if(a>=0){var n=s.state.eventsDivBin.slice(),r=0;void 0===n[a].promptPool.find((function(e){return e.identifier===s.state.promptsBin[t].identifier}))?(n[a].promptPool.push(s.state.promptsBin[t]),r=1):r=2,s.setState({eventsDivBin:n,addedPrompt:r})}},s.changeTrigger=function(e){var t=e.target.name.split(","),a=s.state.eventsDivBin.slice();a[t[0]].triggerType=Number(t[1]),s.setState({eventsDivBin:a})},s.enabledGlobalFieldChange=function(e){var t=s.state.eventsGlobBin.slice();t[e.target.name].usedBy=!t[e.target.name].usedBy,s.setState({eventsGlobBin:t})},s.enabledCompanyFieldChange=function(e){var t=s.state.eventsCompBin.slice();t[e.target.name].usedBy=!t[e.target.name].usedBy,s.setState({eventsCompBin:t})},s.enabledDivisionFieldChange=function(e){var t=s.state.eventsDivBin.slice();t[e.target.name].usedBy=!t[e.target.name].usedBy,s.setState({eventsDivBin:t})},s.enabledDivisionFieldChangeSuper=function(e){var t=s.state.eventsDivBin.slice();t[e.target.name].enabled=!t[e.target.name].enabled,s.setState({eventsDivBin:t})},s.changePageTo=function(e){var t=Number(e.target.value);s.setState({pageNum:t})},s.changePageFwdBck=function(e){var t=Number(s.state.pageNum);if("fwd"===e.target.value){if((t+=1)>s.state.promptsBin.length/s.state.numPerPage)return}else if("bck"===e.target.value&&(t-=1)<0)return;s.setState({pageNum:t})},s.tokenHasRefreshedError=function(){console.log("Try again, the token needed to be refreshed...")},s.state={eventsGlobBin:[],eventsCompBin:[],eventsDivBin:[],promptsBin:[],pageNum:0,numPerPage:5,searchText:"",searchType:"text",hasSent:!1,lastClickedEventIndex:-1,addedPrompt:0,getEventsStatus:0,getEventsError:[],saveEventStatus:0,saveEventError:[],searchForStatus:0,searchForError:[],deleteEventStatus:0,deleteEventError:[]},s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.getEvents()}},{key:"render",value:function(){var e=this,t=1===this.state.getEventsStatus||1===this.state.saveEventStatus||1===this.state.deleteEventStatus,a=2===this.state.saveEventStatus||2===this.state.deleteEventStatus,s=3===this.state.getEventsStatus||3===this.state.saveEventStatus||3===this.state.deleteEventStatus,n=[];for(var r in this.state.getEventsError)n.push(this.state.getEventsError[r].text);for(var i in this.state.saveEventError)n.push(this.state.saveEventError[i].text);for(var c in this.state.deleteEventError)n.push(this.state.deleteEventError[c].text);for(var o in this.state.searchForError)n.push(this.state.searchForError[o].text);0===n.length&&n.push("Unknown!");var l=[],d=[];for(var h in this.state.eventsGlobBin){var u=this.state.eventsGlobBin[h];d.push(Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"card",children:[Object(G.jsx)("div",{className:"card-header"}),Object(G.jsxs)("div",{className:"card-body",children:[Object(G.jsx)("div",{className:"row",children:Object(G.jsxs)("div",{className:"col",children:["Trigger Type: ",Ht[u.triggerType]]})}),Object(G.jsx)("div",{className:"row m-1",children:Object(G.jsxs)("div",{className:"col",children:[Object(G.jsx)("b",{children:Object(G.jsx)("u",{children:Object(G.jsx)("i",{children:u.promptPool.length})})})," Prompts",Object(G.jsx)("button",{className:"btn btn-secondary mx-2","data-toggle":"modal","data-target":"#globPrompts"+h,children:"Show"})]})}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"custom-control custom-checkbox",children:[Object(G.jsx)("input",{type:"checkbox",className:"custom-control-input",id:"customCheckGlob"+h,name:h,value:u.usedBy,onChange:this.enabledGlobalFieldChange,checked:u.usedBy}),Object(G.jsx)("label",{className:"custom-control-label",htmlFor:"customCheckGlob"+h,children:"Enabled For This Division"})]})})}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"custom-control custom-checkbox",children:[Object(G.jsx)("input",{type:"checkbox",className:"custom-control-input",id:"customCheckGlob2"+h,name:h,value:u.enabled,checked:u.enabled,disabled:!0}),Object(G.jsx)("label",{className:"custom-control-label",htmlFor:"customCheckGlob2"+h,children:"Is Enabled"})]})})}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("button",{className:"btn btn-primary",value:h,onClick:this.saveGlobEvent,children:"Save Changes"})})})]})]})},h));var m=[];for(var b in u.promptPool){var p=u.promptPool[b].text.substring(0,12)+"...";m.push(Object(G.jsxs)("tr",{children:[Object(G.jsx)("th",{scope:"row",children:Object(G.jsx)("button",{className:"btn btn-outline-secondary","data-toggle":"collapse","data-target":"#displayGlobPromptCollapse"+h+b,children:p})}),Object(G.jsx)("td",{children:u.promptPool[b].identifier}),Object(G.jsx)("td",{children:Vt[u.promptPool[b].promptType]})]},b),Object(G.jsx)("tr",{children:Object(G.jsx)("th",{scope:"row",colSpan:"4",className:"collapse",id:"displayGlobPromptCollapse"+h+b,children:u.promptPool[b].text})},1+b+u.promptPool.length))}0===m.length&&m.push(Object(G.jsx)("tr",{children:Object(G.jsx)("th",{scope:"row",colSpan:"4",children:"Nothing here!"})},0)),l.push(Object(G.jsx)("div",{className:"modal fade",id:"globPrompts"+h,tabIndex:"-1",role:"dialog","aria-labelledby":"globPromptsDisplayer","aria-hidden":"true",children:Object(G.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:Object(G.jsxs)("div",{className:"modal-content",children:[Object(G.jsxs)("div",{className:"modal-header",children:[Object(G.jsx)("h5",{className:"modal-title",children:"Altering Prompts"}),Object(G.jsx)("button",{type:"btn btn-danger",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(G.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(G.jsx)("div",{className:"modal-body",children:Object(G.jsxs)("table",{className:"table",children:[Object(G.jsx)("thead",{children:Object(G.jsxs)("tr",{children:[Object(G.jsx)("th",{scope:"col",children:"Text"}),Object(G.jsx)("th",{scope:"col",children:"IID?"}),Object(G.jsx)("th",{scope:"col",children:"Type"})]})}),Object(G.jsx)("tbody",{children:m})]},"1")}),Object(G.jsx)("div",{className:"modal-footer"})]})})},h))}0===d.length&&d.push(Object(G.jsx)("div",{className:"col",children:"Nothing Here!"},0));var v=[],g=[];for(var x in this.state.eventsCompBin){var O=this.state.eventsCompBin[x];g.push(Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"card",children:[Object(G.jsx)("div",{className:"card-header"}),Object(G.jsxs)("div",{className:"card-body",children:[Object(G.jsx)("div",{className:"row",children:Object(G.jsxs)("div",{className:"col",children:["Trigger Type: ",Ht[O.triggerType]]})}),Object(G.jsx)("div",{className:"row m-1",children:Object(G.jsxs)("div",{className:"col",children:[Object(G.jsx)("b",{children:Object(G.jsx)("u",{children:Object(G.jsx)("i",{children:O.promptPool.length})})})," Prompts",Object(G.jsx)("button",{className:"btn btn-secondary mx-2","data-toggle":"modal","data-target":"#compPrompts"+x,children:"Show"})]})}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"custom-control custom-checkbox",children:[Object(G.jsx)("input",{type:"checkbox",className:"custom-control-input",id:"customCheckComp"+x,name:x,value:O.usedBy,onChange:this.enabledCompanyFieldChange,checked:O.usedBy}),Object(G.jsx)("label",{className:"custom-control-label",htmlFor:"customCheckComp"+x,children:"Enabled For This Division"})]})})}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"custom-control custom-checkbox",children:[Object(G.jsx)("input",{type:"checkbox",className:"custom-control-input",id:"customCheckComp2"+x,name:x,value:O.enabled,checked:O.enabled,disabled:!0}),Object(G.jsx)("label",{className:"custom-control-label",htmlFor:"customCheckComp2"+x,children:"Is Enabled"})]})})}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("button",{className:"btn btn-primary",value:x,onClick:this.saveCompEvent,children:"Save Changes"})})})]})]})},x));var f=[];for(var N in O.promptPool){var S=O.promptPool[N].text.substring(0,12)+"...";f.push(Object(G.jsxs)("tr",{children:[Object(G.jsx)("th",{scope:"row",children:Object(G.jsx)("button",{className:"btn btn-outline-secondary","data-toggle":"collapse","data-target":"#displayCompPromptCollapse"+x+N,children:S})}),Object(G.jsx)("td",{children:O.promptPool[N].identifier}),Object(G.jsx)("td",{children:Vt[O.promptPool[N].promptType]})]},N),Object(G.jsx)("tr",{children:Object(G.jsx)("th",{scope:"row",colSpan:"4",className:"collapse",id:"displayCompPromptCollapse"+x+N,children:O.promptPool[N].text})},1+N+O.promptPool.length))}0===f.length&&f.push(Object(G.jsx)("tr",{children:Object(G.jsx)("th",{scope:"row",colSpan:"4",children:"Nothing here!"})},0)),v.push(Object(G.jsx)("div",{className:"modal fade",id:"compPrompts"+x,tabIndex:"-1",role:"dialog","aria-labelledby":"compPromptsDisplayer","aria-hidden":"true",children:Object(G.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:Object(G.jsxs)("div",{className:"modal-content",children:[Object(G.jsxs)("div",{className:"modal-header",children:[Object(G.jsx)("h5",{className:"modal-title",children:"Altering Prompts"}),Object(G.jsx)("button",{type:"btn btn-danger",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(G.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(G.jsx)("div",{className:"modal-body",children:Object(G.jsxs)("table",{className:"table",children:[Object(G.jsx)("thead",{children:Object(G.jsxs)("tr",{children:[Object(G.jsx)("th",{scope:"col",children:"Text"}),Object(G.jsx)("th",{scope:"col",children:"IID?"}),Object(G.jsx)("th",{scope:"col",children:"Type"})]})}),Object(G.jsx)("tbody",{children:f})]},"1")}),Object(G.jsx)("div",{className:"modal-footer"})]})})},x))}0===g.length&&g.push(Object(G.jsx)("div",{className:"col",children:"Nothing Here!"},0));var y=[],D=[],C=function(t){var a=e.state.eventsDivBin[t];D.push(Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"card",children:[Object(G.jsxs)("div",{className:"card-header",children:[!a.fromServer&&Object(G.jsx)("div",{className:"text-danger",children:"Not Saved!"}),"Delete",Object(G.jsx)("button",{className:"badge badge-danger badge-pill",name:"test",value:t,onClick:e.deleteEvent,children:"X"})]}),Object(G.jsxs)("div",{className:"card-body",children:[Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"dropdown",children:["Trigger Type:",Object(G.jsx)("div",{className:"btn btn-secondary mx-2",type:"button",id:"EventButton"+t,"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:Ht[a.triggerType]}),Object(G.jsx)("div",{className:"dropdown-menu","aria-labelledby":"EventButton"+t,children:Ht.map((function(a,s){return Object(G.jsx)("div",{children:Object(G.jsx)("button",{className:"dropdown-item",name:[t,s],onClick:e.changeTrigger,children:a})},s)}))})]})})}),Object(G.jsx)("div",{className:"row m-1",children:Object(G.jsxs)("div",{className:"col",children:[Object(G.jsx)("b",{children:Object(G.jsx)("u",{children:Object(G.jsx)("i",{children:a.promptPool.length})})})," Prompts",Object(G.jsx)("button",{className:"btn btn-secondary mx-2","data-toggle":"modal","data-target":"#changePrompts"+t,children:"Change"})]})}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"custom-control custom-checkbox",children:[Object(G.jsx)("input",{type:"checkbox",className:"custom-control-input",id:"customCheckDiv"+t,name:t,value:a.usedBy,onChange:e.enabledDivisionFieldChange,checked:a.usedBy}),Object(G.jsx)("label",{className:"custom-control-label",htmlFor:"customCheckDiv"+t,children:"Enabled For This Division"})]})})}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"custom-control custom-checkbox",children:[Object(G.jsx)("input",{type:"checkbox",className:"custom-control-input",id:"customCheckDiv2"+t,name:t,value:a.enabled,onChange:e.enabledDivisionFieldChangeSuper,checked:a.enabled,disabled:!0}),Object(G.jsx)("label",{className:"custom-control-label",htmlFor:"customCheckDiv2"+t,children:"Enabled For ALL Divisions"})]})})}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("button",{className:"btn btn-primary",value:t,onClick:e.saveDivEvent,children:"Save"})})})]})]})},t));var s=[];for(var n in a.promptPool){var r=a.promptPool[n].text.substring(0,12)+"...";s.push(Object(G.jsxs)("tr",{children:[Object(G.jsx)("th",{scope:"row",children:Object(G.jsx)("button",{className:"btn btn-outline-secondary","data-toggle":"collapse","data-target":"#displayPromptCollapse"+t+n,children:r})}),Object(G.jsx)("td",{children:a.promptPool[n].identifier}),Object(G.jsx)("td",{children:Vt[a.promptPool[n].promptType]}),Object(G.jsx)("th",{children:Object(G.jsx)("button",{className:"close",type:"button",value:n,name:t,onClick:e.deleteEventPrompt,"aria-label":"Close",children:"\xd7"})})]},n),Object(G.jsx)("tr",{children:Object(G.jsx)("th",{scope:"row",colSpan:"4",className:"collapse",id:"displayPromptCollapse"+t+n,children:a.promptPool[n].text})},1+n+a.promptPool.length))}0===s.length&&s.push(Object(G.jsx)("tr",{children:Object(G.jsx)("th",{scope:"row",colSpan:"4",children:"Nothing here!"})},0)),y.push(Object(G.jsx)("div",{className:"modal fade",id:"changePrompts"+t,tabIndex:"-1",role:"dialog","aria-labelledby":"promptChanger","aria-hidden":"true",children:Object(G.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:Object(G.jsxs)("div",{className:"modal-content",children:[Object(G.jsxs)("div",{className:"modal-header",children:[Object(G.jsx)("h5",{className:"modal-title",children:"Altering Prompts"}),Object(G.jsx)("button",{type:"btn btn-danger",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(G.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(G.jsxs)("div",{className:"modal-body",children:[Object(G.jsxs)("table",{className:"table",children:[Object(G.jsx)("thead",{children:Object(G.jsxs)("tr",{children:[Object(G.jsx)("th",{scope:"col",children:"Text"}),Object(G.jsx)("th",{scope:"col",children:"IID?"}),Object(G.jsx)("th",{scope:"col",children:"Type"}),Object(G.jsx)("th",{scope:"col",children:"Delete"})]})}),Object(G.jsx)("tbody",{children:s})]},"1"),Object(G.jsx)("button",{className:"btn btn-primary",value:t,onClick:e.setLastClickedEvent,"data-toggle":"modal","data-target":"#addPrompts",children:"Add New Prompt"})]}),Object(G.jsx)("div",{className:"modal-footer"})]})})},t))};for(var w in this.state.eventsDivBin)C(w);0===g.length&&g.push(Object(G.jsx)("div",{className:"col",children:"Nothing Here!"},0));var k=[];if(this.state.promptsBin.length>0)for(var E=0;E<this.state.numPerPage;E++){var P=E+this.state.pageNum*this.state.numPerPage;if(P>=this.state.promptsBin.length)break;var I=this.state.promptsBin[P].text.substring(0,12)+"...";k.push(Object(G.jsxs)("tr",{children:[Object(G.jsx)("th",{scope:"row",children:Object(G.jsx)("button",{className:"btn btn-outline-secondary","data-toggle":"collapse","data-target":"#collapseExample"+P,children:I})}),Object(G.jsx)("td",{children:this.state.promptsBin[P].identifier}),Object(G.jsx)("td",{children:this.state.promptsBin[P].property1}),Object(G.jsx)("th",{children:Object(G.jsx)("button",{className:"btn btn-outline-secondary",value:P,onClick:this.addingEventPrompt,children:"+"})})]},P),Object(G.jsx)("tr",{children:Object(G.jsx)("th",{scope:"row",colSpan:"4",className:"collapse",id:"collapseExample"+P,children:this.state.promptsBin[P].text})},1+P+this.state.promptsBin.length))}else this.state.hasSent?k.push(Object(G.jsx)("tr",{children:Object(G.jsx)("th",{scope:"row",colSpan:"4",children:"No Results!"})},0)):k.push(Object(G.jsx)("tr",{children:Object(G.jsx)("th",{scope:"row",colSpan:"4",children:"Waiting for Search!"})},0));return Object(G.jsx)("div",{className:"EHIDisplay",children:Object(G.jsxs)("div",{className:"container-fluid",children:[Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"card shadow",children:[Object(G.jsx)("div",{className:"card-header",children:Object(G.jsx)("h5",{children:"This Division's Events"})}),Object(G.jsxs)("div",{className:"card-body",children:[Object(G.jsx)("div",{className:"row",children:D}),Object(G.jsx)("div",{className:"row my-2",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("button",{className:"btn btn-primary",onClick:this.createEvent,children:"Create Event"})})})]})]})})}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"card shadow",children:[Object(G.jsx)("div",{className:"card-header",children:Object(G.jsx)("h5",{children:"This Company's Shared Events"})}),Object(G.jsx)("div",{className:"card-body",children:Object(G.jsx)("div",{className:"row",children:g})})]})})}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"card shadow",children:[Object(G.jsx)("div",{className:"card-header",children:Object(G.jsx)("h5",{children:"Global Events"})}),Object(G.jsx)("div",{className:"card-body",children:Object(G.jsx)("div",{className:"row",children:d})})]})})}),Object(G.jsxs)(j.a,{show:t,variant:"warning",children:[Object(G.jsx)(j.a.Heading,{children:"Waiting"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"Waiting for server response..."}),Object(G.jsx)("hr",{})]}),Object(G.jsxs)(j.a,{show:a,variant:"success",children:[Object(G.jsx)(j.a.Heading,{children:"Success!"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"Successfully obtained data or saved!"}),Object(G.jsx)("hr",{})]}),Object(G.jsxs)(j.a,{show:s,variant:"danger",children:[Object(G.jsx)(j.a.Heading,{children:"Error!"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:n}),Object(G.jsx)("hr",{})]}),l,v,y,Object(G.jsx)("div",{className:"modal fade",id:"addPrompts",tabIndex:"-1",role:"dialog","aria-labelledby":"promptAdder","aria-hidden":"true",children:Object(G.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:Object(G.jsxs)("div",{className:"modal-content",children:[Object(G.jsxs)("div",{className:"modal-header",children:[Object(G.jsx)("h5",{className:"modal-title",children:"Adding Prompts"}),Object(G.jsx)("button",{type:"btn btn-danger",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(G.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(G.jsxs)("div",{className:"modal-body",children:[Object(G.jsxs)("div",{className:"input-group rounded",children:[Object(G.jsx)("input",{type:"search",className:"form-control rounded",placeholder:"Search Text","aria-label":"Search","aria-describedby":"search-addon",onChange:this.changeInput}),Object(G.jsx)("button",{className:"input-group-text border-0",id:"search-addon",onClick:this.searchForPrompts,children:Object(G.jsx)(Rt.a,{className:"iconBG",color:"black",size:16})})]}),Object(G.jsxs)("table",{className:"table",children:[Object(G.jsx)("thead",{children:Object(G.jsxs)("tr",{children:[Object(G.jsx)("th",{scope:"col",children:"Text"}),Object(G.jsx)("th",{scope:"col",children:"IID?"}),Object(G.jsx)("th",{scope:"col",children:"Prop 1?"}),Object(G.jsx)("th",{scope:"col",children:"Add"})]})}),Object(G.jsx)("tbody",{children:k})]},"1"),1===this.state.addedPrompt&&Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col text-success",children:"Added!"})}),2===this.state.addedPrompt&&Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col text-warning",children:"Already on the list!"})})]}),Object(G.jsx)("div",{className:"modal-footer",children:Object(G.jsx)(Bt,{activePage:this.state.pageNum,changePrevNext:this.changePageFwdBck,changeToNum:this.changePageTo,totalLoaded:this.state.promptsBin.length,numPerPage:this.state.numPerPage})})]})})})]})})}}]),a}(n.a.Component),qt=Object(u.f)(Gt),zt=a(238),Kt=a.n(zt),Yt={nodes:{mass:1.1,shape:"box",chosen:{node:function(e,t,a,s){e.shadow=!0,e.color="#AAFFAA"},label:function(e,t,a,s){e.mod="bold"}}},edges:{color:"#000000",arrowStrikethrough:!0,smooth:{type:"dynamic"},chosen:{edge:function(e,t,a,s){e.shadow=!0,e.width=3},label:function(e,t,a,s){e.size=20,e.mod="bold"}}},layout:{hierarchical:!1},interaction:{hover:!0,dragNodes:!0},physics:{solver:"barnesHut",maxVelocity:50,minVelocity:.1},height:"500px"},Zt=function(e){var t=0,a=0;e<0?t=Math.floor(255*-e):a=Math.floor(255*e);var s=t.toString(16);t<15&&(s="0"+s);var n=a.toString(16);a<15&&(n="0"+n);var r=(0).toString(16);return"#"+s+n+(r="0"+r)},Xt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).GenerateGraph=function(e){var t,a={nodes:[],edges:[]};for(var s in e){var n="#FFF0F0";for(var r in e[s].isTracked&&(n="#FFFFFF"),a.nodes.push({id:e[s].id,label:e[s].name,color:{border:"#000000",background:n}}),e[s].toSet)a.edges.push({from:e[s].id,to:e[s].toSet[r].to,label:(Math.floor(100*e[s].toSet[r].sentiment)/100).toString(),width:(t=e[s].toSet[r].sentiment,Math.abs(2*t)+.1),color:Zt(e[s].toSet[r].sentiment)})}return a},s.selectStuffPrimary=function(e){var t=e.nodes,a=e.edges;if(t.length>0){var n=[];for(var r in t)n.push(s.state.loadedData[t[r]].name);s.setState({selectedNodes:n})}else s.setState({selectedNodes:"None"});a.length},s.getCompanyWebFailure=function(e){if(0===e.action);else{if(1===e.action)return void s.props.refreshToken(s.getCompanyWebRecent);e.action}s.setState({getWebStatus:3,getDatesWebError:e.messages})},s.getCompanyWebCallback=function(e){var t=[];e.length>0&&(t=e[0].webStructure),s.setState({loadedData:t,graphDataPrimary:s.GenerateGraph(t),loadedDataDate:"Current",getWebStatus:2})},s.getCompanyWebRecent=function(){if(-1!==s.props.currentDivisionID){L(s.props.currentDivisionID,void 0,s.getCompanyWebCallback,s.getCompanyWebFailure),s.setState({getWebStatus:1})}else s.props.history.push(s.props.reRouteTarget)},s.getCompanyWebPreviousFailure=function(e){if(0===e.action);else{if(1===e.action)return void s.props.refreshToken(s.getCompanyWebRecent);e.action}s.setState({getWebStatus:3,getDatesWebError:e.messages})},s.getCompanyWebPreviousCallback=function(e){var t=[],a="Unknown";e.length>0&&(t=e[0].webStructure,a=e[0].forDate),s.setState({loadedData:t,graphDataPrimary:s.GenerateGraph(t),loadedDataDate:a,getWebStatus:2})},s.getCompanyWebPrevious=function(e){if(-1!==s.props.currentDivisionID){L(s.props.currentDivisionID,e,s.getCompanyWebPreviousCallback,s.getCompanyWebPreviousFailure),s.setState({getWebStatus:1})}else s.props.history.push(s.props.reRouteTarget)},s.pickDate=function(e){s.setState({selectedWebDay:e}),s.getCompanyWebPrevious(e)},s.loadData=function(){var e=function(){for(var e=[{id:0,name:"Premade 1",isTracked:!0,toSet:[{to:1,sentiment:.8},{to:2,sentiment:-.87}]},{id:1,name:"Premade 2",isTracked:!0,toSet:[{to:0,sentiment:.25}]}],t=2;t<20;t++){for(var a=[],s=0;s<Math.floor(6*Math.random());s++)a.push({to:Math.floor(20*Math.random()),sentiment:2*Math.random()-1});var n=Math.random()>.5;e.push({id:t,name:"Random "+t,isTracked:n,toSet:a})}return e}();s.setState({loadedDataDate:"Current",loadedData:e,graphDataPrimary:s.GenerateGraph(e)})},s.state={loadedDataDate:"None",loadedData:[],graphDataPrimary:s.GenerateGraph([]),selectedNodes:["None"],getWebStatus:0,getDatesWebStatus:0,getDatesWebError:[],selectedWebDay:new Date},s}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t={select:this.selectStuffPrimary},a=0===this.state.getWebStatus,s=1===this.state.getWebStatus,n=2===this.state.getWebStatus,r=3===this.state.getWebStatus,i="Showing Current Web";"None"===this.state.loadedDataDate?i="No Data!":"Current"!==this.state.loadedDataDate&&(i="Showing Legacy Web From: "+this.state.loadedDataDate);var c=[];for(var o in this.state.getDatesWebError)c.push(Object(G.jsx)("div",{children:this.state.getDatesWebError[o].text}));return Object(G.jsxs)("div",{className:"TestStuff bg-secondary",children:[Object(G.jsxs)("div",{className:"container bg-light border",children:[Object(G.jsx)("div",{className:"row",children:Object(G.jsxs)("div",{className:"col",children:[Object(G.jsx)("button",{className:"btn btn-secondary",onClick:this.loadData,children:"Load Example Data"}),Object(G.jsx)("button",{className:"btn btn-dark",onClick:this.getCompanyWebRecent,children:"Load (Actual) Web From Server"})]})}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)(We.a,{children:[Object(G.jsx)(We.a.Toggle,{as:Je.a.Header,className:"border",variant:"link",eventKey:"open",children:"Get a Previous Web"}),Object(G.jsx)(We.a.Collapse,{eventKey:"open",children:Object(G.jsxs)("div",{className:"row",children:[Object(G.jsx)("div",{className:"col"}),Object(G.jsx)("div",{className:"col-",children:Object(G.jsx)(Fe.a,{onChange:this.pickDate,value:this.state.selectedWebDay,tileClassName:function(t){var a=t.date,s=t.view,n=!1,r=String(a.getFullYear()),i=String(a.getMonth()+1);i<10&&(i="0"+i);var c=String(a.getDate());c<10&&(c="0"+c);var o=r+"-"+i+"-"+c;if("month"===s)try{n=e.props.validDivisionWebDates.find((function(e){return e.forDate===o}))}catch(l){}if(n)return"btn btn-success"},minDetail:"year",maxDetail:"month"})}),Object(G.jsx)("div",{className:"col"})]})})]})})}),Object(G.jsx)("div",{className:"border",children:0===this.state.loadedData.length?Object(G.jsxs)("div",{className:"row my-5",children:[a&&Object(G.jsx)("div",{className:"col",children:"Waiting for signal to get data"}),s&&Object(G.jsx)("div",{className:"col",children:"Getting Data..."}),n&&Object(G.jsx)("div",{className:"col",children:"Server reported no web!"})]}):Object(G.jsxs)("div",{children:[Object(G.jsxs)("div",{children:[Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("u",{children:i})})}),Object(G.jsx)(Kt.a,{graph:this.state.graphDataPrimary,options:Yt,events:t,getNetwork:function(e){}})]}),Object(G.jsxs)("div",{className:"border-top",children:[Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("u",{children:"Selected Nodes:"})})}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:this.state.selectedNodes})})]})]})})]}),Object(G.jsxs)(j.a,{show:s,variant:"warning",children:[Object(G.jsx)(j.a.Heading,{children:"Waiting"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"Waiting for server..."}),Object(G.jsx)("hr",{})]}),Object(G.jsxs)(j.a,{show:r,variant:"danger",children:[Object(G.jsx)(j.a.Heading,{children:"Error!"}),Object(G.jsx)("hr",{}),c,Object(G.jsx)("hr",{})]})]})}}]),a}(n.a.Component),_t=Object(u.f)(Xt),Qt=function(e){return Object(G.jsx)("div",{className:"defaultView",children:Object(G.jsx)("h3",{children:"404! You have selected and invalid page"})})},$t=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).changeEHIPrompt=function(e){s.setState({EHISelectedPrompt:e.currentTarget.value})},s.changeEHITimescale=function(e){s.setState({EHISelectedTimescale:e.currentTarget.value})},s.EHITimeToggle=function(e){s.setState({EHITimespan:e})},s.state={EHITimespan:3,EHISelectedPrompt:"none",EHISelectedTimescale:"none",companySelectPage:1},s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.activateCompanyMenu(1)}},{key:"componentWillUnmount",value:function(){this.props.disableMenu()}},{key:"render",value:function(){var e=this;return Object(G.jsx)("div",{className:"contentPages",children:Object(G.jsx)("div",{className:"container",children:Object(G.jsx)("div",{className:"row m-1 my-5",children:Object(G.jsx)("div",{className:"col m-1",children:Object(G.jsxs)(u.c,{children:[Object(G.jsx)(u.a,{path:this.props.match.url+"/companySelect",exact:!0,component:function(){return Object(G.jsx)(Et,{companySelectPage:e.state.companySelectPage,currentDivisionName:e.props.currentDivisionName,userLoadedCompanyList:e.props.userLoadedCompanyList,getDataRequest:e.props.getCompanyDataRequest,getCompanyDataStatus:e.props.getCompanyDataStatus,getCompanyValidDatesStatus:e.props.getCompanyValidDatesStatus,getCompanyValidDatesError:e.props.getCompanyValidDatesError,getCompanyValidSuggestionDatesStatus:e.props.getCompanyValidSuggestionDatesStatus,getCompanyValidSuggestionDatesError:e.props.getCompanyValidSuggestionDatesError,getCompanyEHIDataStatus:e.props.getCompanyEHIDataStatus,getCompanyEHIDataError:e.props.getCompanyEHIDataError,getDatesWebStatus:e.props.getDatesWebStatus,getDatesWebError:e.props.getDatesWebError})}}),Object(G.jsx)(u.a,{path:this.props.match.url+"/companyInvites",component:function(){return Object(G.jsx)(Ot,{currentDivisionID:e.props.currentDivisionID,triggerRefresh:e.props.loadCompanyData,refreshToken:e.props.refreshToken})}}),Object(G.jsx)(u.a,{path:this.props.match.url+"/companyPerms",component:function(){return Object(G.jsx)(Nt,{currentDivisionID:e.props.currentDivisionID,triggerRefresh:e.props.loadCompanyData,refreshToken:e.props.refreshToken})}}),Object(G.jsx)(u.a,{path:this.props.match.url+"/companySettings",component:function(){return Object(G.jsx)(Dt,{currentDivisionID:e.props.currentDivisionID,triggerRefresh:e.props.loadCompanyData,refreshToken:e.props.refreshToken})}}),Object(G.jsx)(u.a,{path:this.props.match.url+"/companySuggestions",component:function(){return Object(G.jsx)(Pt,{currentDate:e.props.selectedSuggestDay,validDays:e.props.validDivisionSuggestionDates,dataDay:e.props.selectedSuggestDay,dataSet:e.props.selectedSuggestDayData,pickDate:e.props.getCompanySuggestionData,currentDivisionID:e.props.currentDivisionID,getCompanySuggestionDataStatus:e.props.getCompanySuggestionDataStatus,getCompanySuggestionDataError:e.props.getCompanySuggestionDataError})}}),Object(G.jsx)(u.a,{path:this.props.match.url+"/companyEHI",component:function(){return Object(G.jsx)(vt,{currentDivisionID:e.props.currentDivisionID,timeIndex:e.state.EHITimespan,EHIData:e.props.EHIData,EHIselectedPrompt:e.state.EHISelectedPrompt,EHIselectedTimescale:e.state.EHISelectedTimescale,EHISetPrompt:e.changeEHIPrompt,EHISetTimescale:e.changeEHITimescale,EHITimeToggle:e.EHITimeToggle})}}),Object(G.jsx)(u.a,{path:this.props.match.url+"/companySummary",component:function(){return Object(G.jsx)(Mt,{currentDate:e.props.selectedCompanyDate,currentCompany:e.props.currentCompanyDataName,summaryType:e.props.currentCompanyDataType,validSummaryDates:e.props.validCompanySummaryDates,displayMessage:e.props.companyMessage,dataSet:e.props.selectedSummaryWeekData,selectedDay:e.props.selectedCompanyDay,selectedPrompt:e.props.selectedCompanyPrompt,selectedAspect:e.props.selectedCompanyAspect,setPrompt:e.props.changeCompanyPrompt,setAI:e.props.changeCompanyAspect,setDay:e.props.changeCompanyDay,setCompany:e.props.changeSelectedCompany,getValidDates:e.props.getCompanyValidDates,pickDate:e.props.getCompanyWeeklySummary,getCompanyWeeklySummaryStatus:e.props.getCompanyWeeklySummaryStatus,getCompanyWeeklySummaryError:e.props.getCompanyWeeklySummaryError})}}),Object(G.jsx)(u.a,{path:this.props.match.url+"/companyPrompts",component:function(){return Object(G.jsx)(qt,{refreshToken:e.props.refreshToken,currentDivisionID:e.props.currentDivisionID})}}),Object(G.jsx)(u.a,{path:this.props.match.url+"/companyWeb",component:function(){return Object(G.jsx)(_t,{refreshToken:e.props.refreshToken,currentDivisionID:e.props.currentDivisionID,reRouteTarget:e.props.match.url+"/companySelect",validDivisionWebDates:e.props.validDivisionWebDates})}}),Object(G.jsx)(u.a,{path:this.props.match.url+"/",component:function(){return Object(G.jsx)(Qt,{})}})]})})})})})}}]),a}(n.a.Component),ea=Object(u.f)($t),ta=(a(532),a(533),"/scenere"),aa=!1,sa=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).timedRefresh=function(){console.log("Token Refreshed!")},s.disableMenu=function(){try{s.refs.sidebar.disableMenu()}catch(e){}},s.activateUserMenu=function(){try{s.refs.sidebar.activateMenu(0)}catch(e){}},s.activateCompanyMenu=function(){try{s.refs.sidebar.activateMenu(1)}catch(e){}},s.changeCompanyMenuItems=function(e){try{s.refs.sidebar.setCompanyFlag(e)}catch(t){}},s.changeMenuUserName=function(e){try{s.refs.sidebar.setUserName(e)}catch(t){}},s.changeMenuCompanyName=function(e){try{s.refs.sidebar.setCompanyName(e)}catch(t){}},s.loadFromLocalStorage=function(){var e=K("lastUser");0===e||1===e||2===e||(s.changeMenuUserName(e.user),s.login(e.refresh,void 0,e.user,!0))},s.silentTokenUpdate=function(e,t){f(t),N(e)},s.killAccessToken=function(){f("")},s.killRefreshToken=function(){N("")},s.login=function(e,t,a,n){return s.changeMenuUserName(a),!0===n&&Y("lastUser",{user:a,refresh:e},2),s.silentTokenUpdate(e,t),s.setState({currentUser:a,rememberMe:n}),s.timerSet=setInterval(s.timedRefreshToken,72e4),!0},s.refreshFailure=function(e,t){s.logout(),aa=!1},s.refreshCallback=function(e,t){s.silentTokenUpdate(e.refresh,e.access),aa=!1,t()},s.silentRefreshToken=function(e){!function(e,t,a){var s={refresh:O};g.post("/api/refreshToken/",s).then((function(t){e(t.data,a)})).catch((function(e){var a=D(e);t(a)}))}(s.refreshCallback,s.refreshFailure,e)},s.timedRefreshToken=function(){s.silentRefreshToken(s.timedRefresh)},s.logout=function(){var e;s.setState({currentUser:void 0}),clearInterval(s.timerSet),s.changeMenuUserName("No User"),s.silentTokenUpdate(void 0,void 0),e="lastUser",b.a.remove(e)},s.triggerSilentRefreshToken=function(e){void 0===s.state.currentUser||aa||(s.silentRefreshToken(e),aa=!0)},s.state={currentUser:void 0,rememberMe:!1,refreshTimer:void 0},s.timerSet=void 0,s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.loadFromLocalStorage()}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this;return Object(G.jsx)(h.a,{children:Object(G.jsxs)("div",{className:"App",children:[Object(G.jsx)(z,{ref:"sidebar",basePath:ta}),Object(G.jsx)(je,{currentUser:this.state.currentUser,logout:this.logout,reRouteSignIn:"/scenere/signin",reRouteSignUp:"/scenere/signup",reRouteLanding:"/scenere/",reRouteDashboard:"/scenere/dashboard",reRouteUserInvites:"/scenere/dashboard/userMode/userInvite",reRouteUserSecurity:"/scenere/dashboard/userMode/userSecurity",reRouteUserPermissions:"/scenere/dashboard/userMode/userPermissions"}),Object(G.jsxs)(u.c,{children:[Object(G.jsx)(u.a,{path:"/scenere/",exact:!0,component:function(){return Object(G.jsx)(pe,{})}}),Object(G.jsx)(u.a,{path:"/scenere/signin",exact:!0,component:function(){return Object(G.jsx)(X,{loginSave:e.login,reRouteTarget:"/scenere/dashboard",forgotPath:"/scenere/forgot"})}}),Object(G.jsx)(u.a,{path:"/scenere/signup",exact:!0,component:function(){return Object(G.jsx)(Q,{reRouteTarget:"/scenere/verify",loginSave:e.login,authToken:e.state.accessToken})}}),Object(G.jsx)(u.a,{path:"/scenere/verify",exact:!0,component:function(){return Object(G.jsx)(ae,{authToken:e.state.accessToken,refreshToken:e.triggerSilentRefreshToken,reRouteTarget:"/scenere/signin",reRouteSuccessTarget:"/scenere/dashboard"})}}),Object(G.jsx)(u.a,{path:"/scenere/forgot",exact:!0,component:function(){return Object(G.jsx)(ee,{reRouteTarget:"/scenere/signin"})}}),Object(G.jsx)(u.a,{path:"/scenere/contact",exact:!0,component:function(){return Object(G.jsx)(he,{})}}),Object(G.jsx)(u.a,{path:"/scenere/dashboard",component:function(){return Object(G.jsx)(xe,{activateRedirect:"/scenere/verify",refreshToken:e.triggerSilentRefreshToken,logout:e.logout,currentUser:e.state.currentUser,authToken:e.state.accessToken,reRouteSignIn:"/scenere/signin",reRouteCompany:"/scenere/dashboard",reRouteUser:"/scenere/dashboard",disableMenu:e.disableMenu,activateUserMenu:e.activateUserMenu,activateCompanyMenu:e.activateCompanyMenu,changeMenuCompanyName:e.changeMenuCompanyName,changeCompanyMenuItems:e.changeCompanyMenuItems})}})]}),Object(G.jsx)("div",{className:"row m-5"}),Object(G.jsx)(me,{})]})})}}]),a}(n.a.Component),na=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,551)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),s(e),n(e),r(e),i(e)}))};a(534),a(535);i.a.render(Object(G.jsx)(sa,{}),document.getElementById("root")),na()}},[[537,1,2]]]);
//# sourceMappingURL=main.377c4ad2.chunk.js.map