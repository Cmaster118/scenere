(this["webpackJsonpproject-scenere"]=this["webpackJsonpproject-scenere"]||[]).push([[0],{159:function(e,t,a){},379:function(e,t,a){},383:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a(1),c=a.n(n),r=a(86),o=a.n(r),i=(a(159),a(7)),l=a(8),d=a(10),m=a(9),u=a(5),h=a(14),j=a(13),b=a.n(j),p=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).triggerLogout=function(){s.props.clearLogin()},s.state={something:null},s}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.basePath,t=null,a=null;return void 0===this.props.currentUser?(t=[Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)(u.b,{className:"nav-link",to:e+"/signup",children:"Sign Up"})},"1"),Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)(u.b,{className:"nav-link",to:e+"/signin",children:"Sign In"})},"2")],a=Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)(u.b,{className:"nav-link",to:e+"/dashboard",children:"None"})},"3")):(t=[Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)(u.b,{className:"nav-link",to:e+"/dashboard",children:"Dashboard"})},"1"),Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)(u.b,{className:"nav-link",to:e+"/",onClick:this.triggerLogout,children:"Sign Out"})},"2")],a=Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)(u.b,{className:"nav-link",to:e+"/dashboard",children:this.props.currentUser})},"5")),Object(s.jsx)("div",{className:"navigation",children:Object(s.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:Object(s.jsxs)("div",{className:"container-fluid",children:[Object(s.jsx)(u.b,{className:"navbar-brand",to:e+"/",children:"Project Scenere"}),Object(s.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarResponsive","aria-controls":"navbarResponsive","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(s.jsx)("span",{className:"navbar-toggler-icon"})}),Object(s.jsx)("div",{className:"collapse navbar-collapse",id:"navbarResponsive",children:Object(s.jsxs)("ul",{className:"navbar-nav ml-auto",children:[t,Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)("div",{className:"nav-link",children:"Current User:"})},"1"),a]})})]})})})}}]),a}(c.a.Component),g=Object(h.f)(p),v=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={},s}return Object(l.a)(a,[{key:"render",value:function(){return Object(s.jsx)("div",{className:"footer",children:Object(s.jsx)("footer",{className:"py-3 bg-dark fixed-bottom",children:Object(s.jsx)("div",{className:"container",children:Object(s.jsx)("p",{className:"m-0 text-center text-white",children:"Copyright \xa9 Nightingale Technologies 2021"})})})})}}]),a}(c.a.Component),x=function(e,t,a,s,n){var c={username:t,password:a};b.a.post(e+"/apiTokenAuth/",c).then((function(e){var t=e.data.token;s(t)})).catch((function(e){if(void 0!==e&&void 0!==e.response){var t=e.response.status;n(t)}}))},O=function(e,t,a,s){var n={headers:{Authorization:"JWT ".concat(t)}};b.a.get(e+"/emailVerifyResend",n).then((function(e){a()})).catch((function(e){console.log("Failure"),void 0!==e&&void 0!==e.response&&401===e.response.status&&s()}))},y=function(e,t,a,s,n,c){var r={headers:{Authorization:"JWT ".concat(t)}},o=s.toJSON().split("T")[0];b.a.get(e+"/getCompanySuggestionData?reqDiv="+a+"&reqDate="+o,r).then((function(e){console.log("Got the suggestion data!"),n(s,e.data)})).catch((function(e){void 0!==e&&void 0!==e.response&&401===e.response.status&&c()}))},f=function(e,t){var a=[],s=0;for(s in t)a.push({label:t[s].label,data:t[s].data,fill:!1,backgroundColor:"rgb(99, 255, 132)",borderColor:"rgba(255, 132, 99, 0.2)"});return{labels:e,datasets:a}},N=function(e){return{labels:["Joy","Anger","Sadness","Disgust","Fear"],datasets:[{label:"Confidence Levels",data:e,backgroundColor:"rgba(99, 255, 132, 0.2)",borderColor:"rgba(99, 255, 132, 1)",borderWidth:1}]}},C=function(e,t,a){return{labels:["Joy","Anger","Sadness","Disgust","Fear"],datasets:[{label:"Max",data:e,backgroundColor:"rgba(99, 255, 132, 0.2)",borderColor:"rgba(99, 255, 132, 1)",borderWidth:1},{label:"Ave",data:t,backgroundColor:"rgba(99, 132, 255, 0.2)",borderColor:"rgba(99, 132, 255, 1)",borderWidth:1},{label:"Min",data:a,backgroundColor:"rgba(255, 99, 132, 0.2)",borderColor:"rgba(255, 99, 132, 1)",borderWidth:1}]}},S=function(e,t,a){return{labels:["Value"],datasets:[{label:"Minimum",data:e,backgroundColor:"rgb(255, 99, 132)"},{label:"Average",data:t,backgroundColor:"rgb(54, 162, 235)"},{label:"Maximum",data:a,backgroundColor:"rgb(75, 192, 192)"}]}},D=function(e,t,a){return{labels:["Relevance","Sentiment"],datasets:[{label:"Minimum",data:e,backgroundColor:"rgb(255, 99, 132)"},{label:"Average",data:t,backgroundColor:"rgb(54, 162, 235)"},{label:"Maximum",data:a,backgroundColor:"rgb(75, 192, 192)"}]}},k=function(e){return{labels:["Relevance","Sentiment"],datasets:[{label:"Value",data:e,backgroundColor:"rgb(54, 162, 235)"}]}},w=function(e){return{labels:["Confidence","Relevance","Sentiment"],datasets:[{label:"Value",data:e,backgroundColor:"rgb(54, 162, 235)"}]}},T=a(3),A=a.n(T),E=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).loadFromCookies=function(){var e=A.a.get("rememberUser");try{s.setState({username:e.user,password:e.pass})}catch(t){}},s.userFieldChange=function(e){s.setState({username:e.target.value})},s.passFieldChange=function(e){s.setState({password:e.target.value})},s.remFieldChange=function(e){s.setState({remember:e.target.value})},s.handleSubmitSuccess=function(e){s.props.loginSave(e,s.state.username,s.state.remember)?(console.log("Token registered"),s.props.history.push(s.props.reRouteTarget)):console.log("Token Failed..?")},s.handleSubmitFailure=function(e){console.log("Connection failed..."),s.setState({latestAttempt:400})},s.handleSubmit=function(e){x(s.props.APIHost,s.state.username,s.state.password,s.handleSubmitSuccess,s.handleSubmitFailure),e.preventDefault()},s.state={currentState:0,latestAttempt:0,username:"",password:"",remember:!0},s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return Object(s.jsx)("div",{className:"container",children:Object(s.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(s.jsx)("h3",{children:"Sign In"}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Email Address"}),Object(s.jsx)("input",{type:"text",className:"form-control",value:this.state.username,onChange:this.userFieldChange,placeholder:"Enter Username"})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Password"}),Object(s.jsx)("input",{type:"password",className:"form-control",value:this.state.password,onChange:this.passFieldChange,placeholder:"Enter password"})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("input",{type:"checkbox",className:"form-control-input",id:"customCheck1",value:this.state.remember,onChange:this.remFieldChange}),Object(s.jsx)("label",{className:"form-control-label",htmlFor:"customCheck1",children:"Remember Me"})]}),Object(s.jsx)("button",{type:"submit",className:"btn btn-dark btn-block",children:"Submit"}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("p",{className:"col forgot-password text-right text-dark",children:Object(s.jsx)(u.b,{className:"nav-link",to:this.props.forgotPath,children:"Forgot password?"})})})]})})}}]),a}(c.a.Component),I=Object(h.f)(E),P=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).usernameFieldChange=function(e){s.setState({username:e.target.value})},s.emailFieldChange=function(e){s.setState({email:e.target.value})},s.passFieldChange=function(e){s.setState({password:e.target.value})},s.pass2FieldChange=function(e){s.setState({password2:e.target.value,passwordError:e.target.value!==s.state.password})},s.firstNameFieldChange=function(e){s.setState({firstName:e.target.value})},s.lastnameFieldChange=function(e){s.setState({lastName:e.target.value})},s.checkFieldChange=function(e){s.setState({checkField:e.target.value})},s.nowSendEmailCallback=function(){s.props.history.push(s.props.reRouteTarget)},s.nowSendEmailFailure=function(){console.log("Oh no. We failed")},s.nowSendEmail=function(e){O(s.props.APIHost,e,s.nowSendEmailCallback,s.nowSendEmailFailure)},s.nowSignInCallback=function(e){s.props.loginSave(e,s.state.username,!1)?(console.log("Token registered"),s.nowSendEmail(e)):console.log("Token Failed..?")},s.nowSignInFailure=function(){console.log("Connection failed...")},s.nowSignIn=function(){x(s.props.APIHost,s.state.username,s.state.password,s.nowSignInCallback,s.nowSignInFailure)},s.handleSignUpSubmitCallback=function(e){201===e&&(console.log("Successful Sign up, now signing in..."),s.nowSignIn())},s.handleSignUpSubmitFailure=function(e,t){if(400===e)for(var a in t)"username"===a&&s.setState({usernameError:!0,usernameErrorDetail:t[a]}),"email"===a&&s.setState({emailError:!0,emailErrorDetail:t[a]}),"password"===a&&s.setState({passwordError:!0,passwordErrorDetail:t[a]})},s.handleSignUpSubmit=function(e){s.state.checkField?function(e,t,a,s,n,c,r,o,i){var l={username:t,password:a,password2:s,email:n,first_name:c,last_name:r};b.a.post(e+"/registerUser/",l).then((function(e){var t=e.status;o(t)})).catch((function(e){if(void 0!==e&&void 0!==e.response){var t=e.response.status,a=e.response.data;i(t,a)}}))}(s.props.APIHost,s.state.username,s.state.password,s.state.password2,s.state.email,s.state.firstName,s.state.lastName,s.handleSignUpSubmitCallback,s.handleSignUpSubmitFailure):console.log("Field was not checked"),e.preventDefault()},s.state={username:"dummyUser",email:"jjwallace314@gmail.com",password:"dummyPassword",password2:"dummyPassword",firstName:"Dummy",lastName:"User",usernameError:!1,usernameErrorDetail:"Username is unavalible",emailError:!1,emailErrorDetail:"Email is invalid/taken",passwordError:!1,passwordErrorDetail:"Passwords do not match!",checkField:!1},s}return Object(l.a)(a,[{key:"render",value:function(){var e="form-control";this.state.usernameError&&(e+=" bg-warning");var t="form-control";this.state.emailError&&(t+=" bg-warning");var a="form-control";return this.state.passwordError&&(a+=" bg-warning"),Object(s.jsx)("div",{className:"signUp",children:Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("h3",{children:"Sign Up"})})}),Object(s.jsxs)("form",{onSubmit:this.handleSignUpSubmit,children:[Object(s.jsxs)("div",{id:"align-left",children:[Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{id:"label-left",children:"Username"}),Object(s.jsx)("input",{type:"text",className:e,value:this.state.username,onChange:this.usernameFieldChange,placeholder:"Enter Username"}),Object(s.jsx)("p",{className:"text-danger",children:this.state.usernameError?this.state.usernameErrorDetail:""})]})})}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{id:"align-left",children:"Email Address"}),Object(s.jsx)("input",{type:"email",className:t,value:this.state.email,onChange:this.emailFieldChange,placeholder:"Enter email"}),Object(s.jsx)("p",{className:"text-danger",children:this.state.emailError?this.state.emailErrorDetail:""})]})})}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{id:"align-left",children:"Password"}),Object(s.jsx)("input",{type:"password",className:a,value:this.state.password,onChange:this.passFieldChange,placeholder:"Enter password"})]})})}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{id:"align-left",children:"Confirm Password"}),Object(s.jsx)("input",{type:"password",className:a,value:this.state.password2,onChange:this.pass2FieldChange,placeholder:"Confirm password"}),Object(s.jsx)("p",{className:"text-danger",children:this.state.passwordError?this.state.passwordErrorDetail:""})]})})}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{id:"align-left",children:"First Name"}),Object(s.jsx)("input",{type:"text",className:"form-control",value:this.state.firstName,onChange:this.firstNameFieldChange,placeholder:"First Name"})]})})}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{id:"align-left",children:"Last Name"}),Object(s.jsx)("input",{type:"text",className:"form-control",value:this.state.lastName,onChange:this.lastnameFieldChange,placeholder:"Last Name"})]})})})]}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("input",{type:"checkbox",className:"form-control-input",id:"customCheck1",value:this.state.checkField,onChange:this.checkFieldChange}),Object(s.jsx)("label",{className:"form-control-label",htmlFor:"customCheck1",children:"Legal stuff?"})]})})}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("button",{type:"submit",className:"btn btn-dark btn-block",children:"Submit"})})})]})]})})}}]),a}(c.a.Component),U=Object(h.f)(P),L=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).goSignIn=function(){s.props.history.push(s.props.reRouteTarget)},s.arePasswordsSame=function(){return s.state.password1===s.state.password2},s.swapToCode=function(){s.setState({currentState:1})},s.sendEmail=function(){s.setState({currentState:1})},s.checkValue=function(){s.setState({currentState:2})},s.checkPasswords=function(){s.arePasswordsSame()&&s.setState({currentState:3})},s.emailFieldChange=function(e){s.setState({email:e.target.value})},s.tokenFieldChange=function(e){s.setState({resetToken:e.target.value}),s.arePasswordsSame()},s.pass1FieldChange=function(e){s.setState({password1:e.target.value})},s.pass2FieldChange=function(e){s.setState({password2:e.target.value}),s.arePasswordsSame()},s.state={email:"",resetToken:"",currentState:0,password1:"",password2:"",passwordsSame:!1},s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.setState({email:"",resetToken:"",password1:"",password2:""})}},{key:"render",value:function(){var e=null,t=null,a=null;return 0===this.state.currentState?(a=Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("p",{children:"Enter your email address. If it is in the system, we will send you an email address with a code."})})}),e=Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Email Address"}),Object(s.jsx)("input",{type:"text",className:"form-control",value:this.state.email,onChange:this.emailFieldChange,placeholder:"Enter email"})]})})}),t=[Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("button",{className:"btn btn-primary",onClick:this.sendEmail,children:"Send"})})},1),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col m-2",children:Object(s.jsx)("button",{className:"btn btn-primary",onClick:this.swapToCode,children:"Already have the code!"})})},2)]):1===this.state.currentState?(a=Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("p",{children:"Check your email. If your email is correct, then enter the code it gives you here:"})}),e=Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Reset token"}),Object(s.jsx)("input",{type:"text",className:"form-control",value:this.state.resetToken,onChange:this.tokenFieldChange,placeholder:"Enter Token"})]})}),t=Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("button",{className:"btn btn-primary",onClick:this.checkValue,children:"Check..."})})):2===this.state.currentState?(a=[Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("p",{children:" Enter your new password! "})})})],this.arePasswordsSame()||a.push(Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("p",{className:"text-danger",children:" Passwords do not match! "})})})),e=[Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("div",{className:"form-group",children:Object(s.jsx)("input",{type:"text",className:"form-control",value:this.state.resetToken,onChange:this.pass1FieldChange,placeholder:"Enter Password"})})})}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("div",{className:"form-group",children:Object(s.jsx)("input",{type:"text",className:"form-control",value:this.state.resetToken,onChange:this.pass2FieldChange,placeholder:"Re-enter Password"})})})})],t=Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("button",{className:"btn btn-primary",onClick:this.checkPasswords,children:"Check..."})})})):2===this.state.currentState&&(a=Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("p",{children:" Password has been successfullty reset! "})})}),e=null,t=Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("button",{className:"btn btn-primary",onClick:this.goSignIn,children:"Sign In!"})})})),Object(s.jsxs)("div",{className:"container-sm",children:[Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("h3",{children:" Forgot your password? "})})}),a,e,t]})}}]),a}(c.a.Component),R=Object(h.f)(L),F=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).getFromCookies=function(){A.a.get("rememberSomething")},s.chartReference=c.a.createRef(),s.state={userToken:null},s}return Object(l.a)(a,[{key:"render",value:function(){return Object(s.jsx)("div",{className:"landing",children:Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)("div",{className:"row align-items-center my-5",children:Object(s.jsx)("div",{className:"col-lg-12 border",children:Object(s.jsx)("h3",{children:"Sample Title"})})}),Object(s.jsxs)("div",{className:"row align-items-center my-2 border",children:[Object(s.jsx)("div",{className:"col-lg-7",children:Object(s.jsx)("p",{children:"Another set of explinations?"})}),Object(s.jsx)("div",{className:"col m-5 border",children:Object(s.jsx)("p",{children:"Explainations ahoy!"})})]})]})})}}]),a}(c.a.Component),H=a(42),M=(a(67),a(16)),V=a(384),J=a(385),W=function(e){return[e.joy,e.anger,e.sadness,e.disgust,e.fear]},G=[{name:"Emotion",value:"emotion"},{name:"Sentiment",value:"sentiment"},{name:"Entities",value:"entities"},{name:"Keywords",value:"keywords"}],q=Object(h.f)((function(e){var t,a="Displaying Data for Journal with prompt: "+e.selectedPrompt,n=e.dataSet,c=[],r=[],o=[];if(null!==n&&void 0!==n){var i;for(i in n)void 0!==n[i].name&&c.push({name:n[i].name,value:i});if(0===c.length&&(c=[{name:"No Prompts",value:"None"}]),e.selectedAspect in n){var l=n[e.selectedAspect];switch(e.selectedAspect){case"emotion":var d=W(l.document.emotion),m=N(d),u={scale:{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}};o.push(Object(s.jsxs)("div",{className:"row m-2",children:[Object(s.jsx)("div",{className:"col-3"}),Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:"Emotion Values"}),Object(s.jsx)("div",{className:"card-body",children:Object(s.jsx)(M.Radar,{data:m,options:u})})]})}),Object(s.jsx)("div",{className:"col-3"})]},"2"));break;case"sentiment":var h={labels:["Value"],datasets:[{label:"Value",data:[l.document.score],backgroundColor:"rgb(54, 162, 235)"}]},j={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:-1,suggestedMax:1}}],xAxes:[{}]}};o.push(Object(s.jsxs)("div",{className:"row m-2",children:[Object(s.jsx)("div",{className:"col-3"}),Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:"Sentiment Values"}),Object(s.jsx)("div",{className:"card-body",children:Object(s.jsx)(M.Bar,{data:h,options:j})})]})}),Object(s.jsx)("div",{className:"col-3"})]},"2"));break;case"entities":for(t in l){var b=l[t],p=W(b.emotion),g=N(p),v={scale:{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}},x=w([b.confidence,b.relevance,b.sentiment.score]),O={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:-1,suggestedMax:1}}],xAxes:[{}]}};r.push(Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"row",children:b.text}),Object(s.jsx)("td",{children:b.type}),Object(s.jsx)("td",{children:b.count}),Object(s.jsx)("td",{colSpan:"3",children:Object(s.jsx)(M.Bar,{data:x,options:O})}),Object(s.jsx)("td",{children:Object(s.jsx)(M.Radar,{data:g,options:v})})]},t))}o.push(Object(s.jsxs)("table",{className:"table",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"col",children:"Name"}),Object(s.jsx)("th",{scope:"col",children:"Type"}),Object(s.jsx)("th",{scope:"col",children:"#Appearances"}),Object(s.jsx)("th",{scope:"col",children:"Confidence"}),Object(s.jsx)("th",{scope:"col",children:"Relevance"}),Object(s.jsx)("th",{scope:"col",children:"Sentiment"}),Object(s.jsx)("th",{scope:"col",children:"Emotion"})]})}),Object(s.jsx)("tbody",{children:r})]},"2"));break;case"keywords":for(t in l){var y=l[t],f=W(y.emotion),C=N(f),S={scale:{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}};console.log(y);var D=k([y.relevance,y.sentiment.score]),T={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:-1,suggestedMax:1}}],xAxes:[{}]}};r.push(Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"row",children:y.text}),Object(s.jsx)("td",{children:y.count}),Object(s.jsx)("td",{colSpan:"2",children:Object(s.jsx)(M.Bar,{data:D,options:T})}),Object(s.jsx)("td",{children:Object(s.jsx)(M.Radar,{data:C,options:S})})]},t))}o.push(Object(s.jsxs)("table",{className:"table",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"col",children:"Name"}),Object(s.jsx)("th",{scope:"col",children:"#Appearances"}),Object(s.jsx)("th",{scope:"col",children:"Relevance Score"}),Object(s.jsx)("th",{scope:"col",children:"Sentiment"}),Object(s.jsx)("th",{scope:"col",children:"Emotion"})]})}),Object(s.jsx)("tbody",{children:r})]},"2"));break;default:console.log("Invalid AI selection somehow")}}else c=[{name:"No Prompts",value:"None"}]}else c=[{name:"No Prompts",value:"None"}];return Object(s.jsx)("div",{className:"mainView",children:Object(s.jsxs)("div",{className:"container",children:[Object(s.jsxs)("div",{className:"row m-2",children:[Object(s.jsx)("div",{className:"col-lg-3 m-2",children:Object(s.jsx)("div",{children:Object(s.jsx)(H.a,{onChange:e.pickDate,value:e.currentDate,tileClassName:function(t){var a=t.date;if("month"===t.view){var s=a.getFullYear()+"-"+a.getMonth()+"-"+a.getDate(),n=e.validJournalDates.find((function(e){return e===s}));if(e.validJournalScanDates.find((function(e){return e===s})))return"btn btn-success";if(n)return"btn btn-warning"}},minDetail:"year",maxDetail:"month"})})}),Object(s.jsx)("div",{className:"col m-2",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsx)("div",{children:e.displayMessage})}),Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsx)("div",{className:"row m-2",children:Object(s.jsx)("div",{className:"col"})}),Object(s.jsx)("div",{className:"row m-2",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)(V.a,{toggle:!0,children:c.map((function(t,a){return Object(s.jsx)(J.a,{type:"radio",variant:"primary",name:"radio",value:t.value,checked:e.selectedPrompt===t.value,onChange:e.setPrompt,children:t.name},a)}))})})}),Object(s.jsx)("div",{className:"row m-2",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)(V.a,{toggle:!0,children:G.map((function(t,a){return Object(s.jsx)(J.a,{type:"radio",variant:"info",name:"radio",value:t.value,checked:e.selectedAspect===t.value,onChange:e.setAI,children:t.name},a)}))})})})]})]})})]}),Object(s.jsx)("div",{className:"row m-2",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsx)("div",{children:"Journal Contents:"})}),Object(s.jsx)("div",{className:"card-body",children:Object(s.jsx)("p",{children:e.currentJournal})})]})})}),Object(s.jsx)("div",{className:"row m-2",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsx)("div",{children:a})}),Object(s.jsx)("div",{className:"card-body",children:o})]})})}),Object(s.jsx)("div",{className:"row  my-2",children:Object(s.jsx)("p",{})})]})})})),B=a(15),z=void 0,Z={editor:{border:"1px solid gray",minHeight:"6em",justifyContent:"left"}},Y=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).onToggle=function(t){t.preventDefault(),e.props.onToggle(e.props.style)},e}return Object(l.a)(a,[{key:"render",value:function(){var e="btn btn-outline-primary";return this.props.active&&(e+=" active"),Object(s.jsx)("button",{className:e,onClick:this.onToggle,children:this.props.label})}}]),a}(c.a.Component),K=[{label:"H1",style:"header-one"},{label:"H2",style:"header-two"},{label:"H3",style:"header-three"},{label:"H4",style:"header-four"},{label:"H5",style:"header-five"},{label:"H6",style:"header-six"},{label:"UL",style:"unordered-list-item"},{label:"OL",style:"ordered-list-item"}],_=function(e){var t=e.editorState,a=t.getSelection(),n=t.getCurrentContent().getBlockForKey(a.getStartKey()).getType();return Object(s.jsx)("div",{className:"RichEditor-controls",children:K.map((function(t){return Object(s.jsx)(Y,{active:t.style===n,label:t.label,onToggle:e.onToggle,style:t.style},t.label)}))})},Q=[{label:"Bold",style:"BOLD"},{label:"Italic",style:"ITALIC"},{label:"Underline",style:"UNDERLINE"}],X=function(e){var t=e.editorState.getCurrentInlineStyle();return Object(s.jsx)("div",{className:"RichEditor-controls",children:Q.map((function(a){return Object(s.jsx)(Y,{active:t.has(a.style),label:a.label,onToggle:e.onToggle,style:a.style},a.label)}))})},$=Object(h.f)((function(e){return Object(s.jsx)("div",{className:"makeView",children:Object(s.jsx)("div",{className:"container",children:Object(s.jsx)("div",{className:"row my-2",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsx)("h4",{children:"Writing Today's Journal"})}),Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsxs)("h5",{className:"card-title",children:["Today's Prompt is: ","Open Ended"]}),Object(s.jsx)("div",{className:"row",children:Object(s.jsxs)("div",{className:"col",children:[Object(s.jsx)(_,{editorState:e.editorState,onToggle:function(e){z.onChange(B.RichUtils.toggleBlockType(z.state.editorState,e))}}),Object(s.jsx)(X,{editorState:e.editorState,onToggle:function(e){z.onChange(B.RichUtils.toggleInlineStyle(z.state.editorState,e))}})]})}),Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-1"}),Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("div",{id:"align-left",children:Object(s.jsx)("div",{style:Z.editor,children:Object(s.jsx)(B.Editor,{editorState:e.editorState,onChange:e.onChange,handleKeyCommand:function(t,a){var s=B.RichUtils.handleKeyCommand(a,t);return s?(e.onChange(s),"handled"):"not-handled"},spellCheck:!0,placeholder:""})})})}),Object(s.jsx)("div",{className:"col-1"})]}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("button",{className:"btn btn-outline-primary",onClick:e.saveToServer,children:" Save current Journal entry "})})})]})]})})})})})})),ee=a(386),te=[{name:"Emotion",value:"emotion"},{name:"Sentiment",value:"sentiment"},{name:"Entities",value:"entities"},{name:"Keywords",value:"keywords"}],ae=[{name:"Monday",value:"mon"},{name:"Tuesday",value:"tue"},{name:"Wednesday",value:"wed"},{name:"Thursday",value:"thu"},{name:"Friday",value:"fri"},{name:"Saturday",value:"sat"},{name:"Sunday",value:"sun"},{name:"All",value:"allDay"}],se=function(e){return[e.joy,e.anger,e.sadness,e.disgust,e.fear]},ne=Object(h.f)((function(e){var t,a,n,c,r=[],o=e.selectedPrompt,i=e.selectedDay,l=e.selectedAspect,d=[],m=e.dataSet[i],u=[],h="not valid prompt";if(null!==m&&void 0!==m){var j;for(j in m)void 0!==m[j].name&&d.push({name:m[j].name,value:j});if(0===d.length&&(d=[{name:"No Prompts",value:"None"}]),o in m){h=m[o].name;var b=m[o].data[l],p=m[o].responsePurity;switch(u.push(Object(s.jsx)("div",{className:"row m-2",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("div",{className:"progressBar",children:Object(s.jsx)(ee.a,{now:p,label:"".concat(p,"% Response Rate")})})})},"1")),l){case"emotion":var g=se(b.max),v=se(b.ave),x=se(b.min),O=C(g,v,x),y={scale:{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}},f=se(b.threshold),N={labels:["Joy","Anger","Sadness","Disgust","Fear"],datasets:[{label:"# Above Threshold",data:f,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]},k={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}]}};u.push(Object(s.jsxs)("div",{className:"row m-2",children:[Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:"Averages + Max and min?"}),Object(s.jsx)("div",{className:"card-body",children:Object(s.jsx)(M.Radar,{data:O,options:y})})]})}),Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:'"How many have hit this threshold"?'}),Object(s.jsx)("div",{className:"card-body",children:Object(s.jsx)(M.Bar,{data:N,options:k})})]})})]},"2"));break;case"sentiment":var w=S([b.min],[b.ave],[b.max]),T={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:-1,suggestedMax:1}}],xAxes:[{}]}},A=function(e){return{labels:["Positive","Negative"],datasets:[{label:"# Above Threshold",data:e,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]}}([b.thresholdPos,b.thresholdNeg]),E={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}]}};u.push(Object(s.jsxs)("div",{className:"row m-2",children:[Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:"Sentiment Values"}),Object(s.jsx)("div",{className:"card-body",children:Object(s.jsx)(M.Bar,{data:w,options:T})})]})}),Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:'"How many have hit this threshold"?'}),Object(s.jsx)("div",{className:"card-body",children:Object(s.jsx)(M.Bar,{data:A,options:E})})]})})]},"2"));break;case"entities":for(t in b){var I=b[t],P=se(I.emotion.max),U=se(I.emotion.ave),L=se(I.emotion.min),R=C(P,U,L),F={scale:{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}},W=(a=[I.confidence.min,I.relevance.min,I.sentiment.min],n=[I.confidence.ave,I.relevance.ave,I.sentiment.ave],c=[I.confidence.max,I.relevance.max,I.sentiment.max],{labels:["Confidence","Relevance","Sentiment"],datasets:[{label:"Minimum",data:a,backgroundColor:"rgb(255, 99, 132)"},{label:"Average",data:n,backgroundColor:"rgb(54, 162, 235)"},{label:"Maximum",data:c,backgroundColor:"rgb(75, 192, 192)"}]}),G={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:-1,suggestedMax:1}}],xAxes:[{}]}};r.push(Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"row",children:I.text}),Object(s.jsx)("td",{children:I.type}),Object(s.jsx)("td",{children:I.count}),Object(s.jsx)("td",{colSpan:"3",children:Object(s.jsx)(M.Bar,{data:W,options:G})}),Object(s.jsx)("td",{children:Object(s.jsx)(M.Radar,{data:R,options:F})})]},t))}u.push(Object(s.jsxs)("table",{className:"table",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"col",children:"Name"}),Object(s.jsx)("th",{scope:"col",children:"Type"}),Object(s.jsx)("th",{scope:"col",children:"#Appearances"}),Object(s.jsx)("th",{scope:"col",children:"Confidence"}),Object(s.jsx)("th",{scope:"col",children:"Relevance"}),Object(s.jsx)("th",{scope:"col",children:"Sentiment"}),Object(s.jsx)("th",{scope:"col",children:"Emotion"})]})}),Object(s.jsx)("tbody",{children:r})]},"2"));break;case"keywords":for(t in b){var q=b[t],B=se(q.emotion.max),z=se(q.emotion.ave),Z=se(q.emotion.min),Y=C(B,z,Z),K={scale:{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}},_=D([q.relevance.min,q.sentiment.min],[q.relevance.ave,q.sentiment.ave],[q.relevance.max,q.sentiment.max]),Q={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:-1,suggestedMax:1}}],xAxes:[{}]}};r.push(Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"row",children:q.text}),Object(s.jsx)("td",{children:q.count}),Object(s.jsx)("td",{colSpan:"2",children:Object(s.jsx)(M.Bar,{data:_,options:Q})}),Object(s.jsx)("td",{children:Object(s.jsx)(M.Radar,{data:Y,options:K})})]},t))}u.push(Object(s.jsxs)("table",{className:"table",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"col",children:"Name"}),Object(s.jsx)("th",{scope:"col",children:"#Appearances"}),Object(s.jsx)("th",{scope:"col",children:"Relevance Score"}),Object(s.jsx)("th",{scope:"col",children:"Sentiment"}),Object(s.jsx)("th",{scope:"col",children:"Emotion"})]})}),Object(s.jsx)("tbody",{children:r})]},"2"));break;case"relations":for(t in b){var X=b[t],$=S([X.score.min],[X.score.ave],[X.score.max]),ne={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}]}};r.push(Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"row",children:X.count}),Object(s.jsx)("td",{children:X.arguments[0].text}),Object(s.jsx)("td",{children:X.type}),Object(s.jsx)("td",{children:X.arguments[1].text}),Object(s.jsx)("td",{style:{width:"30%"},children:Object(s.jsx)(M.Bar,{data:$,options:ne})})]},t))}u.push(Object(s.jsxs)("table",{className:"table",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"col",children:"#Appearances"}),Object(s.jsx)("th",{scope:"col",children:"Actor"}),Object(s.jsx)("th",{scope:"col",children:"Action"}),Object(s.jsx)("th",{scope:"col",children:"Target"}),Object(s.jsx)("th",{scope:"col",children:"Score"})]})}),Object(s.jsx)("tbody",{children:r})]},"2"));break;default:console.log("Invalid AI selection somehow")}}}else d=[{name:"No Prompts",value:"None"}];var ce="Showing Company Summary for: "+e.currentCompany,re="For week of: "+e.anchorDate;return Object(s.jsx)("div",{className:"companyView",children:Object(s.jsxs)("div",{className:"container",children:[Object(s.jsxs)("div",{className:"row m-2",children:[Object(s.jsx)("div",{className:"col-lg-3 m-2",children:Object(s.jsx)("div",{children:Object(s.jsx)(H.a,{onChange:e.pickDate,value:e.currentDate,tileClassName:function(t){var a=t.date;if("month"===t.view){var s=a.getFullYear()+"-"+a.getMonth()+"-"+a.getDate();if(e.validSummaryDates.find((function(e){return e===s})))return"btn btn-success"}},minDetail:"year",maxDetail:"month"})})}),Object(s.jsx)("div",{className:"col m-2",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsxs)("div",{className:"card-header",children:[Object(s.jsx)("div",{children:ce}),Object(s.jsx)("div",{children:re})]}),Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsx)("div",{className:"row m-2",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)(V.a,{toggle:!0,children:ae.map((function(t,a){return Object(s.jsx)(J.a,{type:"radio",variant:"secondary",name:"radio",value:t.value,checked:e.selectedDay===t.value,onChange:e.setDay,children:t.name},a)}))})})}),Object(s.jsx)("div",{className:"row m-2",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)(V.a,{toggle:!0,children:d.map((function(t,a){return Object(s.jsx)(J.a,{type:"radio",variant:"primary",name:"radio",value:t.value,checked:e.selectedPrompt===t.value,onChange:e.setPrompt,children:t.name},a)}))})})}),Object(s.jsx)("div",{className:"row m-2",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)(V.a,{toggle:!0,children:te.map((function(t,a){return Object(s.jsx)(J.a,{type:"radio",variant:"info",name:"radio",value:t.value,checked:e.selectedAspect===t.value,onChange:e.setAI,children:t.name},a)}))})})})]})]})})]}),Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsxs)("div",{children:["Showing Data for prompt: ",h]})}),Object(s.jsx)("div",{className:"card-body",children:u})]}),Object(s.jsx)("div",{className:"row  my-2",children:Object(s.jsx)("p",{})})]})})})),ce=["Public","Private"],re=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var s;Object(i.a)(this,a),(s=t.call(this,e)).postNewCompanyData=function(){if("None"===s.state.currentCompany)return console.log("No company selected"),!1;var e={headers:{Authorization:"JWT ".concat(s.props.authToken)}},t={companyName:s.state.currentCompany,companyReName:s.state.dataCompanyName,summaryViewAccess:s.state.dataCompanyPriv,resultsSendTargets:s.state.dataCompanySendTo,privateViewingPerms:s.state.dataCompanyViewing,governedUsers:s.state.dataCompanyGoverned};b.a.post(s.props.APIHost+"/postCompanyData/",t,e).then((function(e){console.log("Success"),s.setState({dataCompanySendToDeleted:[],dataCompanyViewingDeleted:[],dataCompanyGovernedDeleted:[]})})).catch((function(e){401===e.response.status&&(s.props.forceLogout(),s.props.history.push(s.props.reRouteTarget))}))},s.getCompanyList=function(){var e={headers:{Authorization:"JWT ".concat(s.props.authToken)}};b.a.get(s.props.APIHost+"/getUsersCompanies",e).then((function(e){if(e.data.length>0){console.log("Got the list of companies");var t,a=[];for(t in e.data[0].companyOwner){var n=e.data[0].companyOwner[t];a.includes(n)||a.push(n)}s.setState({companyList:a})}})).catch((function(e){401===e.response.status&&(s.props.forceLogout(),s.props.history.push(s.props.reRouteTarget))}))},s.getCompanyData=function(e){var t={headers:{Authorization:"JWT ".concat(s.props.authToken)}};b.a.get(s.props.APIHost+"/getCompanyData?reqComp="+e,t).then((function(e){e.data.length>0&&(console.log("Got the company data!"),s.setState({dataCompanyName:e.data[0].companyName,dataCompanyPriv:ce[e.data[0].summaryViewAccess],dataCompanySendTo:e.data[0].resultsSendTargets,dataCompanyViewing:e.data[0].privateViewingPerms,dataCompanyGoverned:e.data[0].governedUsers}))})).catch((function(e){console.log(e),401===e.response.status&&(s.props.forceLogout(),s.props.history.push(s.props.reRouteTarget))}))},s.sendChange=function(e){s.setState({searchSend:e.target.value})},s.viewChange=function(e){s.setState({searchView:e.target.value})},s.govChange=function(e){s.setState({searchGov:e.target.value})},s.emailFieldChange=function(e){s.setState({addingEmail:e.target.value})},s.triggerCompanySwap=function(e){s.setState({dropMessage:e.target.value,currentCompany:e.target.value}),s.getCompanyData(e.target.value)},s.triggerModal=function(e){s.setState({clickedList:e.target.parentElement.parentElement.id,clickedIndex:e.target.parentElement.id})},s.triggerStopAdd=function(e){var t=[];"sendUsers"===e.target.parentElement.parentElement.id?((t=s.state.dataCompanySendToAdded).splice(e.target.parentElement.id,1),s.setState({dataCompanySendToAdded:t})):"viewUsers"===e.target.parentElement.parentElement.id?((t=s.state.dataCompanyViewingAdded).splice(e.target.parentElement.id,1),s.setState({dataCompanyViewingAdded:t})):"govUsers"===e.target.parentElement.parentElement.id&&((t=s.state.dataCompanyGovernedAdded).splice(e.target.parentElement.id,1),s.setState({dataCompanyGovernedAdded:t}))},s.triggerReAdd=function(e){var t=[];if("sendUsers"===e.target.parentElement.parentElement.id){t=s.state.dataCompanySendToDeleted;var a=s.state.dataCompanySendTo;a.push(t.splice(e.target.parentElement.id,1)[0]),s.setState({dataCompanySendTo:a,dataCompanySendToDeleted:t})}else if("viewUsers"===e.target.parentElement.parentElement.id){t=s.state.dataCompanyViewingDeleted;var n=s.state.dataCompanyViewing;n.push(t.splice(e.target.parentElement.id,1)[0]),s.setState({dataCompanyViewing:n,dataCompanyViewingDeleted:t})}else if("govUsers"===e.target.parentElement.parentElement.id){t=s.state.dataCompanyGovernedDeleted;var c=s.state.dataCompanyGoverned;c.push(t.splice(e.target.parentElement.id,1)[0]),s.setState({dataCompanyGoverned:c,dataCompanyGovernedDeleted:t})}},s.modelAddEmail=function(e){var t=[];"sendUsers"===s.state.clickedIndex?((t=s.state.dataCompanySendToAdded).push(s.state.addingEmail),s.setState({dataCompanySendToAdded:t})):"viewUsers"===s.state.clickedIndex?((t=s.state.dataCompanyViewingAdded).push(s.state.addingEmail),s.setState({dataCompanyViewingAdded:t})):"govUsers"===s.state.clickedIndex&&((t=s.state.dataCompanyGovernedAdded).push(s.state.addingEmail),s.setState({dataCompanyGovernedAdded:t})),s.setState({addingEmail:""})},s.modelAcceptDelete=function(e){var t=[];if("sendUsers"===s.state.clickedList){t=s.state.dataCompanySendTo;var a=s.state.dataCompanySendToDeleted;a.push(t.splice(s.state.clickedIndex,1)[0]),s.setState({dataCompanySendTo:t,dataCompanySendToDeleted:a})}else if("viewUsers"===s.state.clickedList){t=s.state.dataCompanyViewing;var n=s.state.dataCompanyViewingDeleted;n.push(t.splice(s.state.clickedIndex,1)[0]),s.setState({dataCompanyViewing:t,dataCompanyViewingDeleted:n})}else if("govUsers"===s.state.clickedList){t=s.state.dataCompanyGoverned;var c=s.state.dataCompanyGovernedDeleted;c.push(t.splice(s.state.clickedIndex,1)[0]),s.setState({dataCompanyGoverned:t,dataCompanyGovernedDeleted:c})}};var n=new Date;return s.state={currentDate:n,messages:"Hello, there is nothing yet here...",dropMessage:"Select Company=>",currentCompany:"None",companyList:[],dataCompanyName:"No Company Selected",dataCompanyPriv:"No Company Selected",dataCompanySendTo:[],dataCompanyViewing:[],dataCompanyGoverned:[],dataCompanySendToAdded:[],dataCompanyViewingAdded:[],dataCompanyGovernedAdded:[],dataCompanySendToDeleted:[],dataCompanyViewingDeleted:[],dataCompanyGovernedDeleted:[],searchSend:"",searchView:"",searchGov:"",addingEmail:"",clickedList:"",clickedIndex:-1},s}return Object(l.a)(a,[{key:"render",value:function(){var e,t=[];for(e in this.state.companyList){var a=this.state.companyList[e];t.push(Object(s.jsx)("button",{className:"dropdown-item",onClick:this.triggerCompanySwap,value:a,children:a},e))}var n=[];for(e in this.state.dataCompanySendTo){var c=this.state.dataCompanySendTo[e];void 0!==c&&c.indexOf(this.state.searchSend)>-1&&n.push(Object(s.jsxs)("li",{id:e,className:"list-group-item d-flex justify-content-between align-items-center",children:[c,Object(s.jsx)("button",{className:"btn btn-sm btn-outline-danger","data-toggle":"modal",onClick:this.triggerModal,"data-target":"#deleteConfirm",children:"x"})]},e))}var r=[];for(e in this.state.dataCompanySendToAdded){var o=this.state.dataCompanySendToAdded[e];r.push(Object(s.jsxs)("li",{id:e,className:"list-group-item d-flex justify-content-between align-items-center",children:[o,Object(s.jsx)("button",{className:"btn btn-sm btn-outline-danger",onClick:this.triggerStopAdd,children:"x"})]},e))}var i=[];for(e in this.state.dataCompanySendToDeleted){var l=this.state.dataCompanySendToDeleted[e];i.push(Object(s.jsxs)("li",{id:e,className:"list-group-item d-flex justify-content-between align-items-center",children:[l,Object(s.jsx)("button",{className:"btn btn-sm btn-outline-success",onClick:this.triggerReAdd,children:"+"})]},e))}var d=[];for(e in this.state.dataCompanyViewing){var m=this.state.dataCompanyViewing[e];m.indexOf(this.state.searchView)>-1&&d.push(Object(s.jsxs)("li",{id:e,className:"list-group-item d-flex justify-content-between align-items-center",children:[m,Object(s.jsx)("button",{className:"btn btn-sm btn-outline-danger","data-toggle":"modal",onClick:this.triggerModal,"data-target":"#deleteConfirm",children:"x"})]},e))}var u=[];for(e in this.state.dataCompanyViewingAdded){var h=this.state.dataCompanyViewingAdded[e];u.push(Object(s.jsxs)("li",{id:e,className:"list-group-item d-flex justify-content-between align-items-center",children:[h,Object(s.jsx)("button",{className:"btn btn-sm btn-outline-danger",onClick:this.triggerStopAdd,children:"x"})]},e))}var j=[];for(e in this.state.dataCompanyViewingDeleted){var b=this.state.dataCompanyViewingDeleted[e];j.push(Object(s.jsxs)("li",{id:e,className:"list-group-item d-flex justify-content-between align-items-center",children:[b,Object(s.jsx)("button",{className:"btn btn-sm btn-outline-success",onClick:this.triggerReAdd,children:"+"})]},e))}var p=[];for(e in this.state.dataCompanyGoverned){var g=this.state.dataCompanyGoverned[e];g.indexOf(this.state.searchGov)>-1&&p.push(Object(s.jsxs)("li",{id:e,className:"list-group-item d-flex justify-content-between align-items-center",children:[g,Object(s.jsx)("button",{className:"btn btn-sm btn-outline-danger","data-toggle":"modal",onClick:this.triggerModal,"data-target":"#deleteConfirm",children:"x"})]},e))}var v=[];for(e in this.state.dataCompanyGovernedAdded){var x=this.state.dataCompanyGovernedAdded[e];v.push(Object(s.jsxs)("li",{id:e,className:"list-group-item d-flex justify-content-between align-items-center",children:[x,Object(s.jsx)("button",{className:"btn btn-sm btn-outline-danger",onClick:this.triggerStopAdd,children:"x"})]},e))}var O=[];for(e in this.state.dataCompanyGovernedDeleted){var y=this.state.dataCompanyGovernedDeleted[e];O.push(Object(s.jsxs)("li",{id:e,className:"list-group-item d-flex justify-content-between align-items-center",children:[y,Object(s.jsx)("button",{className:"btn btn-sm btn-outline-success",onClick:this.triggerReAdd,children:"+"})]},e))}var f="None";return"sendUsers"===this.state.clickedList?f=this.state.dataCompanySendTo[this.state.clickedIndex]:"viewUsers"===this.state.clickedList?f=this.state.dataCompanyViewing[this.state.clickedIndex]:"govUsers"===this.state.clickedList&&(f=this.state.dataCompanyGoverned[this.state.clickedIndex]),Object(s.jsxs)("div",{className:"companySett",children:[Object(s.jsxs)("div",{className:"container",children:[Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"dropdown",children:[Object(s.jsx)("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:this.state.dropMessage}),Object(s.jsx)("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton",children:t})]})}),Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("button",{className:"btn btn-primary",onClick:this.getCompanyList,children:" Populate Company List "})}),Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("button",{className:"btn btn-primary",onClick:this.postNewCompanyData,children:"Save Changes"})})]}),Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsx)("p",{children:"Edit Company name"})}),Object(s.jsx)("div",{className:"card-body",children:Object(s.jsx)("p",{className:"card-text",children:this.state.dataCompanyName})})]})}),Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsx)("p",{children:"Private/Publix"})}),Object(s.jsx)("div",{className:"card-body",children:Object(s.jsx)("p",{className:"card-text",children:this.state.dataCompanyPriv})})]})})]}),Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsx)("p",{children:"Users Notified:"})}),Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsx)("input",{className:"form-control",id:"",type:"text",onChange:this.sendChange,placeholder:"Search..."}),Object(s.jsxs)("ul",{className:"card-text list-group",id:"sendUsers",children:[n,Object(s.jsx)("button",{type:"button",className:"list-group-item list-group-item-action active","data-toggle":"modal",onClick:this.triggerModal,"data-target":"#addNewUsers",children:"Add user +"}),Object(s.jsx)("li",{id:"remLabel",className:"list-group-item d-flex justify-content-between align-items-center",children:"Users To Remove:"},"rem"),i,Object(s.jsx)("li",{id:"addLabel",className:"list-group-item d-flex justify-content-between align-items-center",children:"Emails To Add:"},"add"),r]})]})]})}),Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsx)("p",{children:"Viewing Privilages:"})}),Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsx)("input",{className:"form-control",id:"",type:"text",onChange:this.viewChange,placeholder:"Search..."}),Object(s.jsxs)("ul",{className:"card-text list-group",id:"viewUsers",children:[d,Object(s.jsx)("button",{type:"button",className:"list-group-item list-group-item-action active","data-toggle":"modal",onClick:this.triggerModal,"data-target":"#addNewUsers",children:"Add user +"}),Object(s.jsx)("li",{id:"remLabel",className:"list-group-item d-flex justify-content-between align-items-center",children:"Users To Remove:"},"rem"),j,Object(s.jsx)("li",{id:"addLabel",className:"list-group-item d-flex justify-content-between align-items-center",children:"Emails To Add:"},"add"),u]})]})]})}),Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsx)("p",{children:"Target Users:"})}),Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsx)("input",{className:"form-control",id:"",type:"text",onChange:this.govChange,placeholder:"Search..."}),Object(s.jsxs)("ul",{className:"card-text list-group",id:"govUsers",children:[p,Object(s.jsx)("button",{type:"button",className:"list-group-item list-group-item-action active","data-toggle":"modal",onClick:this.triggerModal,"data-target":"#addNewUsers",children:"Add user +"}),Object(s.jsx)("li",{id:"remLabel",className:"list-group-item d-flex justify-content-between align-items-center",children:"Users To Remove:"},"rem"),O,Object(s.jsx)("li",{id:"addLabel",className:"list-group-item d-flex justify-content-between align-items-center",children:"Emails To Add:"},"add"),v]})]})]})})]})]}),Object(s.jsx)("div",{className:"modal fade",id:"deleteConfirm",tabIndex:"-1",role:"dialog","aria-labelledby":"deleteConfirmation","aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",id:"deleteTitleConfirm",children:"Delete Confirmation"}),Object(s.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(s.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(s.jsxs)("div",{className:"modal-body",children:["Are you SURE you want to delete user: ",f,"? They will be notified about this change."]}),Object(s.jsxs)("div",{className:"modal-footer",children:[Object(s.jsx)("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal",onClick:this.modelAcceptDelete,children:"Yes"}),Object(s.jsx)("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal",children:"No"})]})]})})}),Object(s.jsx)("div",{className:"modal fade",id:"addNewUsers",tabIndex:"-1",role:"dialog","aria-labelledby":"addNewUsersModal","aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",id:"deleteTitleConfirm",children:"Add New User"}),Object(s.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(s.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(s.jsx)("div",{className:"modal-body",children:"Enter the email of the target user"}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Email Address"}),Object(s.jsx)("input",{type:"email",className:"form-control",value:this.state.addingEmail,onChange:this.emailFieldChange,placeholder:"Enter email"})]}),Object(s.jsxs)("div",{className:"modal-footer",children:[Object(s.jsx)("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal",onClick:this.modelAddEmail,children:"Add"}),Object(s.jsx)("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal",children:"Cancel"})]})]})})})]})}}]),a}(c.a.Component),oe=(Object(h.f)(re),function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).backButton=function(){s.props.history.goBack()},s.state={example:0},s}return Object(l.a)(a,[{key:"render",value:function(){return Object(s.jsx)("div",{className:"freePages",children:Object(s.jsx)("div",{className:"container",children:Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:"Non-Authorized Pages"})})})})}}]),a}(c.a.Component)),ie=Object(h.f)(oe),le=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).backButton=function(){s.props.history.goBack()},s.state={example:0},s}return Object(l.a)(a,[{key:"render",value:function(){return Object(s.jsx)("div",{className:"authPages",children:Object(s.jsx)("div",{className:"container",children:Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:"Authorization Pages"})})})})}}]),a}(c.a.Component),de=(Object(h.f)(le),function(e){return Object(s.jsx)("div",{className:"defaultView",children:Object(s.jsx)("h3",{children:"This page is empty, Select an Action from the side menu!"})})}),me=[{name:"Monday",value:"mon"},{name:"Tuesday",value:"tue"},{name:"Wednesday",value:"wed"},{name:"Thursday",value:"thu"},{name:"Friday",value:"fri"},{name:"Saturday",value:"sat"},{name:"Sunday",value:"sun"},{name:"All",value:"allDay"}],ue=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).componentDidMount=function(){s.checkActiveUser(),s.getValidJournalDates(),s.getUserCompanyList(),s.getUserGovernedPermTree()},s.redoLoad=function(){s.getValidJournalDates(),s.getUserCompanyList(),s.getUserGovernedPermTree()},s.componentDidUpdate=function(e,t){},s.changeSuggestionContent=function(e){s.setState({suggestionEditorState:e})},s.changeJournalContent=function(e){s.setState({journalEditorState:e})},s.changeEHIDaydates=function(e){s.setState({EHIDayTimespan:e})},s.changeEHIWeekdates=function(e){s.setState({EHIWeekTimespan:e})},s.flushStorage=function(){A.a.remove(s.props.currentUser+"-ValidDates"),A.a.remove(s.props.currentUser+"-companyPermTree"),A.a.remove(s.props.currentUser+"-companyGovernedPermTree"),A.a.remove(s.props.currentUser+"-"+s.state.currentDivisionID+"-ValidDates"),A.a.remove(s.props.currentUser+"-"+s.state.currentDivisionID+"-EHI"),A.a.remove(s.props.currentUser+"-"+s.state.currentDivisionID+"-suggestionDates")},s.forceLogout=function(){s.props.forceLogout(),s.props.history.push(s.props.reRouteTarget)},s.checkActiveUserCallback=function(e){!0===e?console.log("User is considered Active"):(console.log("User needs to activate account"),s.props.history.push(s.props.activateRedirect))},s.checkActiveUser=function(){console.log(s.props.authToken),function(e,t,a,s){var n={headers:{Authorization:"JWT ".concat(t)}};b.a.get(e+"/userIsActive",n).then((function(e){a(e.data[0].isActive)})).catch((function(e){void 0!==e&&void 0!==e.response&&s(e.response.status,e.response.data)}))}(s.props.APIHost,s.props.authToken,s.checkActiveUserCallback,s.forceLogout)},s.journalPostCallback=function(e){console.log(e)},s.postJournal=function(){var e=s.state.currentDate,t=s.state.journalEditorState.getCurrentContent().getPlainText();Object(B.convertToRaw)(s.state.journalEditorState.getCurrentContent());!function(e,t,a,s,n,c,r){var o=Math.random().toString(16).substr(2,8),i={headers:{Authorization:"JWT ".concat(t)}},l={shorthand:"made from the website: "+o,forDate:a.toJSON().split("T")[0],content:s};b.a.post(e+"/saveUserJournal/",l,i).then((function(e){c(e.data)})).catch((function(e){void 0!==e&&void 0!==e.response&&401===e.response.status&&r()}))}(s.props.APIHost,s.props.authToken,e,t,0,s.journalPostCallback,s.forceLogout)},s.governedPermTreeCallback=function(e){A.a.set(s.props.currentUser+"-companyGovernedPermTree",e),s.setState({companyGovernedDataTree:e})},s.getUserGovernedPermTree=function(){if(void 0!==s.props.currentUser){var e=A.a.get(s.props.currentUser+"-companyGovernedPermTree");void 0===e?(console.log("Governed list was not in the cookies!"),function(e,t,a,s){var n={headers:{Authorization:"JWT ".concat(t)}};b.a.get(e+"/getUsersGovernedDivisions",n).then((function(e){console.log("Got the tree of companies"),a(e.data)})).catch((function(e){void 0!==e&&void 0!==e.response&&401===e.response.status&&s()}))}(s.props.APIHost,s.props.authToken,s.governedPermTreeCallback,s.forceLogout)):(console.log("Company Tree WAS in the cookies!"),s.governedPermTreeCallback(e))}},s.suggestionPostCallback=function(e){console.log(e)},s.postSuggestion=function(){var e=s.state.currentDate,t=s.state.suggestionEditorState.getCurrentContent().getPlainText(),a=(Object(B.convertToRaw)(s.state.suggestionEditorState.getCurrentContent()),s.state.currentSuggestionDivision);-1!==a?function(e,t,a,s,n,c,r,o){var i={headers:{Authorization:"JWT ".concat(t)}},l={targetDivision:s,createdDate:a.toJSON().split("T")[0],content:n};b.a.post(e+"/saveNewSuggestion/",l,i).then((function(e){r(e.data)})).catch((function(e){void 0!==e&&void 0!==e.response&&401===e.response.status&&o()}))}(s.props.APIHost,s.props.authToken,e,a,t,0,s.suggestionPostCallback,s.forceLogout):console.log("Not allowed!")},s.journalDatesCallback=function(e,t){A.a.set(s.props.currentUser+"-ValidDates",{journalDates:e,AIDates:t}),s.setState({validJournalDates:e,validJournalScanDates:t})},s.getValidJournalDates=function(){if(console.log("Running a journal dates check"),void 0!==s.props.currentUser){var e=A.a.get(s.props.currentUser+"-ValidDates");void 0===e?(console.log("Valid journal Dates were not in the cookies!"),function(e,t,a,s){var n={headers:{Authorization:"JWT ".concat(t)}};b.a.get(e+"/getJournalDates",n).then((function(e){console.log("Got Data!");var t=[],s=[],n="";for(n in e.data){var c=new Date(e.data[n].forDate),r=c.getFullYear()+"-"+c.getMonth()+"-"+(c.getDate()+1);e.data[n].hasAI?t.push(r):s.push(r)}a(s,t)})).catch((function(e){void 0!==e&&void 0!==e.response&&401===e.response.status&&s()}))}(s.props.APIHost,s.props.authToken,s.journalDatesCallback,s.forceLogout)):(console.log("Valid Journal dates WERE in the cockies!"),s.journalDatesCallback(e.journalDates,e.AIDates))}else console.log("Invalid User")},s.journalDataCallback=function(e,t){s.setState({journalMessage:"Showing Journal Entry for: "+s.state.currentDate.toString(),journalContent:e,selectedJournalData:t})},s.pickJournalCalenderDate=function(e){s.setState({}),void 0===A.a.get(s.props.currentUser+"-Journal-"+e)&&(console.log("Not in the cookies!"),function(e,t,a,s,n){var c={headers:{Authorization:"JWT ".concat(t)}};console.log("Requesting Date from Server");var r=a.toJSON().split("T")[0];b.a.get(e+"/getUserJournal/?reqDate="+r,c).then((function(e){if(e.data.length>0){console.log("obtained a journal entry");var t=e.data[0].content,a={};e.data[0].hasAI&&(a=e.data[0].AIresult),s(t,a)}else console.log("No entry for that day"),s("",{})})).catch((function(e){void 0!==e&&void 0!==e.response&&401===e.response.status&&n()}))}(s.props.APIHost,s.props.authToken,e,s.journalDataCallback,s.forceLogout))},s.companyListCallback=function(e){A.a.set(s.props.currentUser+"-companyPermTree",e),s.setState({companyViewableDataTree:e})},s.getUserCompanyList=function(){if(void 0!==s.props.currentUser){var e=A.a.get(s.props.currentUser+"-companyViewingPermTree");void 0===e?(console.log("Company list was not in the cookies!"),function(e,t,a,s){var n={headers:{Authorization:"JWT ".concat(t)}};b.a.get(e+"/getUsersViewableDivisions",n).then((function(e){console.log("Got the tree of companies"),a(e.data)})).catch((function(e){void 0!==e&&void 0!==e.response&&401===e.response.status&&s()}))}(s.props.APIHost,s.props.authToken,s.companyListCallback,s.forceLogout)):(console.log("Company Tree WAS in the cookies!"),s.companyListCallback(e))}},s.companyDatesCallback=function(e){A.a.set(s.props.currentUser+"-"+s.state.currentDivisionID+"-ValidDates",{dates:e}),s.setState({validCompanySummaryDates:e})},s.getCompanyValidDates=function(){if(-1!==s.state.currentDivisionID){var e=A.a.get(s.props.currentUser+"-"+s.state.currentDivisionID+"-ValidDates");void 0===e?(console.log("Company dates were not in the cookies"),function(e,t,a,s,n){var c={headers:{Authorization:"JWT ".concat(t)}};b.a.get(e+"/getCompanyWeekDates?reqDiv="+a,c).then((function(e){var t=[];console.log("Got Valid Dates!");var a="";for(a in e.data){var n=new Date(e.data[a].forDate);n.setDate(n.getDate()+1),e.data[a].hasMon&&t.push(n.getFullYear()+"-"+n.getMonth()+"-"+n.getDate()),n.setDate(n.getDate()+1),e.data[a].hasTue&&t.push(n.getFullYear()+"-"+n.getMonth()+"-"+n.getDate()),n.setDate(n.getDate()+1),e.data[a].hasWed&&t.push(n.getFullYear()+"-"+n.getMonth()+"-"+n.getDate()),n.setDate(n.getDate()+1),e.data[a].hasThu&&t.push(n.getFullYear()+"-"+n.getMonth()+"-"+n.getDate()),n.setDate(n.getDate()+1),e.data[a].hasFri&&t.push(n.getFullYear()+"-"+n.getMonth()+"-"+n.getDate()),n.setDate(n.getDate()+1),e.data[a].hasSat&&t.push(n.getFullYear()+"-"+n.getMonth()+"-"+n.getDate()),n.setDate(n.getDate()+1),e.data[a].hasSun&&t.push(n.getFullYear()+"-"+n.getMonth()+"-"+n.getDate())}s(t)})).catch((function(e){void 0!==e&&void 0!==e.response&&401===e.response.status&&n()}))}(s.props.APIHost,s.props.authToken,s.state.currentDivisionID,s.companyDatesCallback,s.forceLogout)):(console.log("Company Dates WERE in the coockies!"),s.companyDatesCallback(e.dates))}else console.log("Invalid company!")},s.companySuggestionDateCallback=function(e){A.a.set(s.props.currentUser+"-"+s.state.currentDivisionID+"-ValidSuggestionDates",{dates:e}),s.setState({validDivisionSuggestionDates:e})},s.getCompanyValidSuggestionDates=function(){if(-1!==s.state.currentDivisionID){var e=A.a.get(s.props.currentUser+"-"+s.state.currentDivisionID+"-ValidSuggestionDates");void 0===e?(console.log("Division suggestion dates were not in the cookies..."),function(e,t,a,s,n){var c={headers:{Authorization:"JWT ".concat(t)}};b.a.get(e+"/getCompanySuggestionDates?reqDiv="+a,c).then((function(e){if(e.data.length>0){var t=[],a="";for(a in e.data){var n=new Date(e.data[a]),c=n.getFullYear()+"-"+n.getMonth()+"-"+(n.getDate()+1);t.push(c)}s(t)}})).catch((function(e){void 0!==e&&void 0!==e.response&&401===e.response.status&&n()}))}(s.props.APIHost,s.props.authToken,s.state.currentDivisionID,s.companySuggestionDateCallback,s.forceLogout)):(console.log("Division suggestion dates WERE in the coockies!"),s.companySuggestionDateCallback(e.dates))}else console.log("Invalid company!")},s.companySuggestionDataCallback=function(e,t){var a=new Date(e);s.setState({selectedSuggestDay:a,selectedSuggestDayData:t})},s.getCompanySuggestionData=function(e){-1!==s.state.currentDivisionID?void 0===A.a.get(s.props.currentUser+"-"+s.state.currentDivisionID+"-"+e+"-suggestions")?(console.log("Division suggestion dates were not in the cookies"),y(s.props.APIHost,s.props.authToken,s.state.currentDivisionID,s.companySuggestionDataCallback,s.forceLogout)):(console.log("Division suggestion dates WERE in the coockies!"),s.companySuggestionDataCallback()):console.log("Invalid company!")},s.companyDataCallback=function(e,t){A.a.set(s.props.currentUser+"-"+s.state.currentDivisionID+"-"+t+"Data",{data:e}),s.setState({companyMessage:"Showing Summary for: "+s.state.currentDivisionID+" On: "+s.state.currentDate.toString(),selectedSummaryWeekData:e,currentCompanyDataDate:t,currentCompanyDataName:s.state.currentDivisionName,currentCompanyDataID:s.state.currentDivisionID})},s.getCompanyWeeklySummary=function(e){var t=e.getDay()-1;t<0&&(t=6);var a=new Date(e.getTime());a.setDate(a.getDate()-t);var n=a.toJSON().split("T")[0];if(s.state.currentCompanyDataID===s.state.currentDivisionID&&s.state.currentCompanyDataDate===n)s.setState({selectedCompanyDay:me[t].value});else if(-1!==s.state.currentDivisionID){var c=A.a.get(s.props.currentUser+"-"+s.state.currentDivisionID+"-"+n+"Data");void 0===c?(console.log("Company Summary Data was not in the coockies"),function(e,t,a,s,n,c){var r=s.getDay()-1;r<0&&(r=6);var o=new Date(s.getTime());o.setDate(o.getDate()-r);var i=o.toJSON().split("T")[0],l={headers:{Authorization:"JWT ".concat(t)}};b.a.get(e+"/getCompanyWeekSummary/?reqDate="+i+"&reqDiv="+a,l).then((function(e){if(e.data.length>0){console.log("obtained a company summary");var t={mon:e.data[0].monResult,tue:e.data[0].tueResult,wed:e.data[0].wedResult,thu:e.data[0].thuResult,fri:e.data[0].friResult,sat:e.data[0].satResult,sun:e.data[0].sunResult,allDay:e.data[0].summaryResult};n(t,i)}else n({},i)})).catch((function(e){void 0!==e&&void 0!==e.response&&401===e.response.status&&c()}))}(s.props.APIHost,s.props.authToken,s.state.currentDivisionID,e,s.companyDataCallback,s.forceLogout)):s.companyDataCallback(c.data,n)}else console.log("Invalid company!")},s.companyEHICallback=function(e,t,a,n){A.a.set(s.props.currentUser+"-"+s.state.currentDivisionID+"-EHI",{labelsDays:e,dataDays:t,labelsWeeks:a,dataWeeks:n}),s.setState({EHIDayLabels:e,EHIDaySet:t,EHIWeekLabels:a,EHIWeekSet:n})},s.getCompanyEHIData=function(){if(-1!==s.state.currentDivisionID){var e=A.a.get(s.props.currentUser+"-"+s.state.currentDivisionID+"-EHI");void 0===e?(console.log("Company EHI Data was not in the coockies"),function(e,t,a,s,n){var c={headers:{Authorization:"JWT ".concat(t)}};b.a.get(e+"/getCompanyEHI?reqDiv="+a,c).then((function(e){if(e.data.length>0){console.log("Got the company data!");var t,a=[],n=[],c=[],r=[];for(t in e.data[0].EHIstorage.days)a.push(t),n.push(e.data[0].EHIstorage.days[t]);for(t in e.data[0].EHIstorage.weeks)c.push(t),r.push(e.data[0].EHIstorage.days[t]);s(a,n,c,r)}})).catch((function(e){void 0!==e&&void 0!==e.response&&401===e.response.status&&n()}))}(s.props.APIHost,s.props.authToken,s.state.currentDivisionID,s.companyEHICallback,s.forceLogout)):s.companyEHICallback(e.labelsDays,e.dataDays,e.labelsWeeks,e.dataWeeks)}else console.log("Invalid company!")},s.suggestionDataCallback=function(e,t){s.setState({selectedSuggestDay:e,selectedSuggestDayData:t})},s.getCompanySuggestionData=function(e){-1!==s.state.currentDivisionID&&y(s.props.APIHost,s.props.authToken,s.state.currentDivisionID,e,s.suggestionDataCallback,s.forceLogout)},s.selectCompanyLayer=function(e){var t=s.state.currentCompanyIndexes;t.push(e.target.value),s.setState({currentCompanyIndexes:t,lastCompanyRequestStatus:void 0})},s.backCompanyLayer=function(e){var t=s.state.currentCompanyIndexes;t.splice(e.target.value),s.setState({currentCompanyIndexes:t,lastCompanyRequestStatus:void 0})},s.selectGovernedCompanyLayer=function(e){var t=s.state.currentCompanyGovernedIndexes;t.push(e.target.value);var a=t[t.length-1];s.setState({currentSuggestionDivision:a,currentCompanyGovernedIndexes:t,lastGovernedCompanyRequestStatus:void 0})},s.backGovernedCompanyLayer=function(e){var t=s.state.currentCompanyGovernedIndexes;t.splice(e.target.value);var a=t[t.length-1];s.setState({currentSuggestionDivision:a,currentCompanyGovernedIndexes:t,lastGovernedCompanyRequestStatus:void 0})},s.getThatData=function(){s.getCompanyEHIData(),s.getCompanyValidDates(),s.getCompanyValidSuggestionDates()},s.getCompanyDataRequest=function(e){var t=e.target.value.split(","),a=Number(t[0])>0;a?s.setState({currentDivisionName:t[1],currentDivisionID:t[2],lastCompanyRequestStatus:a},s.getThatData):(console.log("Not allowed!"),s.setState({lastCompanyRequestStatus:a}))},s.changeJournalPrompt=function(e){s.setState({selectedJournalPrompt:e.currentTarget.value})},s.changeJournalAspect=function(e){s.setState({selectedJournalAspect:e.currentTarget.value})},s.changeCompanyPrompt=function(e){s.setState({selectedCompanyPrompt:e.currentTarget.value})},s.changeCompanyAspect=function(e){s.setState({selectedCompanyAspect:e.currentTarget.value})},s.changeCompanyDay=function(e){s.setState({selectedCompanyDay:e.currentTarget.value})},s.state={currentDate:new Date,EHIDayTimespan:3,EHIWeekTimespan:3,EHIDayLabels:[],EHIDaySet:[],EHIWeekLabels:[],EHIWeekSet:[],selectedJournalPrompt:"p1",selectedJournalAspect:"emotion",selectedJournalData:{},validJournalDates:[],validJournalScanDates:[],journalMessage:"Choose a date to view the journal!",journalContent:"Waiting for content...",journalEditorState:B.EditorState.createEmpty(),journalPlaceholder:"",selectedCompanyDay:"mon",selectedCompanyPrompt:"p1",selectedCompanyAspect:"emotion",companyMessage:"Choose a date and company to view that summary!",selectedCompany:"None",currentDivisionID:-1,currentDivisionName:"None",currentCompanyIndexes:[],companyViewableDataTree:{},lastCompanyRequestStatus:void 0,currentCompanyDataName:void 0,currentCompanyDataDate:void 0,selectedSummaryWeekData:{mon:{},tue:{},wed:{},thu:{},fri:{},sat:{},sun:{},allDay:{}},validCompanySummaryDates:[],selectedSuggestDay:new Date,selectedSuggestDayData:[],validDivisionSuggestionDates:[],currentSuggestionDivision:-1,currentCompanyGovernedIndexes:[],companyGovernedDataTree:[],lastGovernedCompanyRequestStatus:void 0,suggestionEditorState:B.EditorState.createEmpty()},s}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return Object(s.jsx)("div",{className:"contentPages",children:Object(s.jsx)("div",{className:"container-fluid",children:Object(s.jsxs)("div",{className:"row m-1 my-5",children:[Object(s.jsxs)("div",{className:"col- m-1",children:[Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsx)("h5",{children:"Today's Date"})}),Object(s.jsx)("div",{className:"card-body",children:this.state.currentDate.toString().split("(")[0]})]})})}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsx)("h5",{children:"Journal View"})}),Object(s.jsx)("div",{className:"card-body",children:Object(s.jsxs)("div",{className:"list-group",children:[Object(s.jsx)(u.b,{className:"list-group-item",to:this.props.match.url+"/JournalWrite",children:"Write Todays Journal"}),Object(s.jsx)(u.b,{className:"list-group-item",to:this.props.match.url+"/JournalRead",children:"Review Previous Journals"}),Object(s.jsx)(u.b,{className:"list-group-item",to:this.props.match.url+"/writeSuggestion",children:"Write Suggestion"})]})})]})})}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsx)("h5",{children:"Company View"})}),Object(s.jsx)("div",{className:"card-body",children:Object(s.jsxs)("div",{className:"list-group",children:[Object(s.jsx)("div",{className:"list-group-item",children:this.state.currentDivisionName}),Object(s.jsx)(u.b,{className:"list-group-item",to:this.props.match.url+"/companySelect",children:"Select Company"}),Object(s.jsx)(u.b,{className:"list-group-item",to:this.props.match.url+"/CompanyEHI",children:"Review Company EHI"}),Object(s.jsx)(u.b,{className:"list-group-item",to:this.props.match.url+"/CompanySummary",children:"Review Company Summaries"}),Object(s.jsx)(u.b,{className:"list-group-item",to:this.props.match.url+"/companySuggestions",children:"View Suggestions"})]})})]})})}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:"Debug Buttons!"})}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("button",{className:"btn btn-outline-danger",onClick:this.flushStorage,children:"Flush Storage"})})}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("button",{className:"btn btn-outline-danger",onClick:this.redoLoad,children:"Refresh Global Data"})})})]}),Object(s.jsx)("div",{className:"col-8 border m-1",children:Object(s.jsxs)(h.c,{children:[Object(s.jsx)(h.a,{path:this.props.match.url+"/",exact:!0,component:function(){return Object(s.jsx)(de,{})}}),Object(s.jsx)(h.a,{path:this.props.match.url+"/userDetail",component:function(){return Object(s.jsx)(de,{})}}),Object(s.jsx)(h.a,{path:this.props.match.url+"/writeSuggestion",component:function(){return Object(s.jsx)(Ae,{currentCompanySelections:e.state.currentCompanyGovernedIndexes,companyDataTree:e.state.companyGovernedDataTree,lastRequestStatus:e.state.lastGovernedCompanyRequestStatus,selectLayer:e.selectGovernedCompanyLayer,backLayer:e.backGovernedCompanyLayer,getDataRequest:e.getGovernedCompanyDataRequest,onChange:e.changeSuggestionContent,editorState:e.state.suggestionEditorState,saveToServer:e.postSuggestion})}}),Object(s.jsx)(h.a,{path:this.props.match.url+"/JournalWrite",component:function(){return Object(s.jsx)($,{onChange:e.changeJournalContent,placeholder:e.state.journalPlaceholder,editorState:e.state.journalEditorState,saveToServer:e.postJournal})}}),Object(s.jsx)(h.a,{path:this.props.match.url+"/JournalRead",component:function(){return Object(s.jsx)(q,{currentDate:e.props.currentDate,dataSet:e.state.selectedJournalData,selectedPrompt:e.state.selectedJournalPrompt,selectedAspect:e.state.selectedJournalAspect,validJournalDates:e.state.validJournalDates,validJournalScanDates:e.state.validJournalScanDates,getJournalDates:e.getValidJournalDates,pickDate:e.pickJournalCalenderDate,displayMessage:e.state.journalMessage,currentJournal:e.state.journalContent,setPrompt:e.changeJournalPrompt,setAI:e.changeJournalAspect})}}),Object(s.jsx)(h.a,{path:this.props.match.url+"/companySelect",component:function(){return Object(s.jsx)(ye,{currentCompanySelections:e.state.currentCompanyIndexes,companyDataTree:e.state.companyViewableDataTree,lastRequestStatus:e.state.lastCompanyRequestStatus,selectLayer:e.selectCompanyLayer,backLayer:e.backCompanyLayer,getDataRequest:e.getCompanyDataRequest})}}),Object(s.jsx)(h.a,{path:this.props.match.url+"/companyDetails",component:function(){return Object(s.jsx)(de,{})}}),Object(s.jsx)(h.a,{path:this.props.match.url+"/companySuggestions",component:function(){return Object(s.jsx)(fe,{currentDate:e.state.currentDate,validDays:e.state.validDivisionSuggestionDates,dataDay:e.state.selectedSuggestDay,dataSet:e.state.selectedSuggestDayData,pickDate:e.getCompanySuggestionData})}}),Object(s.jsx)(h.a,{path:this.props.match.url+"/CompanyEHI",component:function(){return Object(s.jsx)(ge,{timeIndexDay:e.state.EHIDayTimespan,timeIndexWeek:e.state.EHIWeekTimespan,ehiDayLabels:e.state.EHIDayLabels,ehiDayData:e.state.EHIDaySet,ehiWeekLabels:e.state.EHIWeekLabels,ehiWeekData:e.state.EHIWeekSet,onDayToggle:e.changeEHIDaydates,onWeekToggle:e.changeEHIWeekdates})}}),Object(s.jsx)(h.a,{path:this.props.match.url+"/CompanySummary",component:function(){return Object(s.jsx)(ne,{currentDate:e.props.currentDate,currentCompany:e.state.currentCompanyDataName,anchorDate:e.state.currentCompanyDataDate,validSummaryDates:e.state.validCompanySummaryDates,displayMessage:e.state.companyMessage,dataSet:e.state.selectedSummaryWeekData,selectedDay:e.state.selectedCompanyDay,selectedPrompt:e.state.selectedCompanyPrompt,selectedAspect:e.state.selectedCompanyAspect,setPrompt:e.changeCompanyPrompt,setAI:e.changeCompanyAspect,setDay:e.changeCompanyDay,setCompany:e.changeSelectedCompany,loadCompanyList:e.getUserCompanyList,getValidDates:e.getCompanyValidDates,pickDate:e.getCompanyWeeklySummary})}})]})})]})})})}}]),a}(c.a.Component),he=Object(h.f)(ue),je=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).onToggle=function(t){t.preventDefault(),e.props.onToggle(e.props.value)},e}return Object(l.a)(a,[{key:"render",value:function(){var e="btn btn-outline-primary";return this.props.active&&(e+=" active"),Object(s.jsx)("button",{className:e,onClick:this.onToggle,children:this.props.label})}}]),a}(c.a.Component),be=[{label:"Max",value:0,dayLength:0,weekLength:0},{label:"1Year",value:1,dayLength:365,weekLength:52},{label:"6Months",value:2,dayLength:183,weekLength:28},{label:"3Months",value:3,dayLength:63,weekLength:13},{label:"1Months",value:4,dayLength:31,weekLength:4},{label:"1Week",value:5,dayLength:7,weekLength:1}],pe=function(e){var t=e.graphState;return Object(s.jsx)("div",{className:"EHIControls",children:be.map((function(a){return Object(s.jsx)(je,{active:t===a.value,label:a.label,onToggle:e.onToggle,value:a.value},a.label)}))})},ge=Object(h.f)((function(e){var t=e.timeIndexDay,a=e.timeIndexWeek,n=e.ehiDayLabels,c=e.ehiDayData,r=be[t].dayLength;0===r&&(r=n.length);var o=n.slice(-r),i={label:"EHI index",data:c.slice(-r)},l=e.ehiWeekLabels,d=e.ehiWeekData;0===(r=be[a].weekLength)&&(r=l.length);var m=l.slice(-r),u={label:"EHI index",data:d.slice(-r)};1===m.length&&(m.unshift(""),m.push(""),u.data.unshift(u.data[0]),u.data.push(u.data[0]));var h=f(o,[i]),j=f(m,[u]),b={scales:{yAxes:[{ticks:{beginAtZero:!0}}]}};return Object(s.jsx)("div",{className:"EHIDisplay",children:Object(s.jsxs)("div",{className:"row m-1",children:[Object(s.jsx)("div",{className:"col-6",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:"Employee Health Index Daily Data"}),Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsx)(M.Line,{data:h,options:b}),Object(s.jsx)(pe,{graphState:t,onToggle:e.onDayToggle})]})]})}),Object(s.jsx)("div",{className:"col-6",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:"Employee Health Index Weekly Data"}),Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsx)(M.Line,{data:j,options:b}),Object(s.jsx)(pe,{graphState:a,onToggle:e.onWeekToggle})]})]})})]})})})),ve=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).firstNameFieldChange=function(e){s.setState({firstName:e.target.value})},s.lastnameFieldChange=function(e){s.setState({lastName:e.target.value})},s.emailFieldChange=function(e){s.setState({email:e.target.value})},s.companyFieldChange=function(e){s.setState({company:e.target.value})},s.contentFieldChange=function(e){s.setState({content:e.target.value})},s.handleSubmit=function(e){var t={firstName:s.state.firstName,lastName:s.state.lastName,email:s.state.email,company:s.state.company,content:s.state.content};b.a.post(s.props.APIHost+"/sendContactEmail/",t).then((function(e){e.status})).catch((function(e){console.log(e.response.status),console.log(e.response.data)})),e.preventDefault()},s.state={firstName:"",lastName:"",email:"",company:"",content:""},s}return Object(l.a)(a,[{key:"render",value:function(){return Object(s.jsx)("div",{className:"container",children:Object(s.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("h3",{children:"Contact Us"})})}),Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"First Name"}),Object(s.jsx)("input",{type:"text",className:"form-control",value:this.state.firstName,onChange:this.firstNameFieldChange,placeholder:"First Name"})]})}),Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Last Name"}),Object(s.jsx)("input",{type:"text",className:"form-control",value:this.state.lastName,onChange:this.lastnameFieldChange,placeholder:"Last Name"})]})})]}),Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Email Address"}),Object(s.jsx)("input",{type:"email",className:"form-control",value:this.state.email,onChange:this.emailFieldChange,placeholder:"Enter email"})]})}),Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Company"}),Object(s.jsx)("input",{type:"text",className:"form-control",value:this.state.company,onChange:this.companyFieldChange,placeholder:"Company Name"})]})})]}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Content"}),Object(s.jsx)("textarea",{type:"text",className:"form-control",value:this.state.content,onChange:this.contentFieldChange,placeholder:"Content"})]})})}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("button",{type:"submit",className:"btn btn-dark btn-block",children:"Submit"})})})]})})}}]),a}(c.a.Component),xe=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).forceLogout=function(){s.props.forceLogout(),s.props.history.push(s.props.reRouteTarget)},s.tokenFieldChange=function(e){s.setState({token:e.target.value})},s.gotoDash=function(){s.props.history.push(s.props.reRouteSuccessTarget)},s.handleVerifyCallback=function(e,t){200===e&&(console.log("Successful Verification!"),s.setState({done:!0}))},s.handleVerifyFailure=function(e,t){if(400===e)for(var a in t)"status"===a&&s.setState({tokenError:!0,tokenErrorDetail:t[a]})},s.handleVerifySubmit=function(e){!function(e,t,a,s,n){var c={headers:{Authorization:"JWT ".concat(t)}};b.a.get(e+"/emailActivate/?token="+a,c).then((function(e){s(e.status,e.data)})).catch((function(e){void 0!==e&&void 0!==e.response&&n(e.response.status,e.response.data)}))}(s.props.APIHost,s.props.authToken,s.state.token,s.handleVerifyCallback,s.handleVerifyFailure),e.preventDefault()},s.reSendEmailCallback=function(){s.setState({resend:"A new code has been sent!"})},s.reSendEmailFailure=function(e,t){console.log("Oh no. We failed...."),401===e&&s.props.forceLogout()},s.reSendEmail=function(){O(s.props.APIHost,s.props.authToken,s.reSendEmailCallback,s.reSendEmailFailure)},s.state={token:"",tokenError:!1,tokenErrorDetail:"???",done:!1,resend:""},s}return Object(l.a)(a,[{key:"render",value:function(){var e="form-control";this.state.tokenError&&(e+=" bg-warning");var t=[];return t=this.state.done?Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"row",children:Object(s.jsxs)("div",{className:"col",children:[Object(s.jsx)("h3",{children:"Thank you!"}),Object(s.jsx)("p",{children:"Account has been activated! Press here to go to the dashboard:"})]})}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("button",{className:"btn btn-dark",onClick:this.gotoDash,children:"To the Dashboard!"})})})]}):Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("h3",{children:"Activate your account"})})}),Object(s.jsx)("form",{onSubmit:this.handleVerifySubmit,children:Object(s.jsxs)("div",{id:"align-left",children:[Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("p",{children:" Check your email, you should have received a code, enter it here and your account will be activated!"})})}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{id:"label-left",children:"Enter token here:"}),Object(s.jsx)("input",{type:"text",className:e,value:this.state.username,onChange:this.tokenFieldChange,placeholder:"Token"}),Object(s.jsx)("p",{className:"text-danger",children:this.state.tokenError?this.state.tokenErrorDetail:""})]})})}),Object(s.jsx)("div",{className:"row my-2",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("button",{type:"submit",className:"btn btn-dark btn-block",children:"Submit"})})})]})}),Object(s.jsx)("div",{className:"row my-2",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("button",{onClick:this.reSendEmail,className:"btn btn-dark btn-block",children:"Re-send Activation code"})})}),Object(s.jsx)("div",{className:"row my-2",children:Object(s.jsx)("div",{className:"col",children:this.state.resend})})]}),Object(s.jsx)("div",{className:"signUp",children:Object(s.jsx)("div",{className:"container",children:t})})}}]),a}(c.a.Component),Oe=Object(h.f)(xe),ye=Object(h.f)((function(e){var t=0,a=[],n=e.companyDataTree;a.push(Object(s.jsx)("button",{onClick:e.backLayer,value:0,className:"btn btn-outline-dark",children:"Root"},t)),t+=1;var c="",r="",o=0,i=-1;if(e.currentCompanySelections.length>0)for(var l=0;l<e.currentCompanySelections.length;l++){c+=n[e.currentCompanySelections[l]].name+"/",r=n[e.currentCompanySelections[l]].name,o=n[e.currentCompanySelections[l]].perm,i=e.currentCompanySelections[l];var d="btn";n[e.currentCompanySelections[l]].perm?d+=" btn-secondary":d+=" btn-outline-secondary",a.push(Object(s.jsx)("button",{onClick:e.backLayer,value:l+1,className:d,children:n[e.currentCompanySelections[l]].name},t)),t+=1,n=n[e.currentCompanySelections[l]].children}else c="No Selection";var m=[];for(var u in n){var h="btn";n[u].perm?h+=" btn-primary":h+=" btn-outline-primary",m.push(Object(s.jsx)("button",{onClick:e.selectLayer,value:u,className:h,children:n[u].name},t)),t+=1}0===m.length&&(m.push(Object(s.jsx)("div",{className:"btn btn-outline-secondary",children:"End of Data"},t)),t+=1);var j="btn ";j+=o>0?"btn-success":"btn-danger";var b="";!1===e.lastRequestStatus&&(b=" bg-danger");var p=[o,r,i];return Object(s.jsx)("div",{className:"testPages",children:Object(s.jsx)("div",{className:"container",children:Object(s.jsx)("div",{className:"row my-2",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsxs)("div",{className:"card-header",children:[Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col my-2",children:"Selecting a Division you have Viewing Privilege of:"})}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col my-2",children:Object(s.jsx)("div",{className:b,children:c})})})]}),Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsx)("div",{className:"row my-2",children:Object(s.jsx)("div",{className:"col btn-group btn-group-sm",children:a})}),Object(s.jsx)("div",{className:"row my-2",children:Object(s.jsx)("div",{className:"col btn-group btn-group-sm",children:m})}),Object(s.jsx)("div",{className:"row my-2",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("button",{onClick:e.getDataRequest,value:p,className:j,children:"Save"})})})]})]})})})})})})),fe=Object(h.f)((function(e){var t=0,a=[];for(var n in e.dataSet)a.push(Object(s.jsx)("div",{className:"row m-2",children:Object(s.jsx)("div",{className:"col border",children:e.dataSet[n].content})},t)),t+=1;return Object(s.jsx)("div",{className:"testPages",children:Object(s.jsxs)("div",{className:"container",children:[Object(s.jsxs)("div",{className:"row m-2",children:[Object(s.jsx)("div",{className:"col col-lg-3 m-2",children:Object(s.jsx)(H.a,{onChange:e.pickDate,value:e.currentDate,tileClassName:function(t){var a=t.date;if("month"===t.view){var s=a.getFullYear()+"-"+a.getMonth()+"-"+a.getDate();if(e.validDays.find((function(e){return e===s})))return"btn btn-success"}},minDetail:"year",maxDetail:"month"})}),Object(s.jsx)("div",{className:"row m-2",children:Object(s.jsx)("div",{className:"col m-2",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsxs)("div",{children:["Suggestions for Date: ",e.dataDay.toString()]})}),Object(s.jsx)("div",{className:"card-body",children:a})]})})})]}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col"})})]})})})),Ne=void 0,Ce={editor:{border:"1px solid gray",minHeight:"6em",justifyContent:"left"}},Se=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).onToggle=function(t){t.preventDefault(),e.props.onToggle(e.props.style)},e}return Object(l.a)(a,[{key:"render",value:function(){var e="btn btn-outline-primary";return this.props.active&&(e+=" active"),Object(s.jsx)("button",{className:e,onClick:this.onToggle,children:this.props.label})}}]),a}(c.a.Component),De=[{label:"H1",style:"header-one"},{label:"H2",style:"header-two"},{label:"H3",style:"header-three"},{label:"H4",style:"header-four"},{label:"H5",style:"header-five"},{label:"H6",style:"header-six"},{label:"UL",style:"unordered-list-item"},{label:"OL",style:"ordered-list-item"}],ke=function(e){var t=e.editorState,a=t.getSelection(),n=t.getCurrentContent().getBlockForKey(a.getStartKey()).getType();return Object(s.jsx)("div",{className:"RichEditor-controls",children:De.map((function(t){return Object(s.jsx)(Se,{active:t.style===n,label:t.label,onToggle:e.onToggle,style:t.style},t.label)}))})},we=[{label:"Bold",style:"BOLD"},{label:"Italic",style:"ITALIC"},{label:"Underline",style:"UNDERLINE"}],Te=function(e){var t=e.editorState.getCurrentInlineStyle();return Object(s.jsx)("div",{className:"RichEditor-controls",children:we.map((function(a){return Object(s.jsx)(Se,{active:t.has(a.style),label:a.label,onToggle:e.onToggle,style:a.style},a.label)}))})},Ae=Object(h.f)((function(e){var t=0,a=[],n=e.companyDataTree;a.push(Object(s.jsx)("button",{onClick:e.backLayer,value:0,className:"btn btn-outline-dark",children:"Root"},t)),t+=1;var c="",r=0;if(e.currentCompanySelections.length>0)for(var o=0;o<e.currentCompanySelections.length;o++){c+=n[e.currentCompanySelections[o]].name+"/",r=n[e.currentCompanySelections[o]].perm;var i="btn";n[e.currentCompanySelections[o]].perm?i+=" btn-secondary":i+=" btn-outline-secondary",a.push(Object(s.jsx)("button",{onClick:e.backLayer,value:o+1,className:i,children:n[e.currentCompanySelections[o]].name},t)),t+=1,n=n[e.currentCompanySelections[o]].children}else c="No Selection";var l=[];for(var d in n){var m="btn";n[d].perm?m+=" btn-primary":m+=" btn-outline-primary",l.push(Object(s.jsx)("button",{onClick:e.selectLayer,value:d,className:m,children:n[d].name},t)),t+=1}0===l.length&&(l.push(Object(s.jsx)("div",{className:"btn btn-outline-secondary",children:"End of Data"},t)),t+=1);var u="btn ";u+=r>0?"btn-success":"btn-danger";var h="";!1===e.lastRequestStatus&&(h=" bg-danger");return Object(s.jsx)("div",{className:"makeView",children:Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)("div",{className:"row my-2",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col my-2",children:Object(s.jsx)("div",{className:h,children:"Select Part of Company:"})})})}),Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsx)("div",{className:"row my-2",children:Object(s.jsx)("div",{className:"col btn-group btn-group-sm",children:a})}),Object(s.jsx)("div",{className:"row my-2",children:Object(s.jsx)("div",{className:"col btn-group btn-group-sm",children:l})})]})]})})}),Object(s.jsx)("div",{className:"row my-2",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsxs)("div",{className:"card-header",children:[Object(s.jsx)("h4",{children:"Writing Suggestion for:"}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col my-2",children:Object(s.jsx)("div",{className:h,children:c})})})]}),Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsx)("div",{className:"row",children:Object(s.jsxs)("div",{className:"col",children:[Object(s.jsx)(ke,{editorState:e.editorState,onToggle:function(e){Ne.onChange(B.RichUtils.toggleBlockType(Ne.state.editorState,e))}}),Object(s.jsx)(Te,{editorState:e.editorState,onToggle:function(e){Ne.onChange(B.RichUtils.toggleInlineStyle(Ne.state.editorState,e))}})]})}),Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-1"}),Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("div",{id:"align-left",children:Object(s.jsx)("div",{style:Ce.editor,children:Object(s.jsx)(B.Editor,{editorState:e.editorState,onChange:e.onChange,handleKeyCommand:function(t,a){var s=B.RichUtils.handleKeyCommand(a,t);return s?(e.onChange(s),"handled"):"not-handled"},spellCheck:!0,placeholder:""})})})}),Object(s.jsx)("div",{className:"col-1"})]}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("button",{className:u,onClick:e.saveToServer,children:" Save Suggestion "})})})]})]})})})]})})})),Ee=(a(379),"/scenere"),Ie="https://cmaster.pythonanywhere.com",Pe=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).loadFromCookies=function(){var e=A.a.get("lastUser");try{s.setState({currentUser:e.user,sessionToken:e.session,remember:!0})}catch(t){console.log("User was NOT found in the storage")}},s.setToken=function(e,t,a){return s.setState({sessionToken:e,currentUser:t,rememberMe:a}),!0===a&&A.a.set("lastUser",{user:t,session:e}),!0},s.refresh=function(){var e={token:s.state.sessionToken};b.a.post(Ie+"/apiTokenRefresh/",e).then((function(e){return console.log("Token refreshed"),s.setToken(e.data.token,s.state.currentUser,s.status.rememberMe),!0})).catch((function(e){return console.log(e),s.logout(),!1}))},s.logout=function(){s.setState({sessionToken:void 0,currentUser:void 0}),A.a.remove("lastUser")},s.state={currentUser:void 0,sessionToken:void 0,remember:!1},s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.loadFromCookies()}},{key:"render",value:function(){var e=this;return Object(s.jsx)(u.a,{children:Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)(g,{currentUser:this.state.currentUser,basePath:Ee,clearLogin:this.logout}),Object(s.jsxs)(h.c,{children:[Object(s.jsx)(h.a,{path:"/scenere/",exact:!0,component:function(){return Object(s.jsx)(F,{APIHost:Ie})}}),Object(s.jsx)(h.a,{path:"/scenere/info",component:function(){return Object(s.jsx)(ie,{APIHost:Ie})}}),Object(s.jsx)(h.a,{path:"/scenere/signin",exact:!0,component:function(){return Object(s.jsx)(I,{APIHost:Ie,loginSave:e.setToken,reRouteTarget:"/scenere/dashboard",forgotPath:"/scenere/forgot"})}}),Object(s.jsx)(h.a,{path:"/scenere/signup",exact:!0,component:function(){return Object(s.jsx)(U,{APIHost:Ie,reRouteTarget:"/scenere/verify",loginSave:e.setToken,authToken:e.state.sessionToken})}}),Object(s.jsx)(h.a,{path:"/scenere/verify",exact:!0,component:function(){return Object(s.jsx)(Oe,{APIHost:Ie,authToken:e.state.sessionToken,forceLogout:e.logout,reRouteTarget:"/scenere/signin",reRouteSuccessTarget:"/scenere/dashboard"})}}),Object(s.jsx)(h.a,{path:"/scenere/forgot",exact:!0,component:function(){return Object(s.jsx)(R,{APIHost:Ie,reRouteTarget:"/scenere/signin"})}}),Object(s.jsx)(h.a,{path:"/scenere/contact",exact:!0,component:function(){return Object(s.jsx)(ve,{APIHost:Ie})}}),Object(s.jsx)(h.a,{path:"/scenere/dashboard",component:function(){return Object(s.jsx)(he,{APIHost:Ie,tokenRefresh:e.refresh,reRouteTarget:"/scenere/signin",activateRedirect:"/scenere/verify",forceLogout:e.logout,currentUser:e.state.currentUser,authToken:e.state.sessionToken})}})]}),Object(s.jsx)(v,{})]})})}}]),a}(c.a.Component),Ue=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,387)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),s(e),n(e),c(e),r(e)}))};a(380),a(381);o.a.render(Object(s.jsx)(Pe,{}),document.getElementById("root")),Ue()}},[[383,1,2]]]);
//# sourceMappingURL=main.5a3422d5.chunk.js.map