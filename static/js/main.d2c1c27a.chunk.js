(this["webpackJsonpproject-scenere"]=this["webpackJsonpproject-scenere"]||[]).push([[0],{160:function(e,t,a){},380:function(e,t,a){},381:function(e,t,a){},385:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a(1),r=a.n(n),c=a(87),o=a.n(c),i=(a(160),a(10)),l=a(11),d=a(13),u=a(12),j=a(5),h=a(15),m=a(7),b=a.n(m),p=a(3),v=a.n(p),g=function(e,t,a,s,n){var r={username:t,password:a};b.a.post(e+"/apiTokenAuth/",r).then((function(e){var t=e.data.token;s(t)})).catch((function(e){if(e.response){var t=e.response.data,a=[],s=[];for(var r in t)"username"===r?(a.push(1),s.push(t[r])):"password"===r?(a.push(2),s.push(t[r])):"non_field_errors"===r?(a.push(3),s.push(t[r])):(a.push(10),s.push("Unknown Error"));n(a,s)}else n([0],["Network Error"])}))},O=function(e,t,a,s){var n={headers:{Authorization:"JWT ".concat(t)}};b.a.get(e+"/emailVerifyResend",n).then((function(e){a()})).catch((function(e){console.log("Failure"),void 0!==e&&void 0!==e.response&&401===e.response.status&&s()}))},x=function(e,t,a,s,n){var r={headers:{Authorization:"JWT ".concat(t)}};b.a.get(e+"/getUsersPermissionTree?reqPerms="+a,r).then((function(e){console.log("Got the tree of companies"),s(e.data.tree,e.data.nameList,e.data.idList)})).catch((function(e){e.response?401===e.response.status&&n([401],["Unauthorized"]):(console.log("Network Error!"),n([0],["Network Error"]))}))},f=function(e,t,a,s,n,r){var c={headers:{Authorization:"JWT ".concat(t)}},o=s.toJSON().split("T")[0];b.a.get(e+"/getCompanySuggestionData?reqDiv="+a+"&reqDate="+o,c).then((function(e){console.log("Got the suggestion data!"),n(s,e.data)})).catch((function(e){void 0!==e&&void 0!==e.response&&401===e.response.status&&r()}))},N=function(e,t,a,s,n,r,c){var o={headers:{Authorization:"JWT ".concat(t)}},i={reqDiv:a,targetInvite:s,targetAction:n};b.a.put(e+"/setDivisionInvite/",i,o).then((function(e){var t=e.data;r(t)})).catch((function(e){if(console.log(e),e.response){var t=e.response.data,a=[],s=[];for(var n in t)"???"===n?(a.push(1),s.push(t[n])):(a.push(10),s.push("Unknown Error"));c(a,s)}else c([0],["Network Error"])}))},y=function(e,t,a,s,n,r){var c={headers:{Authorization:"JWT ".concat(t)}},o={targetInvite:a,targetAction:s};b.a.put(e+"/setUserInvite/",o,c).then((function(e){var t=e.data;n(t)})).catch((function(e){if(console.log(e),e.response){var t=e.response.data,a=[],s=[];for(var n in t)"???"===n?(a.push(1),s.push(t[n])):(a.push(10),s.push("Unknown Error"));r(a,s)}else r([0],["Network Error"])}))},D=function(e,t){var a=[],s=0;for(s in t)a.push({label:t[s].label,data:t[s].data,fill:!1,backgroundColor:"rgb(99, 255, 132)",borderColor:"rgba(255, 132, 99, 0.2)"});return{labels:e,datasets:a}},w=function(e){return{labels:["Joy","Anger","Sadness","Disgust","Fear"],datasets:[{label:"Confidence Levels",data:e,backgroundColor:"rgba(99, 255, 132, 0.2)",borderColor:"rgba(99, 255, 132, 1)",borderWidth:1}]}},S=function(e,t,a){return{labels:["Joy","Anger","Sadness","Disgust","Fear"],datasets:[{label:"Max",data:e,backgroundColor:"rgba(99, 255, 132, 0.2)",borderColor:"rgba(99, 255, 132, 1)",borderWidth:1},{label:"Ave",data:t,backgroundColor:"rgba(99, 132, 255, 0.2)",borderColor:"rgba(99, 132, 255, 1)",borderWidth:1},{label:"Min",data:a,backgroundColor:"rgba(255, 99, 132, 0.2)",borderColor:"rgba(255, 99, 132, 1)",borderWidth:1}]}},k=function(e,t,a){return{labels:["Value"],datasets:[{label:"Minimum",data:e,backgroundColor:"rgb(255, 99, 132)"},{label:"Average",data:t,backgroundColor:"rgb(54, 162, 235)"},{label:"Maximum",data:a,backgroundColor:"rgb(75, 192, 192)"}]}},C=function(e,t,a){return{labels:["Relevance","Sentiment"],datasets:[{label:"Minimum",data:e,backgroundColor:"rgb(255, 99, 132)"},{label:"Average",data:t,backgroundColor:"rgb(54, 162, 235)"},{label:"Maximum",data:a,backgroundColor:"rgb(75, 192, 192)"}]}},E=function(e){return{labels:["Relevance","Sentiment"],datasets:[{label:"Value",data:e,backgroundColor:"rgb(54, 162, 235)"}]}},I=function(e){return{labels:["Confidence","Relevance","Sentiment"],datasets:[{label:"Value",data:e,backgroundColor:"rgb(54, 162, 235)"}]}},T=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).loadFromCookies=function(){var e=v.a.get("rememberUser");try{s.setState({username:e.user,password:e.pass})}catch(t){}},s.userFieldChange=function(e){s.setState({username:e.target.value,usernameError:!1,passwordError:!1,isWrongError:!1,networkError:!1,miscError:!1})},s.passFieldChange=function(e){s.setState({password:e.target.value,usernameError:!1,passwordError:!1,isWrongError:!1,networkError:!1,miscError:!1})},s.remFieldChange=function(e){s.setState({remember:!s.state.remember,usernameError:!1,passwordError:!1,isWrongError:!1,networkError:!1,miscError:!1})},s.handleSubmitSuccess=function(e){s.props.loginSave(e,s.state.username,s.state.remember)?(console.log("Token registered"),s.props.history.push(s.props.reRouteTarget)):console.log("Token Set on OUR END Failed..?")},s.handleSubmitFailure=function(e,t){console.log("Connection failed...");var a=[!1,!1,!1,!1],n=!1;for(var r in e)e[r]>a.length?n=!0:a[e[r]]=!0;s.setState({networkError:a[0],usernameError:a[1],passwordError:a[2],isWrongError:a[3],miscError:n})},s.handleSubmit=function(e){g(s.props.APIHost,s.state.username,s.state.password,s.handleSubmitSuccess,s.handleSubmitFailure),e.preventDefault()},s.state={currentState:0,lastAttemptCode:-1,lastAttemptMessage:"",usernameError:!1,passwordError:!1,isWrongError:!1,networkError:!1,miscError:!1,username:"",password:"",remember:!1},s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e="";(this.state.usernameError||this.state.isWrongError)&&(e="bg-warning");var t="";return(this.state.passwordError||this.state.isWrongError)&&(t="bg-warning"),Object(s.jsx)("div",{className:"container",children:Object(s.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(s.jsx)("h3",{children:"Sign In"}),Object(s.jsx)("p",{className:"text-danger",children:this.state.isWrongError?"Username and/or Password are incorrect":""}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Username"}),Object(s.jsx)("input",{type:"text",className:"form-control "+e,value:this.state.username,onChange:this.userFieldChange,placeholder:"Enter Username"}),Object(s.jsx)("p",{className:"text-danger",children:this.state.usernameError?"Username cant be blank":""})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Password"}),Object(s.jsx)("input",{type:"password",className:"form-control "+t,value:this.state.password,onChange:this.passFieldChange,placeholder:"Enter password"}),Object(s.jsx)("p",{className:"text-danger",children:this.state.passwordError?"Password cannot be blank":""})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("input",{type:"checkbox",className:"form-control-input",id:"customCheck1",value:this.state.remember,onChange:this.remFieldChange}),Object(s.jsx)("label",{className:"form-control-label",htmlFor:"customCheck1",children:"Remember Me"})]}),this.state.miscError?Object(s.jsx)("p",{className:"text-danger border",children:"Unknown Error"}):void 0,this.state.networkError?Object(s.jsx)("p",{className:"bg-warning text-danger border",children:"Server cannot be reached!"}):void 0,Object(s.jsx)("button",{type:"submit",className:"btn btn-dark btn-block",children:"Submit"}),Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col"}),Object(s.jsx)("div",{className:"col"}),Object(s.jsx)("div",{className:"col"}),Object(s.jsx)("p",{className:"col forgot-password text-dark",children:Object(s.jsx)(j.b,{className:"nav-link border",to:this.props.forgotPath,children:"Forgot password?"})})]})]})})}}]),a}(r.a.Component),A=Object(h.f)(T),P=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).usernameFieldChange=function(e){s.setState({username:e.target.value})},s.emailFieldChange=function(e){s.setState({email:e.target.value})},s.passFieldChange=function(e){s.setState({password:e.target.value,passwordError:e.target.value!==s.state.password2,passwordErrorDetail:"Passwords do not match!"})},s.pass2FieldChange=function(e){s.setState({password2:e.target.value,passwordError:e.target.value!==s.state.password,passwordErrorDetail:"Passwords do not match!"})},s.firstNameFieldChange=function(e){s.setState({firstName:e.target.value})},s.lastnameFieldChange=function(e){s.setState({lastName:e.target.value})},s.checkFieldChange=function(e){s.setState({checkField:e.target.value})},s.nowSendEmailCallback=function(){s.props.history.push(s.props.reRouteTarget)},s.nowSendEmailFailure=function(){console.log("Oh no. We failed"),s.props.history.push(s.props.reRouteTarget)},s.nowSendEmail=function(e){O(s.props.APIHost,e,s.nowSendEmailCallback,s.nowSendEmailFailure)},s.nowSignInCallback=function(e){s.props.loginSave(e,s.state.username,!1)?(console.log("Token registered"),s.nowSendEmail(e)):(console.log("Token Failed..?"),s.props.history.push(s.props.reRouteTarget))},s.nowSignInFailure=function(){console.log("Sign in failed, I dont even know what to do here..."),s.props.history.push(s.props.reRouteTarget)},s.nowSignIn=function(){g(s.props.APIHost,s.state.username,s.state.password,s.nowSignInCallback,s.nowSignInFailure)},s.handleSignUpSubmitCallback=function(e){201===e&&(console.log("Successful Sign up, now signing in..."),s.nowSignIn())},s.handleSignUpSubmitFailure=function(e,t){var a=[!1,!1,!1,!1],n=["","","",""],r=!1;for(var c in e)e[c]>a.length?r=!0:(a[e[c]]=!0,n[e[c]]=t[c]);s.setState({networkError:a[0],usernameError:a[1],passwordError:a[2],emailError:a[3],uncaughtError:r,usernameErrorDetail:n[1],passwordErrorDetail:n[2],emailErrorDetail:n[3]})},s.handleSignUpSubmit=function(e){s.state.checkField?function(e,t,a,s,n,r,c,o,i){var l={username:t,password:a,password2:s,email:n,first_name:r,last_name:c};b.a.post(e+"/registerUser/",l).then((function(e){var t=e.status;o(t)})).catch((function(e){if(e.response){var t=e.response.data,a=[],s=[];for(var n in t)"username"===n?(a.push(1),s.push(t[n])):"password"===n?(a.push(2),s.push(t[n])):"email"===n?(a.push(3),s.push(t[n])):(a.push(10),s.push("Unknown Error"));i(a,s)}else console.log("Network Error!"),i([0],["Network Error"])}))}(s.props.APIHost,s.state.username,s.state.password,s.state.password2,s.state.email,s.state.firstName,s.state.lastName,s.handleSignUpSubmitCallback,s.handleSignUpSubmitFailure):console.log("Field was not checked"),e.preventDefault()},s.state={username:"",email:"",password:"",password2:"",firstName:"",lastName:"",networkError:!1,usernameError:!1,usernameErrorDetail:"Username is unavalible",emailError:!1,emailErrorDetail:"Email is invalid/taken",passwordError:!1,passwordErrorDetail:"Passwords do not match!",uncaughtError:!1,checkField:!1},s}return Object(l.a)(a,[{key:"render",value:function(){var e="form-control";this.state.usernameError&&(e+=" bg-warning");var t="form-control";this.state.emailError&&(t+=" bg-warning");var a="form-control";return this.state.passwordError&&(a+=" bg-warning"),Object(s.jsx)("div",{className:"signUp",children:Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("h3",{children:"Sign Up"})})}),Object(s.jsxs)("form",{onSubmit:this.handleSignUpSubmit,children:[Object(s.jsxs)("div",{id:"align-left",children:[Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{id:"label-left",children:"Username"}),Object(s.jsx)("input",{type:"text",className:e,value:this.state.username,onChange:this.usernameFieldChange,placeholder:"Enter Username"}),Object(s.jsx)("p",{className:"text-danger",children:this.state.usernameError?this.state.usernameErrorDetail:""})]})})}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{id:"align-left",children:"Email Address"}),Object(s.jsx)("input",{type:"email",className:t,value:this.state.email,onChange:this.emailFieldChange,placeholder:"Enter email"}),Object(s.jsx)("p",{className:"text-danger",children:this.state.emailError?this.state.emailErrorDetail:""})]})})}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{id:"align-left",children:"Password"}),Object(s.jsx)("input",{type:"password",className:a,value:this.state.password,onChange:this.passFieldChange,placeholder:"Enter password"})]})})}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{id:"align-left",children:"Confirm Password"}),Object(s.jsx)("input",{type:"password",className:a,value:this.state.password2,onChange:this.pass2FieldChange,placeholder:"Confirm password"}),Object(s.jsx)("p",{className:"text-danger",children:this.state.passwordError?this.state.passwordErrorDetail:""})]})})}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{id:"align-left",children:"First Name"}),Object(s.jsx)("input",{type:"text",className:"form-control",value:this.state.firstName,onChange:this.firstNameFieldChange,placeholder:"First Name"})]})})}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{id:"align-left",children:"Last Name"}),Object(s.jsx)("input",{type:"text",className:"form-control",value:this.state.lastName,onChange:this.lastnameFieldChange,placeholder:"Last Name"})]})})})]}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("input",{type:"checkbox",className:"form-control-input",id:"customCheck1",value:this.state.checkField,onChange:this.checkFieldChange}),Object(s.jsx)("label",{className:"form-control-label",htmlFor:"customCheck1",children:"Legal stuff?"})]})})}),Object(s.jsx)("div",{className:"row",children:Object(s.jsxs)("div",{className:"col",children:[this.state.networkError?Object(s.jsx)("p",{className:"bg-warning text-danger border",children:"Server cannot be reached!"}):void 0,Object(s.jsx)("button",{type:"submit",className:"btn btn-dark btn-block",children:"Submit"})]})}),Object(s.jsx)("div",{className:"row my-5",children:Object(s.jsx)("div",{className:"col"})})]})]})})}}]),a}(r.a.Component),L=Object(h.f)(P),U=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).goSignIn=function(){s.props.history.push(s.props.reRouteTarget)},s.arePasswordsSame=function(){return s.state.password1===s.state.password2},s.swapToCode=function(){s.setState({currentState:1})},s.sendEmailSuccess=function(e,t){console.log("Email Send Success"),s.setState({currentState:1,networkError:!1,uncaughtError:!1})},s.sendEmailFailure=function(e,t){console.log("Email Send Failure");var a=[!1,!1],n=["",""],r=!1;for(var c in e)e[c]>a.length?r=!0:(a[e[c]]=!0,n[e[c]]=t[c]);s.setState({networkError:a[0],emailError:a[1],uncaughtError:r,emailErrorDetail:n[1]})},s.sendEmail=function(){console.log("Sending the Email Here..."),function(e,t,a,s){var n={targetEmail:t};b.a.post(e+"/nonAuthPassword/sendEmail/",n).then((function(e){a(e.status)})).catch((function(e){if(e.response){var t=e.response.data,a=[],n=[];for(var r in t)"email"===r?(a.push(1),n.push(t[r])):(a.push(10),n.push("Unknown Error"));s(a,n)}else console.log("Network Error!"),s([0],["Network Error"])}))}(s.props.APIHost,s.state.email,s.sendEmailSuccess,s.sendEmailFailure)},s.checkTokenSuccess=function(e){console.log("Token Matched!"),s.setState({currentState:2,networkError:!1,uncaughtError:!1})},s.checkTokenFailure=function(e,t){console.log("Token Failed!");var a=[!1,!1],n=["",""],r=!1;for(var c in e)e[c]>a.length?r=!0:(a[e[c]]=!0,n[e[c]]=t[c]);s.setState({networkError:a[0],tokenError:a[1],uncaughtError:r,tokenErrorDetail:n[1]})},s.checkToken=function(){var e,t,a,n;console.log("Send Token Here..."),e=s.props.APIHost,t=s.state.resetToken,a=s.checkTokenSuccess,n=s.checkTokenFailure,b.a.get(e+"/nonAuthPassword/validate/?token="+t,{}).then((function(e){a(e.status)})).catch((function(e){if(e.response){var t=e.response.data,a=[],s=[];for(var r in t)"status"===r?(a.push(1),s.push(t[r])):(a.push(10),s.push("Unknown Error"));n(a,s)}else console.log("Network Error!"),n([0],["Network Error"])}))},s.submitPasswordSuccess=function(e){console.log("Password Reset Success!"),s.setState({currentState:3,networkError:!1,uncaughtError:!1})},s.submitPasswordFailure=function(e,t){var a=[!1,!1],n=["",""],r=!1;for(var c in e)e[c]>a.length?r=!0:(a[e[c]]=!0,n[e[c]]=t[c]);s.setState({networkError:a[0],passwordError:a[1],uncaughtError:r,passwordErrorDetail:n[1]})},s.submitPasswords=function(){console.log("Checking Passwords..."),s.arePasswordsSame()?(console.log("Passwords Checked out!"),function(e,t,a,s,n,r){var c={password:a,password2:s,passToken:t};b.a.put(e+"/nonAuthPassword/Change/",c).then((function(e){n(e.status)})).catch((function(e){if(e.response){var t=e.response.data,a=[],s=[];for(var n in t)"password"===n?(a.push(1),s.push(t[n])):(a.push(10),s.push("Unknown Error"));r(a,s)}else console.log("Network Error!"),r([0],["Network Error"])}))}(s.props.APIHost,s.state.resetToken,s.state.password1,s.state.password2,s.submitPasswordSuccess,s.submitPasswordFailure)):console.log("Passwords Failed!")},s.emailFieldChange=function(e){s.setState({email:e.target.value})},s.tokenFieldChange=function(e){s.setState({resetToken:e.target.value})},s.pass1FieldChange=function(e){s.setState({password1:e.target.value})},s.pass2FieldChange=function(e){s.setState({password2:e.target.value,passwordsSameError:e.target.value!==s.state.password1})},s.state={currentState:0,email:"",resetToken:"",password1:"",password2:"",passwordsSameError:!1,networkError:!1,emailError:!1,emailErrorDetail:"",tokenError:!1,tokenErrorDetail:"",passwordError:!1,passwordErrorDetail:"",uncaughtError:!1},s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.setState({email:"",resetToken:"",password1:"",password2:""})}},{key:"render",value:function(){var e=null,t=null,a=null;return 0===this.state.currentState?(this.state.networkError,this.state.emailError,a=Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("p",{children:"Enter your email address. If it is in the system, we will send you an email address with a code."})})}),e=Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Email Address"}),Object(s.jsx)("input",{type:"email",className:"form-control",value:this.state.email,onChange:this.emailFieldChange,placeholder:"Enter email"})]})})}),t=[Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("button",{className:"btn btn-primary",onClick:this.sendEmail,children:"Send"})})},1),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col m-2",children:Object(s.jsx)("button",{className:"btn btn-primary",onClick:this.swapToCode,children:"Already have the code!"})})},2)]):1===this.state.currentState?(this.state.networkError,this.state.tokenError,a=Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("p",{children:"Check your email. If your email is correct, then enter the code it gives you here:"})}),e=Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Reset token"}),Object(s.jsx)("input",{type:"text",className:"form-control",value:this.state.resetToken,onChange:this.tokenFieldChange,placeholder:"Enter Token"})]})}),t=Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("button",{className:"btn btn-primary",onClick:this.checkToken,children:"Check Code"})})):2===this.state.currentState?(this.state.networkError,this.state.passwordError,a=[Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("p",{children:" Enter your new password! "})})},1)],this.state.passwordsSameError&&a.push(Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("p",{className:"text-danger",children:" Passwords do not match! "})})},2)),e=[Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("div",{className:"form-group",children:Object(s.jsx)("input",{type:"password",className:"form-control",value:this.state.password1,onChange:this.pass1FieldChange,placeholder:"Enter Password"})})})},3),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("div",{className:"form-group",children:Object(s.jsx)("input",{type:"password",className:"form-control",value:this.state.password2,onChange:this.pass2FieldChange,placeholder:"Re-enter Password"})})})},4)],t=Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("button",{className:"btn btn-primary",onClick:this.submitPasswords,children:"Submit"})})})):3===this.state.currentState&&(a=Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("p",{children:" Password has been successfullty reset! "})})}),e=null,t=Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("button",{className:"btn btn-primary",onClick:this.goSignIn,children:"Sign In!"})})})),Object(s.jsxs)("div",{className:"container-sm",children:[Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("h3",{children:" Forgot your password? "})})}),a,e,t]})}}]),a}(r.a.Component),R=Object(h.f)(U),F=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).forceLogout=function(){s.props.forceLogout(),s.props.history.push(s.props.reRouteTarget)},s.tokenFieldChange=function(e){s.setState({token:e.target.value})},s.gotoDash=function(){s.props.history.push(s.props.reRouteSuccessTarget)},s.handleVerifyCallback=function(e,t){200===e&&(console.log("Successful Verification!"),s.setState({done:!0}))},s.handleVerifyFailure=function(e,t){if(400===e)for(var a in t)"status"===a&&s.setState({tokenError:!0,tokenErrorDetail:t[a]})},s.handleVerifySubmit=function(e){!function(e,t,a,s,n){var r={headers:{Authorization:"JWT ".concat(t)}};b.a.get(e+"/emailActivate/?token="+a,r).then((function(e){s(e.status,e.data)})).catch((function(e){void 0!==e&&void 0!==e.response&&n(e.response.status,e.response.data)}))}(s.props.APIHost,s.props.authToken,s.state.token,s.handleVerifyCallback,s.handleVerifyFailure),e.preventDefault()},s.reSendEmailCallback=function(){s.setState({resend:"A new code has been sent!"})},s.reSendEmailFailure=function(e,t){console.log("Oh no. We failed...."),401===e&&s.props.forceLogout()},s.reSendEmail=function(){O(s.props.APIHost,s.props.authToken,s.reSendEmailCallback,s.reSendEmailFailure)},s.state={token:"",tokenError:!1,tokenErrorDetail:"???",done:!1,resend:""},s}return Object(l.a)(a,[{key:"render",value:function(){var e="form-control";this.state.tokenError&&(e+=" bg-warning");var t=[];return t=this.state.done?Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"row",children:Object(s.jsxs)("div",{className:"col",children:[Object(s.jsx)("h3",{children:"Thank you!"}),Object(s.jsx)("p",{children:"Account has been activated! Press here to go to the dashboard:"})]})}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("button",{className:"btn btn-dark",onClick:this.gotoDash,children:"To the Dashboard!"})})})]}):Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("h3",{children:"Activate your account"})})}),Object(s.jsx)("form",{onSubmit:this.handleVerifySubmit,children:Object(s.jsxs)("div",{id:"align-left",children:[Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("p",{children:" Check your email, you should have received a code, enter it here and your account will be activated!"})})}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{id:"label-left",children:"Enter token here:"}),Object(s.jsx)("input",{type:"text",className:e,value:this.state.username,onChange:this.tokenFieldChange,placeholder:"Token"}),Object(s.jsx)("p",{className:"text-danger",children:this.state.tokenError?this.state.tokenErrorDetail:""})]})})}),Object(s.jsx)("div",{className:"row my-2",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("button",{type:"submit",className:"btn btn-dark btn-block",children:"Submit"})})})]})}),Object(s.jsx)("div",{className:"row my-2",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("button",{onClick:this.reSendEmail,className:"btn btn-dark btn-block",children:"Re-send Activation code"})})}),Object(s.jsx)("div",{className:"row my-2",children:Object(s.jsx)("div",{className:"col",children:this.state.resend})})]}),Object(s.jsx)("div",{className:"signUp",children:Object(s.jsx)("div",{className:"container",children:t})})}}]),a}(r.a.Component),H=Object(h.f)(F),J=function(e){return Object(s.jsx)("div",{className:"header",children:Object(s.jsxs)("div",{className:"container border backdropA",children:[Object(s.jsx)("div",{className:"row justify-content-center text-center my-5",children:Object(s.jsx)("div",{className:"col-lg-12",children:Object(s.jsx)("h1",{children:"Project Scenere"})})}),Object(s.jsx)("div",{className:"row justify-content-center text-center my-2",children:Object(s.jsx)("div",{className:"col-lg-7",children:Object(s.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis sed dapibus leo nec ornare diam sed commodo nibh ante facilisis bibendum."})})})]})})},W=(a(387),a(388),a(389),a(390),function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).firstNameFieldChange=function(e){s.setState({firstName:e.target.value})},s.lastnameFieldChange=function(e){s.setState({lastName:e.target.value})},s.emailFieldChange=function(e){s.setState({email:e.target.value})},s.companyFieldChange=function(e){s.setState({company:e.target.value})},s.contentFieldChange=function(e){s.setState({content:e.target.value})},s.handleSubmit=function(e){var t={firstName:s.state.firstName,lastName:s.state.lastName,email:s.state.email,company:s.state.company,content:s.state.content};b.a.post(s.props.APIHost+"/sendContactEmail/",t).then((function(e){e.status})).catch((function(e){console.log(e.response.status),console.log(e.response.data)})),e.preventDefault()},s.state={firstName:"",lastName:"",email:"",company:"",content:""},s}return Object(l.a)(a,[{key:"render",value:function(){return Object(s.jsx)("div",{className:"contactUs",children:Object(s.jsx)("div",{className:"container border backdropA",children:Object(s.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("h3",{children:"Contact Us"})})}),Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"First Name"}),Object(s.jsx)("input",{type:"text",className:"form-control",value:this.state.firstName,onChange:this.firstNameFieldChange,placeholder:"First Name"})]})}),Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Last Name"}),Object(s.jsx)("input",{type:"text",className:"form-control",value:this.state.lastName,onChange:this.lastnameFieldChange,placeholder:"Last Name"})]})})]}),Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Email Address"}),Object(s.jsx)("input",{type:"email",className:"form-control",value:this.state.email,onChange:this.emailFieldChange,placeholder:"Enter email"})]})}),Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Company"}),Object(s.jsx)("input",{type:"text",className:"form-control",value:this.state.company,onChange:this.companyFieldChange,placeholder:"Company Name"})]})})]}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Content"}),Object(s.jsx)("textarea",{type:"text",className:"form-control",value:this.state.content,onChange:this.contentFieldChange,placeholder:"Content"})]})})}),Object(s.jsx)("div",{className:"row my-1",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("button",{type:"submit",className:"btn btn-dark btn-block",children:"Submit"})})})]})})})}}]),a}(r.a.Component)),M=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).triggerLogout=function(){s.props.clearLogin()},s.saveToStorage=function(){!function(e,t){var a={lastDate:new Date,data:t};v.a.set(e,a)}("asdf",{SecondKey:"asdf",thirdKey:"boop"})},s.getFromStorage=function(){var e=function(e){var t=v.a.get(e);return void 0===t?0:(t.lastDate,new Date,t.data)}("asdf");console.log(e)},s.state={something:null},s}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.basePath,t=null,a=null;return void 0===this.props.currentUser?(t=[Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)(j.b,{className:"nav-link",to:e+"/signup",children:"Sign Up"})},"1"),Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)(j.b,{className:"nav-link",to:e+"/signin",children:"Sign In"})},"2")],a=Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)(j.b,{className:"nav-link",to:e+"/dashboard",children:"None"})},"3")):(t=[Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)(j.b,{className:"nav-link",to:e+"/dashboard",children:"Dashboard"})},"1"),Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)(j.b,{className:"nav-link",to:e+"/",onClick:this.triggerLogout,children:"Sign Out"})},"2")],a=Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)(j.b,{className:"nav-link",to:e+"/dashboard",children:this.props.currentUser})},"5")),Object(s.jsx)("div",{className:"navigation",children:Object(s.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:Object(s.jsxs)("div",{className:"container-fluid",children:[Object(s.jsx)(j.b,{className:"navbar-brand",to:e+"/",children:"Project Scenere"}),Object(s.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarResponsive","aria-controls":"navbarResponsive","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(s.jsx)("span",{className:"navbar-toggler-icon"})}),Object(s.jsx)("div",{className:"collapse navbar-collapse",id:"navbarResponsive",children:Object(s.jsxs)("ul",{className:"navbar-nav ml-auto",children:[t,Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)("div",{className:"nav-link",children:"Current User:"})},"1"),a]})})]})})})}}]),a}(r.a.Component),V=Object(h.f)(M),G=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={},s}return Object(l.a)(a,[{key:"render",value:function(){return Object(s.jsx)("div",{className:"footer",children:Object(s.jsx)("footer",{className:"py-3 bg-dark fixed-bottom",children:Object(s.jsx)("div",{className:"container",children:Object(s.jsx)("p",{className:"m-0 text-center text-white",children:"Copyright \xa9 Nightingale Technologies 2021"})})})})}}]),a}(r.a.Component),q=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).backButton=function(){s.props.history.goBack()},s.state={example:0},s}return Object(l.a)(a,[{key:"render",value:function(){return Object(s.jsx)("div",{className:"authPages",children:Object(s.jsx)("div",{className:"container",children:Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:"Authorization Pages"})})})})}}]),a}(r.a.Component),z=(Object(h.f)(q),a(18)),B=void 0,Y={editor:{border:"1px solid gray",minHeight:"6em",justifyContent:"left"}},Z=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).onToggle=function(t){t.preventDefault(),e.props.onToggle(e.props.style)},e}return Object(l.a)(a,[{key:"render",value:function(){var e="btn btn-outline-primary";return this.props.active&&(e+=" active"),Object(s.jsx)("button",{className:e,onClick:this.onToggle,children:this.props.label})}}]),a}(r.a.Component),K=[{label:"H1",style:"header-one"},{label:"H2",style:"header-two"},{label:"H3",style:"header-three"},{label:"H4",style:"header-four"},{label:"H5",style:"header-five"},{label:"H6",style:"header-six"},{label:"UL",style:"unordered-list-item"},{label:"OL",style:"ordered-list-item"}],X=function(e){var t=e.editorState,a=t.getSelection(),n=t.getCurrentContent().getBlockForKey(a.getStartKey()).getType();return Object(s.jsx)("div",{className:"RichEditor-controls",children:K.map((function(t){return Object(s.jsx)(Z,{active:t.style===n,label:t.label,onToggle:e.onToggle,style:t.style},t.label)}))})},_=[{label:"Bold",style:"BOLD"},{label:"Italic",style:"ITALIC"},{label:"Underline",style:"UNDERLINE"}],Q=function(e){var t=e.editorState.getCurrentInlineStyle();return Object(s.jsx)("div",{className:"RichEditor-controls",children:_.map((function(a){return Object(s.jsx)(Z,{active:t.has(a.style),label:a.label,onToggle:e.onToggle,style:a.style},a.label)}))})},$=Object(h.f)((function(e){var t=0,a=[],n=e.companyDataTree;a.push(Object(s.jsx)("button",{onClick:e.backLayer,value:0,className:"btn btn-outline-dark",children:"Root"},t)),t+=1;var r="",c=0;if(e.currentCompanySelections.length>0)for(var o=0;o<e.currentCompanySelections.length;o++){r+=n[e.currentCompanySelections[o]].name+"/",c=n[e.currentCompanySelections[o]].perm;var i="btn";n[e.currentCompanySelections[o]].perm?i+=" btn-secondary":i+=" btn-outline-secondary",a.push(Object(s.jsx)("button",{onClick:e.backLayer,value:o+1,className:i,children:n[e.currentCompanySelections[o]].name},t)),t+=1,n=n[e.currentCompanySelections[o]].children}else r="No Selection";var l=[];for(var d in n){var u="btn";n[d].perm?u+=" btn-primary":u+=" btn-outline-primary",l.push(Object(s.jsx)("button",{onClick:e.selectLayer,value:d,className:u,children:n[d].name},t)),t+=1}0===l.length&&(l.push(Object(s.jsx)("div",{className:"btn btn-outline-secondary",children:"End of Data"},t)),t+=1);var j="btn ";j+=c>0?"btn-success":"btn-danger";var h="";!1===e.lastRequestStatus&&(h=" bg-danger");return Object(s.jsx)("div",{className:"makeView",children:Object(s.jsxs)("div",{className:"container-fluid",children:[Object(s.jsx)("div",{className:"row my-2",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col my-2",children:Object(s.jsx)("div",{className:h,children:"Select Part of Company:"})})})}),Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsx)("div",{className:"row my-2",children:Object(s.jsx)("div",{className:"col btn-group btn-group-sm",children:a})}),Object(s.jsx)("div",{className:"row my-2",children:Object(s.jsx)("div",{className:"col btn-group btn-group-sm",children:l})})]})]})})}),Object(s.jsx)("div",{className:"row my-2",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsxs)("div",{className:"card-header",children:[Object(s.jsx)("h4",{children:"Writing Suggestion for:"}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col my-2",children:Object(s.jsx)("div",{className:h,children:r})})})]}),Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsx)("div",{className:"row",children:Object(s.jsxs)("div",{className:"col",children:[Object(s.jsx)(X,{editorState:e.editorState,onToggle:function(e){B.onChange(z.RichUtils.toggleBlockType(B.state.editorState,e))}}),Object(s.jsx)(Q,{editorState:e.editorState,onToggle:function(e){B.onChange(z.RichUtils.toggleInlineStyle(B.state.editorState,e))}})]})}),Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-1"}),Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("div",{id:"align-left",children:Object(s.jsx)("div",{style:Y.editor,children:Object(s.jsx)(z.Editor,{editorState:e.editorState,onChange:e.onChange,handleKeyCommand:function(t,a){var s=z.RichUtils.handleKeyCommand(a,t);return s?(e.onChange(s),"handled"):"not-handled"},spellCheck:!0,placeholder:""})})})}),Object(s.jsx)("div",{className:"col-1"})]}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("button",{className:j,onClick:e.saveToServer,children:" Save Suggestion "})})})]})]})})})]})})})),ee=a(4),te=["Invalid","Admin","Viewer","Governed"],ae=Object(h.f)((function(e){var t=Object(n.useState)(""),a=Object(ee.a)(t,2),r=a[0],c=a[1],o="Not Yet",i=Object(n.useState)(""),l=Object(ee.a)(i,2),d=l[0],u=l[1],j=Object(n.useState)(""),h=Object(ee.a)(j,2),m=h[0],p=h[1],g=Object(n.useState)(""),O=Object(ee.a)(g,2),x=O[0],f=O[1],N=Object(n.useState)([]),D=Object(ee.a)(N,2),w=D[0],S=D[1],k=Object(n.useState)([]),C=Object(ee.a)(k,2),E=C[0],I=C[1],T=Object(n.useState)([]),A=Object(ee.a)(T,2),P=A[0],L=A[1],U=Object(n.useState)([]),R=Object(ee.a)(U,2),F=R[0],H=R[1],J=Object(n.useState)([]),W=Object(ee.a)(J,2),M=W[0],V=W[1],G=Object(n.useState)([]),q=Object(ee.a)(G,2),z=q[0],B=q[1],Y=Object(n.useState)([]),Z=Object(ee.a)(Y,2),K=Z[0],X=Z[1],_=Object(n.useState)([]),Q=Object(ee.a)(_,2),$=Q[0],ae=Q[1],se=Object(n.useState)([]),ne=Object(ee.a)(se,2),re=ne[0],ce=ne[1];function oe(){!function(){var t=v.a.get(e.currentUser+"-Invites");void 0===t?function(e,t,a,s){var n={headers:{Authorization:"JWT ".concat(t)}};b.a.get(e+"/getUsersInvites",n).then((function(e){var t=e.data;a(t)})).catch((function(e){if(console.log(e),e.response){var t=e.response.data,a=[],n=[];for(var r in t)"???"===r?(a.push(1),n.push(t[r])):(a.push(10),n.push("Unknown Error"));s(a,n)}else s([0],["Network Error"])}))}(e.APIHost,e.authToken,de,ue):(console.log("Data will do here..."),de(t))}()}function ie(e,t){console.log("Invite Success")}function le(e,t){for(var a in console.log("Invite Failure"),e)0===e[a]||1===e[a]||2===e[a]||e[a]}function de(t){console.log("Get Invites Success"),v.a.set(e.currentUser+"-Invites",t);var a=[],s=[],n=[];for(var r in t)a.push(t[r].id),s.push(t[r].getUserFullName),n.push(te[t[r].targetRole]);H(a),V(s),B(n)}function ue(e,t){console.log("Get Invites Failure"),console.log(e),console.log(t)}function je(e){console.log("Spend Invite Success"),console.log(e),oe()}function he(e,t){console.log("Spend Invite Failure"),console.log(e),console.log(t),oe()}function me(t){console.log("Accept");var a=t.target.value;y(e.APIHost,e.authToken,a,1,je,he)}function be(t){console.log("Deny");var a=t.target.value;y(e.APIHost,e.authToken,a,0,je,he)}function pe(e){var t=Number(e.target.value),a=[],s=-1;switch(e.target.name){case"gov":-1===(s=(a=re.slice()).indexOf(t))?a.push(t):a.splice(s,1),ce(a);break;case"sen":-1===(s=(a=$.slice()).indexOf(t))?a.push(t):a.splice(s,1),ae(a);break;case"vie":-1===(s=(a=K.slice()).indexOf(t))?a.push(t):a.splice(s,1),X(a);break;default:console.log("Failed to have the correct name")}}function ve(e){console.log("Update Success"),console.log(e)}function ge(e,t){console.log("Update Failure"),console.log(e),console.log(t)}function Oe(t){console.log("Set Data Success"),console.log(t),e.triggerRefresh()}function xe(e,t){console.log("Set Data Failure"),console.log(e),console.log(t)}Object(n.useEffect)((function(){console.log("Triggered Refresh!"),oe()}),[]);var fe=[];for(var Ne in M){fe.push(Object(s.jsxs)("li",{className:"list-group-item d-flex justify-content-around",children:[Object(s.jsx)("div",{children:M[Ne]}),Object(s.jsx)("div",{children:z[Ne]}),Object(s.jsx)("button",{className:"badge badge-success badge-pill",value:F[Ne],onClick:me,children:"/"}),Object(s.jsx)("button",{className:"badge badge-danger badge-pill",value:F[Ne],onClick:be,children:"X"})]},Ne))}0===M.length&&fe.push(Object(s.jsx)("li",{className:"list-group-item",children:"No Invites!"},0));var ye=[];if(e.viewNameList.length>0)for(var De in e.viewNameList){var we="",Se=e.sendIDList.indexOf(e.viewIDList[De]);Se>=0&&(we="bg-success"),(Se=$.indexOf(e.viewIDList[De]))>=0&&(we="bg-warning"),(Se=K.indexOf(e.viewIDList[De]))>=0&&(we="bg-danger"),ye.push(Object(s.jsxs)("li",{className:"list-group-item d-flex justify-content-around "+we,children:[e.viewNameList[De],Object(s.jsx)("button",{className:"badge badge-success badge-pill",name:"sen",value:e.viewIDList[De],onClick:pe,children:"View"}),Object(s.jsx)("button",{className:"badge badge-danger badge-pill",name:"vie",value:e.viewIDList[De],onClick:pe,children:"X"})]},De))}else ye.push(Object(s.jsx)("li",{className:"list-group-item d-flex justify-content-around",children:"None!"},0));var ke=[];if(e.governedNameList.length>0)for(var Ce in e.governedNameList){var Ee="";re.indexOf(e.governedIDList[Ce])>=0&&(Ee="bg-danger"),ke.push(Object(s.jsxs)("li",{className:"list-group-item d-flex justify-content-around "+Ee,children:[e.governedNameList[Ce],Object(s.jsx)("button",{className:"badge badge-danger badge-pill",name:"gov",value:e.governedIDList[Ce],onClick:pe,children:"X"})]},Ce))}else ke.push(Object(s.jsx)("li",{className:"list-group-item d-flex justify-content-around",children:"None!"},0));var Ie="form-control",Te="form-control";return Object(s.jsx)("div",{className:"defaultView",children:Object(s.jsxs)("div",{className:"container-fluid",children:[Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsx)("h5",{children:"Invite Code"})}),Object(s.jsx)("div",{className:"card-body",children:Object(s.jsxs)("div",{className:"list-group",children:[Object(s.jsx)("div",{className:"list-group-item",children:Object(s.jsx)("input",{type:"text",className:"form-control",value:r,onChange:function(e){c(e.target.value)},placeholder:"Enter Code"})}),Object(s.jsx)("div",{className:"list-group-item",children:Object(s.jsx)("button",{className:"btn btn-primary",onClick:function(){console.log(r),console.log("Submit"),function(e,t,a,s,n){var r={headers:{Authorization:"JWT ".concat(t)}};b.a.get(e+"/useDivisionInvite?joinCode="+a,r).then((function(e){var t=e.response.data;s(t)})).catch((function(e){if(e.response){var t=e.response.data,a=[],s=[];for(var r in t)"dup"===r?(a.push(1),s.push(t[r])):"token"===r?(a.push(2),s.push(t[r])):"invite"===r?(a.push(3),s.push(t[r])):(a.push(10),s.push("Unknown Error"));n(a,s)}else n([0],["Network Error"])}))}(e.APIHost,e.authToken,r,ie,le)},children:"Submit"})})]})})]})}),Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsx)("h5",{children:"Company Invites"})}),Object(s.jsx)("div",{className:"card-body",children:Object(s.jsx)("ul",{className:"list-group",children:fe})})]})})]}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsx)("h5",{children:"Companies you can View data for"})}),Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsx)("ul",{className:"list-group",children:ye}),Object(s.jsx)("button",{className:"btn btn-secondary","data-toggle":"modal","data-target":"#deleteConfirm",children:"Confirm"})]})]})})}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsx)("h5",{children:"Companies getting your Journal Info"})}),Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsx)("ul",{className:"list-group",children:ke}),Object(s.jsx)("button",{className:"btn btn-secondary","data-toggle":"modal","data-target":"#deleteConfirm",children:"Confirm"})]})]})})}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsx)("h5",{children:"Edit User Security Details"})}),Object(s.jsx)("div",{className:"card-body",children:Object(s.jsxs)("div",{className:"list-group",children:[Object(s.jsx)("div",{className:"list-group-item",children:"Under Construction..."}),Object(s.jsxs)("div",{className:"list-group-item",children:[Object(s.jsx)("div",{children:o}),Object(s.jsx)("button",{className:"btn btn-primary","data-toggle":"modal","data-target":"#changeEmailModal",children:"Change Email"})]}),Object(s.jsxs)("div",{className:"list-group-item",children:[Object(s.jsx)("div",{children:"Not  Implemented"}),Object(s.jsx)("button",{className:"btn btn-primary","data-toggle":"modal","data-target":"#changeNameModal",children:"Change Name"})]}),Object(s.jsx)("div",{className:"list-group-item",children:Object(s.jsx)("button",{className:"btn btn-primary","data-toggle":"modal","data-target":"#changePasswordModal",children:"Change Password"})})]})})]})})}),Object(s.jsx)("div",{className:"modal fade",id:"deleteConfirm",tabIndex:"-1",role:"dialog","aria-labelledby":"deleteConfirmation","aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",id:"deleteTitleConfirm",children:"Delete Confirmation"}),Object(s.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(s.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(s.jsx)("div",{className:"modal-body",children:"Are you SURE you want to make these changes?"}),Object(s.jsxs)("div",{className:"modal-footer",children:[Object(s.jsx)("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal",onClick:function(){var t={togEmails:$,delGovern:re};!function(e,t,a,s,n){var r={headers:{Authorization:"JWT ".concat(t)}},c=a;b.a.put(e+"/setUserProfileData/",c,r).then((function(e){var t=e.data;s(t)})).catch((function(e){if(e.response){var t=e.response.data;console.log(t),n([],[])}else n([0],["Network Error"])}))}(e.APIHost,e.authToken,t,Oe,xe)},children:"Yes"}),Object(s.jsx)("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal",children:"No"})]})]})})}),Object(s.jsx)("div",{className:"modal fade",id:"changeEmailModal",tabIndex:"-1",role:"dialog","aria-labelledby":"changeEmailModal","aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",id:"deleteTitleConfirm",children:"Change Password"}),Object(s.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(s.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(s.jsxs)("div",{className:"modal-body",children:[Object(s.jsx)("div",{className:"form-group",children:Object(s.jsx)("label",{id:"align-left",children:"Current Email: Not Yet"})}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{id:"align-left",children:"New Email"}),Object(s.jsx)("input",{type:"email",className:Ie,value:d,onChange:function(e){u(e.target.value)},placeholder:"Enter Email"})]})]}),Object(s.jsxs)("div",{className:"modal-footer",children:[Object(s.jsx)("button",{type:"button",className:"btn btn-outline-secondary","data-dismiss":"modal",onClick:function(){!function(e,t,a,s,n){var r={headers:{Authorization:"JWT ".concat(t)}},c={email:a};b.a.put(e+"/updateUserEmail/",c,r).then((function(e){var t=e.data;s(t)})).catch((function(e){if(console.log(e),e.response){500===e.response.status&&n([10],["Server Error"]);var t=e.response.data,a=[],s=[];for(var r in t)"???"===r?(a.push(1),s.push(t[r])):(a.push(10),s.push("Unknown Error"));n(a,s)}else n([0],["Network Error"])}))}(e.APIHost,e.authToken,d,ve,ge),u("")},children:"Change Email"}),Object(s.jsx)("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal",children:"Cancel"})]})]})})}),Object(s.jsx)("div",{className:"modal fade",id:"changeNameModal",tabIndex:"-1",role:"dialog","aria-labelledby":"changeNameModal","aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",id:"deleteTitleConfirm",children:"Change Password"}),Object(s.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(s.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(s.jsxs)("div",{className:"modal-body",children:[Object(s.jsx)("div",{className:"form-group",children:Object(s.jsx)("label",{id:"align-left",children:"Current name: Not  Implemented"})}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{id:"align-left",children:"New First Name"}),Object(s.jsx)("input",{type:"text",className:Ie,value:m,onChange:function(e){p(e.target.value)},placeholder:"Enter New First Name"})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{id:"align-left",children:"New Last Name"}),Object(s.jsx)("input",{type:"text",className:Ie,value:x,onChange:function(e){f(e.target.value)},placeholder:"Enter New Last Name"})]})]}),Object(s.jsxs)("div",{className:"modal-footer",children:[Object(s.jsx)("button",{type:"button",className:"btn btn-outline-secondary","data-dismiss":"modal",onClick:function(){!function(e,t,a,s,n,r){var c={headers:{Authorization:"JWT ".concat(t)}},o={first_name:a,last_name:s};b.a.put(e+"/updateUserName/",o,c).then((function(e){var t=e.data;n(t)})).catch((function(e){if(console.log(e),e.response){500===e.response.status&&r([10],["Server Error"]);var t=e.response.data,a=[],s=[];for(var n in t)"???"===n?(a.push(1),s.push(t[n])):(a.push(10),s.push("Unknown Error"));r(a,s)}else r([0],["Network Error"])}))}(e.APIHost,e.authToken,m,x,ve,ge),p(""),f("")},children:"Change Name"}),Object(s.jsx)("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal",children:"Cancel"})]})]})})}),Object(s.jsx)("div",{className:"modal fade",id:"changePasswordModal",tabIndex:"-1",role:"dialog","aria-labelledby":"changePasswordModal","aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",id:"deleteTitleConfirm",children:"Change Password"}),Object(s.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(s.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(s.jsxs)("div",{className:"modal-body",children:[Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{id:"align-left",children:"Old Password"}),Object(s.jsx)("input",{type:"password",className:Te,value:w,onChange:function(e){S(e.target.value)},placeholder:"Enter password"})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{id:"align-left",children:"New Password"}),Object(s.jsx)("input",{type:"password",className:Te,value:E,onChange:function(e){I(e.target.value)},placeholder:"Enter password"})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{id:"align-left",children:"New Password (again)"}),Object(s.jsx)("input",{type:"password",className:Te,value:P,onChange:function(e){L(e.target.value)},placeholder:"Enter password"})]})]}),Object(s.jsxs)("div",{className:"modal-footer",children:[Object(s.jsx)("button",{type:"button",className:"btn btn-outline-secondary","data-dismiss":"modal",onClick:function(){!function(e,t,a,s,n,r,c){var o={headers:{Authorization:"JWT ".concat(t)}},i={oldPassword:a,password:s,password2:n};b.a.put(e+"/updateUserPassword/",i,o).then((function(e){var t=e.data;r(t)})).catch((function(e){if(console.log(e),e.response){500===e.response.status&&c([10],["Server Error"]);var t=e.response.data,a=[],s=[];for(var n in t)"???"===n?(a.push(1),s.push(t[n])):(a.push(10),s.push("Unknown Error"));c(a,s)}else c([0],["Network Error"])}))}(e.APIHost,e.authToken,w,E,P,ve,ge),S(""),I(""),L("")},children:"Change Password"}),Object(s.jsx)("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal",children:"Cancel"})]})]})})})]})})})),se=a(43),ne=(a(77),a(16)),re=a(391),ce=a(392),oe=function(e){return[e.joy,e.anger,e.sadness,e.disgust,e.fear]},ie=[{name:"Emotion",value:"emotion"},{name:"Sentiment",value:"sentiment"},{name:"Entities",value:"entities"},{name:"Keywords",value:"keywords"}],le=Object(h.f)((function(e){var t,a="Displaying Data for Journal with prompt: "+e.selectedPrompt,n=e.dataSet,r=[],c=[],o=[];if(null!==n&&void 0!==n){var i;for(i in n)void 0!==n[i].name&&r.push({name:n[i].name,value:i});if(0===r.length&&(r=[{name:"No Prompts",value:"None"}]),e.selectedAspect in n){var l=n[e.selectedAspect];switch(e.selectedAspect){case"emotion":var d=oe(l.document.emotion),u=w(d),j={scale:{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}};o.push(Object(s.jsxs)("div",{className:"row m-2",children:[Object(s.jsx)("div",{className:"col"}),Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:"Emotion Values"}),Object(s.jsx)("div",{className:"card-body",children:Object(s.jsx)(ne.Radar,{data:u,options:j})})]})}),Object(s.jsx)("div",{className:"col"})]},"2"));break;case"sentiment":var h={labels:["Value"],datasets:[{label:"Value",data:[l.document.score],backgroundColor:"rgb(54, 162, 235)"}]},m={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:-1,suggestedMax:1}}],xAxes:[{}]}};o.push(Object(s.jsxs)("div",{className:"row m-2",children:[Object(s.jsx)("div",{className:"col"}),Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:"Sentiment Values"}),Object(s.jsx)("div",{className:"card-body",children:Object(s.jsx)(ne.Bar,{data:h,options:m})})]})}),Object(s.jsx)("div",{className:"col"})]},"2"));break;case"entities":for(t in l){var b=l[t],p=oe(b.emotion),v=w(p),g={scale:{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}},O=I([b.confidence,b.relevance,b.sentiment.score]),x={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:-1,suggestedMax:1}}],xAxes:[{}]}};c.push(Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"row",children:b.text}),Object(s.jsx)("td",{children:b.type}),Object(s.jsx)("td",{children:b.count}),Object(s.jsx)("td",{colSpan:"3",children:Object(s.jsx)(ne.Bar,{data:O,options:x})}),Object(s.jsx)("td",{children:Object(s.jsx)(ne.Radar,{data:v,options:g})})]},t))}o.push(Object(s.jsxs)("table",{className:"table",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"col",children:"Name"}),Object(s.jsx)("th",{scope:"col",children:"Type"}),Object(s.jsx)("th",{scope:"col",children:"#Appearances"}),Object(s.jsx)("th",{scope:"col",children:"Confidence"}),Object(s.jsx)("th",{scope:"col",children:"Relevance"}),Object(s.jsx)("th",{scope:"col",children:"Sentiment"}),Object(s.jsx)("th",{scope:"col",children:"Emotion"})]})}),Object(s.jsx)("tbody",{children:c})]},"2"));break;case"keywords":for(t in l){var f=l[t],N=oe(f.emotion),y=w(N),D={scale:{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}};console.log(f);var S=E([f.relevance,f.sentiment.score]),k={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:-1,suggestedMax:1}}],xAxes:[{}]}};c.push(Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"row",children:f.text}),Object(s.jsx)("td",{children:f.count}),Object(s.jsx)("td",{colSpan:"2",children:Object(s.jsx)(ne.Bar,{data:S,options:k})}),Object(s.jsx)("td",{children:Object(s.jsx)(ne.Radar,{data:y,options:D})})]},t))}o.push(Object(s.jsxs)("table",{className:"table",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"col",children:"Name"}),Object(s.jsx)("th",{scope:"col",children:"#Appearances"}),Object(s.jsx)("th",{scope:"col",children:"Relevance Score"}),Object(s.jsx)("th",{scope:"col",children:"Sentiment"}),Object(s.jsx)("th",{scope:"col",children:"Emotion"})]})}),Object(s.jsx)("tbody",{children:c})]},"2"));break;default:console.log("Invalid AI selection somehow")}}else r=[{name:"No Prompts",value:"None"}]}else r=[{name:"No Prompts",value:"None"}];return console.log(e.currentDate),Object(s.jsx)("div",{className:"mainView",children:Object(s.jsxs)("div",{className:"container-fluid",children:[Object(s.jsxs)("div",{className:"row m-2",children:[Object(s.jsx)("div",{className:"col-lg-3 m-2",children:Object(s.jsx)("div",{children:Object(s.jsx)(se.a,{onChange:e.pickDate,value:e.currentDate,tileClassName:function(t){var a=t.date;if("month"===t.view){var s=a.getFullYear()+"-"+a.getMonth()+"-"+a.getDate(),n=e.validJournalDates.find((function(e){return e===s}));if(e.validJournalScanDates.find((function(e){return e===s})))return"btn btn-success";if(n)return"btn btn-warning"}},minDetail:"year",maxDetail:"month"})})}),Object(s.jsx)("div",{className:"col m-2",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsx)("div",{children:e.displayMessage})}),Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsx)("div",{className:"row m-2",children:Object(s.jsx)("div",{className:"col"})}),Object(s.jsx)("div",{className:"row m-2",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)(re.a,{toggle:!0,children:r.map((function(t,a){return Object(s.jsx)(ce.a,{type:"radio",variant:"primary",name:"radio",value:t.value,checked:e.selectedPrompt===t.value,onChange:e.setPrompt,children:t.name},a)}))})})}),Object(s.jsx)("div",{className:"row m-2",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)(re.a,{toggle:!0,children:ie.map((function(t,a){return Object(s.jsx)(ce.a,{type:"radio",variant:"info",name:"radio",value:t.value,checked:e.selectedAspect===t.value,onChange:e.setAI,children:t.name},a)}))})})})]})]})})]}),Object(s.jsx)("div",{className:"row m-2",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsx)("div",{children:"Journal Contents:"})}),Object(s.jsx)("div",{className:"card-body",children:Object(s.jsx)("p",{children:e.currentJournal})})]})})}),Object(s.jsx)("div",{className:"row m-2",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsx)("div",{children:a})}),Object(s.jsx)("div",{className:"card-body",children:o})]})})}),Object(s.jsx)("div",{className:"row  my-2",children:Object(s.jsx)("p",{})})]})})})),de=void 0,ue={editor:{border:"1px solid gray",minHeight:"6em",justifyContent:"left"}},je=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).onToggle=function(t){t.preventDefault(),e.props.onToggle(e.props.style)},e}return Object(l.a)(a,[{key:"render",value:function(){var e="btn btn-outline-primary";return this.props.active&&(e+=" active"),Object(s.jsx)("button",{className:e,onClick:this.onToggle,children:this.props.label})}}]),a}(r.a.Component),he=[{label:"H1",style:"header-one"},{label:"H2",style:"header-two"},{label:"H3",style:"header-three"},{label:"H4",style:"header-four"},{label:"H5",style:"header-five"},{label:"H6",style:"header-six"},{label:"UL",style:"unordered-list-item"},{label:"OL",style:"ordered-list-item"}],me=function(e){var t=e.editorState,a=t.getSelection(),n=t.getCurrentContent().getBlockForKey(a.getStartKey()).getType();return Object(s.jsx)("div",{className:"RichEditor-controls",children:he.map((function(t){return Object(s.jsx)(je,{active:t.style===n,label:t.label,onToggle:e.onToggle,style:t.style},t.label)}))})},be=[{label:"Bold",style:"BOLD"},{label:"Italic",style:"ITALIC"},{label:"Underline",style:"UNDERLINE"}],pe=function(e){var t=e.editorState.getCurrentInlineStyle();return Object(s.jsx)("div",{className:"RichEditor-controls",children:be.map((function(a){return Object(s.jsx)(je,{active:t.has(a.style),label:a.label,onToggle:e.onToggle,style:a.style},a.label)}))})},ve=Object(h.f)((function(e){return Object(s.jsx)("div",{className:"makeView",children:Object(s.jsx)("div",{className:"container-fluid",children:Object(s.jsx)("div",{className:"row my-2",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsx)("h4",{children:"Writing Today's Journal"})}),Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsxs)("h5",{className:"card-title",children:["Today's Prompt is: ","Open Ended"]}),Object(s.jsx)("div",{className:"row",children:Object(s.jsxs)("div",{className:"col",children:[Object(s.jsx)(me,{editorState:e.editorState,onToggle:function(e){de.onChange(z.RichUtils.toggleBlockType(de.state.editorState,e))}}),Object(s.jsx)(pe,{editorState:e.editorState,onToggle:function(e){de.onChange(z.RichUtils.toggleInlineStyle(de.state.editorState,e))}})]})}),Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-1"}),Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("div",{id:"align-left",children:Object(s.jsx)("div",{style:ue.editor,children:Object(s.jsx)(z.Editor,{editorState:e.editorState,onChange:e.onChange,handleKeyCommand:function(t,a){var s=z.RichUtils.handleKeyCommand(a,t);return s?(e.onChange(s),"handled"):"not-handled"},spellCheck:!0,placeholder:""})})})}),Object(s.jsx)("div",{className:"col-1"})]}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("button",{className:"btn btn-outline-primary",onClick:e.saveToServer,children:" Save current Journal entry "})})})]})]})})})})})})),ge=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).onToggle=function(t){t.preventDefault(),e.props.onToggle(e.props.value)},e}return Object(l.a)(a,[{key:"render",value:function(){var e="btn btn-outline-primary";return this.props.active&&(e+=" active"),Object(s.jsx)("button",{className:e,onClick:this.onToggle,children:this.props.label})}}]),a}(r.a.Component),Oe=[{label:"Max",value:0,dayLength:0,weekLength:0},{label:"1Year",value:1,dayLength:365,weekLength:52},{label:"6Months",value:2,dayLength:183,weekLength:28},{label:"3Months",value:3,dayLength:63,weekLength:13},{label:"1Months",value:4,dayLength:31,weekLength:4},{label:"1Week",value:5,dayLength:7,weekLength:1}],xe=function(e){var t=e.graphState;return Object(s.jsx)("div",{className:"EHIControls",children:Oe.map((function(a){return Object(s.jsx)(ge,{active:t===a.value,label:a.label,onToggle:e.onToggle,value:a.value},a.label)}))})},fe=Object(h.f)((function(e){var t=e.timeIndexDay,a=e.timeIndexWeek,n=e.ehiDayLabels,r=e.ehiDayData,c=Oe[t].dayLength;0===c&&(c=n.length);var o=n.slice(-c),i={label:"EHI index",data:r.slice(-c)},l=e.ehiWeekLabels,d=e.ehiWeekData;0===(c=Oe[a].weekLength)&&(c=l.length);var u=l.slice(-c),j={label:"EHI index",data:d.slice(-c)};1===u.length&&(u.unshift(""),u.push(""),j.data.unshift(j.data[0]),j.data.push(j.data[0]));var h=D(o,[i]),m=D(u,[j]),b={scales:{yAxes:[{ticks:{beginAtZero:!0}}]}};return Object(s.jsx)("div",{className:"EHIDisplay",children:Object(s.jsxs)("div",{className:"row m-1",children:[Object(s.jsx)("div",{className:"col-6",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:"Employee Health Index Daily Data"}),Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsx)(ne.Line,{data:h,options:b}),Object(s.jsx)(xe,{graphState:t,onToggle:e.onDayToggle})]})]})}),Object(s.jsx)("div",{className:"col-6",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:"Employee Health Index Weekly Data"}),Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsx)(ne.Line,{data:m,options:b}),Object(s.jsx)(xe,{graphState:a,onToggle:e.onWeekToggle})]})]})})]})})})),Ne=["Public","Private","Governed Users"],ye=["Invalid","Admin","Viewer","Governed"],De=Object(h.f)((function(e){var t=Object(n.useState)("No Data"),a=Object(ee.a)(t,2),r=a[0],c=a[1],o=Object(n.useState)(""),i=Object(ee.a)(o,2),l=i[0],d=i[1],u=Object(n.useState)(""),j=Object(ee.a)(u,2),h=j[0],m=j[1],p=Object(n.useState)([]),g=Object(ee.a)(p,2),O=g[0],x=g[1],f=Object(n.useState)([]),y=Object(ee.a)(f,2),D=y[0],w=y[1],S=Object(n.useState)([]),k=Object(ee.a)(S,2),C=k[0],E=k[1],I=Object(n.useState)("No Data"),T=Object(ee.a)(I,2),A=T[0],P=T[1],L=Object(n.useState)("No Data"),U=Object(ee.a)(L,2),R=U[0],F=U[1],H=Object(n.useState)("No Data"),J=Object(ee.a)(H,2),W=J[0],M=J[1],V=Object(n.useState)("No Data"),G=Object(ee.a)(V,2),q=G[0],z=G[1],B=Object(n.useState)([]),Y=Object(ee.a)(B,2),Z=Y[0],K=Y[1],X=Object(n.useState)([]),_=Object(ee.a)(X,2),Q=_[0],$=_[1],te=Object(n.useState)([]),ae=Object(ee.a)(te,2),se=ae[0],ne=ae[1],re=Object(n.useState)([]),ce=Object(ee.a)(re,2),oe=ce[0],ie=ce[1],le=Object(n.useState)([]),de=Object(ee.a)(le,2),ue=de[0],je=de[1],he=Object(n.useState)([]),me=Object(ee.a)(he,2),be=me[0],pe=me[1],ve=Object(n.useState)([]),ge=Object(ee.a)(ve,2),Oe=ge[0],xe=ge[1],fe=Object(n.useState)([]),De=Object(ee.a)(fe,2),we=De[0],Se=De[1],ke=Object(n.useState)([]),Ce=Object(ee.a)(ke,2),Ee=Ce[0],Ie=Ce[1],Te=Object(n.useState)([]),Ae=Object(ee.a)(Te,2),Pe=Ae[0],Le=Ae[1],Ue=Object(n.useState)([]),Re=Object(ee.a)(Ue,2),Fe=Re[0],He=Re[1],Je=Object(n.useState)([]),We=Object(ee.a)(Je,2),Me=We[0],Ve=We[1],Ge=Object(n.useState)(0),qe=Object(ee.a)(Ge,2),ze=qe[0],Be=qe[1];function Ye(){!function(){if(e.currentDivisionID>=0){var t=v.a.get(e.currentDivisionID+"-Data");void 0===t?(console.log("Requesting Division Data From Server..."),function(e,t,a,s,n){var r={headers:{Authorization:"JWT ".concat(t)}};b.a.get(e+"/getDivisionData?reqDiv="+a,r).then((function(e){var t=e.data[0];s(t)})).catch((function(e){if(console.log(e),e.response){var t=e.response.data,a=[],s=[];for(var r in t)"???"===r?(a.push(1),s.push(t[r])):(a.push(10),s.push("Unknown Error"));n(a,s)}else n([0],["Network Error"])}))}(e.APIHost,e.authToken,e.currentDivisionID,Ze,Ke)):(console.log("Data will do here..."),Ze(t))}}(),Qe()}function Ze(t){console.log("Get Data Success"),v.a.set(e.currentDivisionID+"-Data",t),M(t.fullPathName),z(t.divisionName),Be(t.getNumChildUsers),c(t.inviteCode),F(t.getCompanyExpiryDate),je(t.adminAccountNames),pe(t.privateViewingNames),xe(t.resultsSendTargetsNames),Se(t.governedUsersNames),K(t.adminAccounts),$(t.privateViewingPerms),ne(t.resultsSendTargets),ie(t.governedUsers),Ie([]),Le([]),He([]),Ve([]),P(Ne[t.summaryViewAccess])}function Ke(e,t){console.log("Get Data Failure"),console.log(e),console.log(t)}function Xe(t){console.log("Get Invites Success"),v.a.set(e.currentDivisionID+"-Invites",t);var a=[],s=[],n=[];for(var r in t)a.push(t[r].id),s.push(t[r].getUserFullName),n.push(ye[t[r].targetRole]);x(a),w(s),E(n)}function _e(e,t){console.log("Get Invites Failure"),console.log(e),console.log(t)}function Qe(){if(e.currentDivisionID>=0){var t=v.a.get(e.currentDivisionID+"-Invites");void 0===t?function(e,t,a,s,n){var r={headers:{Authorization:"JWT ".concat(t)}};b.a.get(e+"/getDivisionInvites?reqDiv="+a,r).then((function(e){var t=e.data;s(t)})).catch((function(e){if(console.log(e),e.response){var t=e.response.data,a=[],s=[];for(var r in t)"???"===r?(a.push(1),s.push(t[r])):(a.push(10),s.push("Unknown Error"));n(a,s)}else n([0],["Network Error"])}))}(e.APIHost,e.authToken,e.currentDivisionID,Xe,_e):(console.log("Data will do here..."),Xe(t))}}function $e(t){console.log("Set Data Success"),console.log(t),e.triggerRefresh()}function et(e,t){console.log("Set Data Failure"),console.log(e),console.log(t)}function tt(e){console.log("Create Invite Success"),console.log(e)}function at(e,t){console.log("Create Invite Failure"),console.log(e),console.log(t)}function st(e){console.log("Spend Invite Success"),console.log(e),Ye()}function nt(e,t){console.log("Spend Invite Failure"),console.log(e),console.log(t),Qe()}function rt(t){console.log("Accept");var a=t.target.value;N(e.APIHost,e.authToken,e.currentDivisionID,a,1,st,nt)}function ct(t){console.log("Deny");var a=t.target.value;N(e.APIHost,e.authToken,e.currentDivisionID,a,0,st,nt)}function ot(e){d(e.target.value)}function it(e){var t=Number(e.target.value),a=[],s=-1;switch(e.target.name){case"adm":-1===(s=(a=Ee.slice()).indexOf(t))?a.push(t):a.splice(s,1),Ie(a);break;case"vie":-1===(s=(a=Pe.slice()).indexOf(t))?a.push(t):a.splice(s,1),Le(a);break;case"sen":-1===(s=(a=Fe.slice()).indexOf(t))?a.push(t):a.splice(s,1),He(a);break;case"gov":-1===(s=(a=Me.slice()).indexOf(t))?a.push(t):a.splice(s,1),Ve(a);break;default:console.log("Failed to have the correct name")}}function lt(e){m(e.target.value)}Object(n.useEffect)((function(){console.log("Triggered Refresh!"),Ye()}),[]);var dt=[];for(var ut in D){dt.push(Object(s.jsxs)("li",{className:"list-group-item d-flex justify-content-around",children:[Object(s.jsx)("div",{children:D[ut]}),Object(s.jsx)("div",{children:C[ut]}),Object(s.jsx)("button",{className:"badge badge-success badge-pill",value:O[ut],onClick:rt,children:"/"}),Object(s.jsx)("button",{className:"badge badge-danger badge-pill",value:O[ut],onClick:ct,children:"X"})]},ut))}0===D.length&&dt.push(Object(s.jsx)("li",{className:"list-group-item",children:"No Invites!"},0));var jt=[];for(var ht in ue){var mt="";Ee.indexOf(Z[ht])>=0&&(mt="bg-warning"),jt.push(Object(s.jsx)("li",{className:"list-group-item d-flex justify-content-around"+mt,children:ue[ht]},ht))}0===ue.length&&jt.push(Object(s.jsx)("li",{className:"list-group-item",children:"No Users!"},0));var bt=[];for(var pt in be){var vt="";Pe.indexOf(Q[pt])>=0&&(vt="bg-warning"),bt.push(Object(s.jsxs)("li",{className:"list-group-item d-flex justify-content-around "+vt,children:[be[pt],Object(s.jsx)("button",{className:"badge badge-danger badge-pill",name:"vie",value:Q[pt],onClick:it,children:"X"})]},pt))}0===be.length&&bt.push(Object(s.jsx)("li",{className:"list-group-item",children:"No Users!"},0));var gt=[];for(var Ot in Oe){var xt="";Fe.indexOf(se[Ot])>=0&&(xt="bg-warning"),gt.push(Object(s.jsxs)("li",{className:"list-group-item d-flex justify-content-around "+xt,children:[Oe[Ot],Object(s.jsx)("button",{className:"badge badge-danger badge-pill",name:"sen",value:se[Ot],onClick:it,children:"X"})]},Ot))}0===Oe.length&&gt.push(Object(s.jsx)("li",{className:"list-group-item",children:"No Users!"},0));var ft=[];for(var Nt in we){var yt="";Me.indexOf(oe[Nt])>=0&&(yt="bg-warning"),ft.push(Object(s.jsxs)("li",{className:"list-group-item d-flex justify-content-around "+yt,children:[we[Nt],Object(s.jsx)("button",{className:"badge badge-danger badge-pill",name:"gov",value:oe[Nt],onClick:it,children:"X"})]},Nt))}0===we.length&&ft.push(Object(s.jsx)("li",{className:"list-group-item",children:"No Users!"},0)),ft.push(Object(s.jsxs)("li",{className:"list-group-item",children:["And ",ze," others in child nodes"]},"end"));var Dt="Select Role =>";return""!==h&&(Dt=ye[h]),Object(s.jsx)("div",{className:"companySett",children:Object(s.jsxs)("div",{className:"container-fluid",children:[Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsx)("h5",{children:"Full Company Path"})}),Object(s.jsx)("div",{className:"card-body",children:W})]})})}),Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsx)("h5",{children:"Change Division Name"})}),Object(s.jsx)("div",{className:"card-body",children:Object(s.jsx)("div",{children:Object(s.jsx)("input",{type:"text",className:"form-control",value:q,onChange:ot,placeholder:"No Name?!"})})})]})}),Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsx)("h5",{children:"Invites List"})}),Object(s.jsx)("div",{className:"card-body",children:Object(s.jsx)("ul",{children:dt})})]})})]}),Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsx)("h5",{children:"Invite Code"})}),Object(s.jsx)("div",{className:"card-body",children:r})]})}),Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsx)("h5",{children:"Viewing Permissions"})}),Object(s.jsx)("div",{className:"card-body",children:A})]})}),Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsx)("h5",{children:"Subscription Expiry"})}),Object(s.jsx)("div",{className:"card-body d-inline-flex justify-content-around",children:R})]})})]}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsx)("h5",{children:"Invite User"})}),Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("input",{type:"text",className:"form-control",value:l,onChange:ot,placeholder:"Enter Username or Email"})}),Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"dropdown",children:[Object(s.jsx)("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:Dt}),Object(s.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuLink",children:[Object(s.jsx)("button",{className:"dropdown-item",value:"1",onClick:lt,children:"Admin"}),Object(s.jsx)("button",{className:"dropdown-item",value:"2",onClick:lt,children:"View Permissions"}),Object(s.jsx)("button",{className:"dropdown-item",value:"3",onClick:lt,children:"Governed User"})]})]})})]}),Object(s.jsx)("button",{className:"btn btn-primary",onClick:function(t){console.log("Send Invite"),function(e,t,a,s,n,r,c){var o={headers:{Authorization:"JWT ".concat(t)}},i={reqDiv:a,targetUser:s,targetAction:n};b.a.post(e+"/createDivisionInvite/",i,o).then((function(e){var t=e.data;r(t)})).catch((function(e){if(console.log(e),e.response){var t=e.response.data,a=[],s=[];for(var n in t)"???"===n?(a.push(1),s.push(t[n])):(a.push(10),s.push("Unknown Error"));c(a,s)}else c([0],["Network Error"])}))}(e.APIHost,e.authToken,e.currentDivisionID,l,h,tt,at)},children:"Invite"})]})]})})}),Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsx)("h5",{children:"Administrators"})}),Object(s.jsx)("div",{className:"card-body",children:jt})]})}),Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsx)("h5",{children:"Viewing Privilages:"})}),Object(s.jsx)("div",{className:"card-body",children:Object(s.jsx)("ul",{children:bt})})]})}),Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsx)("h5",{children:"Users Notified:"})}),Object(s.jsx)("div",{className:"card-body",children:Object(s.jsx)("ul",{children:gt})})]})})]}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsx)("h5",{children:"Target Users:"})}),Object(s.jsx)("div",{className:"card-body",children:Object(s.jsx)("ul",{children:ft})})]})})}),Object(s.jsx)("button",{className:"btn btn-primary",onClick:function(){var t={reqDiv:e.currentDivisionID,chName:"",delAdmins:Ee,delViews:Pe,delEmails:Fe,delGovern:Me};!function(e,t,a,s,n){var r={headers:{Authorization:"JWT ".concat(t)}},c=a;b.a.put(e+"/setDivisionData/",c,r).then((function(e){var t=e.data;s(t)})).catch((function(e){if(e.response){var t=e.response.data;console.log(t),n([],[])}else n([0],["Network Error"])}))}(e.APIHost,e.authToken,t,$e,et)},children:"Save Changes"})]})})})),we=Object(h.f)((function(e){var t=0,a=[],n=e.companyDataTree;a.push(Object(s.jsx)("button",{onClick:e.backLayer,value:0,className:"btn btn-outline-dark",children:"Root"},t)),t+=1;var r="",c="",o=0,i=-1;if(e.currentCompanySelections.length>0)for(var l=0;l<e.currentCompanySelections.length;l++){r+=n[e.currentCompanySelections[l]].name+"/",c=n[e.currentCompanySelections[l]].name,o=n[e.currentCompanySelections[l]].perm,i=e.currentCompanySelections[l];var d="btn";n[e.currentCompanySelections[l]].perm?d+=" btn-secondary":d+=" btn-outline-secondary",a.push(Object(s.jsx)("button",{onClick:e.backLayer,value:l+1,className:d,children:n[e.currentCompanySelections[l]].name},t)),t+=1,n=n[e.currentCompanySelections[l]].children}else r="No Selection";var u=[];for(var j in n){var h="btn";n[j].perm?h+=" btn-primary":h+=" btn-outline-primary",u.push(Object(s.jsx)("button",{onClick:e.selectLayer,value:j,className:h,children:n[j].name},t)),t+=1}0===u.length&&(u.push(Object(s.jsx)("div",{className:"btn btn-outline-secondary",children:"End of Data"},t)),t+=1);var m="btn ",b="";o>0?(m+="btn-success",b=" text-success"):(m+="btn-danger",b=" text-danger");var p=[o,c,i];return Object(s.jsx)("div",{className:"testPages",children:Object(s.jsx)("div",{className:"container-fluid",children:Object(s.jsx)("div",{className:"row my-2",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsxs)("div",{className:"card-header",children:[Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col my-2",children:"Select a Company Division you have Viewing Privilege for:"})}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col my-2",children:Object(s.jsx)("div",{className:b,children:r})})})]}),Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsx)("div",{className:"row my-2",children:Object(s.jsx)("div",{className:"col btn-group btn-group-sm",children:a})}),Object(s.jsx)("div",{className:"row my-2",children:Object(s.jsx)("div",{className:"col btn-group btn-group-sm",children:u})}),Object(s.jsx)("div",{className:"row my-2",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("button",{onClick:e.getDataRequest,value:p,className:m,children:"Get Data"})})})]})]})})})})})})),Se=Object(h.f)((function(e){var t=0,a=[];for(var n in e.dataSet)a.push(Object(s.jsx)("div",{className:"row m-2",children:Object(s.jsx)("div",{className:"col border",children:e.dataSet[n].content})},t)),t+=1;return Object(s.jsx)("div",{className:"testPages",children:Object(s.jsxs)("div",{className:"container-fluid",children:[Object(s.jsxs)("div",{className:"row m-2",children:[Object(s.jsx)("div",{className:"col col-lg-3 m-2",children:Object(s.jsx)(se.a,{onChange:e.pickDate,value:e.currentDate,tileClassName:function(t){var a=t.date;if("month"===t.view){var s=a.getFullYear()+"-"+a.getMonth()+"-"+a.getDate();if(e.validDays.find((function(e){return e===s})))return"btn btn-success"}},minDetail:"year",maxDetail:"month"})}),Object(s.jsx)("div",{className:"row m-2",children:Object(s.jsx)("div",{className:"col m-2",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsxs)("div",{children:["Suggestions for Date: ",e.dataDay.toString()]})}),Object(s.jsx)("div",{className:"card-body",children:a})]})})})]}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col"})})]})})})),ke=a(393),Ce=[{name:"Emotion",value:"emotion"},{name:"Sentiment",value:"sentiment"},{name:"Entities",value:"entities"},{name:"Keywords",value:"keywords"}],Ee=[{name:"Monday",value:"mon"},{name:"Tuesday",value:"tue"},{name:"Wednesday",value:"wed"},{name:"Thursday",value:"thu"},{name:"Friday",value:"fri"},{name:"Saturday",value:"sat"},{name:"Sunday",value:"sun"},{name:"All",value:"allDay"}],Ie=function(e){return[e.joy,e.anger,e.sadness,e.disgust,e.fear]},Te=Object(h.f)((function(e){console.log(e.dataSet);var t,a,n,r,c=[],o=e.selectedPrompt,i=e.selectedDay,l=e.selectedAspect,d=[],u=e.dataSet[i],j=[],h="not valid prompt";if(null!==u&&void 0!==u){var m;for(m in u)void 0!==u[m].name&&d.push({name:u[m].name,value:m});if(0===d.length&&(d=[{name:"No Prompts",value:"None"}]),o in u){h=u[o].name;var b=u[o].responsePurity;j.push(Object(s.jsx)("div",{className:"row m-2",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("div",{className:"progressBar",children:Object(s.jsx)(ke.a,{now:b,label:"".concat(b,"% Response Rate")})})})},"1"));try{var p=u[o].data[l];switch(l){case"emotion":var v=Ie(p.max),g=Ie(p.ave),O=Ie(p.min),x=S(v,g,O),f={scale:{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}},N=Ie(p.threshold),y={labels:["Joy","Anger","Sadness","Disgust","Fear"],datasets:[{label:"# Above Threshold",data:N,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]},D={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}]}};j.push(Object(s.jsxs)("div",{className:"row m-2",children:[Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:"Averages + Max and min?"}),Object(s.jsx)("div",{className:"card-body",children:Object(s.jsx)(ne.Radar,{data:x,options:f})})]})}),Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:'"How many have hit this threshold"?'}),Object(s.jsx)("div",{className:"card-body",children:Object(s.jsx)(ne.Bar,{data:y,options:D})})]})})]},"2"));break;case"sentiment":var w=k([p.min],[p.ave],[p.max]),E={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:-1,suggestedMax:1}}],xAxes:[{}]}},I=function(e){return{labels:["Positive","Negative"],datasets:[{label:"# Above Threshold",data:e,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]}}([p.thresholdPos,p.thresholdNeg]),T={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}]}};j.push(Object(s.jsxs)("div",{className:"row m-2",children:[Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:"Sentiment Values"}),Object(s.jsx)("div",{className:"card-body",children:Object(s.jsx)(ne.Bar,{data:w,options:E})})]})}),Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:'"How many have hit this threshold"?'}),Object(s.jsx)("div",{className:"card-body",children:Object(s.jsx)(ne.Bar,{data:I,options:T})})]})})]},"2"));break;case"entities":for(t in p){var A=p[t],P=Ie(A.emotion.max),L=Ie(A.emotion.ave),U=Ie(A.emotion.min),R=S(P,L,U),F={scale:{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}},H=(a=[A.confidence.min,A.relevance.min,A.sentiment.min],n=[A.confidence.ave,A.relevance.ave,A.sentiment.ave],r=[A.confidence.max,A.relevance.max,A.sentiment.max],{labels:["Confidence","Relevance","Sentiment"],datasets:[{label:"Minimum",data:a,backgroundColor:"rgb(255, 99, 132)"},{label:"Average",data:n,backgroundColor:"rgb(54, 162, 235)"},{label:"Maximum",data:r,backgroundColor:"rgb(75, 192, 192)"}]}),J={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:-1,suggestedMax:1}}],xAxes:[{}]}};c.push(Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"row",children:A.text}),Object(s.jsx)("td",{children:A.type}),Object(s.jsx)("td",{children:A.count}),Object(s.jsx)("td",{colSpan:"3",children:Object(s.jsx)(ne.Bar,{data:H,options:J})}),Object(s.jsx)("td",{children:Object(s.jsx)(ne.Radar,{data:R,options:F})})]},t))}j.push(Object(s.jsxs)("table",{className:"table",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"col",children:"Name"}),Object(s.jsx)("th",{scope:"col",children:"Type"}),Object(s.jsx)("th",{scope:"col",children:"#Appearances"}),Object(s.jsx)("th",{scope:"col",children:"Confidence"}),Object(s.jsx)("th",{scope:"col",children:"Relevance"}),Object(s.jsx)("th",{scope:"col",children:"Sentiment"}),Object(s.jsx)("th",{scope:"col",children:"Emotion"})]})}),Object(s.jsx)("tbody",{children:c})]},"2"));break;case"keywords":for(t in p){var W=p[t],M=Ie(W.emotion.max),V=Ie(W.emotion.ave),G=Ie(W.emotion.min),q=S(M,V,G),z={scale:{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}},B=C([W.relevance.min,W.sentiment.min],[W.relevance.ave,W.sentiment.ave],[W.relevance.max,W.sentiment.max]),Y={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:-1,suggestedMax:1}}],xAxes:[{}]}};c.push(Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"row",children:W.text}),Object(s.jsx)("td",{children:W.count}),Object(s.jsx)("td",{colSpan:"2",children:Object(s.jsx)(ne.Bar,{data:B,options:Y})}),Object(s.jsx)("td",{children:Object(s.jsx)(ne.Radar,{data:q,options:z})})]},t))}j.push(Object(s.jsxs)("table",{className:"table",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"col",children:"Name"}),Object(s.jsx)("th",{scope:"col",children:"#Appearances"}),Object(s.jsx)("th",{scope:"col",children:"Relevance Score"}),Object(s.jsx)("th",{scope:"col",children:"Sentiment"}),Object(s.jsx)("th",{scope:"col",children:"Emotion"})]})}),Object(s.jsx)("tbody",{children:c})]},"2"));break;case"relations":for(t in p){var Z=p[t],K=k([Z.score.min],[Z.score.ave],[Z.score.max]),X={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}]}};c.push(Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"row",children:Z.count}),Object(s.jsx)("td",{children:Z.arguments[0].text}),Object(s.jsx)("td",{children:Z.type}),Object(s.jsx)("td",{children:Z.arguments[1].text}),Object(s.jsx)("td",{style:{width:"30%"},children:Object(s.jsx)(ne.Bar,{data:K,options:X})})]},t))}j.push(Object(s.jsxs)("table",{className:"table",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"col",children:"#Appearances"}),Object(s.jsx)("th",{scope:"col",children:"Actor"}),Object(s.jsx)("th",{scope:"col",children:"Action"}),Object(s.jsx)("th",{scope:"col",children:"Target"}),Object(s.jsx)("th",{scope:"col",children:"Score"})]})}),Object(s.jsx)("tbody",{children:c})]},"2"));break;default:console.log("Invalid AI selection somehow")}}catch($){j.push(Object(s.jsx)("div",{className:"row m-2 border",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("p",{children:"There was no data to read!"})})},"2"))}}}else d=[{name:"No Prompts",value:"None"}];var _="Showing Company Summary for: "+e.currentCompany,Q="For week of: "+e.anchorDate;return Object(s.jsx)("div",{className:"companyView",children:Object(s.jsxs)("div",{className:"container-fluid",children:[Object(s.jsxs)("div",{className:"row m-2",children:[Object(s.jsx)("div",{className:"col-lg-3 m-2",children:Object(s.jsx)("div",{children:Object(s.jsx)(se.a,{onChange:e.pickDate,value:e.currentDate,tileClassName:function(t){var a=t.date;if("month"===t.view){var s=a.getFullYear()+"-"+a.getMonth()+"-"+a.getDate();if(e.validSummaryDates.find((function(e){return e===s})))return"btn btn-success"}},minDetail:"year",maxDetail:"month"})})}),Object(s.jsx)("div",{className:"col m-2",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsxs)("div",{className:"card-header",children:[Object(s.jsx)("div",{children:_}),Object(s.jsx)("div",{children:Q})]}),Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsx)("div",{className:"row m-2",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)(re.a,{toggle:!0,children:Ee.map((function(t,a){return Object(s.jsx)(ce.a,{type:"radio",variant:"secondary",name:"radio",value:t.value,checked:e.selectedDay===t.value,onChange:e.setDay,children:t.name},a)}))})})}),Object(s.jsx)("div",{className:"row m-2",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)(re.a,{toggle:!0,children:d.map((function(t,a){return Object(s.jsx)(ce.a,{type:"radio",variant:"primary",name:"radio",value:t.value,checked:e.selectedPrompt===t.value,onChange:e.setPrompt,children:t.name},a)}))})})}),Object(s.jsx)("div",{className:"row m-2",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)(re.a,{toggle:!0,children:Ce.map((function(t,a){return Object(s.jsx)(ce.a,{type:"radio",variant:"info",name:"radio",value:t.value,checked:e.selectedAspect===t.value,onChange:e.setAI,children:t.name},a)}))})})})]})]})})]}),Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsxs)("div",{children:["Showing Data for prompt: ",h]})}),Object(s.jsx)("div",{className:"card-body",children:j})]}),Object(s.jsx)("div",{className:"row  my-2",children:Object(s.jsx)("p",{})})]})})})),Ae=function(e){return Object(s.jsx)("div",{className:"defaultView",children:Object(s.jsx)("h3",{children:"This page is empty, Select an Action from the side menu!"})})},Pe=[{name:"Monday",value:"mon"},{name:"Tuesday",value:"tue"},{name:"Wednesday",value:"wed"},{name:"Thursday",value:"thu"},{name:"Friday",value:"fri"},{name:"Saturday",value:"sat"},{name:"Sunday",value:"sun"},{name:"All",value:"allDay"}],Le=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).componentDidMount=function(){void 0===s.props.authToken&&console.log("No auth token on load!"),s.checkActiveUser(),s.getValidJournalDates(),s.getUserCompanyAdminViewTree(),s.getUserGovernedPermTree()},s.componentDidUpdate=function(e,t){},s.flushStorage=function(){v.a.clearAll()},s.resetState=function(){s.setState({EHIDayLabels:[],EHIDaySet:[],EHIWeekLabels:[],EHIWeekSet:[],validCompanySummaryDates:[],companyGovernedDataTree:{},companyGovernedDataRawList:[],companyGovernedDataRawIDList:[],companyViewableDataTree:{},companyViewableDataRawList:{},companyViewableDataRawIDs:[],companySendDataTree:{},companySendDataRawList:{},companySendDataRawIDList:[],validDivisionSuggestionDates:[],selectedJournalData:{},validJournalDates:[],validJournalScanDates:[]})},s.redoLoad=function(){s.getValidJournalDates(),s.getUserCompanyAdminViewTree(),s.getUserCompanySendsTree(),s.getUserGovernedPermTree()},s.changeSuggestionContent=function(e){s.setState({suggestionEditorState:e})},s.changeJournalContent=function(e){s.setState({journalEditorState:e})},s.changeEHIDaydates=function(e){s.setState({EHIDayTimespan:e})},s.changeEHIWeekdates=function(e){s.setState({EHIWeekTimespan:e})},s.forceLogout=function(){s.props.forceLogout(),s.props.history.push(s.props.reRouteTarget)},s.checkActiveUserCallback=function(e){!0===e?console.log("User is considered Active"):(console.log("User needs to activate account"),s.props.history.push(s.props.activateRedirect))},s.checkActiveUser=function(){!function(e,t,a,s){var n={headers:{Authorization:"JWT ".concat(t)}};b.a.get(e+"/userIsActive",n).then((function(e){a(e.data[0].isActive)})).catch((function(e){void 0!==e&&void 0!==e.response&&s(e.response.status,e.response.data)}))}(s.props.APIHost,s.props.authToken,s.checkActiveUserCallback,s.forceLogout)},s.journalPostCallback=function(e){console.log(e)},s.postJournal=function(){var e=s.state.currentDate,t=s.state.journalEditorState.getCurrentContent().getPlainText(),a=Object(z.convertToRaw)(s.state.journalEditorState.getCurrentContent());!function(e,t,a,s,n,r,c){var o=Math.random().toString(16).substr(2,8),i={headers:{Authorization:"JWT ".concat(t)}},l={shorthand:"made from the website: "+o,forDate:a.toJSON().split("T")[0],content:s,richText:n};b.a.post(e+"/saveUserJournal/",l,i).then((function(e){r(e.data)})).catch((function(e){void 0!==e&&void 0!==e.response&&401===e.response.status&&c()}))}(s.props.APIHost,s.props.authToken,e,t,a,s.journalPostCallback,s.forceLogout)},s.governedPermTreeCallback=function(e,t,a){s.setState({companyGovernedDataTree:e,companyGovernedDataRawList:t,companyGovernedDataRawIDList:a})},s.governedPermTreeFailure=function(e,t){for(var a in e)401===e[a]&&s.forceLogout()},s.getUserGovernedPermTree=function(){if(void 0!==s.props.currentUser){var e=v.a.get(s.props.currentUser+"-companyGovernedPermTree"),t=v.a.get(s.props.currentUser+"-companyPermGovernedNames"),a=v.a.get(s.props.currentUser+"-incomingCompanyIDs");void 0===e||void 0===t||void 0===a?(console.log("Governed list was not in the cookies!"),x(s.props.APIHost,s.props.authToken,["gov"],s.governedPermTreeCallback,s.governedPermTreeFailure)):(console.log("Company Tree WAS in the cookies!"),s.governedPermTreeCallback(e,t,a))}},s.suggestionPostCallback=function(e){console.log(e)},s.postSuggestion=function(){var e=s.state.currentDate,t=s.state.suggestionEditorState.getCurrentContent().getPlainText(),a=Object(z.convertToRaw)(s.state.suggestionEditorState.getCurrentContent()),n=s.state.currentSuggestionDivision;-1!==n?function(e,t,a,s,n,r,c,o){var i={headers:{Authorization:"JWT ".concat(t)}},l={targetDivision:s,createdDate:a.toJSON().split("T")[0],content:n,richText:r};b.a.post(e+"/saveNewSuggestion/",l,i).then((function(e){c(e.data)})).catch((function(e){void 0!==e&&void 0!==e.response&&401===e.response.status&&o()}))}(s.props.APIHost,s.props.authToken,e,n,t,a,s.suggestionPostCallback,s.forceLogout):console.log("Not allowed!")},s.journalDatesCallback=function(e,t){v.a.set(s.props.currentUser+"-ValidDates",{journalDates:e,AIDates:t}),s.setState({validJournalDates:e,validJournalScanDates:t})},s.getValidJournalDates=function(){if(console.log("Running a journal dates check"),void 0!==s.props.currentUser){var e=v.a.get(s.props.currentUser+"-ValidDates");void 0===e?(console.log("Valid journal Dates were not in the cookies!"),function(e,t,a,s){var n={headers:{Authorization:"JWT ".concat(t)}};b.a.get(e+"/getJournalDates",n).then((function(e){console.log("Got Data!");var t=[],s=[],n="";for(n in e.data){var r=new Date(e.data[n].forDate),c=r.getFullYear()+"-"+r.getMonth()+"-"+(r.getDate()+1);e.data[n].hasAI?t.push(c):s.push(c)}a(s,t)})).catch((function(e){void 0!==e&&void 0!==e.response&&401===e.response.status&&s()}))}(s.props.APIHost,s.props.authToken,s.journalDatesCallback,s.forceLogout)):(console.log("Valid Journal dates WERE in the cockies!"),s.journalDatesCallback(e.journalDates,e.AIDates))}else console.log("Invalid User")},s.journalDataCallback=function(e,t){s.setState({journalMessage:"Showing Journal Entry for: "+s.state.selectedJournalDate.toString(),journalContent:e,selectedJournalData:t})},s.pickJournalCalenderDate=function(e){s.setState({selectedJournalDate:e}),void 0===v.a.get(s.props.currentUser+"-Journal-"+e)&&(console.log("Not in the cookies!"),function(e,t,a,s,n){var r={headers:{Authorization:"JWT ".concat(t)}};console.log("Requesting Date from Server");var c=a.toJSON().split("T")[0];b.a.get(e+"/getUserJournal/?reqDate="+c,r).then((function(e){if(e.data.length>0){console.log("obtained a journal entry");var t=e.data[0].content,a={};e.data[0].hasAI&&(a=e.data[0].AIresult),s(t,a)}else console.log("No entry for that day"),s("",{})})).catch((function(e){void 0!==e&&void 0!==e.response&&401===e.response.status&&n()}))}(s.props.APIHost,s.props.authToken,e,s.journalDataCallback,s.forceLogout))},s.companyListCallback=function(e,t,a){s.setState({companyViewableDataTree:e,companyViewableDataRawList:t,companyViewableDataRawIDs:a})},s.companyListFailure=function(e,t){for(var a in e)401===e[a]&&s.forceLogout()},s.getUserCompanyAdminViewTree=function(){if(void 0!==s.props.currentUser){var e=v.a.get(s.props.currentUser+"-companyPermViewTree"),t=v.a.get(s.props.currentUser+"-companyPermViewNames");void 0===e||void 0===t?(console.log("Company list was not in the cookies!"),x(s.props.APIHost,s.props.authToken,["admin","view"],s.companyListCallback,s.companyListFailure)):(console.log("Company Tree WAS in the cookies!"),s.companyListCallback(e,t))}},s.companySendCallback=function(e,t,a){s.setState({companySendDataTree:e,companySendDataRawList:t,companySendDataRawIDList:a})},s.companySendFailure=function(e,t){for(var a in e)401===e[a]&&s.forceLogout()},s.getUserCompanySendsTree=function(){if(void 0!==s.props.currentUser){var e=v.a.get(s.props.currentUser+"-companyPermSendTree"),t=v.a.get(s.props.currentUser+"-companyPermSendNames"),a=v.a.get(s.props.currentUser+"-companyPermSendIDs");void 0===e||void 0===t||void 0===a?(console.log("Company list was not in the cookies!"),x(s.props.APIHost,s.props.authToken,["send"],s.companySendCallback,s.companySendFailure)):(console.log("Company Tree WAS in the cookies!"),s.companyListCallback(e,t))}},s.companyDatesCallback=function(e){v.a.set(s.props.currentUser+"-"+s.state.currentDivisionID+"-ValidDates",{dates:e}),s.setState({validCompanySummaryDates:e})},s.getCompanyValidDates=function(){if(-1!==s.state.currentDivisionID){var e=v.a.get(s.props.currentUser+"-"+s.state.currentDivisionID+"-ValidDates");void 0===e?(console.log("Company dates were not in the cookies"),function(e,t,a,s,n){var r={headers:{Authorization:"JWT ".concat(t)}};b.a.get(e+"/getCompanyWeekDates?reqDiv="+a,r).then((function(e){var t=[];console.log("Got Valid Dates!");var a="";for(a in e.data){var n=new Date(e.data[a].forDate);n.setDate(n.getDate()+1),e.data[a].hasMon&&t.push(n.getFullYear()+"-"+n.getMonth()+"-"+n.getDate()),n.setDate(n.getDate()+1),e.data[a].hasTue&&t.push(n.getFullYear()+"-"+n.getMonth()+"-"+n.getDate()),n.setDate(n.getDate()+1),e.data[a].hasWed&&t.push(n.getFullYear()+"-"+n.getMonth()+"-"+n.getDate()),n.setDate(n.getDate()+1),e.data[a].hasThu&&t.push(n.getFullYear()+"-"+n.getMonth()+"-"+n.getDate()),n.setDate(n.getDate()+1),e.data[a].hasFri&&t.push(n.getFullYear()+"-"+n.getMonth()+"-"+n.getDate()),n.setDate(n.getDate()+1),e.data[a].hasSat&&t.push(n.getFullYear()+"-"+n.getMonth()+"-"+n.getDate()),n.setDate(n.getDate()+1),e.data[a].hasSun&&t.push(n.getFullYear()+"-"+n.getMonth()+"-"+n.getDate())}s(t)})).catch((function(e){void 0!==e&&void 0!==e.response&&401===e.response.status&&n()}))}(s.props.APIHost,s.props.authToken,s.state.currentDivisionID,s.companyDatesCallback,s.forceLogout)):(console.log("Company Dates WERE in the coockies!"),s.companyDatesCallback(e.dates))}else console.log("Invalid company!")},s.companySuggestionDateCallback=function(e){v.a.set(s.props.currentUser+"-"+s.state.currentDivisionID+"-ValidSuggestionDates",{dates:e}),s.setState({validDivisionSuggestionDates:e})},s.getCompanyValidSuggestionDates=function(){if(-1!==s.state.currentDivisionID){var e=v.a.get(s.props.currentUser+"-"+s.state.currentDivisionID+"-ValidSuggestionDates");void 0===e?(console.log("Division suggestion dates were not in the cookies..."),function(e,t,a,s,n){var r={headers:{Authorization:"JWT ".concat(t)}};b.a.get(e+"/getCompanySuggestionDates?reqDiv="+a,r).then((function(e){if(e.data.length>0){var t=[],a="";for(a in e.data){var n=new Date(e.data[a]),r=n.getFullYear()+"-"+n.getMonth()+"-"+(n.getDate()+1);t.push(r)}s(t)}})).catch((function(e){void 0!==e&&void 0!==e.response&&401===e.response.status&&n()}))}(s.props.APIHost,s.props.authToken,s.state.currentDivisionID,s.companySuggestionDateCallback,s.forceLogout)):(console.log("Division suggestion dates WERE in the coockies!"),s.companySuggestionDateCallback(e.dates))}else console.log("Invalid company!")},s.companySuggestionDataCallback=function(e,t){var a=new Date(e);s.setState({selectedSuggestDay:a,selectedSuggestDayData:t})},s.getCompanySuggestionData=function(e){(s.setState({getCompanySuggestionData:e}),-1!==s.state.currentDivisionID)?void 0===v.a.get(s.props.currentUser+"-"+s.state.currentDivisionID+"-"+e+"-suggestions")?(console.log("Division suggestion dates were not in the cookies"),f(s.props.APIHost,s.props.authToken,s.state.currentDivisionID,s.companySuggestionDataCallback,s.forceLogout)):(console.log("Division suggestion dates WERE in the coockies!"),s.companySuggestionDataCallback()):console.log("Invalid company!")},s.companyDataCallback=function(e,t){v.a.set(s.props.currentUser+"-"+s.state.currentDivisionID+"-"+t+"Data",{data:e}),s.setState({companyMessage:"Showing Summary for: "+s.state.currentDivisionID+" On: "+s.state.selectedCompanyDate.toString(),selectedSummaryWeekData:e,currentCompanyDataDate:t,currentCompanyDataName:s.state.currentDivisionName,currentCompanyDataID:s.state.currentDivisionID})},s.getCompanyWeeklySummary=function(e){var t=e.getDay()-1;t<0&&(t=6);var a=new Date(e.getTime());a.setDate(a.getDate()-t);var n=a.toJSON().split("T")[0];if(s.state.currentCompanyDataID===s.state.currentDivisionID&&s.state.currentCompanyDataDate===n)s.setState({selectedCompanyDay:Pe[t].value,selectedCompanyDate:e});else if(-1!==s.state.currentDivisionID){var r=v.a.get(s.props.currentUser+"-"+s.state.currentDivisionID+"-"+n+"Data");void 0===r?(console.log("Company Summary Data was not in the coockies"),function(e,t,a,s,n,r){var c=s.getDay()-1;c<0&&(c=6);var o=new Date(s.getTime());o.setDate(o.getDate()-c);var i=o.toJSON().split("T")[0],l={headers:{Authorization:"JWT ".concat(t)}};b.a.get(e+"/getCompanyWeekSummary/?reqDate="+i+"&reqDiv="+a,l).then((function(e){if(e.data.length>0){console.log("obtained a company summary");var t={mon:e.data[0].monResult,tue:e.data[0].tueResult,wed:e.data[0].wedResult,thu:e.data[0].thuResult,fri:e.data[0].friResult,sat:e.data[0].satResult,sun:e.data[0].sunResult,allDay:e.data[0].summaryResult};n(t,i)}else n({},i)})).catch((function(e){void 0!==e&&void 0!==e.response&&401===e.response.status&&r()}))}(s.props.APIHost,s.props.authToken,s.state.currentDivisionID,e,s.companyDataCallback,s.forceLogout)):s.companyDataCallback(r.data,n)}else console.log("Invalid company!")},s.companyEHICallback=function(e,t,a,n){v.a.set(s.props.currentUser+"-"+s.state.currentDivisionID+"-EHI",{labelsDays:e,dataDays:t,labelsWeeks:a,dataWeeks:n}),s.setState({EHIDayLabels:e,EHIDaySet:t,EHIWeekLabels:a,EHIWeekSet:n})},s.getCompanyEHIData=function(){if(-1!==s.state.currentDivisionID){var e=v.a.get(s.props.currentUser+"-"+s.state.currentDivisionID+"-EHI");void 0===e?(console.log("Company EHI Data was not in the coockies"),function(e,t,a,s,n){var r={headers:{Authorization:"JWT ".concat(t)}};b.a.get(e+"/getCompanyEHI?reqDiv="+a,r).then((function(e){if(e.data.length>0){console.log("Got the company data!");var t,a=[],n=[],r=[],c=[];for(t in e.data[0].EHIstorage.days)a.push(t),n.push(e.data[0].EHIstorage.days[t]);for(t in e.data[0].EHIstorage.weeks)r.push(t),c.push(e.data[0].EHIstorage.days[t]);s(a,n,r,c)}})).catch((function(e){void 0!==e&&void 0!==e.response&&401===e.response.status&&n()}))}(s.props.APIHost,s.props.authToken,s.state.currentDivisionID,s.companyEHICallback,s.forceLogout)):s.companyEHICallback(e.labelsDays,e.dataDays,e.labelsWeeks,e.dataWeeks)}else console.log("Invalid company!")},s.suggestionDataCallback=function(e,t){s.setState({selectedSuggestDay:e,selectedSuggestDayData:t})},s.getCompanySuggestionData=function(e){-1!==s.state.currentDivisionID&&f(s.props.APIHost,s.props.authToken,s.state.currentDivisionID,e,s.suggestionDataCallback,s.forceLogout)},s.selectCompanyLayer=function(e){var t=s.state.currentCompanyIndexes;t.push(e.target.value),s.setState({currentCompanyIndexes:t,lastCompanyRequestStatus:void 0})},s.backCompanyLayer=function(e){var t=s.state.currentCompanyIndexes;t.splice(e.target.value),s.setState({currentCompanyIndexes:t,lastCompanyRequestStatus:void 0})},s.selectGovernedCompanyLayer=function(e){var t=s.state.currentCompanyGovernedIndexes;t.push(e.target.value);var a=t[t.length-1];s.setState({currentSuggestionDivision:a,currentCompanyGovernedIndexes:t,lastGovernedCompanyRequestStatus:void 0})},s.backGovernedCompanyLayer=function(e){var t=s.state.currentCompanyGovernedIndexes;t.splice(e.target.value);var a=t[t.length-1];s.setState({currentSuggestionDivision:a,currentCompanyGovernedIndexes:t,lastGovernedCompanyRequestStatus:void 0})},s.getThatData=function(){console.log(s.state.currentDivisionID),s.getCompanyEHIData(),s.getCompanyValidDates(),s.getCompanyValidSuggestionDates()},s.getCompanyDataRequest=function(e){var t=e.target.value.split(","),a=Number(t[0])>0;a?s.setState({currentDivisionName:t[1],currentDivisionID:t[2],lastCompanyRequestStatus:a},s.getThatData):(console.log("Not allowed!"),s.setState({lastCompanyRequestStatus:a}))},s.changeJournalPrompt=function(e){s.setState({selectedJournalPrompt:e.currentTarget.value})},s.changeJournalAspect=function(e){s.setState({selectedJournalAspect:e.currentTarget.value})},s.changeCompanyPrompt=function(e){s.setState({selectedCompanyPrompt:e.currentTarget.value})},s.changeCompanyAspect=function(e){s.setState({selectedCompanyAspect:e.currentTarget.value})},s.changeCompanyDay=function(e){s.setState({selectedCompanyDay:e.currentTarget.value})},s.state={currentDate:new Date,selectedJournalDate:new Date,selectedCompanyDate:new Date,selectedSuggestionDate:new Date,EHIDayTimespan:3,EHIWeekTimespan:3,EHIDayLabels:[],EHIDaySet:[],EHIWeekLabels:[],EHIWeekSet:[],selectedJournalPrompt:"p1",selectedJournalAspect:"emotion",selectedJournalData:{},validJournalDates:[],validJournalScanDates:[],journalMessage:"Choose a date to view the journal!",journalContent:"Waiting for content...",journalEditorState:z.EditorState.createEmpty(),journalPlaceholder:"",selectedCompanyDay:"mon",selectedCompanyPrompt:"p1",selectedCompanyAspect:"emotion",companyMessage:"Choose a date and company to view that summary!",currentDivisionID:-1,currentDivisionName:"None",currentCompanyIndexes:[],companyViewableDataTree:{},companyViewableDataRawList:[],companyViewableDataRawIDs:[],companySendDataTree:{},companySendDataRawList:[],companySendDataRawIDList:[],lastCompanyRequestStatus:void 0,currentCompanyDataName:void 0,currentCompanyDataDate:void 0,selectedSummaryWeekData:{mon:{},tue:{},wed:{},thu:{},fri:{},sat:{},sun:{},allDay:{}},validCompanySummaryDates:[],selectedSuggestDay:new Date,selectedSuggestDayData:[],validDivisionSuggestionDates:[],currentSuggestionDivision:-1,currentCompanyGovernedIndexes:[],companyGovernedDataTree:{},companyGovernedDataRawList:[],companyGovernedDataRawIDList:[],lastGovernedCompanyRequestStatus:void 0,suggestionEditorState:z.EditorState.createEmpty()},s}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return Object(s.jsx)("div",{className:"contentPages",children:Object(s.jsx)("div",{className:"container-fluid",children:Object(s.jsxs)("div",{className:"row m-1 my-5",children:[Object(s.jsxs)("div",{className:"col- m-1",children:[Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsx)("h5",{children:"Today's Date"})}),Object(s.jsx)("div",{className:"card-body",children:this.state.currentDate.toString().split("(")[0]})]})})}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsx)("h5",{children:"Journal View"})}),Object(s.jsx)("div",{className:"card-body",children:Object(s.jsxs)("div",{className:"list-group",children:[Object(s.jsx)(j.b,{className:"list-group-item",to:this.props.match.url+"/journalWrite",children:"Write Todays Journal"}),Object(s.jsx)(j.b,{className:"list-group-item",to:this.props.match.url+"/journalRead",children:"Review Previous Journals"}),Object(s.jsx)(j.b,{className:"list-group-item",to:this.props.match.url+"/writeSuggestion",children:"Write Suggestion"}),Object(s.jsx)(j.b,{className:"list-group-item",to:this.props.match.url+"/userProfile",children:"User Profile"})]})})]})})}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsx)("h5",{children:"Company View"})}),Object(s.jsx)("div",{className:"card-body",children:Object(s.jsxs)("div",{className:"list-group",children:[Object(s.jsx)("div",{className:"list-group-item",children:this.state.currentDivisionName}),Object(s.jsx)(j.b,{className:"list-group-item",to:this.props.match.url+"/companySelect",children:"Select Company"}),Object(s.jsx)(j.b,{className:"list-group-item",to:this.props.match.url+"/companyProfile",children:"View/Edit Company Settings"}),Object(s.jsx)(j.b,{className:"list-group-item",to:this.props.match.url+"/companyEHI",children:"Review Company EHI"}),Object(s.jsx)(j.b,{className:"list-group-item",to:this.props.match.url+"/companySummary",children:"Review Company Summaries"}),Object(s.jsx)(j.b,{className:"list-group-item",to:this.props.match.url+"/companySuggestions",children:"View Suggestions"})]})})]})})}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:"Debug Buttons!"})}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("button",{className:"btn btn-outline-danger",onClick:this.flushStorage,children:"Flush Storage"})})}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("button",{className:"btn btn-outline-danger",onClick:this.redoLoad,children:"Refresh Global Data"})})}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("button",{className:"btn btn-outline-danger",onClick:this.resetState,children:"Reset Displayed Data"})})})]}),Object(s.jsx)("div",{className:"col border m-1",children:Object(s.jsxs)(h.c,{children:[Object(s.jsx)(h.a,{path:this.props.match.url+"/",exact:!0,component:function(){return Object(s.jsx)(Ae,{})}}),Object(s.jsx)(h.a,{path:this.props.match.url+"/userProfile",component:function(){return Object(s.jsx)(ae,{APIHost:e.props.APIHost,authToken:e.props.authToken,currentUser:e.props.currentUser,viewNameList:e.state.companyViewableDataRawList,viewIDList:e.state.companyViewableDataRawIDs,sendIDList:e.state.companySendDataRawIDList,governedNameList:e.state.companyGovernedDataRawList,governedIDList:e.state.companyGovernedDataRawIDList,triggerRefresh:e.redoLoad,triggerLogout:e.forceLogout})}}),Object(s.jsx)(h.a,{path:this.props.match.url+"/writeSuggestion",component:function(){return Object(s.jsx)($,{currentCompanySelections:e.state.currentCompanyGovernedIndexes,companyDataTree:e.state.companyGovernedDataTree,lastRequestStatus:e.state.lastGovernedCompanyRequestStatus,selectLayer:e.selectGovernedCompanyLayer,backLayer:e.backGovernedCompanyLayer,getDataRequest:e.getGovernedCompanyDataRequest,onChange:e.changeSuggestionContent,editorState:e.state.suggestionEditorState,saveToServer:e.postSuggestion})}}),Object(s.jsx)(h.a,{path:this.props.match.url+"/journalWrite",component:function(){return Object(s.jsx)(ve,{onChange:e.changeJournalContent,placeholder:e.state.journalPlaceholder,editorState:e.state.journalEditorState,saveToServer:e.postJournal})}}),Object(s.jsx)(h.a,{path:this.props.match.url+"/journalRead",component:function(){return Object(s.jsx)(le,{currentDate:e.state.selectedJournalDate,dataSet:e.state.selectedJournalData,selectedPrompt:e.state.selectedJournalPrompt,selectedAspect:e.state.selectedJournalAspect,validJournalDates:e.state.validJournalDates,validJournalScanDates:e.state.validJournalScanDates,getJournalDates:e.getValidJournalDates,pickDate:e.pickJournalCalenderDate,displayMessage:e.state.journalMessage,currentJournal:e.state.journalContent,setPrompt:e.changeJournalPrompt,setAI:e.changeJournalAspect})}}),Object(s.jsx)(h.a,{path:this.props.match.url+"/companySelect",component:function(){return Object(s.jsx)(we,{currentCompanySelections:e.state.currentCompanyIndexes,companyDataTree:e.state.companyViewableDataTree,lastRequestStatus:e.state.lastCompanyRequestStatus,selectLayer:e.selectCompanyLayer,backLayer:e.backCompanyLayer,getDataRequest:e.getCompanyDataRequest})}}),Object(s.jsx)(h.a,{path:this.props.match.url+"/companyProfile",component:function(){return Object(s.jsx)(De,{APIHost:e.props.APIHost,authToken:e.props.authToken,currentDivisionID:e.state.currentDivisionID})}}),Object(s.jsx)(h.a,{path:this.props.match.url+"/companySuggestions",component:function(){return Object(s.jsx)(Se,{currentDate:e.state.selectedCompanyDate,validDays:e.state.validDivisionSuggestionDates,dataDay:e.state.selectedSuggestDay,dataSet:e.state.selectedSuggestDayData,pickDate:e.getCompanySuggestionData})}}),Object(s.jsx)(h.a,{path:this.props.match.url+"/companyEHI",component:function(){return Object(s.jsx)(fe,{timeIndexDay:e.state.EHIDayTimespan,timeIndexWeek:e.state.EHIWeekTimespan,ehiDayLabels:e.state.EHIDayLabels,ehiDayData:e.state.EHIDaySet,ehiWeekLabels:e.state.EHIWeekLabels,ehiWeekData:e.state.EHIWeekSet,onDayToggle:e.changeEHIDaydates,onWeekToggle:e.changeEHIWeekdates})}}),Object(s.jsx)(h.a,{path:this.props.match.url+"/companySummary",component:function(){return Object(s.jsx)(Te,{currentDate:e.props.selectedCompanyDate,currentCompany:e.state.currentCompanyDataName,anchorDate:e.state.currentCompanyDataDate,validSummaryDates:e.state.validCompanySummaryDates,displayMessage:e.state.companyMessage,dataSet:e.state.selectedSummaryWeekData,selectedDay:e.state.selectedCompanyDay,selectedPrompt:e.state.selectedCompanyPrompt,selectedAspect:e.state.selectedCompanyAspect,setPrompt:e.changeCompanyPrompt,setAI:e.changeCompanyAspect,setDay:e.changeCompanyDay,setCompany:e.changeSelectedCompany,loadCompanyList:e.getUserCompanyAdminViewTree,getValidDates:e.getCompanyValidDates,pickDate:e.getCompanyWeeklySummary})}})]})})]})})})}}]),a}(r.a.Component),Ue=Object(h.f)(Le),Re=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).backButton=function(){s.props.history.goBack()},s.state={example:0},s}return Object(l.a)(a,[{key:"render",value:function(){return Object(s.jsxs)("div",{className:"freePages",children:[Object(s.jsx)(J,{}),Object(s.jsx)("div",{className:"my-5"}),Object(s.jsx)("div",{className:"my-5"}),Object(s.jsx)("div",{className:"my-5"}),Object(s.jsx)("div",{className:"my-5"})]})}}]),a}(r.a.Component),Fe=Object(h.f)(Re),He=(a(380),a(381),"/scenere"),Je="https://cmaster.pythonanywhere.com",We=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).loadFromCookies=function(){var e=v.a.get("lastUser");try{s.setState({currentUser:e.user,sessionToken:e.session,remember:!0})}catch(t){console.log("User was NOT found in the storage")}},s.setToken=function(e,t,a){return s.setState({sessionToken:e,currentUser:t,rememberMe:a}),!0===a&&v.a.set("lastUser",{user:t,session:e}),!0},s.refresh=function(){var e={token:s.state.sessionToken};b.a.post(Je+"/apiTokenRefresh/",e).then((function(e){return console.log("Token refreshed"),s.setToken(e.data.token,s.state.currentUser,s.status.rememberMe),!0})).catch((function(e){return console.log(e),s.logout(),!1}))},s.logout=function(){s.setState({sessionToken:void 0,currentUser:void 0}),v.a.remove("lastUser")},s.state={currentUser:void 0,sessionToken:void 0,remember:!1},s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.loadFromCookies()}},{key:"render",value:function(){var e=this;return Object(s.jsx)(j.a,{children:Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)(V,{currentUser:this.state.currentUser,basePath:He,clearLogin:this.logout}),Object(s.jsxs)(h.c,{children:[Object(s.jsx)(h.a,{path:"/scenere/",exact:!0,component:function(){return Object(s.jsx)(Fe,{APIHost:Je})}}),Object(s.jsx)(h.a,{path:"/scenere/signin",exact:!0,component:function(){return Object(s.jsx)(A,{APIHost:Je,loginSave:e.setToken,reRouteTarget:"/scenere/dashboard",forgotPath:"/scenere/forgot"})}}),Object(s.jsx)(h.a,{path:"/scenere/signup",exact:!0,component:function(){return Object(s.jsx)(L,{APIHost:Je,reRouteTarget:"/scenere/verify",loginSave:e.setToken,authToken:e.state.sessionToken})}}),Object(s.jsx)(h.a,{path:"/scenere/verify",exact:!0,component:function(){return Object(s.jsx)(H,{APIHost:Je,authToken:e.state.sessionToken,forceLogout:e.logout,reRouteTarget:"/scenere/signin",reRouteSuccessTarget:"/scenere/dashboard"})}}),Object(s.jsx)(h.a,{path:"/scenere/forgot",exact:!0,component:function(){return Object(s.jsx)(R,{APIHost:Je,reRouteTarget:"/scenere/signin"})}}),Object(s.jsx)(h.a,{path:"/scenere/contact",exact:!0,component:function(){return Object(s.jsx)(W,{APIHost:Je})}}),Object(s.jsx)(h.a,{path:"/scenere/dashboard",component:function(){return Object(s.jsx)(Ue,{APIHost:Je,tokenRefresh:e.refresh,reRouteTarget:"/scenere/signin",activateRedirect:"/scenere/verify",forceLogout:e.logout,currentUser:e.state.currentUser,authToken:e.state.sessionToken})}})]}),Object(s.jsx)(G,{})]})})}}]),a}(r.a.Component),Me=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,394)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,r=t.getLCP,c=t.getTTFB;a(e),s(e),n(e),r(e),c(e)}))};a(382),a(383);o.a.render(Object(s.jsx)(We,{}),document.getElementById("root")),Me()}},[[385,1,2]]]);
//# sourceMappingURL=main.d2c1c27a.chunk.js.map