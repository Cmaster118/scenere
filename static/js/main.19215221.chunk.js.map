{"version":3,"sources":["components/navigation.jsx","components/footer.jsx","components/signIn.jsx","components/signUp.jsx","components/forgot.jsx","components/landing.jsx","components/mainMenu.jsx","utils/index.js","components/journalView.jsx","components/journalMake.js","components/companyView.js","components/companySettings.jsx","App.js","reportWebVitals.js","index.js"],"names":["navigation","props","triggerLogout","clearLogin","state","something","basePath","this","iconButton","userDisplay","undefined","currentUser","className","to","onClick","type","data-toggle","data-target","aria-controls","aria-expanded","aria-label","id","React","Component","withRouter","footer","signIn","loadFromCookies","data","Store","get","setState","username","user","password","pass","userFieldChange","event","target","value","passFieldChange","remFieldChange","remember","handleSubmit","set","console","log","axios","post","APIHost","then","res","latestAttempt","result","loginSave","token","history","push","reRouteTarget","catch","err","preventDefault","currentState","onSubmit","onChange","placeholder","htmlFor","forgotPath","signup","usernameFieldChange","emailFieldChange","email","pass2FieldChange","password2","firstNameFieldChange","firstName","lastnameFieldChange","lastName","checkFieldChange","checkField","first_name","last_name","latestAttept","forgotPassword","goSignIn","arePasswordsSame","password1","swapToCode","sendEmail","checkValue","checkPasswords","tokenFieldChange","resetToken","pass1FieldChange","passwordsSame","currentField","currentButton","currentMessage","landing","getFromCookies","chartReference","createRef","userToken","mainMenu","testButton","journalWriteDirect","journalReadDirect","companyReadDirect","companySettingDirect","getRadarEmotionData","inputData","labels","datasets","label","backgroundColor","borderColor","borderWidth","getSentimentData","getConceptsData","getCategoryData","journalView","backButton","goBack","journalDates","validJournalScanDates","AIDates","validJournalDates","loadTestData","index","AIdata","catData","categories","catLabels","catScores","cat","score","conData","concepts","conLabels","conRelevance","conDatabase","con","text","relevance","dbpedia_resource","emDataObj","emotion","document","emData","anger","disgust","fear","joy","sadness","entData","entities","entity","ent","entEmotion","senDataScore","sentiment","oppData","Math","abs","arrangedDataScore","entStore","count","keyData","keywords","keyword","key","keyEmotion","keyStore","relation","relDat","relations","rel","relStore","init","arguments","action","dataCategories","dataConcepts","dataEmotion","dataEntities","dataKeywords","dataRelations","dataSentiment","saveToCookies","getJournalDates","config","headers","Authorization","authToken","tempAIArray","tempJoArray","remove","item","newDate","Date","createdDate","checkDate","getFullYear","getMonth","getDate","hasAI","response","status","forceLogout","pickDate","selectedDate","currentDate","journal","content","dateReq","toJSON","split","length","AIresult","messages","toString","journalDisp","forceCalenderUpdateTest","journalData","optionsCategories","scales","yAxes","ticks","beginAtZero","suggestedMin","suggestedMax","optionsConcepts","optionsEmotions","scale","optionsSentiment","cutoutPercentage","editorState","setEditor","editor","entitiesDisplay","emotionData","sentimentData","scope","ref","options","keywordsDisplay","relationsDisplay","tileClassName","date","view","hasJournal","find","element","minDetail","maxDetail","styles","border","minHeight","saveJournal","shorthand","author","getCurrentContent","getPlainText","changeJournal","newContent","ContentState","createFromText","newState","EditorState","createWithContent","onBoldClick","RichUtils","toggleInlineStyle","handleKeyCommand","command","today","createEmpty","journalPlaceolder","bind","style","companyView","batchIndex","maxVal","relSum","batchData","i","conSum","emSum","emSet","totalData","unshift","entEmSum","entRelSum","entSenSum","entConSum","confidence","entSenScore","keyEmSum","keyRelSum","keySenSum","keySenScore","totalCount","senSum","responsePurity","ResponsePurity","getCookiesValidDates","getDates","currentCompany","validSummaryDates","getValidDates","tempSumArray","forDate","getCompanyList","adding","companyOwner","name","includes","companyAllowsView","companySendsTo","companyList","summaryData","summaryResult","companyDisp","setCurrentCompany","dropMessage","dropDownInternal","comp","aria-haspopup","aria-labelledby","ProgressBar","now","sorter","companySettings","postNewCompanyData","requestUser","companyName","getCompanyData","targetCompany","dataCompanyName","dataCompanyPriv","summaryViewAccess","dataCompanySendTo","resultsSendTargets","dataCompanyViewing","privateViewingPerms","dataCompanyGoverned","governedUsers","sendChange","searchSend","viewChange","searchView","govChange","searchGov","triggerCompanySwap","triggerDelete","clickedList","parentElement","clickedIndex","addNewUsers","modelAcceptDelete","subset","splice","addingEmail","companySend","userSet","indexOf","companyViewing","governedList","selectedUser","triggerAdd","tabIndex","role","aria-hidden","data-dismiss","modelSendEmail","hostName","App","lastUserSet","sessionToken","session","setToken","refresh","redirectToSignin","logout","path","exact","component","tokenRefresh","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.19215221.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\n\r\nclass navigation extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n          \r\n\t\t  something: null,\r\n\r\n        };\r\n\t}\r\n\r\n\ttriggerLogout = () => {\r\n\t\tthis.props.clearLogin()\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst basePath = this.props.basePath\r\n\r\n\t\tlet iconButton = null\r\n\t\tlet userDisplay = null\r\n\r\n\t\tif (this.props.currentUser === undefined) {\r\n\t\t\ticonButton = [\r\n\t\t\t\t(<li className={'nav-item'} key='0'>\r\n\t\t\t\t\t<Link className=\"nav-link\" to={basePath+\"/signup\"}>\r\n\t\t\t\t\t\tSign Up\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</li>),\r\n\r\n\t\t\t\t(<li className={'nav-item'}  key='1'>\r\n\t\t\t\t\t<Link className=\"nav-link\" to={basePath+\"/signin\"}>\r\n\t\t\t\t\t\tSign In\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</li>)\r\n\t\t\t]\r\n\r\n\t\t\tuserDisplay = (\r\n\t\t\t\t<li className={'nav-item'}  key='2'>\t\r\n\t\t\t\t\t<Link className=\"nav-link\" to={basePath+\"/menu\"}>\r\n\t\t\t\t\t\tNone\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t}\r\n\t\telse {\r\n\t\t\ticonButton = (\r\n\t\t\t\t<li className={'nav-item'}  key='3'>\r\n\t\t\t\t\t<Link className=\"nav-link\" to={basePath+\"/\"} onClick={this.triggerLogout}>\r\n\t\t\t\t\t\tSign Out\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\r\n\t\t\tuserDisplay = (\r\n\t\t\t\t<li className={'nav-item'}  key='4'>\t\r\n\t\t\t\t\t<Link className=\"nav-link\" to={basePath+\"/menu\"}>\r\n\t\t\t\t\t\t{this.props.currentUser}\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"navigation\">\r\n\t\t\t\t<nav className=\"navbar navbar-expand-lg navbar-dark bg-dark\">\r\n\t\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t\t<Link className=\"navbar-brand\" to={basePath+\"/\"}>\r\n\t\t\t\t\t\t\tProject Serene\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclassName=\"navbar-toggler\"\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\tdata-toggle=\"collapse\"\r\n\t\t\t\t\t\t\tdata-target=\"#navbarResponsive\"\r\n\t\t\t\t\t\t\taria-controls=\"navbarResponsive\"\r\n\t\t\t\t\t\t\taria-expanded=\"false\"\r\n\t\t\t\t\t\t\taria-label=\"Toggle navigation\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<span className=\"navbar-toggler-icon\"></span>\r\n\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t<div className=\"collapse navbar-collapse\" id=\"navbarResponsive\">\r\n\t\t\t\t\t\t\t<ul className=\"navbar-nav ml-auto\">\r\n\t\t\t\t\t\t\t\t{iconButton}\r\n\t\t\t\t\t\t\t\t<li className={'nav-link'}>\t\r\n\t\t\t\t\t\t\t\t\tCurrent User: \r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t{userDisplay}\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</nav>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(navigation);","import React from \"react\";\r\n\r\nclass footer extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\r\n        };\r\n\t}\r\n\t\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"footer\">\r\n\t\t\t\t<footer className=\"py-3 bg-dark fixed-bottom\">\r\n\t\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t\t<p className=\"m-0 text-center text-white\">\r\n\t\t\t\t\t\t\tCopyright &copy; Nightingale Technologies 2020\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</footer>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default footer;","import React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport { Link, withRouter } from 'react-router-dom';\r\n\r\nimport Store from \"store\"\r\n\r\nclass signIn extends React.Component {\r\n\r\n\t// Lets test this out, before we move this over to the App js file\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n          \r\n\t\t\t// Lets do a state machine for the sake of it...\r\n\t\t\t// 0 is \"No result given yet\"\r\n\t\t\t// 1+ would be error codes...\r\n\t\t\t// How can I change this screen as per this?\r\n\t\t\t// Eh, thats later...\r\n\t\t\tcurrentState: 0,\r\n\r\n\t\t\t// This can take in the response code, and we can use that, cant we?\r\n\t\t\tlatestAttempt: 0,\r\n\t\t  \r\n\t\t\tusername: '',\r\n\t\t\t\r\n\t\t\t// This needs to be hashed as fast as possible...\r\n\t\t\t// But I will worry about security...\r\n\t\t\t// Just note that this is probobly a bad idea...\r\n\t\t\tpassword: '',\r\n\t\t\t\r\n\t\t\tremember: false,\r\n\t\t\t\r\n        };\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tthis.loadFromCookies();\r\n\t};\r\n\t\r\n\tloadFromCookies = () => {\r\n\t\t\r\n\t\tconst data = Store.get('rememberUser')\r\n\t\ttry {\r\n\t\t\tthis.setState({ username:data.user ,password:data.pass })\r\n\t\t} catch {\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\t\r\n\tuserFieldChange = (event) => {\r\n\t\tthis.setState( {username: event.target.value} )\r\n\t}\r\n\t\r\n\tpassFieldChange = (event) => {\r\n\t\tthis.setState( {password: event.target.value} )\r\n\t}\r\n\t\r\n\tremFieldChange = (event) => {\r\n\t\tthis.setState( {remember: event.target.value} )\r\n\t}\r\n\t\r\n\thandleSubmit = event => {\r\n\t\t//console.log(\"Login Triggered\")\r\n\t\t\r\n\t\t// THIS IS TERRIBLE SECIRTY! WILL SECURE THE PASSWORD IN PLAIN TEXT!\r\n\t\tif(this.state.remember) {\r\n\t\t\tStore.set('rememberUser', {user:this.state.username , pass: this.state.password })\r\n\t\t\tconsole.log(\"User data Stored\")\r\n\t\t}\r\n\t\t\r\n\t\tconst data = {\r\n\t\t\tusername: this.state.username,\r\n\t\t\tpassword: this.state.password\r\n\t\t};\r\n\t\t\r\n\t\t//console.log(data)\r\n\r\n\t\taxios.post(this.props.APIHost +\"/apiTokenAuth/\", data )\r\n\t\t.then( res => { \r\n\t\t\tthis.setState({ latestAttempt: 200 })\r\n\t\t\tconst result = this.props.loginSave( res.data.token, this.state.username )\r\n\t\t\tconsole.log(\"Success\")\r\n\t\t\t\r\n\t\t\tif (result) {\r\n\t\t\t\tconsole.log(\"Token registered\")\r\n\t\t\t\t\r\n\t\t\t\t// Change this to a dashboard lookin thing\r\n\t\t\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tconsole.log(\"Token Failed..?\")\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch( err => {\r\n\t\t\t// Change this depending on the error...\r\n\t\t\tthis.setState({ latestAttempt: 400 })\r\n\t\t\tconsole.log(err)\r\n\t\t\tconsole.log(\"Connection failed...\")\r\n\t\t})\r\n\r\n\t\tevent.preventDefault();\r\n\t}\r\n\t\r\n\trender() {\r\n\t\r\n\t\treturn (\r\n\t\t\t<div className='container'>\r\n\t\t\t\t<form onSubmit={this.handleSubmit} >\r\n\t\t\t\t\t<h3>Sign In</h3>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<label>Email Address</label>\r\n\t\t\t\t\t\t<input type='text' className='form-control' value={this.state.username} onChange={this.userFieldChange} placeholder='Enter Username' />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<label>Password</label>\r\n\t\t\t\t\t\t<input type='password' className='form-control' value={this.state.password} onChange={this.passFieldChange} placeholder='Enter password' />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<input type='checkbox' className='form-control-input' id='customCheck1' value={this.state.remember} onChange={this.remFieldChange} />\r\n\t\t\t\t\t\t<label className='form-control-label' htmlFor='customCheck1' >Remember Me</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<button type='submit' className='btn btn-dark btn-block'>Submit</button>\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t<p className='col forgot-password text-right text-dark'>\r\n\t\t\t\t\t\t\t<Link className=\"nav-link\" to={this.props.forgotPath}>\r\n\t\t\t\t\t\t\t\tForgot password?\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</p>\r\n\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(signIn);","import React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nclass signup extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\t\t\t\r\n\t\t\tusername: '',\r\n\t\t\temail: '',\r\n\t\t\tpassword: '',\r\n\t\t\tpassword2: '',\r\n\t\t\tfirstName: '',\r\n\t\t\tlastName: '',\r\n\t\t\t\r\n\t\t\tcheckField: false,\r\n        };\r\n\t}\r\n\t\r\n\t// Wait, are Usernames a good thing for what we are doing? Hmmmm\r\n\tusernameFieldChange = (event) => {\r\n\t\tthis.setState( {username: event.target.value} )\r\n\t}\r\n\t\r\n\temailFieldChange = (event) => {\r\n\t\tthis.setState( {email: event.target.value} )\r\n\t}\r\n\t\r\n\tpassFieldChange = (event) => {\r\n\t\tthis.setState( {password: event.target.value} )\r\n\t}\r\n\t\r\n\tpass2FieldChange = (event) => {\r\n\t\tthis.setState( {password2: event.target.value} )\r\n\t}\r\n\t\r\n\tfirstNameFieldChange = (event) => {\r\n\t\tthis.setState( {firstName: event.target.value} )\r\n\t}\r\n\t\r\n\tlastnameFieldChange = (event) => {\r\n\t\tthis.setState( {lastName: event.target.value} )\r\n\t}\r\n\t\r\n\tcheckFieldChange = (event) => {\r\n\t\tthis.setState( {checkField: event.target.value} )\r\n\t}\r\n\t\r\n\thandleSubmit = event => {\r\n\t\t\r\n\t\tif (this.state.checkField) {\r\n\t\t\tconsole.log(\"Field was not checked\")\r\n\t\t}\r\n\t\t\r\n\t\tconst data = {\r\n\t\t\tusername: this.state.username,\r\n\t\t\t\r\n\t\t\tpassword: this.state.password,\r\n\t\t\tpassword2: this.state.password2,\r\n\t\t\t\r\n\t\t\temail: this.state.email,\r\n\t\t\t\r\n\t\t\tfirst_name: this.state.firstName,\r\n\t\t\tlast_name: this.state.firstName,\r\n\t\t};\r\n\t\t\r\n\t\t//DISABLE SIGNUP FOR NOW\r\n\t\t\r\n\t\t//console.log(data)\r\n\r\n\t\taxios.post(this.props.APIHost +\"/registerUser/\", data )\r\n\t\t.then( res => { \r\n\t\t\tthis.setState({ latestAttept: 200 })\r\n\t\t\tconsole.log(\"Success\")\r\n\t\t})\r\n\t\t.catch( err => {\r\n\t\t\t// Change this depending on the error...\r\n\t\t\tthis.setState({ latestAttept: 400 })\r\n\t\t\tconsole.log(err)\r\n\t\t\tconsole.log(\"Connection failed...\")\r\n\t\t})\r\n\r\n\t\tevent.preventDefault();\r\n\t}\r\n\t\r\n\trender() {\r\n\t\treturn (\r\n\t\t\r\n\t\t\t<div className=\"container\">\r\n\t\t\t\t<form  onSubmit={this.handleSubmit}>\r\n\t\t\t\t\t<h3>Sign Up</h3>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<label>Username</label>\r\n\t\t\t\t\t\t<input type='text' className='form-control' value={this.state.username} onChange={this.usernameFieldChange} placeholder='Enter Username' />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<label>Email Address</label>\r\n\t\t\t\t\t\t<input type='email' className='form-control' value={this.state.email} onChange={this.emailFieldChange} placeholder='Enter email' />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<label>Password</label>\r\n\t\t\t\t\t\t<input type='password' className='form-control' value={this.state.password} onChange={this.passFieldChange} placeholder='Enter password' />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<label>Confirm Password</label>\r\n\t\t\t\t\t\t<input type='password' className='form-control' value={this.state.password2} onChange={this.pass2FieldChange} placeholder='Confirm password' />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<label>First Name</label>\r\n\t\t\t\t\t\t<input type='text' className='form-control' value={this.state.firstName} onChange={this.firstNameFieldChange} placeholder='First Name' />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<label>Last Name</label>\r\n\t\t\t\t\t\t<input type='text' className='form-control' value={this.state.lastName} onChange={this.lastnameFieldChange} placeholder='Last Name' />\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<input type='checkbox' className='form-control-input' id='customCheck1' value={this.state.checkField} onChange={this.checkFieldChange} />\r\n\t\t\t\t\t\t<label className='form-control-label' htmlFor='customCheck1' >Legal stuff? Not sure...</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<button type='submit' className='btn btn-dark btn-block'>Submit</button>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t</form>\r\n\t\t\t\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default signup;","import React from \"react\";\r\n\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nclass forgotPassword extends React.Component {\r\n\t\t\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\r\n\t\t\temail: '',\r\n\r\n\t\t\tresetToken: '',\r\n\r\n\t\t\tcurrentState: 0,\r\n\r\n\t\t\tpassword1:'',\r\n\t\t\tpassword2:'',\r\n\r\n\t\t\tpasswordsSame: false\r\n\t\t\t\t\t\t\r\n        };\r\n\t\t\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.setState( \r\n\t\t\t{email: ''},\r\n\t\t\t{resetToken: ''},\r\n\t\t\t{password1: ''},\r\n\t\t\t{password2: ''},\r\n\t\t)\r\n\t}\r\n\r\n\tgoSignIn = () => {\r\n\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t}\r\n\r\n\tarePasswordsSame = () => {\r\n\t\t// I MAY need something more complicated than this, but it can be this for now....\r\n\t\treturn (this.state.password1 === this.state.password2)\r\n\t}\r\n\r\n\tswapToCode = () => {\r\n\t\tthis.setState( {currentState: 1} )\r\n\t}\r\n\r\n\tsendEmail = () => {\r\n\t\tthis.setState( {currentState: 1} )\r\n\t}\r\n\r\n\tcheckValue = () => {\r\n\t\tthis.setState( {currentState: 2} )\r\n\t}\r\n\r\n\tcheckPasswords = () => {\r\n\t\t// I can use the API for this...\r\n\t\tif (this.arePasswordsSame()) {\r\n\t\t\tthis.setState( {currentState: 3} )\r\n\t\t}\r\n\t}\r\n\r\n\r\n\temailFieldChange = (event) => {\r\n\t\tthis.setState( {email: event.target.value} )\r\n\t}\r\n\r\n\ttokenFieldChange = (event) => {\r\n\t\tthis.setState( {resetToken: event.target.value} )\r\n\r\n\t\tthis.arePasswordsSame()\r\n\t}\r\n\t\r\n\tpass1FieldChange = (event) => {\r\n\t\tthis.setState( {password1: event.target.value} )\r\n\r\n\t\t//this.arePasswordsSame()\r\n\t}\r\n\r\n\tpass2FieldChange = (event) => {\r\n\t\tthis.setState( {password2: event.target.value} )\r\n\r\n\t\tthis.arePasswordsSame()\r\n\t}\r\n\r\n\r\n\trender() {\r\n\r\n\t\tlet currentField = null\r\n\t\tlet currentButton = null\r\n\t\tlet currentMessage = null\r\n\r\n\t\tif (this.state.currentState === 0) {\r\n\t\t\tcurrentMessage = (\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<p> \r\n\t\t\t\t\t\t\tEnter your email address.\r\n\t\t\t\t\t\t\tIf it is in the system, we will send you an email address with a code.\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\r\n\t\t\tcurrentField = (\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t<label>Email Address</label>\r\n\t\t\t\t\t\t\t<input type='text' className='form-control' value={this.state.email} onChange={this.emailFieldChange} placeholder='Enter email' />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\r\n\t\t\tcurrentButton = [\r\n\t\t\t\t(\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<button className=\"btn btn-primary\" onClick={this.sendEmail}>\r\n\t\t\t\t\t\t\t\tSend\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t),(\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col m-2\">\r\n\t\t\t\t\t\t\t<button className=\"btn btn-primary\" onClick={this.swapToCode}>\r\n\t\t\t\t\t\t\t\tAlready have the code!\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\t]\r\n\t\t\t\t\r\n\t\t}\r\n\t\telse if (this.state.currentState === 1) {\r\n\r\n\t\t\tcurrentMessage = (\r\n\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t<p> \r\n\t\t\t\t\t\tCheck your email.\r\n\t\t\t\t\t\tIf your email is correct, then enter the code it gives you here:\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\r\n\t\t\tcurrentField = (\r\n\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<label>Reset token</label>\r\n\t\t\t\t\t\t<input type='text' className='form-control' value={this.state.resetToken} onChange={this.tokenFieldChange} placeholder='Enter Token' />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\r\n\t\t\tcurrentButton = (\r\n\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t<button className=\"btn btn-primary\" onClick={this.checkValue}>\r\n\t\t\t\t\t\tCheck...\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\telse if (this.state.currentState === 2) {\r\n\t\r\n\t\t\tcurrentMessage = [\r\n\t\t\t\t<div className=\"row\"> \r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<p> Enter your new password! </p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t]\r\n\t\t\tif (!this.arePasswordsSame()) {\r\n\t\t\t\tcurrentMessage.push(\r\n\t\t\t\t\t<div className=\"row\"> \r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<p className=\"text-danger\"> Passwords do not match! </p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\r\n\t\t\tcurrentField = [\r\n\t\t\t\t( \r\n\t\t\t\t\t<div className=\"row\"> \r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t<input type='text' className='form-control' value={this.state.resetToken} onChange={this.pass1FieldChange} placeholder='Enter Password' />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t),\r\n\t\t\t\t(\r\n\t\t\t\t\t<div className=\"row\"> \r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t<input type='text' className='form-control' value={this.state.resetToken} onChange={this.pass2FieldChange} placeholder='Re-enter Password' />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\t\r\n\t\t\t\t)\r\n\t\t\t]\r\n\t\t\tcurrentButton = (\r\n\t\t\t\t<div className=\"row\"> \r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<button className=\"btn btn-primary\" onClick={this.checkPasswords}>\r\n\t\t\t\t\t\t\tCheck...\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\telse if (this.state.currentState === 2) {\r\n\t\t\tcurrentMessage = (\r\n\t\t\t\t<div className=\"row\"> \r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<p> Password has been successfullty reset! </p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t\tcurrentField = null\r\n\r\n\t\t\tcurrentButton = (\r\n\t\t\t\t<div className=\"row\"> \r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<button className=\"btn btn-primary\" onClick={this.goSignIn}>\r\n\t\t\t\t\t\t\tSign In!\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div className='container-sm'>\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<h3> Forgot your password? </h3>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{currentMessage}\r\n\t\t\t\t{currentField}\r\n\t\t\t\t{currentButton}\r\n\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(forgotPassword);","import React from \"react\";\r\n// import axios from \"axios\";\r\n\r\nimport Store from \"store\"\r\n\r\nclass landing extends React.Component {\r\n\r\n\t// Lets test this out, before we move this over to the App js file\r\n\tconstructor(props) {\r\n        super(props);\r\n\t\tthis.chartReference = React.createRef();\r\n\t\t\r\n        this.state = {\r\n\t\t\tuserToken: null,\r\n        };\r\n\t}\r\n\t\r\n\tgetFromCookies = () => {\r\n\t\tStore.get('rememberSomething')\r\n\t};\r\n\t\r\n\trender() {\r\n\t\r\n\t\treturn (\r\n\t\t\t<div className=\"landing\">\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t<div className=\"row align-items-center my-5\">\r\n\t\t\t\t\t\t<div className=\"col-lg-12 border\">\r\n\t\t\t\t\t\t\t<h3>\r\n\t\t\t\t\t\t\t\tSample Title\r\n\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"row align-items-center my-2 border\">\r\n\t\t\t\t\t\t<div className=\"col-lg-7\">\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\tAnother set of explinations?\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col m-5 border\">\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\tExplainations ahoy!\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default landing;","import React from \"react\";\r\n// import axios from \"axios\";\r\n\r\nimport Store from \"store\"\r\nimport { Link, withRouter } from \"react-router-dom\";\r\n\r\nclass mainMenu extends React.Component {\r\n\r\n\t// Lets test this out, before we move this over to the App js file\r\n\tconstructor(props) {\r\n        super(props);\r\n\t\tthis.chartReference = React.createRef();\r\n\t\t\r\n        this.state = {\r\n\t\t\tsomething: null,\r\n        };\r\n\r\n\t\t// We are going to have to redirect from here if there is no user...\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tconsole.log(\"Check for login...\")\r\n\r\n\t\tif (this.props.currentUser === undefined) {\r\n\t\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\t}\r\n\t}\r\n\t\r\n\tgetFromCookies = () => {\r\n\t\tStore.get('rememberSomething')\r\n\t};\r\n\r\n\ttestButton = () => {\r\n\t\tconsole.log(\"Button!\")\r\n\t}\r\n\t\r\n\trender() {\r\n\t\r\n\t\treturn (\r\n\t\t\t<div className=\"mainMenu\">\r\n\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\r\n\t\t\t\t\t<div className=\"row align-items-center my-5\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\tWelcome to this barebones dashboard lookin thing!\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"row align-items-center my-5\">\r\n\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\tWrite/Edit Journal\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"card-text\">\r\n\t\t\t\t\t\t\t\t\t\tClick this button to write today's Journal\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t<Link className=\"btn btn-primary\" to={this.props.journalWriteDirect}>\r\n\t\t\t\t\t\t\t\t\t\tGo!\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\tView Past Journal\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"card-text\">\r\n\t\t\t\t\t\t\t\t\t\tView the contents and AI result of your previous Journals\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t<Link className=\"btn btn-primary\" to={this.props.journalReadDirect}>\r\n\t\t\t\t\t\t\t\t\t\tGo!\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\tView Company Summary\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"card-text\">\r\n\t\t\t\t\t\t\t\t\t\tView contents of Company Summaries, to which you belong.\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t<Link className=\"btn btn-primary\" to={this.props.companyReadDirect}>\r\n\t\t\t\t\t\t\t\t\t\tGo!\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\tCompany Edit!\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"card-text\">\r\n\t\t\t\t\t\t\t\t\t\tEdit Company Entiries to which you are Owner of\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t<Link className=\"btn btn-primary\" to={this.props.companySettingDirect}>\r\n\t\t\t\t\t\t\t\t\t\tGo!\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(mainMenu);","// Use this or localstorage?\r\nimport Store from \"store\"\r\n\r\n// Maybe I should put ALL the storage stuff here...\r\nexport const login = (tokenKey, username) => {\r\n\tStore.set('jwtSession', {user:username, token:tokenKey})\r\n}\r\n\r\nexport const logout = () => {\r\n\tStore.remove('jwtSession')\r\n}\r\n\r\nexport const isLoggedIn = () => {\r\n\tif (Store.get('jwtSession')) {\r\n\t\treturn true;\r\n\t}\r\n\t\r\n\treturn false;\r\n}\r\n\r\n// Lets try this for the Graph Data...\r\n// See if this works out okay...\r\n// The options may be overkill though...\r\nexport const getRadarEmotionData = (inputData) => {\r\n\t\r\n\tconst data = {\r\n\t\tlabels: ['Anger', 'Disgust', 'Fear', 'Joy', 'Sadness'],\r\n\t\t\tdatasets: [ \r\n\t\t\t{\r\n\t\t\t\tlabel: 'Confidence Levels',\r\n\t\t\t\tdata: inputData,\r\n\t\t\t\tbackgroundColor: 'rgba(99, 255, 132, 0.2)',\r\n\t\t\t\tborderColor: 'rgba(99, 255, 132, 1)',\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const getRadarEmotionOptions = () => {\r\n\tconst options = {\r\n\t  scale: {\r\n\t\tticks: { \r\n\t\t\tbeginAtZero: true,\r\n\t\t\tsuggestedMin: 0,\r\n\t\t\tsuggestedMax: 1,\r\n\t\t},\r\n\t  },\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\nexport const getSentimentData = (inputData) => {\r\n\tconst data = {\r\n\tlabels: ['Positive', 'Negative'],\r\n\tdatasets: [\r\n\t\t\t{\r\n\t\t\tlabel: ['Sentiment'], \r\n\t\t\tdata: inputData,\r\n\t\t\tbackgroundColor: [\r\n\t\t\t\t'rgba(99, 255, 132, 0.2)',\r\n\t\t\t\t'rgba(54, 162, 235, 0.2)',\r\n\t\t\t\t'rgba(255, 206, 86, 0.2)',\r\n\t\t\t\t'rgba(75, 192, 192, 0.2)',\r\n\t\t\t\t'rgba(153, 102, 255, 0.2)',\r\n\t\t\t\t'rgba(255, 159, 64, 0.2)',\r\n\t\t\t],\r\n\t\t\tborderColor: [\r\n\t\t\t\t'rgba(99, 255, 132, 1)',\r\n\t\t\t\t'rgba(54, 162, 235, 1)',\r\n\t\t\t\t'rgba(255, 206, 86, 1)',\r\n\t\t\t\t'rgba(75, 192, 192, 1)',\r\n\t\t\t\t'rgba(153, 102, 255, 1)',\r\n\t\t\t\t'rgba(255, 159, 64, 1)',\r\n\t\t\t],\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const getSentimentOptions = () => {\r\n\tconst options = {\r\n\t\tcutoutPercentage: 50,\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\nexport const getConceptsData = (inputData, labels) => {\r\n\tconst data = {\r\n\tlabels: labels,\r\n\tdatasets: [\r\n\t\t\t{\r\n\t\t\tlabel: 'Concepts Relevance',\r\n\t\t\tdata: inputData,\r\n\t\t\tbackgroundColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 0.2)',\r\n\t\t\t\t'rgba(54, 162, 235, 0.2)',\r\n\t\t\t\t'rgba(255, 206, 86, 0.2)',\r\n\t\t\t\t'rgba(75, 192, 192, 0.2)',\r\n\t\t\t\t'rgba(153, 102, 255, 0.2)',\r\n\t\t\t\t'rgba(255, 159, 64, 0.2)',\r\n\t\t\t],\r\n\t\t\tborderColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 1)',\r\n\t\t\t\t'rgba(54, 162, 235, 1)',\r\n\t\t\t\t'rgba(255, 206, 86, 1)',\r\n\t\t\t\t'rgba(75, 192, 192, 1)',\r\n\t\t\t\t'rgba(153, 102, 255, 1)',\r\n\t\t\t\t'rgba(255, 159, 64, 1)',\r\n\t\t\t],\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const getConceptsOptions = () => {\r\n\tconst options = {\r\n\t\tscales: {\r\n\t\t\tyAxes: [{\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t\tsuggestedMin: 0,\r\n\t\t\t\t\t\tsuggestedMax: 1,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\n// This can probobly be merged with the other one... but it is here for perhaps a color shift?\r\nexport const getCategoryData = (inputData, labels) => {\r\n\tconst data = {\r\n\tlabels: labels,\r\n\tdatasets: [\r\n\t\t\t{\r\n\t\t\tlabel: 'Categories Score',\r\n\t\t\tdata: inputData,\r\n\t\t\tbackgroundColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 0.2)',\r\n\t\t\t\t'rgba(54, 162, 235, 0.2)',\r\n\t\t\t\t'rgba(255, 206, 86, 0.2)',\r\n\t\t\t\t'rgba(75, 192, 192, 0.2)',\r\n\t\t\t\t'rgba(153, 102, 255, 0.2)',\r\n\t\t\t\t'rgba(255, 159, 64, 0.2)',\r\n\t\t\t],\r\n\t\t\tborderColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 1)',\r\n\t\t\t\t'rgba(54, 162, 235, 1)',\r\n\t\t\t\t'rgba(255, 206, 86, 1)',\r\n\t\t\t\t'rgba(75, 192, 192, 1)',\r\n\t\t\t\t'rgba(153, 102, 255, 1)',\r\n\t\t\t\t'rgba(255, 159, 64, 1)',\r\n\t\t\t],\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const getCategoryOptions = () => {\r\n\tconst options = {\r\n\t\tscales: {\r\n\t\t\tyAxes: [{\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t\tsuggestedMin: 0,\r\n\t\t\t\t\t\tsuggestedMax: 1,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\n\r\n// This is where my template stuff here?\r\nexport const getDoughData = (inputData, inputData2) => {\r\n\tconst data = {\r\n\t\tlabels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],\r\n\t\tdatasets: [\r\n\t\t\t{\r\n\t\t\t\tlabel: '# of Votes',\r\n\t\t\t\tdata: inputData,\r\n\t\t\t\tbackgroundColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 0.2)',\r\n\t\t\t\t'rgba(54, 162, 235, 0.2)',\r\n\t\t\t\t'rgba(255, 206, 86, 0.2)',\r\n\t\t\t\t'rgba(75, 192, 192, 0.2)',\r\n\t\t\t\t'rgba(153, 102, 255, 0.2)',\r\n\t\t\t\t'rgba(255, 159, 64, 0.2)',\r\n\t\t\t],\r\n\t\t\t\tborderColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 1)',\r\n\t\t\t\t'rgba(54, 162, 235, 1)',\r\n\t\t\t\t'rgba(255, 206, 86, 1)',\r\n\t\t\t\t'rgba(75, 192, 192, 1)',\r\n\t\t\t\t'rgba(153, 102, 255, 1)',\r\n\t\t\t\t'rgba(255, 159, 64, 1)',\r\n\t\t\t],\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const getDoughOptions = () => {\r\n\tconst options = {\r\n\t\tcutoutPercentage: 50,\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\nexport const getRadarData = (inputData) => {\r\n\tconst data = {\r\n\t\tlabels: ['Thing 1', 'Thing 2', 'Thing 3', 'Thing 4', 'Thing 5', 'Thing 6'],\r\n\t\t\tdatasets: [ \r\n\t\t\t{\r\n\t\t\t\tlabel: '# of Votes',\r\n\t\t\t\tdata: inputData,\r\n\t\t\t\tbackgroundColor: 'rgba(99, 255, 132, 0.2)',\r\n\t\t\t\tborderColor: 'rgba(99, 255, 132, 1)',\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const getRadarOptions = () => {\r\n\tconst options = {\r\n\t  scale: {\r\n\t\tticks: { beginAtZero: true },\r\n\t  },\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\nexport const getLineData = (inputData, inputData2) => {\r\n\tconst data = {\r\n\t\tlabels: ['Thing 1', 'Thing 2', 'Thing 3', 'Thing 4', 'Thing 5', 'Thing 6'],\r\n\t\t\tdatasets: [ \r\n\t\t\t{\r\n\t\t\t\tlabel: '# of Votes',\r\n\t\t\t\tdata: inputData,\r\n\t\t\t\tfill: false,\r\n\t\t\t\tbackgroundColor: 'rgb(99, 255, 132)',\r\n\t\t\t\tborderColor: 'rgba(99, 255, 132, 0.2)',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: '# of Votes2',\r\n\t\t\t\tdata: inputData2,\r\n\t\t\t\tfill: false,\r\n\t\t\t\tbackgroundColor: 'rgb(255, 99, 132)',\r\n\t\t\t\tborderColor: 'rgba(255, 99, 132, 0.2)',\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const getLineOptions = () => {\r\n\tconst options = {\r\n\t\tscales: {\r\n\t\t\tyAxes: [\r\n\t\t\t\t{\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\nexport const getBarData = (inputData) => {\r\n\tconst data = {\r\n\tlabels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],\r\n\tdatasets: [\r\n\t\t\t{\r\n\t\t\tlabel: '# of Votes',\r\n\t\t\tdata: inputData,\r\n\t\t\tbackgroundColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 0.2)',\r\n\t\t\t\t'rgba(54, 162, 235, 0.2)',\r\n\t\t\t\t'rgba(255, 206, 86, 0.2)',\r\n\t\t\t\t'rgba(75, 192, 192, 0.2)',\r\n\t\t\t\t'rgba(153, 102, 255, 0.2)',\r\n\t\t\t\t'rgba(255, 159, 64, 0.2)',\r\n\t\t\t],\r\n\t\t\tborderColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 1)',\r\n\t\t\t\t'rgba(54, 162, 235, 1)',\r\n\t\t\t\t'rgba(255, 206, 86, 1)',\r\n\t\t\t\t'rgba(75, 192, 192, 1)',\r\n\t\t\t\t'rgba(153, 102, 255, 1)',\r\n\t\t\t\t'rgba(255, 159, 64, 1)',\r\n\t\t\t],\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const getBarOptions = () => {\r\n\tconst options = {\r\n\t\tscales: {\r\n\t\t\tyAxes: [{\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\nexport const getScatterData = (inputData, inputData2) => {\r\n\tconst data = {\r\n\t\tlabels: ['Thing 1', 'Thing 2', 'Thing 3', 'Thing 4', 'Thing 5', 'Thing 6'],\r\n\t\t\tdatasets: [ \r\n\t\t\t{\r\n\t\t\t\tlabel: '# of Votes',\r\n\t\t\t\tdata: inputData,\r\n\t\t\t\tbackgroundColor: 'rgba(99, 255, 132, 0.2)',\r\n\t\t\t\tborderColor: 'rgba(99, 255, 132, 1)',\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: '# of Votes2',\r\n\t\t\t\tdata: inputData2,\r\n\t\t\t\tbackgroundColor: 'rgba(255, 99, 132, 0.2)',\r\n\t\t\t\tborderColor: 'rgba(255, 99, 132, 1)',\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const getScatterOptions = () => {\r\n\tconst options = {\r\n\t\tscales: {\r\n\t\t\tyAxes: [{\r\n\t\t\t\tticks: {\r\n\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t},\r\n\t\t\t},],\r\n\t\t},\r\n\t}\r\n\t\r\n\treturn options\r\n}","import React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport Store from \"store\"\r\nimport Calendar from 'react-calendar'\r\nimport 'react-calendar/dist/Calendar.css';\r\nimport { Doughnut, Radar, Bar } from 'react-chartjs-2';\r\n\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\n//import {isLoggedIn} from '../utils';\r\nimport {getRadarEmotionData, getSentimentData, getConceptsData, getCategoryData} from '../utils';\r\nimport {getRadarEmotionOptions, getSentimentOptions, getConceptsOptions, getCategoryOptions} from '../utils';\r\n\r\nclass journalView extends React.Component {\r\n\r\n\tconstructor(props) {\r\n        super(props);\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tmessages: \"Waiting for user input...\",\r\n\t\t\tjournalData: \"\",\r\n\t\t\t\r\n\t\t\tcurrentDate: new Date(),\r\n\t\t\t\r\n\t\t\t// These are the dates that we know have valid Journal entries\r\n\t\t\tvalidJournalDates: [],\r\n\t\t\t// These are the dates that we know have a valid Journal, AND an valid AI response!\r\n\t\t\tvalidJournalScanDates: [],\r\n\t\t\t\r\n\t\t\tdataCategories: getCategoryData([0], ['']),\r\n\t\t\toptionsCategories: getCategoryOptions(),\r\n\t\t\t\r\n\t\t\tdataConcepts: getConceptsData([0],['']),\r\n\t\t\toptionsConcepts: getConceptsOptions(),\r\n\t\t\t\r\n\t\t\tdataEntities: [],\r\n\t\t\tdataKeywords: [],\r\n\t\t\tdataRelations: [],\r\n\t\t\t\r\n\t\t\tdataEmotion: getRadarEmotionData([0]),\r\n\t\t\toptionsEmotions: getRadarEmotionOptions(),\r\n\t\t\t\r\n\t\t\tdataSentiment: getSentimentData([0]),\r\n\t\t\toptionsSentiment: getSentimentOptions(),\r\n\r\n        };\r\n\t\t\r\n\t\t// This doesnt look right... Fix this later I guess\r\n\t\tthis.onChange = (editorState) => this.setState({editorState});\r\n\t\tthis.setEditor = (editor) => {\r\n\t\t\tthis.editor = editor;\r\n\t\t};\r\n\t\t\r\n\t};\r\n\r\n\tbackButton = () => {\r\n\t\tthis.props.history.goBack()\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\t\r\n\t\tthis.loadFromCookies();\r\n\t\t\r\n\t};\r\n\t\r\n\tloadFromCookies = () => {\r\n\t\t// Security here given our user....\r\n\t\t// console.log(this.props.currentUser)\r\n\t\t\r\n\t\t// Change this so that it is for the currentuser, I got that up here done, but LETS TRY\r\n\t\tlet journalDates = Store.get(this.props.currentUser+'-ValidDates')\r\n\t\t\r\n\t\ttry{\r\n\t\t\tthis.setState({validJournalScanDates: journalDates.AIDates, validJournalDates: journalDates.journalDates})\r\n\t\t\tconsole.log(\"Got the journal data from the cookies\")\r\n\t\t\t\r\n\t\t} catch{\r\n\t\t\t//console.log(\"No cookies to load the data from\")\r\n\t\t}\r\n\t};\r\n\t\r\n\tloadTestData = () => {\r\n\t\t// And here is our testdata for display\r\n\t\tlet AIdata = Store.get('testData')\r\n\t\t//try{\r\n\t\t\t//console.log(AIdata)\r\n\t\t\t\r\n\t\t\t// Categories!\r\n\t\t\tconst catData = AIdata.categories\r\n\t\t\t\r\n\t\t\tlet catLabels = []\r\n\t\t\tlet catScores = []\r\n\t\t\t\r\n\t\t\tvar index;\r\n\t\t\tfor (index in catData) {\r\n\t\t\t\tconst cat = catData[index]\r\n\t\t\t\t//console.log(cat)\r\n\t\t\t\t\r\n\t\t\t\tcatLabels.push(cat.label)\r\n\t\t\t\tcatScores.push(cat.score)\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Concepts!\r\n\t\t\tconst conData = AIdata.concepts\r\n\t\t\t\r\n\t\t\tlet conLabels = []\r\n\t\t\tlet conRelevance = []\r\n\t\t\tlet conDatabase = []\r\n\t\t\t\r\n\t\t\tfor (index in conData) {\r\n\t\t\t\tconst con = conData[index]\r\n\t\t\t\t\r\n\t\t\t\tconLabels.push(con.text)\r\n\t\t\t\tconRelevance.push(con.relevance)\r\n\t\t\t\tconDatabase.push(con.dbpedia_resource)\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Emotions!\r\n\t\t\tconst emDataObj = AIdata.emotion.document.emotion\r\n\t\t\tconst emData = [emDataObj.anger, emDataObj.disgust, emDataObj.fear, emDataObj.joy, emDataObj.sadness]\r\n\t\t\t\r\n\t\t\t// Entities!\r\n\t\t\tconst entData = AIdata.entities\r\n\t\t\t\r\n\t\t\tlet entity = []\r\n\r\n\t\t\tfor (index in entData) {\r\n\t\t\t\tconst ent = entData[index]\r\n\t\t\t\t//console.log(ent)\r\n\t\t\t\t\r\n\t\t\t\t// What about this?\r\n\t\t\t\t//console.log(ent.disambiguation)\r\n\t\t\t\t\r\n\t\t\t\tconst entEmotion = [ent.emotion.anger, ent.emotion.disgust, ent.emotion.fear, ent.emotion.joy, ent.emotion.sadness]\r\n\t\t\t\t\r\n\t\t\t\tconst senDataScore = ent.sentiment.score\r\n\t\t\t\tconst oppData = 1-Math.abs(senDataScore)\r\n\t\t\t\t\r\n\t\t\t\tlet arrangedDataScore = [0, 0]\r\n\t\t\t\tif (senDataScore > 0) {\r\n\t\t\t\t\tarrangedDataScore = [senDataScore, oppData]\r\n\t\t\t\t} else {\r\n\t\t\t\t\tarrangedDataScore = [oppData, senDataScore]\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tconst entStore = {\r\n\t\t\t\t\tid:index,\r\n\t\t\t\t\t\r\n\t\t\t\t\ttext:ent.text,\r\n\t\t\t\t\ttype:ent.type,\r\n\t\t\t\t\t\r\n\t\t\t\t\tcount:ent.count,\r\n\t\t\t\t\trelevance:ent.relevance,\r\n\t\t\t\t\t\r\n\t\t\t\t\temotion:entEmotion,\r\n\t\t\t\t\tsentiment:arrangedDataScore,\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tentity.push(entStore)\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Keywords!\r\n\t\t\tconst keyData = AIdata.keywords\r\n\t\t\t\r\n\t\t\tlet keyword = []\r\n\r\n\t\t\tfor (index in keyData) {\r\n\t\t\t\tconst key = keyData[index]\r\n\t\t\t\t\r\n\t\t\t\t//console.log(key.emotion)\r\n\t\t\t\t//console.log(key.sentiment)\r\n\t\t\t\t\r\n\t\t\t\tconst keyEmotion = [key.emotion.anger, key.emotion.disgust, key.emotion.fear, key.emotion.joy, key.emotion.sadness]\r\n\t\t\t\t\r\n\t\t\t\tconst senDataScore = key.sentiment.score\r\n\t\t\t\tconst oppData = 1-Math.abs(senDataScore)\r\n\t\t\t\t\r\n\t\t\t\tlet arrangedDataScore = [0, 0]\r\n\t\t\t\tif (senDataScore > 0) {\r\n\t\t\t\t\tarrangedDataScore = [senDataScore, oppData]\r\n\t\t\t\t} else {\r\n\t\t\t\t\tarrangedDataScore = [oppData, senDataScore]\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tconst keyStore = {\r\n\t\t\t\t\tid:index,\r\n\t\t\t\t\t\r\n\t\t\t\t\ttext:key.text,\r\n\t\t\t\t\tcount:key.count,\r\n\t\t\t\t\trelevance:key.relevance,\r\n\t\t\t\t\t\r\n\t\t\t\t\temotion:keyEmotion,\r\n\t\t\t\t\tsentiment:arrangedDataScore,\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tkeyword.push(keyStore)\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Relations!\r\n\t\t\tlet relation = []\r\n\t\t\t\r\n\t\t\tconst relDat = AIdata.relations\r\n\r\n\t\t\tfor (index in relDat) {\r\n\t\t\t\tconst rel = relDat[index]\r\n\t\t\t\t\r\n\t\t\t\t// Probobly combine these?\r\n\t\t\t\t\r\n\t\t\t\tconst relStore = {\r\n\t\t\t\t\tid: index,\r\n\t\t\t\t\tinit:rel.arguments[0].text,\r\n\t\t\t\t\taction:rel.type,\r\n\t\t\t\t\ttarget:rel.arguments[1].text,\r\n\t\t\t\t\tscore:rel.score,\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\trelation.push(relStore)\r\n\r\n\t\t\t\t// How do I Show this?\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Sentiment!\r\n\t\t\tconst senDataScore = AIdata.sentiment.document.score\r\n\t\t\t\r\n\t\t\tconst senOne = 0.5*(senDataScore + 1)\r\n\t\t\tconst senOpp = 0.5*(senDataScore - 1)\r\n\t\t\t\r\n\t\t\tlet arrangedDataScore = [senOne, senOpp]\r\n\r\n\t\t\tthis.setState({\r\n\t\t\t\t\r\n\t\t\t\tdataCategories:getCategoryData(catScores, catLabels),\r\n\t\t\t\tdataConcepts:getConceptsData(conRelevance, conLabels),\r\n\t\t\t\tdataEmotion:getRadarEmotionData(emData),\r\n\t\t\t\t\r\n\t\t\t\tdataEntities: entity,\r\n\t\t\t\tdataKeywords: keyword,\r\n\t\t\t\tdataRelations: relation,\r\n\t\t\t\r\n\t\t\t\tdataSentiment:getSentimentData(arrangedDataScore),\r\n\t\t\t\t\r\n\t\t\t})\r\n\t\t\t\r\n\t\t//} catch{\r\n\t\t\t//console.log(\"Error!\")\r\n\t\t//}\r\n\t}\r\n\t\r\n\tsaveToCookies = () => {\r\n\t\t\r\n\t\tStore.set(this.props.currentUser+'-ValidDates', { journalDates:this.state.validJournalDates, AIDates:this.state.validJournalScanDates })\r\n\t\tconsole.log(\"Saved to cookies!\")\r\n\t};\r\n\t\r\n\tgetJournalDates = () => {\r\n\t\t\r\n\t\tconst config = {\r\n\t\t\theaders: { Authorization: `JWT ${this.props.authToken}` }\r\n\t\t};\r\n\t\t\r\n\t\t// IF ANY GETS FAILS DUE TO BAD TOKEN, WE NEED TO SEND IT UP THE CHAIN TO DO SOMETHING ABOUT IT\r\n\t\t\r\n\t\t// So, this will give you EVERY SINGLE VALID ENTRY WE HAVE\r\n\t\t// WITHOUT. I REPEAT. WITHOUT THE JOURNAL CONTENT\r\n\t\taxios.get(this.props.APIHost +\"/getJournalDates\", config)\r\n\t\t.then( \r\n\t\t\tres => {\r\n\t\t\t\t\r\n\t\t\t\tconsole.log(\"Got Data!\")\r\n\t\t\t\t\r\n\t\t\t\tlet tempAIArray = []\r\n\t\t\t\tlet tempJoArray = []\r\n\t\t\t\t\r\n\t\t\t\tStore.remove(this.props.currentUser+'-ValidDates')\r\n\r\n\t\t\t\tvar item = \"\"\r\n\t\t\t\tfor (item in res.data){\r\n\t\t\t\t\t\r\n\t\t\t\t\t// THESE DATES HAVE THE WRONG TIMEZONE COMING IN, SO THE RESULTING DAY CAN BE WRONG!!!!\r\n\t\t\t\t\t// CHANGE THIS!!!\r\n\t\t\t\t\tconst newDate = new Date(res.data[item].createdDate)\r\n\t\t\t\t\t\r\n\t\t\t\t\tconst checkDate = newDate.getFullYear()+\"-\"+newDate.getMonth()+\"-\"+(newDate.getDate()+1)\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (res.data[item].hasAI) {\r\n\t\t\t\t\t\ttempAIArray.push( checkDate )\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ttempJoArray.push( checkDate )\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tthis.setState({validJournalScanDates: tempAIArray, validJournalDates: tempJoArray})\r\n\t\t\t\t\r\n\t\t})\r\n\t\t.catch( err => {\r\n\t\t\tif (err.response.status === 401) {\r\n\t\t\t\tthis.props.forceLogout()\r\n\t\t\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\treturn false\r\n\t};\r\n\t\r\n\tpickDate = (selectedDate) => {\r\n\t\t\r\n\t\tconsole.log(\"requesting date\")\r\n\t\tthis.setState({currentDate: selectedDate})\r\n\t\t\r\n\t\t// Okay, so check to see if we HAVE the journal entry in our storage\r\n\t\t// If we do, show that!\r\n\t\r\n\t\t// Change this so that it is for the currentuser, I got that up here done, but LETS TRY\r\n\t\tlet journal = Store.get(this.props.currentUser+'-Journal-'+selectedDate)\r\n\t\t\r\n\t\ttry{\r\n\t\t\t\r\n\t\t\t// TO DO, THIS ONE!\r\n\t\t\tconsole.log(journal.content)\r\n\t\t\t\r\n\t\t\tconsole.log(\"Got the Journal entry from storage?!\")\r\n\t\t} catch{\r\n\t\t\t//console.log(\"No cookies to load the data from\")\r\n\t\t\r\n\t\t\t// If we DONT, ask the server\r\n\t\t\t// need to be able to check if it was changed...\r\n\t\t\t// Probobly need to add a \"last Edited\" field...\r\n\t\t\t// And and edit history... but that is for later\r\n\t\t\t\r\n\t\t\tconst config = {\r\n\t\t\t\t//headers: { Authorization: `JWT ${this.props.authToken}` }\r\n\t\t\t\theaders: { Authorization: `JWT asdkjdsakjldsajklsd` }\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\tconsole.log(\"requesting date\")\r\n\t\t\tthis.setState({currentDate: selectedDate})\r\n\t\t\t\r\n\t\t\tconst dateReq = selectedDate.toJSON().split(\"T\")[0]\r\n\t\t\t\r\n\t\t\taxios.get(this.props.APIHost +\"/getUserJournal/?reqDate=\"+dateReq, config)\r\n\t\t\t.then( \r\n\t\t\t\tres => {\r\n\t\t\t\t\t// What if it is > 1?\r\n\t\t\t\t\tif (res.data.length > 0) {\r\n\t\t\t\t\t\tconsole.log(\"obtained a journal entry\")\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (res.data[0].hasAI) {\r\n\t\t\t\t\t\t\tconsole.log(\"Saved to the storage\")\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t// Save in the cookies for non-login access...\r\n\t\t\t\t\t\t\tStore.set('testData', res.data[0].AIresult)\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tthis.loadTestData()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.setState( {\r\n\t\t\t\t\t\t\tmessages: \"Showing Journal Entry for: \" + this.state.currentDate.toString(),\r\n\t\t\t\t\t\t\tjournalDisp: res.data[0].content,\r\n\t\t\t\t\t\t} )\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tconsole.log(\"No entry for that day\")\r\n\t\t\t\t\t\tthis.setState( {\r\n\t\t\t\t\t\t\tmessages: \"No entry for that day\",\r\n\t\t\t\t\t\t\tjournalDisp: \"\",\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// LEts not store it in the cookies for now...\r\n\t\t\t})\r\n\t\t\t.catch( err => {\r\n\t\t\t\t\r\n\t\t\t\tif (err.response.status === 401) {\r\n\t\t\t\t\tthis.props.forceLogout()\r\n\t\t\t\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t});\r\n\t\t\r\n\t\t}\r\n\t};\r\n\t\r\n\tforceCalenderUpdateTest = () => {\r\n\t\t\r\n\t}\r\n\r\n\trender() {\r\n\t\t\r\n\t\tconst tileClassName = ({ date, view }) => {\r\n\t\t\r\n\t\t\t// Add class to tiles in month view only\r\n\t\t\tif (view === 'month') {\r\n\t\t\t\t\r\n\t\t\t\tconst checkDate = date.getFullYear()+\"-\"+date.getMonth()+\"-\"+date.getDate()\r\n\t\t\t\t\r\n\t\t\t\t//console.log(checkDate)\r\n\t\t\t\t//console.log(this.state.validJournalDates)\r\n\r\n\t\t\t\t// Check if a date React-Calendar wants to check is on the list of dates to add class to\r\n\t\t\t\tconst hasJournal = this.state.validJournalDates.find( element => element === checkDate)\r\n\t\t\t\tconst hasAI = this.state.validJournalScanDates.find( element => element === checkDate)\r\n\t\t\t\t\r\n\t\t\t\tif (hasAI) {\r\n\t\t\t\t\treturn 'btn btn-success';\r\n\t\t\t\t} else if (hasJournal) {\r\n\t\t\t\t\treturn 'btn btn-warning'\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// use the default styling...\r\n\t\t\t\t\t//return 'btn btn-outline-dark'\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t// Entities\r\n\t\tvar entitiesDisplay = [];\r\n\t\t\r\n\t\tif (this.state.dataEntities.length > 0) { \r\n\t\t\tvar index;\r\n\t\t\tfor (index in this.state.dataEntities) {\r\n\t\t\t\tconst ent = this.state.dataEntities[index]\r\n\t\t\t\t\r\n\t\t\t\tconst emotionData = getRadarEmotionData(ent.emotion)\r\n\t\t\t\tconst sentimentData = getSentimentData(ent.sentiment)\r\n\t\t\t\t\r\n\t\t\t\tentitiesDisplay.push(\r\n\t\t\t\t\t<tr key={ent.id}>\r\n\t\t\t\t\t\t<th scope=\"row\">{ent.text}</th>\r\n\t\t\t\t\t\t<td>{ent.type}</td>\r\n\t\t\t\t\t\t<td>{ent.count}</td>\r\n\t\t\t\t\t\t<td>{ent.relevance}</td>\r\n\t\t\t\t\t\t<td> <Radar ref={this.chartReference} data={emotionData} options={this.state.optionsEmotions} /> </td>\r\n\t\t\t\t\t\t<td> <Doughnut ref={this.chartReference} data={sentimentData} options={this.state.optionsSentiment} /> </td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t}\r\n\t\t\r\n\t\t// Keywords\r\n\t\tvar keywordsDisplay = [];\r\n\t\t\r\n\t\tif (this.state.dataKeywords.length > 0) { \r\n\t\t\tfor (index in this.state.dataKeywords) {\r\n\t\t\t\tconst key = this.state.dataKeywords[index]\r\n\t\t\t\t\r\n\t\t\t\tconst emotionData = getRadarEmotionData(key.emotion)\r\n\t\t\t\tconst sentimentData = getSentimentData(key.sentiment)\r\n\t\t\t\t\r\n\t\t\t\tkeywordsDisplay.push(\r\n\t\t\t\t\t<tr key={key.id}>\r\n\t\t\t\t\t\t<th scope=\"row\">{key.text}</th>\r\n\t\t\t\t\t\t<td>{key.count}</td>\r\n\t\t\t\t\t\t<td><Radar ref={this.chartReference} data={emotionData} options={this.state.optionsEmotions} /></td>\r\n\t\t\t\t\t\t<td><Doughnut ref={this.chartReference} data={sentimentData} options={this.state.optionsSentiment} /></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t}\r\n\t\t\r\n\t\t// R E L A T I O N S\r\n\t\tvar relationsDisplay = [];\r\n\t\t\r\n\t\tif (this.state.dataRelations.length > 0) { \r\n\t\t\r\n\t\t\tfor (index in this.state.dataRelations) {\r\n\t\t\t\tconst rel = this.state.dataRelations[index]\r\n\t\t\t\trelationsDisplay.push(\r\n\t\t\t\t\t<tr key={rel.id}>\r\n\t\t\t\t\t\t<th scope=\"row\">{rel.init}</th>\r\n\t\t\t\t\t\t<td>{rel.action}</td>\r\n\t\t\t\t\t\t<td>{rel.target}</td>\r\n\t\t\t\t\t\t<td>{rel.score}</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className=\"mainView\">\r\n\t\t\t\t\r\n\t\t\t\t<div className=\"container\">\r\n\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-sm-3 m-2\">\t\r\n\t\t\t\t\t\t\t<button className=\"btn btn-primary\" onClick={this.backButton}>\r\n\t\t\t\t\t\t\t\tGo Back\r\n\t\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-sm m-2\">\t\r\n\t\t\t\t\t\t\tPage Title Test!\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"row \">\r\n\t\t\t\t\t\t<div className=\"col-lg-3 border m-2\">\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<Calendar \r\n\t\t\t\t\t\t\t\t\tonChange={this.pickDate}\r\n\t\t\t\t\t\t\t\t\tvalue={this.state.currentDate}\r\n\t\t\t\t\t\t\t\t\ttileClassName={tileClassName}\r\n\r\n\t\t\t\t\t\t\t\t\tminDetail={'year'}\r\n\t\t\t\t\t\t\t\t\tmaxDetail={'month'}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col border m-2\">\t\t\t\t\t\r\n\t\t\t\t\t\t\t<p>{this.state.messages}</p>\r\n\t\t\t\t\t\t\t<p>{this.state.journalDisp}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"row my-2\">\r\n\t\t\t\t\t\t<div className=\"col border mx-2\">\r\n\t\t\t\t\t\t\t<Radar ref={this.chartReference} data={this.state.dataEmotion} options={this.state.optionsEmotions} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col border mx-2\">\r\n\t\t\t\t\t\t\t<Doughnut ref={this.chartReference} data={this.state.dataSentiment} options={this.state.optionsSentiment} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"row  my-2\">\r\n\t\t\t\t\t\t<div className=\"col border mx-2\">\r\n\t\t\t\t\t\t\t<Bar ref={this.chartReference} data={this.state.dataCategories} options={this.state.optionsCategories} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col border mx-2\">\r\n\t\t\t\t\t\t\t<Bar ref={this.chartReference} data={this.state.dataConcepts} options={this.state.optionsConcepts} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"row my-2\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<h3>Entities!</h3>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<table className=\"table\">\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\">Name</th>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\">Type</th>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\">#Appearances</th>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\">Relevance Score</th>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\">Emotion</th>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\">Sentiment</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{entitiesDisplay}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"row my-2\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<h3>Keywords!</h3>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<table className=\"table\">\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\">Word</th>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\">#Appearances</th>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\">Emotion</th>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\">Sentiment</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{keywordsDisplay}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"row my-2\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<h3>Relations!</h3>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<table className=\"table\">\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\">Thing</th>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\">Action</th>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\">Target</th>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\">Score</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{relationsDisplay}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"row my-2\">\r\n\t\t\t\t\t\t<div className=\"col-lg-2 border mx-2\">\r\n\t\t\t\t\t\t\t<p> Debug! </p>\r\n\t\t\t\t\t\t\t<button onClick={this.loadTestData}> Load Data </button>\r\n\t\t\t\t\t\t\t<button onClick={this.getJournalDates}> Get dates </button>\r\n\t\t\t\t\t\t\t<button onClick={this.saveToCookies}> Save dates </button>\r\n\t\t\t\t\t\t\t<button onClick={this.loadFromCookies}> Load dates </button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"row  my-2\">\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\tPADDING\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(journalView);","import React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport { withRouter } from \"react-router-dom\";\r\n//import Store from \"store\"\r\nimport {Editor, EditorState, RichUtils, ContentState} from 'draft-js';\r\n\r\nconst styles = {\r\n  editor: {\r\n    border: '1px solid gray',\r\n    minHeight: '6em'\r\n  }\r\n};\r\n\r\nclass journalView extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n        super(props);\r\n\t\t\r\n\t\tconst today = new Date()\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tcurrentDate: today,\r\n\t\t\t\r\n\t\t\tmessages: \"Creating journal for: \" + today.toJSON().split(\"T\")[0],\r\n\t\t\t\r\n\t\t\teditorState: EditorState.createEmpty(),\r\n\t\t\tjournalPlaceolder: \"\",\r\n\r\n        };\r\n\t\t\r\n\t\t// This doesnt look right... Fix this later I guess\r\n\t\tthis.onChange = (editorState) => this.setState({editorState});\r\n\t\tthis.setEditor = (editor) => {\r\n\t\t\tthis.editor = editor;\r\n\t\t};\r\n\t\t\r\n\t};\r\n\r\n\tbackButton = () => {\r\n\t\tthis.props.history.goBack()\r\n\t}\r\n\r\n\t// Lets test a POST request then!\r\n\tsaveJournal = () => {\r\n\t\t\r\n\t\tconst config = {\r\n\t\t\theaders: { Authorization: `JWT ${this.props.authToken}` }\r\n\t\t};\r\n\t\t\r\n\t\tconst data = {\r\n\t\t\tshorthand: 'made from the website (random code needed)',\r\n\t\t\t\r\n\t\t\t// This is my workaround before I learn what ACTUALLY TO DO HERE\r\n\t\t\tauthor: '',\r\n\t\t\r\n\t\t\t// It SHOULD be sufficient to use the current date...\r\n\t\t\t// Because the journal transitions on date changes...\t\t\r\n\t\t\tcreatedDate: this.state.currentDate.toJSON().split(\"T\")[0],\r\n\t\t\t\r\n\t\t\t// Same here, Should be able to do this...\r\n\t\t\t// The question is, is this an \"overwrite\" or just an add?\r\n\t\t\tcontent: this.state.editorState.getCurrentContent().getPlainText(),\r\n\t\t};\r\n\t\t\r\n\t\t//console.log(data.content)\r\n\t\t\r\n\t\taxios.post(this.props.APIHost +\"/saveUserJournal/\", data, config )\r\n\t\t.then( res => { \r\n\t\t\r\n\t\t\tconsole.log(res)\r\n\t\t\tconsole.log(\"Success\")\r\n\t\t\t\r\n\t\t})\r\n\t\t.catch( err => {\r\n\t\t\t// Change this depending on the error...\r\n\t\t\tif (err.response.status === 401) {\r\n\t\t\t\tthis.props.forceLogout()\r\n\t\t\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tchangeJournal = (content) => {\r\n\t\t\r\n\t\t//let currentContent = this.state.editorState.getCurrentContent()\r\n\t\t\r\n\t\tlet newContent = ContentState.createFromText( content )\r\n\t\tlet newState = EditorState.createWithContent( newContent )\r\n\t\t\r\n\t\tthis.setState( {editorState: newState} )\r\n\t\t\r\n\t};\r\n\r\n\tonBoldClick = () => {\r\n\t\tthis.onChange(RichUtils.toggleInlineStyle(this.state.editorState, 'BOLD'));\r\n\t}\r\n\t\r\n\thandleKeyCommand = (command, editorState) => {\r\n\t\tconst newState = RichUtils.handleKeyCommand(editorState, command);\r\n\r\n\t\tif (newState) {\r\n\t\t\tthis.onChange(newState);\r\n\t\t\treturn 'handled';\r\n\t\t}\r\n\r\n\t\treturn 'not-handled';\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"makeView\">\r\n\t\t\t\t<div className=\"container\">\r\n\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-sm-3 m-2\">\t\r\n\t\t\t\t\t\t\t<button className=\"btn btn-primary\" onClick={this.backButton}>\r\n\t\t\t\t\t\t\t\tGo Back\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-sm m-2\">\t\r\n\t\t\t\t\t\t\tPage Title Test!\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t{this.state.messages}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col border mx-2 my-2\">\t\t\r\n\t\t\t\t\t\t\t<button onClick={this.onBoldClick.bind(this)}>Bold</button>\r\n\t\t\t\t\t\t\t<div style={styles.editor} >\r\n\t\t\t\t\t\t\t\t<Editor\r\n\t\t\t\t\t\t\t\t  ref={this.setEditor}\r\n\t\t\t\t\t\t\t\t  editorState={this.state.editorState}\r\n\t\t\t\t\t\t\t\t  onChange={this.onChange}\r\n\t\t\t\t\t\t\t\t  handleKeyCommand={this.handleKeyCommand}\r\n\t\t\t\t\t\t\t\t  \r\n\t\t\t\t\t\t\t\t  placeholder={this.state.journalPlaceolder}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<button onClick={this.saveJournal}> Save current Journal entry </button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default withRouter(journalView);","import React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport Store from \"store\"\r\nimport Calendar from 'react-calendar'\r\nimport 'react-calendar/dist/Calendar.css';\r\n\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { Doughnut, Radar, Bar } from 'react-chartjs-2';\r\n\r\nimport { ProgressBar } from 'react-bootstrap';\r\n\r\nimport {getRadarEmotionData, getSentimentData, getConceptsData, getCategoryData} from '../utils';\r\nimport {getRadarEmotionOptions, getSentimentOptions, getConceptsOptions, getCategoryOptions} from '../utils';\r\n\r\n\r\nclass companyView extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n        super(props);\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\t// Change this up to be a bit better,merge things together...\r\n\t\t\tdropMessage: 'Select Company=>',\r\n\t\t\tcurrentCompany: \"None\",\r\n\t\t\r\n\t\t\tcompanyList: [],\r\n\t\t\t\r\n\t\t\t// These are the dates that we know have valid Summary Entries...\r\n\t\t\tvalidSummaryDates: [],\r\n\t\t\t\r\n\t\t\tmessages: \"Waiting for user input...\",\r\n\t\t\tcompanyDisp:'',\r\n\t\t\t\r\n\t\t\tcurrentDate: new Date(),\r\n\t\t\t\r\n\t\t\tresponsePurity: 0,\r\n\t\t\t\r\n\t\t\tdataCategories: getCategoryData([0], ['']),\r\n\t\t\toptionsCategories: getCategoryOptions(),\r\n\t\t\t\r\n\t\t\tdataConcepts: getConceptsData([0], ['']),\r\n\t\t\toptionsConcepts: getConceptsOptions(),\r\n\t\t\t\r\n\t\t\tdataEntities: [],\r\n\t\t\tdataKeywords: [],\r\n\t\t\tdataRelations: [],\r\n\t\t\t\r\n\t\t\tdataEmotion: getRadarEmotionData([0]),\r\n\t\t\toptionsEmotions: getRadarEmotionOptions(),\r\n\t\t\t\r\n\t\t\tdataSentiment: getSentimentData([0]),\r\n\t\t\toptionsSentiment: getSentimentOptions(),\r\n\t\t\t\r\n        };\r\n\t\t\r\n\t};\r\n\r\n\tbackButton = () => {\r\n\t\tthis.props.history.goBack()\r\n\t}\r\n\t\r\n\tloadTestData = () => {\r\n\t\t// And here is our testdata for display\r\n\t\tlet AIdata = Store.get('testSummaryData')\r\n\t\t//try{\r\n\t\t\t\r\n\t\t\t//console.log(AIdata)\r\n\t\t\t// This AI data is going to be a Liiiiiittle more complex...\r\n\t\t\t\r\n\t\t\t//console.log(AIdata.ResponsePurity)\r\n\t\t\t\r\n\t\t\t// Categories!\r\n\t\t\tconst catData = AIdata.categories\r\n\t\t\t\r\n\t\t\tlet catLabels = []\r\n\t\t\tlet catScores = []\r\n\t\t\t\r\n\t\t\tvar index;\r\n\t\t\tvar batchIndex;\r\n\t\t\tfor (index in catData) {\r\n\t\t\t\tconst cat = catData[index]\r\n\t\t\t\t\r\n\t\t\t\tvar maxVal = 0\r\n\t\t\t\tvar relSum = 0\r\n\t\t\t\tfor (batchIndex in cat.batchData) {\r\n\t\t\t\t\tconst catRel = cat.batchData[batchIndex]\r\n\t\t\t\t\t// For now, we will average this...\r\n\t\t\t\t\trelSum += catRel.score\r\n\t\t\t\t\tmaxVal += 1\r\n\t\t\t\t}\r\n\t\t\t\trelSum /= maxVal\r\n\t\t\t\t\r\n\t\t\t\tcatLabels.push(index)\r\n\t\t\t\tcatScores.push(relSum)\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Concepts!\r\n\t\t\tconst conData = AIdata.concepts\r\n\t\t\t//console.log(conData)\r\n\t\t\tlet conLabels = []\r\n\t\t\tlet conRelevance = []\r\n\t\t\tlet conDatabase = []\r\n\t\t\t\r\n\t\t\tvar i\r\n\t\t\t\r\n\t\t\tfor (index in conData) {\r\n\t\t\t\tconst con = conData[index]\r\n\t\t\t\t\r\n\t\t\t\tmaxVal = 0\r\n\t\t\t\tlet conSum = 0\r\n\t\t\t\t\r\n\t\t\t\tfor (i in con.batchData) {\r\n\t\t\t\t\tconSum += con.batchData[i]\r\n\t\t\t\t\tmaxVal += 1\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tconSum /= maxVal\r\n\t\t\t\t\r\n\t\t\t\tconLabels.push(index)\r\n\t\t\t\tconRelevance.push(conSum)\r\n\t\t\t\tconDatabase.push(con.dbpedia_resource)\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Emotions!\r\n\t\t\t\r\n\t\t\t// Doin average for now!\r\n\t\t\tmaxVal = 0\r\n\t\t\tvar emSum = [0,0,0,0,0]\r\n\t\t\tvar emSet = []\r\n\t\t\t\r\n\t\t\tconst emDataObj = AIdata.emotion\r\n\t\t\tfor (index in emDataObj) {\r\n\t\t\t\tconst emData = emDataObj[index]\r\n\t\t\t\tconst totalData = [emData.anger, emData.disgust, emData.fear, emData.joy, emData.sadness]\r\n\t\t\t\t\r\n\t\t\t\tmaxVal += 1\r\n\t\t\t\tfor( i in emSum ){\r\n\t\t\t\t\temSum[i] += totalData[i]\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\temSet.push(totalData)\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\tfor( i in emSum ){\r\n\t\t\t\temSum[i] /= maxVal\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Redo this for later...\r\n\t\t\temSet.unshift(emSum)\r\n\t\t\t\r\n\t\t\t// Entities!\r\n\t\t\tconst entData = AIdata.entities\r\n\t\t\t//console.log(entData)\r\n\t\t\t\r\n\t\t\t// The current form of the name being the key is probobly EXTREMELY BAD form?\r\n\t\t\t// Change that later I guess...\r\n\t\t\tlet entity = []\r\n\r\n\t\t\tfor (index in entData) {\r\n\t\t\t\tconst ent = entData[index]\r\n\t\t\t\t//console.log(ent)\r\n\r\n\t\t\t\tlet entEmSum = [0,0,0,0,0]\r\n\t\t\t\tlet entRelSum = 0\r\n\t\t\t\tlet entSenSum = 0\r\n\t\t\t\tlet entConSum = 0\r\n\t\t\t\tmaxVal = 0\r\n\t\t\t\t\r\n\t\t\t\tfor (i in ent.batchData) {\r\n\t\t\t\t\tconst entData = ent.batchData[i]\r\n\t\t\t\t\t\r\n\t\t\t\t\tconst entEmotion = [entData.emotion.anger, entData.emotion.disgust, entData.emotion.fear, entData.emotion.joy, entData.emotion.sadness]\r\n\t\t\t\t\tfor( i in entEmSum ){\r\n\t\t\t\t\t\tentEmSum[i] += entEmotion[i]\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tentConSum += entData.confidence\r\n\t\t\t\t\tentRelSum += entData.relevance\r\n\t\t\t\t\tentSenSum += entData.sentiment.score\r\n\t\t\t\t\t\r\n\t\t\t\t\tmaxVal += 1\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor( i in entEmSum ){\r\n\t\t\t\t\tentEmSum[i] /= maxVal\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tentConSum /= maxVal\r\n\t\t\t\tentSenSum /= maxVal\r\n\t\t\t\tentRelSum /= maxVal\r\n\r\n\t\t\t\t//console.log(entSenSum/maxVal)\r\n\t\t\t\tconst entSenOne = 0.5*(entSenSum/maxVal + 1)\r\n\t\t\t\tconst entSenOpp = 0.5*(entSenSum/maxVal - 1)\r\n\t\t\t\t\r\n\t\t\t\tlet entSenScore = [entSenOne, entSenOpp]\r\n\t\t\t\t\r\n\t\t\t\tconst entStore = {\r\n\t\t\t\t\tid:index,\r\n\t\t\t\t\t\r\n\t\t\t\t\ttext:index,\r\n\t\t\t\t\ttype:ent.type,\r\n\t\t\t\t\t\r\n\t\t\t\t\tcount:ent.batchData.length,\r\n\t\t\t\t\trelevance:entRelSum,\r\n\t\t\t\t\tconfidence:entConSum,\r\n\r\n\t\t\t\t\temotion:entEmSum,\r\n\t\t\t\t\tsentiment:entSenScore,\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tentity.push(entStore)\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Keywords!\r\n\t\t\tconst keyData = AIdata.keywords\r\n\t\t\t\r\n\t\t\tlet keyword = []\r\n\r\n\t\t\tfor (index in keyData) {\r\n\t\t\t\tconst key = keyData[index]\r\n\t\t\t\t//console.log(key)\r\n\r\n\t\t\t\t//console.log(key.emotion)\r\n\t\t\t\t//console.log(key.sentiment)\r\n\t\t\t\t\r\n\t\t\t\tlet keyEmSum = [0,0,0,0,0]\r\n\t\t\t\tlet keyRelSum = 0\r\n\t\t\t\tlet keySenSum = 0\r\n\t\t\t\tmaxVal = 0\r\n\t\t\t\t\r\n\t\t\t\tfor (i in key.batchData) {\r\n\t\t\t\t\tconst keyData = key.batchData[i]\r\n\t\t\t\t\t\r\n\t\t\t\t\tconst keyEmotion = [keyData.emotion.anger, keyData.emotion.disgust, keyData.emotion.fear, keyData.emotion.joy, keyData.emotion.sadness]\r\n\t\t\t\t\tfor( i in keyEmSum ){\r\n\t\t\t\t\t\tkeyEmSum[i] += keyEmotion[i]\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tkeyRelSum += keyData.relevance\r\n\t\t\t\t\tkeySenSum += keyData.sentiment.score\r\n\t\t\t\t\t\r\n\t\t\t\t\tmaxVal += 1\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tfor( i in keyEmSum ){\r\n\t\t\t\t\tkeyEmSum[i] /= maxVal\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tkeySenSum /= maxVal\r\n\t\t\t\tkeyRelSum /= maxVal\r\n\t\t\t\t\r\n\t\t\t\tconst keySenOne = 0.5*(keySenSum/maxVal + 1) \r\n\t\t\t\tconst keySenOpp = 0.5*(keySenSum/maxVal - 1) \r\n\t\t\t\t\r\n\t\t\t\tlet keySenScore = [keySenOne, keySenOpp]\r\n\t\t\t\t\r\n\t\t\t\tconst keyStore = {\r\n\t\t\t\t\tid:index,\r\n\t\t\t\t\t\r\n\t\t\t\t\ttext:index,\r\n\t\t\t\t\tcount:key.totalCount,\r\n\t\t\t\t\trelevance:keyRelSum,\r\n\t\t\t\t\t\r\n\t\t\t\t\temotion:keyEmSum,\r\n\t\t\t\t\tsentiment:keySenScore,\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tkeyword.push(keyStore)\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Relations!\r\n\t\t\t/*let relation = []\r\n\t\t\t\r\n\t\t\tconst relDat = AIdata.relations\r\n\t\t\t//console.log(relDat)\r\n\r\n\t\t\tfor (index in relDat) {\r\n\t\t\t\tconst rel = relDat[index]\r\n\t\t\t\t\r\n\t\t\t\t// Probobly combine these?\r\n\t\t\t\t\r\n\t\t\t\tconst relStore = {\r\n\t\t\t\t\tid: index,\r\n\t\t\t\t\tinit:rel.arguments[0].text,\r\n\t\t\t\t\taction:rel.type,\r\n\t\t\t\t\ttarget:rel.arguments[1].text,\r\n\t\t\t\t\tscore:rel.score,\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\trelation.push(relStore)\r\n\r\n\t\t\t}*/\r\n\t\t\r\n\t\t\tmaxVal = 0\r\n\t\t\tlet senSum = 0\r\n\t\t\r\n\t\t\t// Sentiment!\r\n\t\t\tconst senDataScore = AIdata.sentiment\r\n\t\t\tfor (index in senDataScore) {\r\n\t\t\t\tsenSum += senDataScore[index].score\r\n\t\t\t\tmaxVal += 1\r\n\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\tconst senOne = 0.5*(senSum/maxVal + 1) \r\n\t\t\tconst senOpp = 0.5*(senSum/maxVal - 1) \r\n\t\t\t\r\n\t\t\tlet arrangedDataScore = [senOne, senOpp]\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\t\r\n\t\t\t\tresponsePurity:AIdata.ResponsePurity,\r\n\t\t\t\t\r\n\t\t\t\tdataCategories:getCategoryData(catScores, catLabels),\r\n\t\t\t\tdataConcepts:getConceptsData(conRelevance, conLabels),\r\n\t\t\t\tdataEmotion:getRadarEmotionData(emSum),\r\n\t\t\t\t\r\n\t\t\t\tdataEntities: entity,\r\n\t\t\t\tdataKeywords: keyword,\r\n\t\t\t\t//dataRelations: relation,\r\n\t\t\t\r\n\t\t\t\tdataSentiment:getSentimentData(arrangedDataScore),\r\n\t\t\t\t\r\n\t\t\t})\r\n\t\t\t\r\n\t\t//} catch{\r\n\t\t\t//console.log(\"Error!\")\r\n\t\t//}\r\n\t}\r\n\t\r\n\tgetCookiesValidDates = () => {\r\n\t\tlet getDates = Store.get(this.props.currentUser+'-'+this.state.currentCompany+'-ValidDates')\r\n\t\t\r\n\t\ttry {\r\n\t\t\tthis.setState({validSummaryDates: getDates['dates']})\r\n\t\t}\r\n\t\tcatch {\r\n\t\t\tconsole.log(\"Not in the cookies\")\r\n\t\t}\r\n\t}\r\n\t\r\n\tgetValidDates = () => {\r\n\t\t\r\n\t\tif (this.state.currentCompany === \"None\") {\r\n\t\t\tconsole.log(\"Select Valid Company!\")\r\n\t\t\treturn false\r\n\t\t}\r\n\t\t\r\n\t\tconst config = {\r\n\t\t\theaders: { Authorization: `JWT ${this.props.authToken}` }\r\n\t\t};\r\n\t\t\r\n\t\taxios.get(this.props.APIHost + \"/getCompanyDates?reComp=\"+this.state.currentCompany, config)\r\n\t\t.then( \tres => {\r\n\t\t\t\tlet tempSumArray = []\r\n\t\t\t\t\r\n\t\t\t\tconsole.log(\"Got Valid Dates!\")\r\n\t\t\t\tStore.remove(this.props.currentUser+'-'+this.state.currentCompany+'-ValidDates')\r\n\r\n\t\t\t\tvar item = \"\"\r\n\t\t\t\tfor (item in res.data){\r\n\t\t\t\t\t\r\n\t\t\t\t\t// THESE DATES HAVE THE WRONG TIMEZONE COMING IN, SO THE RESULTING DAY CAN BE WRONG!!!!\r\n\t\t\t\t\t// CHANGE THIS!!!\r\n\t\t\t\t\tconst newDate = new Date(res.data[item].forDate)\r\n\t\t\t\t\tconst checkDate = newDate.getFullYear()+\"-\"+newDate.getMonth()+\"-\"+(newDate.getDate()+1)\r\n\t\t\t\t\r\n\t\t\t\t\ttempSumArray.push( checkDate )\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tStore.set(this.props.currentUser+'-'+this.state.currentCompany+'-ValidDates', {'dates':tempSumArray})\r\n\t\t\t\t//console.log(tempSumArray)\r\n\t\t\t\t\r\n\t\t\t\tthis.setState({validSummaryDates: tempSumArray})\r\n\t\t})\r\n\t\t.catch( err => {\r\n\t\t\tif (err.response.status === 401) {\r\n\t\t\t\tthis.props.forceLogout()\r\n\t\t\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t\r\n\tgetCompanyList = () => {\r\n\t\t\r\n\t\tconst config = {\r\n\t\t\theaders: { Authorization: `JWT ${this.props.authToken}` }\r\n\t\t};\r\n\t\r\n\t\taxios.get(this.props.APIHost +\"/getUsersCompanies\", config)\r\n\t\t.then( \tres => {\r\n\t\t\t\t// Should respond with a 1 length thing\r\n\t\t\t\tif (res.data.length > 0) {\r\n\t\t\t\t\t// Normal behaviour\r\n\t\t\t\t\tconsole.log(\"Got the list of companies\")\r\n\t\t\t\t\t//console.log(res)\r\n\t\t\t\t\t\r\n\t\t\t\t\t// Companies this user is 'owner' of\r\n\t\t\t\t\t//console.log(res.data[0].companyOwner)\r\n\t\t\t\t\t// Companies that this user is Allowed to see\r\n\t\t\t\t\t//console.log(res.data[0].companyAllowsView)\r\n\t\t\t\t\t// Companies this user is sent updates on\r\n\t\t\t\t\t//console.log(res.data[0].companySendsTo)\r\n\t\t\t\t\t\r\n\t\t\t\t\t// Merge these three into a single set for viewing for now?\r\n\t\t\t\t\tlet adding = []\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar index;\r\n\t\t\t\t\tfor (index in res.data[0].companyOwner) {\r\n\t\t\t\t\t\tlet name = res.data[0].companyOwner[index]\r\n\t\t\t\t\t\tif ( !adding.includes(name) ) {\r\n\t\t\t\t\t\t\tadding.push(name)\r\n\t\t\t\t\t\t\t//console.log(name)\r\n\t\t\t\t\t\t}\t\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor (index in res.data[0].companyAllowsView) {\r\n\t\t\t\t\t\tlet name = res.data[0].companyAllowsView[index]\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif ( !adding.includes(name) ) {\r\n\t\t\t\t\t\t\tadding.push(name)\r\n\t\t\t\t\t\t\t//console.log(name)\r\n\t\t\t\t\t\t}\t\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor (index in res.data[0].companySendsTo) {\r\n\t\t\t\t\t\tlet name = res.data[0].companySendsTo[index]\r\n\t\t\t\t\t\tif ( !adding.includes(name) ) {\r\n\t\t\t\t\t\t\tadding.push(name)\r\n\t\t\t\t\t\t\t//console.log(name)\r\n\t\t\t\t\t\t}\t\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.setState({companyList: adding})\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\t// This should not trigger\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch( err => {\r\n\t\t\t\tif (err.response.status === 401) {\r\n\t\t\t\t\tthis.props.forceLogout()\r\n\t\t\t\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\t\r\n\tpickDate = (selectedDate) => {\r\n\t\t\r\n\t\tif (this.state.currentCompany === \"None\") {\r\n\t\t\tconsole.log(\"Select Valid Company!\")\r\n\t\t\treturn false\r\n\t\t}\r\n\t\t\r\n\t\tconsole.log(\"requesting date\")\r\n\t\tthis.setState({currentDate: selectedDate})\r\n\t\t\r\n\t\t// Okay, so check to see if we HAVE the journal entry in our storage\r\n\t\t// If we do, show that!\r\n\t\r\n\t\t// Change this so that it is for the currentuser, I got that up here done, but LETS TRY\r\n\t\tlet summaryData = Store.get(this.props.currentUser+'-'+this.state.currentCompany+'-Summary-'+selectedDate)\r\n\t\t\r\n\t\ttry{\r\n\t\t\t\r\n\t\t\t// TO DO, THIS ONE!\r\n\t\t\tconsole.log(summaryData.content)\r\n\t\t\tconsole.log(\"Got the summary entry from storage?!\")\r\n\t\t} catch{\r\n\t\t\t\r\n\t\t\t// So, we need to get the summary data from the server...\r\n\t\t\t// We need the company name we want here, and the user, which we have...\r\n\t\t\t\r\n\t\t\tconst config = {\r\n\t\t\t\theaders: { Authorization: `JWT ${this.props.authToken}` }\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\tconst dateReq = selectedDate.toJSON().split(\"T\")[0]\r\n\t\t\t\r\n\t\t\taxios.get(this.props.APIHost +\"/getCompanySummary/?reqDate=\"+dateReq+\"&reComp=\"+this.state.currentCompany, config)\r\n\t\t\t.then( \r\n\t\t\t\tres => {\r\n\t\t\t\t\t// What if it is > 1?\r\n\t\t\t\t\tif (res.data.length > 0) {\r\n\t\t\t\t\t\tconsole.log(\"obtained a company summary\")\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// Check for matching stuff on this end?\r\n\t\t\t\t\t\t//console.log(res.data[0].summaryResult)\r\n\t\t\t\t\t\t// Save in the cookies for non-login access...\r\n\t\t\t\t\t\tStore.set('testSummaryData', res.data[0].summaryResult)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.loadTestData();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.setState( {\r\n\t\t\t\t\t\t\tmessages: \"Showing \" + this.state.currentCompany + \": Summary Entry for: \" + this.state.currentDate.toString(),\r\n\t\t\t\t\t\t\tcompanyDisp: \">:(\",\r\n\t\t\t\t\t\t} )\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tconsole.log(\"No entry for that day\")\r\n\t\t\t\t\t\tthis.setState( {\r\n\t\t\t\t\t\t\tmessages: \"No entry for that day\",\r\n\t\t\t\t\t\t\tcompanyDisp: \":/\",\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// LEts not store it in the cookies for now...\r\n\t\t\t})\r\n\t\t\t.catch( err => {\r\n\t\t\t\tif (err.response.status === 401) {\r\n\t\t\t\t\tthis.props.forceLogout()\r\n\t\t\t\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\r\n\t\t}\r\n\t};\r\n\t\r\n\tsetCurrentCompany = (event) => {\r\n\t\r\n\t\tthis.setState({dropMessage: event.target.value, currentCompany: event.target.value})\r\n\t}\r\n\t\r\n\trender() {\r\n\t\t\r\n\t\tconst tileClassName = ({ date, view }) => {\r\n\t\t\r\n\t\t\t// Add class to tiles in month view only\r\n\t\t\tif (view === 'month') {\r\n\t\t\t\t\r\n\t\t\t\tconst checkDate = date.getFullYear()+\"-\"+date.getMonth()+\"-\"+date.getDate()\r\n\t\t\t\t\r\n\t\t\t\t//console.log(checkDate)\r\n\t\t\t\t//console.log(this.state.validJournalDates)\r\n\r\n\t\t\t\t// Check if a date React-Calendar wants to check is on the list of dates to add class to\r\n\t\t\t\tconst hasSummary = this.state.validSummaryDates.find( element => element === checkDate)\r\n\t\t\t\t\r\n\t\t\t\tif (hasSummary) {\r\n\t\t\t\t\treturn 'btn btn-success'\r\n\t\t\t\t} else {\r\n\t\t\t\t\t//return 'btn btn-outline-dark'\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tvar dropDownInternal = []\r\n\t\t\r\n\t\tlet index;\r\n\t\tfor (index in this.state.companyList) {\r\n\t\t\tlet comp = this.state.companyList[index]\r\n\t\t\tdropDownInternal.push( \r\n\t\t\t\t<button className=\"dropdown-item\" key={index} onClick={this.setCurrentCompany} value={ comp }>\r\n\t\t\t\t\t{comp}\r\n\t\t\t\t</button> \r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\t// Entities\r\n\t\tvar entitiesDisplay = [];\r\n\t\t\r\n\t\tif (this.state.dataEntities.length > 0) { \r\n\t\t\tfor (index in this.state.dataEntities) {\r\n\t\t\t\tconst ent = this.state.dataEntities[index]\r\n\t\t\t\t\r\n\t\t\t\tconst emotionData = getRadarEmotionData(ent.emotion)\r\n\t\t\t\tconst sentimentData = getSentimentData(ent.sentiment)\r\n\t\t\t\t\r\n\t\t\t\tentitiesDisplay.push(\r\n\t\t\t\t\t<tr key={ent.id}>\r\n\t\t\t\t\t\t<th scope=\"row\">{ent.text}</th>\r\n\t\t\t\t\t\t<td>{ent.type}</td>\r\n\t\t\t\t\t\t<td>{ent.count}</td>\r\n\t\t\t\t\t\t<td>{ent.confidence}</td>\r\n\t\t\t\t\t\t<td>{ent.relevance}</td>\r\n\t\t\t\t\t\t<td> <Radar ref={this.chartReference} data={emotionData} options={this.state.optionsEmotions} /> </td>\r\n\t\t\t\t\t\t<td> <Doughnut ref={this.chartReference} data={sentimentData} options={this.state.optionsSentiment} /> </td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tentitiesDisplay.push(\r\n\t\t\t\t<tr key=\"0\">\r\n\t\t\t\t\t<th scope=\"row\">None Found!</th>\r\n\t\t\t\t</tr>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\t// Keywords\r\n\t\tvar keywordsDisplay = [];\r\n\t\t\r\n\t\tif (this.state.dataKeywords.length > 0) { \r\n\t\t\tfor (index in this.state.dataKeywords) {\r\n\t\t\t\tconst key = this.state.dataKeywords[index]\r\n\t\t\t\t\r\n\t\t\t\tconst emotionData = getRadarEmotionData(key.emotion)\r\n\t\t\t\tconst sentimentData = getSentimentData(key.sentiment)\r\n\t\t\t\t\r\n\t\t\t\tkeywordsDisplay.push(\r\n\t\t\t\t\t<tr key={key.id}>\r\n\t\t\t\t\t\t<th scope=\"row\">{key.text}</th>\r\n\t\t\t\t\t\t<td>{key.count}</td>\r\n\t\t\t\t\t\t<td>{key.relevance}</td>\r\n\t\t\t\t\t\t<td><Radar ref={this.chartReference} data={emotionData} options={this.state.optionsEmotions} /></td>\r\n\t\t\t\t\t\t<td><Doughnut ref={this.chartReference} data={sentimentData} options={this.state.optionsSentiment} /></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tkeywordsDisplay.push(\r\n\t\t\t\t<tr key=\"0\">\r\n\t\t\t\t\t<th scope=\"row\">None Found!</th>\r\n\t\t\t\t</tr>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\t// R E L A T I O N S\r\n\t\tvar relationsDisplay = [];\r\n\t\t\r\n\t\tif (this.state.dataRelations.length > 0) { \r\n\t\t\r\n\t\t\tfor (index in this.state.dataRelations) {\r\n\t\t\t\tconst rel = this.state.dataRelations[index]\r\n\t\t\t\trelationsDisplay.push(\r\n\t\t\t\t\t<tr key={rel.id}>\r\n\t\t\t\t\t\t<th scope=\"row\">{rel.init}</th>\r\n\t\t\t\t\t\t<td>{rel.action}</td>\r\n\t\t\t\t\t\t<td>{rel.target}</td>\r\n\t\t\t\t\t\t<td>{rel.score}</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\trelationsDisplay.push(\r\n\t\t\t\t<tr key=\"0\">\r\n\t\t\t\t\t<th scope=\"row\">Unimplemented!</th>\r\n\t\t\t\t\t<th scope=\"row\">Unimplemented!</th>\r\n\t\t\t\t\t<th scope=\"row\">Unimplemented!</th>\r\n\t\t\t\t\t<th scope=\"row\">Unimplemented!</th>\r\n\t\t\t\t</tr>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className=\"companyView\">\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-sm-3 m-2\">\t\r\n\t\t\t\t\t\t\t<button className=\"btn btn-primary\" onClick={this.backButton}>\r\n\t\t\t\t\t\t\t\tGo Back\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-sm m-2\">\t\r\n\t\t\t\t\t\t\tPage Title Test!\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-lg-3 border m-2\">\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<Calendar \r\n\t\t\t\t\t\t\t\t\tonChange={this.pickDate}\r\n\t\t\t\t\t\t\t\t\tvalue={this.state.currentDate}\r\n\t\t\t\t\t\t\t\t\ttileClassName={tileClassName}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tminDetail={'year'}\r\n\t\t\t\t\t\t\t\t\tmaxDetail={'month'}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col border m-2\">\t\t\t\t\t\r\n\t\t\t\t\t\t\t<p>{this.state.messages}</p>\r\n\t\t\t\t\t\t\t<p>{this.state.companyDisp}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"dropdown\">\r\n\t\t\t\t\t\t\t  <button className=\"btn btn-secondary dropdown-toggle\" type=\"button\" id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n\t\t\t\t\t\t\t  {this.state.dropMessage}\r\n\t\t\t\t\t\t\t  </button>\r\n\t\t\t\t\t\t\t  <div className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\r\n\t\t\t\t\t\t\t\t{dropDownInternal}\r\n\t\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<button onClick={this.loadTestData}> Get Summary Test </button>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<button onClick={this.getCompanyList}> Get Comp List </button>\r\n\t\t\t\t\t\t\t<button onClick={this.getValidDates}> Get Valid Dates (server)</button>\r\n\t\t\t\t\t\t\t<button onClick={this.getCookiesValidDates}> Get Valid Dates (cookies)</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"row my-2\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"progressBar\">\r\n\t\t\t\t\t\t\t\t<h3>Summary Data for date: {this.state.currentDate.toString()}</h3>\r\n\r\n\t\t\t\t\t\t\t\t<ProgressBar now={ this.state.responsePurity } label={`${this.state.responsePurity}% Response Rate`} />\r\n\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"row my-2\">\r\n\t\t\t\t\t\t<div className=\"col border mx-2\">\r\n\t\t\t\t\t\t\t<Radar ref={this.chartReference} data={this.state.dataEmotion} options={this.state.optionsEmotions} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col border mx-2\">\r\n\t\t\t\t\t\t\t<Doughnut ref={this.chartReference} data={this.state.dataSentiment} options={this.state.optionsSentiment} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"row  my-2\">\r\n\t\t\t\t\t\t<div className=\"col border mx-2\">\r\n\t\t\t\t\t\t\t<Bar ref={this.chartReference} data={this.state.dataCategories} options={this.state.optionsCategories} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col border mx-2\">\r\n\t\t\t\t\t\t\t<Bar ref={this.chartReference} data={this.state.dataConcepts} options={this.state.optionsConcepts} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"row my-2\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<h3>Entities!</h3>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<table className=\"table\">\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\">Name</th>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\">Type</th>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\">#Appearances</th>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\">Confidence Score</th>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\">Relevance Score</th>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\">Emotion</th>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\">Sentiment</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{entitiesDisplay}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"row my-2\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<h3>Keywords!</h3>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<table className=\"table\">\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\">Word</th>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\">#Appearances</th>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\">Relevance Score</th>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\">Emotion</th>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\">Sentiment</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{keywordsDisplay}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"row my-2\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<h3>Relations!</h3>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<table className=\"table\">\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\">Thing</th>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\">Action</th>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\">Target</th>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\">Score</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{relationsDisplay}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"row  my-2\">\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\tPADDING\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default withRouter(companyView);","import React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nconst sorter = [\"Public\", \"Private\"]\r\n\r\nclass companySettings extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n        super(props);\r\n\t\t\r\n\t\tconst today = new Date()\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tcurrentDate: today,\r\n\t\t\t\r\n\t\t\tmessages: \"Hello, there is nothing yet here...\",\r\n\t\t\t\r\n\t\t\tdropMessage: 'Select Company=>',\r\n\t\t\tcurrentCompany: \"None\",\r\n\t\t\r\n\t\t\tcompanyList: [],\r\n\t\t\t\r\n\t\t\tdataCompanyName: 'None',\r\n\t\t\tdataCompanyPriv: 'None',\r\n\t\t\tdataCompanySendTo: [\"user1\", \"user2\", \"user3\"],\r\n\t\t\tdataCompanyViewing: [\"user7\", \"user9\"],\r\n\t\t\tdataCompanyGoverned: [\"user1\", \"user2\", \"user3\", \"user4\", \"user5\", \"user6\"],\r\n\t\t\t\r\n\t\t\tsearchSend: \"\",\r\n\t\t\tsearchView: \"\",\r\n\t\t\tsearchGov: \"\",\r\n\t\t\taddingEmail: \"\",\r\n\t\t\t\r\n\t\t\tclickedList: \"\",\r\n\t\t\tclickedIndex: -1,\r\n        };\r\n\t\t\r\n\t\t\r\n\t};\r\n\r\n\tbackButton = () => {\r\n\t\tthis.props.history.goBack()\r\n\t}\r\n\t\r\n\tpostNewCompanyData = () => {\r\n\t\t\r\n\t\tconst config = {\r\n\t\t\theaders: { Authorization: `JWT ${this.props.authToken}` }\r\n\t\t};\r\n\t\t\r\n\t\tconst data = {\r\n\t\t\t// These will be checked by the permissions on the other end...\r\n\t\t\trequestUser: \"\",\r\n\t\t\tcompanyName: \"\",\r\n\t\t};\r\n\t\t\r\n\t\taxios.post(this.props.APIHost +\"/postCompanyData/\", data, config )\r\n\t\t.then( res => { \r\n\t\t\r\n\t\t\tconsole.log(res)\r\n\t\t\tconsole.log(\"Success\")\r\n\t\t\t\r\n\t\t})\r\n\t\t.catch( err => {\r\n\t\t\t// Change this depending on the error...\r\n\t\t\tif (err.response.status === 401) {\r\n\t\t\t\tthis.props.forceLogout()\r\n\t\t\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tgetCompanyList = () => {\r\n\t\t\r\n\t\tconst config = {\r\n\t\t\theaders: { Authorization: `JWT ${this.props.authToken}` }\r\n\t\t};\r\n\t\t\r\n\t\t// This is bad, as it gets ALL companies...\r\n\t\t// But we SHOULD save it with the permissions...\r\n\t\t// So I need to make this better...\r\n\t\taxios.get(this.props.APIHost +\"/getUsersCompanies\", config)\r\n\t\t.then( \tres => {\r\n\t\t\t\t// Should respond with a 1 length thing\r\n\t\t\t\tif (res.data.length > 0) {\r\n\t\t\t\t\t// Normal behaviour\r\n\t\t\t\t\tconsole.log(\"Got the list of companies\")\r\n\t\t\t\t\t//console.log(res)\r\n\t\t\t\t\t\r\n\t\t\t\t\t// Companies this user is 'owner' of\r\n\t\t\t\t\t//console.log(res.data[0].companyOwner)\r\n\t\t\t\t\t\r\n\t\t\t\t\t// Merge these three into a single set for viewing for now?\r\n\t\t\t\t\tlet adding = []\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar index;\r\n\t\t\t\t\tfor (index in res.data[0].companyOwner) {\r\n\t\t\t\t\t\tlet name = res.data[0].companyOwner[index]\r\n\t\t\t\t\t\tif ( !adding.includes(name) ) {\r\n\t\t\t\t\t\t\tadding.push(name)\r\n\t\t\t\t\t\t\t//console.log(name)\r\n\t\t\t\t\t\t}\t\t\t\t\t\t\t\r\n\t\t\t\t\t}\t\t\t\t\t\r\n\t\t\t\t\tthis.setState({companyList: adding})\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\t// This should not trigger\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch( err => {\r\n\t\t\t\tif (err.response.status === 401) {\r\n\t\t\t\t\tthis.props.forceLogout()\r\n\t\t\t\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\t\r\n\tgetCompanyData = (targetCompany) => {\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: { Authorization: `JWT ${this.props.authToken}` }\r\n\t\t};\r\n\t\t\r\n\t\taxios.get(this.props.APIHost +\"/getCompanyData?reqComp=\"+targetCompany+\"\", config)\r\n\t\t.then( \tres => {\r\n\t\t\t\t// Should respond with a 1 length thing\r\n\t\t\t\tif (res.data.length > 0) {\r\n\t\t\t\t\t// Normal behaviour\r\n\t\t\t\t\tconsole.log(\"Got the company data!\")\r\n\t\t\t\t\t//console.log(res)\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tdataCompanyName: res.data[0].companyName,\r\n\t\t\t\t\t\tdataCompanyPriv: sorter[res.data[0].summaryViewAccess],\r\n\t\t\t\t\t\tdataCompanySendTo: res.data[0].resultsSendTargets,\r\n\t\t\t\t\t\tdataCompanyViewing: res.data[0].privateViewingPerms,\r\n\t\t\t\t\t\tdataCompanyGoverned: res.data[0].governedUsers,\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\t// This should not trigger\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch( err => {\r\n\t\t\t\tconsole.log(err)\r\n\t\t\t\tif (err.response.status === 401) {\r\n\t\t\t\t\tthis.props.forceLogout()\r\n\t\t\t\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\t\r\n\tsendChange = (event) => {\r\n\t\tthis.setState( {searchSend: event.target.value} )\r\n\t}\r\n\tviewChange = (event) => {\r\n\t\tthis.setState( {searchView: event.target.value} )\r\n\t}\r\n\tgovChange = (event) => {\r\n\t\tthis.setState( {searchGov: event.target.value} )\r\n\t}\r\n\t\r\n\temailFieldChange = (event) => {\r\n\t\tthis.setState( {email: event.target.value} )\r\n\t}\r\n\t\r\n\ttriggerCompanySwap = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tdropMessage: event.target.value, \r\n\t\t\tcurrentCompany: event.target.value\r\n\t\t})\r\n\t\t\r\n\t\tthis.getCompanyData(event.target.value)\r\n\t\t\r\n\t}\r\n\t\r\n\ttriggerDelete = (event) => {\r\n\t\t\r\n\t\t//console.log(event.target.parentElement.parentElement.id)\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tclickedList: event.target.parentElement.parentElement.id,\r\n\t\t\tclickedIndex: event.target.parentElement.id,\r\n\t\t})\r\n\t}\r\n\t\r\n\taddNewUsers = (event) => {\r\n\t\tconsole.log(event.target.parentElement)\r\n\t}\r\n\t\r\n\tmodelAcceptDelete = (event) => {\r\n\t\t\r\n\t\tlet subset = []\r\n\t\tif (this.state.clickedList === \"sendUsers\") {\r\n\t\t\tsubset = this.state.dataCompanySendTo\r\n\t\t\t\r\n\t\t\tsubset.splice( this.state.clickedIndex, 1 )\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tdataCompanySendTo: subset\r\n\t\t\t})\r\n\t\t}\r\n\t\telse if (this.state.clickedList === \"viewUsers\") {\r\n\t\t\tsubset = this.state.dataCompanyViewing\r\n\t\t\t\r\n\t\t\tsubset.splice( this.state.clickedIndex, 1 )\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tdataCompanyViewing: subset\r\n\t\t\t})\r\n\t\t}\r\n\t\telse if (this.state.clickedList === \"govUsers\") {\r\n\t\t\tsubset = this.state.dataCompanyGoverned\r\n\t\t\t\r\n\t\t\tsubset.splice( this.state.clickedIndex, 1 )\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tdataCompanyGoverned: subset\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\t\r\n\t\tvar dropDownInternal = []\r\n\t\t\r\n\t\tlet index;\r\n\t\tfor (index in this.state.companyList) {\r\n\t\t\tlet comp = this.state.companyList[index]\r\n\t\t\tdropDownInternal.push( \r\n\t\t\t\t<button className=\"dropdown-item\" key={index} onClick={this.triggerCompanySwap} value={ comp }>\r\n\t\t\t\t\t{comp}\r\n\t\t\t\t</button> \r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\tlet companySend = []\r\n\t\tfor (index in this.state.dataCompanySendTo) {\r\n\t\t\tlet userSet = this.state.dataCompanySendTo[index]\r\n\t\t\t\r\n\t\t\tif ( userSet.indexOf(this.state.searchSend) > -1) {\r\n\t\t\t\r\n\t\t\t\tcompanySend.push(\r\n\t\t\t\t\t<li key={index} id={index} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t\t{userSet}\r\n\t\t\t\t\t\t<button className=\"btn btn-sm btn-outline-danger\" data-toggle=\"modal\" onClick={this.triggerDelete} data-target=\"#deleteConfirm\">x</button>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t)\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tlet companyViewing = []\r\n\t\tfor (index in this.state.dataCompanyViewing) {\r\n\t\t\tlet userSet = this.state.dataCompanyViewing[index]\r\n\t\t\t\r\n\t\t\tif ( userSet.indexOf(this.state.searchView) > -1) {\r\n\t\t\t\r\n\t\t\t\tcompanyViewing.push(\r\n\t\t\t\t\t<li key={index} id={index} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t\t{userSet}\r\n\t\t\t\t\t\t<button className=\"btn btn-sm btn-outline-danger\" data-toggle=\"modal\" onClick={this.triggerDelete} data-target=\"#deleteConfirm\">x</button>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t// For each name, give it its own index in the list...\r\n\t\tlet governedList = []\r\n\t\tfor (index in this.state.dataCompanyGoverned) {\r\n\t\t\tlet userSet = this.state.dataCompanyGoverned[index]\r\n\t\t\t\r\n\t\t\tif ( userSet.indexOf(this.state.searchGov) > -1) {\r\n\t\t\t\r\n\t\t\t\tgovernedList.push(\r\n\t\t\t\t\t<li key={index} id={index} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t\t{userSet}\r\n\t\t\t\t\t\t<button className=\"btn btn-sm btn-outline-danger\" data-toggle=\"modal\" onClick={this.triggerDelete} data-target=\"#deleteConfirm\">x</button>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t// There is probobly a better way to do this... But the model stuff may work if it is filled out this way\r\n\t\tlet selectedUser = \"None\"\r\n\t\tif (this.state.clickedList === \"sendUsers\") {\r\n\t\t\tselectedUser = this.state.dataCompanySendTo[this.state.clickedIndex]\r\n\t\t}\r\n\t\telse if (this.state.clickedList === \"viewUsers\") {\r\n\t\t\tselectedUser = this.state.dataCompanyViewing[this.state.clickedIndex]\r\n\t\t}\r\n\t\telse if (this.state.clickedList === \"govUsers\") {\r\n\t\t\tselectedUser = this.state.dataCompanyGoverned[this.state.clickedIndex]\r\n\t\t}\r\n\t\t\r\n\t\t// Technically we can just use currentCompany but, hey! To error check I am going to use the response...\r\n\t\treturn (\r\n\t\t\t<div className=\"companySett\">\r\n\t\t\t\t<div className=\"container\">\r\n\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-sm-3 m-2\">\t\r\n\t\t\t\t\t\t\t<button className=\"btn btn-primary\" onClick={this.backButton}>\r\n\t\t\t\t\t\t\t\tGo Back\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-sm m-2\">\t\r\n\t\t\t\t\t\t\tPage Title Test!\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"dropdown\">\r\n\t\t\t\t\t\t\t  <button className=\"btn btn-secondary dropdown-toggle\" type=\"button\" id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n\t\t\t\t\t\t\t\t{this.state.dropMessage}\r\n\t\t\t\t\t\t\t  </button>\r\n\t\t\t\t\t\t\t  <div className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\r\n\t\t\t\t\t\t\t\t{dropDownInternal}\r\n\t\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<button onClick={this.getCompanyList}> Populate Company List </button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\tEdit Company name\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"card-text\">\r\n\t\t\t\t\t\t\t\t\t\t{this.state.dataCompanyName}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\tPrivate/Publix\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"card-text\">\r\n\t\t\t\t\t\t\t\t\t\t{this.state.dataCompanyPriv}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\tUsers Notified:\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<input className=\"form-control\" id=\"\" type=\"text\" onChange={this.sendChange} placeholder=\"Search...\"/>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<ul className=\"card-text list-group\" id=\"sendUsers\">\r\n\t\t\t\t\t\t\t\t\t\t{companySend}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<button type=\"button\" className=\"list-group-item list-group-item-action active\" data-toggle=\"modal\" onClick={this.triggerAdd} data-target=\"#addNewUsers\">\r\n\t\t\t\t\t\t\t\t\t\t\tAdd user +\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\tViewing Privilages:\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<input className=\"form-control\" id=\"\" type=\"text\" onChange={this.viewChange} placeholder=\"Search...\"/>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<ul className=\"card-text list-group\"  id=\"viewUsers\">\r\n\t\t\t\t\t\t\t\t\t\t{companyViewing}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<button type=\"button\" className=\"list-group-item list-group-item-action active\" data-toggle=\"modal\" onClick={this.triggerAdd} data-target=\"#addNewUsers\">\r\n\t\t\t\t\t\t\t\t\t\t\tAdd user +\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\tTarget Users:\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<input className=\"form-control\" id=\"\" type=\"text\" onChange={this.govChange} placeholder=\"Search...\"/>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<ul className=\"card-text list-group\"  id=\"govUsers\">\r\n\t\t\t\t\t\t\t\t\t\t{governedList}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<button type=\"button\" className=\"list-group-item list-group-item-action active\" data-toggle=\"modal\" onClick={this.triggerAdd} data-target=\"#addNewUsers\">\r\n\t\t\t\t\t\t\t\t\t\t\tAdd user +\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<div className=\"modal fade\" id=\"deleteConfirm\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"deleteConfirmation\" aria-hidden=\"true\">\r\n\t\t\t\t  <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n\t\t\t\t\t<div className=\"modal-content\">\r\n\t\t\t\t\t  <div className=\"modal-header\">\r\n\t\t\t\t\t\t<h5 className=\"modal-title\" id=\"deleteTitleConfirm\">Delete Confirmation</h5>\r\n\t\t\t\t\t\t<button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n\t\t\t\t\t\t  <span aria-hidden=\"true\">&times;</span>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t\t  <div className=\"modal-body\">\r\n\t\t\t\t\t\tAre you SURE you want to delete user: {selectedUser}?\r\n\t\t\t\t\t\tThey will be notified about this change.\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t\t  <div className=\"modal-footer\">\r\n\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-danger\" data-dismiss=\"modal\" onClick={this.modelAcceptDelete}>Yes</button>\r\n\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-primary\" data-dismiss=\"modal\">No</button>\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t  </div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<div className=\"modal fade\" id=\"addNewUsers\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"addNewUsersModal\" aria-hidden=\"true\">\r\n\t\t\t\t  <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n\t\t\t\t\t<div className=\"modal-content\">\r\n\t\t\t\t\t  <div className=\"modal-header\">\r\n\t\t\t\t\t\t<h5 className=\"modal-title\" id=\"deleteTitleConfirm\">Add New User</h5>\r\n\t\t\t\t\t\t<button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n\t\t\t\t\t\t  <span aria-hidden=\"true\">&times;</span>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t\t  <div className=\"modal-body\">\r\n\t\t\t\t\t\tEnter the email of a user. If it is in the database, they will be notified.\r\n\t\t\t\t\t\tUpon their acceptance, the user will be added here.\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t\t  <div className='form-group'>\r\n\t\t\t\t\t\t<label>Email Address</label>\r\n\t\t\t\t\t\t<input type='email' className='form-control' value={this.state.addingEmail} onChange={this.emailFieldChange} placeholder='Enter email' />\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t\t  <div className=\"modal-footer\">\r\n\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-primary\" data-dismiss=\"modal\" onClick={this.modelSendEmail}>Send Invite</button>\r\n\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-danger\" data-dismiss=\"modal\">Cancel</button>\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t  </div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default withRouter(companySettings);","import React from \"react\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\n\nimport axios from \"axios\";\n\nimport { Navigation, Footer, Landing, SignIn, SignUp, Forgot, ViewJournals, WriteJournals, ViewCompany, SetCompany, MainMenu } from \"./components\";\n\nimport Store from \"store\"\n\n//import '../node_modules/bootstrap/dist/css/bootstrap.min.css';\nimport './App.css'\n\n// Is THIS a patch for Github Pages react stuff?\n// Maybe...\n// Ill have to test this...\nconst basePath = \"/serene\"\n\nconst hostName = \"https://cmaster.pythonanywhere.com\"\n//const hostName = \"10.0.0.60:8000\"\n\nclass App extends React.Component {\n\t\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n          \n\t\t  currentUser: undefined,\n\t\t  sessionToken: undefined,\n\n        };\n\t}\n\t\n\tcomponentDidMount() {\n\t\tthis.loadFromCookies();\n\t};\n\t\n\tloadFromCookies = () => {\n\t\tconst lastUserSet = Store.get('lastUser');\n\t\t\t\n\t\ttry{ \n\t\t\tthis.setState({ currentUser: lastUserSet.user, sessionToken: lastUserSet.session }) \n\t\t}\n\t\tcatch{\n\t\t\tconsole.log(\"No user based cookies\")\n\t\t};\n\t}\n\t\n\tsetToken = ( token, username ) => {\n\t\t// Verify this before we sent it in I guess?\n\t\tthis.setState({ sessionToken: token, currentUser: username })\n\t\t\n\t\tStore.set('lastUser', { user:username, session:token })\n\t\t\n\t\t// Return if we succeeded or not\n\t\treturn true\n\t}\n\t\n\t// Test out refreshing the token...\n\t// Should do this every page reload...\n\trefresh = () => {\n\t\tconst data = {\n\t\t\ttoken: this.state.sessionToken,\n\t\t};\n\t\t\n\t\taxios.post(hostName + \"/apiTokenRefresh/\", data)\n\t\t.then( \tres => {\n\t\t\t//console.log(res)\n\t\t\t\n\t\t\t// If we get here then we should have a new token\n\t\t\t//console.log(res.data.token)\n\t\t\tconsole.log(\"Token refreshed\")\n\t\t\t// A little bit unnecessary but hey...\n\t\t\tthis.setToken( res.data.token, this.state.currentUser)\n\t\t\t\n\t\t})\n\t\t.catch( err => {\n\t\t\tconsole.log(err)\n\t\t\t// Check for a specific error?\n\t\t\t\n\t\t\tthis.redirectToSignin()\n\t\t});\n\t}\n\n\t// Should move this over to the UTIL...\n\tlogout = () => {\n\t\tthis.setState({ sessionToken: undefined, currentUser: undefined })\n\n\t\tStore.remove('lastUser')\n\t}\n\t\n\t// maybe I should move all the AXIOS stuff to its own file...\n\t\n\trender() {\n\n\t\treturn (\n\t\t\t<Router>\n\t\t\t\t<div className=\"App\">\n\t\t\t\n\t\t\t\t\t<Navigation \n\t\t\t\t\t\tcurrentUser={this.state.currentUser}\n\t\t\t\t\t\tbasePath={basePath}\n\n\t\t\t\t\t\tclearLogin={this.setToken}\n\t\t\t\t\t/>\n\t\t\t\t\t\t\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<Route path={basePath+\"/\"} exact component={() => <Landing \n\t\t\t\t\t\t\t\tAPIHost={hostName}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t/>} />\n\t\t\t\t\t\t<Route path={basePath+\"/signin\"} exact component={() => <SignIn \n\t\t\t\t\t\t\t\tloginSave={this.setToken}\n\t\t\t\t\t\t\t\tAPIHost={hostName}\n\n\t\t\t\t\t\t\t\treRouteTarget={basePath+\"/menu\"}\n\t\t\t\t\t\t\t\tforgotPath={basePath+\"/forgot\"}\n\t\t\t\t\t\t\t/>} />\n\t\t\t\t\t\t<Route path={basePath+\"/signup\"} exact component={() => <SignUp \n\t\t\t\t\t\t\t\tAPIHost={hostName}\n\t\t\t\t\t\t\t\treRouteTarget={basePath+\"/signin\"}\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t/>} />\n\t\t\t\t\t\t<Route path={basePath+\"/forgot\"} exact component={() => <Forgot \n\t\t\t\t\t\t\t\tAPIHost={hostName}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\treRouteTarget={basePath+\"/signin\"}\n\t\t\t\t\t\t\t/>} />\n\n\t\t\t\t\t\t<Route path={basePath+\"/menu\"} exact component={() => <MainMenu \n\t\t\t\t\t\t\t\tAPIHost={hostName}\n\t\t\t\t\t\t\t\ttokenRefresh={this.refresh}\n\t\t\t\t\t\t\t\treRouteTarget={basePath+\"/signin\"}\n\n\t\t\t\t\t\t\t\treRouteTarget={basePath+\"/\"}\n\n\t\t\t\t\t\t\t\tjournalWriteDirect={basePath+\"/write\"}\n\t\t\t\t\t\t\t\tjournalReadDirect={basePath+\"/read\"}\n\t\t\t\t\t\t\t\tcompanyReadDirect={basePath+\"/companyCheck\"}\n\t\t\t\t\t\t\t\tcompanySettingDirect={basePath+\"/companySet\"}\t\n\n\n\t\t\t\t\t\t\t\tcurrentUser={this.state.currentUser}\n\t\t\t\t\t\t\t\tauthToken={this.state.sessionToken}\n\t\t\t\t\t\t\t/>} />\n\n\t\t\t\t\t\t<Route path={basePath+\"/read\"} exact component={() => <ViewJournals \n\t\t\t\t\t\t\t\tAPIHost={hostName}\n\t\t\t\t\t\t\t\ttokenRefresh={this.refresh}\n\t\t\t\t\t\t\t\treRouteTarget={basePath+\"/signin\"}\n\t\t\t\t\t\t\t\tforceLogout={this.logout}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tcurrentUser={this.state.currentUser}\n\t\t\t\t\t\t\t\tauthToken={this.state.sessionToken}\n\t\t\t\t\t\t\t/>} />\n\t\t\t\t\t\t<Route path={basePath+\"/write\"} exact component={() => <WriteJournals \n\t\t\t\t\t\t\t\tAPIHost={hostName}\n\t\t\t\t\t\t\t\ttokenRefresh={this.refresh}\n\t\t\t\t\t\t\t\treRouteTarget={basePath+\"/signin\"}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tauthToken={this.state.sessionToken}\n\t\t\t\t\t\t\t/>} />\n\t\t\t\t\t\t<Route path={basePath+\"/companyCheck\"} exact component={() => <ViewCompany \n\t\t\t\t\t\t\t\tAPIHost={hostName}\n\t\t\t\t\t\t\t\ttokenRefresh={this.refresh}\n\t\t\t\t\t\t\t\treRouteTarget={basePath+\"/signin\"}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tauthToken={this.state.sessionToken}\n\t\t\t\t\t\t\t/>} />\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t<Route path={basePath+\"/companySet\"} exact component={() => <SetCompany \n\t\t\t\t\t\t\t\tAPIHost={hostName}\n\t\t\t\t\t\t\t\ttokenRefresh={this.refresh}\n\t\t\t\t\t\t\t\treRouteTarget={basePath+\"/signin\"}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tauthToken={this.state.sessionToken}\n\t\t\t\t\t\t\t/>} />\n\n\t\t\t\t\t</Switch>\n\n\t\t\t\t\t<Footer \n\t\t\t\t\t\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</Router>\n\t\t);\n\t}\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nimport'bootstrap/dist/css/bootstrap.min.css';\n//import $ from'jquery';\n//import Popper from 'popper.js';\nimport'bootstrap/dist/js/bootstrap.bundle.min';\n\n//import '@trendmicro/react-sidenav/dist/react-sidenav.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}