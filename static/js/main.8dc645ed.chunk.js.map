{"version":3,"sources":["utils/axiosAPI.jsx","utils/graphs.jsx","utils/sidebarCustom.jsx","utils/networkGraph.jsx","utils/infoDisplayMulti.jsx","utils/index.js","components/authPages/signIn.jsx","components/authPages/signUp.jsx","components/authPages/forgot.jsx","components/authPages/verifyEmail.jsx","components/landingPages/header.jsx","components/landingPages/features.jsx","components/landingPages/aboutUs.jsx","components/landingPages/betaReqContact.jsx","components/landingPages/contactUs.jsx","components/navigation.jsx","components/footer.jsx","components/landingPagesCore.jsx","components/authPagesCore.jsx","components/contentCommonCore.jsx","components/dashboard.jsx","components/userPages/writingSuggestion.jsx","components/userPages/userProfile.jsx","components/userPages/journalView.jsx","components/userPages/journalMake.jsx","components/userPages/userSecurity.jsx","components/userPages/userInvite.jsx","components/userPages/userWeb.jsx","components/userPagesCore.jsx","components/companyPages/companyEHI.jsx","components/companyPages/companyInvites.jsx","components/companyPages/companyPermissions.jsx","components/companyPages/companySettings.jsx","components/companyPages/selectCompany.jsx","components/companyPages/suggestionBox.jsx","components/companyPages/companyView.jsx","components/companyPages/companyPrompts.jsx","components/companyPages/companyWeb.jsx","components/companyPagesCore.jsx","App.js","reportWebVitals.js","index.js"],"names":["axiosInstance","axios","create","baseURL","withCredentials","accessToken","setAccessToken","token","convertSummaryType","convertDate","date","yyyy","getFullYear","toString","mm","getMonth","dd","getDate","mmChars","split","ddChars","checkError","err","response","errStatus","status","errData","data","errorName","errorSet","push","APISignIn","isUserOrEmail","requestUsername","requestPassword","callbackFunction","callbackFailure","password","post","then","res","catch","result","APIResendValidator","config","headers","Authorization","get","APISaveJournal","postingDate","promptValue","targetDiv","content","editorBlock","console","log","randomID","Math","random","substr","shorthand","targetDivision","forDate","usedPromptKeyText","richText","APIDivisionInvitesSet","targetInvite","targetAction","reqDiv","put","succData","APIDivisionSettingsGet","targetCompany","APIDivisionSettingsEdit","dataSet","APIUserInvitesSet","APISetNonDivisionEvents","savedID","incomingId","incomingDivision","incomingEnabledDiv","id","enabledDiv","APIGetDivisionWeb","divisionID","targetDate","dateReq","undefined","toJSON","APIGetUserWeb","arbitraryLineData","inputXAxis","inputDataList","builtData","dataIndex","label","fill","backgroundColor","borderColor","labels","datasets","getRadarEmotionData","inputData","borderWidth","testMaxMin","inputMax","inputAve","inputMin","stackedBarData","inputData1","inputData2","inputData3","stackedBarData2Test","stacked2BarData1Data","stacked3BarData1Data","frequencyBarData","labelsSet","index","validStates","Sidebar","props","setUserFlag","nextThing","setState","showUserActions","showUserEmailScan","setCompanyFlag","showCompanyDataFlag","showCompanyEmailFlag","showCompanySettingsFlag","setCompanyName","name","currentCompanyName","setUserName","currentUserName","disableMenu","enabled","activateMenu","reqState","find","element","displayState","state","displayMenu","this","className","to","basePath","React","Component","convertScanToWidth","weight","cappedWeight","convertScanToColor","senti","red","green","cappedSenti","floor","redHex","greenHex","blueHex","graphOptions","nodes","mass","shape","chosen","node","values","selected","hovering","shadow","color","mod","edges","arrowStrikethrough","smooth","edge","size","layout","hierarchical","interaction","hover","dragNodes","physics","solver","maxVelocity","minVelocity","height","ShowWebInfoComponent","Accordion","Toggle","as","Card","Header","variant","eventKey","Collapse","timedLoadStorage","key","loadData","Store","remove","dateSaved","Date","now","timedSaveStorage","length","storageTime","setHours","getHours","setDate","setSeconds","getSeconds","storeData","getTime","set","error","deleteStorageKey","signIn","resetErrors","usernameError","passwordError","isWrongError","networkError","miscError","userFieldChange","event","username","target","value","emailFieldChange","email","passFieldChange","remFieldChange","remember","handleSubmitFailure","responseData","networkErrorFlag","usernameErrorFlag","passwordErrorFlag","isWrongErrorFlag","unhandledErrorFlag","serverErrorFlag","unhandledError","serverError","signInState","handleSubmitSuccess","incomingToken","access","displayName","signInEmailMode","loginSave","history","reRouteTarget","handleSubmit","usedName","preventDefault","emailError","emailClass","usernameClass","passwordClass","show1","onSubmit","type","onChange","placeholder","htmlFor","forgotPath","Alert","show","Heading","withRouter","signup","usernameFieldChange","password2","passwordErrorDetail","pass2FieldChange","firstNameFieldChange","firstName","lastnameFieldChange","lastName","checkFieldChange","checkField","nowSendEmailFailure","nowSendEmailState","nowSendEmailCallback","nowSendEmail","newToken","nowSignInFailure","nowSignInState","nowSignInCallback","nowSignIn","handleSignUpSubmitFailure","usernameErrorDetails","passwordErrorDetails","emailErrorFlag","emailErrorDetails","usernameErrorDetail","emailErrorDetail","handleSignUpSubmitState","handleSignUpSubmitCallback","responseStatus","handleSignUpSubmit","requestPassword1","requestPassword2","first_name","last_name","outData","APISignUp","legalError","show0","forgotPassword","goSignIn","arePasswordsSame","password1","swapToCode","currentState","sendEmailSuccess","successCode","successData","uncaughtError","sendEmailState","sendEmailFailure","sendEmail","targetEmail","APIForgotEmailSend","checkTokenFailure","tokenErrorFlag","tokenErrorDetails","tokenError","tokenErrorDetail","validateCodeState","checkTokenSuccess","checkToken","passToken","resetToken","submitPasswordFailure","unknownErrorFlag","submitPasswordState","submitPasswordSuccess","submitPasswords","APIForgotEmailChangePassword","tokenFieldChange","pass1FieldChange","passwordsSameError","currentField","currentButton","currentMessage","onClick","showWaiting","showSuccess","showError","verifyEmail","gotoDash","reRouteSuccessTarget","handleVerifyFailure","validateStatus","handleVerifyCallback","incomingStatus","incomingData","done","handleVerifySubmit","activateToken","APIValidateAccount","reSendEmailFailure","refreshToken","reSendEmail","sendEmailStatus","reSendEmailCallback","resend","tokenClass","displayBody","testAnother","testLeft","contact","handleEmailStatus","callbackSuccess","APIBetaSignEmail","companyFieldChange","company","contentFieldChange","emailContactState","APIContactUsEmail","navigation","triggerLogout","logout","reRouteSignIn","iconButton","userDisplay","currentUser","reRouteSignUp","reRouteDashboard","data-toggle","aria-haspopup","aria-expanded","aria-labelledby","reRouteUserInvites","reRouteUserSecurity","reRouteUserPermissions","reRouteLanding","data-target","aria-controls","aria-label","footer","FreePages","AuthPages","backButton","goBack","example","ContentPages","componentDidMount","currentDivisionID","changeCompanyMenuItems","checkParentIsLoaded","waitForParent","setInterval","clearCompanyData","EHIData","currentCompanyDataName","currentCompanyDataType","selectedSummaryWeekData","validCompanySummaryDates","selectedSuggestDay","selectedSuggestDayData","validDivisionSuggestionDates","parentHasLoaded","clearInterval","loadFromLocalStorage","lastDivObject","getCompanyDataRequest","pageIsLoaded","changeUserMenuItems","checkActiveUser","loadOtherData","getJournalPrompts","getValidJournalDates","getValidNonJournalDates","getValidWebDates","getUserCompanyPermsApp","APIGetEmailAIDataFailure","APIGetEmailAIDataCallback","incomingPrompts","APIGetEmailAIData","requestID","journalPromptsFailure","returnData","journalPromptsErrors","getJournalPromptsStatus","journalPromptsCallback","journalValidPrompts","APIGetJournalPrompts","checkActiveUserFailure","checkActiveUserStatus","checkActiveUserError","checkActiveUserCallback","ActiveState","activateRedirect","isActive","APICheckActive","getValidWebDatesFailure","getValidWebDatesStatus","getValidWebDatesError","getValidWebDatesCallback","incomingWebDates","validUserWebDates","APIGetUserWebDates","journalDatesFailure","getJournalDatesStatus","getJournalDatesError","journalDatesCallback","incomingJournalDates","incomingJournalAIDates","validJournalDates","validJournalScanDates","todayDateFull","todayDate","tempAIObject","tempJoObject","item","newDate","checkDate","hasAI","usedPromptKey","APIGetJournalDates","nonJournalDatesFailure","getNonJournalDatesStatus","getNonJournalDatesError","nonJournalDatesCallback","incomingNonJournalDates","validNonJournalDates","APIGetNonJournalDates","companyListFailure","getUserCompanyPermsAppStatus","getUserCompanyPermsAppError","companyListCallback","incomingCompanyList","userLoadedCompanyList","selectableCount","selectableIndex","checkIndex1","indexOf","checkIndex2","reqPerms","APIGetUsersPermTree","companyDatesFailure","getThatData","getCompanyValidDatesStatus","getCompanyValidDatesError","companyDatesCallback","incomingDatesObject","getCompanyValidDates","tempObjectSorter","typeName","summaryType","hasPrompts","APIGetCompanyValidDates","companySuggestionDateFailure","getCompanyValidSuggestionDatesStatus","getCompanyValidSuggestionDatesError","companySuggestionDateCallback","incomingDatesList","getCompanyValidSuggestionDates","datesData","APIGetSuggestionDates","companySuggestionDataFailure","tokenHasRefreshed","getCompanySuggestionDataStatus","getCompanySuggestionDataError","companySuggestionDataCallback","givenDate","getCompanySuggestionData","selectedDate","APIGetSuggestionData","companyDataFailure","getCompanyWeeklySummaryStatus","getCompanyWeeklySummaryError","companyDataCallback","incomingDataDict","companyMessage","selectedCompanyDate","currentDivisionName","currentCompanyDataID","getCompanyWeeklySummary","APIGetCompanySummary","companyEHIFailure","getCompanyEHIDataStatus","getCompanyEHIDataError","companyEHICallback","incomingEHIData","getCompanyEHIData","APIGetServerEHIData","getDivisionWebDatesFailure","incomingError","getDivisionWebDates","getDatesWebStatus","getDatesWebError","getDivisionWebDatesCallback","incomingDates","validDivisionWebDates","APIGetDivisionWebDates","divisionObj","adminCheck","perm","viewerCheck","currentDivisionPerms","changeMenuCompanyName","getCompanyDataStatus","changeCompanyPrompt","selectedCompanyPrompt","currentTarget","changeCompanyAspect","selectedCompanyAspect","changeCompanyDay","selectedCompanyDay","currentDate","selectedSuggestionDate","lastGovernedCompanyRequestStatus","path","match","url","exact","component","toUserPage","toCompanyPage","reRouteUser","loadCompanyData","activateUserMenu","reRouteCompany","resetCompanySelectStatus","changeSelectedCompany","activateCompanyMenu","Paginator","btnLen","prevAlter","nextAlter","activePage","totalLoaded","numPerPage","numberButtons","i","altered","altI","changeToNum","changePrevNext","styles","editor","border","minHeight","textAlign","StyleButton","onToggle","e","style","active","onMouseDown","BLOCK_TYPES","BlockStyleControls","editorState","selection","getSelection","blockType","getCurrentContent","getBlockForKey","getStartKey","getType","map","INLINE_STYLES","InlineStyleControls","currentStyle","getCurrentInlineStyle","has","journalView","initializeSubList","generateingList","permType","permIndex","toggleBlockType","RichUtils","toggleInlineStyle","inlineStyle","handleKeyCommand","command","newState","changePageTo","newPage","Number","pageNum","changePageFwdBck","subList","setCompany","setSuggestionDivision","numChooseLimit","focusMe","refs","focus","displayDivisionList","selectedDivisionFull","selectedPerms","adjustedIndex","getButtonClass","errorCheckingClass","lastRequestStatus","showSubmit","postSuggestionStatus","errorParse","suggestionErrors","spellCheck","ref","saveToServer","UserProfile","initViews","viewSubList","initSends","sendSubList","initGovs","govSubList","setCurrentData","valueIndex","selectedName","tempGov","tempSen","tempVie","delGoverns","togSends","delViews","setFailure","saveChanges","saveChangesError","saveChangesStatus","setSuccess","triggerRefresh","APIUserSettingsEdit","displayViewSends","extra","displayOwningCompanyList","tabIndex","role","aria-hidden","data-dismiss","parseEmotion","emotionData","joy","anger","sadness","disgust","fear","AIAspect","MultiIteration","buttonSet","promptQuestions","RatingIteration","LikertIteration","disabled","JournalIteration","setAspect","selectedAspect","givenState","EditorState","createEmpty","richData","convertFromRaw","createWithContent","displayStats","tableDisplay","dayData","AIresults","emoValue","document","emotion","dataDocEmo","emoOptions","scale","ticks","beginAtZero","suggestedMin","suggestedMax","Table","bordered","responsive","scope","options","dataBarStack","score","barStackOptions","scales","yAxes","xAxes","entity","emoVal","emoData","dataEntSent","confidence","relevance","sentiment","dataEntOptions","text","count","colSpan","keyData","dataRadar","dataRadarOptions","dataKeySent","dataKeyOptions","readOnly","Body","ButtonGroup","toggle","radio","idx","ToggleButton","checked","foundData","viewJournalData","checkThing","deepIndex","viewNonJournalData","displayButtonSet","dispClass","String","selectedJournalViewDiv","changeSelectedJournalViewDiv","selectedDivID","showResult","promptTitle","promptBody","markLength","pickJournalCalenderDateStatus","pickNonJournalCalenderDateStatus","alreadyStacked","journalViewErrors","nonJournalViewErrors","pickDate","tileClassName","view","hasJournal","minDetail","maxDetail","initialSave","selectMulti","saveTo","disableThis","displayColor","alreadyDone","choices","selectRating","selectLikert","incomingState","getPlainText","convertToRaw","displayStuff","journalCreate","journalPostFailure","saveFullSet","postJournalStatus","journalPostCallback","incomingStuff","journalErrors","postJournal","incomingID","incomingEditor","incomingTargetDivision","inputDate","journalContent","richContent","nonJournalPostFailure","nonJournalErrors","postNonJournalStatus","nonJournalPostCallback","postNonJournal","incomingValue","chosenValue","APISaveNonJournal","checkDataSet","savePromptData","targetID","identifier","duplicate","prop","promptData","promptList","selectedDivision","selectDisplayButton","promptSet","currentDisplayDivision","currentDivID","dataTarget","classSet","divisionName","promptDisplay","outputThing","promptID","matchToday","nonJournalPromptsDone","journalPromptsDone","journalScanPromptsDone","SecurityPages","oldPasswordChange","oldPassword","newPasswordChange","newPassword","newPassword2Change","newPassword2","newEmailChange","newEmail","newNewFirstChange","newFirstName","newLastNameChange","newLastName","getDataFailure","getCurrentData","getCurrentDataError","getCurrentDataStatus","getDataSuccess","APIGetUserDetails","changeGeneralFailure","changeEmail","changeGeneralError","changeGeneralStatus","changeGeneralSuccess","APIChangeUserEmail","changeName","newFirst","newLast","APIChangeUserName","changePassword","newPass","oldPass","oldPass2","APIChangeUserPassword","setNewPassword","setNewPassword2","currentEmail","currentFirstName","currentLastName","inviteType","UserInvitePage","getUserInvitesFailure","getUserInvites","getUserInvitesErrors","getUserInvitesStatus","getUserInvitesSuccess","idSet","userNames","divisionNames","targetRole","getUserFullName","inviteDivision","inviteIDList","inviteNamesList","inviteRolesList","APIUserInvitesGet","inviteFailure","submitCode","submitCodeErrors","submitCodeStatus","inviteSuccess","successCodes","inviteCode","APIUserInviteCode","spendInviteFailure","baseTryAgain","spendInviteErrors","spendInviteStatus","spendInviteSuccess","inviteYes","inviteNo","codeFieldChange","displayWaiting","displayErrors","invitesDisplayList","UserWeb","timedRefresh","GenerateGraph","defineGraph","indexTo","background","from","width","sanityCheck","j","selectStuffPrimary","getUserWebFailure","getUserWebRecent","getWebStatus","getUserWebCallback","incomingWeb","webThing","loadedData","graphDataPrimary","loadedDataDate","getUserWebPreviousFailure","getUserWebPreviousCallback","webDate","getUserWebPrevious","incomingDate","selectedWebDay","dert","toSetList","maxNodes","freq","GenerateTestInfo","selectedNodes","eventsPrimary","select","show2","show3","displayMessage","hasWeb","year","month","day","graph","events","getNetwork","network","DefaultView","initializeSuggestionDivision","generatingList","changeSuggestionContent","suggestionEditorState","suggestionPostFailureCallback","postSuggestion","suggestionPostCallback","suggestionContent","currentSuggestionDivision","createdDate","APISaveSuggestion","refreshCompleted","journalDataFailure","journalDataCallback","incomingFullData","nonJournalDataFailure","nonJournalDataCallback","incomingNonJournalData","pickJournalCalenderDate","selectedJournalDate","APIGetJournalData","APIGetNonJournalData","journalMessage","historyGraphTimings","dayLength","weekLength","GraphTimingButtons","currentDisplay","graphState","currentTimeIndex","timeIndex","timescaleList","usedPrompt","EHIselectedPrompt","usedTimescale","EHIselectedTimescale","timescale","dataLabels","dataData","lineOptions","lineData","timecode","dayCount","ehiDaysLabels","slice","ehiDaysData","EHISetPrompt","EHISetTimescale","EHITimeToggle","CompanyInvites","tiggerReload","getDivisionData","getDivisionsInvites","getFailure","getDivisionDataError","getDivisionDataStatus","getSuccess","companyFullName","getInvitesFailure","getInvitesStatus","getInvitesError","getInvitesSuccess","IDList","nameList","roleList","APIDivisionInvitesGet","createInvitesStatus","createInvitesError","inviteUser","targetUser","APIDivisionInvitesCreate","useInvitesStatus","useInvitesError","triggerDropdown","showTargetRole","CompanyPermissions","getPermissionsStatus","getPermissionsError","numChild","admins","views","sends","governs","adminsIDs","viewsIDs","sendsIDs","governsIDs","delAdmins","delSends","setPermissionsStatus","setPermissionsError","testData","toggleDelete","splitEvent","valueNameIndex","valueInt","tempAdm","adminUserList","viewingUserList","sentUserList","governedUserList","viewingPermsCheck","CompanySettings","getSettingsStatus","getSettingsError","expiryDate","viewPerms","divisionFieldChange","newViewPerms","permRender","selectCompany","getData","getDataRequest","keyID","displayData","suggestion","dataDay","currentSelectedDayFilter","validDays","changeSelected","purity","showPrompts","givenPrompt","promptChoices","activeSet","dataBarSet","barOptionsFreq","ProgressBar","magicSet","emoMax","max","emoAve","ave","emoMin","min","dataDocumentEmo","radarOptions","emoThresh","threshold","dataBar","barOptions","dataBarNorm","sentimentBarData","thresholdPos","thresholdNeg","barOptionsNorm","relData","scoreData","scoreOptions","arguments","currentSummaryDate","promptType","summaryResult","messageLine1","currentCompany","messageLine2","messageLine3","hasSummary","numValues","validSummaryDates","triggerType","PromptDisplay","setLastClickedEvent","lastClickedEventIndex","getEventsFailure","getEvents","getEventsStatus","getEventsError","getEventsSuccess","incomingEvents","sortedGlobal","sortedCompany","sortedDivision","eventsGlobBin","eventsCompBin","eventsDivBin","isEnabled","APIGetDivisionEvents","saveEventsFailure","tokenHasRefreshedError","saveEventStatus","saveEventError","saveEventsSuccess","savedIndex","incomingMessage","temp","saveDivEvent","selectedEvent","newTrigger","newEnabledDiv","newEnabled","newPrompts","incomingEnabled","incomingType","APISetDivisionEvents","saveNonDivEventsFailure","saveNonDivEventsSuccess","saveGlobEvent","saveCompEvent","searchForPromptsFailure","searchForPrompts","searchForStatus","searchForError","searchForPromptsCallback","promptsBin","hasSent","searchTerm","searchType","APIGetSearchPrompts","searchText","deleteEventFailure","deleteEventStatus","deleteEventError","deleteEventCallback","storedID","splice","deleteEvent","APIDeleteDivisionEvents","createEvent","newEvents","changeInput","deleteEventPrompt","eventIndex","promptIndex","addingEventPrompt","targetIndex","promptReport","addedPrompt","changeTrigger","idNumberName","alteredEvents","enabledGlobalFieldChange","enabledCompanyFieldChange","enabledDivisionFieldChange","enabledDivisionFieldChangeSuper","globModals","showGlobalEvents","thisEvent","displayCurrentPrompts","indexSub","subset","substring","compModals","showCompEvents","divModals","showDivisionEvents","showSearchPrompts","alteredIndex","aria-describedby","ViewCompanyWeb","selectedNodeID","nodeSet","edgeToSet","edgeFromSet","edgeIndex","checkingIndex","selectedToEdges","selectedFromEdges","getCompanyWebFailure","getCompanyWebRecent","getCompanyWebCallback","getCompanyWebPreviousFailure","getCompanyWebPreviousCallback","getCompanyWebPrevious","testInfo","toStuff","trackStuff","click","displayNodes","displayToEdges","displayFromEdges","changeEHIPrompt","EHISelectedPrompt","changeEHITimescale","EHISelectedTimescale","dateRangeChoice","EHITimespan","companySelectPage","selectedDay","selectedPrompt","setPrompt","setAI","setDay","getValidDates","nonUpdateRefreshingToken","App","sidebar","nextState","changeMenuUserName","newName","newCompany","lastUserSet","user","login","lastAccess","silentTokenUpdate","killAccessToken","rememberMe","timerSet","timedRefreshToken","refreshFailure","callbackSignal","refreshCallback","silentRefreshToken","callbackWhenDone","callbackRetrySignal","APIRefreshToken","triggerSilentRefreshToken","callbackRefresh","deleteServerCookiesFailure","deleteServerCookiesCallback","deleteServerCookies","APISignOut","booper","authToken","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.8dc645ed.chunk.js","sourcesContent":["import axios from \"axios\"\r\n\r\n// Change this over!\r\nconst hostName = \"https://cmaster.pythonanywhere.com\"\r\n//const hostName = \"http://10.0.0.60:8000\"\r\n\r\n// CSRF TOKEN IS NOT WORKING CORRECTLY!!!\r\nconst axiosInstance = axios.create({\r\n\tbaseURL: hostName,\r\n\t//headers: {'CSRF-TOKEN': getCookie('csrftoken')}\r\n\twithCredentials: true,\r\n});\r\n\r\nlet accessToken = \"\"\r\n\r\nexport const setAccessToken = (token) => {\r\n\taccessToken = token\r\n}\r\n\r\n/*\r\nexport const checkAccessToken = () => {\r\n\tconsole.log(accessToken)\r\n}\r\n*/\r\n\r\nconst convertSummaryType = [\r\n\t\"day\",\r\n\t\"week\",\r\n\t\"month\",\r\n\t\"year\",\r\n]\r\n\r\nconst convertDate = (date) => {\r\n  var yyyy = date.getFullYear().toString();\r\n  var mm = (date.getMonth()+1).toString();\r\n  var dd  = date.getDate().toString();\r\n\r\n  var mmChars = mm.split('');\r\n  var ddChars = dd.split('');\r\n\r\n  return yyyy + '-' + (mmChars[1]?mm:\"0\"+mmChars[0]) + '-' + (ddChars[1]?dd:\"0\"+ddChars[0]);\r\n}\r\n// Maybe, I should keep ALLLLL data related to API stuff over here\r\n// All reformats...\r\n\r\n// Put a generalized Error Gathering here? Would save time...\r\n// I would LOVE to make it so that all the general stuf happens in here, but I have yet to figure that out...\r\nconst checkError = (err) => {\r\n\t//console.log(err)\r\n\t// So.... Should I use my [ Action, Display ]\r\n\t// Or, should I simplify just to [ Action ]\r\n\tif (!err.response) {\r\n\t\t// Network Error\r\n\t\treturn {'action':0, 'messages':[ {'mod':-1, 'text':\"Newtork Error\"} ]}\r\n\t}\r\n\telse {\r\n\t\tlet errStatus = err.response.status\r\n\t\tlet errData = err.response.data\r\n\t\t\r\n\t\t// Proper response\r\n\t\tif (errStatus === 401) {\r\n\t\t\t// Unauthorized\r\n\t\t\t// Trigger the LOGOUT function\r\n\t\t\t\r\n\t\t\tfor (let errorName in errData) {\r\n\t\t\t\tif (errData[errorName] === \"No active account found with the given credentials\") {\r\n\t\t\t\t\treturn {'action':3, 'messages':[ {'mod':3, 'text':errData[errorName]} ]}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn {'action':1, 'messages':[ {'mod':1, 'text':\"Try That Again!\"} ]}\r\n\t\t}\r\n\t\telse if (errStatus === 403) {\r\n\t\t\t// Invalid Permissions, find out what it is\r\n\t\t\t// ALSO, remember! if it is a DEACTIVATED account, then it is different!\r\n\t\t\treturn {'action':2, 'messages':[ {'mod':-1, 'text':\"Permission Failed\"} ]}\r\n\t\t}\r\n\t\telse if (errStatus === 400) {\r\n\t\t\t// Bad Request, sort out so its just a single number set...\r\n\t\t\tlet errorSet = []\r\n\t\t\t\r\n\t\t\tfor (let errorName in errData) {\r\n\t\t\t\tif (errorName === \"username\") {\r\n\t\t\t\t\terrorSet.push( {'mod':1, 'text':errData[errorName]} )\r\n\t\t\t\t}\r\n\t\t\t\telse if (errorName === \"password\") {\r\n\t\t\t\t\terrorSet.push( {'mod':2, 'text':errData[errorName]} )\r\n\t\t\t\t} \r\n\t\t\t\telse if (errorName === \"non_field_errors\") {\r\n\t\t\t\t\terrorSet.push( {'mod':3, 'text':errData[errorName]} )\r\n\t\t\t\t}\r\n\t\t\t\telse if (errorName === \"email\") {\r\n\t\t\t\t\terrorSet.push( {'mod':4, 'text':errData[errorName]} )\r\n\t\t\t\t}\r\n\t\t\t\telse if (errorName === \"dup\") {\r\n\t\t\t\t\terrorSet.push( {'mod':5, 'text':errData[errorName]} )\r\n\t\t\t\t}\r\n\t\t\t\telse if (errorName === \"token\") {\r\n\t\t\t\t\terrorSet.push( {'mod':6, 'text':errData[errorName]} )\r\n\t\t\t\t}\r\n\t\t\t\telse if (errorName === \"invite\") {\r\n\t\t\t\t\terrorSet.push( {'mod':7, 'text':errData[errorName]} )\r\n\t\t\t\t}\r\n\t\t\t\telse if (errorName === \"status\") {\r\n\t\t\t\t\terrorSet.push( {'mod':8, 'text':errData[errorName]} )\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\terrorSet.push( {'mod':0, 'text':errData[errorName]} )\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn {'action':3, 'messages':errorSet}\r\n\t\t}\r\n\t\telse if (errStatus === 500) {\r\n\t\t\t// Internal Server Error! Show why in the console!\r\n\t\t\treturn {'action':4, 'messages':[ {'mod':-1, 'text':\"Server Error!\"} ]}\r\n\t\t}\r\n\t\telse {\r\n\t\t\t// Anything I have not determined...\r\n\t\t\t// Raw display\r\n\t\t\treturn {'action':5, 'messages':[ {'mod':-1, 'text':\"Unhandled Response! Error!\"} ]}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const APITestSecurity = () => {\r\n\t\r\n\t/*\r\n\tconst data = {\r\n\t\t//username: \"dummyUser\",\r\n\t\t//password: \"dummyPasswor\",\r\n\t};\r\n\t*/\r\n\t\r\n\tconst config = {\r\n\t\t//headers: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\taxiosInstance.get(\"/link/action\", config)\r\n\t.then( \tres => {\r\n\t\tconsole.log(res)\r\n\t})\r\n\t.catch( err => {\r\n\t\tconsole.log(err)\r\n\t});\r\n}\r\n\r\n// Refresh!\r\nexport const APIRefreshToken = (callbackFunction, callbackFailure, callbackRetrySignal) => {\r\n\tconst data = {\r\n\t\t//token: refreshToken,\r\n\t};\r\n\t\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\taxiosInstance.post(\"/api/customRefreshToken/\", data, config)\r\n\t.then( \tres => {\r\n\t\t//console.log(res)\r\n\t\t\r\n\t\t// If we get here then we should have a new token\r\n\t\t//console.log(\"Token refreshed\")\r\n\t\tcallbackFunction(res.data, callbackRetrySignal)\r\n\t})\r\n\t.catch( err => {\r\n\t\t// Check for a specific error?\r\n\t\t//console.log(err)\r\n\t\t\r\n\t\tlet result = checkError(err, callbackRetrySignal)\r\n\t\t//console.log(result)\r\n\t\t\r\n\t\tcallbackFailure(result)\r\n\t});\r\n}\r\n\r\n// Sign In!\r\nexport const APISignIn = (isUserOrEmail, requestUsername, requestPassword, callbackFunction, callbackFailure) => {\r\n\tlet data = {\r\n\t\tpassword: requestPassword,\r\n\t};\r\n\t\r\n\tif (isUserOrEmail) {\r\n\t\tdata[\"email\"] = requestUsername\r\n\t}\r\n\telse {\r\n\t\tdata[\"username\"] = requestUsername\r\n\t}\r\n\t\r\n\t//{withCredentials: false}\r\n\taxiosInstance.post(\"/api/customGetToken/\", data)\r\n\t.then( res => {\r\n\t\t//console.log(res)\r\n\t\t//let outData = res.data.access\r\n\t\tcallbackFunction(res.data)\r\n\t})\r\n\t.catch( err => {\r\n\t\t// Find out what error it was, then change the sign in page accordingly by the by...\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\t\r\n\t\tcallbackFailure(result)\r\n\t})\r\n}\r\n\r\n// Sign Out1!\r\nexport const APISignOut = (callbackFunction, callbackFailure) => {\r\n\tconst data = {\r\n\t\t//token: refreshToken,\r\n\t};\r\n\t\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\taxiosInstance.post(\"/api/customDeleteToken/\", data, config)\r\n\t.then( res => {\r\n\t\t//console.log(res)\r\n\t\t//let outData = res.data.access\r\n\t\tcallbackFunction(res.data)\r\n\t})\r\n\t.catch( err => {\r\n\t\t// Find out what error it was, then change the sign in page accordingly by the by...\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\t\r\n\t\tcallbackFailure(result)\r\n\t})\r\n}\r\n\r\n// Sign Up!\r\nexport const APISignUp = (requestUsername, requestPassword1, requestPassword2, email, firstName, lastName, callbackFunction, callbackFailure) => {\r\n\tconst data = {\r\n\t\tusername: requestUsername,\r\n\t\tpassword: requestPassword1,\r\n\t\tpassword2: requestPassword2,\r\n\t\temail: email,\r\n\t\tfirst_name: firstName,\r\n\t\tlast_name: lastName,\r\n\t};\r\n\t\r\n\t// Output of this boi is the error messages and stuff...\r\n\t// Because the only data we really need is that it succeeded before we continue...\r\n\taxiosInstance.post(\"/api/registerUser/\", data )\r\n\t.then( res => { \r\n\t\t//res.data\r\n\t\tlet outData = res.status\r\n\t\tcallbackFunction(outData)\r\n\t})\r\n\t.catch( err => {\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\t\r\n\t\tcallbackFailure(result)\r\n\t})\r\n}\r\n\r\n// Validator Check!\r\nexport const APIValidateAccount = (activateToken, callbackFunction, callbackFailure) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\taxiosInstance.get(\"/api/emailActivate/?token=\"+activateToken, config)\r\n\t.then(res => {\r\n\t\t\tcallbackFunction(res.status, res.data)\r\n\t})\r\n\t.catch( err => {\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\t\r\n\t\tcallbackFailure(result)\r\n\t});\r\n}\r\n\r\n// Resend Validation Email!\r\nexport const APIResendValidator = (callbackFunction, callbackFailure) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\taxiosInstance.get(\"/api/emailVerifyResend\", config)\r\n\t.then(res => {\r\n\t\t\t//console.log(\"Got Data!\")\r\n\t\t\t//console.log(res.data)\r\n\t\t\tcallbackFunction()\r\n\t})\r\n\t.catch( err => {\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t});\r\n}\r\n\r\n// Check if the user is active!\r\nexport const APICheckActive = (callbackFunction, callbackFailure) => {\r\n\tconst config = {\r\n\t\theaders: { \r\n\t\t\tAuthorization: `JWT ${accessToken}`,\r\n\t\t\t'Content-Type': 'application/json',\r\n\t\t\t'accept': 'application/json'\r\n\t\t}\r\n\t};\r\n\t\r\n\taxiosInstance.get(\"/api/userIsActive\", config)\r\n\t.then(res => {\r\n\t\tcallbackFunction(res.data[0].isActive)\r\n\t})\r\n\t.catch( err => {\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\t\r\n\t\tcallbackFailure(result)\r\n\t});\r\n}\r\n\r\n// Contact Us Email\r\nexport const APIContactUsEmail = (firstName, lastName, email, company, content, callbackFunction, callbackFailure) => {\r\n\tconst data = {\r\n\t\t\t\r\n\t\tfirstName: firstName,\r\n\t\tlastName: lastName,\r\n\t\t\r\n\t\temail: email,\r\n\t\tcompany: company,\r\n\t\t\r\n\t\tcontent: content,\t\t\r\n\t};\r\n\r\n\taxiosInstance.post(\"/api/sendContactEmail/\", data )\r\n\t.then( res => { \r\n\t\r\n\t\t// Successfully Sent the email, can trigger something on this side\r\n\t\tif (res.status === 200) {\r\n\r\n\t\t}\r\n\t})\r\n\t.catch( err => {\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t})\r\n}\r\n\r\n// Beta Sign Up Email\r\nexport const APIBetaSignEmail = (email, callbackFunction, callbackFailure) => {\r\n\tconst data = {\r\n\t\temail: email,\r\n\t};\r\n\r\n\taxiosInstance.post(\"/api/sendBetaEmail/\", data )\r\n\t.then( res => { \r\n\t\r\n\t\t// Successfully Sent the email, can trigger something on this side\r\n\t\tif (res.status === 200) {\r\n\r\n\t\t}\r\n\t})\r\n\t.catch( err => {\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t})\r\n}\r\n\r\n\r\n// Forgot Password Email Send!\r\nexport const APIForgotEmailSend = (sendEmail, callbackFunction, callbackFailure) => {\r\n\r\n\t// Not logged in, so no token\r\n\tconst data = {\r\n\t\ttargetEmail: sendEmail,\r\n\t};\r\n\t\r\n\taxiosInstance.post(\"/api/nonAuthPassword/sendEmail/\", data)\r\n\t.then(res => {\r\n\t\t\t//console.log(res)\r\n\t\t\tcallbackFunction(res.status)\r\n\t\t}\r\n\t)\r\n\t.catch(err => {\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t});\r\n}\r\n// Forgot Password Validator Token Check!\r\nexport const APIForgotEmailValidate = (passToken, callbackFunction, callbackFailure) => {\r\n\r\n\t// Not logged in, so no token\r\n\tconst config = {\r\n\t\t\r\n\t};\r\n\t\r\n\taxiosInstance.get(\"/api/nonAuthPassword/validate/?token=\"+passToken, config)\r\n\t.then(res => {\r\n\t\t\tcallbackFunction(res.status)\r\n\t\t}\r\n\t)\r\n\t.catch(err => {\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t});\r\n}\r\n\r\n// Forgot Password Password Changer!\r\nexport const APIForgotEmailChangePassword = (passToken, password1, password2, callbackFunction, callbackFailure) => {\r\n\t// Not logged in, so no token\r\n\tconst data = {\r\n\t\tpassword:password1,\r\n\t\tpassword2:password2,\r\n\t\tpassToken:passToken,\r\n\t};\r\n\t\r\n\taxiosInstance.put(\"/api/nonAuthPassword/Change/\", data)\r\n\t.then(res => {\r\n\t\t\t// If this triggers, we should be completly fine...\r\n\t\t\tcallbackFunction(res.status)\r\n\t\t}\r\n\t)\r\n\t.catch(err => {\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t});\r\n}\r\n\r\n// Logged In Password Changer!\r\nexport const APILoggedInPasswordChanger = (callbackFunction, callbackFailure) => {\r\n\r\n}\r\n\r\n// Saving of the suggestion...\r\nexport const APISaveSuggestion = (postingDate, targetDivision, content, editorBlock, callbackFunction, callbackFailure) => {\r\n\t\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\t// As UTC: postingDate.toJSON().split(\"T\")[0]\r\n\tconst data = {\r\n\t\treqDiv: targetDivision,\r\n\t\t\r\n\t\tcreatedDate: convertDate( postingDate ),\r\n\t\tcontent: content,\r\n\t\t\r\n\t\trichText: editorBlock,\r\n\t};\r\n\t\r\n\taxiosInstance.post(\"/api/saveNewSuggestion/\", data, config )\r\n\t.then( res => { \r\n\t\tcallbackFunction(res.data)\r\n\t})\r\n\t.catch( err => {\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t})\r\n}\r\n\r\n// Save the journal data...\r\nexport const APISaveJournal = (postingDate, promptValue, targetDiv, content, editorBlock, callbackFunction, callbackFailure) => {\r\n\t\r\n\tconsole.log()\r\n\t\r\n\tconst randomID = Math.random().toString(16).substr(2, 8);\r\n\t\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\tconst data = {\r\n\t\tshorthand: \"WEB\"+randomID,\r\n\t\t\r\n\t\ttargetDivision: targetDiv,\r\n\t\t\r\n\t\t// Author is filled in based on your Token on the server side...\r\n\t\t// The timezone on the server is different.....\r\n\t\tforDate: convertDate( postingDate ),\r\n\r\n\t\tusedPromptKeyText: promptValue,\r\n\r\n\t\tcontent: content,\r\n\t\trichText: editorBlock,\r\n\t};\r\n\t\r\n\t//console.log(data)\r\n\t\r\n\taxiosInstance.post(\"/api/saveUserJournal/\", data, config )\r\n\t.then( res => { \r\n\t\tcallbackFunction(res.data)\r\n\t})\r\n\t.catch( err => {\r\n\t\t// Change this depending on the error...?\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t})\r\n}\r\n\r\n// Save the Non-journal data...\r\nexport const APISaveNonJournal = (postingDate, promptValue, targetDiv, incomingData, callbackFunction, callbackFailure) => {\r\n\t\t\r\n\tconst randomID = Math.random().toString(16).substr(2, 8);\r\n\t\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\tconst data = {\r\n\t\tshorthand: 'made from the website: '+randomID,\r\n\t\t\r\n\t\ttargetDivision: targetDiv,\r\n\t\t\r\n\t\t// Author is filled in based on your Token on the server side...\r\n\t\t// The timezone on the server is different.....\r\n\t\tforDate: convertDate( postingDate ),\r\n\r\n\t\tusedPromptKeyText: promptValue,\r\n\r\n\t\tchosenValue: incomingData,\r\n\t};\r\n\t//console.log(data)\r\n\taxiosInstance.post(\"/api/saveUserNonJournal/\", data, config )\r\n\t.then( res => { \r\n\t\tcallbackFunction(res.data)\r\n\t})\r\n\t.catch( err => {\r\n\t\t// Change this depending on the error...?\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t})\r\n}\r\n\r\nexport const APIGetJournalPrompts = (callbackFunction, callbackFailure) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\taxiosInstance.get(\"/api/getValidPrompts\", config)\r\n\t.then( \r\n\t\tres => {\r\n\t\t\t// This should be ok for now?\r\n\t\t\tcallbackFunction( res.data )\r\n\t})\r\n\t.catch( err => {\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t});\r\n}\r\n\r\n// Get the dates for a specific user, defined in the auth token\r\n// I may have to redo this?\r\nexport const APIGetJournalDates = (callbackFunction, callbackFailure) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\taxiosInstance.get(\"/api/getJournalDates\", config)\r\n\t.then( \r\n\t\tres => {\r\n\t\t\t//console.log(\"Got Data!\")\r\n\t\t\t\r\n\t\t\tlet todayDateFull = new Date()\r\n\t\t\tlet todayDate = todayDateFull.getFullYear()+\"-\"+todayDateFull.getMonth()+\"-\"+(todayDateFull.getDate())\r\n\r\n\t\t\tlet tempAIObject = []\r\n\t\t\tlet tempJoObject = []\r\n\t\t\t\r\n\t\t\tfor (let item in res.data){\r\n\t\t\t\tconst newDate = new Date(res.data[item].forDate)\r\n\t\t\t\tconst checkDate = newDate.getFullYear()+\"-\"+newDate.getMonth()+\"-\"+(newDate.getDate()+1)\t\r\n\t\t\t\t\r\n\t\t\t\tif (res.data[item].hasAI) {\r\n\t\t\t\t\tif (checkDate in tempJoObject) {\r\n\t\t\t\t\t\ttempAIObject[checkDate].push( res.data[item].usedPromptKey )\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\ttempAIObject[checkDate] = [ res.data[item].usedPromptKey ]\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (todayDate === checkDate) {\r\n\t\t\t\t\t\tif (\"today\" in tempAIObject) {\r\n\t\t\t\t\t\t\ttempAIObject[\"today\"].push( res.data[item].usedPromptKey )\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\ttempAIObject[\"today\"] = [ res.data[item].usedPromptKey ]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (checkDate in tempJoObject) {\r\n\t\t\t\t\t\ttempJoObject[checkDate].push( res.data[item].usedPromptKey )\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\ttempJoObject[checkDate] = [ res.data[item].usedPromptKey ]\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (todayDate === checkDate) {\r\n\t\t\t\t\t\tif (\"today\" in tempJoObject) {\r\n\t\t\t\t\t\t\ttempJoObject[\"today\"].push( res.data[item].usedPromptKey )\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\ttempJoObject[\"today\"] = [ res.data[item].usedPromptKey ]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tcallbackFunction(tempJoObject, tempAIObject)\r\n\t})\r\n\t.catch( err => {\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\t\r\n\t\tcallbackFailure(result)\r\n\t});\r\n};\r\n\r\nexport const APIGetNonJournalDates = (callbackFunction, callbackFailure) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\taxiosInstance.get(\"/api/getNonJournalDates\", config)\r\n\t.then( \r\n\t\tres => {\r\n\t\t\t//console.log(\"Got Data!\")\r\n\t\t\tlet todayDateFull = new Date()\r\n\t\t\tlet todayDate = todayDateFull.getFullYear()+\"-\"+todayDateFull.getMonth()+\"-\"+(todayDateFull.getDate())\r\n\t\t\t\r\n\t\t\tlet tempJoObject = []\r\n\t\t\tfor (let item in res.data){\r\n\t\t\t\tconst newDate = new Date(res.data[item].forDate)\r\n\t\t\t\tconst checkDate = newDate.getFullYear()+\"-\"+newDate.getMonth()+\"-\"+(newDate.getDate()+1)\r\n\t\t\t\t\r\n\t\t\t\tif (checkDate in tempJoObject) {\r\n\t\t\t\t\ttempJoObject[checkDate].push( res.data[item].usedPromptKey )\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\ttempJoObject[checkDate] = [ res.data[item].usedPromptKey ]\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (todayDate === checkDate) {\r\n\t\t\t\t\tif (\"today\" in tempJoObject) {\r\n\t\t\t\t\t\ttempJoObject[\"today\"].push( res.data[item].usedPromptKey )\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\ttempJoObject[\"today\"] = [ res.data[item].usedPromptKey ]\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tcallbackFunction(tempJoObject)\r\n\t})\r\n\t.catch( err => {\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\t\r\n\t\tcallbackFailure(result)\r\n\t});\r\n};\r\n\r\n// Get the data for a speific date, where the user defined is in the token\r\nexport const APIGetJournalData = (selectedDate, callbackFunction, callbackFailure) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\t//console.log(\"Requesting Date from Server\")\r\n\tconst dateReq = selectedDate.toJSON().split(\"T\")[0]\r\n\t\r\n\taxiosInstance.get(\"/api/getUserJournal/?reqDate=\"+dateReq, config)\r\n\t.then( \r\n\t\tres => {\r\n\t\t\t//console.log(res.data)\r\n\t\t\t/*\r\n\t\t\tlet promptSet = []\r\n\t\t\tlet contentSet = []\r\n\t\t\tlet blockSet = []\r\n\t\t\tlet AISet = []\r\n\t\t\t\r\n\t\t\tfor (let index in res.data) {\r\n\t\t\t\r\n\t\t\t\tpromptSet.push(res.data[index].usedPromptKey)\r\n\t\t\t\tcontentSet.push(res.data[index].content)\r\n\t\t\t\tblockSet.push(res.data[index].richText)\r\n\t\t\t\t\r\n\t\t\t\tlet AIData = {}\r\n\t\t\t\tif (res.data[index].hasAI) {\r\n\t\t\t\t\tAIData = res.data[index].AIresult\r\n\t\t\t\t}\r\n\t\t\t\tAISet.push(AIData)\r\n\t\t\t}\r\n\t\t\t*/\r\n\t\t\t\r\n\t\t\tcallbackFunction(res.data)\r\n\r\n\t})\r\n\t.catch( err => {\r\n\t\t\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t});\r\n};\r\n\r\nexport const APIGetNonJournalData = (selectedDate, callbackFunction, callbackFailure) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\t//console.log(\"Requesting Date from Server\")\r\n\tconst dateReq = selectedDate.toJSON().split(\"T\")[0]\r\n\t\r\n\taxiosInstance.get(\"/api/getUserNonJournal/?reqDate=\"+dateReq, config)\r\n\t.then( \r\n\t\tres => {\r\n\t\t\t//console.log(res.data)\r\n\t\t\tcallbackFunction(res.data)\r\n\r\n\t})\r\n\t.catch( err => {\r\n\t\t\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t});\r\n};\r\n\r\n// Get the company list under the user, defined in the token\r\nexport const APIGetUsersPermTree = (reqPerms, callbackFunction, callbackFailure) => {\r\n\t\t\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\r\n\taxiosInstance.get(\"/api/getUsersPermissionTree?reqPerms=\"+reqPerms, config)\r\n\t.then( \tres => {\r\n\t\t\t\r\n\t\t\t// Normal behaviour\r\n\t\t\t//console.log(\"Got the tree of companies\")\r\n\t\t\t// Now we convert this data into a tree... Tho why not just use it as is?\r\n\t\t\t//console.log(res.data)\r\n\t\t\t\r\n\t\t\t// Convert the stuff... I am not going to need trees honestly...\r\n\t\t\t\r\n\t\t\tcallbackFunction(res.data[\"divList\"])\r\n\t\t})\r\n\t\t.catch( err => {\r\n\t\t\t\r\n\t\t\tlet result = checkError(err)\r\n\t\t\t//console.log(result)\r\n\t\t\tcallbackFailure(result)\r\n\t\t});\r\n}\r\n\r\nexport const APIGetCompanyValidDates = (divisionID, callbackFunction, callbackFailure) => {\r\n\t\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\taxiosInstance.get(\"/api/getCompanyDates/?reqDiv=\"+divisionID, config)\r\n\t.then( \tres => {\r\n\t\t\t// This is highly likely to be unneeded\r\n\t\t\tlet tempObjectSorter = {}\r\n\t\t\t\r\n\t\t\t//console.log(\"Got Valid Dates!\")\r\n\t\t\tvar item = \"\"\r\n\t\t\tfor (item in res.data){\r\n\t\t\t\t\r\n\t\t\t\t// These dates may be off... I will need to check HOW and WHY.... Because we will need to get the dates from this side..\r\n\t\t\t\t\r\n\t\t\t\tlet typeName = convertSummaryType[ res.data[item].summaryType ]\r\n\r\n\t\t\t\tif ( !(typeName in tempObjectSorter) ) {\r\n\t\t\t\t\ttempObjectSorter[typeName] = []\r\n\t\t\t\t}\r\n\t\t\t\ttempObjectSorter[typeName].push( {'date':res.data[item].forDate, 'num':res.data[item].hasPrompts} )\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//console.log(res.data)\r\n\t\t\t//console.log(tempObjectSorter)\r\n\t\t\tcallbackFunction(tempObjectSorter)\r\n\t})\r\n\t.catch( err => {\r\n\t\t\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t});\r\n}\r\n\r\n// Get a specific company's summary for the list...\r\nexport const APIGetCompanySummary = (divisionID, summaryType, selectedDate, callbackFunction, callbackFailure) => {\r\n\t\r\n\tlet copiedDate = new Date(selectedDate.getTime());\r\n\tconst dateReq = copiedDate.toJSON().split(\"T\")[0]\r\n\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\taxiosInstance.get(\"/api/getCompanySummary/?reqDate=\"+dateReq+\"&reqDiv=\"+divisionID+\"&type=\"+summaryType, config)\r\n\t.then( \r\n\t\tres => {\r\n\t\t\t//console.log(res.data)\r\n\r\n\t\t\t/*for (let index in res.data) {\r\n\t\t\t\tconsole.log(\"obtained a company summary\")\r\n\t\t\t}*/\r\n\r\n\t\t\tcallbackFunction(res.data[0], summaryType)\r\n\t})\r\n\t.catch( err => {\r\n\t\t\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t});\r\n}\r\n\r\nexport const APIGetServerEHIData = (targetCompany, callbackFunction, callbackFailure) => {\r\n\t\t\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\taxiosInstance.get(\"/api/getCompanyEHI/?reqDiv=\"+targetCompany, config)\r\n\t.then( \tres => {\r\n\t\t// Should respond with a 1 length thing\r\n\t\t//console.log(res.data)\r\n\t\tif (res.data.length > 0) {\r\n\t\t\t// Normal behaviour\r\n\t\t\t//console.log(\"Got the company EHI data!\")\r\n\t\t\t\r\n\t\t\tcallbackFunction(res.data[0][\"EHIstorage\"])\r\n\t\t}\r\n\t\telse {\r\n\t\t\t// This should not trigger\r\n\t\t\tcallbackFailure()\r\n\t\t}\r\n\t})\r\n\t.catch( err => {\r\n\t\t\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t});\r\n}\r\n\r\nexport const APIGetSuggestionDates = (targetCompany, callbackFunction, callbackFailure) => {\r\n\t\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\taxiosInstance.get(\"/api/getCompanySuggestionDates/?reqDiv=\"+targetCompany, config)\r\n\t.then( \tres => {\r\n\t\t\r\n\t\tlet datesData = []\r\n\t\t\r\n\t\tlet item = \"\"\r\n\t\tfor (item in res.data) {\r\n\t\t\t\r\n\t\t\tconst newDate = new Date(res.data[item])\r\n\t\t\tconst checkDate = newDate.getFullYear()+\"-\"+newDate.getMonth()+\"-\"+(newDate.getDate()+1)\t\t\r\n\t\t\t//console.log( checkDate )\r\n\t\t\t\t\r\n\t\t\tdatesData.push(checkDate)\r\n\t\t}\r\n\t\t\r\n\t\t//console.log(datesData)\r\n\t\tcallbackFunction(datesData)\r\n\t\t\r\n\t})\r\n\t.catch( err => {\r\n\t\t\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t});\r\n}\r\n\r\nexport const APIGetSuggestionData = (targetCompany, targetDate, callbackFunction, callbackFailure) => {\r\n\t\t\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\tconst dateReq = targetDate.toJSON().split(\"T\")[0]\r\n\t\r\n\taxiosInstance.get(\"/api/getCompanySuggestionData?reqDiv=\"+targetCompany+\"&reqDate=\"+dateReq, config)\r\n\t.then( \tres => {\r\n\t\t// Should respond with a 1 length thing\r\n\t\t//console.log(res.data)\r\n\t\t\r\n\t\t//console.log(\"Got the suggestion data!\")\r\n\t\tcallbackFunction(targetDate, res.data)\r\n\t})\r\n\t.catch( err => {\r\n\t\t\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t});\r\n}\r\n\r\n// CREATING a new invite from the Company Settings Page\r\nexport const APIDivisionInvitesCreate = (targetDivision, targetInvite, targetAction, callbackFunction, callbackFailure) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\tconst data = {\r\n\t\treqDiv:targetDivision,\r\n\t\ttargetUser:targetInvite,\r\n\t\ttargetAction:targetAction,\r\n\t}\r\n\t\r\n\taxiosInstance.post(\"/api/createDivisionInvite/\", data, config)\r\n\t.then( \tres => {\r\n\t\t//console.log(res)\r\n\t\t// I am clearly not thinking these through correctly...\r\n\t\t//let succCode = res.status\r\n\t\tlet succData = res.data\r\n\r\n\t\tcallbackFunction( succData )\r\n\t})\r\n\t.catch( err => {\r\n\t\t\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t});\r\n}\r\n\r\n// GETTING a divisions Invites, NOT THE HEAD ONE!\r\nexport const APIDivisionInvitesSet = (targetDivision, targetInvite, targetAction, callbackFunction, callbackFailure) => {\r\n\t\t\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\tconst data = {\r\n\t\treqDiv:targetDivision,\r\n\t\ttargetInvite:targetInvite,\r\n\t\ttargetAction:targetAction,\r\n\t}\r\n\t\r\n\taxiosInstance.put(\"/api/setDivisionInvite/\", data, config)\r\n\t.then( \tres => {\r\n\t\t//console.log(res)\r\n\t\t// I am clearly not thinking these through correctly...\r\n\t\t//let succCode = res.status\r\n\t\tlet succData = res.data\r\n\r\n\t\tcallbackFunction( succData )\r\n\t})\r\n\t.catch( err => {\r\n\t\t\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t});\r\n}\r\n\r\n// GETTING a divisions Invites, NOT THE HEAD ONE!\r\nexport const APIDivisionInvitesGet = (targetCompany, callbackFunction, callbackFailure) => {\r\n\t\t\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\taxiosInstance.get(\"/api/getDivisionInvites?reqDiv=\"+targetCompany, config)\r\n\t.then( \tres => {\r\n\t\t//console.log(res)\r\n\t\t// I am clearly not thinking these through correctly...\r\n\t\t//let succCode = res.status\r\n\t\tlet succData = res.data\r\n\r\n\t\tcallbackFunction(succData)\r\n\t})\r\n\t.catch( err => {\r\n\t\t\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t});\r\n}\r\n\r\n// GETTING a divisions profile, NOT THE HEAD ONE!\r\nexport const APIDivisionSettingsGet = (targetCompany, callbackFunction, callbackFailure) => {\r\n\t\t\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\taxiosInstance.get(\"/api/getDivisionData?reqDiv=\"+targetCompany, config)\r\n\t.then( \tres => {\r\n\t\t//console.log(res)\r\n\t\t// I am clearly not thinking these through correctly...\r\n\t\t//let succCode = res.status\r\n\t\tlet succData = res.data[0]\r\n\r\n\t\tcallbackFunction(succData)\r\n\t})\r\n\t.catch( err => {\r\n\t\t\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t});\r\n}\r\n\r\n// SAVING an edited division's profile, NOT THE HEAD ONE! THAT IS LATER!\r\nexport const APIDivisionSettingsEdit = (dataSet, callbackFunction, callbackFailure) => {\r\n\t\t\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\t//const data = {\r\n\t\t\r\n\t//};\r\n\t\r\n\tconst data = dataSet\r\n\t\r\n\taxiosInstance.put(\"/api/setDivisionData/\", data, config)\r\n\t.then( \tres => {\r\n\t\t\r\n\t\t// I am clearly not thinking these through correctly...\r\n\t\t//let succCode = res.status\r\n\t\tlet succData = res.data\r\n\r\n\t\tcallbackFunction(succData)\r\n\t})\r\n\t.catch( err => {\r\n\t\t\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t});\r\n\t\r\n}\r\n\r\nexport const APIUserSettingsEdit = (dataSet, callbackFunction, callbackFailure) => {\r\n\t\t\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\t//const data = {\r\n\t\t\r\n\t//};\r\n\t\r\n\tconst data = dataSet\r\n\t\r\n\taxiosInstance.put(\"/api/setUserProfileData/\", data, config)\r\n\t.then( \tres => {\r\n\t\t\r\n\t\t// I am clearly not thinking these through correctly...\r\n\t\t//let succCode = res.status\r\n\t\tlet succData = res.data\r\n\r\n\t\tcallbackFunction(succData)\r\n\t})\r\n\t.catch( err => {\r\n\t\t\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t});\r\n\t\r\n}\r\n\r\n// Sign up for the company's governed list that matches this code...\r\nexport const APIUserInviteCode = (inviteCode, callbackFunction, callbackFailure) => {\r\n\t\t\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\t//let data = {\r\n\t//\t\r\n\t//}\r\n\r\n\taxiosInstance.get(\"/api/useDivisionInvite?joinCode=\"+inviteCode, config)\r\n\t.then( \tres => {\r\n\t\t// Should respond with a 1 length thing\r\n\t\t//let succCode = res.response.status\r\n\t\tlet succData = res.response.data\r\n\t\t//console.log(res.data)\r\n\r\n\t\tcallbackFunction( succData )\r\n\t})\r\n\t.catch( err => {\r\n\t\t\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t});\r\n}\r\n\r\n// Get the invites!\r\nexport const APIUserInvitesGet = (callbackFunction, callbackFailure) => {\r\n\t\t\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\r\n\taxiosInstance.get(\"/api/getUsersInvites\", config)\r\n\t.then( \tres => {\r\n\t\t//console.log(res)\r\n\t\t// I am clearly not thinking these through correctly...\r\n\t\t//let succCode = res.status\r\n\t\tlet succData = res.data\r\n\r\n\t\tcallbackFunction(succData)\r\n\t})\r\n\t.catch( err => {\r\n\t\t\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t});\r\n}\r\n\r\n// Set the invites!\r\nexport const APIUserInvitesSet = (targetInvite, targetAction, callbackFunction, callbackFailure) => {\r\n\t\t\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\tconst data = {\r\n\t\ttargetInvite:targetInvite,\r\n\t\ttargetAction:targetAction,\r\n\t}\r\n\t\r\n\taxiosInstance.put(\"/api/setUserInvite/\", data, config)\r\n\t.then( \tres => {\r\n\t\t// I am clearly not thinking these through correctly...\r\n\t\t//let succCode = res.status\r\n\t\tlet succData = res.data\r\n\r\n\t\tcallbackFunction( succData )\r\n\t})\r\n\t.catch( err => {\r\n\t\t\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t});\r\n}\r\n\r\nexport const APIGetUserDetails = (callbackFunction, callbackFailure) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\taxiosInstance.get(\"/api/getUserDetails/\", config)\r\n\t.then( \tres => {\r\n\t\t//let succCode = res.status\r\n\t\tlet succData = res.data\r\n\r\n\t\tcallbackFunction( succData )\r\n\t})\r\n\t.catch( err => {\r\n\t\t\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t});\r\n}\r\n\r\nexport const APIChangeUserEmail = (newEmail, callbackFunction, callbackFailure) => {\r\n\t\t\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\t// Verify data before we do this?\r\n\tconst data = {\r\n\t\temail:newEmail,\r\n\t}\r\n\t\r\n\taxiosInstance.put(\"/api/updateUserEmail/\", data, config)\r\n\t.then( \tres => {\r\n\t\t//let succCode = res.status\r\n\t\tlet succData = res.data\r\n\r\n\t\tcallbackFunction( succData )\r\n\t})\r\n\t.catch( err => {\r\n\t\t\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t});\r\n}\r\n\r\nexport const APIChangeUserName = (newFirst, newLast, callbackFunction, callbackFailure) => {\r\n\t\t\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\t// Verify data before we do this?\r\n\tconst data = {\r\n\t\tfirst_name:newFirst,\r\n\t\tlast_name:newLast,\r\n\t}\r\n\t\r\n\taxiosInstance.put(\"/api/updateUserName/\", data, config)\r\n\t.then( \tres => {\r\n\t\t//let succCode = res.status\r\n\t\tlet succData = res.data\r\n\r\n\t\tcallbackFunction( succData )\r\n\t})\r\n\t.catch( err => {\r\n\t\t\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t});\r\n}\r\n\r\nexport const APIChangeUserPassword = (newPass, oldPass, oldPass2, callbackFunction, callbackFailure) => {\r\n\t\t\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\t// Verify data before we do this?\r\n\tconst data = {\r\n\t\toldPassword:newPass,\r\n\t\tpassword:oldPass,\r\n\t\tpassword2:oldPass2,\r\n\t}\r\n\t\r\n\taxiosInstance.put(\"/api/updateUserPassword/\", data, config)\r\n\t.then( \tres => {\r\n\t\t//let succCode = res.status\r\n\t\tlet succData = res.data\r\n\r\n\t\tcallbackFunction( succData )\r\n\t})\r\n\t.catch( err => {\r\n\t\t\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t\t\r\n\t});\r\n}\r\n\r\nexport const APIGetSearchPrompts = (searchTerm, searchType, callbackFunction, callbackFailure) => {\r\n\t\t\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\taxiosInstance.get(\"/api/searchPrompts/?queryText=\" + searchTerm + \"&queryType=\" + searchType, config)\r\n\t.then( \tres => {\r\n\t\t//let succCode = res.status\r\n\t\tlet succData = res.data\r\n\r\n\t\tcallbackFunction( succData )\r\n\t})\r\n\t.catch( err => {\r\n\t\t\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t})\r\n}\r\n\r\nexport const APIGetDivisionEvents = (divisionID, callbackFunction, callbackFailure) => {\r\n\t\t\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\taxiosInstance.get(\"/api/getDivisionEvents/?reqDiv=\"+divisionID, config)\r\n\t.then( \tres => {\r\n\t\t//let succCode = res.status\r\n\t\tlet succData = res.data\r\n\t\t\r\n\t\tfor (let index in succData) {\r\n\t\t\tlet isEnabled = false\r\n\t\t\tif ( succData[index][\"usedBy\"].find(element => element === Number(divisionID)) !== undefined ) {\r\n\t\t\t\tisEnabled = true\r\n\t\t\t}\r\n\t\t\tsuccData[index][\"usedBy\"] = isEnabled\r\n\t\t\tsuccData[index][\"fromServer\"] = true\r\n\t\t}\r\n\t\t\r\n\r\n\t\tcallbackFunction( succData )\r\n\t})\r\n\t.catch( err => {\r\n\t\t\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\t\t\r\n\t})\r\n}\r\n\r\nexport const APISetNonDivisionEvents = (savedID, incomingId, incomingDivision, incomingEnabledDiv, callbackFunction, callbackFailure) => {\r\n\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\tconst data = {\r\n\t\t// Supply an ID to update...\r\n\t\t// If this is here, its an update, if it is NOT, its a create\r\n\t\tid: incomingId,\r\n\t\treqDiv: incomingDivision,\r\n\t\t\r\n\t\tenabledDiv: incomingEnabledDiv,\r\n\t}\r\n\t\r\n\taxiosInstance.post(\"/api/setNonDivisionEvents/\", data, config)\r\n\t.then( \tres => {\r\n\t\t//let succCode = res.status\r\n\t\tlet succData = res.data\r\n\r\n\t\tcallbackFunction( savedID, succData )\r\n\t})\r\n\t.catch( err => {\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t\t\r\n\t\t//callbackFailure( savedID, errCodes, errDatas )\r\n\t\t\r\n\t})\r\n}\r\n\r\nexport const APISetDivisionEvents = (savedID, incomingId, incomingDivision, incomingEnabledDiv, incomingEnabled, incomingType, incomingPrompts, callbackFunction, callbackFailure) => {\r\n\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\tconst data = {\r\n\t\t// Supply an ID to update...\r\n\t\t// If this is here, its an update, if it is NOT, its a create\r\n\t\tid: incomingId,\r\n\t\treqDiv: incomingDivision,\r\n\t\t\r\n\t\tenabledDiv: incomingEnabledDiv,\r\n\t\tenabled: incomingEnabled,\r\n\t\ttriggerType: incomingType,\r\n\t\tpromptSet: incomingPrompts,\r\n\t}\r\n\t\r\n\taxiosInstance.post(\"/api/setDivisionEvents/\", data, config)\r\n\t.then( \tres => {\r\n\t\t//let succCode = res.status\r\n\t\tlet succData = res.data\r\n\r\n\t\tcallbackFunction( savedID, succData )\r\n\t})\r\n\t.catch( err => {\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t\t\r\n\t\t//callbackFailure( savedID, errCodes, errDatas )\r\n\t\t\r\n\t})\r\n}\r\n\r\nexport const APIDeleteDivisionEvents = (savedID, incomingId, incomingDivision, callbackFunction, callbackFailure) => {\r\n\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\tconst data = {\r\n\t\t// Supply an ID to update...\r\n\t\t// If this is here, its an update, if it is NOT, its a create\r\n\t\tid: incomingId,\r\n\t\treqDiv: incomingDivision,\r\n\t}\r\n\t\r\n\taxiosInstance.post(\"/api/deleteDivisionEvents/\", data, config)\r\n\t.then( \tres => {\r\n\t\t//let succCode = res.status\r\n\t\tlet succData = res.data\r\n\r\n\t\tcallbackFunction( savedID, succData )\r\n\t})\r\n\t.catch( err => {\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t\t\r\n\t\t//callbackFailure( savedID, errCodes, errDatas )\r\n\t\t\r\n\t})\r\n}\r\n\r\n// Gatting the Web Dates from the server!\r\nexport const APIGetDivisionWebDates = (divisionID, callbackFunction, callbackFailure) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\taxiosInstance.get(\"/api/getDivisionWebDates/?reqDiv=\"+divisionID, config)\r\n\t.then( \r\n\t\tres => {\r\n\t\t\tcallbackFunction(res.data)\r\n\t})\r\n\t.catch( err => {\r\n\t\t\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t});\r\n};\r\n\r\n// Gatting the Web from the server!\r\nexport const APIGetDivisionWeb = (divisionID, targetDate, callbackFunction, callbackFailure) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\tlet dateReq = \"recent\"\r\n\tif (!(targetDate === undefined)) {\r\n\t\tdateReq = targetDate.toJSON().split(\"T\")[0]\r\n\t}\r\n\t\r\n\taxiosInstance.get(\"/api/getDivisionWebData/?reqDiv=\"+divisionID+\"&reqDate=\"+dateReq, config)\r\n\t.then( \r\n\t\tres => {\r\n\t\t\tcallbackFunction(res.data)\r\n\t})\r\n\t.catch( err => {\r\n\t\t\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t});\r\n};\r\n\r\n// Gatting the Web Dates from the server!\r\nexport const APIGetUserWebDates = (callbackFunction, callbackFailure) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\taxiosInstance.get(\"/api/getUserWebDates/\", config)\r\n\t.then( \r\n\t\tres => {\r\n\t\t\tcallbackFunction(res.data)\r\n\t})\r\n\t.catch( err => {\r\n\t\t\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t});\r\n};\r\n\r\n// Gatting the Web from the server!\r\nexport const APIGetUserWeb = (targetDate, callbackFunction, callbackFailure) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\tlet dateReq = \"recent\"\r\n\tif (!(targetDate === undefined)) {\r\n\t\tdateReq = targetDate.toJSON().split(\"T\")[0]\r\n\t}\r\n\t\r\n\taxiosInstance.get(\"/api/getUserWebData/?reqDate=\"+dateReq, config)\r\n\t.then( \r\n\t\tres => {\r\n\t\t\t\tcallbackFunction(res.data)\r\n\t})\r\n\t.catch( err => {\r\n\t\t\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t});\r\n};\r\n\r\n// This is for our testing!\r\nexport const APIGetEmailAIData = (requestID, callbackFunction, callbackFailure) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `JWT ${accessToken}` }\r\n\t};\r\n\t\r\n\t//!! IS THE EMAIL ID ACTUALLY SECRET? !!\r\n\t//!! CHANGE THIS TO A POST IF SO!!\r\n\t\r\n\taxiosInstance.get(\"/api/getEmailScan/?emailID=\"+requestID, config)\r\n\t.then( \r\n\t\tres => {\r\n\t\t\t//console.log(res.data)\r\n\t\t\tif (res.data.length > 0) {\r\n\t\t\t\tcallbackFunction(res.data[0])\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tcallbackFailure({'mod':37, 'text':\"No Data to read!\"})\r\n\t\t\t}\r\n\r\n\t})\r\n\t.catch( err => {\r\n\t\t\r\n\t\tlet result = checkError(err)\r\n\t\t//console.log(result)\r\n\t\tcallbackFailure(result)\r\n\t});\r\n};","// I should use the way I redid this in the side app as a template to simplify this as much as possible\r\n\r\n// First version of a Line graph with Arbitrary everything...\r\nexport const arbitraryLineData = (inputXAxis, inputDataList) => {\r\n\t\r\n\tlet builtData = []\r\n\tlet dataIndex = 0\r\n\tfor (dataIndex in inputDataList) {\r\n\t\tbuiltData.push({\r\n\t\t\tlabel: inputDataList[dataIndex].label,\r\n\t\t\tdata: inputDataList[dataIndex].data,\r\n\t\t\tfill: false,\r\n\t\t\tbackgroundColor: 'rgb(99, 255, 132)',\r\n\t\t\tborderColor: 'rgba(255, 132, 99, 0.2)',\r\n\t\t})\r\n\t}\r\n\t\r\n\tconst data = {\r\n\t\tlabels: inputXAxis,\r\n\t\tdatasets: builtData,\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const arbitraryLineOptions = () => {\r\n\tconst options = {\r\n\t\tscales: {\r\n\t\t\tyAxes: [\r\n\t\t\t\t{\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\n// Initial tests show good results, So I should merge these into as few functions as I can....\r\n// Right now its too many...\r\nexport const getRadarEmotionData = (inputData) => {\r\n\t\r\n\tconst data = {\r\n\t\tlabels: ['Joy', 'Anger', 'Sadness', 'Disgust', 'Fear'],\r\n\t\t\tdatasets: [ \r\n\t\t\t{\r\n\t\t\t\tlabel: 'Confidence Levels',\r\n\t\t\t\tdata: inputData,\r\n\t\t\t\tbackgroundColor: 'rgba(99, 255, 132, 0.2)',\r\n\t\t\t\tborderColor: 'rgba(99, 255, 132, 1)',\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const getRadarEmotionOptions = () => {\r\n\tconst options = {\r\n\t  scale: {\r\n\t\tticks: { \r\n\t\t\tbeginAtZero: true,\r\n\t\t\tsuggestedMin: 0,\r\n\t\t\tsuggestedMax: 1,\r\n\t\t},\r\n\t  },\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\nexport const getSentimentData = (inputData) => {\r\n\tconst data = {\r\n\tlabels: ['Positive', 'Negative'],\r\n\tdatasets: [\r\n\t\t\t{\r\n\t\t\tlabel: ['Sentiment'], \r\n\t\t\tdata: inputData,\r\n\t\t\tbackgroundColor: [\r\n\t\t\t\t'rgba(99, 255, 132, 0.2)',\r\n\t\t\t\t'rgba(54, 162, 235, 0.2)',\r\n\t\t\t\t'rgba(255, 206, 86, 0.2)',\r\n\t\t\t\t'rgba(75, 192, 192, 0.2)',\r\n\t\t\t\t'rgba(153, 102, 255, 0.2)',\r\n\t\t\t\t'rgba(255, 159, 64, 0.2)',\r\n\t\t\t],\r\n\t\t\tborderColor: [\r\n\t\t\t\t'rgba(99, 255, 132, 1)',\r\n\t\t\t\t'rgba(54, 162, 235, 1)',\r\n\t\t\t\t'rgba(255, 206, 86, 1)',\r\n\t\t\t\t'rgba(75, 192, 192, 1)',\r\n\t\t\t\t'rgba(153, 102, 255, 1)',\r\n\t\t\t\t'rgba(255, 159, 64, 1)',\r\n\t\t\t],\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const getSentimentOptions = () => {\r\n\tconst options = {\r\n\t\tcutoutPercentage: 50,\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\nexport const getConceptsData = (inputData, labels) => {\r\n\tconst data = {\r\n\tlabels: labels,\r\n\tdatasets: [\r\n\t\t\t{\r\n\t\t\tlabel: 'Concepts Relevance',\r\n\t\t\tdata: inputData,\r\n\t\t\tbackgroundColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 0.2)',\r\n\t\t\t\t'rgba(54, 162, 235, 0.2)',\r\n\t\t\t\t'rgba(255, 206, 86, 0.2)',\r\n\t\t\t\t'rgba(75, 192, 192, 0.2)',\r\n\t\t\t\t'rgba(153, 102, 255, 0.2)',\r\n\t\t\t\t'rgba(255, 159, 64, 0.2)',\r\n\t\t\t],\r\n\t\t\tborderColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 1)',\r\n\t\t\t\t'rgba(54, 162, 235, 1)',\r\n\t\t\t\t'rgba(255, 206, 86, 1)',\r\n\t\t\t\t'rgba(75, 192, 192, 1)',\r\n\t\t\t\t'rgba(153, 102, 255, 1)',\r\n\t\t\t\t'rgba(255, 159, 64, 1)',\r\n\t\t\t],\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const getConceptsOptions = () => {\r\n\tconst options = {\r\n\t\tscales: {\r\n\t\t\tyAxes: [{\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t\tsuggestedMin: 0,\r\n\t\t\t\t\t\tsuggestedMax: 1,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\n// This can probobly be merged with the other one... but it is here for perhaps a color shift?\r\nexport const getCategoryData = (inputData, labels) => {\r\n\tconst data = {\r\n\tlabels: labels,\r\n\tdatasets: [\r\n\t\t\t{\r\n\t\t\tlabel: 'Categories Score',\r\n\t\t\tdata: inputData,\r\n\t\t\tbackgroundColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 0.2)',\r\n\t\t\t\t'rgba(54, 162, 235, 0.2)',\r\n\t\t\t\t'rgba(255, 206, 86, 0.2)',\r\n\t\t\t\t'rgba(75, 192, 192, 0.2)',\r\n\t\t\t\t'rgba(153, 102, 255, 0.2)',\r\n\t\t\t\t'rgba(255, 159, 64, 0.2)',\r\n\t\t\t],\r\n\t\t\tborderColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 1)',\r\n\t\t\t\t'rgba(54, 162, 235, 1)',\r\n\t\t\t\t'rgba(255, 206, 86, 1)',\r\n\t\t\t\t'rgba(75, 192, 192, 1)',\r\n\t\t\t\t'rgba(153, 102, 255, 1)',\r\n\t\t\t\t'rgba(255, 159, 64, 1)',\r\n\t\t\t],\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const getCategoryOptions = () => {\r\n\tconst options = {\r\n\t\tscales: {\r\n\t\t\tyAxes: [{\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t\tsuggestedMin: 0,\r\n\t\t\t\t\t\tsuggestedMax: 1,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\n// Now we can test to see how this would actually look.\r\nexport const testMaxMin = (inputMax, inputAve, inputMin) => {\r\n\tconst data = {\r\n\t\tlabels: ['Joy', 'Anger', 'Sadness', 'Disgust', 'Fear'],\r\n\t\t\tdatasets: [ \r\n\t\t\t{\r\n\t\t\t\tlabel: 'Max',\r\n\t\t\t\tdata: inputMax,\r\n\t\t\t\tbackgroundColor: 'rgba(99, 255, 132, 0.2)',\r\n\t\t\t\tborderColor: 'rgba(99, 255, 132, 1)',\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Ave',\r\n\t\t\t\tdata: inputAve,\r\n\t\t\t\tbackgroundColor: 'rgba(99, 132, 255, 0.2)',\r\n\t\t\t\tborderColor: 'rgba(99, 132, 255, 1)',\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Min',\r\n\t\t\t\tdata: inputMin,\r\n\t\t\t\tbackgroundColor: 'rgba(255, 99, 132, 0.2)',\r\n\t\t\t\tborderColor: 'rgba(255, 99, 132, 1)',\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\n// How can I make this not terrible back here?\r\nexport const testBarMulti = (inputData) => {\r\n\tconst data = {\r\n\tlabels: ['Joy', 'Anger', 'Sadness', 'Disgust', 'Fear'],\r\n\tdatasets: [\r\n\t\t\t{\r\n\t\t\tlabel: '# Above Threshold',\r\n\t\t\tdata: inputData,\r\n\t\t\tbackgroundColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 0.2)',\r\n\t\t\t\t'rgba(54, 162, 235, 0.2)',\r\n\t\t\t\t'rgba(255, 206, 86, 0.2)',\r\n\t\t\t\t'rgba(75, 192, 192, 0.2)',\r\n\t\t\t\t'rgba(153, 102, 255, 0.2)',\r\n\t\t\t\t'rgba(255, 159, 64, 0.2)',\r\n\t\t\t],\r\n\t\t\tborderColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 1)',\r\n\t\t\t\t'rgba(54, 162, 235, 1)',\r\n\t\t\t\t'rgba(255, 206, 86, 1)',\r\n\t\t\t\t'rgba(75, 192, 192, 1)',\r\n\t\t\t\t'rgba(153, 102, 255, 1)',\r\n\t\t\t\t'rgba(255, 159, 64, 1)',\r\n\t\t\t],\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\nexport const testBarMultiOptions = () => {\r\n\tconst options = {\r\n\t\tscales: {\r\n\t\t\tyAxes: [{\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t\tsuggestedMin: 0,\r\n\t\t\t\t\t\tsuggestedMax: 1,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\nexport const stackedBarData = (inputData1, inputData2, inputData3) => {\r\n\tconst data = {\r\n\t\tlabels: ['Value'],\r\n\t\tdatasets: [\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Minimum',\r\n\t\t\t\tdata: inputData1,\r\n\t\t\t\tbackgroundColor: 'rgb(255, 99, 132)',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Average',\r\n\t\t\t\tdata: inputData2,\r\n\t\t\t\tbackgroundColor: 'rgb(54, 162, 235)',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Maximum',\r\n\t\t\t\tdata: inputData3,\r\n\t\t\t\tbackgroundColor: 'rgb(75, 192, 192)',\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\nexport const stackedBarOptions = () => {\r\n\tconst options = {\r\n\t\tscales: {\r\n\t\t\tyAxes: [\r\n\t\t\t\t{\r\n\t\t\t\t\t//stacked: true,\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t\tsuggestedMin: -1,\r\n\t\t\t\t\t\tsuggestedMax: 1,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\txAxes: [\r\n\t\t\t\t{\r\n\t\t\t\t\t//stacked: true,\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\nexport const stacked1BarData1Data = (inputData) => {\r\n\tconst data = {\r\n\t\tlabels: ['Value'],\r\n\t\tdatasets: [\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Value',\r\n\t\t\t\tdata: inputData,\r\n\t\t\t\tbackgroundColor: 'rgb(54, 162, 235)',\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const stackedBarData2Test = (inputData1, inputData2, inputData3) => {\r\n\tconst data = {\r\n\t\tlabels: ['Relevance', 'Sentiment'],\r\n\t\tdatasets: [\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Minimum',\r\n\t\t\t\tdata: inputData1,\r\n\t\t\t\tbackgroundColor: 'rgb(255, 99, 132)',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Average',\r\n\t\t\t\tdata: inputData2,\r\n\t\t\t\tbackgroundColor: 'rgb(54, 162, 235)',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Maximum',\r\n\t\t\t\tdata: inputData3,\r\n\t\t\t\tbackgroundColor: 'rgb(75, 192, 192)',\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const stacked2BarData1Data = (inputData) => {\r\n\tconst data = {\r\n\t\tlabels: ['Relevance', 'Sentiment'],\r\n\t\tdatasets: [\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Value',\r\n\t\t\t\tdata: inputData,\r\n\t\t\t\tbackgroundColor: 'rgb(54, 162, 235)',\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const stackedBarData3Test = (inputData1, inputData2, inputData3) => {\r\n\tconst data = {\r\n\t\tlabels: ['Confidence', 'Relevance', 'Sentiment'],\r\n\t\tdatasets: [\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Minimum',\r\n\t\t\t\tdata: inputData1,\r\n\t\t\t\tbackgroundColor: 'rgb(255, 99, 132)',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Average',\r\n\t\t\t\tdata: inputData2,\r\n\t\t\t\tbackgroundColor: 'rgb(54, 162, 235)',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Maximum',\r\n\t\t\t\tdata: inputData3,\r\n\t\t\t\tbackgroundColor: 'rgb(75, 192, 192)',\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const stacked3BarData1Data = (inputData) => {\r\n\tconst data = {\r\n\t\tlabels: ['Confidence', 'Relevance', 'Sentiment'],\r\n\t\tdatasets: [\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Value',\r\n\t\t\t\tdata: inputData,\r\n\t\t\t\tbackgroundColor: 'rgb(54, 162, 235)',\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\n\r\nexport const sentimentBarData = (inputData) => {\r\n\tconst data = {\r\n\t\tlabels: ['Positive', 'Negative'],\r\n\t\tdatasets: [\r\n\t\t\t{\r\n\t\t\tlabel: '# Above Threshold',\r\n\t\t\tdata: inputData,\r\n\t\t\tbackgroundColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 0.2)',\r\n\t\t\t\t'rgba(54, 162, 235, 0.2)',\r\n\t\t\t\t'rgba(255, 206, 86, 0.2)',\r\n\t\t\t\t'rgba(75, 192, 192, 0.2)',\r\n\t\t\t\t'rgba(153, 102, 255, 0.2)',\r\n\t\t\t\t'rgba(255, 159, 64, 0.2)',\r\n\t\t\t],\r\n\t\t\tborderColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 1)',\r\n\t\t\t\t'rgba(54, 162, 235, 1)',\r\n\t\t\t\t'rgba(255, 206, 86, 1)',\r\n\t\t\t\t'rgba(75, 192, 192, 1)',\r\n\t\t\t\t'rgba(153, 102, 255, 1)',\r\n\t\t\t\t'rgba(255, 159, 64, 1)',\r\n\t\t\t],\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\nexport const sentimentBarOptions = () => {\r\n\tconst options = {\r\n\t\tscales: {\r\n\t\t\tyAxes: [{\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t\tsuggestedMin: 0,\r\n\t\t\t\t\t\tsuggestedMax: 1,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\nexport const frequencyBarData = ( inputData ) => {\r\n\t\r\n\t//console.log(inputData)\r\n\t\r\n\tlet labelsSet = []\r\n\tlet dataSet = []\r\n\tfor (let index in inputData) {\r\n\t\tlabelsSet.push( index )\r\n\t\tdataSet.push( inputData[index] )\r\n\t}\r\n\t\r\n\tconst data = {\r\n\t\tlabels: labelsSet,\r\n\t\tdatasets: [\r\n\t\t\t{\r\n\t\t\tlabel: ['# Obtained'],\r\n\t\t\tdata: dataSet,\r\n\t\t\tbackgroundColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 0.2)',\r\n\t\t\t\t'rgba(54, 162, 235, 0.2)',\r\n\t\t\t\t'rgba(255, 206, 86, 0.2)',\r\n\t\t\t\t'rgba(75, 192, 192, 0.2)',\r\n\t\t\t\t'rgba(153, 102, 255, 0.2)',\r\n\t\t\t\t'rgba(255, 159, 64, 0.2)',\r\n\t\t\t],\r\n\t\t\tborderColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 1)',\r\n\t\t\t\t'rgba(54, 162, 235, 1)',\r\n\t\t\t\t'rgba(255, 206, 86, 1)',\r\n\t\t\t\t'rgba(75, 192, 192, 1)',\r\n\t\t\t\t'rgba(153, 102, 255, 1)',\r\n\t\t\t\t'rgba(255, 159, 64, 1)',\r\n\t\t\t],\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\nexport const getBarOptionsFreq = () => {\r\n\tconst options = {\r\n\t\tscales: {\r\n\t\t\tyAxes: [{\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t\tsuggestedMin: 0,\r\n\t\t\t\t\t\t//suggestedMax: 1,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\n// -------------------------------This is where my template stuff is ---------------------------------------------------------------\r\nexport const getDoughData = (inputData) => {\r\n\tconst data = {\r\n\t\tlabels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],\r\n\t\tdatasets: [\r\n\t\t\t{\r\n\t\t\t\tlabel: '# of Votes',\r\n\t\t\t\tdata: inputData,\r\n\t\t\t\tbackgroundColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 0.2)',\r\n\t\t\t\t'rgba(54, 162, 235, 0.2)',\r\n\t\t\t\t'rgba(255, 206, 86, 0.2)',\r\n\t\t\t\t'rgba(75, 192, 192, 0.2)',\r\n\t\t\t\t'rgba(153, 102, 255, 0.2)',\r\n\t\t\t\t'rgba(255, 159, 64, 0.2)',\r\n\t\t\t],\r\n\t\t\t\tborderColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 1)',\r\n\t\t\t\t'rgba(54, 162, 235, 1)',\r\n\t\t\t\t'rgba(255, 206, 86, 1)',\r\n\t\t\t\t'rgba(75, 192, 192, 1)',\r\n\t\t\t\t'rgba(153, 102, 255, 1)',\r\n\t\t\t\t'rgba(255, 159, 64, 1)',\r\n\t\t\t],\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const getDoughOptions = () => {\r\n\tconst options = {\r\n\t\tcutoutPercentage: 50,\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\nexport const getRadarData = (inputData) => {\r\n\tconst data = {\r\n\t\tlabels: ['Thing 1', 'Thing 2', 'Thing 3', 'Thing 4', 'Thing 5', 'Thing 6'],\r\n\t\t\tdatasets: [ \r\n\t\t\t{\r\n\t\t\t\tlabel: '# of Votes',\r\n\t\t\t\tdata: inputData,\r\n\t\t\t\tbackgroundColor: 'rgba(99, 255, 132, 0.2)',\r\n\t\t\t\tborderColor: 'rgba(99, 255, 132, 1)',\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const getRadarOptions = () => {\r\n\tconst options = {\r\n\t  scale: {\r\n\t\tticks: { beginAtZero: true },\r\n\t  },\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\nexport const getLineData = (inputData, inputData2) => {\r\n\tconst data = {\r\n\t\tlabels: ['Thing 1', 'Thing 2', 'Thing 3', 'Thing 4', 'Thing 5', 'Thing 6'],\r\n\t\t\tdatasets: [ \r\n\t\t\t{\r\n\t\t\t\tlabel: '# of Votes',\r\n\t\t\t\tdata: inputData,\r\n\t\t\t\tfill: false,\r\n\t\t\t\tbackgroundColor: 'rgb(99, 255, 132)',\r\n\t\t\t\tborderColor: 'rgba(99, 255, 132, 0.2)',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: '# of Votes2',\r\n\t\t\t\tdata: inputData2,\r\n\t\t\t\tfill: false,\r\n\t\t\t\tbackgroundColor: 'rgb(255, 99, 132)',\r\n\t\t\t\tborderColor: 'rgba(255, 99, 132, 0.2)',\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const getLineOptions = () => {\r\n\tconst options = {\r\n\t\tscales: {\r\n\t\t\tyAxes: [\r\n\t\t\t\t{\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\nexport const getBarData = (inputData) => {\r\n\tconst data = {\r\n\tlabels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],\r\n\tdatasets: [\r\n\t\t\t{\r\n\t\t\tlabel: '# of Votes',\r\n\t\t\tdata: inputData,\r\n\t\t\tbackgroundColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 0.2)',\r\n\t\t\t\t'rgba(54, 162, 235, 0.2)',\r\n\t\t\t\t'rgba(255, 206, 86, 0.2)',\r\n\t\t\t\t'rgba(75, 192, 192, 0.2)',\r\n\t\t\t\t'rgba(153, 102, 255, 0.2)',\r\n\t\t\t\t'rgba(255, 159, 64, 0.2)',\r\n\t\t\t],\r\n\t\t\tborderColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 1)',\r\n\t\t\t\t'rgba(54, 162, 235, 1)',\r\n\t\t\t\t'rgba(255, 206, 86, 1)',\r\n\t\t\t\t'rgba(75, 192, 192, 1)',\r\n\t\t\t\t'rgba(153, 102, 255, 1)',\r\n\t\t\t\t'rgba(255, 159, 64, 1)',\r\n\t\t\t],\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const getBarOptions = () => {\r\n\tconst options = {\r\n\t\tscales: {\r\n\t\t\tyAxes: [{\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\nexport const getScatterData = (inputData, inputData2) => {\r\n\tconst data = {\r\n\t\tlabels: ['Thing 1', 'Thing 2', 'Thing 3', 'Thing 4', 'Thing 5', 'Thing 6'],\r\n\t\t\tdatasets: [ \r\n\t\t\t{\r\n\t\t\t\tlabel: '# of Votes',\r\n\t\t\t\tdata: inputData,\r\n\t\t\t\tbackgroundColor: 'rgba(99, 255, 132, 0.2)',\r\n\t\t\t\tborderColor: 'rgba(99, 255, 132, 1)',\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: '# of Votes2',\r\n\t\t\t\tdata: inputData2,\r\n\t\t\t\tbackgroundColor: 'rgba(255, 99, 132, 0.2)',\r\n\t\t\t\tborderColor: 'rgba(255, 99, 132, 1)',\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const getScatterOptions = () => {\r\n\tconst options = {\r\n\t\tscales: {\r\n\t\t\tyAxes: [{\r\n\t\t\t\tticks: {\r\n\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t},\r\n\t\t\t},],\r\n\t\t},\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { slide as Menu } from 'react-burger-menu';\r\n\r\nconst validStates = [0,1]\r\n\r\nexport class Sidebar extends React.Component {\r\n\r\n\tconstructor(props) {\r\n        super(props);\r\n\t\tthis.state = {\r\n\t\t\t\r\n\t\t\tenabled:false,\r\n\t\t\tdisplayState:0,\r\n\t\t\t\r\n\t\t\tshowUserActions:false,\r\n\t\t\tshowUserEmailScan:false,\r\n\t\t\t\r\n\t\t\tshowCompanyDataFlag:false,\r\n\t\t\tshowCompanyEmailFlag:false,\r\n\t\t\tshowCompanySettingsFlag:false,\r\n\t\t\t\r\n\t\t\tcurrentCompanyName:\"No Company!\",\r\n\t\t\tcurrentUserName:\"No User!\",\r\n\t\t}\r\n\t}\r\n\t\r\n\tsetUserFlag = (nextThing) => {\r\n\t\tif (typeof nextThing !== \"number\") {\r\n\t\t\treturn false\r\n\t\t}\r\n\t\t\r\n\t\tif (nextThing === -1) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tshowUserActions: false,\r\n\t\t\t\tshowUserEmailScan: false,\r\n\t\t\t})\r\n\t\t}\r\n\t\telse if (nextThing === 0) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tshowUserActions: true,\r\n\t\t\t})\r\n\t\t}\r\n\t\telse if (nextThing === 1) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tshowUserEmailScan: true,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\t\r\n\tsetCompanyFlag = (nextThing) => {\r\n\t\tif (typeof nextThing !== \"number\") {\r\n\t\t\treturn false\r\n\t\t}\r\n\t\tif (nextThing === -1) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tshowCompanyDataFlag: false,\r\n\t\t\t\tshowCompanyEmailFlag: false,\r\n\t\t\t\tshowCompanySettingsFlag: false,\r\n\t\t\t})\r\n\t\t}\r\n\t\tif (nextThing === 0) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tshowCompanyDataFlag: true,\r\n\t\t\t})\r\n\t\t}\r\n\t\telse if (nextThing === 1) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tshowCompanyEmailFlag: true,\r\n\t\t\t})\r\n\t\t}\r\n\t\telse if (nextThing === 2) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tshowCompanySettingsFlag: true,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\t\r\n\tsetCompanyName = (name) => {\r\n\t\tthis.setState({\r\n\t\t\tcurrentCompanyName: name,\r\n\t\t})\r\n\t}\r\n\t\r\n\tsetUserName = (name) => {\r\n\t\tthis.setState({\r\n\t\t\tcurrentUserName: name,\r\n\t\t})\r\n\t}\r\n\t\r\n\tdisableMenu = () => {\r\n\t\t//console.log(\"Disable Menu\")\r\n\t\tthis.setState({\r\n\t\t\tenabled: false,\r\n\t\t})\r\n\t}\r\n\t\r\n\tactivateMenu = (reqState) => {\r\n\t\t//console.log(\"Activate Menu\")\r\n\t\t//console.log(reqState)\r\n\t\tlet foundState = validStates.find(element => element === reqState);\r\n\t\t\r\n\t\tif (foundState !== undefined) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tenabled:true,\r\n\t\t\t\tdisplayState: reqState,\r\n\t\t\t})\r\n\t\t\treturn true\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.setState({\r\n\t\t\t\tenabled:false,\r\n\t\t\t})\r\n\t\t\treturn false\r\n\t\t}\r\n\t}\r\n\t\r\n\trender() {\r\n\t\t\r\n\t\tlet displayMenu = []\r\n\t\t\r\n\t\tswitch(this.state.displayState) {\r\n\t\t\tcase 0:\r\n\t\t\t\tdisplayMenu.push(\r\n\t\t\t\t\t<div className=\"list-group-item list-group-item-secondary\" key=\"1\">\r\n\t\t\t\t\t\t<h4>\r\n\t\t\t\t\t\t\t{this.state.currentUserName}\r\n\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\t\tif (this.state.showUserActions) {\r\n\t\t\t\t\tdisplayMenu.push(\r\n\t\t\t\t\t\t<Link className=\"list-group-item\" to={this.props.basePath+\"/dashboard/userMode/journalWrite\"} key=\"2\">\r\n\t\t\t\t\t\t\tMake Today's Journal\r\n\t\t\t\t\t\t</Link>,\r\n\t\t\t\t\t\t<Link className=\"list-group-item\" to={this.props.basePath+\"/dashboard/userMode/journalRead\"} key=\"3\">\r\n\t\t\t\t\t\t\tView past Journals\r\n\t\t\t\t\t\t</Link>,\r\n\t\t\t\t\t\t<Link className=\"list-group-item\" to={this.props.basePath+\"/dashboard/userMode/writeSuggestion\"} key=\"4\">\r\n\t\t\t\t\t\t\tMake Suggestions\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\tif (this.state.showUserEmailScan) {\r\n\t\t\t\t\tdisplayMenu.push(\r\n\t\t\t\t\t\t<div className=\"list-group-item list-group-item-secondary\" key=\"4.5\">\r\n\t\t\t\t\t\t\t<h4>\r\n\t\t\t\t\t\t\t\tEmail Scanning\r\n\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t</div>,\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Link className=\"list-group-item\" to={this.props.basePath+\"/dashboard/userMode/userWeb\"} key=\"5\">\r\n\t\t\t\t\t\t\tView Contact Web\r\n\t\t\t\t\t\t</Link>,\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase 1:\r\n\t\t\t\tdisplayMenu.push(\r\n\t\t\t\t\t<Link className=\"list-group-item list-group-item-secondary\" to={this.props.basePath+\"/dashboard/companyMode/companySelect\"} key=\"0\">\r\n\t\t\t\t\t\t<h3>\r\n\t\t\t\t\t\t\t{this.state.currentCompanyName}\r\n\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t</Link>,\r\n\t\t\t\t\t<Link className=\"list-group-item list-group-item-light\" to={this.props.basePath+\"/dashboard/companyMode/companySelect\"} key=\"0.5\">\r\n\t\t\t\t\t\t<h5>\r\n\t\t\t\t\t\t\tSelect Company\r\n\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t)\r\n\t\t\t\tif (this.state.showCompanyDataFlag) {\r\n\t\t\t\t\tdisplayMenu.push(\r\n\t\t\t\t\t\t<Link className=\"list-group-item list-group-item-light\" to={this.props.basePath+\"/dashboard/companyMode/companyEHI\"} key=\"1\">\r\n\t\t\t\t\t\t\t\tView EHI\r\n\t\t\t\t\t\t\t</Link>,\r\n\t\t\t\t\t\t\t<Link className=\"list-group-item list-group-item-light\" to={this.props.basePath+\"/dashboard/companyMode/companySummary\"} key=\"2\">\r\n\t\t\t\t\t\t\t\tView Summaries\r\n\t\t\t\t\t\t\t</Link>,\r\n\t\t\t\t\t\t\t<Link className=\"list-group-item list-group-item-light\" to={this.props.basePath+\"/dashboard/companyMode/companySuggestions\"} key=\"3\">\r\n\t\t\t\t\t\t\t\tView Suggestion Box\r\n\t\t\t\t\t\t</Link>,\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\tif (this.state.showCompanyEmailFlag) {\r\n\t\t\t\t\tdisplayMenu.push(\r\n\t\t\t\t\t\t<div className=\"list-group-item list-group-item-secondary\" key=\"3.5\">\r\n\t\t\t\t\t\t\t<h4>\r\n\t\t\t\t\t\t\t\tEmail Scanning\r\n\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t</div>,\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Link className=\"list-group-item list-group-item-light\" to={this.props.basePath+\"/dashboard/companyMode/companyWeb\"} key=\"4\">\r\n\t\t\t\t\t\t\tView Web (Beta)\r\n\t\t\t\t\t\t</Link>,\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t{/*\r\n\t\t\t\t\t\t<Link className=\"list-group-item list-group-item-light\" to={this.props.basePath+\"/dashboard/companyMode/companyWeb\"} key=\"4\">\r\n\t\t\t\t\t\t\tEmail Scan Settings\r\n\t\t\t\t\t\t</Link>,\r\n\t\t\t\t\t\t*/}\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\tif (this.state.showCompanySettingsFlag) {\r\n\t\t\t\t\tdisplayMenu.push(\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<div className=\"list-group-item list-group-item-secondary\" key=\"4.5\">\r\n\t\t\t\t\t\t\t<h4>\r\n\t\t\t\t\t\t\t\tSettings\r\n\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t</div>,\r\n\t\t\t\t\t\t<Link className=\"list-group-item list-group-item-light\" to={this.props.basePath+\"/dashboard/companyMode/companyPrompts\"} key=\"5\">\r\n\t\t\t\t\t\t\tEdit Prompt Events\r\n\t\t\t\t\t\t</Link>,\r\n\t\t\t\t\t\t/*Yo! Split these next!*/\r\n\t\t\t\t\t\t<Link className=\"list-group-item list-group-item-light\" to={this.props.basePath+\"/dashboard/companyMode/companyInvites\"} key=\"6\">\r\n\t\t\t\t\t\t\tUser Invites\r\n\t\t\t\t\t\t</Link>,\r\n\t\t\t\t\t\t<Link className=\"list-group-item list-group-item-light\" to={this.props.basePath+\"/dashboard/companyMode/companyPerms\"} key=\"7\">\r\n\t\t\t\t\t\t\tPermission Settings\r\n\t\t\t\t\t\t</Link>,\r\n\t\t\t\t\t\t<Link className=\"list-group-item list-group-item-light\" to={this.props.basePath+\"/dashboard/companyMode/companySettings\"} key=\"8\">\r\n\t\t\t\t\t\t\tMisc. Settings\r\n\t\t\t\t\t\t</Link>,\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tdisplayMenu.push(\r\n\t\t\t\t\t<div className=\"list-group\">\r\n\t\t\t\t\t\tInvalid Menu! Oops!\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className=\"menuContainer\">\r\n\t\t\t\t{this.state.enabled &&\r\n\t\t\t\t\t<Menu>\r\n\t\t\t\t\t\t<div className=\"list-group\">\r\n\t\t\t\t\t\t\t<Link className=\"list-group-item list-group-item-dark\" to={this.props.basePath+\"/dashboard\"}>\r\n\t\t\t\t\t\t\t\tDashboard\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t{displayMenu}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Menu>\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}","export const convertScanToWidth = (weight) => {\r\n\t\r\n\t// At these weights it starts lookin bad....\r\n\tconst maxWeight = 7\r\n\tconst minWeight = 1\r\n\t\r\n\t// So, if the weight coming in is just a number.... and we cant set previous ones, what do we do?\r\n\t// I guess I will keep it like this, that the weight of the line goes up to 7 in the length of time...\r\n\t\r\n\tlet cappedWeight = weight\r\n\r\n\tif (cappedWeight > maxWeight) {\r\n\t\tcappedWeight = maxWeight\r\n\t}\r\n\telse if (cappedWeight < minWeight) {\r\n\t\tcappedWeight = minWeight\r\n\t}\r\n\r\n\treturn cappedWeight\r\n}\r\nexport const convertScanToColor = (senti) => {\r\n\t\r\n\tlet red = 0\r\n\tlet green = 0\r\n\tlet blue = 0\r\n\t\r\n\t\r\n\tconst maxSenti = 1\r\n\tconst minSenti = -1\r\n\tlet cappedSenti = senti\r\n\tif (cappedSenti > maxSenti) {\r\n\t\tcappedSenti = maxSenti\r\n\t}\r\n\telse if (cappedSenti < minSenti) {\r\n\t\tcappedSenti = minSenti\r\n\t}\r\n\t\r\n\tif (senti < 0) {\r\n\t\tred = Math.floor(255*(-senti))\r\n\t}\r\n\telse {\r\n\t\tgreen = Math.floor(255*senti)\r\n\t}\r\n\t\r\n\tlet redHex = red.toString(16)\r\n\tif (red < 15) {\r\n\t\t\tredHex = \"0\"+redHex\r\n\t}\r\n\t\r\n\tlet greenHex = green.toString(16)\r\n\tif (green < 15) {\r\n\t\t\tgreenHex = \"0\"+greenHex\r\n\t}\r\n\t\r\n\tlet blueHex = blue.toString(16)\r\n\tif (blue < 15) {\r\n\t\t\tblueHex = \"0\"+blueHex\r\n\t}\r\n\t\r\n\treturn \"#\" + redHex + greenHex + blueHex\r\n}\r\nexport const graphOptions = {\r\n\tnodes: {\r\n\t\tmass:1.1,\r\n\t\tshape: \"box\",\r\n\t\t//shape: \"dot\",\r\n\t\t//size: 10,\r\n\t\t/*\r\n\t\tcolor: {\r\n\t\t\tborder:\"#000000\",\r\n\t\t\tbackground:\"#FFFFFF\",\r\n\t\t},\r\n\t\t*/\r\n\t\t//physics: false\r\n\t\tchosen: {\r\n\t\t\tnode: function(values, id, selected, hovering) {\r\n\t\t\t\tvalues.shadow = true;\r\n\t\t\t\tvalues.color = \"#AAFFAA\";\r\n\t\t\t\t//console.log(values)\r\n\t\t\t},\r\n\t\t\tlabel: function(values, id, selected, hovering) {\r\n\t\t\t\t//console.log(values)\r\n\t\t\t\tvalues.mod = 'bold';\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tedges: {\r\n\t\tcolor: \"#000000\",\r\n\t\tarrowStrikethrough: true,\r\n\t\t//smooth: {\"type\":\"curvedCW\"},\r\n\t\t//smooth: {\"type\":\"continuous\"},\r\n\t\tsmooth: {\"type\":\"dynamic\"},\r\n\t\t//physics: false,\r\n\t\tchosen: {\r\n\t\t\t\r\n\t\t\tedge: function(values, id, selected, hovering) {\r\n\t\t\t\t//console.log(values)\r\n\t\t\t\tvalues.shadow = true;\r\n\t\t\t\t//values.width = 3;\r\n\t\t\t},\r\n\t\t\tlabel: function(values, id, selected, hovering) {\r\n\t\t\t\t//console.log(values)\r\n\t\t\t\tvalues.size = 20;\r\n\t\t\t\tvalues.mod = 'bold';\r\n\t\t\t\t//values.mod = 'italic';\r\n\t\t\t\t\r\n\t\t\t\t//values.strokeWidth = 15;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tlayout: {\r\n\t\thierarchical: false\r\n\t},\r\n\tinteraction:{\r\n\t\thover:true,\r\n\t\tdragNodes: true,\r\n\t},\r\n\tphysics: {\r\n\t\t//enabled: false,\r\n\t\tsolver: 'barnesHut',\r\n\t\tmaxVelocity: 50,\r\n\t\tminVelocity: 0.1,\r\n\t\t\r\n\t\t/*\r\n\t\tbarnesHut: {\r\n\t\t\t\tgravitationalConstant: -80000, \r\n\t\t\t\tspringConstant: 0.001, \r\n\t\t\t\tspringLength: 200\r\n\t\t\t}\r\n\t\t*/\r\n\t},\r\n\theight: \"500px\"\r\n};","import React from \"react\";\r\n\r\nimport { Accordion, Card } from 'react-bootstrap';\r\n\r\nexport class ShowWebInfoComponent extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\t\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"showingWebData\">\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<Accordion>\r\n\t\t\t\t\t\t\t<Accordion.Toggle as={Card.Header} className=\"border\" variant=\"link\" eventKey=\"open\">\r\n\t\t\t\t\t\t\t\tWhat am I looking at here?\r\n\t\t\t\t\t\t\t</Accordion.Toggle>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Accordion.Collapse eventKey=\"open\" className=\"border\">\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-\">\r\n\t\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\t\tThis is a <u>'Contact Web'</u>\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\t\tUsers can sync their Microsoft accounts to their Scenere account\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\t\tThey can have their outgoing work emails scanned\r\n\t\t\t\t\t\t\t\t\t\t\tand the results tallied and displayed here\r\n\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\tIf you would like, press \"Load Example data\"\r\n\t\t\t\t\t\t\t\t\t\t\tto see what one looks like\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t<h5>\r\n\t\t\t\t\t\t\t\t\t\t\t<u>The legend is as follows:</u>\r\n\t\t\t\t\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t\t\t\tWhite labels are a tracked user\r\n\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t\t\t\tRed labels are untracked users\r\n\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t\t\t\tThe arrows are average sentiment/Number of emails\r\n\t\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t\tColor and size is according to those values\r\n\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Accordion.Collapse>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</Accordion>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}","// Lets do some local storage fun time tests!\r\nimport Store from \"store\"\r\n\r\nexport * from \"./axiosAPI\"\r\nexport * from \"./graphs\"\r\nexport * from \"./sidebarCustom\"\r\nexport * from \"./networkGraph\"\r\nexport * from \"./infoDisplayMulti\"\r\n\r\nexport const timedLoadStorage = (key) => {\r\n\t\r\n\tlet loadData = Store.get(key)\r\n\r\n\t// Return 0 if there is no key by this name....\r\n\tif (loadData === undefined) {\r\n\t\treturn 0\r\n\t}\r\n\tif (loadData[\"data\"] === undefined) {\r\n\t\tStore.remove(key)\r\n\t\treturn 2\r\n\t}\r\n\t\r\n\t// Return 1 if the it is to \"old\"\r\n\tlet dateSaved = loadData[\"expiryDate\"]\r\n\tlet now = Date.now()\r\n\t\r\n\tif (now > dateSaved) {\r\n\t\t//console.log(\"Expired\")\r\n\t\tStore.remove(key)\r\n\t\treturn 1\r\n\t}\r\n\telse {\r\n\t\t//console.log(\"Allowed\")\r\n\t}\r\n\r\n\treturn loadData[\"data\"]\r\n}\r\nexport const timedSaveStorage = (key, data, length) => {\r\n\r\n\t// Now, How exactly do I determine when the expiry should be?\r\n\t// So, this is local storage, which is still the single WORST PLACE TO PUT THIS\r\n\t// However, I will wait for next version before I change that\r\n\ttry {\r\n\t\tlet storageTime = new Date()\r\n\t\t\r\n\t\tif (length === 0) {\r\n\t\t\tstorageTime.setHours(storageTime.getHours()+1)\r\n\t\t}\r\n\t\telse if (length === 1) {\r\n\t\t\tstorageTime.setDate(storageTime.getDate()+1)\r\n\t\t}\r\n\t\telse if (length === 2) {\r\n\t\t\tstorageTime.setDate(storageTime.getDate()+7)\r\n\t\t}\r\n\t\telse {\r\n\t\t\t// BASIC!\r\n\t\t\tstorageTime.setSeconds(storageTime.getSeconds()+90)\r\n\t\t}\r\n\t\t\r\n\t\tlet storeData = {\"expiryDate\":storageTime.getTime(), \"data\":data}\r\n\t\tStore.set(key, storeData)\r\n\t} catch (error) {\r\n\t\treturn false\r\n\t}\r\n\r\n\treturn true\r\n}\r\nexport const clearStorage = () => {\r\n\tconsole.log(\"Clearing Data...\")\r\n\tStore.clearAll()\r\n\tconsole.log(\"Done!\")\r\n\t\r\n\treturn false\r\n}\r\nexport const checkStorageContents = () => {\r\n\tconsole.log(\"Checking Storage contents:\")\r\n\tStore.each(function(value, key) {\r\n\t\tconsole.log(key, '==', value)\r\n\t\t\r\n\t\tlet dateSaved = value[\"expiryDate\"]\r\n\t\tlet now = Date.now()\r\n\t\tif (now > dateSaved) {\r\n\t\t\tconsole.log(\"Found Expired Key!\")\r\n\t\t\tStore.remove(key)\r\n\t\t}\r\n\t})\r\n\tconsole.log(\"Done!\")\r\n\t\r\n\treturn false\r\n}\r\n\r\nexport const displayStorageContents = () => {\r\n\tconsole.log(\"Showing Storage contents:\")\r\n\tStore.each(function(value, key) {\r\n\t\tconsole.log(key, '==', value)\r\n\t})\r\n\tconsole.log(\"Done!\")\r\n\t\r\n\treturn false\r\n}\r\n\r\nexport const deleteStorageKey = (key) => {\r\n\tStore.remove(key)\r\n}\r\n\r\n// THIS IS EXAMPLE COMPANY TEST DATA!!!\r\nconst makeCompanyDaydata = () => {\r\n\t\r\n\tlet dayData = {\r\n\t\t\temotion: { \r\n\t\t\t\tmax:{joy:Math.random(), anger:Math.random(), sadness:Math.random(), disgust:Math.random(), fear:Math.random()}, \r\n\t\t\t\tmin:{joy:Math.random(), anger:Math.random(), sadness:Math.random(), disgust:Math.random(), fear:Math.random()}, \r\n\t\t\t\tave:{joy:Math.random(), anger:Math.random(), sadness:Math.random(), disgust:Math.random(), fear:Math.random()},\r\n\t\t\t\t\r\n\t\t\t\tthreshold:{joy:Math.random(), anger:Math.random(), sadness:Math.random(), disgust:Math.random(), fear:Math.random()},\r\n\t\t\t},\r\n\t\t\tsentiment: {\r\n\t\t\t\tmax:2*Math.random()-1, \r\n\t\t\t\tmin:2*Math.random()-1, \r\n\t\t\t\tave:2*Math.random()-1,\r\n\t\t\t\t\r\n\t\t\t\tthresholdPos:Math.random(),\r\n\t\t\t\tthresholdNeg:Math.random(),\r\n\t\t\t},\r\n\t\t\tentities: [\r\n\t\t\t\t{text:\"Example Entity\", \r\n\t\t\t\t\tcount:12,\r\n\t\t\t\t\ttype:\"Whatever\",\r\n\t\t\t\t\tconfidence:{ \r\n\t\t\t\t\t\tmax:Math.random(), \r\n\t\t\t\t\t\tmin:Math.random(), \r\n\t\t\t\t\t\tave:Math.random(),\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tstd:Math.random(),\r\n\t\t\t\t\t},\r\n\t\t\t\t\trelevance:{\r\n\t\t\t\t\t\tmax:Math.random(),\r\n\t\t\t\t\t\tmin:Math.random(),\r\n\t\t\t\t\t\tave:Math.random(),\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tstd:Math.random(),\r\n\t\t\t\t\t},\r\n\t\t\t\t\temotion:{\r\n\t\t\t\t\t\tmax:{joy:Math.random(), anger:Math.random(), sadness:Math.random(), disgust:Math.random(), fear:Math.random()},\r\n\t\t\t\t\t\tmin:{joy:Math.random(), anger:Math.random(), sadness:Math.random(), disgust:Math.random(), fear:Math.random()},\r\n\t\t\t\t\t\tave:{joy:Math.random(), anger:Math.random(), sadness:Math.random(), disgust:Math.random(), fear:Math.random()},\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tstd:{joy:Math.random(), anger:Math.random(), sadness:Math.random(), disgust:Math.random(), fear:Math.random()},\r\n\t\t\t\t\t}, \r\n\t\t\t\t\tsentiment:{\r\n\t\t\t\t\t\tmax:2*Math.random()-1, \r\n\t\t\t\t\t\tmin:2*Math.random()-1, \r\n\t\t\t\t\t\tave:2*Math.random()-1,\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tstd:Math.random(),\r\n\t\t\t\t\t},\r\n\t\t\t\t}, \r\n\t\t\t],\r\n\t\t\tkeywords: [\r\n\t\t\t\t{text:\"Example Keyword\", \r\n\t\t\t\t\tcount:6, \r\n\t\t\t\t\t\r\n\t\t\t\t\trelevance:{\r\n\t\t\t\t\t\tmax:Math.random(),\r\n\t\t\t\t\t\tmin:Math.random(),\r\n\t\t\t\t\t\tave:Math.random(),\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tstd:Math.random(),\r\n\t\t\t\t\t}, \r\n\t\t\t\t\temotion:{\r\n\t\t\t\t\t\tmax:{joy:Math.random(), anger:Math.random(), sadness:Math.random(), disgust:Math.random(), fear:Math.random()},\r\n\t\t\t\t\t\tmin:{joy:Math.random(), anger:Math.random(), sadness:Math.random(), disgust:Math.random(), fear:Math.random()},\r\n\t\t\t\t\t\tave:{joy:Math.random(), anger:Math.random(), sadness:Math.random(), disgust:Math.random(), fear:Math.random()},\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tstd:{joy:Math.random(), anger:Math.random(), sadness:Math.random(), disgust:Math.random(), fear:Math.random()},\r\n\t\t\t\t\t}, \r\n\t\t\t\t\tsentiment:{\r\n\t\t\t\t\t\tmax:2*Math.random()-1, \r\n\t\t\t\t\t\tmin:2*Math.random()-1, \r\n\t\t\t\t\t\tave:2*Math.random()-1,\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tstd:Math.random(),\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\trelations: [\r\n\t\t\t\t{type:\"didTo\", \r\n\t\t\t\t\tcount:4, \r\n\t\t\t\t\tscore:{\r\n\t\t\t\t\t\tmax:2*Math.random()-1, \r\n\t\t\t\t\t\tmin:2*Math.random()-1, \r\n\t\t\t\t\t\tave:2*Math.random()-1,\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tstd:Math.random(),\r\n\t\t\t\t\t}, \r\n\t\t\t\t\targuments:[{text:\"person1\"},{text:\"person2\"}] \r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t}\r\n\treturn dayData\r\n}\r\n\r\nexport const makeCompanyTestDataOtherFormat = () => {\r\n\t\r\n\tconst testData = {\r\n\t\tmon: {\r\n\t\t\tresponsePurity: 90,\r\n\t\t\tp1: {\r\n\t\t\t\tname:\"Prompt 1 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp2: {\r\n\t\t\t\tname:\"Prompt 2 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp3: {\r\n\t\t\t\tname:\"Prompt 3 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp4: {\r\n\t\t\t\tname:\"Prompt 4 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t},\r\n\t\ttue: {\r\n\t\t\tresponsePurity: 23,\r\n\t\t\tp1: {\r\n\t\t\t\tname:\"Prompt 1 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp2: {\r\n\t\t\t\tname:\"Prompt 2 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp3: {\r\n\t\t\t\tname:\"Prompt 3 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp4: {\r\n\t\t\t\tname:\"Prompt 4 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t},\r\n\t\twed: {\r\n\t\t\tresponsePurity: 55,\r\n\t\t\tp1: {\r\n\t\t\t\tname:\"Prompt 1 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp2: {\r\n\t\t\t\tname:\"Prompt 2 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp3: {\r\n\t\t\t\tname:\"Prompt 3 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp4: {\r\n\t\t\t\tname:\"Prompt 4 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t},\r\n\t\tthu: {\r\n\t\t\tresponsePurity: 78,\r\n\t\t\tp1: {\r\n\t\t\t\tname:\"Prompt 1 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp2: {\r\n\t\t\t\tname:\"Prompt 2 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp3: {\r\n\t\t\t\tname:\"Prompt 3 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp4: {\r\n\t\t\t\tname:\"Prompt 4 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t},\r\n\t\tfri: {\r\n\t\t\tresponsePurity: 34,\r\n\t\t\tp1: {\r\n\t\t\t\tname:\"Prompt 1 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp2: {\r\n\t\t\t\tname:\"Prompt 2 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp3: {\r\n\t\t\t\tname:\"Prompt 3 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp4: {\r\n\t\t\t\tname:\"Prompt 4 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t}\r\n\t\t},\r\n\t\tsat: {\r\n\t\t\tresponsePurity: 90,\r\n\t\t\tp1: {\r\n\t\t\t\tname:\"Prompt 1 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp2: {\r\n\t\t\t\tname:\"Prompt 2 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp3: {\r\n\t\t\t\tname:\"Prompt 3 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp4: {\r\n\t\t\t\tname:\"Prompt 4 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t}\r\n\t\t},\r\n\t\tsun: {\r\n\t\t\tresponsePurity: 90,\r\n\t\t\tp1: {\r\n\t\t\t\tname:\"Prompt 1 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp2: {\r\n\t\t\t\tname:\"Prompt 2 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp3: {\r\n\t\t\t\tname:\"Prompt 3 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp4: {\r\n\t\t\t\tname:\"Prompt 4 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t}\r\n\t\t},\r\n\t\tallDay: {\r\n\t\t\tresponsePurity: 90,\r\n\t\t\tp1: {\r\n\t\t\t\tname:\"Prompt 1 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp2: {\r\n\t\t\t\tname:\"Prompt 2 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp3: {\r\n\t\t\t\tname:\"Prompt 3 Full Name!!2\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp4: {\r\n\t\t\t\tname:\"Prompt 4 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\t\t\r\n\treturn testData\r\n}","import React from \"react\";\r\n\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport { Alert } from 'react-bootstrap';\r\n\r\nimport { APISignIn } from \"../../utils\";\r\n\r\nclass signIn extends React.Component {\r\n\r\n\t// Lets test this out, before we move this over to the App js file\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n          \r\n\t\t\t// Lets do a state machine for the sake of it...\r\n\t\t\t// 0 is \"No result given yet\"\r\n\t\t\t// 1+ would be error codes...\r\n\t\t\t// How can I change this screen as per this?\r\n\t\t\t// Eh, thats later...\r\n\t\t\tsignInState: 0,\r\n\t\t\t\r\n\t\t\t// Switches to display errors on the front page\r\n\t\t\t// Hm, this seems a little bad.... Can I mesh these together while still being readable?\r\n\t\t\tusernameError: false,\r\n\t\t\temailError: false,\r\n\t\t\tpasswordError: false,\r\n\t\t\tisWrongError: false,\r\n\t\t\t\r\n\t\t\tnetworkError: false,\t\t\t\r\n\t\t\tmiscError: false,\r\n\t\t  \r\n\t\t\tsignInEmailMode: false,\r\n\t\t  \r\n\t\t\temail: '',\r\n\t\t\tusername: '',\r\n\t\t\t\r\n\t\t\t// This needs to be hashed as fast as possible...\r\n\t\t\t// But I will worry about security...\r\n\t\t\t// Just note that this is probobly a bad idea...\r\n\t\t\tpassword: '',\r\n\t\t\t\r\n\t\t\tremember: false,\r\n\t\t\t\r\n        };\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\t\r\n\t};\r\n\t\r\n\tresetErrors = () => {\r\n\t\tthis.setState({\r\n\t\t\tusernameError: false,\r\n\t\t\tpasswordError: false,\r\n\t\t\tisWrongError: false,\r\n\t\t\tnetworkError: false,\t\t\t\r\n\t\t\tmiscError: false,\r\n\t\t})\r\n\t}\r\n\t\r\n\tuserFieldChange = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tusername: event.target.value,\r\n\t\t})\r\n\t\tthis.resetErrors()\r\n\t}\r\n\t\r\n\temailFieldChange = (event) => {\r\n\t\tthis.setState({\r\n\t\t\temail: event.target.value,\r\n\t\t})\r\n\t\tthis.resetErrors()\r\n\t}\r\n\t\r\n\tpassFieldChange = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tpassword: event.target.value,\r\n\t\t})\r\n\t\tthis.resetErrors()\r\n\t}\r\n\t\r\n\tremFieldChange = (event) => {\r\n\r\n\t\tthis.setState({\r\n\t\t\tremember: !this.state.remember,\r\n\t\t})\r\n\t\tthis.resetErrors()\r\n\t}\r\n\t\r\n\thandleSubmitFailure = (responseData) => {\r\n\t\t\r\n\t\tlet networkErrorFlag = false\r\n\t\t\r\n\t\tlet usernameErrorFlag = false\r\n\t\tlet passwordErrorFlag = false\r\n\t\tlet isWrongErrorFlag = false\r\n\t\t\r\n\t\tlet unhandledErrorFlag = false\r\n\t\tlet serverErrorFlag = false\r\n\t\t\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\tnetworkErrorFlag = true\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\t\t\tfor (let index in responseData['messages']) {\r\n\t\t\t\tif (responseData['messages'][index]['mod'] === 1) {\r\n\t\t\t\t\tusernameErrorFlag = true\r\n\t\t\t\t}\r\n\t\t\t\telse if (responseData['messages'][index]['mod'] === 2) {\r\n\t\t\t\t\tpasswordErrorFlag = true\r\n\t\t\t\t} \r\n\t\t\t\telse if (responseData['messages'][index]['mod'] === 3) {\r\n\t\t\t\t\tisWrongErrorFlag = true\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tunhandledErrorFlag = true\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\t\t\tserverErrorFlag = true\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\t\t\tserverErrorFlag = true\r\n\t\t}\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\t\r\n\t\t\tnetworkError: networkErrorFlag,\r\n\t\t\t\t\r\n\t\t\tusernameError: usernameErrorFlag,\r\n\t\t\tpasswordError: passwordErrorFlag,\r\n\t\t\tisWrongError: isWrongErrorFlag,\r\n\t\t\t\t\t\r\n\t\t\tunhandledError: unhandledErrorFlag,\r\n\t\t\tserverError: serverErrorFlag,\r\n\t\t\t\r\n\t\t\tsignInState:3,\r\n\t\t})\r\n\t}\r\n\thandleSubmitSuccess = (incomingToken) => {\r\n\r\n\t\tlet accessToken = incomingToken.access\r\n\t\t\r\n\t\t// Uh Oh, the displayname will be wrong here...\r\n\t\tlet displayName = this.state.username\r\n\t\tif (this.state.signInEmailMode) {\r\n\t\t\tdisplayName = this.state.email\r\n\t\t}\r\n\r\n\t\tlet sanityCheck = this.props.loginSave( accessToken, displayName, this.state.remember )\r\n\t\tif (sanityCheck) {\r\n\t\t\t//console.log(\"Token registered\")\r\n\t\t\t\r\n\t\t\t/*\r\n\t\t\tthis.setState({\r\n\t\t\t\tsignInState:2,\r\n\t\t\t})\r\n\t\t\t*/\r\n\r\n\t\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\t}\r\n\t\telse {\r\n\t\t\tconsole.log(\"Token Set on OUR END Failed..?\")\r\n\t\t\tthis.setState({\r\n\t\t\t\tsignInState:3,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\thandleSubmit = event => {\r\n\t\t\r\n\t\tlet usedName = this.state.username\r\n\t\tif (this.state.signInEmailMode) {\r\n\t\t\tusedName = this.state.email\r\n\t\t}\r\n\t\t\r\n\t\tAPISignIn(this.state.signInEmailMode, usedName, this.state.password, this.handleSubmitSuccess, this.handleSubmitFailure)\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tsignInState:1,\r\n\t\t})\r\n\t\t\r\n\t\tevent.preventDefault();\t\t\r\n\t}\r\n\t\r\n\trender() {\r\n\t\r\n\t\tlet emailClass = ''\r\n\t\tif (this.state.emailError || this.state.isWrongError) {\r\n\t\t\temailClass = 'bg-warning'\r\n\t\t}\r\n\t\r\n\t\tlet usernameClass = ''\r\n\t\tif (this.state.usernameError || this.state.isWrongError) {\r\n\t\t\tusernameClass = 'bg-warning'\r\n\t\t}\r\n\t\t\r\n\t\tlet passwordClass = ''\r\n\t\tif (this.state.passwordError || this.state.isWrongError) {\r\n\t\t\tpasswordClass = 'bg-warning'\r\n\t\t}\r\n\t\t\r\n\t\t//let show0 = this.state.signInState === 0\r\n\t\tlet show1 = this.state.signInState === 1\r\n\t\t//let show2 = this.state.signInState === 2\r\n\t\t//let show3 = this.state.signInState === 3\r\n\t\r\n\t\treturn (\r\n\t\t\t<div className='container text-center'>\r\n\r\n\t\t\t\t<form onSubmit={this.handleSubmit} >\r\n\t\t\t\t\t<h3>Sign In</h3>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<p className=\"text-danger\">{this.state.isWrongError ? \"Email and/or Password are incorrect\":\"\"}</p>\r\n\t\t\t\t\t\r\n\t\t\t\t\t{this.state.signInEmailMode ?\r\n\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t<label>Email</label>\r\n\t\t\t\t\t\t\t<input type='text' className={'form-control '+emailClass} value={this.state.email} onChange={this.emailFieldChange} placeholder='Enter Email' />\r\n\t\t\t\t\t\t\t<p className=\"text-danger\">{this.state.emailError ? \"Email cant be blank\":\"\"}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t:\r\n\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t<label>Username</label>\r\n\t\t\t\t\t\t\t<input type='text' className={'form-control '+usernameClass} value={this.state.username} onChange={this.userFieldChange} placeholder='Enter Username' />\r\n\t\t\t\t\t\t\t<p className=\"text-danger\">{this.state.usernameError ? \"Username cant be blank\":\"\"}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<label>Password</label>\r\n\t\t\t\t\t\t<input type='password' className={'form-control '+passwordClass} value={this.state.password} onChange={this.passFieldChange} placeholder='Enter password' />\r\n\t\t\t\t\t\t<p className=\"text-danger\">{this.state.passwordError ? \"Password cannot be blank\":\"\"}</p>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<label className='form-control-label' htmlFor='customCheck1' >Keep Me Logged In</label>\r\n\t\t\t\t\t\t<input type='checkbox' className='form-control-input' id='customCheck1' value={this.state.remember} onChange={this.remFieldChange} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t{this.state.miscError ? <p className=\"text-danger border\">Unknown Error</p>:undefined}\r\n\t\t\t\t\t{this.state.networkError ? <p className=\"bg-warning text-danger border\">Server cannot be reached!</p>:undefined}\r\n\t\t\t\t\t<button type='submit' className='btn btn-dark btn-block'>Submit</button>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t<p className='col forgot-password text-dark'>\r\n\t\t\t\t\t\t\t<Link className=\"nav-link border\" to={this.props.forgotPath}>\r\n\t\t\t\t\t\t\t\tForgot password?\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</p>\r\n\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t</form>\r\n\t\t\t\t\r\n\t\t\t\t<Alert show={show1} variant=\"warning\">\r\n\t\t\t\t\t<Alert.Heading>Waiting</Alert.Heading>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t  Waiting for server...\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t</Alert>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(signIn);","import React from \"react\";\r\n\r\nimport { APISignIn, APISignUp, APIResendValidator } from \"../../utils\";\r\nimport { Alert } from 'react-bootstrap';\r\n\r\nimport { withRouter} from \"react-router-dom\";\r\n\r\nclass signup extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\t\t\t\r\n\t\t\tusername: '',\r\n\t\t\temail: '',\r\n\t\t\tpassword: '',\r\n\t\t\tpassword2: '',\r\n\t\t\tfirstName: '',\r\n\t\t\tlastName: '',\r\n\t\t\t\r\n\t\t\tnetworkError:false,\r\n\t\t\t\r\n\t\t\t// Well, I can expand this to be better on our end...\r\n\t\t\tusernameError:false,\r\n\t\t\tusernameErrorDetail: 'Username is unavalible',\r\n\t\t\t\r\n\t\t\temailError:false,\r\n\t\t\temailErrorDetail: 'Email is invalid/taken',\r\n\t\t\t\r\n\t\t\tpasswordError:false,\r\n\t\t\tpasswordErrorDetail:'Passwords do not match!',\r\n\t\t\t\r\n\t\t\tunhandledError:false,\r\n\t\t\tserverError:false,\r\n\t\t\t\r\n\t\t\tcheckField: false,\r\n\t\t\t\r\n\t\t\tnowSendEmailState: 0,\r\n\t\t\tnowSignInState: 0,\r\n\t\t\thandleSignUpSubmitState:0,\r\n\t\t\t\r\n\t\t\tlegalError:false\r\n        };\r\n\t}\r\n\t\r\n\t// Wait, are Usernames a good thing for what we are doing? Hmmmm\r\n\tusernameFieldChange = (event) => {\r\n\t\tthis.setState( {username: event.target.value} )\r\n\t}\r\n\t\r\n\temailFieldChange = (event) => {\r\n\t\tthis.setState( {email: event.target.value} )\r\n\t}\r\n\t\r\n\tpassFieldChange = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tpassword: event.target.value,\r\n\t\t\t\r\n\t\t\tpasswordError: event.target.value !== this.state.password2,\r\n\t\t\tpasswordErrorDetail:'Passwords do not match!'\r\n\t\t})\r\n\t}\r\n\t\r\n\tpass2FieldChange = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tpassword2: event.target.value,\r\n\t\t\t\r\n\t\t\tpasswordError: event.target.value !== this.state.password,\r\n\t\t\tpasswordErrorDetail:'Passwords do not match!'\r\n\t\t})\r\n\t}\r\n\t\r\n\tfirstNameFieldChange = (event) => {\r\n\t\tthis.setState( {firstName: event.target.value} )\r\n\t}\r\n\t\r\n\tlastnameFieldChange = (event) => {\r\n\t\tthis.setState( {lastName: event.target.value} )\r\n\t}\r\n\t\r\n\tcheckFieldChange = (event) => {\r\n\t\tthis.setState( {checkField: event.target.value} )\r\n\t}\r\n\t\r\n\t// CHAIN STEP 3! \r\n\tnowSendEmailFailure = () => {\r\n\t\t// If we fail here, we are totally boned...\r\n\t\tconsole.log(\"Oh no. We failed\")\r\n\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\tthis.setState({\r\n\t\t\tnowSendEmailState:3,\r\n\t\t})\r\n\t}\r\n\tnowSendEmailCallback = () => {\r\n\t\t// Change this to the validator view\r\n\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\tthis.setState({\r\n\t\t\tnowSendEmailState:2,\r\n\t\t})\r\n\t}\r\n\tnowSendEmail = (newToken) => {\r\n\t\t// Now sending the validator email...\r\n\t\tAPIResendValidator(newToken, this.nowSendEmailCallback, this.nowSendEmailFailure)\r\n\t\tthis.setState({\r\n\t\t\tnowSendEmailState:1,\r\n\t\t})\r\n\t}\r\n\t\r\n\t// Chain Step 2!\r\n\t\r\n\tnowSignInFailure = () => {\r\n\t\t// O h n o\r\n\t\tconsole.log(\"Sign in failed, I dont even know what to do here... Normal errors dont work here...\")\r\n\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\t// This is probobly unecessary...\r\n\t\tthis.setState({\r\n\t\t\tnowSignInState:3,\r\n\t\t})\r\n\t}\r\n\t// I can probobly use this as a intemediary to straight get the incoming token instead of tossing it back up to App.js...\r\n\tnowSignInCallback = (incomingToken) => {\r\n\t\tconst sanityCheck = this.props.loginSave( incomingToken, this.state.username, false )\r\n\t\tif (sanityCheck) {\r\n\t\t\tconsole.log(\"Token registered\")\r\n\t\t\tthis.nowSendEmail(incomingToken)\r\n\t\t}\r\n\t\telse {\r\n\t\t\tconsole.log(\"Token Failed..?\")\r\n\t\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\t}\r\n\t\tthis.setState({\r\n\t\t\tnowSignInState:2,\r\n\t\t})\r\n\t}\r\n\tnowSignIn = () => {\r\n\t\tAPISignIn(this.state.username, this.state.password, this.nowSignInCallback, this.nowSignInFailure)\r\n\t\tthis.setState({\r\n\t\t\tnowSignInState:1,\r\n\t\t})\r\n\t}\r\n\t\r\n\thandleSignUpSubmitFailure = (responseData) => {\r\n\t\t//console.log(errorCodes)\r\n\t\tlet networkErrorFlag = false\r\n\t\t\r\n\t\tlet usernameErrorFlag = false\r\n\t\tlet usernameErrorDetails = \"\"\r\n\t\t\r\n\t\tlet passwordErrorFlag = false\r\n\t\tlet passwordErrorDetails = \"\"\r\n\t\t\r\n\t\tlet emailErrorFlag = false\r\n\t\tlet emailErrorDetails = \"\"\r\n\t\t\r\n\t\tlet unhandledErrorFlag = false\r\n\t\tlet serverErrorFlag = false\r\n\t\t\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\tnetworkErrorFlag = true\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\t\t\tfor (let index in responseData['messages']) {\r\n\t\t\t\tif (responseData['messages'][index]['mod'] === 1) {\r\n\t\t\t\t\tusernameErrorFlag = true\r\n\t\t\t\t\tusernameErrorDetails = responseData['messages'][index]['text']\r\n\t\t\t\t}\r\n\t\t\t\telse if (responseData['messages'][index]['mod'] === 2) {\r\n\t\t\t\t\tpasswordErrorFlag = true\r\n\t\t\t\t\tpasswordErrorDetails = responseData['messages'][index]['text']\r\n\t\t\t\t} \r\n\t\t\t\telse if (responseData['messages'][index]['mod'] === 4) {\r\n\t\t\t\t\temailErrorFlag = true\r\n\t\t\t\t\t//emailErrorDetails = responseData['messages'][index]['text']\r\n\t\t\t\t\temailErrorDetails = \"Email is taken!\"\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tunhandledErrorFlag = true\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\t\t\tserverErrorFlag = true\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\t\t\tserverErrorFlag = true\r\n\t\t}\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tnetworkError:networkErrorFlag,\r\n\t\t\t\r\n\t\t\tusernameError:usernameErrorFlag,\r\n\t\t\tusernameErrorDetail:usernameErrorDetails,\r\n\t\t\t\r\n\t\t\tpasswordError:passwordErrorFlag,\r\n\t\t\tpasswordErrorDetail:passwordErrorDetails,\r\n\t\t\t\r\n\t\t\temailError:emailErrorFlag,\r\n\t\t\temailErrorDetail:emailErrorDetails,\r\n\t\t\t\r\n\t\t\tunhandledError:unhandledErrorFlag,\r\n\t\t\tserverError:serverErrorFlag,\r\n\t\t\t\r\n\t\t\thandleSignUpSubmitState:3,\r\n\t\t})\r\n\t}\r\n\thandleSignUpSubmitCallback = (responseStatus) => {\r\n\t\tif (responseStatus === 201) {\r\n\t\t\t//this.props.history.push(this.props.reRouteTarget)\r\n\t\t\tconsole.log(\"Successful Sign up, now signing in...\")\r\n\t\t\tthis.nowSignIn()\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\thandleSignUpSubmitState:2,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\thandleSignUpSubmit = (event) => {\r\n\t\t\r\n\t\tif (!this.state.checkField) {\r\n\t\t\tconsole.log(\"Field was not checked\")\r\n\t\t\tthis.setState({\r\n\t\t\t\tlegalError: true\r\n\t\t\t})\r\n\t\t}\r\n\t\telse {\r\n\t\t\tAPISignUp(this.state.username, this.state.password, this.state.password2, this.state.email, this.state.firstName, this.state.lastName, this.handleSignUpSubmitCallback, this.handleSignUpSubmitFailure)\r\n\t\t\tthis.setState({\r\n\t\t\t\thandleSignUpSubmitState:1,\r\n\t\t\t\tlegalError: false\r\n\t\t\t})\r\n\t\t}\r\n\t\t\r\n\t\tevent.preventDefault();\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tlet usernameClass = 'form-control'\r\n\t\tif (this.state.usernameError) {\r\n\t\t\tusernameClass += ' bg-warning'\r\n\t\t}\r\n\t\t\r\n\t\tlet emailClass = 'form-control'\r\n\t\tif (this.state.emailError) {\r\n\t\t\temailClass += ' bg-warning'\r\n\t\t}\r\n\t\t\r\n\t\tlet passwordClass = 'form-control'\r\n\t\tif (this.state.passwordError) {\r\n\t\t\tpasswordClass += ' bg-warning'\r\n\t\t}\r\n\t\t\r\n\t\tlet show0 = this.state.legalError\r\n\t\tlet show1 = this.state.handleSignUpSubmitState === 1\r\n\t\t\r\n\t\treturn (\r\n\t\t\t\r\n\t\t\t<div className=\"signUp\">\r\n\t\t\t\t<div className=\"container\">\t\t\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<h3>Sign Up</h3>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\t\r\n\t\t\t\t\t<form onSubmit={this.handleSignUpSubmit}>\r\n\t\t\t\t\t\t<div id=\"align-left\">\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t\t\t<label id=\"label-left\">Username</label>\r\n\t\t\t\t\t\t\t\t\t\t<input type='text' className={usernameClass} value={this.state.username} onChange={this.usernameFieldChange} placeholder='Enter Username' />\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-danger\">{this.state.usernameError ? this.state.usernameErrorDetail:\"\"}</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t\t\t<label id=\"align-left\">Email Address</label>\r\n\t\t\t\t\t\t\t\t\t\t<input type='email' className={emailClass} value={this.state.email} onChange={this.emailFieldChange} placeholder='Enter email' />\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-danger\">{this.state.emailError ? this.state.emailErrorDetail:\"\"}</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\t\t\r\n\t\t\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t\t\t<label id=\"align-left\">Password</label>\r\n\t\t\t\t\t\t\t\t\t\t<input type='password' className={passwordClass} value={this.state.password} onChange={this.passFieldChange} placeholder='Enter password' />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\t\t\r\n\t\t\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t\t\t<label id=\"align-left\">Confirm Password</label>\r\n\t\t\t\t\t\t\t\t\t\t<input type='password' className={passwordClass} value={this.state.password2} onChange={this.pass2FieldChange} placeholder='Confirm password' />\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-danger\">{this.state.passwordError ? this.state.passwordErrorDetail:\"\"}</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\t\t\r\n\t\t\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t\t\t<label id=\"align-left\">First Name</label>\r\n\t\t\t\t\t\t\t\t\t\t<input type='text' className='form-control' value={this.state.firstName} onChange={this.firstNameFieldChange} placeholder='First Name' />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\t\t\r\n\t\t\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t\t\t<label id=\"align-left\">Last Name</label>\r\n\t\t\t\t\t\t\t\t\t\t<input type='text' className='form-control' value={this.state.lastName} onChange={this.lastnameFieldChange} placeholder='Last Name' />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t\t<input type='checkbox' className='form-control-input' id='customCheck1' value={this.state.checkField} onChange={this.checkFieldChange} />\r\n\t\t\t\t\t\t\t\t\t<label className='form-control-label' htmlFor='customCheck1' >Legal stuff?</label>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col\">\t\t\r\n\t\t\t\t\t\t\t\t{this.state.networkError ? <p className=\"bg-warning text-danger border\">Server cannot be reached!</p>:undefined}\r\n\t\t\t\t\t\t\t\t<button type='submit' className='btn btn-dark btn-block'>Submit</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\t\t\r\n\t\t\t\t\t</form>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Alert show={show0} variant=\"danger\">\r\n\t\t\t\t\t\t<Alert.Heading>Warning</Alert.Heading>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t  You have to accept the non-existant legal documents\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Alert show={show1} variant=\"warning\">\r\n\t\t\t\t\t\t<Alert.Heading>Waiting</Alert.Heading>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t  This should display while waiting for the return\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"row my-5\">\r\n\t\t\t\t\t\t<div className=\"col\">\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(signup);","import React from \"react\";\r\n\r\nimport { Alert } from 'react-bootstrap';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { APIForgotEmailSend, APIForgotEmailValidate, APIForgotEmailChangePassword } from \"../../utils\";\r\n\r\nclass forgotPassword extends React.Component {\r\n\t\t\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\r\n\t\t\t// This page is one that we need to if the user cannot log in..\r\n\t\t\t// We need to send them to their emails, and then back to here...\r\n\t\t\t// However, we CANNOT RELY on them being logged in...\r\n\t\t\t\r\n\t\t\t// So, therefore.... We shall see if doing the email auth when not logged in will do better or worse...\r\n\t\t\t// If it somehow works better, then I should think of changing the auth page....\r\n\t\t\tcurrentState: 0,\r\n\r\n\t\t\temail: '',\r\n\t\t\tresetToken: '',\r\n\r\n\t\t\tpassword1:'',\r\n\t\t\tpassword2:'',\r\n\r\n\t\t\tpasswordsSameError: false,\r\n\t\t\t\r\n\t\t\tnetworkError: false,\r\n\t\t\t\r\n\t\t\temailError: false,\r\n\t\t\temailErrorDetail: '',\r\n\t\t\t\r\n\t\t\ttokenError: false,\r\n\t\t\ttokenErrorDetail: '',\r\n\t\t\t\r\n\t\t\tpasswordError: false,\r\n\t\t\tpasswordErrorDetail: '',\r\n\t\t\t\r\n\t\t\tuncaughtError: false,\r\n\t\t\t\r\n\t\t\tsendEmailState: 0,\r\n\t\t\tvalidateCodeState: 0,\r\n\t\t\tsubmitPasswordState: 0,\r\n        };\r\n\t\t\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.setState({\r\n\t\t\temail: '',\r\n\t\t\tresetToken: '',\r\n\t\t\tpassword1: '',\r\n\t\t\tpassword2: '',\r\n\t\t\r\n\t\t})\r\n\t}\r\n\r\n\tgoSignIn = () => {\r\n\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t}\r\n\r\n\tarePasswordsSame = () => {\r\n\t\t// I MAY need something more complicated than this, but it can be this for now....\r\n\t\treturn (this.state.password1 === this.state.password2)\r\n\t}\r\n\r\n\tswapToCode = () => {\r\n\t\tthis.setState( {currentState: 1} )\r\n\t}\r\n\r\n\tsendEmailSuccess = (successCode, successData) => {\r\n\t\tconsole.log(\"Email Send Success\")\r\n\t\tthis.setState({\r\n\t\t\tcurrentState: 1,\r\n\t\t\tnetworkError: false,\r\n\t\t\tuncaughtError: false,\r\n\t\t\t\r\n\t\t\tsendEmailState:2,\r\n\t\t})\r\n\t}\r\n\tsendEmailFailure = (responseData) => {\r\n\t\t\r\n\t\tlet networkErrorFlag = false\r\n\t\tlet emailErrorFlag = false\r\n\t\tlet unknownErrorFlag = false\r\n\t\t\r\n\t\tlet emailErrorDetails = \"\"\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\t\t\tfor (let index in responseData['messages']) {\r\n\t\t\t\tif (responseData['messages'][index]['mod'] === 4) {\r\n\t\t\t\t\temailErrorFlag = true\r\n\t\t\t\t\temailErrorDetails = responseData['messages'][index]['text']\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\r\n\t\tthis.setState({\r\n\t\t\tnetworkError:networkErrorFlag,\r\n\t\t\temailError:emailErrorFlag,\r\n\t\t\tuncaughtError:unknownErrorFlag,\r\n\t\t\t\r\n\t\t\temailErrorDetail:emailErrorDetails,\r\n\t\t\t\r\n\t\t\tsendEmailState:3,\r\n\t\t})\r\n\t}\r\n\tsendEmail = () => {\r\n\t\tconsole.log(\"Sending the Email Here...\")\r\n\t\tAPIForgotEmailSend(this.state.email, this.sendEmailSuccess, this.sendEmailFailure)\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tsendEmailState:1,\r\n\t\t})\r\n\t}\r\n\r\n\tcheckTokenFailure = (responseData) => {\r\n\t\t\r\n\t\tlet networkErrorFlag = false\r\n\t\tlet tokenErrorFlag = false\r\n\t\tlet unknownErrorFlag = false\r\n\t\t\r\n\t\tlet tokenErrorDetails = \"\"\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\t\t\tfor (let index in responseData['messages']) {\r\n\t\t\t\tif (responseData['messages'][index]['mod'] === 4) {\r\n\t\t\t\t\ttokenErrorFlag = true\r\n\t\t\t\t\ttokenErrorDetails = responseData['messages'][index]['text']\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tnetworkError:networkErrorFlag,\r\n\t\t\ttokenError:tokenErrorFlag,\r\n\t\t\tuncaughtError:unknownErrorFlag,\r\n\t\t\t\r\n\t\t\ttokenErrorDetail:tokenErrorDetails[1],\r\n\t\t\t\r\n\t\t\tvalidateCodeState:3,\r\n\t\t})\r\n\t}\r\n\tcheckTokenSuccess = (successCode) => {\r\n\t\tconsole.log(\"Token Matched!\")\r\n\t\tthis.setState({\r\n\t\t\tcurrentState: 2,\r\n\t\t\tnetworkError: false,\r\n\t\t\tuncaughtError: false,\r\n\t\t\t\r\n\t\t\tvalidateCodeState:2,\r\n\t\t})\r\n\t}\r\n\tcheckToken = () => {\r\n\t\tconsole.log(\"Send Token Here...\")\r\n\t\tAPIForgotEmailValidate( this.state.resetToken, this.checkTokenSuccess, this.checkTokenFailure)\r\n\r\n\t\tthis.setState({\r\n\t\t\tvalidateCodeState:1,\r\n\t\t})\r\n\t}\r\n\t\r\n\tsubmitPasswordFailure = (responseData) => {\r\n\t\tlet networkErrorFlag = false\r\n\t\tlet passwordErrorFlag = false\r\n\t\tlet unknownErrorFlag = false\r\n\t\t\r\n\t\tlet passwordErrorDetail = \"\"\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\t\t\tfor (let index in responseData['messages']) {\r\n\t\t\t\tif (responseData['messages'][index]['mod'] === 2) {\r\n\t\t\t\t\tpasswordErrorFlag = true\r\n\t\t\t\t\tpasswordErrorDetail = responseData['messages'][index]['text']\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tunknownErrorFlag = true\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tnetworkError:networkErrorFlag,\r\n\t\t\tpasswordError:passwordErrorFlag,\r\n\t\t\tuncaughtError:unknownErrorFlag,\r\n\t\t\t\r\n\t\t\tpasswordErrorDetail:passwordErrorDetail,\r\n\t\t\t\r\n\t\t\tsubmitPasswordState:3,\r\n\t\t})\r\n\t}\r\n\tsubmitPasswordSuccess = (successCode) => {\r\n\t\tconsole.log(\"Password Reset Success!\")\r\n\t\tthis.setState({\r\n\t\t\tcurrentState: 3,\r\n\t\t\tnetworkError: false,\r\n\t\t\tuncaughtError: false,\r\n\t\t\t\r\n\t\t\tsubmitPasswordState:2,\r\n\t\t})\r\n\t}\r\n\tsubmitPasswords = () => {\r\n\t\t// I can use the API for this...\t\r\n\t\tconsole.log(\"Checking Passwords...\")\r\n\t\tif (this.arePasswordsSame()) {\r\n\t\t\tconsole.log(\"Passwords Checked out!\")\r\n\t\t\tAPIForgotEmailChangePassword(this.state.resetToken, this.state.password1, this.state.password2, this.submitPasswordSuccess, this.submitPasswordFailure)\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tsubmitPasswordState:1,\r\n\t\t\t})\r\n\t\t}\r\n\t\telse {\r\n\t\t\tconsole.log(\"Passwords Failed!\")\r\n\t\t}\r\n\t}\r\n\t\r\n\r\n\temailFieldChange = (event) => {\r\n\t\tthis.setState({\r\n\t\t\temail: event.target.value\r\n\t\t})\r\n\t}\r\n\r\n\ttokenFieldChange = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tresetToken: event.target.value\r\n\t\t})\r\n\t}\r\n\t\r\n\tpass1FieldChange = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tpassword1: event.target.value\r\n\t\t})\r\n\t}\r\n\r\n\tpass2FieldChange = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tpassword2: event.target.value,\r\n\t\t\tpasswordsSameError: event.target.value !== this.state.password1,\r\n\t\t})\r\n\t}\r\n\t\r\n\trender() {\r\n\r\n\t\tlet currentField = null\r\n\t\tlet currentButton = null\r\n\t\tlet currentMessage = null\r\n\r\n\t\t// Enter Email For Recovery State\r\n\t\tif (this.state.currentState === 0) {\r\n\t\t\t\r\n\t\t\tif (this.state.networkError) {\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\tif (this.state.emailError) {\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tcurrentMessage = (\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<p> \r\n\t\t\t\t\t\t\tEnter your email address.\r\n\t\t\t\t\t\t\tIf it is in the system, we will send you an email address with a code.\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\r\n\t\t\tcurrentField = (\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t<label>Email Address</label>\r\n\t\t\t\t\t\t\t<input type='email' className='form-control' value={this.state.email} onChange={this.emailFieldChange} placeholder='Enter email' />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\r\n\t\t\tcurrentButton = [\r\n\t\t\t\t(\r\n\t\t\t\t\t<div className=\"row\" key={1}>\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<button className=\"btn btn-primary\" onClick={this.sendEmail}>\r\n\t\t\t\t\t\t\t\tSend\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t),(\r\n\t\t\t\t\t<div className=\"row\" key={2}>\r\n\t\t\t\t\t\t<div className=\"col m-2\">\r\n\t\t\t\t\t\t\t<button className=\"btn btn-primary\" onClick={this.swapToCode}>\r\n\t\t\t\t\t\t\t\tAlready have the code!\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\t]\r\n\t\t\t\t\r\n\t\t}\r\n\t\t// Enter Token From Email State\r\n\t\telse if (this.state.currentState === 1) {\r\n\t\t\t\r\n\t\t\tif (this.state.networkError) {\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\tif (this.state.tokenError) {\r\n\t\t\t\t\r\n\t\t\t}\r\n\r\n\t\t\tcurrentMessage = (\r\n\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t<p> \r\n\t\t\t\t\t\tCheck your email.\r\n\t\t\t\t\t\tIf your email is correct, then enter the code it gives you here:\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\r\n\t\t\tcurrentField = (\r\n\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<label>Reset token</label>\r\n\t\t\t\t\t\t<input type='text' className='form-control' value={this.state.resetToken} onChange={this.tokenFieldChange} placeholder='Enter Token' />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\r\n\t\t\tcurrentButton = (\r\n\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t<button className=\"btn btn-primary\" onClick={this.checkToken}>\r\n\t\t\t\t\t\tCheck Code\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\t// Enter New Passwords State\r\n\t\telse if (this.state.currentState === 2) {\r\n\t\r\n\t\t\tif (this.state.networkError) {\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\tif (this.state.passwordError) {\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\r\n\t\t\tcurrentMessage = [\r\n\t\t\t\t<div className=\"row\" key={1}> \r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<p> Enter your new password! </p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t]\r\n\t\t\tif (this.state.passwordsSameError) {\r\n\t\t\t\tcurrentMessage.push(\r\n\t\t\t\t\t<div className=\"row\" key={2}> \r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<p className=\"text-danger\"> Passwords do not match! </p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\r\n\t\t\tcurrentField = [\r\n\t\t\t\t( \r\n\t\t\t\t\t<div className=\"row\" key={3}> \r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t<input type='password' className='form-control' value={this.state.password1} onChange={this.pass1FieldChange} placeholder='Enter Password' />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t),\r\n\t\t\t\t(\r\n\t\t\t\t\t<div className=\"row\" key={4}> \r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t<input type='password' className='form-control' value={this.state.password2} onChange={this.pass2FieldChange} placeholder='Re-enter Password' />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\t\r\n\t\t\t\t)\r\n\t\t\t]\r\n\t\t\tcurrentButton = (\r\n\t\t\t\t<div className=\"row\"> \r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<button className=\"btn btn-primary\" onClick={this.submitPasswords}>\r\n\t\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\t// Thank You State\r\n\t\telse if (this.state.currentState === 3) {\r\n\t\t\tcurrentMessage = (\r\n\t\t\t\t<div className=\"row\"> \r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<p> Password has been successfullty reset! </p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t\tcurrentField = null\r\n\r\n\t\t\tcurrentButton = (\r\n\t\t\t\t<div className=\"row\"> \r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<button className=\"btn btn-primary\" onClick={this.goSignIn}>\r\n\t\t\t\t\t\t\tSign In!\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\t//let showIdle = this.state.sendEmailState === 0\r\n\t\tlet showWaiting = this.state.sendEmailState === 1 || this.state.validateCodeState === 1 || this.state.submitPasswordState === 1\r\n\t\tlet showSuccess = this.state.sendEmailState === 2 || this.state.validateCodeState === 2 || this.state.submitPasswordState === 2\r\n\t\tlet showError = this.state.sendEmailState === 3 || this.state.validateCodeState === 3 || this.state.submitPasswordState === 3\r\n\r\n\t\treturn (\r\n\t\t\t<div className='container-sm'>\r\n\t\t\t\t\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<h3> Forgot your password? </h3>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{/*Change to proper Submit Form...*/}\r\n\t\t\t\t{currentMessage}\r\n\t\t\t\t{currentField}\r\n\t\t\t\t{currentButton}\r\n\t\t\t\t\r\n\t\t\t\t<Alert show={showWaiting} variant=\"warning\">\r\n\t\t\t\t\t<Alert.Heading>Waiting</Alert.Heading>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t  Waiting for server response for submission...\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t</Alert>\r\n\t\t\t\t\r\n\t\t\t\t<Alert show={showSuccess} variant=\"success\">\r\n\t\t\t\t\t<Alert.Heading>Waiting</Alert.Heading>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t  This should display if we got a success\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t</Alert>\r\n\t\t\t\t\r\n\t\t\t\t<Alert show={showError} variant=\"danger\">\r\n\t\t\t\t\t<Alert.Heading>Error!</Alert.Heading>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t  This should display if we got an error\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t</Alert>\r\n\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(forgotPassword);","import React from \"react\";\r\n\r\nimport { withRouter} from \"react-router-dom\";\r\nimport { Alert } from 'react-bootstrap';\r\nimport { APIValidateAccount, APIResendValidator } from \"../../utils\";\r\n\r\nclass verifyEmail extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\t\t\t\r\n\t\t\t// You need to enter a token from the email address...\r\n\t\t\t// The user will also NEED to be logged in at this point in order for this to work...\r\n\t\t\t// User will be redirected to this page if they are not active...\r\n\t\t\t// And ALL API CALLS WILL FAIL! Unless they enter this code correctly, before it expires\r\n\t\t\ttoken: '',\r\n\t\t\ttokenError:false,\r\n\t\t\ttokenErrorDetail:'???',\r\n\t\t\t\r\n\t\t\tdone:false,\r\n\t\t\t\r\n\t\t\tresend:\"\",\r\n\t\t\t\r\n\t\t\tvalidateStatus: 0,\r\n\t\t\tsendEmailStatus: 0,\r\n        };\r\n\t}\r\n\t\r\n\t// Wait, are Usernames a good thing for what we are doing? Hmmmm\r\n\ttokenFieldChange = (event) => {\r\n\t\tthis.setState( {token: event.target.value} )\r\n\t}\r\n\tgotoDash = () => {\r\n\t\tthis.props.history.push(this.props.reRouteSuccessTarget)\r\n\t}\r\n\t\r\n\t// Data is mostly used for error displaying here honestly\r\n\thandleVerifyFailure = (responseData) => {\r\n\t\t\r\n\t\tlet tokenErrorFlag = false\r\n\t\tlet tokenErrorDetails = \"\"\r\n\t\t\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\t\t\tfor (let index in responseData['messages']) {\r\n\t\t\t\tif (responseData['messages'][index]['mod'] === 1) {\r\n\t\t\t\t\ttokenErrorFlag = true\r\n\t\t\t\t\ttokenErrorDetails = responseData['messages'][index]['text']\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\ttokenError:tokenErrorFlag,\r\n\t\t\ttokenErrorDetail:tokenErrorDetails,\r\n\t\t\t\r\n\t\t\tvalidateStatus: 3,\r\n\t\t})\r\n\t}\r\n\thandleVerifyCallback = (incomingStatus, incomingData) => {\r\n\t\tif (incomingStatus === 200) {\r\n\t\t\t// Successful verification!!\r\n\t\t\tconsole.log(\"Successful Verification!\")\r\n\t\t\tthis.setState({\r\n\t\t\t\tdone:true,\r\n\t\t\t\tvalidateStatus: 2,\r\n\t\t\t})\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\thandleVerifySubmit = (event) => {\r\n\t\t\r\n\t\tAPIValidateAccount( this.state.token, this.handleVerifyCallback, this.handleVerifyFailure)\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tvalidateStatus: 1,\r\n\t\t})\r\n\t\t\r\n\t\tevent.preventDefault();\r\n\t}\r\n\t\r\n\treSendEmailFailure = (responseData) => {\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\t\t\tthis.props.refreshToken( this.reSendEmail )\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tsendEmailStatus: 3,\r\n\t\t})\r\n\t}\r\n\treSendEmailCallback = () => {\r\n\t\t// Change this to the validator view\r\n\t\tthis.setState({\r\n\t\t\tresend:\"A new code has been sent!\",\r\n\t\t\tsendEmailStatus: 2,\r\n\t\t})\r\n\t\t\r\n\t}\r\n\treSendEmail = () => {\r\n\t\t// Now sending the validator email...\r\n\t\tAPIResendValidator( this.reSendEmailCallback, this.reSendEmailFailure)\r\n\t\tthis.setState({\r\n\t\t\tsendEmailStatus: 1,\r\n\t\t})\r\n\t}\r\n\t\r\n\trender() {\r\n\t\t\r\n\t\tlet tokenClass = 'form-control'\r\n\t\tif (this.state.tokenError) {\r\n\t\t\ttokenClass += ' bg-warning'\r\n\t\t}\r\n\t\t\r\n\t\tlet displayBody = []\r\n\t\tif (!this.state.done) {\r\n\t\t\tdisplayBody = (\r\n\t\t\t\t<div>\t\t\t\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<h3>Activate your account</h3>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\t\r\n\t\t\t\t\t<form onSubmit={this.handleVerifySubmit}>\r\n\t\t\t\t\t\t<div id=\"align-left\">\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<p> Check your email, you should have received a code, enter it here and your account will be activated!</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t\t\t<label id=\"label-left\">Enter token here:</label>\r\n\t\t\t\t\t\t\t\t\t\t<input type='text' className={tokenClass} value={this.state.username} onChange={this.tokenFieldChange} placeholder='Token' />\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-danger\">{this.state.tokenError ? this.state.tokenErrorDetail:\"\"}</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"row my-2\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\t\t\r\n\t\t\t\t\t\t\t\t\t<button type='submit' className='btn btn-dark btn-block'>Submit</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\t\t\r\n\t\t\t\t\t</form>\r\n\t\t\t\t\t<div className=\"row my-2\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<button onClick={this.reSendEmail} className='btn btn-dark btn-block'>Re-send Activation code</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\t\r\n\t\t\t\t\t<div className=\"row my-2\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t{this.state.resend}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\telse {\r\n\t\t\tdisplayBody = (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<h3>Thank you!</h3>\r\n\t\t\t\t\t\t\t<p>Account has been activated! Press here to go to the dashboard:</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<button className=\"btn btn-dark\" onClick={this.gotoDash}>To the Dashboard!</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\t//let showIdle = this.state.validateStatus === 0 || this.state.sendEmailStatus === 0\r\n\t\tlet showWaiting = this.state.validateStatus === 1 || this.state.sendEmailStatus === 1\r\n\t\tlet showSuccess = this.state.validateStatus === 2 || this.state.sendEmailStatus === 2\r\n\t\tlet showError = this.state.validateStatus === 3 || this.state.sendEmailStatus === 3\r\n\t\t\r\n\t\treturn (\r\n\t\t\t\r\n\t\t\t<div className=\"signUp\">\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t{displayBody}\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Alert show={showWaiting} variant=\"warning\">\r\n\t\t\t\t\t\t<Alert.Heading>Waiting</Alert.Heading>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t  Waiting for server response for submission...\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Alert show={showSuccess} variant=\"success\">\r\n\t\t\t\t\t\t<Alert.Heading>Waiting</Alert.Heading>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t  This should display if we got a success\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Alert show={showError} variant=\"danger\">\r\n\t\t\t\t\t\t<Alert.Heading>Error!</Alert.Heading>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t  This should display if we got an error\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(verifyEmail);","import React from \"react\";\r\n\r\nconst Header = (props) => {\r\n\t\r\n\treturn (\r\n\t\t<header className=\"header\">\r\n\t\t\t<div className='intro'>\r\n\t\t\t\t<div className='overlay'>\r\n\t\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col col-md-offset-2 intro-text\">\r\n\t\t\t\t\t\t\t\t<h1>\r\n\t\t\t\t\t\t\t\t\tProject Scenere\r\n\t\t\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t\t\t\t<h5>\r\n\t\t\t\t\t\t\t\t\tWelcome to the Alpha!\r\n\t\t\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</header>\r\n\t);\r\n\t\t\r\n}\r\n\r\nexport default Header;","import React from \"react\";\r\nimport { Alarm, Award, Flag, Hexagon } from 'react-bootstrap-icons';\r\n\r\nconst testAnother = (props) => {\r\n\t\r\n\treturn (\r\n\t\t<div className=\"text-center\" id='features'>\r\n\t\t\t<div className=\"container\">\r\n\t\t\t\t<div className=\"row m-3\">\r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<h2 className=\"section-title\">\r\n\t\t\t\t\t\t\tFeatures\r\n\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t<p className=\"text-muted section-subtitle\">\r\n\t\t\t\t\t\t\tLorem ipsum\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<div className=\"row my-2\">\r\n\t\t\t\t\t<div className=\"col-sm-6 col-md-6 col-lg-3\">\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t<Alarm className=\"iconBG\" color=\"white\" size={72} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t<h3>\r\n\t\t\t\t\t\t\t\t\tFeature Title\r\n\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<p className=\"col text-muted\">\r\n\t\t\t\t\t\t\t\tLorem ipsum dolor sit amet placerat facilisis felis mi in tempus eleifend pellentesque natoque etiam.\t\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-sm-6 col-md-6 col-lg-3\">\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t<Award className=\"iconBG\" color=\"white\" size={72} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t<h3>\r\n\t\t\t\t\t\t\t\t\tFeature Title\r\n\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<p className=\"col text-muted\">\r\n\t\t\t\t\t\t\t\tLorem ipsum dolor sit amet placerat facilisis felis mi in tempus eleifend pellentesque natoque etiam.\t\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-sm-6 col-md-6 col-lg-3\">\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t<Flag className=\"iconBG\" color=\"white\" size={72} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t<h3>\r\n\t\t\t\t\t\t\t\t\tFeature Title\r\n\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<p className=\"col text-muted\">\r\n\t\t\t\t\t\t\t\tLorem ipsum dolor sit amet placerat facilisis felis mi in tempus eleifend pellentesque natoque etiam.\t\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-sm-6 col-md-6 col-lg-3\">\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t<Hexagon className=\"iconBG\" color=\"white\" size={72} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t<h3>\r\n\t\t\t\t\t\t\t\t\tFeature Title\r\n\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<p className=\"col text-muted\">\r\n\t\t\t\t\t\t\t\tLorem ipsum dolor sit amet placerat facilisis felis mi in tempus eleifend pellentesque natoque etiam.\t\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n\t\t\r\n}\r\n\r\nexport default testAnother;","import React from \"react\";\r\n\r\nconst testLeft = (props) => {\r\n\t\r\n\treturn (\r\n\t\t<div id='about'>\r\n\t\t\t<div className=\"container\">\r\n\t\t\t\t<div className=\"row m-4\">\r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<h2 className=\"section-title\">\r\n\t\t\t\t\t\t\tAbout Us\r\n\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t<p className=\"text-muted section-subtitle\">\r\n\t\t\t\t\t\t\tLorem ipsum\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"row m-4\">\r\n\t\t\t\t\t<div className=\"col text-muted\">\r\n\t\t\t\t\t\tLorem ipsum dolor sit amet placerat facilisis felis mi in tempus eleifend pellentesque natoque etiam.\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"row m-4\">\r\n\t\t\t\t\t<h5 className=\"col about-subsection\">\r\n\t\t\t\t\t\tTitle of Subsection\r\n\t\t\t\t\t</h5>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"row my-2 about-text text-muted\">\r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\tLorem ipsum dolor sit amet\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\tLorem ipsum dolor sit amet\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\tLorem ipsum dolor sit amet\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\tLorem ipsum dolor sit amet\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"col list-style\">\r\n\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\tLorem ipsum dolor sit amet\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\tLorem ipsum dolor sit amet\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\tLorem ipsum dolor sit amet\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\tLorem ipsum dolor sit amet\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n\t\t\r\n}\r\n\r\nexport default testLeft;","import React from \"react\";\r\nimport {APIBetaSignEmail} from \"../../utils\";\r\n\r\nclass contact extends React.Component {\r\n\t\r\n\t// Load this fromt the rest of it if we are logged in...\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\t\t\temail: '',\r\n\t\t\thandleEmailStatus: 0,\r\n        };\r\n\t}\r\n\t\r\n\temailFieldChange = (event) => {\r\n\t\tthis.setState( {email: event.target.value} )\r\n\t}\r\n\t\r\n\tcallbackFailure = () => {\r\n\t\tthis.setState({\r\n\t\t\thandleEmailStatus: 3,\r\n\t\t})\r\n\t}\t\r\n\tcallbackSuccess = () => {\r\n\t\tthis.setState({\r\n\t\t\thandleEmailStatus: 2,\r\n\t\t})\r\n\t}\r\n\thandleSubmit = (event) => {\r\n\r\n\t\tAPIBetaSignEmail(this.state.email, this.callbackSuccess, this.callbackFailure)\r\n\t\tevent.preventDefault();\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\thandleEmailStatus: 1,\r\n\t\t})\r\n\t}\r\n\t\r\n\trender() {\r\n\t\treturn (\r\n\t\t\r\n\t\t\t<div id=\"contact\">\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<h2>\r\n\t\t\t\t\t\t\t\t\tBeta Request\r\n\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\tInterested in beta testing? Enter you email below\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t\t<form onSubmit={this.handleSubmit}>\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col\">\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t\t<input type='email' className='form-control' value={this.state.email} onChange={this.emailFieldChange} placeholder='Enter email' />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{/*\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"row\"> */}\r\n\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t<label></label>\r\n\t\t\t\t\t\t\t\t<button type='submit' className='btn btn-dark btn-block'>Send!</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default contact;","import React from \"react\";\r\nimport {APIContactUsEmail} from \"../../utils\";\r\n\r\nclass contact extends React.Component {\r\n\t\r\n\t// Load this fromt the rest of it if we are logged in...\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\t\t\t\r\n\t\t\tfirstName: '',\r\n\t\t\tlastName: '',\r\n\t\t\t\r\n\t\t\temail: '',\r\n\t\t\tcompany: '',\r\n\t\t\t\r\n\t\t\tcontent : '',\r\n\t\t\t\r\n\t\t\temailContactState: 0,\r\n        };\r\n\t}\r\n\t\r\n\t// Wait, are Usernames a good thing for what we are doing? Hmmmm\r\n\tfirstNameFieldChange = (event) => {\r\n\t\tthis.setState( {firstName: event.target.value} )\r\n\t}\r\n\t\r\n\tlastnameFieldChange = (event) => {\r\n\t\tthis.setState( {lastName: event.target.value} )\r\n\t}\r\n\t\r\n\temailFieldChange = (event) => {\r\n\t\tthis.setState( {email: event.target.value} )\r\n\t}\r\n\t\r\n\tcompanyFieldChange = (event) => {\r\n\t\tthis.setState( {company: event.target.value} )\r\n\t}\r\n\t\r\n\tcontentFieldChange = (event) => {\r\n\t\tthis.setState( {content: event.target.value} )\r\n\t}\r\n\t\r\n\tcallbackFailure = () => {\r\n\t\tthis.setState({\r\n\t\t\temailContactState: 3,\r\n\t\t})\r\n\t}\r\n\tcallbackSuccess = () => {\r\n\t\tthis.setState({\r\n\t\t\temailContactState: 2,\r\n\t\t})\r\n\t}\r\n\thandleSubmit = (event) => {\r\n\r\n\t\tAPIContactUsEmail(this.state.firstName, this.state.lastName, this.state.email, this.state.company, this.state.content, this.callbackSuccess, this.callbackFailure)\r\n\t\tevent.preventDefault();\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\temailContactState: 1,\r\n\t\t})\r\n\t}\r\n\t\r\n\trender() {\r\n\t\treturn (\r\n\t\t\r\n\t\t\t<div id=\"contact\">\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<h2>\r\n\t\t\t\t\t\t\t\t\tContact Us\r\n\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\tLorem ipsum dolor sit amet placerat\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t\t<form onSubmit={this.handleSubmit}>\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col\">\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t\t<label>First Name</label>\r\n\t\t\t\t\t\t\t\t\t<input type='text' className='form-control' value={this.state.firstName} onChange={this.firstNameFieldChange} placeholder='First Name' />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col\">\t\r\n\t\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t\t<label>Last Name</label>\r\n\t\t\t\t\t\t\t\t\t<input type='text' className='form-control' value={this.state.lastName} onChange={this.lastnameFieldChange} placeholder='Last Name' />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col\">\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t\t<label>Email Address</label>\r\n\t\t\t\t\t\t\t\t\t<input type='email' className='form-control' value={this.state.email} onChange={this.emailFieldChange} placeholder='Enter email' />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col\">\t\r\n\t\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t\t<label>Company</label>\r\n\t\t\t\t\t\t\t\t\t<input type='text' className='form-control' value={this.state.company} onChange={this.companyFieldChange} placeholder='Company Name' />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col\">\t\r\n\t\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t\t<label>Content</label>\r\n\t\t\t\t\t\t\t\t\t<textarea  type='text' className='form-control' value={this.state.content} onChange={this.contentFieldChange} placeholder='Content' />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<div className=\"row my-1\">\r\n\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t<button type='submit' className='btn btn-dark btn-block'>Send Message</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\t\r\n\t\t\t\t\t</form>\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default contact;","import React from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\n\r\nclass navigation extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n        };\r\n\t}\r\n\t\r\n\ttriggerLogout = () => {\r\n\t\tthis.props.logout()\r\n\t\tthis.props.history.push(this.props.reRouteSignIn)\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tlet iconButton = null\r\n\t\tlet userDisplay = null\r\n\r\n\t\tif (this.props.currentUser === undefined) {\r\n\t\t\ticonButton = [\r\n\t\t\t\t(<li className={'nav-item'} key='1'>\r\n\t\t\t\t\t<Link className=\"nav-link\" to={this.props.reRouteSignUp}>\r\n\t\t\t\t\t\tSign Up\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</li>),\r\n\r\n\t\t\t\t(<li className={'nav-item'}  key='2'>\r\n\t\t\t\t\t<Link className=\"nav-link\" to={this.props.reRouteSignIn}>\r\n\t\t\t\t\t\tSign In\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</li>)\r\n\t\t\t]\r\n\r\n\t\t\t/*\r\n\t\t\tuserDisplay = (\r\n\t\t\t\t<li className={'nav-item'}  key='3'>\t\r\n\t\t\t\t\t<Link className=\"nav-link\" to={this.props.reRouteSignIn}>\r\n\t\t\t\t\t\tNone\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t\t*/\r\n\t\t}\r\n\t\telse {\r\n\t\t\ticonButton = [\r\n\t\t\t\t(<li className={'nav-item'}  key='1'>\t\r\n\t\t\t\t\t<Link className=\"nav-link\" to={this.props.reRouteDashboard}>\r\n\t\t\t\t\t\tDashboard\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</li>)\r\n\t\t\t]\r\n\r\n\t\t\tuserDisplay = (\r\n\t\t\t\t<div className='dropdown'  key='5'>\r\n\t\t\t\t\t<div className=\"nav-link\" type=\"button\" id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n\t\t\t\t\t\t{this.props.currentUser}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"dropdown-menu dropdown-menu-right\" aria-labelledby=\"dropdownMenuButton\">\r\n\t\t\t\t\t\t<Link className=\"dropdown-item\" to={this.props.reRouteUserInvites}>\r\n\t\t\t\t\t\t\tInvites\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t<Link className=\"dropdown-item\" to={this.props.reRouteUserSecurity}>\r\n\t\t\t\t\t\t\tSecurity\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t<Link className=\"dropdown-item\" to={this.props.reRouteUserPermissions}>\r\n\t\t\t\t\t\t\tPermissions\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t<Link className=\"dropdown-item\" to={this.props.reRouteLanding} onClick={this.triggerLogout}>\r\n\t\t\t\t\t\t\tSign Out\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\t//fixed-top\r\n\t\treturn (\r\n\t\t\t<div className=\"navigation\">\r\n\t\t\t\r\n\t\t\t\t<nav className=\"navbar navbar-expand-lg navbar-dark bg-dark\">\r\n\t\t\t\t\t<div className=\"container-fluid\">\r\n\t\t\t\t\t\t<Link className=\"navbar-brand\" to={this.props.reRouteLanding}>\r\n\t\t\t\t\t\t\tProject Scenere\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t{/*\r\n\t\t\t\t\t\t<button onClick={this.saveToStorage}>\r\n\t\t\t\t\t\t\tTest Save\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button onClick={this.getFromStorage}>\r\n\t\t\t\t\t\t\tTest Load\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button onClick={this.clearTheStorage}>\r\n\t\t\t\t\t\t\tClear\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button onClick={this.checkTheStorage}>\r\n\t\t\t\t\t\t\tCheck Contents\r\n\t\t\t\t\t\t</button> \r\n\t\t\t\t\t\t*/}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<div className=\"dropdown\">\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclassName=\"navbar-toggler\"\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\tdata-toggle=\"collapse\"\r\n\t\t\t\t\t\t\tdata-target=\"#navbarResponsive\"\r\n\t\t\t\t\t\t\taria-controls=\"navbarResponsive\"\r\n\t\t\t\t\t\t\taria-expanded=\"false\"\r\n\t\t\t\t\t\t\taria-label=\"Toggle navigation\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<span className=\"navbar-toggler-icon\"></span>\r\n\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t<div className=\"collapse navbar-collapse\" id=\"navbarResponsive\">\r\n\t\t\t\t\t\t\t<ul className=\"navbar-nav ml-auto\">\r\n\t\t\t\t\t\t\t\t{iconButton}\r\n\t\t\t\t\t\t\t\t{userDisplay}\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</nav>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(navigation);","import React from \"react\";\r\n\r\nclass footer extends React.Component {\r\n\t\r\n\t// Imma just cheat and put this stuff here...\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        };\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"footer fixed-bottom\">\r\n\t\t\t\r\n\t\t\t\t<footer className=\"py-3 bg-dark\">\r\n\t\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t\t<p className=\"m-0 text-center text-white\">\r\n\t\t\t\t\t\t\tCopyright &copy; Nightingale Technologies 2021\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</footer>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default footer;","import React from \"react\";\r\n\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nimport { Header, Features, About, ContactUs, BetaContact} from \"./landingPages\";\r\n// Services, Testimonials, ContactInfo,\r\n\r\n// I honestly dont know what to put in the Free pages yet...\r\n\r\nclass FreePages extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\t\t\t\r\n        };\r\n\t}\r\n\t\r\n\t// Rendering this with Bootstrap React.... To see if there is anything really interesting I can do with it\r\n\t// So far it doesnt look all that different \r\n\trender() {\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className=\"freePages\">\r\n\t\t\t\r\n\t\t\t\t<Header />\r\n\t\t\t\t\r\n\t\t\t\t<BetaContact \r\n\t\t\t\t\t\r\n\t\t\t\t/>\r\n\t\t\t\t<Features />\r\n\t\t\t\t<About />\r\n\t\t\t\t{/* <Services /> */}\r\n\t\t\t\t{/* <Testimonials /> */}\r\n\t\t\t\t<ContactUs \r\n\t\t\t\t\t\r\n\t\t\t\t/>\r\n\t\t\t\t{/* <ContactInfo /> */}\r\n\t\t\t\t{/*Would this be better as an empty set?*/}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(FreePages);","import React from \"react\";\r\n\r\nimport { withRouter } from \"react-router-dom\";\r\n//import { ButtonGroup, ToggleButton } from 'react-bootstrap';\r\n\r\n//import Store from \"store\"\r\n\r\n//import {makeCompanyTestData} from \"../utils\";\r\n\r\n// Then lets start here...With the Signin, and Sign Up pages\r\n\r\nclass AuthPages extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\t\t\t\r\n\t\t\t// hmmmm\r\n\t\t\texample: 0,\r\n        };\r\n\t}\r\n\t\r\n\tbackButton = () => {\r\n\t\tthis.props.history.goBack()\r\n\t}\r\n\t\r\n\t// Rendering this with Bootstrap React.... To see if there is anything really interesting I can do with it\r\n\t// So far it doesnt look all that different \r\n\trender() {\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className=\"authPages\">\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\tAuthorization Pages\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(AuthPages);","import React from \"react\";\r\n\r\nimport { withRouter, Route, Switch } from \"react-router-dom\";\r\n//import { ButtonGroup, ToggleButton } from 'react-bootstrap'\r\nimport { Alert } from 'react-bootstrap';\r\n\r\n//SetCompany\r\nimport { UserPages, CompanyPages, Dashboard } from \".\"\r\n\r\n//import { timedLoadStorage } from \"../utils\";\r\n//import { CompanyPages } from \"./companyPages\"\r\n//import { UserPages } from \"./userPages\"\r\nimport { APIGetJournalPrompts, APIGetJournalDates, APIGetNonJournalDates, APIGetSuggestionDates, APIGetSuggestionData, APIGetUsersPermTree, APIGetCompanyValidDates, APIGetCompanySummary, APIGetServerEHIData, APIGetDivisionWebDates, APICheckActive } from \"../utils\";\r\nimport { APIGetUserWebDates } from \"../utils\";\r\n\r\nimport { APIGetEmailAIData } from \"../utils\";\r\n\r\n//, deleteStorageKey\r\nimport { timedLoadStorage, timedSaveStorage} from \"../utils\";\r\n//convertFromRaw\r\n\r\n// This needs to be changed out as this is now in 2 files....\r\n/*const daySet = [\r\n    { name: 'Monday', value: 'mon' },\r\n    { name: 'Tuesday', value: 'tue' },\r\n    { name: 'Wednesday', value: 'wed' },\r\n\t{ name: 'Thursday', value: 'thu' },\r\n\t{ name: 'Friday', value: 'fri' },\r\n\t{ name: 'Saturday', value: 'sat' },\r\n\t{ name: 'Sunday', value: 'sun' },\r\n\t{ name: 'All', value: 'allDay' },\r\n];\r\n*/\r\n\r\nconst waitTimeMS = 100\r\n\r\nclass ContentPages extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\t\t\t\r\n\t\t\tcurrentDate: new Date(),\r\n\t\t\t\r\n\t\t\t// If I put the calender in the sidebar, we shall put this here...\r\n\t\t\tvalidJournalDates:[],\r\n\t\t\tvalidJournalScanDates: [],\r\n\t\t\t\r\n\t\t\tselectedCompanyDate: new Date(),\r\n\t\t\tselectedSuggestionDate: new Date(),\r\n\t\t\t\r\n\t\t\t// EHI Page State...\r\n\t\t\tEHIData: [],\r\n\t\t\t\r\n\t\t\t// Company Summary View Save State\r\n\t\t\tselectedCompanyDay:\"mon\",\r\n\t\t\tselectedCompanyPrompt:\"misc\",\r\n\t\t\tselectedCompanyAspect:\"emotion\",\r\n\t\t\t\r\n\t\t\tcompanyMessage: \"Choose a date and company to view that summary!\",\r\n\t\t\t\r\n\t\t\t// Version 2 of the Company Data Selection\r\n\t\t\tcurrentDivisionID:-1,\r\n\t\t\tcurrentDivisionName:\"None\",\r\n\t\t\t\r\n\t\t\t// Last data obtained for company summary\r\n\t\t\tcurrentCompanyDataName:undefined,\r\n\t\t\tcurrentCompanyDataType:undefined,\r\n\t\t\tselectedSummaryWeekData: {},\r\n\t\t\tvalidCompanySummaryDates:[],\r\n\t\t\t\r\n\t\t\t// Suggestions!\r\n\t\t\tselectedSuggestDay: false,\r\n\t\t\tselectedSuggestDayData: [],\r\n\t\t\tvalidDivisionSuggestionDates:[],\r\n\t\t\t\r\n\t\t\tvalidDivisionWebDates: [],\r\n\t\t\tgetDatesWebStatus: 0,\r\n\t\t\tgetDatesWebError: [],\r\n\t\t\t\r\n\t\t\tlastGovernedCompanyRequestStatus:undefined,\r\n\t\t\t\r\n\t\t\tuserLoadedCompanyList: [],\r\n\t\t\t\r\n\t\t\tcheckActiveUserStatus: 0,\r\n\t\t\tcheckActiveUserError: [],\r\n\t\t\t\r\n\t\t\tgetJournalDatesStatus: 0,\r\n\t\t\tgetJournalDatesError: [],\r\n\t\t\t\r\n\t\t\tgetUserCompanyPermsAppStatus: 0,\r\n\t\t\tgetUserCompanyPermsAppError: [],\r\n\t\t\t\r\n\t\t\tgetCompanyValidDatesStatus: 0,\r\n\t\t\tgetCompanyValidDatesError: [],\r\n\t\t\tgetCompanyValidSuggestionDatesStatus: 0,\r\n\t\t\tgetCompanyValidSuggestionDatesError: [],\r\n\t\t\tgetCompanyEHIDataStatus: 0,\r\n\t\t\tgetCompanyEHIDataError: [],\r\n\t\t\t\r\n\t\t\tgetCompanySuggestionDataStatus: 0,\r\n\t\t\tgetCompanySuggestionDataError: [],\r\n\t\t\tgetCompanyWeeklySummaryStatus: 0,\r\n\t\t\tgetCompanyWeeklySummaryError: [],\r\n\t\t\t\r\n\t\t\tgetCompanyDataStatus: true,\r\n\t\t\t\r\n\t\t\tjournalValidPrompts: [],\r\n\t\t\tjournalPromptsErrors: [],\r\n\t\t\tgetJournalPromptsStatus: 0,\r\n\t\t\t\r\n\t\t\tvalidNonJournalDates: [],\r\n\t\t\tgetNonJournalDatesError: [],\r\n\t\t\tgetNonJournalDatesStatus: 0,\r\n\t\t\t\r\n\t\t\tvalidUserWebDates: {},\r\n\t\t\tgetValidWebDatesStatus: [],\r\n\t\t\tgetValidWebDatesError: 0,\r\n\t\t\t\r\n\t\t\tpageIsLoaded: false,\r\n        };\r\n\t\tthis.waitForParent = undefined;\r\n\t}\r\n\t\r\n\t// This will run when this component is loaded...\r\n\tcomponentDidMount = () => {\r\n\t\t// On refresh, these will load before App.js has a chance to load in the token...\r\n\t\t\r\n\t\tif ( this.state.currentDivisionID === -1) {\r\n\t\t\tthis.props.changeCompanyMenuItems(-1)\r\n\t\t}\r\n\t\r\n\t\tlet isLoaded = this.checkParentIsLoaded()\r\n\t\tif (!isLoaded) {\t\r\n\t\t\t// Wait until app.js has loaded....\r\n\t\t\tthis.waitForParent = setInterval(this.checkParentIsLoaded, waitTimeMS)\r\n\t\t}\r\n\t}\r\n\t\r\n\ttriggerLogout = () => {\r\n\t\tthis.props.logout()\r\n\t\tthis.props.history.push(this.props.reRouteSignIn)\r\n\t}\r\n\t\r\n\tclearCompanyData = () => {\r\n\t\tthis.setState({\r\n\t\t\t// Clear EHI Data....\r\n\t\t\tEHIData: [],\r\n\t\t\t\r\n\t\t\tcurrentCompanyDataName:undefined,\r\n\t\t\tcurrentCompanyDataType:undefined,\r\n\t\t\tselectedSummaryWeekData:{},\r\n\t\t\tvalidCompanySummaryDates:[],\r\n\t\t\t\r\n\t\t\tselectedSuggestDay: false,\r\n\t\t\tselectedSuggestDayData: [],\r\n\t\t\tvalidDivisionSuggestionDates:[],\r\n\t\t})\r\n\t}\r\n\t\r\n\tcheckParentIsLoaded = () => {\r\n\t\tif (this.props.parentHasLoaded) {\r\n\t\t\tclearInterval(this.waitForParent)\r\n\t\t\t//console.log(\"Content page Finished Loading!\")\r\n\t\t\tthis.loadData()\r\n\t\t\t\r\n\t\t\treturn true\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn false\r\n\t\t}\r\n\t}\r\n\t\r\n\tloadFromLocalStorage = () => {\r\n\t\tlet lastDivObject = timedLoadStorage('lastGotCompany');\r\n\t\t\r\n\t\tif (lastDivObject === 0) {\r\n\t\t\t//console.log(\"No User In the Storage!\")\r\n\t\t}\r\n\t\telse if (lastDivObject === 1) {\r\n\t\t\t//console.log(\"Session was expired!\")\r\n\t\t}\r\n\t\telse if (lastDivObject === 2) {\r\n\t\t\t//console.log(\"Invalid Save!\")\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.getCompanyDataRequest(lastDivObject)\r\n\t\t}\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tpageIsLoaded: true,\r\n\t\t})\r\n\t}\r\n\t\r\n\tloadData = () => {\r\n\t\t//console.log(\"Triggered Load\")\r\n\t\t// Do have this as a check on the server side in everything... A special error\r\n\t\tthis.props.changeUserMenuItems(-1)\r\n\t\tthis.checkActiveUser()\r\n\t\t// We will wait for this to return true before we continue\r\n\t}\r\n\t\r\n\tloadOtherData = () => {\r\n\t\tthis.getJournalPrompts()\r\n\t\tthis.getValidJournalDates()\r\n\t\tthis.getValidNonJournalDates()\r\n\t\t\r\n\t\tthis.getValidWebDates()\r\n\t\t\r\n\t\tthis.getUserCompanyPermsApp()\r\n\t\t\r\n\t\t// Check to see if there was a previous load we want...\r\n\t\tthis.loadFromLocalStorage()\r\n\t}\r\n\t\r\n\tAPIGetEmailAIDataFailure = (responseData) => {\r\n\t\tconsole.log(responseData)\r\n\t}\r\n\tAPIGetEmailAIDataCallback = (incomingPrompts) => {\r\n\t\tconsole.log(incomingPrompts)\r\n\t}\r\n\tAPIGetEmailAIData = () => {\r\n\t\tAPIGetEmailAIData(\"ASDF\", this.APIGetEmailAIDataCallback, this.APIGetEmailAIDataFailure)\r\n\t}\r\n\t\r\n\t// I should consider rolling this into the other callbacks...\r\n\t// All API calls WILL fail if they are not active...\r\n\tjournalPromptsFailure = (responseData) => {\r\n\t\tlet returnData = []\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.refreshToken(this.loadOtherData)\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\treturnData = responseData['messages']\r\n\t\tthis.setState({\r\n\t\t\tjournalPromptsErrors:returnData,\r\n\t\t\tgetJournalPromptsStatus:3,\r\n\t\t})\r\n\t}\r\n\tjournalPromptsCallback = (incomingPrompts) => {\r\n\t\t// I could define the new Editors here?\r\n\t\t// Or do I just store this shiz into storage?\r\n\t\t// Hm, how much... SHOULD go into storage?\r\n\t\t//console.log(incomingPrompts)\r\n\t\tthis.setState({\r\n\t\t\tjournalValidPrompts: incomingPrompts,\r\n\t\t\tgetJournalPromptsStatus:2,\r\n\t\t})\r\n\t}\r\n\tgetJournalPrompts = () => {\r\n\t\tif (!(this.props.currentUser === undefined)) {\t\r\n\t\t\tlet checkData = undefined\r\n\t\t\tif (checkData === undefined) {\r\n\t\t\t\t//console.log(\"Prompts are not in storage!\")\r\n\t\t\t\tAPIGetJournalPrompts( this.journalPromptsCallback, this.journalPromptsFailure)\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tgetJournalPromptsStatus:1,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tconsole.log(\"Prompts ARE in storage!\")\r\n\t\t\t\t//this.journalPromptsCallback(checkData.???, checkData.???)\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.triggerLogout()\r\n\t\t}\r\n\t}\r\n\t\r\n\t// There IS a *Isactive* in Django, but that will be used to close accounds due to how its coded\r\n\t// But we should check here, and redirect to the Verification page if we fail...\r\n\tcheckActiveUserFailure = (responseData) => {\r\n\t\tlet returnData = []\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\tconsole.log(\"WHY\")\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.refreshToken(this.loadData)\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\treturnData = responseData['messages']\r\n\r\n\t\tthis.setState({\r\n\t\t\tcheckActiveUserStatus: 3,\r\n\t\t\tcheckActiveUserError: returnData,\r\n\t\t})\r\n\r\n\t}\r\n\tcheckActiveUserCallback = (ActiveState) => {\r\n\t\tif (ActiveState === true) {\r\n\t\t\t//console.log(\"User is considered Active\")\r\n\t\t\tthis.props.changeUserMenuItems(0)\r\n\t\t\tthis.setState({\r\n\t\t\t\tcheckActiveUserStatus: 2,\r\n\t\t\t})\r\n\t\t\t// Continue!\r\n\t\t\tthis.loadOtherData()\r\n\t\t}\r\n\t\telse {\r\n\t\t\t//console.log(\"User needs to activate account\")\r\n\t\t\tthis.props.history.push(this.props.activateRedirect)\r\n\t\t}\r\n\t}\r\n\tcheckActiveUser = () => {\r\n\t\tif (!(this.props.currentUser === undefined)) {\t\r\n\t\t\tAPICheckActive(this.checkActiveUserCallback, this.checkActiveUserFailure)\r\n\t\t\tthis.setState({\r\n\t\t\t\tcheckActiveUserStatus: 1,\r\n\t\t\t})\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.triggerLogout()\r\n\t\t}\r\n\t}\r\n\t\r\n\tgetValidWebDatesFailure = (responseData) => {\r\n\t\tlet returnData = []\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.refreshToken( this.loadOtherData )\r\n\t\t\treturn\r\n\t\t}\r\n\t\t\r\n\t\treturnData = responseData['messages']\r\n\t\tthis.setState({\r\n\t\t\tgetValidWebDatesStatus: 3,\r\n\t\t\tgetValidWebDatesError: returnData,\r\n\t\t})\r\n\t}\r\n\tgetValidWebDatesCallback = (incomingWebDates) => {\r\n\t\t//console.log(incomingWebDates)\r\n\t\t//Store.set(this.props.currentUser+\"-ValidDates\", {\"journalDates\":incomingJournalDates ,\"AIDates\":incomingJournalAIDates})\r\n\t\t// Hmmmmmm, how should I do this?\r\n\t\t\r\n\t\tthis.props.changeUserMenuItems(1)\r\n\t\tthis.setState({\r\n\t\t\tvalidUserWebDates: incomingWebDates,\r\n\t\t\tgetValidWebDatesStatus: 2,\r\n\t\t})\r\n\t}\r\n\tgetValidWebDates = () => {\r\n\t\t\r\n\t\t//console.log(\"Running a journal dates check\")\r\n\t\t\r\n\t\t// Check if the user is a valid one... As this is loaded in App.js\r\n\t\tif (!(this.props.currentUser === undefined)) {\t\t\r\n\t\t\t// We have to overwrite it if the data is old though...\r\n\t\t\tlet checkData = undefined//Store.get(this.props.currentUser+\"-ValidDates\")\r\n\t\t\tif (checkData === undefined) {\r\n\t\t\t\t//console.log(\"Valid journal Dates were not in the cookies!\")\r\n\t\t\t\tAPIGetUserWebDates(this.getValidWebDatesCallback, this.getValidWebDatesFailure)\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tgetValidWebDatesStatus: 1,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t//console.log(\"Valid Journal dates WERE in the cockies!\")\r\n\t\t\t\tthis.getValidWebDatesCallback(checkData.journalDates, checkData.AIDates)\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\t//console.log(\"Invalid User\")\r\n\t\t\tthis.triggerLogout()\r\n\t\t}\r\n\t}\r\n\t\r\n\tjournalDatesFailure = (responseData) => {\r\n\t\tlet returnData = []\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.refreshToken( this.loadOtherData )\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\treturnData = responseData['messages']\r\n\t\tthis.setState({\r\n\t\t\tgetJournalDatesStatus: 3,\r\n\t\t\tgetJournalDatesError: returnData,\r\n\t\t})\r\n\t}\r\n\t// Journal Date Stuff----------------------------------------------------------------------\r\n\tjournalDatesCallback = (incomingJournalDates, incomingJournalAIDates) => {\r\n\t\t\r\n\t\t//console.log(incomingJournalDates)\r\n\t\t//console.log(incomingJournalAIDates)\r\n\t\t\r\n\t\t//Store.set(this.props.currentUser+\"-ValidDates\", {\"journalDates\":incomingJournalDates ,\"AIDates\":incomingJournalAIDates})\r\n\t\tthis.setState({\r\n\t\t\tvalidJournalDates: incomingJournalDates,\r\n\t\t\tvalidJournalScanDates: incomingJournalAIDates,\r\n\t\t\tgetJournalDatesStatus: 2,\r\n\t\t})\r\n\t}\r\n\tgetValidJournalDates = () => {\r\n\t\t\r\n\t\t//console.log(\"Running a journal dates check\")\r\n\t\t\r\n\t\t// Check if the user is a valid one... As this is loaded in App.js\r\n\t\tif (!(this.props.currentUser === undefined)) {\t\t\r\n\t\t\t// We have to overwrite it if the data is old though...\r\n\t\t\tlet checkData = undefined//Store.get(this.props.currentUser+\"-ValidDates\")\r\n\t\t\tif (checkData === undefined) {\r\n\t\t\t\t//console.log(\"Valid journal Dates were not in the cookies!\")\r\n\t\t\t\tAPIGetJournalDates(this.journalDatesCallback, this.journalDatesFailure)\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tgetJournalDatesStatus: 1,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t//console.log(\"Valid Journal dates WERE in the cockies!\")\r\n\t\t\t\tthis.journalDatesCallback(checkData.journalDates, checkData.AIDates)\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\t//console.log(\"Invalid User\")\r\n\t\t\tthis.triggerLogout()\r\n\t\t}\r\n\t}\r\n\t\r\n\tnonJournalDatesFailure = (responseData) => {\r\n\t\tlet returnData = []\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.refreshToken( this.loadOtherData )\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\treturnData = responseData['messages']\r\n\t\tthis.setState({\r\n\t\t\tgetNonJournalDatesStatus: 3,\r\n\t\t\tgetNonJournalDatesError: returnData,\r\n\t\t})\r\n\t}\r\n\t// Journal Date Stuff----------------------------------------------------------------------\r\n\tnonJournalDatesCallback = (incomingNonJournalDates) => {\r\n\t\t\r\n\t\t//console.log(incomingNonJournalDates)\r\n\t\t\r\n\t\t//Store.set(this.props.currentUser+\"-ValidDates\", {\"journalDates\":incomingJournalDates ,\"AIDates\":incomingJournalAIDates})\r\n\t\tthis.setState({\r\n\t\t\tvalidNonJournalDates: incomingNonJournalDates,\r\n\t\t\tgetNonJournalDatesStatus: 2,\r\n\t\t})\r\n\t}\r\n\tgetValidNonJournalDates = () => {\r\n\t\t\r\n\t\t// Check if the user is a valid one... As this is loaded in App.js\r\n\t\tif (!(this.props.currentUser === undefined)) {\t\t\r\n\t\t\t// We have to overwrite it if the data is old though...\r\n\t\t\tlet checkData = undefined//Store.get(this.props.currentUser+\"-ValidDates\")\r\n\t\t\tif (checkData === undefined) {\r\n\t\t\t\t//console.log(\"Valid journal Dates were not in the cookies!\")\r\n\t\t\t\tAPIGetNonJournalDates(this.nonJournalDatesCallback, this.nonJournalDatesFailure)\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tgetNonJournalDatesStatus: 1,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t//console.log(\"Valid Journal dates WERE in the cockies!\")\r\n\t\t\t\tthis.nonJournalDatesCallback(checkData)\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\t//console.log(\"Invalid User\")\r\n\t\t\tthis.triggerLogout()\r\n\t\t}\r\n\t}\r\n\t\r\n\t// Company Axios/State stuff---------------------------------------------------------------------\r\n\tcompanyListFailure = (responseData) => {\r\n\t\tlet returnData = []\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.refreshToken(this.loadOtherData)\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\treturnData = responseData['messages']\r\n\t\tthis.setState({\r\n\t\t\tgetUserCompanyPermsAppStatus: 3,\r\n\t\t\tgetUserCompanyPermsAppError: returnData,\r\n\t\t})\r\n\t}\r\n\tcompanyListCallback = (incomingCompanyList) => {\r\n\t\t//console.log(incomingCompanyList)\r\n\t\t//Store.set(this.props.currentUser+'-loadedList', incomingCompanyList)\r\n\t\tthis.setState({\r\n\t\t\tuserLoadedCompanyList: incomingCompanyList,\r\n\t\t\tgetUserCompanyPermsAppStatus: 2,\r\n\t\t})\r\n\t\t\r\n\t\t// Check to see if the loaded stuff has any admin or viewers in it\r\n\t\t// If the answer is ONLY ONE, auto load the company data...\r\n\t\t// Note to self, I could maybe use this down in te Company pages core...\r\n\t\tlet selectableCount = 0\r\n\t\tlet selectableIndex = -1\r\n\t\tfor (let index in incomingCompanyList) {\r\n\t\t\tlet checkIndex1 = incomingCompanyList[index][\"perm\"].indexOf(0)\r\n\t\t\tlet checkIndex2 = incomingCompanyList[index][\"perm\"].indexOf(1)\r\n\t\t\tif ( checkIndex1 > -1 || checkIndex2 > -1 ) {\r\n\t\t\t\tselectableCount += 1\r\n\t\t\t\t\r\n\t\t\t\tselectableIndex = checkIndex2\r\n\t\t\t\tif (checkIndex1 > -1) {\r\n\t\t\t\t\tselectableIndex = checkIndex1\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Auto trigger a load? This may be bad if the user is not needing the company mode\r\n\t\t// It MAY BE BETTER to put this over into the company pages....\r\n\t\t// Perms can be loaded here... Hm\r\n\t\tif (selectableCount === 1 && selectableCount > -1) {\r\n\t\t\tthis.getCompanyDataRequest( incomingCompanyList[selectableIndex] )\r\n\t\t}\r\n\t}\r\n\tgetUserCompanyPermsApp = (  ) => {\r\n\t\tif (!(this.props.currentUser === undefined)) {\t\r\n\t\t\t// We still have to check for date related reworks...\r\n\t\t\tlet checkData = undefined//Store.get(this.props.currentUser+\"-companyPermViewTree\")\r\n\t\t\tlet checkData2 = undefined//Store.get(this.props.currentUser+\"-companyPermViewNames\")\r\n\t\t\tif (checkData === undefined || checkData2 === undefined) {\r\n\t\t\t\t//console.log(\"Company list was not in the cookies!\")\r\n\t\t\t\tAPIGetUsersPermTree([\"admin\", \"view\", 'send', 'gov'], this.companyListCallback, this.companyListFailure)\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tgetUserCompanyPermsAppStatus: 1,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t//console.log(\"Company Tree WAS in the cookies!\")\r\n\t\t\t\tthis.companyListCallback(checkData, checkData2)\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.triggerLogout()\r\n\t\t}\r\n\t}\r\n\t\r\n\tcompanyDatesFailure = (responseData) => {\r\n\t\tlet returnData = []\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.refreshToken(this.getThatData)\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\treturnData = responseData['messages']\r\n\t\tthis.setState({\r\n\t\t\tgetCompanyValidDatesStatus: 3,\r\n\t\t\tgetCompanyValidDatesError: returnData,\r\n\t\t})\r\n\t}\r\n\tcompanyDatesCallback = (incomingDatesObject) => {\r\n\t\t//Store.set(this.props.currentUser+\"-\"+this.state.currentDivisionID+\"-ValidDates\", {'dates':incomingDatesList})\r\n\t\tthis.setState({\r\n\t\t\tvalidCompanySummaryDates: incomingDatesObject,\r\n\t\t\tgetCompanyValidDatesStatus: 2,\r\n\t\t})\r\n\t}\r\n\tgetCompanyValidDates = () => {\r\n\t\tif (!(this.state.currentDivisionID === -1)) {\r\n\t\t\tlet checkData = undefined//Store.get(this.props.currentUser+\"-\"+this.state.currentDivisionID+\"-ValidDates\")\r\n\t\t\tif (checkData === undefined) {\r\n\t\t\t\t//console.log(\"Company dates were not in the cookies\")\r\n\t\t\t\tAPIGetCompanyValidDates(this.state.currentDivisionID, this.companyDatesCallback, this.companyDatesFailure)\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tgetCompanyValidDatesStatus: 1,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t//console.log(\"Company Dates WERE in the coockies!\")\r\n\t\t\t\tthis.companyDatesCallback(checkData[\"dates\"])\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\t//console.log(\"Invalid company!\")\r\n\t\t}\r\n\t}\r\n\t\r\n\tcompanySuggestionDateFailure = (responseData) => {\r\n\t\tlet returnData = []\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.refreshToken(this.getThatData)\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\treturnData = responseData['messages']\r\n\t\tthis.setState({\r\n\t\t\tgetCompanyValidSuggestionDatesStatus: 3,\r\n\t\t\tgetCompanyValidSuggestionDatesError: returnData,\r\n\t\t})\r\n\t}\r\n\tcompanySuggestionDateCallback = (incomingDatesList) => {\r\n\t\t//Store.set(this.props.currentUser+\"-\"+this.state.currentDivisionID+\"-ValidSuggestionDates\", {'dates':incomingDatesList})\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tvalidDivisionSuggestionDates: incomingDatesList,\r\n\t\t\tgetCompanyValidSuggestionDatesStatus: 2,\r\n\t\t})\r\n\t}\r\n\tgetCompanyValidSuggestionDates = () => {\r\n\t\tif (!(this.state.currentDivisionID === -1)) {\r\n\t\t\tlet checkData = undefined//Store.get(this.props.currentUser+\"-\"+this.state.currentDivisionID+\"-ValidSuggestionDates\")\r\n\t\t\tif (checkData === undefined) {\r\n\t\t\t\t//console.log(\"Division suggestion dates were not in the cookies...\")\r\n\t\t\t\tAPIGetSuggestionDates(this.state.currentDivisionID, this.companySuggestionDateCallback, this.companySuggestionDateFailure)\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tgetCompanyValidSuggestionDatesStatus: 1,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t//console.log(\"Division suggestion dates WERE in the coockies!\")\r\n\t\t\t\tthis.companySuggestionDateCallback(checkData[\"dates\"])\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\t//console.log(\"Invalid company!\")\r\n\t\t}\r\n\t}\r\n\t\r\n\tcompanySuggestionDataFailure = (responseData) => {\r\n\t\tlet returnData = []\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.refreshToken(this.tokenHasRefreshed)\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\treturnData = responseData['messages']\r\n\t\tthis.setState({\r\n\t\t\tgetCompanySuggestionDataStatus: 3,\r\n\t\t\tgetCompanySuggestionDataError: returnData,\r\n\t\t})\r\n\t}\r\n\tcompanySuggestionDataCallback = (targetDate, incomingData) => {\r\n\t\t//Store.set(this.props.currentUser+\"-\"+this.state.currentDivisionID+\"-\"+targetDate+\"-suggestions\", {'data':incomingData})\r\n\t\t//console.log(incomingData)\r\n\t\tlet givenDate = new Date(targetDate)\r\n\t\tthis.setState({\r\n\t\t\tselectedSuggestDay: givenDate,\r\n\t\t\tselectedSuggestDayData: incomingData,\r\n\t\t\tgetCompanySuggestionDataStatus: 2,\r\n\t\t})\r\n\t}\r\n\tgetCompanySuggestionData = (selectedDate) => {\r\n\t\t\r\n\t\tif (!(this.state.currentDivisionID === -1)) {\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tgetCompanySuggestionData:selectedDate,\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\tlet checkData = undefined//Store.get(this.props.currentUser+\"-\"+this.state.currentDivisionID+\"-\"+selectedDate+\"-suggestions\")\r\n\t\t\tif (checkData === undefined) {\r\n\t\t\t\t//console.log(\"Division suggestion data was not in the cookies\")\r\n\t\t\t\tAPIGetSuggestionData(this.state.currentDivisionID, selectedDate, this.companySuggestionDataCallback, this.companySuggestionDataFailure)\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tgetCompanySuggestionDataStatus: 1,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t//console.log(\"Division suggestion dates WERE in the coockies!\")\r\n\t\t\t\t//this.companySuggestionDataCallback()\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\t//console.log(\"Invalid company!\")\r\n\t\t\tthis.setState({\r\n\t\t\t\t\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\t\r\n\tcompanyDataFailure = (responseData) => {\r\n\t\tlet returnData = []\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.refreshToken(this.tokenHasRefreshed)\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\treturnData = responseData['messages']\r\n\t\tthis.setState({\r\n\t\t\tgetCompanyWeeklySummaryStatus: 3,\r\n\t\t\tgetCompanyWeeklySummaryError: returnData,\r\n\t\t})\r\n\t}\r\n\tcompanyDataCallback = (incomingDataDict, summaryType) => {\r\n\t\t\r\n\t\t//Store.set(this.props.currentUser+\"-\"+this.state.currentDivisionID+\"-\"+anchorDate+\"Data\", {'data':incomingDataDict})\r\n\t\tthis.setState({\r\n\r\n\t\t\tcompanyMessage: \"Showing Summary for: \" + this.state.currentDivisionID + \" On: \" + this.state.selectedCompanyDate.toString(),\r\n\t\t\tselectedSummaryWeekData: incomingDataDict,\r\n\t\t\tcurrentCompanyDataType: summaryType,\r\n\t\t\tcurrentCompanyDataName: this.state.currentDivisionName,\r\n\t\t\tcurrentCompanyDataID: this.state.currentDivisionID,\r\n\r\n\t\t\tgetCompanyWeeklySummaryStatus: 2,\r\n\t\t})\r\n\t}\r\n\tgetCompanyWeeklySummary = (selectedDate) => {\r\n\t\t\r\n\t\tlet summaryType = 0\r\n\t\t\r\n\t\tif (!(this.state.currentDivisionID === -1)) {\r\n\t\t\tlet checkData = undefined//Store.get(this.props.currentUser+\"-\"+this.state.currentDivisionID+\"-\"+anchorDate+\"Data\")\r\n\t\t\tif (checkData === undefined) {\r\n\t\t\t\t//console.log(\"Company Summary Data was not in the coockies\")\r\n\t\t\t\tAPIGetCompanySummary(this.state.currentDivisionID, summaryType, selectedDate, this.companyDataCallback, this.companyDataFailure)\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tgetCompanyWeeklySummaryStatus: 1,\r\n\t\t\t\t\t\r\n\t\t\t\t\tselectedCompanyDate:selectedDate,\r\n\t\t\t\r\n\t\t\t\t\tcurrentCompanyDataName:undefined,\r\n\t\t\t\t\tcurrentCompanyDataType:undefined,\r\n\t\t\t\t\tselectedSummaryWeekData:{},\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.companyDataCallback(checkData[\"data\"], summaryType)\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\t//console.log(\"Invalid company!\")\r\n\t\t}\r\n\t}\r\n\t\r\n\ttokenHasRefreshed = () => {\r\n\t\tconsole.log(\"Tell the user to redo that!\")\r\n\t}\r\n\t\r\n\tcompanyEHIFailure = (responseData) => {\r\n\t\tlet returnData = []\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.refreshToken(this.getThatData)\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\treturnData = responseData['messages']\r\n\t\tthis.setState({\r\n\t\t\tgetCompanyEHIDataStatus: 3,\r\n\t\t\tgetCompanyEHIDataError: returnData,\r\n\t\t})\r\n\t}\r\n\tcompanyEHICallback = (incomingEHIData) => {\r\n\t\t//Store.set(this.props.currentUser+'-'+this.state.currentDivisionID+'-EHI', {'labelsDays':incomingEHIDaysLabels, 'dataDays':incomingEHIDaysData, 'labelsWeeks':incomingEHIWeeksLabels, 'dataWeeks':incomingEHIWeeksData})\r\n\t\tthis.setState({\r\n\t\t\tEHIData: incomingEHIData,\r\n\t\t\tgetCompanyEHIDataStatus: 2,\r\n\t\t})\r\n\t}\r\n\t// EHI Stuff\r\n\tgetCompanyEHIData = () => {\r\n\t\tif (!(this.state.currentDivisionID === -1)) {\r\n\t\t\tlet checkData = undefined//Store.get(this.props.currentUser+'-'+this.state.currentDivisionID+'-EHI')\r\n\t\t\t// How am I going to check for redos?\r\n\t\t\tif (checkData === undefined) {\r\n\t\t\t\t//console.log(\"Company EHI Data was not in the coockies\")\r\n\t\t\t\tAPIGetServerEHIData(this.state.currentDivisionID, this.companyEHICallback, this.companyEHIFailure)\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tgetCompanyEHIDataStatus: 1,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.companyEHICallback(checkData[\"labelsDays\"], checkData[\"dataDays\"], checkData[\"labelsWeeks\"], checkData[\"dataWeeks\"])\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\t//console.log(\"Invalid company!\")\r\n\t\t}\r\n\t}\r\n\t\r\n\t// Move this up? Move it down? Think of a way to resort this!\r\n\tgetDivisionWebDatesFailure = (incomingError) => {\r\n\t\t\r\n\t\tif (incomingError['action'] ===\t 0) {\r\n\t\t\t//Network Error\r\n\t\t}\r\n\t\telse if (incomingError['action'] === 1) {\r\n\t\t\t//Unauthorized\r\n\t\t\tthis.props.refreshToken(this.getDivisionWebDates)\r\n\t\t\treturn\r\n\t\t}\r\n\t\telse if (incomingError['action'] === 3) {\r\n\t\t\t// Obtain error!\r\n\t\t}\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tgetDatesWebStatus: 3,\r\n\t\t\tgetDatesWebError: incomingError[\"messages\"],\r\n\t\t})\r\n\t}\r\n\tgetDivisionWebDatesCallback = (incomingDates) => {\r\n\t\t//console.log(incomingWeb)\r\n\t\t\r\n\t\tthis.props.changeCompanyMenuItems(1)\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tvalidDivisionWebDates: incomingDates,\r\n\t\t\tgetDatesWebStatus: 2,\r\n\t\t})\r\n\t}\r\n\tgetDivisionWebDates = () => {\r\n\t\tif (!(this.props.currentDivisionID === -1)) {\r\n\t\t\tlet checkData = undefined\r\n\t\t\tif (checkData === undefined) {\r\n\t\t\t\t\r\n\t\t\t\tAPIGetDivisionWebDates( this.state.currentDivisionID, this.getDivisionWebDatesCallback, this.getDivisionWebDatesFailure)\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tgetDatesWebStatus: 1,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t//this.getDivisionWebDatesCallback(???)\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\t}\r\n\t}\r\n\t\r\n\tgetThatData = () => {\r\n\t\t//console.log(this.state.currentDivisionID)\r\n\t\t// Clear ALL THE DATA from the last company we had set....\r\n\t\tthis.clearCompanyData()\r\n\t\t\r\n\t\tthis.getCompanyEHIData()\r\n\t\tthis.getCompanyValidDates()\r\n\t\tthis.getCompanyValidSuggestionDates()\r\n\t\tthis.getDivisionWebDates()\r\n\t}\r\n\tgetCompanyDataRequest = (divisionObj) => {\r\n\t\tthis.props.changeCompanyMenuItems(-1)\r\n\t\t\r\n\t\t// SANITY CHECK! If I somehow break this and send one that isnt an admin/viewer\r\n\t\tlet adminCheck = divisionObj.perm.indexOf(0) > -1 \r\n\t\tlet viewerCheck = divisionObj.perm.indexOf(1) > -1\r\n\t\tif (adminCheck) {\r\n\t\t\tthis.props.changeCompanyMenuItems(0)\r\n\t\t\tthis.props.changeCompanyMenuItems(2)\r\n\t\t}\r\n\t\telse if (viewerCheck) {\r\n\t\t\tthis.props.changeCompanyMenuItems(0)\r\n\t\t}\r\n\t\t\r\n\t\ttimedSaveStorage( \"lastGotCompany\", divisionObj, 1)\r\n\t\t\r\n\t\t// So, if this triggers, the menu will be in the proper mode for that....\r\n\t\tif (adminCheck || viewerCheck) {\r\n\r\n\t\t\tthis.setState({\r\n\t\t\t\tcurrentDivisionName: divisionObj.name,\r\n\t\t\t\tcurrentDivisionID: divisionObj.id,\r\n\t\t\t\tcurrentDivisionPerms: divisionObj.perm,\r\n\t\t\t}, this.getThatData )\r\n\t\t\t\r\n\t\t\tthis.props.changeMenuCompanyName(divisionObj.name)\r\n\t\t}\r\n\t\telse {\r\n\t\t\t//console.log(\"Not allowed!\")\r\n\t\t\tthis.setState({\r\n\t\t\t\tgetCompanyDataStatus:false\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\t\r\n\t// Viewing a Company's journal Prompt and Data\r\n\tchangeCompanyPrompt = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tselectedCompanyPrompt:event.currentTarget.value\r\n\t\t})\r\n\t}\r\n\tchangeCompanyAspect = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tselectedCompanyAspect:event.currentTarget.value\r\n\t\t})\r\n\t}\r\n\tchangeCompanyDay = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tselectedCompanyDay:event.currentTarget.value\r\n\t\t});\r\n\t}\r\n\t\r\n\t// Rendering this with Bootstrap React.... To see if there is anything really interesting I can do with it\r\n\t// So far it doesnt look all that different \r\n\trender() {\r\n\t\t\r\n\t\tlet showWaiting = this.state.getJournalPromptsStatus === 1 || this.state.checkActiveUserStatus === 1 || this.state.getJournalDatesStatus === 1 || this.state.getUserCompanyPermsAppStatus === 1\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className=\"contentPages\">\r\n\t\t\t\r\n\t\t\t\t<div className=\"container-fluid\">\r\n\r\n\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t<Route path={this.props.match.url} exact component={() => <Dashboard\r\n\t\t\t\t\t\t\t\ttoUserPage={this.props.match.url+\"/userMode/journalWrite\"}\r\n\t\t\t\t\t\t\t\ttoCompanyPage={this.props.match.url+\"/companyMode/companySelect\"}\r\n\r\n\t\t\t\t\t\t\t\tuserLoadedCompanyList={this.state.userLoadedCompanyList}\r\n\t\t\t\t\t\t\t/>} \r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Route path={this.props.match.url+\"/userMode\"} component={() => <UserPages\r\n\r\n\t\t\t\t\t\t\t\treRouteUser={this.props.reRouteUser}\r\n\r\n\t\t\t\t\t\t\t\tcurrentDate={this.state.currentDate}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\trefreshToken={this.props.refreshToken}\r\n\t\t\t\t\t\t\t\tcurrentUser={this.props.currentUser}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tloadCompanyData={this.loadOtherData}\r\n\t\t\t\t\t\t\t\tvalidUserWebDates = {this.state.validUserWebDates}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tvalidNonJournalDates={this.state.validNonJournalDates}\r\n\t\t\t\t\t\t\t\tvalidJournalDates={this.state.validJournalDates}\r\n\t\t\t\t\t\t\t\tvalidJournalScanDates={this.state.validJournalScanDates}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tlastGovernedCompanyRequestStatus={this.state.lastGovernedCompanyRequestStatus}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tdisableMenu={this.props.disableMenu}\r\n\t\t\t\t\t\t\t\tactivateUserMenu={this.props.activateUserMenu}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tuserLoadedCompanyList={this.state.userLoadedCompanyList}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tjournalValidPrompts={this.state.journalValidPrompts}\r\n\t\t\t\t\t\t\t\tjournalPromptsErrors={this.state.journalPromptsErrors}\r\n\t\t\t\t\t\t\t/>} \r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Route path={this.props.match.url+\"/companyMode\"} component={() => <CompanyPages\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\trefreshToken={this.props.refreshToken}\r\n\t\t\t\t\t\t\t\tparentHasLoaded={this.state.pageIsLoaded}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\treRouteCompany={this.props.reRouteCompany}\r\n\t\t\t\t\t\t\t\tuserLoadedCompanyList={this.state.userLoadedCompanyList}\r\n\t\t\t\t\t\t\t\tresetCompanySelectStatus={this.resetCompanySelectStatus}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tcurrentDate={this.state.currentDate}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tcurrentDivisionName={this.state.currentDivisionName}\r\n\t\t\t\t\t\t\t\tgetCompanyDataRequest={this.getCompanyDataRequest}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tcurrentDivisionID={this.state.currentDivisionID}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tselectedCompanyDate={this.state.selectedCompanyDate}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tvalidDivisionWebDates = {this.state.validDivisionWebDates}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tvalidDivisionSuggestionDates={this.state.validDivisionSuggestionDates}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tselectedSuggestDay={this.state.selectedSuggestDay}\r\n\t\t\t\t\t\t\t\tselectedSuggestDayData={this.state.selectedSuggestDayData}\r\n\t\t\t\t\t\t\t\tgetCompanySuggestionData={this.getCompanySuggestionData}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tEHIData={this.state.EHIData}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tcurrentCompanyDataName={this.state.currentCompanyDataName}\r\n\t\t\t\t\t\t\t\tcurrentCompanyDataType={this.state.currentCompanyDataType}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tvalidCompanySummaryDates={this.state.validCompanySummaryDates}\r\n\r\n\t\t\t\t\t\t\t\tcompanyMessage={this.state.companyMessage}\r\n\t\t\t\t\t\t\t\tselectedSummaryWeekData={this.state.selectedSummaryWeekData}\r\n\t\t\t\t\t\t\t\tselectedCompanyDay={this.state.selectedCompanyDay}\r\n\t\t\t\t\t\t\t\tselectedCompanyPrompt={this.state.selectedCompanyPrompt}\r\n\t\t\t\t\t\t\t\tselectedCompanyAspect={this.state.selectedCompanyAspect}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tchangeCompanyPrompt={this.changeCompanyPrompt}\r\n\t\t\t\t\t\t\t\tchangeCompanyAspect={this.changeCompanyAspect}\r\n\t\t\t\t\t\t\t\tchangeCompanyDay={this.changeCompanyDay}\r\n\t\t\t\t\t\t\t\tchangeSelectedCompany={this.changeSelectedCompany}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tgetCompanyValidDates={this.getCompanyValidDates}\r\n\t\t\t\t\t\t\t\tgetCompanyWeeklySummary={this.getCompanyWeeklySummary}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tloadCompanyData={this.loadFromLocalStorage}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tdisableMenu={this.props.disableMenu}\r\n\t\t\t\t\t\t\t\tactivateCompanyMenu={this.props.activateCompanyMenu}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tgetCompanyDataStatus={this.state.getCompanyDataStatus}\r\n\t\t\t\t\t\t\t\tgetCompanyValidDatesStatus={this.state.getCompanyValidDatesStatus}\r\n\t\t\t\t\t\t\t\tgetCompanyValidDatesError={this.state.getCompanyValidDatesError}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tgetCompanyValidSuggestionDatesStatus={this.state.getCompanyValidSuggestionDatesStatus}\r\n\t\t\t\t\t\t\t\tgetCompanyValidSuggestionDatesError={this.state.getCompanyValidSuggestionDatesError}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tgetCompanyEHIDataStatus={this.state.getCompanyEHIDataStatus}\r\n\t\t\t\t\t\t\t\tgetCompanyEHIDataError={this.state.getCompanyEHIDataError}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tgetCompanySuggestionDataStatus={this.state.getCompanySuggestionDataStatus}\r\n\t\t\t\t\t\t\t\tgetCompanySuggestionDataError={this.state.getCompanySuggestionDataError}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tgetCompanyWeeklySummaryStatus={this.state.getCompanyWeeklySummaryStatus}\r\n\t\t\t\t\t\t\t\tgetCompanyWeeklySummaryError={this.state.getCompanyWeeklySummaryError}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tgetDatesWebStatus={this.state.getDatesWebStatus}\r\n\t\t\t\t\t\t\t\tgetDatesWebError={this.state.getDatesWebError}\r\n\t\t\t\t\t\t\t/>} \r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Switch>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t{/*Perhaps I should move forward with moving this to its own component?*/}\r\n\t\t\t\t\t\t\t\t<Alert show={showWaiting} variant=\"warning\">\r\n\t\t\t\t\t\t\t\t\t<Alert.Heading>Waiting</Alert.Heading>\r\n\t\t\t\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t  Waiting for server...\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(ContentPages);","import React from \"react\";\r\nimport { withRouter, Link } from \"react-router-dom\";\r\n\r\n//import { Alert } from 'react-bootstrap'\r\n\r\nconst modeSelector = (props) => {\r\n\r\n\treturn (\r\n\t\t<div className=\"defaultView\">\r\n\t\t\t<div className=\"container\">\r\n\t\t\t\t<div className=\"row my-5\">\r\n\t\t\t\t\t<div className=\"col m-1\">\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t<div className=\"card shadow\">\r\n\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t<h3>\r\n\t\t\t\t\t\t\t\t\tThis is an empty dashboard for the time being...\r\n\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t<Link className=\"list-group-item\" to={props.toUserPage}>Go To User Mode</Link>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t{ (props.userLoadedCompanyList.length) > 0\r\n\t\t\t\t\t\t\t\t\t? <Link className=\"list-group-item\" to={props.toCompanyPage}>Go to Company Mode</Link>\r\n\t\t\t\t\t\t\t\t\t: <div className=\"list-group-item\">No Companies to view!</div>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t\r\n\t)\r\n}\r\n\r\nexport default withRouter(modeSelector);","import React from \"react\";\r\n\r\nimport { withRouter } from \"react-router-dom\";\r\n//EditorState, convertToRaw, convertFromRaw\r\nimport {Editor, RichUtils,  } from 'draft-js';\r\nimport { Alert } from 'react-bootstrap';\r\n//ContentState\r\n\r\n// Move this to a util later.... Its used in CompanyPrompts, SelectCompany and Suggestions....\r\nclass Paginator extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n        super(props);\r\n\t\tthis.state = {\r\n\t\t\tbtnLen: 2,\r\n\t\t}\r\n\t}\r\n\t\r\n\trender() {\r\n\t\t\r\n\t\tlet prevAlter = \"\"\r\n\t\tlet nextAlter = \"\"\r\n\t\t\r\n\t\tif (this.props.activePage <= 0) {\r\n\t\t\tprevAlter = \"disabled\"\r\n\t\t}\r\n\r\n\t\tif (this.props.activePage >= this.props.totalLoaded/this.props.numPerPage-1) {\r\n\t\t\tnextAlter = \"disabled\"\r\n\t\t}\r\n\t\t\r\n\t\tlet numberButtons = []\r\n\t\tfor (let i = -this.state.btnLen; i <= this.state.btnLen; i++) {\r\n\t\t\tlet altered = \"\"\r\n\t\t\t\r\n\t\t\tlet altI = i+this.props.activePage\r\n\t\t\tif (altI < 0 || altI >= this.props.totalLoaded/this.props.numPerPage) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (i === 0) {\r\n\t\t\t\taltered = \"active \"\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tnumberButtons.push(\r\n\t\t\t\t<button key={i} className={\"btn btn-outline-primary \" + altered} value={altI} onClick={this.props.changeToNum}>\r\n\t\t\t\t\t{altI}\r\n\t\t\t\t</button>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className = \"paginator\">\r\n\t\t\t\t<div className = \"container\">\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<button className={\"btn btn-outline-primary \" + prevAlter} value=\"bck\" onClick={this.props.changePrevNext}>\r\n\t\t\t\t\t\t\t\tPrev\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t{numberButtons}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<button className={\"btn btn-outline-primary \" + nextAlter} value=\"fwd\" onClick={this.props.changePrevNext}>\r\n\t\t\t\t\t\t\t\tNext\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst styles = {\r\n  editor: {\r\n    border: '1px solid gray',\r\n    minHeight: '6em',\r\n\ttextAlign: 'left',\r\n  }\r\n};\r\n\r\n// START OF EXAMPLE CODE FROM THE DRAFT.JS!!!!!\r\nclass StyleButton extends React.Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.onToggle = (e) => {\r\n\t\t\t//console.log(this.props.style)\r\n\t\t\te.preventDefault();\r\n\t\t\tthis.props.onToggle(this.props.style);\r\n\t\t};\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet className = 'btn btn-outline-primary';\r\n\t\tif (this.props.active) {\r\n\t\t\tclassName += ' active';\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<button className={className} onMouseDown={this.onToggle}>\r\n\t\t\t\t{this.props.label}\r\n\t\t\t</button>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst BLOCK_TYPES = [\r\n\t{label: 'H1', style: 'header-one'},\r\n\t{label: 'H2', style: 'header-two'},\r\n\t{label: 'H3', style: 'header-three'},\r\n\t{label: 'H4', style: 'header-four'},\r\n\t{label: 'H5', style: 'header-five'},\r\n\t{label: 'H6', style: 'header-six'},\r\n\t//{label: 'Blockquote', style: 'blockquote'},\r\n\t{label: 'UL', style: 'unordered-list-item'},\r\n\t{label: 'OL', style: 'ordered-list-item'},\r\n\t//{label: 'Code Block', style: 'code-block'},\r\n];\r\n\r\nconst BlockStyleControls = (props) => {\r\n\tconst {editorState} = props;\r\n\tconst selection = editorState.getSelection();\r\n\tconst blockType = editorState\r\n\t  .getCurrentContent()\r\n\t  .getBlockForKey(selection.getStartKey())\r\n\t  .getType();\r\n\r\n\treturn (\r\n\t\t<div className=\"RichEditor-controls\">\r\n\t\t\t{BLOCK_TYPES.map((type) =>\r\n\t\t\t\t<StyleButton\r\n\t\t\t\t\tkey={type.label}\r\n\t\t\t\t\tactive={type.style === blockType}\r\n\t\t\t\t\tlabel={type.label}\r\n\t\t\t\t\tonToggle={props.onToggle}\r\n\t\t\t\t\tstyle={type.style}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst INLINE_STYLES = [\r\n\t{label: 'Bold', style: 'BOLD'},\r\n\t{label: 'Italic', style: 'ITALIC'},\r\n\t{label: 'Underline', style: 'UNDERLINE'},\r\n\t//{label: 'Monospace', style: 'CODE'},\r\n];\r\n\r\nconst InlineStyleControls = (props) => {\r\n\tconst currentStyle = props.editorState.getCurrentInlineStyle();\r\n\t\r\n\treturn (\r\n\t\t<div className=\"RichEditor-controls\">\r\n\t\t\t{INLINE_STYLES.map((type) =>\r\n\t\t\t\t<StyleButton\r\n\t\t\t\t\tkey={type.label}\r\n\t\t\t\t\tactive={currentStyle.has(type.style)}\r\n\t\t\t\t\tlabel={type.label}\r\n\t\t\t\t\tonToggle={props.onToggle}\r\n\t\t\t\t\tstyle={type.style}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\n// This contains the EditorJS code... So lets do it last as I am unsure as of what to do...\r\nclass journalView extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\t\t\tpageNum:0,\r\n\t\t\tnumPerPage:3,\r\n\t\t\t\r\n\t\t\tnumChooseLimit:5,\r\n\t\t\t\r\n\t\t\tsubList: this.initializeSubList(),\r\n\t\t}\t\r\n\t\t\r\n\t\tthis.focusMe = () => this.refs.editor.focus();\r\n\t}\r\n\t\r\n\tinitializeSubList = () => {\r\n\t\t\r\n\t\tlet generateingList = []\r\n\t\t\r\n\t\t// Hm, this may run multiple times due to my now-messed data reloading structure...\r\n\t\tfor (let index in this.props.userLoadedCompanyList) {\r\n\t\t\t\r\n\t\t\tlet permType = -1\r\n\t\t\tfor (let permIndex in this.props.userLoadedCompanyList[index][\"perm\"]) {\r\n\t\t\t\tif (this.props.userLoadedCompanyList[index][\"perm\"][permIndex] === 3) {\r\n\t\t\t\t\t//console.log(\"Is Admin\")\r\n\t\t\t\t\t// Set the thing to admin no matter what\r\n\t\t\t\t\tpermType = 3\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (permType >= 0 && permType < 4) {\r\n\t\t\t\tgenerateingList.push( this.props.userLoadedCompanyList[index] )\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn generateingList\r\n\t}\r\n\t\r\n\t// Example code... Can I alter this to be more my style?\r\n\t// It works, so its okay for now...\r\n\ttoggleBlockType = (blockType) => {\r\n\t\tthis.props.onChange(\r\n\t\t\tRichUtils.toggleBlockType(\r\n\t\t\t\tthis.props.editorState,\r\n\t\t\t\tblockType\r\n\t\t\t)\r\n\t\t);\r\n\t}\r\n\t\r\n\ttoggleInlineStyle = (inlineStyle) => {\r\n\t\tthis.props.onChange(\r\n            RichUtils.toggleInlineStyle(\r\n\t\t\t\tthis.props.editorState,\r\n\t\t\t\tinlineStyle\r\n            )\r\n        );\r\n\t}\r\n\t\r\n\thandleKeyCommand = (command, editorState) => {\r\n\t\tconst newState = RichUtils.handleKeyCommand(editorState, command);\r\n\r\n\t\tif (newState) {\r\n\t\t\tthis.props.onChange(newState);\r\n\t\t\treturn 'handled';\r\n\t\t}\r\n\r\n\t\treturn 'not-handled';\r\n\t}\r\n\t\r\n\tchangePageTo = (event) => {\r\n\t\t\r\n\t\tlet newPage = Number(event.target.value)\r\n\t\t// Sanity check!\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tpageNum: newPage\r\n\t\t})\r\n\t}\r\n\tchangePageFwdBck = (event) => {\r\n\t\t\r\n\t\tlet newPage = Number(this.state.pageNum)\r\n\t\t\r\n\t\tif (event.target.value === \"fwd\") {\r\n\t\t\tnewPage = newPage + 1\r\n\t\t\r\n\t\t\tif (newPage > this.state.subList.length/this.state.numPerPage) {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if (event.target.value === \"bck\") {\r\n\t\t\tnewPage = newPage - 1\r\n\t\t\t\r\n\t\t\tif (newPage < 0) {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t}\r\n\t\t\t\r\n\t\tthis.setState({\r\n\t\t\tpageNum: newPage\r\n\t\t})\r\n\t}\r\n\t\r\n\tsetCompany = (event) => {\r\n\t\tthis.props.setSuggestionDivision(Number(event.target.value))\r\n\t}\r\n\t\r\n\trender() {\r\n\t\t// Dig following each of the currentSelection...\r\n\t\t\r\n\t\tlet displayDivisionList = []\r\n\t\t\r\n\t\tlet selectedDivisionFull = \"No Valid Company!\"\r\n\t\tlet selectedPerms = 0\r\n\t\t\r\n\t\tfor (let index in this.props.userLoadedCompanyList) {\r\n\t\t\tif (this.props.currentDivisionID === this.props.userLoadedCompanyList[index][\"id\"]) {\r\n\t\t\t\tselectedDivisionFull = this.props.userLoadedCompanyList[index][\"name\"]\r\n\t\t\t\t\r\n\t\t\t\tif (this.props.userLoadedCompanyList[index][\"perm\"].indexOf(3)) {\r\n\t\t\t\t\tselectedPerms = 1\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tfor (let index = 0; index < this.state.numPerPage; index++) {\r\n\t\t\t\r\n\t\t\tlet adjustedIndex = index + this.state.pageNum*this.state.numPerPage\t\t\t\r\n\t\t\tif (adjustedIndex > this.state.subList.length || adjustedIndex < 0) {\r\n\t\t\t\tcontinue\r\n\t\t\t}\r\n\t\t\tif (this.state.subList[adjustedIndex] === undefined) {\r\n\t\t\t\tcontinue\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tdisplayDivisionList.push(\r\n\t\t\t\t<li className=\"list-group-item d-flex justify-content-between align-items-center\" key={index}>\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t{this.state.subList[adjustedIndex][\"fullname\"]}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-2\">\r\n\t\t\t\t\t\t\t<button className=\"btn btn-primary\" value={this.state.subList[adjustedIndex][\"id\"]} onClick={this.setCompany}>\r\n\t\t\t\t\t\t\t\tChoose!\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\tif (displayDivisionList.length === 0) {\r\n\t\t\tdisplayDivisionList.push(\r\n\t\t\t\t<div className=\"row\" key=\"0\">\r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\tNo Companies! If you see this page then this is an error!\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\tlet getButtonClass = \"btn \"\r\n\t\tif (selectedPerms > 0) {\r\n\t\t\tgetButtonClass += \"btn-success\"\r\n\t\t}\r\n\t\telse {\r\n\t\t\tgetButtonClass += \"btn-danger\"\r\n\t\t}\r\n\t\t\r\n\t\tlet errorCheckingClass = \"\"\r\n\t\tif (this.props.lastRequestStatus === false) {\r\n\t\t\terrorCheckingClass =' bg-danger'\r\n\t\t}\t\t\r\n\t\t\r\n\t\tlet placeholder = \"\"\r\n\t\t\r\n\t\t//let showIdle = this.props.postSuggestionStatus === 0\r\n\t\tlet showSubmit = this.props.postSuggestionStatus === 1\r\n\t\tlet showSuccess = this.props.postSuggestionStatus === 2\r\n\t\tlet showError = this.props.postSuggestionStatus === 3\r\n\t\t\r\n\t\tlet errorParse = []\r\n\t\tfor (let index in this.props.suggestionErrors) {\r\n\t\t\terrorParse.push(\r\n\t\t\t\tthis.props.suggestionErrors[index][\"text\"]\r\n\t\t\t)\r\n\t\t}\r\n\t\tif (errorParse.length === 0) {\r\n\t\t\terrorParse.push(\r\n\t\t\t\t\"Unknown!\"\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"makeView\">\r\n\t\t\t\t<div className=\"container-fluid\">\r\n\t\t\t\t\r\n\t\t\t\t\t<div className=\"row my-2\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card shadow\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col my-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className={errorCheckingClass}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tSelect Part of Company:\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\t<ul className=\"list-group\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{displayDivisionList}\r\n\t\t\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<Paginator\r\n\t\t\t\t\t\t\t\t\t\tactivePage={this.state.pageNum}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tchangePrevNext={this.changePageFwdBck}\r\n\t\t\t\t\t\t\t\t\t\tchangeToNum={this.changePageTo}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\ttotalLoaded={this.state.subList.length}\r\n\t\t\t\t\t\t\t\t\t\tnumPerPage={this.state.numPerPage}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t\t<div className=\"row my-2\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card shadow\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<h4>Writing Suggestion for:</h4>\r\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col my-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className={errorCheckingClass}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{selectedDivisionFull}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\t<BlockStyleControls\r\n\t\t\t\t\t\t\t\t\t\t\t\teditorState={this.props.editorState}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonToggle={this.toggleBlockType}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t<InlineStyleControls\r\n\t\t\t\t\t\t\t\t\t\t\t\teditorState={this.props.editorState}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonToggle={this.toggleInlineStyle}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-1\">\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col\" onClick={this.focusMe}>\r\n\t\t\t\t\t\t\t\t\t\t\t<div id=\"align-left\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div style={styles.editor} >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Editor\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t  \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\teditorState={this.props.editorState}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.props.onChange}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleKeyCommand={this.handleKeyCommand}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tspellCheck={true}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={placeholder}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tref=\"editor\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-1\">\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\t<button className={getButtonClass} onMouseDown={this.props.saveToServer}> Save Suggestion </button>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t{/*{showSuccess && successData}\r\n\t\t\t\t\t\t\t\t\t{showSuccess && successData2}\r\n\t\t\t\t\t\t\t\t\t{showNormalError && normalError}\r\n\t\t\t\t\t\t\t\t\t{showUnknownError && unknownError}*/}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Alert show={showSubmit} variant=\"warning\">\r\n\t\t\t\t\t\t<Alert.Heading>Waiting</Alert.Heading>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t  Waiting for server response...\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Alert show={showSuccess} variant=\"success\">\r\n\t\t\t\t\t\t<Alert.Heading>Success!</Alert.Heading>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t  Successfully submitted suggestion!\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Alert show={showError} variant=\"danger\">\r\n\t\t\t\t\t\t<Alert.Heading>Danger!</Alert.Heading>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t{errorParse}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default withRouter(journalView);","import React from \"react\";\r\n\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { APIUserSettingsEdit} from \"../../utils\";\r\nimport { Alert } from 'react-bootstrap';\r\n\r\n// Trying this in function form instead of class\r\nclass UserProfile extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tdelViews:[],\r\n\t\t\ttogSends: [],\r\n\t\t\tdelGoverns: [],\r\n\t\t\t\r\n\t\t\tviewSubList: this.initViews(),\r\n\t\t\tsendSubList: this.initSends(),\r\n\t\t\tgovSubList: this.initGovs(),\r\n\t\t\t\r\n\t\t\tselectedName: \"No Name!\",\r\n\t\t\tsaveChangesStatus: 0,\r\n\t\t\tsaveChangesError: [],\r\n        };\r\n\t}\r\n\t\r\n\tinitViews = () => {\r\n\t\tlet viewSubList = []\r\n\t\tfor (let index in this.props.userLoadedCompanyList) {\r\n\t\t\t// View\r\n\t\t\tif (this.props.userLoadedCompanyList[index][\"perm\"].indexOf(1) > -1 ) {\r\n\t\t\t\tviewSubList.push(this.props.userLoadedCompanyList[index])\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn viewSubList\r\n\t}\r\n\t\r\n\tinitSends = () => {\r\n\t\tlet sendSubList = []\r\n\t\tfor (let index in this.props.userLoadedCompanyList) {\r\n\t\t\t// Send\r\n\t\t\tif (this.props.userLoadedCompanyList[index][\"perm\"].indexOf(2) > -1 ) {\r\n\t\t\t\tsendSubList.push(this.props.userLoadedCompanyList[index])\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn sendSubList\r\n\t}\r\n\t\r\n\tinitGovs = () => {\r\n\t\tlet govSubList = []\r\n\t\tfor (let index in this.props.userLoadedCompanyList) {\r\n\t\t\t// Govern\r\n\t\t\tif (this.props.userLoadedCompanyList[index][\"perm\"].indexOf(3) > -1 ) {\r\n\t\t\t\tgovSubList.push(this.props.userLoadedCompanyList[index])\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn govSubList\r\n\t}\r\n\t\r\n\tsetCurrentData = (event) => {\r\n\t\t\r\n\t\tlet valueIndex = Number(event.target.value)\r\n\t\t\r\n\t\tlet selectedName = \"No Name!\"\r\n\t\t//console.log(\"Leave\")\r\n\t\t//console.log(valueInt)\r\n\t\t\r\n\t\tlet tempGov = []\r\n\t\tlet tempSen = []\r\n\t\tlet tempVie = []\r\n\t\tswitch(event.target.name) {\r\n\t\t\tcase \"gov\":\r\n\t\t\t\ttempGov.push( this.state.govSubList[valueIndex][\"id\"] )\r\n\t\t\t\tselectedName = this.state.govSubList[valueIndex][\"fullname\"]\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"sen\":\r\n\t\t\t\ttempSen.push( this.state.viewSubList[valueIndex][\"id\"] )\r\n\t\t\t\tselectedName = this.state.viewSubList[valueIndex][\"fullname\"]\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"vie\":\r\n\t\t\t\ttempVie.push( this.state.viewSubList[valueIndex][\"id\"] )\r\n\t\t\t\tselectedName = this.state.viewSubList[valueIndex][\"fullname\"]\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tconsole.log(\"Failed to have the correct name\")\r\n\t\t}\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tdelGoverns: tempGov,\r\n\t\t\ttogSends: tempSen,\r\n\t\t\tdelViews: tempVie,\r\n\t\t\t\r\n\t\t\tselectedName: selectedName,\r\n\t\t})\r\n\t}\r\n\t\r\n\tsetFailure = (responseData) => {\r\n\t\tlet returnData = []\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.refreshToken(this.saveChanges())\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\treturnData = responseData['messages']\r\n\t\tthis.setState({\r\n\t\t\tsaveChangesError: returnData,\r\n\t\t\tsaveChangesStatus: 3,\r\n\t\t})\r\n\t}\r\n\tsetSuccess = (successData) => {\r\n\t\tconsole.log(\"Set Data Success\")\r\n\t\tconsole.log(successData)\r\n\t\t\r\n\t\t// This needs to be a props refresh..\r\n\t\tthis.props.triggerRefresh()\r\n\t\tthis.setState({\r\n\t\t\tsaveChangesStatus: 2,\r\n\t\t})\r\n\t}\r\n\tsaveChanges = () => {\r\n\t\tlet testData = {\r\n\t\t\t\r\n\t\t\t// Hmm, perhaps the generic way wont work...\r\n\t\t\t\"delViews\":this.state.delViews,\r\n\t\t\t\"togEmails\":this.state.togSends,\r\n\t\t\t\"delGoverns\":this.state.delGoverns,\r\n\t\t}\r\n\t\t\r\n\t\tAPIUserSettingsEdit(  testData, this.setSuccess, this.setFailure )\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tdelGoverns: [],\r\n\t\t\ttogSends: [],\r\n\t\t\tdelViews: [],\r\n\t\t\t\r\n\t\t\tselectedName: \"No Name!\",\r\n\t\t\tsaveChangesStatus: 1,\r\n\t\t})\r\n\t}\r\n\t\r\n\trender() {\r\n\t\t\r\n\t\tlet displayViewSends = []\r\n\t\tif (this.state.viewSubList.length > 0) {\r\n\t\t\tfor (let i in this.state.viewSubList) {\r\n\t\t\t\tlet extra = \"\"\r\n\t\t\t\t// Blank will just be admin/view for now... Highlighted in green means Email...\r\n\t\t\t\tlet index = this.state.sendSubList.indexOf(this.state.viewSubList[i])\r\n\t\t\t\tif (index >= 0) {\r\n\t\t\t\t\textra = 'bg-info'\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// Sends we are toggling....\r\n\t\t\t\tindex = this.state.togSends.indexOf(this.state.viewSubList[i][\"id\"])\r\n\t\t\t\tif (index >= 0) {\r\n\t\t\t\t\textra = 'bg-warning'\r\n\t\t\t\t}\r\n\t\t\t\t// Views we are deleting\r\n\t\t\t\tindex = this.state.delViews.indexOf(this.state.viewSubList[i][\"id\"])\r\n\t\t\t\tif (index >= 0) {\r\n\t\t\t\t\textra = 'bg-danger'\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tdisplayViewSends.push(\r\n\t\t\t\t\t<li key={i} className={\"list-group-item d-flex justify-content-around \"+extra}>\r\n\t\t\t\t\t\t<div className=\"col alignOverride\">\r\n\t\t\t\t\t\t\t{this.state.viewSubList[i][\"fullname\"]}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-2\">\r\n\t\t\t\t\t\t\t<button className=\"badge badge-success badge-pill\" name=\"sen\" value={i} data-toggle=\"modal\" data-target=\"#viewToggleConfirm\" onClick={this.setCurrentData}>View</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-1\">\r\n\t\t\t\t\t\t\t<button className=\"badge badge-danger badge-pill\" name=\"vie\" value={i} data-toggle=\"modal\" data-target=\"#deleteConfirm\" onClick={this.setCurrentData}>X</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\t// There was nothing\r\n\t\t\tdisplayViewSends.push(\r\n\t\t\t\t<li key={0} className=\"list-group-item d-flex justify-content-around\">\r\n\t\t\t\t\tNone!\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\tlet displayOwningCompanyList = []\r\n\t\tif (this.state.govSubList.length > 0) {\r\n\t\t\tfor (let i in this.state.govSubList) {\r\n\t\t\t\tlet extra = \"\"\r\n\t\t\t\t\r\n\t\t\t\tlet index = this.state.delGoverns.indexOf(this.state.govSubList[i][\"id\"])\r\n\t\t\t\tif (index >= 0) {\r\n\t\t\t\t\textra = 'bg-danger'\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tdisplayOwningCompanyList.push(\r\n\t\t\t\t\t<li key={i} className={\"list-group-item d-flex justify-content-around \"+extra}>\r\n\t\t\t\t\t\t<div className=\"col alignOverride\">\r\n\t\t\t\t\t\t\t{this.state.govSubList[i][\"fullname\"]}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-1\">\r\n\t\t\t\t\t\t\t<button className=\"badge badge-danger badge-pill\" name=\"gov\" value={i} data-toggle=\"modal\" data-target=\"#deleteConfirm\" onClick={this.setCurrentData}>X</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\t// There was nothing\r\n\t\t\tdisplayOwningCompanyList.push(\r\n\t\t\t\t<li key={0} className=\"list-group-item d-flex justify-content-around\">\r\n\t\t\t\t\tNone!\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\t//let showIdle = this.state.saveChangesStatus === 0\r\n\t\tlet showWaiting = this.state.saveChangesStatus === 1\r\n\t\tlet showSuccess = false//this.state.saveChangesStatus === 2\r\n\t\tlet showError = this.state.saveChangesStatus === 3\r\n\t\t\r\n\t\tlet errorParse = []\r\n\t\tfor (let index in this.state.saveChangesError) {\r\n\t\t\terrorParse.push(\r\n\t\t\t\tthis.state.saveChangesError[index][\"text\"]\r\n\t\t\t)\r\n\t\t}\r\n\t\tif (errorParse.length === 0) {\r\n\t\t\terrorParse.push(\r\n\t\t\t\t\"Unknown!\"\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"defaultView\">\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card shadow\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<h5>Companies you can View data for</h5>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t<ul className=\"list-group\">\r\n\t\t\t\t\t\t\t\t\t\t{displayViewSends}\r\n\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card shadow\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<h5>Companies getting your Journal Info</h5>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t<ul className=\"list-group\">\r\n\t\t\t\t\t\t\t\t\t\t{displayOwningCompanyList}\r\n\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Alert show={showWaiting} variant=\"warning\">\r\n\t\t\t\t\t\t\t\t<Alert.Heading>Waiting</Alert.Heading>\r\n\t\t\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t  Waiting for server response...\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Alert show={showSuccess} variant=\"success\">\r\n\t\t\t\t\t\t\t\t<Alert.Heading>Success!</Alert.Heading>\r\n\t\t\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t  Success!\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Alert show={showError} variant=\"danger\">\r\n\t\t\t\t\t\t\t\t<Alert.Heading>Danger!</Alert.Heading>\r\n\t\t\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t{errorParse}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t\t<div className=\"modal fade\" id=\"deleteConfirm\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"deleteConfirmation\" aria-hidden=\"true\">\r\n\t\t\t\t\t  <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n\t\t\t\t\t\t<div className=\"modal-content\">\r\n\t\t\t\t\t\t  <div className=\"modal-header\">\r\n\t\t\t\t\t\t\t<h5 className=\"modal-title\" id=\"deleteTitleConfirm\">Delete Confirmation</h5>\r\n\t\t\t\t\t\t\t<button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n\t\t\t\t\t\t\t  <span aria-hidden=\"true\">&times;</span>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t  <div className=\"modal-body\">\r\n\t\t\t\t\t\t\t<div>Are you SURE you want to revoke permission for:</div>\r\n\t\t\t\t\t\t\t<div>{this.state.selectedName}?</div>\r\n\t\t\t\t\t\t\t<div>You will need to be invited back!</div>\r\n\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t  <div className=\"modal-footer\">\r\n\t\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-danger\" data-dismiss=\"modal\" onClick={this.saveChanges}>Yes</button>\r\n\t\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-primary\" data-dismiss=\"modal\">No</button>\r\n\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"modal fade\" id=\"viewToggleConfirm\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"viewToggleConfirm\" aria-hidden=\"true\">\r\n\t\t\t\t\t  <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n\t\t\t\t\t\t<div className=\"modal-content\">\r\n\t\t\t\t\t\t  <div className=\"modal-header\">\r\n\t\t\t\t\t\t\t<h5 className=\"modal-title\" id=\"deleteTitleConfirm\">Toggle Notification Confirmation</h5>\r\n\t\t\t\t\t\t\t<button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n\t\t\t\t\t\t\t  <span aria-hidden=\"true\">&times;</span>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t  <div className=\"modal-body\">\r\n\t\t\t\t\t\t\t<div>Are you SURE you want to toggle notifications for:</div>\r\n\t\t\t\t\t\t\t<div>{this.state.selectedName}?</div>\r\n\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t  <div className=\"modal-footer\">\r\n\t\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-danger\" data-dismiss=\"modal\" onClick={this.saveChanges}>Yes</button>\r\n\t\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-primary\" data-dismiss=\"modal\">No</button>\r\n\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default withRouter(UserProfile);","import React from \"react\";\r\n\r\n//import { useEffect } from \"react\"\r\n\r\nimport Calendar from 'react-calendar'\r\nimport 'react-calendar/dist/Calendar.css';\r\nimport { Radar, Bar } from 'react-chartjs-2';\r\n\r\nimport { ButtonGroup, ToggleButton, Alert, Accordion, Card, Table } from 'react-bootstrap';\r\n\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { Editor, EditorState, convertFromRaw } from 'draft-js';\r\n\r\n//import {isLoggedIn} from '../../utils';\r\nimport {getRadarEmotionData } from '../../utils';\r\nimport {getRadarEmotionOptions, stackedBarOptions} from '../../utils';\r\n\r\nimport { stacked3BarData1Data, stacked2BarData1Data, stacked1BarData1Data } from '../../utils';\r\n\r\n// This is very lean...\r\nconst parseEmotion = (emotionData) => {\r\n\tlet derp = [emotionData.joy, emotionData.anger, emotionData.sadness, emotionData.disgust, emotionData.fear]\r\n\treturn derp;\r\n}\r\n\r\n// Maybe I should move this to getting it from the data...\r\nconst AIAspect = [\r\n    { name: 'Emotion', value: 'emotion' },\r\n    { name: 'Sentiment', value: 'sentiment' },\r\n    { name: 'Entities', value: 'entities' },\r\n\t{ name: 'Keywords', value: 'keywords' },\r\n\t//{ name: 'Relations', value: 'relations' },\r\n];\r\n\r\nconst styles = {\r\n  editor: {\r\n    //border: '1px solid gray',\r\n    minHeight: '6em',\r\n\ttextAlign: 'left',\r\n  }\r\n};\r\n\r\nconst MultiIteration = (props) => {\r\n\t\r\n\tlet buttonSet = []\r\n\tfor (let key in props.promptQuestions) {\r\n\t\t\r\n\t\tlet isActive = \"outline-\"\r\n\t\tif ( Number(props.selected) === Number(key)) {\r\n\t\t\tisActive = \"\"\r\n\t\t}\r\n\t\t\r\n\t\tbuttonSet.push(\r\n\t\t\t<button type=\"button\" key={key} value={key} className={\"btn disabled btn-\"+isActive+\"primary\"}>{props.promptQuestions[key]}</button>\r\n\t\t)\r\n\t}\r\n\t\r\n\treturn (\r\n\t\t<div className=\"MultiIteration\">\r\n\t\t\t{buttonSet}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst RatingIteration = (props) => {\r\n\t\r\n\t// Definetly a better way to do this\r\n\tlet isActive = [\"outline-\", \"outline-\", \"outline-\", \"outline-\", \"outline-\", \"outline-\"]\r\n\tif (props.selected >= 0 && props.selected < isActive.length) {\r\n\t\tisActive[props.selected] = \"\"\r\n\t}\r\n\t\r\n\tlet buttonSet = []\r\n\tfor (let index in isActive) {\r\n\t\tbuttonSet.push(\r\n\t\t\t<button type=\"button\" key={index} value={index} className={\"btn disabled btn-\"+isActive[index]+\"primary\"}>{index}</button>\r\n\t\t)\r\n\t}\r\n\t\r\n\treturn (\r\n\t\t<div className=\"RatingIteration\">\r\n\t\t\t{buttonSet}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst LikertIteration = (props) => {\r\n\t\r\n\tlet isActive = [\"outline-\", \"outline-\", \"outline-\", \"outline-\", \"outline-\"]\r\n\tif (props.selected >= 0 && props.selected < isActive.length) {\r\n\t\tisActive[props.selected] = \"\"\r\n\t}\r\n\t\r\n\tlet buttonSet = []\r\n\tfor (let index in isActive) {\r\n\t\tbuttonSet.push(\r\n\t\t\t<button type=\"button\" key={index} value={index} className={\"btn disabled btn-\"+isActive[index]+\"primary\"}>{index-2}</button>\r\n\t\t)\r\n\t}\r\n\t\r\n\treturn (\r\n\t\t<div className=\"LikertIteration\">\r\n\t\t\t<span className=\"btn btn-link disabled\" disabled>Highly Disagree</span>\r\n\t\t\t{buttonSet}\r\n\t\t\t<span className=\"btn btn-link disabled\" disabled>Highly Agree</span>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nclass JournalIteration extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tselectedAspect: \"emotion\",\r\n\t\t}\t\r\n\t}\r\n\t\r\n\tsetAspect = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tselectedAspect:event.currentTarget.value\r\n\t\t})\r\n\t}\r\n\t\r\n\trender() {\r\n\t\t\r\n\t\t// Making the Editor\r\n\t\tlet givenState = EditorState.createEmpty()\r\n\t\t\r\n\t\tif (!(this.props.richText === null)) {\r\n\t\t\tlet richData = convertFromRaw( this.props.richText )\r\n\t\t\tgivenState = EditorState.createWithContent(richData)\r\n\t\t}\r\n\t\t\r\n\t\t// GETTING WHICH DATA IS SELECTED!\r\n\t\tlet displayStats = []\r\n\t\tlet tableDisplay = []\r\n\t\tlet dayData = this.props.AIresults\r\n\t\tif (!(dayData === null) && !(dayData === undefined)) {\r\n\t\t\r\n\t\t\tlet sanityCheck = this.state.selectedAspect in dayData\r\n\t\t\tif (sanityCheck) {\r\n\t\t\t\t\r\n\t\t\t\tlet dataSet = dayData[this.state.selectedAspect]\r\n\t\t\t\t\r\n\t\t\t\tswitch(this.state.selectedAspect) {\r\n\t\t\t\t\tcase 'emotion':\r\n\t\t\t\t\t\tlet emoValue = parseEmotion( dataSet.document.emotion )\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tlet dataDocEmo = getRadarEmotionData( emoValue )\r\n\t\t\t\t\t\tlet emoOptions = getRadarEmotionOptions()\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tdisplayStats.push(\r\n\t\t\t\t\t\t\t<Table bordered responsive key=\"1\">\r\n\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Whole Journal Emotion Data</th>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t<tr key={0}>\r\n\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t<Radar data={dataDocEmo} options={emoOptions} />\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'sentiment':\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tconst dataBarStack = stacked1BarData1Data( [dataSet.document.score] )\r\n\t\t\t\t\t\tconst barStackOptions = stackedBarOptions()\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tdisplayStats.push(\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Table bordered responsive key=\"1\">\r\n\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Whole Journal Sentiment Data</th>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t<tr key={0}>\r\n\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t<Bar data={dataBarStack} options={barStackOptions} />\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'entities':\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t//console.log(dataSet)\r\n\t\t\t\t\t\tfor (let index in dataSet) {\r\n\t\t\t\t\t\t\tlet entity = dataSet[index]\r\n\t\t\t\t\t\t\t//console.log(entity)\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tlet emoVal = parseEmotion( entity.emotion )\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tlet emoData = getRadarEmotionData( emoVal)\r\n\t\t\t\t\t\t\tlet emoOptions = getRadarEmotionOptions()\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tconst dataEntSent = stacked3BarData1Data(\r\n\t\t\t\t\t\t\t\t[entity.confidence, entity.relevance, entity.sentiment.score],\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\tconst dataEntOptions = stackedBarOptions()\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\ttableDisplay.push(\r\n\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"row\">{entity.text}</th>\r\n\t\t\t\t\t\t\t\t\t<td>{entity.type}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{entity.count}</td>\r\n\t\t\t\t\t\t\t\t\t<td colSpan=\"3\"><Bar data={dataEntSent} options={dataEntOptions} /></td>\r\n\t\t\t\t\t\t\t\t\t<td><Radar data={emoData} options={emoOptions} /></td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (tableDisplay.length === 0) {\r\n\t\t\t\t\t\t\ttableDisplay.push(\r\n\t\t\t\t\t\t\t\t<tr key={0}>\r\n\t\t\t\t\t\t\t\t\t<td colSpan=\"7\">\"Nothing!\"</td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tdisplayStats.push(\r\n\t\t\t\t\t\t\t<Table bordered responsive key=\"2\">\r\n\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Name</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Type</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">#Appearances</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Confidence</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Relevance</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Sentiment</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Emotion</th>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t{tableDisplay}\r\n\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'keywords':\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tfor (let index in dataSet) {\r\n\t\t\t\t\t\t\tlet keyData = dataSet[index]\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tlet emoVal = parseEmotion( keyData.emotion )\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tconst dataRadar = getRadarEmotionData( emoVal )\r\n\t\t\t\t\t\t\tconst dataRadarOptions = getRadarEmotionOptions()\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t//console.log(keyData)\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tconst dataKeySent = stacked2BarData1Data(\r\n\t\t\t\t\t\t\t\t[keyData.relevance, keyData.sentiment.score], \r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\tconst dataKeyOptions = stackedBarOptions()\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\ttableDisplay.push(\r\n\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"row\">{keyData.text}</th>\r\n\t\t\t\t\t\t\t\t\t<td>{keyData.count}</td>\r\n\t\t\t\t\t\t\t\t\t<td colSpan=\"2\"><Bar data={dataKeySent} options={dataKeyOptions} /></td>\r\n\t\t\t\t\t\t\t\t\t<td><Radar data={dataRadar} options={dataRadarOptions} /></td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (tableDisplay.length === 0) {\r\n\t\t\t\t\t\t\ttableDisplay.push(\r\n\t\t\t\t\t\t\t\t<tr key={0}>\r\n\t\t\t\t\t\t\t\t\t<td colSpan=\"5\">\"Nothing!\"</td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tdisplayStats.push(\r\n\t\t\t\t\t\t\t<Table bordered responsive key=\"3\">\r\n\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Name</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">#Appearances</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Relevance Score</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Sentiment</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Emotion</th>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t{tableDisplay}\r\n\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\tconsole.log(\"Invalid AI selection somehow\")\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif (displayStats.length === 0) {\r\n\t\t\tdisplayStats.push(\r\n\t\t\t\t\"Nothing to display!\"\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className=\"JournalIteration\">\r\n\t\t\t\t{/*props.content*/}\r\n\t\t\t\t\r\n\t\t\t\t<Accordion>\r\n\t\t\t\t\r\n\t\t\t\t\t<Accordion.Toggle as={Card.Header} variant=\"link\" eventKey=\"0\">\r\n\t\t\t\t\t\t<div style={styles.editor} >\r\n\t\t\t\t\t\t\t<Editor\r\n\t\t\t\t\t\t\t\teditorState={givenState}\r\n\t\t\t\t\t\t\t\tplaceholder={\"Nothing Here!\"}\r\n\t\t\t\t\t\t\t\treadOnly={true}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Accordion.Toggle>\r\n\t\t\t\t\r\n\t\t\t\t\t<Accordion.Collapse eventKey=\"0\">\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t<div className=\"row my-2\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t<ButtonGroup toggle>\r\n\t\t\t\t\t\t\t\t\t\t\t{AIAspect.map((radio, idx) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ToggleButton\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={idx}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"radio\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"info\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"radio\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={radio.value}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={this.state.selectedAspect === radio.value}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.setAspect}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{radio.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ToggleButton>\r\n\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t</ButtonGroup>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<div className=\"row my-2\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t{displayStats}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</Accordion.Collapse>\r\n\t\t\t\t\t\r\n\t\t\t\t</Accordion>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\n// Main Function\r\nconst JournalView = (props) => {\r\n\t\t\r\n\tconst tileClassName = ({ date, view }) => {\r\n\t\r\n\t\t// Add class to tiles in month view only\r\n\t\tif (view === 'month') {\r\n\t\t\t\r\n\t\t\tconst checkDate = date.getFullYear()+\"-\"+date.getMonth()+\"-\"+date.getDate()\r\n\r\n\t\t\t// Check if a date React-Calendar wants to check is on the list of dates to add class to\r\n\t\t\tlet hasJournal = false\r\n\t\t\tfor (let index in props.validJournalDates) {\r\n\t\t\t\tif (checkDate === index) {\r\n\t\t\t\t\thasJournal = true\r\n\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tlet hasAI = false\r\n\t\t\tfor (let index in props.validJournalScanDates) {\r\n\t\t\t\tif (checkDate === index) {\r\n\t\t\t\t\thasAI = true\r\n\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Backup Check...\r\n\t\t\tif (!hasJournal) {\r\n\t\t\t\tfor (let index in props.validNonJournalDates) {\r\n\t\t\t\t\tif (checkDate === index) {\r\n\t\t\t\t\t\thasJournal = true\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (hasAI) {\r\n\t\t\t\treturn 'btn btn-success';\r\n\t\t\t} else if (hasJournal) {\r\n\t\t\t\treturn 'btn btn-warning'\r\n\t\t\t} else {\r\n\t\t\t\t// use the default styling...\r\n\t\t\t\t//return 'btn btn-outline-dark'\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\t\r\n\t// Scanning for divisions...\r\n\tlet foundData = []\r\n\tfor (let index in props.viewJournalData) {\r\n\t\tif (props.viewJournalData[index][\"onlyDivision\"]) {\r\n\t\t\tlet checkThing = false\r\n\t\t\tfor (let deepIndex in foundData) {\r\n\t\t\t\tif (foundData[deepIndex][\"id\"] === props.viewJournalData[index][\"targetDivision\"][\"id\"] ) {\r\n\t\t\t\t\tcheckThing = true\r\n\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (!checkThing) {\r\n\t\t\t\tfoundData.push( props.viewJournalData[index][\"targetDivision\"] )\r\n\t\t\t}\t\r\n\t\t}\r\n\t\telse {\r\n\t\t\tlet checkThing = false\r\n\t\t\tfor (let deepIndex in foundData) {\r\n\t\t\t\tif (foundData[deepIndex][\"id\"] === -1 ) {\r\n\t\t\t\t\tcheckThing = true\r\n\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tlet newSet = {\r\n\t\t\t\t\"divisionName\":\"None\",\r\n\t\t\t\t\"id\":-1,\r\n\t\t\t}\r\n\t\t\tif (!checkThing) {\r\n\t\t\t\tfoundData.push( newSet )\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tfor (let index in props.viewNonJournalData) {\r\n\t\tif (props.viewNonJournalData[index][\"onlyDivision\"]) {\r\n\t\t\tlet checkThing = false\r\n\t\t\tfor (let deepIndex in foundData) {\r\n\t\t\t\tif (foundData[deepIndex][\"id\"] === props.viewNonJournalData[index][\"targetDivision\"][\"id\"] ) {\r\n\t\t\t\t\tcheckThing = true\r\n\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (!checkThing) {\r\n\t\t\t\tfoundData.push( props.viewNonJournalData[index][\"targetDivision\"] )\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tlet checkThing = false\r\n\t\t\tfor (let deepIndex in foundData) {\r\n\t\t\t\tif (foundData[deepIndex][\"id\"] === -1 ) {\r\n\t\t\t\t\tcheckThing = true\r\n\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tlet newSet = {\r\n\t\t\t\t\"divisionName\":\"None\",\r\n\t\t\t\t\"id\":-1,\r\n\t\t\t}\r\n\t\t\tif (!checkThing) {\r\n\t\t\t\tfoundData.push( newSet )\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tlet displayButtonSet = []\r\n\tfor (let index in foundData) {\r\n\t\tlet dispClass = \"btn btn-outline-secondary\"\r\n\t\tif (String(props.selectedJournalViewDiv) === index) {\r\n\t\t\tdispClass = \"btn btn-secondary\"\r\n\t\t}\r\n\t\t\r\n\t\tdisplayButtonSet.push(\r\n\t\t\t<button key={index} className={dispClass} value={index} onClick={props.changeSelectedJournalViewDiv}>\r\n\t\t\t\t{foundData[index][\"divisionName\"]}\r\n\t\t\t</button>\r\n\t\t)\r\n\t}\r\n\t\r\n\tif (displayButtonSet.length === 0) {\r\n\t\tdisplayButtonSet.push(\r\n\t\t\t<div key={0} className=\"btn btn-outline-secondary\">\r\n\t\t\t\tNothing!\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\t\r\n\tlet selectedDivID = -1\r\n\tif (props.selectedJournalViewDiv >= 0 && props.selectedJournalViewDiv < foundData.length) {\r\n\t\tselectedDivID = foundData[props.selectedJournalViewDiv][\"id\"]\r\n\t}\r\n\t\r\n\tlet showResult = []\r\n\tfor (let index in props.viewNonJournalData) {\r\n\t\t\r\n\t\ttry{\r\n\t\t\tif (!(props.viewNonJournalData[index][\"targetDivision\"][\"id\"] === selectedDivID)) {\r\n\t\t\t\tcontinue\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch{\r\n\t\t\t// if it ISNT a \"No seleted set\"... then skip it\r\n\t\t\tif (!(selectedDivID === -1)) {\r\n\t\t\t\tcontinue\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tlet promptTitle = \"No Prompt Data!\"\r\n\t\tlet promptBody = \"Prompt Showing Error!\"\r\n\t\tif (props.viewNonJournalData[index][\"usedPromptKey\"] !== null) {\r\n\t\t\tpromptTitle = props.viewNonJournalData[index][\"usedPromptKey\"][\"text\"]\r\n\t\t\t\r\n\t\t\tswitch ( props.viewNonJournalData[index][\"usedPromptKey\"][\"promptType\"] ) {\r\n\t\t\t\t// Likert\r\n\t\t\t\tcase 1:\r\n\t\t\t\t\tpromptBody = <LikertIteration\r\n\t\t\t\t\t\tselected={ props.viewNonJournalData[index][\"chosenValue\"]}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t// Rating\r\n\t\t\t\tcase 2:\r\n\t\t\t\t\tpromptBody = <RatingIteration\r\n\t\t\t\t\t\tselected={ props.viewNonJournalData[index][\"chosenValue\"]}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t// Multi\r\n\t\t\t\tcase 3:\r\n\t\t\t\t\tpromptBody = <MultiIteration\r\n\t\t\t\t\t\tpromptQuestions={ props.viewNonJournalData[index][\"usedPromptKey\"][\"promptChoices\"] }\r\n\t\t\t\t\t\tselected={ props.viewNonJournalData[index][\"chosenValue\"]}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\t//promptBody = \"Prompt Showing Error!\"\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\t// Well, if we have no prompt, then whatever data is in there we cant parse....\r\n\t\t\tcontinue\r\n\t\t}\r\n\t\t\r\n\t\t//if () {\r\n\t\t\t//<RatingIteration />\r\n\t\t//}\r\n\t\t\r\n\t\tshowResult.push(\r\n\t\t\t<div className=\"row\" key={index}>\r\n\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t<h5>{promptTitle}</h5>\r\n\t\t\t\t\t<div>{promptBody}</div>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t\t//props.viewNonJournalData[index][\"usedPromptKey\"][\"promptType\"]\r\n\t\t//props.viewNonJournalData[index][\"usedPromptKey\"][\"promptChoices\"]\r\n\t\t//props.viewNonJournalData[index][\"chosenValue\"]\r\n\t}\r\n\tfor (let index in props.viewJournalData) {\r\n\t\t\r\n\t\ttry {\r\n\t\t\tif (!(props.viewJournalData[index][\"targetDivision\"][\"id\"] === selectedDivID)) {\r\n\t\t\t\tcontinue\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch{\r\n\t\t\t// Well, this doesnt even have a selected Div ID so....\r\n\t\t\tif (!(selectedDivID === -1)) {\r\n\t\t\t\tcontinue\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tlet promptTitle = \"No Prompt Data!\"\r\n\t\tlet promptBody = \"No Prompt!\"\r\n\t\t\r\n\t\tif (props.viewJournalData[index][\"usedPromptKey\"] !== null) {\r\n\t\t\tpromptTitle = props.viewJournalData[index][\"usedPromptKey\"][\"text\"]\r\n\t\t\t\r\n\t\t\t// It ISNT a journal!??!?!\r\n\t\t\tif ( props.viewJournalData[index][\"usedPromptKey\"][\"promptType\"] !== 0 ) {\r\n\t\t\t\tcontinue\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\t// Well, how I have structured this, if it appears in this for loop, then we can assume its a journal for now?\r\n\t\t\t// I should have a specific NULL prompt I give these....\r\n\t\t}\r\n\t\t\r\n\t\ttry {\r\n\t\t\tpromptBody = <JournalIteration\r\n\t\t\t\tcontent={ props.viewJournalData[index][\"content\"] }\r\n\t\t\t\trichText={ props.viewJournalData[index][\"richText\"] }\r\n\t\t\t\t\r\n\t\t\t\thasAI={props.viewJournalData[index][\"hasAI\"]}\r\n\t\t\t\tAIresults={ props.viewJournalData[index][\"AIresult\"] }\r\n\t\t\t/>\r\n\t\t}\r\n\t\tcatch {\r\n\t\t\tconsole.log(\"MISSING A JOURNAL'S CONTENT!\")\r\n\t\t}\r\n\t\t\r\n\t\tlet markLength = showResult.length\r\n\t\tshowResult.push(\r\n\t\t\t<div className=\"row\" key={index + markLength}>\r\n\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t<h5>{promptTitle}</h5>\r\n\t\t\t\t\t<div>{promptBody}</div>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\t\r\n\t//let showIdle = props.pickJournalCalenderDateStatus === 0 || props.pickNonJournalCalenderDateStatus === 0\r\n\tlet showSubmit = props.pickJournalCalenderDateStatus === 1 || props.pickNonJournalCalenderDateStatus === 1\r\n\tlet showSuccess = false//props.pickJournalCalenderDateStatus === 2 || props.pickNonJournalCalenderDateStatus === 2\r\n\tlet showError = props.pickJournalCalenderDateStatus === 3 || props.pickNonJournalCalenderDateStatus === 3\r\n\t\r\n\tlet alreadyStacked = false\r\n\t\r\n\tlet errorParse = []\r\n\tfor (let index in props.journalViewErrors) {\r\n\r\n\t\t// This means its a refresh, and the user just needs to do it again...\r\n\t\tif (props.journalViewErrors[index][\"mod\"] === 1 && !alreadyStacked) {\r\n\t\t\talreadyStacked = true\r\n\t\t\t\r\n\t\t\terrorParse.push(\r\n\t\t\t\tprops.journalViewErrors[index][\"text\"]\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t}\r\n\tfor (let index in props.nonJournalViewErrors) {\r\n\r\n\t\t// This means its a refresh, and the user just needs to do it again...\r\n\t\tif (props.nonJournalViewErrors[index][\"mod\"] === 1 && !alreadyStacked) {\r\n\t\t\talreadyStacked = true\r\n\t\t\terrorParse.push(\r\n\t\t\t\tprops.nonJournalViewErrors[index][\"text\"]\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t}\r\n\tif (errorParse.length === 0) {\r\n\t\terrorParse.push(\r\n\t\t\t\"Unknown!\"\r\n\t\t)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"mainView\">\r\n\t\t\t<div className=\"container-fluid justify-content-center\">\r\n\r\n\t\t\t\t<div className=\"row m-2 justify-content-center\">\r\n\t\t\t\t\t<div className=\"col- m-2 \">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<Calendar \r\n\t\t\t\t\t\t\t\tclassName=\"shadow\"\r\n\t\t\t\t\t\t\t\tonChange={props.pickDate}\r\n\t\t\t\t\t\t\t\tvalue={props.currentDate}\r\n\t\t\t\t\t\t\t\ttileClassName={tileClassName}\r\n\r\n\t\t\t\t\t\t\t\tminDetail={'year'}\r\n\t\t\t\t\t\t\t\tmaxDetail={'month'}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"row m-2\">\r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<div className=\"card shadow\">\r\n\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\tPrompt Data for {props.currentDate.toString()}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\tSelect a Division:\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t{displayButtonSet}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t\t\t{showResult}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<Alert show={showSubmit} variant=\"warning\">\r\n\t\t\t\t\t<Alert.Heading>Waiting</Alert.Heading>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t  Waiting for server response...\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t</Alert>\r\n\t\t\t\t\r\n\t\t\t\t<Alert show={showSuccess} variant=\"success\">\r\n\t\t\t\t\t<Alert.Heading>Success!</Alert.Heading>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t  Successfully obtained data!\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t</Alert>\r\n\t\t\t\t\r\n\t\t\t\t<Alert show={showError} variant=\"danger\">\r\n\t\t\t\t\t<Alert.Heading>Error!</Alert.Heading>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t  {errorParse}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t</Alert>\r\n\t\t\t\t\t\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default withRouter(JournalView);","import React from \"react\";\r\n\r\nimport { withRouter } from \"react-router-dom\";\r\n//import Store from \"store\"\r\n// ContentState, \r\nimport { Alert } from 'react-bootstrap';\r\nimport { Editor, RichUtils, EditorState, convertToRaw, convertFromRaw } from 'draft-js';\r\n\r\n//deleteStorageKey\r\nimport { timedLoadStorage, timedSaveStorage, APISaveJournal, APISaveNonJournal } from \"../../utils\";\r\n\r\nconst styles = {\r\n  editor: {\r\n    border: '1px solid gray',\r\n    minHeight: '6em',\r\n\ttextAlign: 'left',\r\n  }\r\n};\r\n\r\n/*\r\nconst promptType = [\r\n\t\"Open\",\r\n\t\"Likert\",\r\n\t\"Rating\",\r\n\t\"Multi\",\r\n]\r\n*/\r\n\r\n// START OF EXAMPLE CODE FROM THE DRAFT.JS!!!!!\r\nclass StyleButton extends React.Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.onToggle = (e) => {\r\n\t\t\t//console.log(this.props.style)\r\n\t\t\te.preventDefault();\r\n\t\t\tthis.props.onToggle(this.props.style);\r\n\t\t};\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet className = 'btn btn-outline-primary';\r\n\t\tif (this.props.active) {\r\n\t\t\tclassName += ' active';\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<button className={className} onMouseDown={this.onToggle}>\r\n\t\t\t\t{this.props.label}\r\n\t\t\t</button>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst BLOCK_TYPES = [\r\n\t{label: 'H1', style: 'header-one'},\r\n\t{label: 'H2', style: 'header-two'},\r\n\t{label: 'H3', style: 'header-three'},\r\n\t{label: 'H4', style: 'header-four'},\r\n\t{label: 'H5', style: 'header-five'},\r\n\t{label: 'H6', style: 'header-six'},\r\n\t//{label: 'Blockquote', style: 'blockquote'},\r\n\t//{label: 'UL', style: 'unordered-list-item'},\r\n\t//{label: 'OL', style: 'ordered-list-item'},\r\n\t//{label: 'Code Block', style: 'code-block'},\r\n];\r\n\r\nconst BlockStyleControls = (props) => {\r\n\tconst {editorState} = props;\r\n\tconst selection = editorState.getSelection();\r\n\tconst blockType = editorState\r\n\t  .getCurrentContent()\r\n\t  .getBlockForKey(selection.getStartKey())\r\n\t  .getType();\r\n\r\n\treturn (\r\n\t\t<div className=\"RichEditor-controls\">\r\n\t\t\t{BLOCK_TYPES.map((type) =>\r\n\t\t\t\t<StyleButton\r\n\t\t\t\t\tkey={type.label}\r\n\t\t\t\t\tactive={type.style === blockType}\r\n\t\t\t\t\tlabel={type.label}\r\n\t\t\t\t\tonToggle={props.onToggle}\r\n\t\t\t\t\tstyle={type.style}\r\n\t\t\t\t\t\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst INLINE_STYLES = [\r\n\t{label: 'Bold', style: 'BOLD'},\r\n\t{label: 'Italic', style: 'ITALIC'},\r\n\t{label: 'Underline', style: 'UNDERLINE'},\r\n\t//{label: 'Monospace', style: 'CODE'},\r\n];\r\n\r\nconst InlineStyleControls = (props) => {\r\n\tconst currentStyle = props.editorState.getCurrentInlineStyle();\r\n\t\r\n\treturn (\r\n\t\t<div className=\"RichEditor-controls\">\r\n\t\t\t{INLINE_STYLES.map((type) =>\r\n\t\t\t\t<StyleButton\r\n\t\t\t\t\tkey={type.label}\r\n\t\t\t\t\tactive={currentStyle.has(type.style)}\r\n\t\t\t\t\tlabel={type.label}\r\n\t\t\t\t\tonToggle={props.onToggle}\r\n\t\t\t\t\tstyle={type.style}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nclass MultiIteration extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tselected: this.loadData()\r\n\t\t}\t\r\n\t}\r\n\t\r\n\tloadData = () => {\r\n\t\tif (this.props.initialSave !== undefined) {\r\n\t\t\treturn this.props.initialSave[\"data\"]\r\n\t\t}\r\n\t\treturn undefined\r\n\t}\r\n\t\r\n\tselectMulti = (event) => {\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tselected: event.target.value\r\n\t\t})\r\n\t\t\r\n\t\tthis.props.saveTo(this.props.targetDiv, this.props.id, 3, event.target.value)\r\n\t}\r\n\t\r\n\trender() {\r\n\t\t\r\n\t\tlet disableThis = \"\"\r\n\t\tlet displayColor = \"primary\"\r\n\t\tif (this.props.alreadyDone) {\r\n\t\t\tdisableThis = \" disabled\"\r\n\t\t\tdisplayColor = \"danger\"\r\n\t\t}\r\n\t\t\r\n\t\tlet buttonSet = []\r\n\t\tfor (let key in this.props.choices) {\r\n\t\t\t\r\n\t\t\tlet isActive = \"\"\r\n\t\t\tif (this.state.selected === key) {\r\n\t\t\t\tisActive = \"active\"\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tbuttonSet.push(\r\n\t\t\t\t<button type=\"button\" key={key} onClick={this.selectMulti} value={key} className={\"btn btn-outline-\"+displayColor+\" \"+isActive+disableThis}>{this.props.choices[key]}</button>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className=\"RatingIteration\">\r\n\t\t\t\t{this.props.alreadyDone && \r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col text-warning\">\r\n\t\t\t\t\t\t\tAlready Submitted!\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<div className=\"btn-group\" role=\"group\" aria-label=\"...\">\r\n\t\t\t\t\t\t\t{buttonSet}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nclass RatingIteration extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tselected: this.loadData()\r\n\t\t}\t\r\n\t}\r\n\t\r\n\tloadData = () => {\r\n\t\tif (this.props.initialSave !== undefined) {\r\n\t\t\treturn this.props.initialSave[\"data\"]\r\n\t\t}\r\n\t\treturn -1\r\n\t}\r\n\t\r\n\tselectRating = (event) => {\r\n\t\tlet index = Number(event.target.value)\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tselected: index\r\n\t\t})\r\n\t\t\r\n\t\tthis.props.saveTo(this.props.targetDiv, this.props.id, 2, index)\r\n\t}\r\n\t\r\n\trender() {\r\n\r\n\t\tlet isActive = [\"\", \"\", \"\", \"\", \"\", \"\"]\t\r\n\t\tif (this.state.selected >= 0 && this.state.selected < isActive.length) {\r\n\t\t\tisActive[this.state.selected] = \"active\"\r\n\t\t}\r\n\t\t\r\n\t\tlet disableThis = \"\"\r\n\t\tlet displayColor = \"primary\"\r\n\t\tif (this.props.alreadyDone) {\r\n\t\t\tdisableThis = \" disabled\"\r\n\t\t\tdisplayColor = \"danger\"\r\n\t\t}\r\n\t\t\r\n\t\tlet buttonSet = []\r\n\t\tfor (let index in isActive) {\r\n\t\t\tbuttonSet.push(\r\n\t\t\t\t<button type=\"button\" key={index} onClick={this.selectRating} value={index} className={\"btn btn-outline-\"+displayColor+\" \"+isActive[index] + disableThis}>{index}</button>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className=\"RatingIteration\">\r\n\t\t\t\t{this.props.alreadyDone && \r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col text-warning\">\r\n\t\t\t\t\t\t\tAlready Submitted!\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<div className=\"btn-group\" role=\"group\" aria-label=\"...\">\r\n\t\t\t\t\t\t{buttonSet}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nclass LikertIteration extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tselected: this.loadData()\r\n\t\t}\t\r\n\t}\r\n\t\r\n\tloadData = () => {\r\n\t\tif (this.props.initialSave !== undefined) {\r\n\t\t\treturn this.props.initialSave[\"data\"]\r\n\t\t}\r\n\t\treturn -1\r\n\t}\r\n\t\r\n\tselectLikert = (event) => {\r\n\t\tlet index = Number(event.target.value)\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tselected: index\r\n\t\t})\r\n\t\t\r\n\t\tthis.props.saveTo(this.props.targetDiv, this.props.id, 1, index)\r\n\t}\r\n\t\r\n\trender() {\r\n\t\t\r\n\t\tlet isActive = [\"\", \"\", \"\", \"\", \"\"]\t\t\r\n\t\tif (this.state.selected >= 0 && this.state.selected < isActive.length) {\r\n\t\t\tisActive[this.state.selected] = \"active\"\r\n\t\t}\r\n\t\t\r\n\t\tlet disableThis = \"\"\r\n\t\tlet displayColor = \"primary\"\r\n\t\tif (this.props.alreadyDone) {\r\n\t\t\tdisableThis = \" disabled\"\r\n\t\t\tdisplayColor = \"danger \"\r\n\t\t}\r\n\t\t\r\n\t\tlet buttonSet = []\r\n\t\tfor (let index in isActive) {\r\n\t\t\tbuttonSet.push(\r\n\t\t\t\t<button type=\"button\" key={index} onClick={this.selectLikert} value={index} className={\"btn btn-outline-\"+displayColor+\" \"+isActive[index] + disableThis}>{index-2}</button>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className=\"LikertIteration\">\r\n\t\t\t\t{this.props.alreadyDone && \r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col text-warning\">\r\n\t\t\t\t\t\t\tAlready Submitted!\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<div className=\"btn-group\" role=\"group\" aria-label=\"...\">\r\n\t\t\t\t\t\t\t<span className=\"btn btn-link disabled\" disabled>Highly Disagree</span>\r\n\t\t\t\t\t\t\t{buttonSet}\r\n\t\t\t\t\t\t\t<span className=\"btn btn-link disabled\" disabled>Highly Agree</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nclass JournalIteration extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\teditorState: this.loadData(),\r\n\t\t}\t\r\n\t\tthis.focusMe = (event) => this.refs.editor.focus();\r\n\t\tthis.onToggle = (e) => {\r\n\t\t\t//console.log(this.props.style)\r\n\t\t\te.preventDefault();\r\n\t\t\t//this.props.onToggle(this.props.style);\r\n\t\t};\r\n\t}\r\n\t\r\n\tloadData = () => {\r\n\t\t\r\n\t\tif (this.props.initialSave !== undefined) {\r\n\t\t\treturn EditorState.createWithContent( convertFromRaw(this.props.initialSave[\"data\"][\"block\"]) )\r\n\t\t}\r\n\t\t\r\n\t\treturn EditorState.createEmpty()\r\n\t}\r\n\t\r\n\tonChange = (incomingState) => {\r\n\t\tthis.setState({\r\n\t\t\teditorState:incomingState,\r\n\t\t})\t\r\n\t\t\r\n\t\t// These are magic\r\n\t\tthis.props.saveTo(this.props.targetDiv, this.props.id, 0, {\"raw\":incomingState.getCurrentContent().getPlainText(), \"block\":convertToRaw(incomingState.getCurrentContent())})\r\n\t}\r\n\t\r\n\ttoggleBlockType = (blockType) => {\r\n\t\tthis.onChange(\r\n\t\t\tRichUtils.toggleBlockType(\r\n\t\t\t\tthis.state.editorState,\r\n\t\t\t\tblockType\r\n\t\t\t)\r\n\t\t);\r\n\t}\r\n\t\r\n\ttoggleInlineStyle = (inlineStyle) => {\r\n\t\tthis.onChange(\r\n            RichUtils.toggleInlineStyle(\r\n\t\t\t\tthis.state.editorState,\r\n\t\t\t\tinlineStyle\r\n            )\r\n        );\r\n\t}\r\n\t\r\n\thandleKeyCommand = (command, editorState) => {\r\n\t\tconst newState = RichUtils.handleKeyCommand(editorState, command);\r\n\r\n\t\tif (newState) {\r\n\t\t\tthis.onChange(newState);\r\n\t\t\treturn 'handled';\r\n\t\t}\r\n\r\n\t\treturn 'not-handled';\r\n\t}\r\n\t\r\n\trender() {\r\n\r\n\t\tlet displayStuff = \"\"\r\n\t\tif (this.props.alreadyDone) {\r\n\t\t\tdisplayStuff = \"Journal Already Submitted!\"\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"journalIteratorContainer\">\r\n\t\t\t\t\r\n\t\t\t\t{this.props.alreadyDone && \r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col text-warning\">\r\n\t\t\t\t\t\t\tAlready Submitted!\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\t\t{!this.props.alreadyDone && \r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<BlockStyleControls\r\n\t\t\t\t\t\t\t\teditorState={this.state.editorState}\r\n\t\t\t\t\t\t\t\tonToggle={this.toggleBlockType}\r\n\t\t\t\t\t\t\t/> \r\n\t\t\t\t\t\t\t<InlineStyleControls\r\n\t\t\t\t\t\t\t\teditorState={this.state.editorState}\r\n\t\t\t\t\t\t\t\tonToggle={this.toggleInlineStyle}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col\" onClick={this.focusMe}>\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t<div id=\"align-left\">\r\n\t\t\t\t\t\t\t<div style={styles.editor} >\r\n\t\t\t\t\t\t\t\t<Editor\r\n\t\t\t\t\t\t\t\t\teditorState={this.state.editorState}\r\n\t\t\t\t\t\t\t\t\tonChange={this.onChange}\r\n\t\t\t\t\t\t\t\t\thandleKeyCommand={this.handleKeyCommand}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tspellCheck={true}\r\n\t\t\t\t\t\t\t\t\tplaceholder={displayStuff}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\treadOnly={this.props.alreadyDone}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tref=\"editor\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n// This contains the EditorJS code... So lets do it last as I am unsure as of what to do...\r\nclass journalCreate extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\t\t\tpromptData: this.checkDataSet(),\r\n\t\t\t\r\n\t\t\tselectedDivision: 0,\r\n\t\t\t\r\n\t\t\tjournalErrors: [],\r\n\t\t\tpostJournalStatus: 0,\r\n\t\t\t\r\n\t\t\tnonJournalErrors: [],\r\n\t\t\tpostNonJournalStatus: 0,\r\n\t\t}\r\n\t}\r\n\t\r\n\tjournalPostFailure = (responseData) => {\r\n\t\t//let returnData = []\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.refreshToken(this.saveFullSet)\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\t//returnData = responseData['messages']\r\n\t\tthis.setState({\r\n\t\t\t//journalErrors: returnData,\r\n\t\t\tpostJournalStatus:3,\r\n\t\t})\r\n\t}\r\n\tjournalPostCallback = (incomingStuff) => {\r\n\t\t// Set something to notify user....\r\n\t\tthis.setState({\r\n\t\t\tjournalErrors: [],\r\n\t\t\tpostJournalStatus:2,\r\n\t\t})\r\n\t}\r\n\tpostJournal = (incomingID, incomingEditor, incomingTargetDivision) => {\r\n\t\t// This may need to be overridden?\r\n\t\tlet inputDate = this.props.currentDate\r\n\t\tlet journalContent = incomingEditor[\"raw\"]\r\n\t\tlet richContent = incomingEditor[\"block\"]\r\n\t\t\r\n\t\tif (incomingID !== undefined) {\t\t\r\n\t\t\tAPISaveJournal( inputDate, incomingID, incomingTargetDivision, journalContent, richContent, this.journalPostCallback, this.journalPostFailure)\r\n\t\t}\r\n\t\telse {\r\n\t\t\t// Just in case!\r\n\t\t\tlet insertID = \"none\"\r\n\t\t\tAPISaveJournal( inputDate, insertID, incomingTargetDivision, journalContent, richContent, this.journalPostCallback, this.journalPostFailure)\r\n\t\t}\r\n\t\tthis.setState({\r\n\t\t\tpostJournalStatus:1,\r\n\t\t})\r\n\t}\r\n\t\r\n\tnonJournalPostFailure = (responseData) => {\r\n\t\tlet returnData = []\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.refreshToken(this.saveFullSet)\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\treturnData = responseData['messages']\r\n\t\tthis.setState({\r\n\t\t\tnonJournalErrors: returnData,\r\n\t\t\tpostNonJournalStatus:3,\r\n\t\t})\r\n\t}\r\n\tnonJournalPostCallback = (incomingStuff) => {\r\n\t\t// Set something to notify user....\r\n\t\tthis.setState({\r\n\t\t\tjournalErrors: [],\r\n\t\t\tpostNonJournalStatus:2,\r\n\t\t})\r\n\t}\r\n\tpostNonJournal = (incomingID, incomingValue, incomingTargetDivision) => {\r\n\t\t// This may need to be overridden?\r\n\t\tlet inputDate = this.props.currentDate\r\n\t\t\r\n\t\tif (incomingID !== undefined) {\t\t\r\n\t\t\tAPISaveNonJournal( inputDate, incomingID, incomingTargetDivision, incomingValue, this.nonJournalPostCallback, this.nonJournalPostFailure)\r\n\t\t\tthis.setState({\r\n\t\t\t\tpostNonJournalStatus:1,\r\n\t\t\t})\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.setState({\r\n\t\t\t\tnonJournalErrors: [{'mod':-1, 'text':'Invalid prompt id!'} ],\r\n\t\t\t\tpostNonJournalStatus:3,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\t\r\n\tcheckDataSet = () => {\r\n\t\tlet dataSet = timedLoadStorage(\"promptDataSaved-\"+this.props.currentUser)\r\n\t\tif (dataSet === 0) {\r\n\t\t\t//console.log(\"No Saved Data!\")\r\n\t\t}\r\n\t\telse if (dataSet === 2) {\r\n\t\t\t//console.log(\"Invalid Save Data!\")\r\n\t\t}\r\n\t\telse if (dataSet === 1) {\r\n\t\t\t//console.log(\"Expired load!\")\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn dataSet\r\n\t\t}\r\n\t\t\r\n\t\treturn {}\r\n\t}\r\n\t\r\n\tsavePromptData = (targetID, identifier, type, data) => {\r\n\t\t\r\n\t\tvar duplicate = {};\r\n\t\tfor (let prop in this.state.promptData) {\r\n\t\t\tduplicate[prop] = this.state.promptData[prop];\r\n\t\t}\r\n\t\t\r\n\t\tduplicate[identifier] = {\"targetID\":targetID, \"type\":type, \"data\":data}\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tpromptData: duplicate\r\n\t\t})\r\n\t\t\r\n\t\ttimedSaveStorage(\"promptDataSaved-\"+this.props.currentUser, duplicate, 1)\r\n\t}\r\n\t\r\n\tsaveFullSet = () => {\r\n\r\n\t\tlet targetID = -1\r\n\t\tif (this.props.promptList.length > 0 && this.state.selectedDivision >= 0 && this.state.selectedDivision < this.props.promptList.length) {\r\n\t\t\ttargetID = this.props.promptList[this.state.selectedDivision][\"divTarget\"][\"id\"]\r\n\t\t}\r\n\t\telse {\r\n\t\t\t// Invalid Selection!]\r\n\t\t\treturn\r\n\t\t}\r\n\t\t\r\n\t\tfor (let index in this.state.promptData) {\r\n\r\n\t\t\tif (this.state.promptData[index] === undefined) {\r\n\t\t\t\tcontinue\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (this.state.promptData[index][\"targetID\"] === targetID) {\r\n\t\t\t\t//console.log(\"Allowed to save!\")\r\n\t\t\t\t//console.log(this.state.promptData[index][\"data\"])\r\n\t\t\t\t\r\n\t\t\t\tif ( this.state.promptData[index][\"type\"] === 0 ) {\r\n\t\t\t\tthis.postJournal( index, this.state.promptData[index][\"data\"], this.state.promptData[index][\"targetID\"] )\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tthis.postNonJournal( index, this.state.promptData[index][\"data\"], this.state.promptData[index][\"targetID\"] )\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t//Display Error\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tselectDisplayButton = (event) => {\r\n\t\t//console.log(event.target.id)\r\n\t\tthis.setState({\r\n\t\t\tselectedDivision:Number(event.target.value)\r\n\t\t})\r\n\t}\r\n\r\n\trender() {\r\n\t\t\r\n\t\tlet promptSet = []\r\n\t\tlet currentDisplayDivision = \"None Selected!\"\r\n\t\tlet currentDivID = -1\r\n\t\tif (this.props.promptList.length > 0 && this.state.selectedDivision >= 0 && this.state.selectedDivision < this.props.promptList.length) {\r\n\t\t\tcurrentDisplayDivision = this.props.promptList[this.state.selectedDivision][\"divTarget\"][\"divisionName\"]\r\n\t\t\tcurrentDivID = this.props.promptList[this.state.selectedDivision][\"divTarget\"][\"id\"]\r\n\t\t\tpromptSet = this.props.promptList[this.state.selectedDivision][\"promptSet\"]\r\n\t\t}\r\n\t\t\r\n\t\tlet displayButtonSet = []\r\n\t\tfor (let index in this.props.promptList) {\r\n\t\t\tlet dataTarget = this.props.promptList[index][\"divTarget\"]\r\n\t\t\t//let dataPromptList = this.props.promptList[index][\"divTarget\"]\r\n\t\t\t\r\n\t\t\tlet classSet = \"btn btn-outline-secondary\"\r\n\t\t\tif (String(this.state.selectedDivision) === index) {\r\n\t\t\t\tclassSet = \"btn btn-secondary\"\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tdisplayButtonSet.push(\t\t\t\r\n\t\t\t\t<button key={index} className={classSet} value={index} id={dataTarget.id} onClick={this.selectDisplayButton}>\r\n\t\t\t\t\t{dataTarget.divisionName}\r\n\t\t\t\t</button>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\t// Lets mess about!\r\n\t\tlet promptDisplay = []\r\n\t\tfor (let index in promptSet) {\r\n\r\n\t\t\tlet outputThing = \"Prompt Showing Error!\"\r\n\t\t\tlet promptID = promptSet[index]['identifier']\r\n\t\t\t\r\n\t\t\tlet matchToday = false\r\n\t\t\tfor (let i in this.props.nonJournalPromptsDone[\"today\"]) {\r\n\t\t\t\tif (this.props.nonJournalPromptsDone[\"today\"][i] === null) {\r\n\t\t\t\t\tcontinue\r\n\t\t\t\t}\r\n\t\t\t\tif ( promptID === this.props.nonJournalPromptsDone[\"today\"][i][\"identifier\"]) {\r\n\t\t\t\t\tmatchToday = true\r\n\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfor (let i in this.props.journalPromptsDone[\"today\"]) {\r\n\t\t\t\tif (this.props.journalPromptsDone[\"today\"][i] === null) {\r\n\t\t\t\t\tcontinue\r\n\t\t\t\t}\r\n\t\t\t\tif ( promptID === this.props.journalPromptsDone[\"today\"][i][\"identifier\"]) {\r\n\t\t\t\t\tmatchToday = true\r\n\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfor (let i in this.props.journalScanPromptsDone[\"today\"]) {\r\n\t\t\t\tif (this.props.journalScanPromptsDone[\"today\"][i] === null) {\r\n\t\t\t\t\tcontinue\r\n\t\t\t\t}\r\n\t\t\t\tif ( promptID === this.props.journalScanPromptsDone[\"today\"][i][\"identifier\"]) {\r\n\t\t\t\t\tmatchToday = true\r\n\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tswitch ( promptSet[index]['promptType'] ) {\r\n\t\t\t\t// Open Ended\r\n\t\t\t\tcase 0:\r\n\t\t\t\t\toutputThing = <JournalIteration\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tinitialSave={this.state.promptData[promptID]}\r\n\t\t\t\t\t\tid={promptID}\r\n\t\t\t\t\t\ttargetDiv={currentDivID}\r\n\t\t\t\t\t\tsaveTo={this.savePromptData}\t\r\n\t\t\t\t\t\talreadyDone={matchToday}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t// Likert\r\n\t\t\t\tcase 1:\r\n\t\t\t\t\toutputThing = <LikertIteration \r\n\t\t\t\t\t\r\n\t\t\t\t\t\tinitialSave={this.state.promptData[promptID]}\r\n\t\t\t\t\t\tid={promptID}\r\n\t\t\t\t\t\ttargetDiv={currentDivID}\r\n\t\t\t\t\t\tsaveTo={this.savePromptData}\t\r\n\t\t\t\t\t\talreadyDone={matchToday}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t// Rating\r\n\t\t\t\tcase 2:\r\n\t\t\t\t\toutputThing = <RatingIteration \r\n\t\t\t\t\t\r\n\t\t\t\t\t\tinitialSave={this.state.promptData[promptID]}\r\n\t\t\t\t\t\tid={promptID}\r\n\t\t\t\t\t\ttargetDiv={currentDivID}\r\n\t\t\t\t\t\tsaveTo={this.savePromptData}\t\r\n\t\t\t\t\t\talreadyDone={matchToday}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t// Multi\r\n\t\t\t\tcase 3:\r\n\t\t\t\t\toutputThing = <MultiIteration\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tchoices={promptSet[index][\"promptChoices\"]}\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tinitialSave={this.state.promptData[promptID]}\r\n\t\t\t\t\t\tid={promptID}\r\n\t\t\t\t\t\ttargetDiv={currentDivID}\r\n\t\t\t\t\t\tsaveTo={this.savePromptData}\t\r\n\t\t\t\t\t\talreadyDone={matchToday}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\toutputThing = \"Prompt Showing Error!\"\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tpromptDisplay.push (\r\n\t\t\t\t<div key={index}>\r\n\t\t\t\t\t<div className=\"row my-3\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<h5>\r\n\t\t\t\t\t\t\t\t{promptSet[index]['text']}\r\n\t\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t{outputThing}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t</div>\r\n\t\t\t)\t\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tif (promptDisplay.length === 0) {\r\n\t\t\tlet promptID = \"misc\"\r\n\t\t\t\r\n\t\t\tlet matchToday = false\r\n\t\t\tfor (let i in this.props.nonJournalPromptsDone[\"today\"]) {\r\n\t\t\t\tif ( promptID === this.props.nonJournalPromptsDone[\"today\"][i]) {\r\n\t\t\t\t\tmatchToday = true\r\n\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfor (let i in this.props.journalPromptsDone[\"today\"]) {\r\n\t\t\t\tif ( promptID === this.props.journalPromptsDone[\"today\"][i]) {\r\n\t\t\t\t\tmatchToday = true\r\n\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfor (let i in this.props.journalScanPromptsDone[\"today\"]) {\r\n\t\t\t\tif ( promptID === this.props.journalScanPromptsDone[\"today\"][i]) {\r\n\t\t\t\t\tmatchToday = true\r\n\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tpromptDisplay.push (\r\n\t\t\t\t<div key={0}>\r\n\t\t\t\t\t<div className=\"row my-3\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<h5>\r\n\t\t\t\t\t\t\t\tNo Prompts! have a free Open Ended Journal!\r\n\t\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<JournalIteration\r\n\t\t\t\t\t\t\t\t\tinitialSave={this.state.promptData[promptID]}\r\n\t\t\t\t\t\t\t\t\tid={promptID}\r\n\t\t\t\t\t\t\t\t\tsaveTo={this.savePromptData}\t\r\n\t\t\t\t\t\t\t\t\talreadyDone={matchToday}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\t//let showIdle = this.state.postJournalStatus === 0 || this.state.postNonJournalStatus === 0\r\n\t\tlet showWaiting = this.state.postJournalStatus === 1 || this.state.postNonJournalStatus === 1\r\n\t\tlet showSuccess = this.state.postJournalStatus === 2 || this.state.postNonJournalStatus === 2\r\n\t\tlet showError = this.state.postJournalStatus === 3 || this.state.postNonJournalStatus === 3\r\n\t\t\r\n\t\tlet errorParse = []\r\n\t\tfor (let index in this.state.journalErrors) {\r\n\t\t\terrorParse.push(\r\n\t\t\t\tthis.state.journalErrors[index][\"text\"]\r\n\t\t\t)\r\n\t\t}\r\n\t\tfor (let index in this.state.nonJournalErrors) {\r\n\t\t\terrorParse.push(\r\n\t\t\t\tthis.state.nonJournalErrors[index][\"text\"]\r\n\t\t\t)\r\n\t\t}\r\n\t\tif (errorParse.length === 0) {\r\n\t\t\terrorParse.push(\r\n\t\t\t\t\"Unknown!\"\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\t//var editor = new Quill('#quillTest');\r\n\t\treturn (\r\n\t\t\t<div className=\"makeView\">\r\n\t\t\t\t<div className=\"container-fluid\">\r\n\t\t\t\t\r\n\t\t\t\t\t<div className=\"card shadow\">\r\n\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<h4>\r\n\t\t\t\t\t\t\t\t\t\t{currentDisplayDivision}\r\n\t\t\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t{displayButtonSet}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t{promptDisplay}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<button className=\"btn btn-outline-primary\" onMouseDown={this.saveFullSet}> Post! </button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<Alert show={showWaiting} variant=\"warning\">\r\n\t\t\t\t\t\t<Alert.Heading>Waiting</Alert.Heading>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t  Waiting for server response...\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Alert show={showSuccess} variant=\"success\">\r\n\t\t\t\t\t\t<Alert.Heading>Success!</Alert.Heading>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t  Entry Posted!\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Alert show={showError} variant=\"danger\">\r\n\t\t\t\t\t\t<Alert.Heading>Error!</Alert.Heading>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t{errorParse}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</Alert>\r\n\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default withRouter(journalCreate);","import React from \"react\";\r\n\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { Alert } from 'react-bootstrap';\r\nimport { APIChangeUserEmail, APIChangeUserName, APIChangeUserPassword, APIGetUserDetails } from \"../../utils\";\r\n\r\nclass SecurityPages extends React.Component {\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\t\t\t\r\n\t\t\tcurrentEmail: \"\",\r\n\t\t\tcurrentFirstName: \"\",\r\n\t\t\tcurrentLastName: \"\",\r\n\t\t\t\r\n\t\t\tnewEmail: \"\",\r\n\t\t\tnewFirstName: \"\",\r\n\t\t\tnewLastName: \"\",\r\n\t\t\t\r\n\t\t\toldPassword: [],\r\n\t\t\tnewPassword: [],\r\n\t\t\tnewPassword2: [],\r\n\t\t\t\r\n\t\t\tgetCurrentDataStatus: 0,\r\n\t\t\tchangeGeneralStatus: 0,\r\n\t\t\t\r\n\t\t\tgetCurrentDataError: [],\r\n\t\t\tchangeGeneralError: [],\r\n\t\t}\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\t//this.getCurrentData()\r\n\t}\r\n\t\r\n\toldPasswordChange = (event) => {\r\n\t\tthis.setState({\r\n\t\t\toldPassword: event.target.value,\r\n\t\t})\r\n\t}\r\n\tnewPasswordChange = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tnewPassword: event.target.value,\r\n\t\t})\r\n\t}\r\n\tnewPassword2Change = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tnewPassword2: event.target.value,\r\n\t\t})\r\n\t}\r\n\tnewEmailChange = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tnewEmail: event.target.value,\r\n\t\t})\r\n\t}\r\n\tnewNewFirstChange = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tnewFirstName: event.target.value,\r\n\t\t})\r\n\t}\r\n\tnewLastNameChange = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tnewLastName: event.target.value,\r\n\t\t})\r\n\t}\r\n\r\n\tgetDataFailure = (responseData) => {\r\n\t\tlet returnData = []\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.refreshToken(this.getCurrentData)\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\treturnData = responseData['messages']\r\n\t\tthis.setState({\r\n\t\t\tgetCurrentDataError: returnData,\r\n\t\t\tgetCurrentDataStatus: 3,\r\n\t\t})\r\n\t}\r\n\tgetDataSuccess = (successData) => {\r\n\t\t//console.log(\"Data Success\")\r\n\t\t//console.log(successData)\r\n\t\tthis.setState({\r\n\t\t\t\r\n\t\t\tgetCurrentDataStatus: 2,\r\n\t\t})\r\n\t}\r\n\tgetCurrentData = () => {\r\n\t\tAPIGetUserDetails(  this.getDataSuccess, this.getDataFailure )\r\n\t\tthis.setState({\r\n\t\t\tgetCurrentDataStatus: 1,\r\n\t\t})\r\n\t}\r\n\t\r\n\tchangeGeneralFailure = (responseData) => {\r\n\t\tlet returnData = []\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.refreshToken(this.changeEmail)\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\treturnData = responseData['messages']\r\n\t\t// Show some error\r\n\t\tthis.setState({\r\n\t\t\tchangeGeneralError: returnData,\r\n\t\t\tchangeGeneralStatus: 3,\r\n\t\t})\r\n\t}\r\n\tchangeGeneralSuccess = (successData) => {\r\n\t\t//console.log(\"Update Success\")\r\n\t\t//console.log(successData)\r\n\t\t// Set some sort of success!?\r\n\t\tthis.setState({\r\n\t\t\tchangeGeneralStatus: 2,\r\n\t\t})\r\n\t}\r\n\tchangeEmail = () => {\r\n\t\t// Verify first...\r\n\t\tAPIChangeUserEmail(  this.state.newEmail, this.changeGeneralSuccess, this.changeGeneralFailure )\r\n\t\tthis.setState({\r\n\t\t\tnewEmail: \"\",\r\n\t\t\tchangeGeneralStatus: 1,\r\n\t\t})\r\n\t}\r\n\t\r\n\tchangeName = () => {\r\n\t\tAPIChangeUserName(  this.state.newFirstName, this.state.newLastName, this.changeGeneralSuccess, this.changeGeneralFailure )\r\n\t\tthis.setState({\r\n\t\t\tnewFirstName: \"\",\r\n\t\t\tnewLastName: \"\",\r\n\t\t\tchangeGeneralStatus: 1,\r\n\t\t})\r\n\t}\r\n\t\r\n\tchangePassword = () => {\r\n\t\tAPIChangeUserPassword(  this.state.oldPassword, this.state.newPassword, this.state.newPassword2, this.changeGeneralSuccess, this.changeGeneralFailure )\r\n\t\tthis.setState({\r\n\t\t\toldPassword: \"\",\r\n\t\t\tsetNewPassword: \"\",\r\n\t\t\tsetNewPassword2: \"\",\r\n\t\t\tchangeGeneralStatus: 1,\r\n\t\t})\r\n\t}\r\n\t\r\n\trender() {\r\n\t\t\r\n\t\tlet emailClass = 'form-control'\r\n\t\t//if (this.state.emailError) {\r\n\t\t//\temailClass += ' bg-warning'\r\n\t\t//}\r\n\r\n\t\tlet passwordClass = 'form-control'\r\n\t\t//if (passwordError) {\r\n\t\t//\tpasswordClass += ' bg-warning'\r\n\t\t//}\r\n\r\n\t\t//let showIdle = this.state.getCurrentDataStatus === 0 || this.state.changeGeneralStatus === 0\r\n\t\tlet showWaiting = this.state.getCurrentDataStatus === 1 //|| this.state.changeGeneralStatus === 1\r\n\t\tlet showSuccess = false//this.state.getCurrentDataStatus === 2 //|| this.state.changeGeneralStatus === 2\r\n\t\tlet showError = this.state.getCurrentDataStatus === 3 //|| this.state.changeGeneralStatus === 3\r\n\r\n\t\tlet errorParse = []\r\n\t\tfor (let index in this.state.getCurrentDataError) {\r\n\t\t\terrorParse.push(\r\n\t\t\t\tthis.state.getCurrentDataError[index][\"text\"]\r\n\t\t\t)\r\n\t\t}\r\n\t\tfor (let index in this.state.changeGeneralError) {\r\n\t\t\terrorParse.push(\r\n\t\t\t\tthis.state.changeGeneralError[index][\"text\"]\r\n\t\t\t)\r\n\t\t}\r\n\t\tif (errorParse.length === 0) {\r\n\t\t\terrorParse.push(\r\n\t\t\t\t\"Unknown!\"\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className=\"userSecurty\">\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card shadow\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<h5>Edit User Security Details</h5>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"list-group\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"list-group-item\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{this.state.currentEmail}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<button className=\"btn btn-primary\" data-toggle=\"modal\" data-target=\"#changeEmailModal\" disabled>\r\n\t\t\t\t\t\t\t\t\t\t\t\tChange Email\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"list-group-item\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{this.state.currentFirstName + \" \" + this.state.currentLastName}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<button className=\"btn btn-primary\" data-toggle=\"modal\" data-target=\"#changeNameModal\" disabled>\r\n\t\t\t\t\t\t\t\t\t\t\t\tChange Name\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"list-group-item\">\r\n\t\t\t\t\t\t\t\t\t\t\t<button className=\"btn btn-primary\" data-toggle=\"modal\" data-target=\"#changePasswordModal\" disabled>\r\n\t\t\t\t\t\t\t\t\t\t\t\tChange Password\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Alert show={showWaiting} variant=\"warning\">\r\n\t\t\t\t\t\t<Alert.Heading>Waiting</Alert.Heading>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t  Waiting for server response...\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Alert show={showSuccess} variant=\"success\">\r\n\t\t\t\t\t\t<Alert.Heading>Success!</Alert.Heading>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t  Success!\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Alert show={showError} variant=\"danger\">\r\n\t\t\t\t\t\t<Alert.Heading>Danger!</Alert.Heading>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t{errorParse}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<div className=\"modal fade\" id=\"changeEmailModal\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"changeEmailModal\" aria-hidden=\"true\">\r\n\t\t\t\t\t  <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n\t\t\t\t\t\t<div className=\"modal-content\">\r\n\t\t\t\t\t\t  <div className=\"modal-header\">\r\n\t\t\t\t\t\t\t<h5 className=\"modal-title\" id=\"deleteTitleConfirm\">Change Email</h5>\r\n\t\t\t\t\t\t\t<button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n\t\t\t\t\t\t\t  <span aria-hidden=\"true\">&times;</span>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t  <div className=\"modal-body\">\r\n\t\t\t\t\t\t  {/*\r\n\t\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t\t<label id=\"align-left\">{\"Current Email: \" + this.state.currentEmail}</label>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t*/}\r\n\t\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t\t<label id=\"align-left\">New Email</label>\r\n\t\t\t\t\t\t\t\t\t<input type='email' className={emailClass} value={this.state.newEmail} onChange={this.newEmailChange} placeholder='Enter Email' />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t  <div className=\"modal-footer\">\r\n\t\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-outline-secondary\" data-dismiss=\"modal\" onClick={this.changeEmail}>Change Email</button>\r\n\t\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-primary\" data-dismiss=\"modal\">Cancel</button>\r\n\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"modal fade\" id=\"changeNameModal\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"changeNameModal\" aria-hidden=\"true\">\r\n\t\t\t\t\t  <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n\t\t\t\t\t\t<div className=\"modal-content\">\r\n\t\t\t\t\t\t  <div className=\"modal-header\">\r\n\t\t\t\t\t\t\t<h5 className=\"modal-title\" id=\"deleteTitleConfirm\">Change Name</h5>\r\n\t\t\t\t\t\t\t<button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n\t\t\t\t\t\t\t  <span aria-hidden=\"true\">&times;</span>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t  <div className=\"modal-body\">\r\n\t\t\t\t\t\t  {/*<div className='form-group'>\r\n\t\t\t\t\t\t\t\t\t<label id=\"align-left\">{\"Current name: \" + this.state.currentFirstName + \" \" + this.state.currentLastName}</label>\r\n\t\t\t\t\t\t\t</div> */}\r\n\t\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t\t<label id=\"align-left\">New First Name</label>\r\n\t\t\t\t\t\t\t\t\t<input type='text' className={emailClass} value={this.state.newFirstName} onChange={this.newNewFirstChange} placeholder='Enter New First Name' />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t\t<label id=\"align-left\">New Last Name</label>\r\n\t\t\t\t\t\t\t\t\t<input type='text' className={emailClass} value={this.state.newLastName} onChange={this.newLastNameChange} placeholder='Enter New Last Name' />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t  <div className=\"modal-footer\">\r\n\t\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-outline-secondary\" data-dismiss=\"modal\" onClick={this.changeName}>Change Name</button>\r\n\t\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-primary\" data-dismiss=\"modal\">Cancel</button>\r\n\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"modal fade\" id=\"changePasswordModal\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"changePasswordModal\" aria-hidden=\"true\">\r\n\t\t\t\t\t  <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n\t\t\t\t\t\t<div className=\"modal-content\">\r\n\t\t\t\t\t\t  <div className=\"modal-header\">\r\n\t\t\t\t\t\t\t<h5 className=\"modal-title\" id=\"deleteTitleConfirm\">Change Password</h5>\r\n\t\t\t\t\t\t\t<button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n\t\t\t\t\t\t\t  <span aria-hidden=\"true\">&times;</span>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t  <div className=\"modal-body\">\r\n\t\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t\t<label id=\"align-left\">Old Password</label>\r\n\t\t\t\t\t\t\t\t\t<input type='password' className={passwordClass} value={this.state.oldPassword} onChange={this.oldPasswordChange} placeholder='Enter password' />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t\t<label id=\"align-left\">New Password</label>\r\n\t\t\t\t\t\t\t\t\t<input type='password' className={passwordClass} value={this.state.newPassword} onChange={this.newPasswordChange} placeholder='Enter password' />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t\t<label id=\"align-left\">New Password (again)</label>\r\n\t\t\t\t\t\t\t\t\t<input type='password' className={passwordClass} value={this.state.newPassword2} onChange={this.newPassword2Change} placeholder='Enter password' />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t  <div className=\"modal-footer\">\r\n\t\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-outline-secondary\" data-dismiss=\"modal\" onClick={this.changePassword}>Change Password</button>\r\n\t\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-primary\" data-dismiss=\"modal\">Cancel</button>\r\n\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default withRouter(SecurityPages);","import React from \"react\";\r\n\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { APIUserInvitesGet, APIUserInvitesSet, APIUserInviteCode } from \"../../utils\";\r\nimport { Alert } from 'react-bootstrap';\r\n\r\nconst inviteType = ['Invalid', 'Admin User', 'Viewing User', 'Governed User']\r\n\r\nclass UserInvitePage extends React.Component {\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\t\t\tinviteCode: \"\",\r\n\t\t\t\r\n\t\t\tinviteIDList: [],\r\n\t\t\tinviteNamesList: [],\r\n\t\t\tinviteRolesList: [],\t\r\n\t\t\t\r\n\t\t\tgetUserInvitesStatus: 0,\r\n\t\t\tsubmitCodeStatus: 0,\r\n\t\t\tspendInviteStatus : 0,\r\n\t\t\t\r\n\t\t\tgetUserInvitesErrors: [],\r\n\t\t\tsubmitCodeErrors: [],\r\n\t\t\tspendInviteErrors: [],\r\n\t\t}\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tthis.getUserInvites()\r\n\t};\r\n\t\r\n\tgetUserInvitesFailure = ( responseData ) => {\r\n\t\tlet returnData = []\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.refreshToken(this.getUserInvites)\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\treturnData = responseData['messages']\r\n\t\tthis.setState({\r\n\t\t\tgetUserInvitesErrors: returnData,\r\n\t\t\tgetUserInvitesStatus:3,\r\n\t\t})\r\n\t}\r\n\tgetUserInvitesSuccess = ( incomingData ) => {\r\n\t\t//console.log(\"Got the Invites\")\r\n\t\tlet idSet = []\r\n\t\tlet userNames = []\r\n\t\tlet divisionNames = []\r\n\t\tlet targetRole = []\r\n\t\tfor (let index in incomingData) {\r\n\t\t\t\r\n\t\t\tidSet.push( incomingData[index].id )\r\n\t\t\tuserNames.push( incomingData[index].getUserFullName )\r\n\t\t\tdivisionNames.push( incomingData[index].inviteDivision )\r\n\t\t\ttargetRole.push( inviteType[ incomingData[index].targetRole ] )\r\n\t\t}\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tinviteIDList: idSet,\r\n\t\t\tinviteNamesList: divisionNames,\r\n\t\t\tinviteRolesList: targetRole,\r\n\t\t\t\r\n\t\t\tgetUserInvitesStatus:2,\r\n\t\t})\r\n\t}\r\n\tgetUserInvites = () => {\r\n\t\tAPIUserInvitesGet(  this.getUserInvitesSuccess, this.getUserInvitesFailure )\r\n\t\tthis.setState({\r\n\t\t\tgetUserInvitesStatus:1,\r\n\t\t})\r\n\t}\r\n\t\r\n\tinviteFailure = (responseData) => {\r\n\t\t//console.log(responseData)\r\n\t\tlet returnData = []\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.refreshToken(this.submitCode)\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\t\t\tfor (let index in responseData['messages']) {\r\n\t\t\t\tif (responseData['messages'][index]['mod'] === 5) {\r\n\t\t\t\t\t//userAlreadyErrorFlag = true\r\n\t\t\t\t}\r\n\t\t\t\telse if (responseData['messages'][index]['mod'] === 6) {\r\n\t\t\t\t\t//tokenErrorFlag = true\r\n\t\t\t\t} \r\n\t\t\t\telse if (responseData['messages'][index]['mod'] === 7) {\r\n\t\t\t\t\t//alreadyThereErrorFlag = true\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\t//unhandledErrorFlag = true\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t//returnData = responseData['messages']\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\treturnData = responseData['messages']\r\n\t\tthis.setState({\r\n\t\t\tsubmitCodeErrors: returnData,\r\n\t\t\tsubmitCodeStatus:3,\r\n\t\t})\r\n\t}\r\n\tinviteSuccess = (successCodes, successData) => {\r\n\t\tconsole.log(\"Invite Success\")\r\n\t\tthis.setState({\r\n\t\t\tsubmitCodeStatus:2,\r\n\t\t})\r\n\t}\r\n\tsubmitCode = () => {\r\n\t\t//console.log(this.state.inviteCode)\r\n\t\t//console.log(\"Submit\")\r\n\t\t\r\n\t\tAPIUserInviteCode(  this.state.inviteCode, this.inviteSuccess, this.inviteFailure )\r\n\t\tthis.setState({\r\n\t\t\tsubmitCodeStatus:1,\r\n\t\t})\r\n\t}\r\n\t\r\n\tspendInviteFailure = (responseData) => {\r\n\t\tlet returnData = []\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.refreshToken(this.baseTryAgain)\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\treturnData = responseData['messages']\r\n\t\t\r\n\t\tthis.getUserInvites()\r\n\t\tthis.props.triggerRefresh()\r\n\t\tthis.setState({\r\n\t\t\tspendInviteErrors: returnData,\r\n\t\t\tspendInviteStatus: 3,\r\n\t\t})\r\n\t}\r\n\tspendInviteSuccess = (successData) => {\r\n\t\t//console.log(\"Spend Invite Success\")\r\n\t\t//console.log(successData)\r\n\t\t\r\n\t\tthis.getUserInvites()\r\n\t\tthis.props.triggerRefresh()\r\n\t\tthis.setState({\r\n\t\t\tspendInviteStatus: 2,\r\n\t\t})\r\n\t}\r\n\tinviteYes = (event) => {\r\n\t\t//console.log(\"Accept\")\r\n\t\t\r\n\t\t// Lets do... 0 == Cancel\r\n\t\t// 1 == Accept\r\n\t\tlet action = 1\r\n\t\tlet targetInvite = event.target.value\r\n\t\tAPIUserInvitesSet(  targetInvite, action, this.spendInviteSuccess, this.spendInviteFailure )\r\n\t\tthis.setState({\r\n\t\t\tspendInviteStatus: 1,\r\n\t\t})\r\n\t}\r\n\tinviteNo = (event) => {\r\n\t\t//console.log(\"Deny\")\r\n\r\n\t\t// 0 == Cancel\r\n\t\t// 1 == Accept\r\n\t\tlet action = 0\r\n\t\tlet targetInvite = event.target.value\r\n\t\t\r\n\t\tAPIUserInvitesSet(  targetInvite, action, this.spendInviteSuccess, this.spendInviteFailure )\r\n\t\tthis.setState({\r\n\t\t\tspendInviteStatus: 1,\r\n\t\t})\r\n\t}\r\n\t\r\n\tcodeFieldChange = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tinviteCode: event.target.value,\r\n\t\t})\r\n\t}\r\n\t\r\n\tbaseTryAgain = () => {\r\n\t\tconsole.log(\"Put Some 'Uh Oh, try again' thing here\")\r\n\t}\r\n\t\r\n\trender() {\r\n\t\t//console.log(this.state.inviteNamesList)\r\n\t\t//console.log(this.state.inviteRolesList)\r\n\t\t\r\n\t\tlet displayWaiting = this.state.getUserInvitesStatus === 1 || this.state.spendInviteStatus === 1 || this.state.submitCodeStatus === 1\r\n\t\tlet displaySuccess = false//this.state.getUserInvitesStatus === 2 || this.state.spendInviteStatus === 2 || this.state.submitCodeStatus === 2\r\n\t\tlet displayErrors = this.state.getUserInvitesStatus === 3 || this.state.spendInviteStatus === 3 || this.state.submitCodeStatus === 3\r\n\t\t\r\n\t\tlet errorParse = []\r\n\t\tfor (let index in this.state.getUserInvitesErrors) {\r\n\t\t\terrorParse.push(\r\n\t\t\t\tthis.state.getUserInvitesErrors[index][\"text\"]\r\n\t\t\t)\r\n\t\t}\r\n\t\tfor (let index in this.state.submitCodeErrors) {\r\n\t\t\terrorParse.push(\r\n\t\t\t\tthis.state.submitCodeErrors[index][\"text\"]\r\n\t\t\t)\r\n\t\t}\r\n\t\tfor (let index in this.state.spendInviteErrors) {\r\n\t\t\terrorParse.push(\r\n\t\t\t\tthis.state.spendInviteErrors[index][\"text\"]\r\n\t\t\t)\r\n\t\t}\r\n\t\tif (errorParse.length === 0) {\r\n\t\t\terrorParse.push(\r\n\t\t\t\t\"Unknown!\"\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\tlet invitesDisplayList = []\r\n\t\tfor (let i in this.state.inviteNamesList) {\r\n\t\t\tlet extra = \"\"\r\n\t\t\tinvitesDisplayList.push(\r\n\t\t\t\t<li className={\"list-group-item d-flex justify-content-around\"+extra} key={i}>\r\n\t\t\t\t\t<div className=\"col alignOverride\">\r\n\t\t\t\t\t\t{this.state.inviteNamesList[i]}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col alignOverride\">\r\n\t\t\t\t\t\t{this.state.inviteRolesList[i]}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-2\">\r\n\t\t\t\t\t\t<button className=\"badge badge-success badge-pill\" value={this.state.inviteIDList[i]} onClick={this.inviteYes}>/</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-1\">\r\n\t\t\t\t\t\t<button className=\"badge badge-danger badge-pill\" value={this.state.inviteIDList[i]} onClick={this.inviteNo}>X</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t}\r\n\t\tif (this.state.inviteNamesList.length === 0) {\r\n\t\t\tinvitesDisplayList.push(\r\n\t\t\t\t<li className=\"list-group-item\" key={0}>\r\n\t\t\t\t\tNo Invites!\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className=\"userInvite\">\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card shadow\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<h5>Enter Invite Code</h5>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"list-group\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"list-group-item\">\r\n\t\t\t\t\t\t\t\t\t\t\t<input type='text' className='form-control' value={this.state.inviteCode} onChange={this.codeFieldChange} placeholder='Enter Code' />\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"list-group-item\">\r\n\t\t\t\t\t\t\t\t\t\t\t<button className=\"btn btn-primary\" onClick={this.submitCode}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card shadow\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<h5>Current Company Invites</h5>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t<ul className=\"list-group\">\r\n\t\t\t\t\t\t\t\t\t\t{/*Trying a non-table solution because of the buttons?*/}\r\n\t\t\t\t\t\t\t\t\t\t<li className=\"list-group-item\" key={-1}>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col alignOverride\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tDivision name\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col alignOverride\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tTarget Role\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t{invitesDisplayList}\r\n\t\t\t\t\t\t\t\t\t\t{/*\r\n\t\t\t\t\t\t\t\t\t\t<button className=\"btn btn-primary\" onClick={this.getUserInvites}>\r\n\t\t\t\t\t\t\t\t\t\t\tRe-Load Invites\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t*/}\r\n\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Alert show={displayWaiting} variant=\"warning\">\r\n\t\t\t\t\t\t<Alert.Heading>Waiting</Alert.Heading>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t  Waiting for response...\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Alert show={displaySuccess} variant=\"success\">\r\n\t\t\t\t\t\t<Alert.Heading>Success!</Alert.Heading>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t  Success!\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Alert show={displayErrors} variant=\"danger\">\r\n\t\t\t\t\t\t<Alert.Heading>Error!</Alert.Heading>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t{errorParse}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default withRouter(UserInvitePage);","import React from \"react\";\r\n//import ReactDOM from \"react-dom\";\r\nimport Graph from \"react-graph-vis\";\r\nimport { Alert } from 'react-bootstrap';\r\nimport { Accordion, Card } from 'react-bootstrap';\r\n\r\n//APIGetDivisionWebDates\r\nimport { APIGetUserWeb } from \"../../utils\";\r\nimport { convertScanToWidth, convertScanToColor, graphOptions } from \"../../utils\";\r\nimport { ShowWebInfoComponent } from \"../../utils\";\r\n\r\nimport Calendar from 'react-calendar'\r\nimport 'react-calendar/dist/Calendar.css';\r\n\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\n// How would these even work???\r\n//import \"./styles.css\";\r\n// need to import the vis network css in order to show tooltip\r\n//import \"./network.css\";\r\n\r\nconst GenerateTestInfo = () => {\r\n\t\r\n\tlet toSetList = []\r\n\t\r\n\tconst maxNodes = Math.floor(20*Math.random())\r\n\tfor (let i = 1; i < maxNodes; i++) {\r\n\t\ttoSetList.push(\r\n\t\t\t{\"dispName\":\"Other User \" + i, to:i, sentiment:2*Math.random()-1, freq:Math.random()*7}\r\n\t\t)\r\n\t}\r\n\t\r\n\tlet testInfo = [{\r\n\t\t'id':0,\r\n\t\t\"name\": \"This Users Name\",\r\n\t\t'isTracked': true,\r\n\t\t\r\n\t\t'toSet':toSetList,\r\n\t}]\r\n\t\r\n\treturn testInfo\r\n}\r\n\r\nclass UserWeb extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\t\t\t\r\n\t\t\tloadedDataDate: \"None\",\r\n\t\t\tloadedData: 0,\r\n\t\t\tgraphDataPrimary: this.GenerateGraph( [] ),\r\n\t\t\t\r\n\t\t\tselectedNodes: [\"None\"],\r\n\t\t\t\r\n\t\t\tgetWebStatus: 0,\r\n\t\t\tgetDatesWebStatus: 0,\r\n\t\t\tgetDatesWebError: [],\r\n\t\t\t\r\n\t\t\tselectedWebDay: new Date(),\r\n        };\r\n\t}\r\n\t\r\n\ttimedRefresh = () => {\r\n\t\t//console.log('Token Refreshed!');\r\n\t}\r\n\t\r\n\tGenerateGraph = (incomingData) => {\r\n\t\t\r\n\t\tlet trunMulti = 100\r\n\t\t\r\n\t\tlet defineGraph = {nodes:[], edges: []}\r\n\t\t\r\n\t\tfor (let index in incomingData) {\r\n\t\t\t\r\n\t\t\tlet borderColor = \"#000000\"\r\n\t\t\tlet backgroundColor = \"#FFF0F0\"\r\n\t\t\tif (incomingData[index][\"isTracked\"]) {\r\n\t\t\t\t//borderColor = \"#000000\"\r\n\t\t\t\tbackgroundColor = \"#FFFFFF\"\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tdefineGraph[\"nodes\"].push({ \r\n\t\t\t\tid: incomingData[index][\"id\"], \r\n\t\t\t\tlabel: incomingData[index][\"name\"],\r\n\t\t\t\t\r\n\t\t\t\tcolor: {\r\n\t\t\t\t\tborder:borderColor,\r\n\t\t\t\t\tbackground:backgroundColor,\r\n\t\t\t\t},\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\tfor (let indexTo in incomingData[index][\"toSet\"]) {\r\n\t\t\t\tdefineGraph[\"edges\"].push({ \r\n\t\t\t\t\tfrom: incomingData[index][\"id\"], \r\n\t\t\t\t\tto: incomingData[index][\"toSet\"][indexTo][\"to\"],\r\n\t\t\t\t\t\r\n\t\t\t\t\tlabel: (Math.floor(trunMulti*incomingData[index][\"toSet\"][indexTo][\"sentiment\"])/trunMulti).toString() + \", \" + Math.floor(incomingData[index][\"toSet\"][indexTo][\"freq\"]).toString(),\r\n\t\t\t\t\t\r\n\t\t\t\t\t// length: 1,\r\n\t\t\t\t\twidth: convertScanToWidth(incomingData[index][\"toSet\"][indexTo][\"freq\"]),\r\n\t\t\t\t\tcolor: convertScanToColor(incomingData[index][\"toSet\"][indexTo][\"sentiment\"]), \r\n\t\t\t\t\t\r\n\t\t\t\t\t//length: 400,\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\t// Check to see if we already have the node before we go in...\r\n\t\t\t\tlet sanityCheck = false\r\n\t\t\t\tfor (let j in defineGraph[\"nodes\"]) {\r\n\t\t\t\t\tif(defineGraph[\"nodes\"][j][\"id\"] === incomingData[index][\"toSet\"][indexTo][\"to\"]) {\r\n\t\t\t\t\t\tsanityCheck = true\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (sanityCheck) {\r\n\t\t\t\t\tcontinue\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tdefineGraph[\"nodes\"].push({ \r\n\t\t\t\t\tid: incomingData[index][\"toSet\"][indexTo][\"to\"], \r\n\t\t\t\t\tlabel: incomingData[index][\"toSet\"][indexTo][\"dispName\"],\r\n\t\t\t\t\t\r\n\t\t\t\t\tcolor: {\r\n\t\t\t\t\t\tborder:borderColor,\r\n\t\t\t\t\t\tbackground:\"#FFF0F0\",\r\n\t\t\t\t\t},\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn defineGraph\r\n\t}\r\n\t\r\n\tselectStuffPrimary = (event) => {\r\n\t\t//var { nodes, edges } = event;\r\n\t}\r\n\t\r\n\tgetUserWebFailure = (incomingError) => {\r\n\t\t//console.log(incomingError)\r\n\t\tif (incomingError['action'] ===\t 0) {\r\n\t\t\t//Network Error\r\n\t\t}\r\n\t\telse if (incomingError['action'] === 1) {\r\n\t\t\t//Unauthorized\r\n\t\t\tthis.props.refreshToken(this.getUserWebRecent)\r\n\t\t\treturn\r\n\t\t}\r\n\t\telse if (incomingError['action'] === 3) {\r\n\t\t\t// Obtain error!\r\n\t\t}\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tgetWebStatus: 3,\r\n\t\t\tgetDatesWebError: incomingError[\"messages\"],\r\n\t\t})\r\n\t}\r\n\tgetUserWebCallback = (incomingWeb) => {\r\n\t\tlet webThing = []\r\n\t\tif (incomingWeb.length > 0) {\r\n\t\t\t// There should ONLY BE 1\r\n\t\t\twebThing = incomingWeb[0][\"webStructure\"]\r\n\t\t}\r\n\t\t\r\n\t\tif (typeof(webThing) === 'object') {\r\n\t\t\twebThing = [webThing]\r\n\t\t}\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tloadedData: webThing.length,\r\n\t\t\tgraphDataPrimary: this.GenerateGraph( webThing ),\t\r\n\t\t\tloadedDataDate: \"Current\",\r\n\t\t\tgetWebStatus: 2,\r\n\t\t})\r\n\t}\r\n\tgetUserWebRecent = () => {\r\n\t\tif (!(this.props.currentDivisionID === -1)) {\r\n\t\t\tlet checkData = undefined\r\n\t\t\tif (checkData === undefined) {\r\n\t\t\t\t\r\n\t\t\t\t//console.log(\"Division Web was not in the cookies...\")\r\n\t\t\t\tAPIGetUserWeb( undefined, this.getUserWebCallback, this.getUserWebFailure)\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tgetWebStatus: 1,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t//this.getCompanyWebCallback(???)\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\t}\r\n\t}\r\n\t\r\n\tgetUserWebPreviousFailure = (incomingError) => {\r\n\t\t//console.log(incomingError)\r\n\t\tif (incomingError['action'] ===\t 0) {\r\n\t\t\t//Network Error\r\n\t\t}\r\n\t\telse if (incomingError['action'] === 1) {\r\n\t\t\t//Unauthorized\r\n\r\n\t\t\tthis.props.refreshToken(this.timedRefresh)\r\n\t\t\treturn\r\n\t\t}\r\n\t\telse if (incomingError['action'] === 3) {\r\n\t\t\t// Obtain error!\r\n\t\t}\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tgetWebStatus: 3,\r\n\t\t\tgetDatesWebError: incomingError[\"messages\"],\r\n\t\t})\r\n\t}\r\n\tgetUserWebPreviousCallback = (incomingWeb) => {\r\n\t\tlet webThing = []\r\n\t\tlet webDate = \"Unknown\"\r\n\t\tif (incomingWeb.length > 0) {\r\n\t\t\t// There should ONLY BE 1\r\n\t\t\twebThing = incomingWeb[0][\"webStructure\"]\r\n\t\t\twebDate = incomingWeb[0]['forDate']\r\n\t\t}\r\n\t\t\r\n\t\tif (typeof(webThing) === 'object') {\r\n\t\t\twebThing = [webThing]\r\n\t\t}\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tloadedData: incomingWeb.length,\r\n\t\t\tgraphDataPrimary: this.GenerateGraph( webThing ),\t\r\n\t\t\tloadedDataDate: webDate,\r\n\t\t\tgetWebStatus: 2,\r\n\t\t})\r\n\t}\r\n\tgetUserWebPrevious = (incomingDate) => {\r\n\t\tif (!(this.props.currentDivisionID === -1)) {\r\n\t\t\tlet checkData = undefined\r\n\t\t\tif (checkData === undefined) {\r\n\r\n\t\t\t\t//console.log(\"Division Web was not in the cookies...\")\r\n\t\t\t\tAPIGetUserWeb( incomingDate, this.getUserWebPreviousCallback, this.getUserWebPreviousFailure)\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tgetWebStatus: 1,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t//this.getCompanyWebPreviousCallback(???)\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\t}\r\n\t}\r\n\t\r\n\t// Will need to do a selected Date....\r\n\tpickDate = (selectedDate) => {\r\n\t\tthis.setState({\r\n\t\t\tselectedWebDay:selectedDate,\r\n\t\t})\r\n\t\t\r\n\t\tthis.getUserWebPrevious(selectedDate)\r\n\t}\r\n\t\r\n\tloadData = () => {\r\n\t\tconst dert = GenerateTestInfo()\r\n\t\t\r\n\t\t// If something, set to current, if not, set to the date?\r\n\t\tlet whenPicked = \"Current\"\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tloadedDataDate: whenPicked,\r\n\t\t\tloadedData: dert.length,\r\n\t\t\tgraphDataPrimary: this.GenerateGraph( dert ),\r\n\t\t})\r\n\t}\r\n\t\r\n\trender() {\r\n\t\t\r\n\t\tconst tileClassName = ({ date, view }) => {\r\n\t\r\n\t\t\tlet hasWeb = false\r\n\t\t\t\r\n\t\t\tlet year = String( date.getFullYear() )\r\n\t\t\tlet month =\tString( date.getMonth()+1 )\r\n\r\n\t\t\tif (month < 10) {\r\n\t\t\t\tmonth = \"0\"+month\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tlet day = String(date.getDate())\r\n\t\t\tif (day < 10) {\r\n\t\t\t\tday = \"0\"+day\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tconst checkDate = year+\"-\"+month+\"-\"+day\r\n\t\t\r\n\t\t\t// Add class to tiles in month view only\r\n\t\t\tif (view === 'month') {\r\n\t\t\t\t// Check if a date React-Calendar wants to check is on the list of dates to add class to\r\n\t\t\t\ttry {\r\n\t\t\t\t\thasWeb = this.props.validUserWebDates.find( element => element['forDate'] === checkDate)\r\n\t\t\t\t}\r\n\t\t\t\tcatch {\r\n\t\t\t\t\t// This should trigger if DAY is not in the validSummaryDates\r\n\t\t\t\t\t// Basically just skipping it\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (hasWeb) {\r\n\t\t\t\treturn 'btn btn-success'\r\n\t\t\t} else {\r\n\t\t\t\t//return 'btn btn-outline-dark'\r\n\t\t\t}\r\n\t\t\t\t\r\n\t\t}\r\n\r\n\t\tconst eventsPrimary = {\r\n\t\t\tselect: this.selectStuffPrimary,\r\n\t\t};\r\n\t\t\r\n\t\tlet show0 = this.state.getWebStatus === 0\r\n\t\tlet show1 = this.state.getWebStatus === 1\r\n\t\tlet show2 = this.state.getWebStatus === 2\r\n\t\tlet show3 = this.state.getWebStatus === 3\r\n\t\t\r\n\t\tlet displayMessage = \"Showing Current Web\" \r\n\t\tif (this.state.loadedDataDate === \"None\") {\r\n\t\t\tdisplayMessage = \"No Data!\"\r\n\t\t}\r\n\t\telse if (this.state.loadedDataDate !== \"Current\") {\r\n\t\t\tdisplayMessage = \"Showing Legacy Web From: \" + this.state.loadedDataDate\r\n\t\t}\r\n\t\r\n\t\tlet showError = []\r\n\t\tfor (let index in this.state.getDatesWebError) {\r\n\t\t\tshowError.push(\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{this.state.getDatesWebError[index][\"text\"]}\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t\t\r\n\t\t}\r\n\t\r\n\t\treturn (\r\n\t\t\t<div className=\"UserWebStuff bg-secondary\">\r\n\t\t\t\r\n\t\t\t\t<div className=\"container bg-light border\">\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<button className=\"btn btn-secondary\" onClick={this.loadData}>\r\n\t\t\t\t\t\t\t\tLoad Example Data\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button className=\"btn btn-dark\" onClick={this.getUserWebRecent}>\r\n\t\t\t\t\t\t\t\tLoad Most Recent Web From Server\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<Accordion>\r\n\t\t\t\t\t\t\t\t<Accordion.Toggle as={Card.Header} className=\"border\" variant=\"link\" eventKey=\"open\">\r\n\t\t\t\t\t\t\t\t\tGet a Previous Web\r\n\t\t\t\t\t\t\t\t</Accordion.Toggle>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey=\"open\">\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Calendar \r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.pickDate}\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.selectedWebDay}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttileClassName={tileClassName}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\tminDetail={'year'}\r\n\t\t\t\t\t\t\t\t\t\t\t\tmaxDetail={'month'}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</Accordion.Collapse>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Accordion>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"border\">\r\n\t\t\t\t\t\t{this.state.loadedData === 0 ?\r\n\t\t\t\t\t\t\t<div className=\"row my-5\">\r\n\t\t\t\t\t\t\t\t{show0 && <div className=\"col\">Waiting for signal to get data</div>}\r\n\t\t\t\t\t\t\t\t{show1 && <div className=\"col\">Getting Data...</div>}\r\n\t\t\t\t\t\t\t\t{show2 && <div className=\"col\">Server reported no web!</div>}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\t<u>{displayMessage}</u>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<Graph\r\n\t\t\t\t\t\t\t\t\t\tgraph={this.state.graphDataPrimary}\r\n\t\t\t\t\t\t\t\t\t\toptions={graphOptions}\r\n\t\t\t\t\t\t\t\t\t\tevents={eventsPrimary}\r\n\t\t\t\t\t\t\t\t\t\tgetNetwork={network => {\r\n\t\t\t\t\t\t\t\t\t\t\t//  if you want access to vis.js network api you can set the state in a parent component using this property\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<ShowWebInfoComponent/>\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<Alert show={show1} variant=\"warning\">\r\n\t\t\t\t\t<Alert.Heading>Waiting</Alert.Heading>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t  Waiting for server...\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t</Alert>\r\n\t\t\t\t\r\n\t\t\t\t<Alert show={show3} variant=\"danger\">\r\n\t\t\t\t\t<Alert.Heading>Error!</Alert.Heading>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t{showError}\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t</Alert>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(UserWeb);","import React from \"react\";\r\n\r\n// Link,\r\nimport { withRouter, Route, Switch } from \"react-router-dom\";\r\n//import { ButtonGroup, ToggleButton } from 'react-bootstrap';\r\n//import { Alert } from 'react-bootstrap';\r\nimport { APISaveSuggestion, APIGetJournalData, APIGetNonJournalData } from \"../utils\";\r\nimport { EditorState, convertToRaw } from 'draft-js';\r\n//convertFromRaw\r\n\r\n//import { Justify } from 'react-bootstrap-icons';\r\n\r\n//SetCompany\r\nimport {UserProfile, UserSecurity, UserInvite, ViewJournals, WriteJournals, WriteSuggestion, UserWeb} from \"./userPages\"\r\n\r\n\r\nconst DefaultView = (props) => {\r\n\r\n\treturn (\r\n\t\t<div className=\"defaultView\">\r\n\t\t\t<h3>\r\n\t\t\t\t404! You have selected and invalid page\r\n\t\t\t</h3>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\n// This needs to be changed out as this is now in 2 files....\r\n\r\nclass ContentPages extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\t\t\tselectedJournalDate: new Date(),\r\n\t\t\t\r\n\t\t\tselectedJournalViewDiv: 0,\r\n\t\t\t\r\n\t\t\tjournalValidPrompts: [],\r\n\t\t\t\r\n\t\t\tjournalMessage: \"Choose a date to view the journal!\",\r\n\t\t\tjournalContent: \"Waiting for content...\",\r\n\t\t\t\r\n\t\t\tviewJournalData: [],\r\n\t\t\tviewNonJournalData: [],\r\n\t\t\t\r\n\t\t\tsuggestionEditorState: EditorState.createEmpty(),\r\n\t\t\tsuggestionErrors: [],\r\n\r\n\t\t\tjournalViewErrors: [],\r\n\t\t\tnonJournalViewErrors: [],\r\n\t\t\tjournalPromptsErrors: [],\r\n\t\t\t\r\n\t\t\tcurrentSuggestionDivision: this.initializeSuggestionDivision(),\r\n\r\n\t\t\tpostSuggestionStatus: 0,\r\n\t\t\tpickJournalCalenderDateStatus: 0,\r\n\t\t\tpickNonJournalCalenderDateStatus: 0,\r\n\t\t\t\r\n        };\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tthis.props.activateUserMenu(1)\r\n\t};\r\n\tcomponentWillUnmount() {\r\n\t\tthis.props.disableMenu()\r\n\t}\r\n\t\r\n\tinitializeSuggestionDivision = () => {\r\n\t\t\r\n\t\tlet generatingList = []\r\n\t\tfor (let index in this.props.userLoadedCompanyList) {\r\n\t\t\t\r\n\t\t\tlet permType = -1\r\n\t\t\tfor (let permIndex in this.props.userLoadedCompanyList[index][\"perm\"]) {\r\n\t\t\t\tif (this.props.userLoadedCompanyList[index][\"perm\"][permIndex] === 3) {\r\n\t\t\t\t\t//console.log(\"Is Admin\")\r\n\t\t\t\t\t// Set the thing to admin no matter what\r\n\t\t\t\t\tpermType = 3\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (permType >= 0 && permType < 4) {\r\n\t\t\t\tgeneratingList.push( this.props.userLoadedCompanyList[index] )\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif (generatingList.length === 1) {\r\n\t\t\treturn generatingList[0][\"id\"]\r\n\t\t}\r\n\t\t\r\n\t\treturn -1\r\n\t}\r\n\r\n\tchangeSuggestionContent = (incomingState) => {\r\n\t\t//console.log(incomingState)\r\n\t\tthis.setState({\r\n\t\t\tsuggestionEditorState:incomingState,\r\n\t\t})\t\r\n\t}\r\n\t\r\n\t// Posting the Suggestion...\r\n\tsuggestionPostFailureCallback = (responseData) => {\r\n\t\tlet returnData = []\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.refreshToken(this.postSuggestion)\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\treturnData = responseData['messages']\r\n\t\tthis.setState({\r\n\t\t\tsuggestionErrors: returnData,\r\n\t\t\tpostSuggestionStatus:3,\r\n\t\t})\r\n\t}\r\n\tsuggestionPostCallback = (incomingStuff) => {\r\n\t\t// Set something to notify user....\r\n\t\tthis.setState({\r\n\t\t\tsuggestionErrors: [],\r\n\t\t\tpostSuggestionStatus:2,\r\n\t\t})\r\n\t}\r\n\tpostSuggestion = () => {\r\n\t\t// This may need to be overridden?\r\n\t\tlet inputDate = this.props.currentDate\r\n\t\tlet suggestionContent = this.state.suggestionEditorState.getCurrentContent().getPlainText()\r\n\t\tlet richContent = convertToRaw(this.state.suggestionEditorState.getCurrentContent())\r\n\t\tlet targetDivision = this.state.currentSuggestionDivision\r\n\t\t\r\n\t\t//console.log(targetDivision)\r\n\t\t\r\n\t\tif (!(targetDivision === -1)) {\r\n\t\t\tAPISaveSuggestion( inputDate, targetDivision, suggestionContent, richContent, this.suggestionPostCallback, this.suggestionPostFailureCallback)\r\n\t\t\tthis.setState({\r\n\t\t\t\tpostSuggestionStatus:1,\r\n\t\t\t})\r\n\t\t}\r\n\t\telse {\r\n\t\t\tconsole.log(\"Not allowed!\")\r\n\t\t\t// Just in case I should be able to get this from the server as well...\r\n\t\t\tthis.setState({\r\n\t\t\t\tsuggestionErrors: [ \"You need to select a company!\" ]\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\t\r\n\trefreshCompleted = () => {\r\n\t\tconsole.log(\"Put a Please Try again thing on the UI\")\r\n\t}\r\n\t\r\n\tjournalDataFailure = (responseData) => {\r\n\t\tlet returnData = []\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.refreshToken(this.refreshCompleted)\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\treturnData = responseData['messages']\r\n\t\tthis.setState({\r\n\t\t\tjournalViewErrors: returnData,\r\n\t\t\tpickJournalCalenderDateStatus:3,\r\n\t\t})\r\n\t}\r\n\tjournalDataCallback = (incomingFullData) => {\r\n\r\n\t\tthis.setState({\r\n\t\t\tviewJournalData: incomingFullData,\r\n\t\t\t\r\n\t\t\tpickJournalCalenderDateStatus:2,\r\n\t\t})\r\n\t}\r\n\tnonJournalDataFailure = (responseData) => {\r\n\t\tlet returnData = responseData['messages']\r\n\t\t\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\r\n\t\t}\t\t\r\n\t\t// Unauthorized\r\n\t\t\r\n\t\t// So, this is inefficient... Refactor this!\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.refreshToken(this.refreshCompleted)\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tnonJournalViewErrors: returnData,\r\n\t\t\tpickNonJournalCalenderDateStatus:3,\r\n\t\t})\r\n\t}\r\n\tnonJournalDataCallback = (incomingNonJournalData) => {\r\n\r\n\t\tthis.setState({\r\n\t\t\t//journalMessage: \"Showing Journal Entry for: \" + this.state.selectedJournalDate.toString(),\r\n\t\t\t\r\n\t\t\tviewNonJournalData: incomingNonJournalData,\r\n\t\t\t\r\n\t\t\tpickNonJournalCalenderDateStatus:2,\r\n\t\t})\r\n\t}\r\n\tpickJournalCalenderDate = (selectedDate) => {\r\n\t\tthis.setState({\r\n\t\t\tselectedJournalDate:selectedDate\r\n\t\t})\r\n\t\t\r\n\t\t// THIS data should not be old\r\n\t\t// But if I DO save the block data, this may get real hairy storage wise...\r\n\t\tlet checkData = undefined//Store.get(this.props.currentUser+\"-Journal-\"+selectedDate)\r\n\t\tif (checkData === undefined) {\r\n\t\t\t//console.log(\"Not in the cookies!\")\r\n\t\t\t\r\n\t\t\t// Perhaps I can find a good merge....\r\n\t\t\t// Both solutions I have thought of do not seem good enough yet....\r\n\t\t\tAPIGetJournalData( selectedDate, this.journalDataCallback, this.journalDataFailure)\r\n\t\t\tAPIGetNonJournalData( selectedDate, this.nonJournalDataCallback, this.nonJournalDataFailure)\r\n\t\t\tthis.setState({\r\n\t\t\t\tpickJournalCalenderDateStatus:1,\r\n\t\t\t\tpickNonJournalCalenderDateStatus:1,\r\n\t\t\t\t\r\n\t\t\t\tviewJournalData: [],\r\n\t\t\t\tviewNonJournalData: [],\r\n\t\t\t})\r\n\t\t}\r\n\t\telse {\r\n\t\t\t//this.journalDataCallback(checkData.journalContent, checkData.AIData)\r\n\t\t}\r\n\t}\r\n\t\r\n\tsetSuggestionDivision = (targetDivision) => {\r\n\t\tthis.setState({\r\n\t\t\tcurrentSuggestionDivision:targetDivision,\r\n\t\t})\r\n\t}\r\n\t\r\n\tchangeSelectedJournalViewDiv = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tselectedJournalViewDiv: event.target.value,\r\n\t\t})\r\n\t}\r\n\t\r\n\t// Rendering this with Bootstrap React.... To see if there is anything really interesting I can do with it\r\n\t// So far it doesnt look all that different \r\n\trender() {\r\n\t\t\r\n\t\tlet errorParse = []\r\n\t\tfor (let index in this.state.journalPromptsErrors) {\r\n\t\t\terrorParse.push(\r\n\t\t\t\tthis.state.journalPromptsErrors[index][\"text\"]\r\n\t\t\t)\r\n\t\t}\r\n\t\tif (errorParse.length === 0) {\r\n\t\t\terrorParse.push(\r\n\t\t\t\t\"Unknown!\"\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className=\"contentPages\">\r\n\t\t\t\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t{/*Entire thing...*/}\r\n\t\t\t\t\t<div className=\"row m-1 my-5\">\r\n\t\t\t\t\t\t{/*Content for the everything....*/}\r\n\t\t\t\t\t\t<div className=\"col m-1\">\r\n\t\t\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t\t\t<Route path={this.props.match.url+\"/journalWrite\"} component={() => <WriteJournals\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\trefreshToken={this.props.refreshToken}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tcurrentDate={this.props.currentDate}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tpromptList={this.props.journalValidPrompts}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tnonJournalPromptsDone={this.props.validNonJournalDates}\r\n\t\t\t\t\t\t\t\t\t\tjournalPromptsDone={this.props.validJournalDates}\r\n\t\t\t\t\t\t\t\t\t\tjournalScanPromptsDone={this.props.validJournalScanDates}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tcurrentUser={this.props.currentUser}\r\n\t\t\t\t\t\t\t\t\t/>} \r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Route path={this.props.match.url+\"/journalRead\"} component={() => <ViewJournals\r\n\t\t\t\t\t\t\t\t\t\tcurrentDate={this.state.selectedJournalDate}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tviewJournalData={this.state.viewJournalData}\r\n\t\t\t\t\t\t\t\t\t\tviewNonJournalData={this.state.viewNonJournalData}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tvalidNonJournalDates={this.props.validNonJournalDates}\r\n\t\t\t\t\t\t\t\t\t\tvalidJournalDates={this.props.validJournalDates}\r\n\t\t\t\t\t\t\t\t\t\tvalidJournalScanDates={this.props.validJournalScanDates}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tpickDate={this.pickJournalCalenderDate}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tselectedJournalViewDiv={this.state.selectedJournalViewDiv}\r\n\t\t\t\t\t\t\t\t\t\tchangeSelectedJournalViewDiv={this.changeSelectedJournalViewDiv}\r\n\r\n\t\t\t\t\t\t\t\t\t\tjournalViewErrors={this.state.journalViewErrors}\r\n\t\t\t\t\t\t\t\t\t\tnonJournalViewErrors={this.state.nonJournalViewErrors}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tpickJournalCalenderDateStatus={this.state.pickJournalCalenderDateStatus}\r\n\t\t\t\t\t\t\t\t\t\tpickNonJournalCalenderDateStatus={this.state.pickNonJournalCalenderDateStatus}\r\n\t\t\t\t\t\t\t\t\t/>} \r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Route path={this.props.match.url+\"/writeSuggestion\"} component={() => <WriteSuggestion\r\n\r\n\t\t\t\t\t\t\t\t\t\tuserLoadedCompanyList={this.props.userLoadedCompanyList}\r\n\t\t\t\t\t\t\t\t\t\tlastRequestStatus={this.props.lastGovernedCompanyRequestStatus}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tsetSuggestionDivision={this.setSuggestionDivision}\r\n\t\t\t\t\t\t\t\t\t\tcurrentDivisionID={this.state.currentSuggestionDivision}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.changeSuggestionContent}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\teditorState={this.state.suggestionEditorState}\r\n\t\t\t\t\t\t\t\t\t\tsaveToServer={this.postSuggestion}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tsuggestionErrors={this.state.suggestionErrors}\r\n\t\t\t\t\t\t\t\t\t\tpostSuggestionStatus={this.state.postSuggestionStatus}\r\n\t\t\t\t\t\t\t\t\t/>} \r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Route path={this.props.match.url+\"/userPermissions\"} component={() => <UserProfile\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tcurrentUser={this.props.currentUser}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tuserLoadedCompanyList={this.props.userLoadedCompanyList}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\ttriggerRefresh={this.props.loadCompanyData}\r\n\t\t\t\t\t\t\t\t\t\trefreshToken={this.props.refreshToken}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t/>} \r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Route path={this.props.match.url+\"/userSecurity\"} component={() => <UserSecurity\r\n\t\t\t\t\t\t\t\t\t\trefreshToken={this.props.refreshToken}\r\n\t\t\t\t\t\t\t\t\t/>} \r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Route path={this.props.match.url+\"/userInvite\"} component={() => <UserInvite\r\n\t\t\t\t\t\t\t\t\t\ttriggerRefresh={this.props.loadCompanyData}\r\n\t\t\t\t\t\t\t\t\t\trefreshToken={this.props.refreshToken}\r\n\t\t\t\t\t\t\t\t\t/>} \r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Route path={this.props.match.url+\"/userWeb\"} component={() => <UserWeb\r\n\t\t\t\t\t\t\t\t\t\ttriggerRefresh={this.props.loadCompanyData}\r\n\t\t\t\t\t\t\t\t\t\trefreshToken={this.props.refreshToken}\r\n\t\t\t\t\t\t\t\t\t\tvalidUserWebDates = {this.props.validUserWebDates}\r\n\t\t\t\t\t\t\t\t\t/>} \r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Route path={this.props.match.url+\"/\"} component={() => <DefaultView\r\n\t\t\t\t\t\t\t\t\t/>} \r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Switch>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(ContentPages);","import React from \"react\";\r\n\r\nimport { ButtonGroup, ToggleButton } from 'react-bootstrap';\r\n//import { ProgressBar } from 'react-bootstrap';\r\n\r\nimport { withRouter, } from \"react-router-dom\";\r\n\r\nimport { Line } from 'react-chartjs-2';\r\nimport { arbitraryLineData } from '../../utils';\r\nimport { arbitraryLineOptions } from '../../utils';\r\n\r\n// Test Data crap from that utils...\r\n//import { generateTestEHIX, generateTestEHIY } from '../utils';\r\n\r\nclass StyleButton extends React.Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.onToggle = (e) => {\r\n\t\t\te.preventDefault();\r\n\t\t\tthis.props.onToggle(this.props.value);\r\n\t\t};\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet className = 'btn btn-outline-primary';\r\n\t\tif (this.props.active) {\r\n\t\t\tclassName += ' active';\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<button className={className} onClick={this.onToggle}>\r\n\t\t\t\t{this.props.label}\r\n\t\t\t</button>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n// Hm, this may be okay? The value should be its index...?\r\nconst historyGraphTimings = [\r\n\t{label:'Max', value:0, dayLength:0, weekLength:0},\r\n\t{label:'1Year', value:1, dayLength:365, weekLength:52},\r\n\t{label:'6Months', value:2, dayLength:183, weekLength:28},\r\n\t{label:'3Months', value:3, dayLength:63, weekLength:13},\r\n\t{label:'1Months', value:4, dayLength:31,  weekLength:4},\r\n\t{label:'1Week', value:5, dayLength:7, weekLength:1},\r\n];\r\n\r\nconst GraphTimingButtons = (props) => {\r\n\tconst currentDisplay = props.graphState;\r\n\t\r\n\treturn (\r\n\t\t<div className=\"EHIControls\">\r\n\t\t\t{historyGraphTimings.map((type) =>\r\n\t\t\t\t<StyleButton\r\n\t\t\t\t\tkey={type.label}\r\n\t\t\t\t\tactive={currentDisplay === type.value}\r\n\t\t\t\t\tlabel={type.label}\r\n\t\t\t\t\tonToggle={props.onToggle}\r\n\t\t\t\t\tvalue={type.value}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\n\r\n// This will show the EHI in chart form...\r\nconst EHIDisplay = (props) => {\r\n\t\r\n\tconst currentTimeIndex = props.timeIndex\r\n\t\r\n\tlet timescaleList = []\r\n\tlet promptList = []\r\n\tfor (let key in props.EHIData) {\r\n\t\t// Name should be changed for later....\r\n\t\tpromptList.push( {name:key, value:key} )\r\n\t}\r\n\t\r\n\tif (promptList.length === 0) {\r\n\t\tpromptList.push( {name:\"No Prompts!\", value:\"none\"} )\r\n\t}\r\n\t\r\n\tconst usedPrompt = props.EHIselectedPrompt\r\n\tconst usedTimescale = props.EHIselectedTimescale\r\n\t\r\n\tlet dataSet = []\r\n\tif (!(props.EHIData[usedPrompt] === undefined)) {\r\n\t\t\r\n\t\tfor (let timescale in props.EHIData[usedPrompt]) {\r\n\t\t\t// Name should be changed for later....\r\n\t\t\ttimescaleList.push( {name:timescale, value:timescale} )\r\n\t\t}\r\n\t\t\r\n\t\tif (!(props.EHIData[usedPrompt][usedTimescale] === undefined)) {\r\n\t\t\tdataSet = props.EHIData[usedPrompt][usedTimescale]\r\n\t\t}\r\n\t}\r\n\t\r\n\tif (timescaleList.length === 0) {\r\n\t\ttimescaleList.push( {name:\"Nothing to select!\", value:\"none\"} )\r\n\t}\r\n\t\r\n\tconst dataLabels = []\r\n\tconst dataData = []\r\n\t\r\n\tlet lineOptions = arbitraryLineOptions()\r\n\tlet lineData = arbitraryLineData([], [[]])\r\n\t// Redefine this down here so that I can reorganize the above stuff...\r\n\tif (!(dataSet === undefined)) {\r\n\t\tfor (let timecode in dataSet) {\r\n\t\t\tdataLabels.push(timecode)\r\n\t\t\tdataData.push(dataSet[timecode])\r\n\t\t}\r\n\t\t\r\n\t\tlet dayCount = historyGraphTimings[currentTimeIndex].dayLength\r\n\t\tif (dayCount === 0) {\r\n\t\t\tdayCount = dataLabels.length\r\n\t\t}\r\n\t\t\r\n\t\tlet ehiDaysLabels = dataLabels.slice(-dayCount)\r\n\t\tlet ehiDaysData = {\r\n\t\t\tlabel:\"EHI index\",\r\n\t\t\t// May not have to slice the second time?\r\n\t\t\tdata:dataData.slice(-dayCount)\r\n\t\t}\r\n\t\t\r\n\t\tlineData = arbitraryLineData(ehiDaysLabels, [ehiDaysData])\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"EHIDisplay\">\r\n\t\t\t<div className=\"container-fluid\">\r\n\t\t\t\t\r\n\t\t\t\t<div className=\"row m-1\">\r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t<div className=\"card shadow\">\r\n\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\tEHI Controls V1\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<div className=\"row m-2\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t<ButtonGroup toggle>\r\n\t\t\t\t\t\t\t\t\t\t\t{promptList.map((radio, idx) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<ToggleButton\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey={idx}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"radio\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"radio\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={radio.value}\r\n\t\t\t\t\t\t\t\t\t\t\t\tchecked={usedPrompt === radio.value}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={props.EHISetPrompt}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{radio.name}\r\n\t\t\t\t\t\t\t\t\t\t\t</ToggleButton>\r\n\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t</ButtonGroup>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<div className=\"row m-2\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t<ButtonGroup toggle>\r\n\t\t\t\t\t\t\t\t\t\t\t{timescaleList.map((radio, idx) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<ToggleButton\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey={idx}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"radio\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"radio\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={radio.value}\r\n\t\t\t\t\t\t\t\t\t\t\t\tchecked={usedTimescale === radio.value}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={props.EHISetTimescale}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{radio.name}\r\n\t\t\t\t\t\t\t\t\t\t\t</ToggleButton>\r\n\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t</ButtonGroup>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\r\n\t\t\t\t<div className=\"row m-1\">\r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<div className=\"card shadow\">\r\n\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<i><b>\r\n\t\t\t\t\t\t\t\t\t\tEmployee Health Index:\r\n\t\t\t\t\t\t\t\t\t</b></i>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\tPrompt: {usedPrompt}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\tScale: {usedTimescale}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t<Line\r\n\t\t\t\t\t\t\t\t\tdata={lineData} \r\n\t\t\t\t\t\t\t\t\toptions={lineOptions}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<GraphTimingButtons\r\n\t\t\t\t\t\t\t\t\tgraphState={currentTimeIndex}\r\n\t\t\t\t\t\t\t\t\tonToggle={props.EHITimeToggle}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default withRouter(EHIDisplay);","import React from \"react\";\r\n\r\nimport { APIDivisionInvitesCreate, APIDivisionInvitesSet, APIDivisionSettingsGet, APIDivisionInvitesGet } from \"../../utils\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { Alert } from 'react-bootstrap';\r\n\r\nconst inviteType = ['Invalid', 'Admin', 'Allowed to View', 'Governed User']\r\n\r\nclass CompanyInvites extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\t\r\n\t\t\t// Because these are in here, these are NOT SAVED!\r\n\t\t\tinviteCode: \"No Data\",\r\n\t\t\t\r\n\t\t\t// These should be fine to keep this way...\r\n\t\t\ttargetUser: \"\",\r\n\t\t\ttargetRole: \"\",\r\n\t\t\t\r\n\t\t\tinviteIDList: [],\r\n\t\t\tinviteNamesList: [],\r\n\t\t\tinviteRolesList: [],\r\n\t\t\t\r\n\t\t\tcompanyFullName: \"No Data\",\r\n\t\t\tdivisionName: \"No Data\",\r\n\t\t\t\r\n\t\t\tgetDivisionDataStatus: 0,\r\n\t\t\tgetDivisionDataError: [],\r\n\t\t\tgetInvitesStatus: 0,\r\n\t\t\tgetInvitesError: [],\r\n\t\t\t\r\n\t\t\tcreateInvitesStatus: 0,\r\n\t\t\tcreateInvitesError: [],\r\n\t\t\tuseInvitesStatus: 0,\r\n\t\t\tuseInvitesError: [],\r\n\t\t}\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tthis.tiggerReload()\r\n\t};\r\n\t\r\n\ttiggerReload = () => {\r\n\t\tthis.getDivisionData()\r\n\t\tthis.getDivisionsInvites()\r\n\t}\r\n\t\r\n\tgetFailure = (responseData) => {\r\n\t\tlet returnData = []\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.refreshToken(this.getDivisionData)\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\treturnData = responseData['messages']\r\n\t\tthis.setState({\r\n\t\t\tgetDivisionDataError: returnData,\r\n\t\t\tgetDivisionDataStatus: 3,\r\n\t\t})\r\n\t}\r\n\tgetSuccess = (successData) => {\r\n\t\t//console.log(\"Get Data Success\")\r\n\t\tthis.setState({\r\n\t\t\tcompanyFullName: successData[\"fullPathName\"],\r\n\t\t\tdivisionName: successData[\"divisionName\"],\r\n\t\t\tinviteCode: successData[\"inviteCode\"],\r\n\t\t\t\r\n\t\t\tgetDivisionDataStatus: 2,\r\n\t\t})\r\n\t}\r\n\tgetDivisionData = () => {\r\n\t\t// Verify that the division is valid?\r\n\t\tif (this.props.currentDivisionID >= 0) {\r\n\t\t\tlet checkData = undefined//Store.get(props.currentDivisionID+\"-Data\")\r\n\t\t\tif (checkData === undefined) {\r\n\t\t\t\t//console.log(\"Requesting Division Data From Server...\")\r\n\t\t\t\tAPIDivisionSettingsGet(  this.props.currentDivisionID, this.getSuccess, this.getFailure )\r\n\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tgetDivisionDataStatus: 1,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tconsole.log(\"Data will do here...\")\r\n\t\t\t\tthis.getSuccess(checkData)\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\t\r\n\tgetInvitesFailure = (responseData) => {\r\n\t\tlet returnData = []\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.refreshToken(this.getDivisionsInvites)\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\treturnData = responseData['messages']\r\n\t\tthis.setState({\r\n\t\t\tgetInvitesStatus: 3,\r\n\t\t\tgetInvitesError: returnData,\r\n\t\t})\r\n\t}\r\n\tgetInvitesSuccess = (successData) => {\r\n\t\t//console.log(\"Get Invites Success\")\r\n\t\t//Store.set(props.currentDivisionID+\"-Invites\", successData)\r\n\r\n\t\tlet IDList = []\r\n\t\tlet nameList = []\r\n\t\tlet roleList = []\r\n\t\t\r\n\t\tfor (let i in successData) {\r\n\t\t\t// This.... doesnt seem secure enough...\r\n\t\t\tIDList.push( successData[i][\"id\"] )\r\n\t\t\tnameList.push( successData[i][\"getUserFullName\"] )\r\n\t\t\troleList.push( inviteType[successData[i][\"targetRole\"]] )\r\n\t\t}\r\n\t\tthis.setState({\r\n\t\t\tinviteIDList: IDList,\r\n\t\t\tinviteNamesList: nameList,\r\n\t\t\tinviteRolesList: roleList,\r\n\t\t\t\r\n\t\t\tgetInvitesStatus: 2,\r\n\t\t})\r\n\t}\r\n\tgetDivisionsInvites = () => {\r\n\t\tif (this.props.currentDivisionID >= 0) {\r\n\t\t\tlet checkData = undefined//Store.get(props.currentDivisionID+\"-Invites\")\r\n\t\t\tif (checkData === undefined) {\r\n\t\t\t\tAPIDivisionInvitesGet(  this.props.currentDivisionID, this.getInvitesSuccess, this.getInvitesFailure )\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tgetInvitesStatus: 1,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tconsole.log(\"Data will do here...\")\r\n\t\t\t\tthis.getInvitesSuccess(checkData)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tinviteFailure = (responseData) => {\r\n\t\tlet returnData = []\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.refreshToken(this.tokenHasRefreshed)\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\treturnData = responseData['messages']\r\n\t\tthis.setState({\r\n\t\t\tcreateInvitesStatus: 3,\r\n\t\t\tcreateInvitesError: returnData,\r\n\t\t})\r\n\t}\r\n\tinviteSuccess = (successData) => {\r\n\t\tconsole.log(\"Create Invite Success\")\r\n\t\tconsole.log(successData)\r\n\t\tthis.setState({\r\n\t\t\tcreateInvitesStatus: 2,\r\n\t\t})\r\n\t}\r\n\tinviteUser = (event) => {\r\n\t\tconsole.log(\"Send Invite\")\r\n\t\t\r\n\t\tAPIDivisionInvitesCreate(  this.props.currentDivisionID, this.state.targetUser, this.state.targetRole, this.inviteSuccess, this.inviteFailure )\r\n\t\tthis.setState({\r\n\t\t\tcreateInvitesStatus: 1,\r\n\t\t})\r\n\t}\r\n\t\r\n\tspendInviteFailure = (responseData) => {\r\n\t\tlet returnData = []\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.refreshToken(this.tokenHasRefreshed)\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\treturnData = responseData['messages']\r\n\t\tthis.setState({\r\n\t\t\tuseInvitesStatus: 3,\r\n\t\t\tuseInvitesError: returnData,\r\n\t\t})\r\n\t\t\r\n\t\tthis.getDivisionsInvites()\r\n\t}\r\n\tspendInviteSuccess = (successData) => {\r\n\t\tconsole.log(\"Spend Invite Success\")\r\n\t\tconsole.log(successData)\r\n\t\t\r\n\t\tthis.tiggerReload()\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tuseInvitesStatus: 2,\r\n\t\t})\r\n\t}\r\n\tinviteYes = (event) => {\r\n\t\tconsole.log(\"Accept\")\r\n\t\t\r\n\t\t// Lets do... 0 == Cancel\r\n\t\t// 1 == Accept\r\n\t\tlet action = 1\r\n\t\tlet targetInvite = event.target.value\r\n\t\tAPIDivisionInvitesSet(  this.props.currentDivisionID, targetInvite, action, this.spendInviteSuccess, this.spendInviteFailure )\r\n\t\tthis.setState({\r\n\t\t\tuseInvitesStatus: 1,\r\n\t\t})\r\n\t}\r\n\tinviteNo = (event) => {\r\n\t\tconsole.log(\"Deny\")\r\n\r\n\t\t// 0 == Cancel\r\n\t\t// 1 == Accept\r\n\t\tlet action = 0\r\n\t\tlet targetInvite = event.target.value\r\n\t\t\r\n\t\tAPIDivisionInvitesSet(  this.props.currentDivisionID, targetInvite, action, this.spendInviteSuccess, this.spendInviteFailure )\r\n\t\tthis.setState({\r\n\t\t\tuseInvitesStatus: 1,\r\n\t\t})\r\n\t}\r\n\t\r\n\tuserFieldChange = (event) => {\r\n\t\tthis.setState({\r\n\t\t\ttargetUser: event.target.value,\r\n\t\t})\r\n\t}\r\n\t\r\n\ttriggerDropdown = (event) => {\r\n\t\tthis.setState({\r\n\t\t\ttargetRole:event.target.value,\r\n\t\t})\r\n\t}\r\n\t\r\n\ttokenHasRefreshed = () => {\r\n\t\tconsole.log(\"Show a 'try again' here\")\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tlet invitesDisplayList = []\r\n\t\tfor (let i in this.state.inviteNamesList) {\r\n\t\t\tlet extra = \"\"\r\n\t\t\tinvitesDisplayList.push(\r\n\t\t\t\t<li className={\"list-group-item d-flex justify-content-around\"+extra} key={i}>\r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t{this.state.inviteNamesList[i]}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t{this.state.inviteRolesList[i]}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<button className=\"badge badge-success badge-pill\" value={this.state.inviteIDList[i]} onClick={this.inviteYes}>/</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<button className=\"badge badge-danger badge-pill\" value={this.state.inviteIDList[i]} onClick={this.inviteNo}>X</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t}\r\n\t\tif (this.state.inviteNamesList.length === 0) {\r\n\t\t\tinvitesDisplayList.push(\r\n\t\t\t\t<li className=\"list-group-item\" key={0}>\r\n\t\t\t\t\tNo Invites!\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\tlet showTargetRole = \"Select Role =>\"\r\n\t\tif (this.state.targetRole !== \"\") {\r\n\t\t\tshowTargetRole = inviteType[this.state.targetRole]\r\n\t\t}\r\n\t\t\r\n\t\t//let showIdle = this.state.getDivisionDataStatus === 0 || this.state.getInvitesStatus === 0\r\n\t\tlet showWaiting = this.state.getDivisionDataStatus === 1 || this.state.getInvitesStatus === 1\r\n\t\tlet showSuccess = false//this.state.getDivisionDataStatus === 2 || this.state.getInvitesStatus === 2\r\n\t\tlet showError = this.state.getDivisionDataStatus === 3 || this.state.getInvitesStatus === 3\r\n\t\r\n\t\tlet errorParse = []\r\n\t\tfor (let index in this.state.getDivisionDataError) {\r\n\t\t\terrorParse.push(\r\n\t\t\t\tthis.state.getDivisionDataError[index][\"text\"]\r\n\t\t\t)\r\n\t\t}\r\n\t\tfor (let index in this.state.getInvitesError) {\r\n\t\t\terrorParse.push(\r\n\t\t\t\tthis.state.getInvitesError[index][\"text\"]\r\n\t\t\t)\r\n\t\t}\r\n\t\tfor (let index in this.state.createInvitesError) {\r\n\t\t\terrorParse.push(\r\n\t\t\t\tthis.state.createInvitesError[index][\"text\"]\r\n\t\t\t)\r\n\t\t}\r\n\t\tfor (let index in this.state.useInvitesError) {\r\n\t\t\terrorParse.push(\r\n\t\t\t\tthis.state.useInvitesError[index][\"text\"]\r\n\t\t\t)\r\n\t\t}\r\n\t\tif (errorParse.length === 0) {\r\n\t\t\terrorParse.push(\r\n\t\t\t\t\"Unknown!\"\r\n\t\t\t)\r\n\t\t}\r\n\t\r\n\t\treturn (\r\n\t\t\t<div className=\"companySett\">\r\n\t\t\t\t<div className=\"container-fluid\">\r\n\t\t\t\t\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card shadow\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<h5>Invites for this division:</h5>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t{this.state.companyFullName}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card shadow\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<h5>Invite Code</h5>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t{this.state.inviteCode}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"row\">\t\t\t\t\t\r\n\t\t\t\t\t\t<div className=\"col-md-12 col-lg\">\r\n\t\t\t\t\t\t\t<div className=\"card shadow\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<h5>Invites List</h5>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t\t\t\t{invitesDisplayList}\r\n\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-md-12 col-lg\">\r\n\t\t\t\t\t\t\t<div className=\"card shadow\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<h5>Invite User</h5>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\t<input type='text' className='form-control' value={this.state.targetUser} onChange={this.userFieldChange} placeholder='Enter Username or Email' />\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"dropdown\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<button className=\"btn btn-secondary dropdown-toggle\" type=\"button\" id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{showTargetRole}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuLink\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button className=\"dropdown-item\" value=\"1\" onClick={this.triggerDropdown}>Admin</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button className=\"dropdown-item\" value=\"2\" onClick={this.triggerDropdown}>Allowed to View</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button className=\"dropdown-item\" value=\"3\" onClick={this.triggerDropdown}>Governed User</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\t<button className=\"btn btn-primary\" onClick={this.inviteUser}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tInvite\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Alert show={showWaiting} variant=\"warning\">\r\n\t\t\t\t\t\t<Alert.Heading>Waiting</Alert.Heading>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t  Waiting for server response...\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Alert show={showSuccess} variant=\"success\">\r\n\t\t\t\t\t\t<Alert.Heading>Success!</Alert.Heading>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t  Successful!\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Alert show={showError} variant=\"danger\">\r\n\t\t\t\t\t\t<Alert.Heading>Error!</Alert.Heading>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t  Failure!\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default withRouter(CompanyInvites);","import React from \"react\";\r\n\r\nimport { APIDivisionSettingsEdit, APIDivisionSettingsGet } from \"../../utils\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { Alert } from 'react-bootstrap';\r\n\r\nclass CompanyPermissions extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\t\t\t\r\n\t\t\tcompanyFullName: \"No Data\",\r\n\t\t\tdivisionName: \"No Data\",\r\n\t\t\t\r\n\t\t\tadminsIDs: [],\r\n\t\t\tviewsIDs: [],\r\n\t\t\tsendsIDs: [],\r\n\t\t\tgovernsIDs: [],\r\n\t\t\t\r\n\t\t\tadmins: [],\r\n\t\t\tviews: [],\r\n\t\t\tsends: [],\r\n\t\t\tgoverns: [],\r\n\t\t\t\r\n\t\t\tdelAdmins: [],\r\n\t\t\tdelViews: [],\r\n\t\t\tdelSends: [],\r\n\t\t\tdelGoverns: [],\r\n\t\t\t\r\n\t\t\tnumChild: 0,\r\n\t\t\t\r\n\t\t\tgetPermissionsStatus: 0,\r\n\t\t\tgetPermissionsError: [],\r\n\t\t\tsetPermissionsStatus: 0,\r\n\t\t\tsetPermissionsError: [],\r\n\t\t}\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tthis.tiggerReload()\r\n\t};\r\n\t\r\n\ttiggerReload = () => {\r\n\t\tthis.getDivisionData()\r\n\t}\r\n\t\r\n\tgetFailure = (responseData) => {\r\n\t\tlet returnData = []\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.refreshToken(this.getDivisionData)\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\treturnData = responseData['messages']\r\n\t\tthis.setState({\r\n\t\t\tgetPermissionsStatus: 3,\r\n\t\t\tgetPermissionsError: returnData,\r\n\t\t})\r\n\t}\r\n\tgetSuccess = (successData) => {\r\n\t\t//console.log(\"Get Data Success\")\r\n\t\tthis.setState({\r\n\t\t\r\n\t\t\tcompanyFullName: successData[\"fullPathName\"],\r\n\t\t\tdivisionName: successData[\"divisionName\"],\r\n\t\t\tnumChild: successData[\"getNumChildUsers\"],\r\n\t\t\t\r\n\t\t\tadmins: successData[\"adminAccountNames\"],\r\n\t\t\tviews: successData[\"privateViewingNames\"],\r\n\t\t\tsends: successData[\"resultsSendTargetsNames\"],\r\n\t\t\tgoverns: successData[\"governedUsersNames\"],\r\n\t\t\t\r\n\t\t\tadminsIDs: successData[\"adminAccounts\"],\r\n\t\t\tviewsIDs: successData[\"privateViewingPerms\"],\r\n\t\t\tsendsIDs: successData[\"resultsSendTargets\"],\r\n\t\t\tgovernsIDs: successData[\"governedUsers\"],\r\n\t\t\t\r\n\t\t\tdelAdmins: [],\r\n\t\t\tdelViews: [],\r\n\t\t\tdelSends: [],\r\n\t\t\tdelGoverns: [],\r\n\t\t\t\r\n\t\t\tgetPermissionsStatus: 2,\r\n\t\t})\r\n\t}\r\n\tgetDivisionData = () => {\r\n\t\t// Verify that the division is valid?\r\n\t\tif (this.props.currentDivisionID >= 0) {\r\n\t\t\tlet checkData = undefined//Store.get(props.currentDivisionID+\"-Data\")\r\n\t\t\tif (checkData === undefined) {\r\n\t\t\t\t//console.log(\"Requesting Division Data From Server...\")\r\n\t\t\t\tAPIDivisionSettingsGet(  this.props.currentDivisionID, this.getSuccess, this.getFailure )\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tgetPermissionsStatus: 1,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t//console.log(\"Data will do here...\")\r\n\t\t\t\tthis.getSuccess(checkData)\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\t\r\n\tsetFailure = (responseData) => {\r\n\t\tlet returnData = []\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.refreshToken(this.saveChanges)\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\treturnData = responseData['messages']\r\n\t\tthis.setState({\r\n\t\t\tsetPermissionsStatus: 3,\r\n\t\t\tsetPermissionsError: returnData,\r\n\t\t})\r\n\t}\r\n\tsetSuccess = (successData) => {\r\n\t\tconsole.log(\"Set Data Success\")\r\n\t\tconsole.log(successData)\r\n\t\t\r\n\t\tthis.props.triggerRefresh()\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tsetPermissionsStatus: 2,\r\n\t\t})\r\n\t}\r\n\tsaveChanges = () => {\r\n\t\t\r\n\t\t// I will need to put a validator in here... Definetly...\r\n\t\t// For now I will not allow it...\r\n\t\tlet chName = \"\"\r\n\t\t\r\n\t\tlet testData = {\r\n\t\t\t\"reqDiv\": this.props.currentDivisionID,\r\n\t\t\t\r\n\t\t\t\"chName\": chName,\r\n\t\t\t\r\n\t\t\t\"delAdmins\": this.state.delAdmins,\r\n\t\t\t\"delViews\": this.state.delViews,\r\n\t\t\t\"delEmails\": this.state.delSends,\r\n\t\t\t\"delGovern\": this.state.delGoverns,\r\n\t\t}\r\n\t\t\r\n\t\tAPIDivisionSettingsEdit(  testData, this.setSuccess, this.setFailure )\r\n\t\tthis.setState({\r\n\t\t\tsetPermissionsStatus: 1,\r\n\t\t})\r\n\t}\r\n\t\r\n\ttoggleDelete = (event) => {\r\n\t\t\r\n\t\tlet splitEvent = event.target.value.split(\",\")\r\n\t\tlet valueNameIndex = Number(splitEvent[0])\r\n\t\tlet valueInt = Number(splitEvent[1])\r\n\t\t\r\n\t\tlet selectedName = \"No Name!\"\r\n\t\t\r\n\t\tlet tempAdm = []\r\n\t\tlet tempVie = []\r\n\t\tlet tempSen = []\r\n\t\tlet tempGov = []\r\n\t\tswitch(event.target.name) {\r\n\t\t\tcase \"adm\":\r\n\t\t\t\ttempAdm.push( valueInt )\r\n\t\t\t\tselectedName = this.state.admins[valueNameIndex]\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tcase \"vie\":\r\n\t\t\t\ttempVie.push( valueInt )\r\n\t\t\t\tselectedName = this.state.views[valueNameIndex]\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tcase \"sen\":\r\n\t\t\t\ttempSen.push( valueInt )\r\n\t\t\t\tselectedName = this.state.sends[valueNameIndex]\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tcase \"gov\":\r\n\t\t\t\ttempGov.push( valueInt )\r\n\t\t\t\tselectedName = this.state.governs[valueNameIndex]\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tdefault:\r\n\t\t\t\tconsole.log(\"Failed to have the correct name\")\r\n\t\t}\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tdelAdmins:tempAdm,\r\n\t\t\tdelViews:tempVie,\r\n\t\t\tdelSends:tempSen,\r\n\t\t\tdelGoverns:tempGov,\r\n\t\t\t\r\n\t\t\tselectedName: selectedName,\r\n\t\t})\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tlet adminUserList = []\r\n\t\tfor (let i in this.state.admins) {\r\n\t\t\tlet extra = \"\"\r\n\t\t\tlet index = this.state.delAdmins.indexOf(this.state.adminsIDs[i])\r\n\t\t\tif (index >= 0) {\r\n\t\t\t\textra = 'bg-warning'\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tadminUserList.push(\r\n\t\t\t\t<li className={\"list-group-item d-flex justify-content-around\"+extra} key={i}>\r\n\t\t\t\t\t{this.state.admins[i]}\r\n\t\t\t\t\t{/*<button className=\"badge badge-danger badge-pill\" name=\"adm\" value={ [i, adminsIDs[i]] } onClick={toggleDelete}>\r\n\t\t\t\t\t\tX\r\n\t\t\t\t\t</button>*/}\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t}\r\n\t\tif (this.state.admins.length === 0) {\r\n\t\t\tadminUserList.push(\r\n\t\t\t\t<li className=\"list-group-item\" key={0}>\r\n\t\t\t\t\tNo Users!\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\tlet viewingUserList = []\r\n\t\tfor (let i in this.state.views) {\r\n\t\t\tlet extra = \"\"\r\n\t\t\tlet index = this.state.delViews.indexOf(this.state.viewsIDs[i])\r\n\t\t\tif (index >= 0) {\r\n\t\t\t\textra = 'bg-warning'\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tviewingUserList.push(\r\n\t\t\t\t<li className={\"list-group-item d-flex justify-content-around \"+extra} key={i}>\r\n\t\t\t\t\t{this.state.views[i]}\r\n\t\t\t\t\t<button className=\"badge badge-danger badge-pill\" name=\"vie\" value={ [i, this.state.viewsIDs[i]] } data-toggle=\"modal\" data-target=\"#deleteConfirm\" onClick={this.toggleDelete}>\r\n\t\t\t\t\t\tX\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t}\r\n\t\tif (this.state.views.length === 0) {\r\n\t\t\tviewingUserList.push(\r\n\t\t\t\t<li className=\"list-group-item\" key={0}>\r\n\t\t\t\t\tNo Users!\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\tlet sentUserList = []\r\n\t\tfor (let i in this.state.sends) {\r\n\t\t\tlet extra = \"\"\r\n\t\t\tlet index = this.state.delSends.indexOf(this.state.sendsIDs[i])\r\n\t\t\tif (index >= 0) {\r\n\t\t\t\textra = 'bg-warning'\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tsentUserList.push(\r\n\t\t\t<li className={\"list-group-item d-flex justify-content-around \"+extra} key={i}>\r\n\t\t\t\t\t{this.state.sends[i]}\r\n\t\t\t\t\t{/*\r\n\t\t\t\t\t<button className=\"badge badge-danger badge-pill\" name=\"sen\" value={ [i, this.state.sendsIDs[i]] } data-toggle=\"modal\" data-target=\"#deleteConfirm\" onClick={this.toggleDelete}>\r\n\t\t\t\t\t\tX\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t*/}\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t}\r\n\t\tif (this.state.sends.length === 0) {\r\n\t\t\tsentUserList.push(\r\n\t\t\t\t<li className=\"list-group-item\" key={0}>\r\n\t\t\t\t\tNo Users!\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\tlet governedUserList = []\r\n\t\tfor (let i in this.state.governs) {\r\n\t\t\t\r\n\t\t\tlet extra = \"\"\r\n\t\t\tlet index = this.state.delGoverns.indexOf(this.state.governsIDs[i])\r\n\t\t\tif (index >= 0) {\r\n\t\t\t\textra = 'bg-warning'\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tgovernedUserList.push(\r\n\t\t\t\t<li className={\"list-group-item d-flex justify-content-around \"+extra} key={i}>\r\n\t\t\t\t\t{this.state.governs[i]}\r\n\t\t\t\t\t<button className=\"badge badge-danger badge-pill\" name=\"gov\" value={ [i, this.state.governsIDs[i]] } data-toggle=\"modal\" data-target=\"#deleteConfirm\" onClick={this.toggleDelete}>\r\n\t\t\t\t\t\tX\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t}\t\r\n\t\tif (this.state.governs.length === 0) {\r\n\t\t\tgovernedUserList.push(\r\n\t\t\t\t<li className=\"list-group-item\" key={0}>\r\n\t\t\t\t\tNo Users!\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t}\r\n\t\tgovernedUserList.push(\r\n\t\t\t<li className=\"list-group-item\" key={\"end\"}>\r\n\t\t\t\tAnd {this.state.numChild} others in child nodes\r\n\t\t\t</li>\r\n\t\t)\r\n\t\t\r\n\t\t//let showIdle = this.state.setPermissionsStatus === 0\r\n\t\tlet showWaiting = this.state.setPermissionsStatus === 1 || this.state.getPermissionsStatus === 1\r\n\t\tlet showSuccess = this.state.setPermissionsStatus === 2 //|| this.state.getPermissionsStatus === 2 \r\n\t\tlet showError = this.state.setPermissionsStatus === 3 || this.state.getPermissionsStatus === 3\r\n\t\t\r\n\t\tlet errorParse = []\r\n\t\tfor (let index in this.state.getPermissionsError) {\r\n\t\t\terrorParse.push(\r\n\t\t\t\tthis.state.getPermissionsError[index][\"text\"]\r\n\t\t\t)\r\n\t\t}\r\n\t\tfor (let index in this.state.getPermissionsError) {\r\n\t\t\terrorParse.push(\r\n\t\t\t\tthis.state.getPermissionsError[index][\"text\"]\r\n\t\t\t)\r\n\t\t}\r\n\t\tif (errorParse.length === 0) {\r\n\t\t\terrorParse.push(\r\n\t\t\t\t\"Unknown!\"\r\n\t\t\t)\r\n\t\t}\r\n\t\r\n\t\treturn (\r\n\t\t\t<div className=\"companySett\">\r\n\t\t\t\t<div className=\"container-fluid\">\r\n\t\t\t\t\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card shadow\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<h5>Changing Permissions for:</h5>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t{this.state.companyFullName}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card shadow\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<h5>Administrators</h5>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t{adminUserList}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card shadow\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<h5>Viewing Privilages:</h5>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t\t\t\t{viewingUserList}\r\n\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t{/*\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card shadow\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<h5>Users Notified:</h5>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t\t\t\t{sentUserList}\r\n\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t*/}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card shadow\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<h5>Target Users:</h5>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t\t\t\t{governedUserList}\r\n\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Alert show={showWaiting} variant=\"warning\">\r\n\t\t\t\t\t\t<Alert.Heading>Waiting</Alert.Heading>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t  Waiting for server response...\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Alert show={showSuccess} variant=\"success\">\r\n\t\t\t\t\t\t<Alert.Heading>Success!</Alert.Heading>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t  Successfull!\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Alert show={showError} variant=\"danger\">\r\n\t\t\t\t\t\t<Alert.Heading>Error!</Alert.Heading>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t{errorParse}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"modal fade\" id=\"deleteConfirm\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"deleteConfirmation\" aria-hidden=\"true\">\r\n\t\t\t\t\t  <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n\t\t\t\t\t\t<div className=\"modal-content\">\r\n\t\t\t\t\t\t  <div className=\"modal-header\">\r\n\t\t\t\t\t\t\t<h5 className=\"modal-title\" id=\"deleteTitleConfirm\">Delete Confirmation</h5>\r\n\t\t\t\t\t\t\t<button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n\t\t\t\t\t\t\t  <span aria-hidden=\"true\">&times;</span>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t  <div className=\"modal-body\">\r\n\t\t\t\t\t\t\t<div>Are you SURE you want to revoke permission for:</div>\r\n\t\t\t\t\t\t\t<div>{this.state.selectedName}?</div>\r\n\t\t\t\t\t\t\t<div>You will need to reinvite the user!</div>\r\n\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t  <div className=\"modal-footer\">\r\n\t\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-danger\" data-dismiss=\"modal\" onClick={this.saveChanges}>Yes</button>\r\n\t\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-primary\" data-dismiss=\"modal\">No</button>\r\n\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default withRouter(CompanyPermissions);","import React from \"react\";\r\n\r\nimport { APIDivisionSettingsEdit, APIDivisionSettingsGet } from \"../../utils\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { Alert } from 'react-bootstrap';\r\n\r\nconst viewingPermsCheck = ['Public', 'Private', 'Governed Users']\r\n\r\nclass CompanySettings extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\t\t\t\r\n\t\t\tnewViewPerms: 0,\r\n\t\t\tviewPerms: -1,\r\n\t\t\t\r\n\t\t\texpiryDate: \"No Data\",\r\n\t\t\t\r\n\t\t\tcompanyFullName: \"No Data\",\r\n\t\t\tdivisionName: \"No Data\",\r\n\t\t\t\r\n\t\t\tgetSettingsStatus: 0,\r\n\t\t\tgetSettingsError: [],\r\n\t\t\t\r\n\t\t\tsaveChangesStatus: 0,\r\n\t\t\tsaveChangesError: [],\r\n\t\t}\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tthis.tiggerReload()\r\n\t};\r\n\t\r\n\ttiggerReload = () => {\r\n\t\tthis.getDivisionData()\r\n\t}\r\n\t\r\n\tgetFailure = (responseData) => {\r\n\t\tlet returnData = []\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.refreshToken(this.getDivisionData)\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\treturnData = responseData['messages']\r\n\t\tthis.setState({\r\n\t\t\tgetSettingsStatus: 3,\r\n\t\t\tgetSettingsError: returnData,\r\n\t\t})\r\n\t}\r\n\tgetSuccess = (successData) => {\r\n\t\t//console.log(\"Get Data Success\")\r\n\t\tthis.setState({\r\n\t\t\r\n\t\t\tcompanyFullName: successData[\"fullPathName\"],\r\n\t\t\tdivisionName: successData[\"divisionName\"],\r\n\t\t\t\r\n\t\t\texpiryDate: successData[\"getCompanyExpiryDate\"],\r\n\t\t\t\r\n\t\t\tviewPerms: successData[\"summaryViewAccess\"],\r\n\t\t\t\r\n\t\t\tgetSettingsStatus: 2,\r\n\t\t})\r\n\t}\r\n\tgetDivisionData = () => {\r\n\t\t// Verify that the division is valid?\r\n\t\tif (this.props.currentDivisionID >= 0) {\r\n\t\t\tlet checkData = undefined//Store.get(props.currentDivisionID+\"-Data\")\r\n\t\t\tif (checkData === undefined) {\r\n\t\t\t\t//console.log(\"Requesting Division Data From Server...\")\r\n\t\t\t\tAPIDivisionSettingsGet(  this.props.currentDivisionID, this.getSuccess, this.getFailure )\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tgetSettingsStatus: 1,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tconsole.log(\"Data will do here...\")\r\n\t\t\t\tthis.getSuccess(checkData)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tsetFailure = (responseData) => {\r\n\t\tlet returnData = []\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.refreshToken(this.saveChanges)\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\treturnData = responseData['messages']\r\n\t\tthis.setState({\r\n\t\t\tsaveChangesStatus: 3,\r\n\t\t\tsaveChangesError: returnData,\r\n\t\t})\r\n\t}\r\n\tsetSuccess = (successData) => {\r\n\t\tconsole.log(\"Set Data Success\")\r\n\t\tconsole.log(successData)\r\n\t\t\r\n\t\tthis.props.triggerRefresh()\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tsaveChangesStatus: 2,\r\n\t\t})\r\n\t}\r\n\tsaveChanges = () => {\r\n\t\t\r\n\t\t// I will need to put a validator in here... Definetly...\r\n\t\t// For now I will not allow it...\r\n\t\tlet chName = \"\"\r\n\t\t\r\n\t\tlet testData = {\r\n\t\t\t\"reqDiv\": this.props.currentDivisionID,\r\n\t\t\t\r\n\t\t\t\"chName\": chName,\r\n\t\t}\r\n\t\t\r\n\t\tAPIDivisionSettingsEdit(  testData, this.setSuccess, this.setFailure )\r\n\t\tthis.setState({\r\n\t\t\tsaveChangesStatus: 1,\r\n\t\t})\r\n\t}\r\n\t\r\n\tdivisionFieldChange = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tdivisionName: event.target.value,\r\n\t\t})\r\n\t}\r\n\t\r\n\ttriggerDropdown = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tviewPerms:event.target.name,\r\n\t\t})\r\n\t}\r\n\t\r\n\trender() {\r\n\t\t\r\n\t\t//let showIdle = this.state.getSettingsStatus === 0\r\n\t\tlet showWaiting = this.state.getSettingsStatus === 1\r\n\t\tlet showSuccess = false//this.state.getSettingsStatus === 2\r\n\t\tlet showError = this.state.getSettingsStatus === 3\r\n\t\r\n\t\tlet errorParse = []\r\n\t\tfor (let index in this.state.getSettingsError) {\r\n\t\t\terrorParse.push(\r\n\t\t\t\tthis.state.getSettingsError[index][\"text\"]\r\n\t\t\t)\r\n\t\t}\r\n\t\tif (errorParse.length === 0) {\r\n\t\t\terrorParse.push(\r\n\t\t\t\t\"Unknown!\"\r\n\t\t\t)\r\n\t\t}\r\n\t\r\n\t\treturn (\r\n\t\t\t<div className=\"companySett\">\r\n\t\t\t\t<div className=\"container-fluid\">\r\n\t\t\t\t\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card shadow\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<h5>Full Company Path</h5>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t{this.state.companyFullName}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card shadow\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<h5>Change Division Name</h5>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<input type='text' className='form-control' value={this.state.divisionName} onChange={this.divisionFieldChange} placeholder='No Name?!' />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card shadow\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<h5>Viewing Permissions</h5>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"dropdown\">\r\n\t\t\t\t\t\t\t\t\t\t<button className=\"btn btn-secondary dropdown-toggle\" type=\"button\" id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n\t\t\t\t\t\t\t\t\t\t\t{viewingPermsCheck[this.state.viewPerms]}\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuLink\">\r\n\t\t\t\t\t\t\t\t\t\t\t<button className=\"dropdown-item\" name=\"0\" onClick={this.triggerDropdown}>Public</button>\r\n\t\t\t\t\t\t\t\t\t\t\t<button className=\"dropdown-item\" name=\"1\" onClick={this.triggerDropdown}>Private</button>\r\n\t\t\t\t\t\t\t\t\t\t\t<button className=\"dropdown-item\" name=\"2\" onClick={this.triggerDropdown}>Governed Users</button>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card shadow\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<h5>Subscription Expiry</h5>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body d-inline-flex justify-content-around\">\r\n\t\t\t\t\t\t\t\t\t{this.state.expiryDate}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<button className=\"btn btn-primary\" onClick={this.saveChanges} disabled>\r\n\t\t\t\t\t\tSave Changes\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Alert show={showWaiting} variant=\"warning\">\r\n\t\t\t\t\t\t<Alert.Heading>Waiting</Alert.Heading>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t  Waiting for server response...\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Alert show={showSuccess} variant=\"success\">\r\n\t\t\t\t\t\t<Alert.Heading>Success!</Alert.Heading>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t  Successfully obtained data!\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Alert show={showError} variant=\"danger\">\r\n\t\t\t\t\t\t<Alert.Heading>Error!</Alert.Heading>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t  {errorParse}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default withRouter(CompanySettings);","import React from \"react\";\r\n\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { Alert } from 'react-bootstrap';\r\n\r\nconst permRender = [\"Admin\", \"Viewer\", \"Governer\"]\r\n\r\n// Move this to a util later.... Its used in CompanyPrompts, SelectCompany and Suggestions....\r\nclass Paginator extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n        super(props);\r\n\t\tthis.state = {\r\n\t\t\tbtnLen: 2,\r\n\t\t}\r\n\t}\r\n\t\r\n\trender() {\r\n\t\t\r\n\t\tlet prevAlter = \"\"\r\n\t\tlet nextAlter = \"\"\r\n\t\t\r\n\t\tif (this.props.activePage <= 0) {\r\n\t\t\tprevAlter = \"disabled\"\r\n\t\t}\r\n\r\n\t\tif (this.props.activePage >= this.props.totalLoaded/this.props.numPerPage-1) {\r\n\t\t\tnextAlter = \"disabled\"\r\n\t\t}\r\n\t\t\r\n\t\tlet numberButtons = []\r\n\t\tfor (let i = -this.state.btnLen; i <= this.state.btnLen; i++) {\r\n\t\t\tlet altered = \"\"\r\n\t\t\t\r\n\t\t\tlet altI = i+this.props.activePage\r\n\t\t\tif (altI < 0 || altI >= this.props.totalLoaded/this.props.numPerPage) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (i === 0) {\r\n\t\t\t\taltered = \"active \"\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tnumberButtons.push(\r\n\t\t\t\t<button key={i} className={\"btn btn-outline-primary \" + altered} value={altI} onClick={this.props.changeToNum}>\r\n\t\t\t\t\t{altI}\r\n\t\t\t\t</button>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className = \"paginator\">\r\n\t\t\t\t<div className = \"container\">\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<button className={\"btn btn-outline-primary \" + prevAlter} value=\"bck\" onClick={this.props.changePrevNext}>\r\n\t\t\t\t\t\t\t\tPrev\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t{numberButtons}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<button className={\"btn btn-outline-primary \" + nextAlter} value=\"fwd\" onClick={this.props.changePrevNext}>\r\n\t\t\t\t\t\t\t\tNext\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nclass selectCompany extends React.Component  {\r\n\t\r\n\tconstructor(props) {\r\n        super(props);\r\n\t\tthis.state = {\r\n\t\t\tpageNum:0,\r\n\t\t\tnumPerPage:10,\r\n\t\t\t\r\n\t\t\tnumChooseLimit:5,\r\n\t\t\t\r\n\t\t\tsubList: this.initializeSubList()\r\n\t\t}\r\n\t}\r\n\t\r\n\tcomponentWillUnmount() {\r\n\t\t\r\n\t}\r\n\t\r\n\tinitializeSubList = () => {\r\n\t\t\r\n\t\tlet generateingList = []\r\n\t\t\r\n\t\t// Hm, this may run multiple times due to my now-messed data reloading structure...\r\n\t\tfor (let index in this.props.userLoadedCompanyList) {\r\n\t\t\t\r\n\t\t\tlet permType = -1\r\n\t\t\tfor (let permIndex in this.props.userLoadedCompanyList[index][\"perm\"]) {\r\n\t\t\t\tif (this.props.userLoadedCompanyList[index][\"perm\"][permIndex] === 0) {\r\n\t\t\t\t\t//console.log(\"Is Admin\")\r\n\t\t\t\t\t// Set the thing to admin no matter what\r\n\t\t\t\t\tpermType = 0\r\n\t\t\t\t}\r\n\t\t\t\telse if (this.props.userLoadedCompanyList[index][\"perm\"][permIndex] === 1) {\r\n\t\t\t\t\t//console.log(\"Is Viewable\")\r\n\t\t\t\t\t// Set it to viewable... AS LONG AS it is NOT set to admin..\r\n\t\t\t\t\tif (!(permType === 0)) {\r\n\t\t\t\t\t\tpermType = 1\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (permType >= 0 && permType < 4) {\r\n\t\t\t\tgenerateingList.push( [this.props.userLoadedCompanyList[index], permType] )\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn generateingList\r\n\t}\r\n\t\r\n\tgetData = (event) => {\r\n\t\tthis.props.getDataRequest( this.props.userLoadedCompanyList[event.target.value] )\r\n\t}\r\n\t\r\n\tchangePageTo = (event) => {\r\n\t\t\r\n\t\tlet newPage = Number(event.target.value)\r\n\t\t// Sanity check!\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tpageNum: newPage\r\n\t\t})\r\n\t}\r\n\tchangePageFwdBck = (event) => {\r\n\t\t\r\n\t\tlet newPage = Number(this.state.pageNum)\r\n\t\t\r\n\t\tif (event.target.value === \"fwd\") {\r\n\t\t\tnewPage = newPage + 1\r\n\t\t\r\n\t\t\tif (newPage > this.props.subList.length/this.state.numPerPage) {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if (event.target.value === \"bck\") {\r\n\t\t\tnewPage = newPage - 1\r\n\t\t\t\r\n\t\t\tif (newPage < 0) {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t}\r\n\t\t\t\r\n\t\tthis.setState({\r\n\t\t\tpageNum: newPage\r\n\t\t})\r\n\t}\r\n\t\r\n\trender() {\r\n\t\t\r\n\t\tlet displayDivisionList = []\r\n\t\tfor (let index = 0; index < this.state.numPerPage; index++) {\r\n\t\t\t\r\n\t\t\tlet adjustedIndex = index + this.state.pageNum*this.state.numPerPage\t\t\t\r\n\t\t\tif (adjustedIndex > this.state.subList.length || adjustedIndex < 0) {\r\n\t\t\t\tcontinue\r\n\t\t\t}\r\n\t\t\tif (this.state.subList[adjustedIndex] === undefined) {\r\n\t\t\t\tcontinue\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tdisplayDivisionList.push(\r\n\t\t\t\t<li className=\"list-group-item d-flex justify-content-between align-items-center\" key={index}>\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t{this.state.subList[adjustedIndex][0][\"fullname\"]}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t{permRender[this.state.subList[adjustedIndex][1]]}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-2\">\r\n\t\t\t\t\t\t\t<button className=\"btn btn-primary\" value={adjustedIndex} onClick={this.getData}>\r\n\t\t\t\t\t\t\t\tGET!\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\tif (displayDivisionList.length === 0) {\r\n\t\t\tdisplayDivisionList.push(\r\n\t\t\t\t<div className=\"row\" key=\"0\">\r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\tNo Companies! If you see this page then this is an error!\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\t//let showIdle = this.props.getCompanyValidDatesStatus === 0 || this.props.getCompanyValidSuggestionDatesStatus === 0 || this.props.getCompanyEHIDataStatus === 0\r\n\t\tlet showWaiting = this.props.getCompanyValidDatesStatus === 1 || this.props.getCompanyValidSuggestionDatesStatus === 1 || this.props.getCompanyEHIDataStatus === 1\r\n\t\tlet showSuccess = this.props.getCompanyValidDatesStatus === 2 || this.props.getCompanyValidSuggestionDatesStatus === 2 || this.props.getCompanyEHIDataStatus === 2\r\n\t\tlet showError = this.props.getCompanyValidDatesStatus === 3 || this.props.getCompanyValidSuggestionDatesStatus === 3 || this.props.getCompanyEHIDataStatus === 3\r\n\t\t\t\r\n\t\t//console.log(this.props.getCompanyValidDatesStatus)\r\n\t\t//console.log(this.props.getCompanyValidSuggestionDatesStatus)\r\n\t\t//console.log(this.props.getCompanyEHIDataStatus)\r\n\t\t\r\n\t\tlet errorParse = []\r\n\t\tfor (let index in this.props.getCompanyEHIDataError) {\r\n\t\t\terrorParse.push(\r\n\t\t\t\tthis.props.getCompanyEHIDataError[index][\"text\"]\r\n\t\t\t)\r\n\t\t}\r\n\t\tfor (let index in this.props.getCompanyValidSuggestionDatesError) {\r\n\t\t\terrorParse.push(\r\n\t\t\t\tthis.props.getCompanyValidSuggestionDatesError[index][\"text\"]\r\n\t\t\t)\r\n\t\t}\r\n\t\tfor (let index in this.props.getCompanyValidDatesError) {\r\n\t\t\terrorParse.push(\r\n\t\t\t\tthis.props.getCompanyValidDatesError[index][\"text\"]\r\n\t\t\t)\r\n\t\t}\r\n\t\tif (errorParse.length === 0) {\r\n\t\t\terrorParse.push(\r\n\t\t\t\t\"Unknown!\"\r\n\t\t\t)\r\n\t\t}\r\n\t\t\t\r\n\t\treturn (\r\n\t\t\t<div className=\"testPages\">\r\n\t\t\t\t<div className=\"container-fluid\">\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"row my-2\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card shadow\">\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col my-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t<h3>\r\n\t\t\t\t\t\t\t\t\t\t\t\tYour Company Divisions\r\n\t\t\t\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\t<ul className=\"list-group\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{displayDivisionList}\r\n\t\t\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<Paginator\r\n\t\t\t\t\t\t\t\t\t\tactivePage={this.state.pageNum}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tchangePrevNext={this.changePageFwdBck}\r\n\t\t\t\t\t\t\t\t\t\tchangeToNum={this.changePageTo}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\ttotalLoaded={this.state.subList.length}\r\n\t\t\t\t\t\t\t\t\t\tnumPerPage={this.state.numPerPage}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t<Alert show={showWaiting} variant=\"warning\">\r\n\t\t\t\t\t\t<Alert.Heading>Waiting</Alert.Heading>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t  Waiting for server response...\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Alert show={showSuccess} variant=\"success\">\r\n\t\t\t\t\t\t<Alert.Heading>Success!</Alert.Heading>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t  Division Data for {this.props.currentDivisionName} is Ready!\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Alert show={showError} variant=\"danger\">\r\n\t\t\t\t\t\t<Alert.Heading>Error!</Alert.Heading>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t  Failure to get the data!\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(selectCompany);","import React from \"react\";\r\n\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { Alert } from 'react-bootstrap';\r\nimport Calendar from 'react-calendar'\r\nimport 'react-calendar/dist/Calendar.css';\r\n\r\nconst suggesstionBox = (props) => {\r\n\t\r\n\tconst tileClassName = ({ date, view }) => {\r\n\t\r\n\t\t// Add class to tiles in month view only\r\n\t\tif (view === 'month') {\r\n\t\t\t\r\n\t\t\tconst checkDate = date.getFullYear()+\"-\"+date.getMonth()+\"-\"+date.getDate()\r\n\r\n\t\t\t// Check if a date React-Calendar wants to check is on the list of dates to add class to\r\n\t\t\tconst hasStuff = props.validDays.find( element => element === checkDate)\r\n\t\t\t\r\n\t\t\tif (hasStuff) {\r\n\t\t\t\treturn 'btn btn-success'\r\n\t\t\t} else {\r\n\t\t\t\t//return 'btn btn-outline-dark'\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\t\r\n\tlet keyID = 0\r\n\tlet displayData = []\r\n\t\r\n\t//console.log(props.validDays)\r\n\t//console.log(props.dataSet)\r\n\t\r\n\tfor ( let suggestion in props.dataSet ) {\r\n\t\tdisplayData.push(\r\n\t\t\t<div className=\"row m-2\" key={keyID}>\r\n\t\t\t\t<div className=\"col border\">\r\n\t\t\t\t\t{props.dataSet[suggestion].content}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t\tkeyID += 1\r\n\t}\r\n\tif ( displayData.length === 0 ) {\r\n\t\tdisplayData.push(\r\n\t\t\t<div className=\"row m-2\" key={keyID}>\r\n\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\tNo data to show!\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t\tkeyID += 1\r\n\t}\r\n\t\r\n\tif ( props.dataDay === false  ) {\r\n\t\tdisplayData = [\r\n\t\t\t<div className=\"row m-2\" key={keyID}>\r\n\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\tNo Day Selected!\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t]\r\n\t}\r\n\t\r\n\tlet currentSelectedDayFilter = undefined\r\n\tif ( props.currentDate === false ) {\r\n\t\tcurrentSelectedDayFilter = new Date()\r\n\t}\r\n\t\r\n\t//let showIdle = props.getCompanySuggestionDataStatus === 0\r\n\tlet showWaiting = props.getCompanySuggestionDataStatus === 1\r\n\tlet showSuccess = false//props.getCompanySuggestionDataStatus === 2\r\n\tlet showError = props.getCompanySuggestionDataStatus === 3\r\n\r\n\tlet errorParse = []\r\n\t//console.log( props.getCompanySuggestionDataError)\r\n\tfor (let index in props.getCompanySuggestionDataError) {\r\n\t\terrorParse.push(\r\n\t\t\tprops.getCompanySuggestionDataError[index][\"text\"]\r\n\t\t)\r\n\t}\r\n\tif (errorParse.length === 0) {\r\n\t\terrorParse.push(\r\n\t\t\t\"Unknown!\"\r\n\t\t)\r\n\t}\r\n\t\r\n\treturn (\r\n\t\t<div className=\"testPages\">\r\n\t\t\t<div className=\"container-fluid\">\r\n\t\t\t\r\n\t\t\t\t<div className=\"row m-2\">\r\n\t\t\t\t\t<div className=\"col- m-2\">\r\n\t\t\t\t\t\t<Calendar \r\n\t\t\t\t\t\t\tclassName=\"shadow\"\r\n\t\t\t\t\t\t\tonChange={props.pickDate}\r\n\t\t\t\t\t\t\tvalue={currentSelectedDayFilter}\r\n\t\t\t\t\t\t\ttileClassName={tileClassName}\r\n\r\n\t\t\t\t\t\t\tminDetail={'year'}\r\n\t\t\t\t\t\t\tmaxDetail={'month'}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"col-md-12 col-lg-6 m-2\">\r\n\t\t\t\t\t\t<div className=\"card shadow\">\r\n\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t<div>Suggestions for Date: {props.dataDay && props.dataDay.toString()}</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t{displayData}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<Alert show={showWaiting} variant=\"warning\">\r\n\t\t\t\t\t<Alert.Heading>Waiting</Alert.Heading>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t  Waiting for server response...\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t</Alert>\r\n\t\t\t\t\r\n\t\t\t\t<Alert show={showSuccess} variant=\"success\">\r\n\t\t\t\t\t<Alert.Heading>Success!</Alert.Heading>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t  Successfully obtained data!\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t</Alert>\r\n\t\t\t\t\r\n\t\t\t\t<Alert show={showError} variant=\"danger\">\r\n\t\t\t\t\t<Alert.Heading>Error!</Alert.Heading>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\t{errorParse}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t</Alert>\r\n\t\t\t</div>\t\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default withRouter(suggesstionBox);","import React from \"react\";\r\n\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { ButtonGroup, ToggleButton, Table, Accordion, Card } from 'react-bootstrap';\r\n\r\nimport Calendar from 'react-calendar'\r\nimport 'react-calendar/dist/Calendar.css';\r\n\r\nimport { ProgressBar, Alert } from 'react-bootstrap';\r\n\r\nimport { Radar, Bar } from 'react-chartjs-2';\r\nimport { frequencyBarData, testMaxMin, testBarMulti, stackedBarData3Test, stackedBarData2Test, stackedBarData, sentimentBarData } from '../../utils';\r\nimport { getBarOptionsFreq, getRadarEmotionOptions, testBarMultiOptions, stackedBarOptions, sentimentBarOptions } from '../../utils';\r\n//import { makeCompanyTestData, makeCompanyTestDataOtherFormat } from \"../../utils\";\r\n\r\n// Move all of the functions here to a seperate file, a repository, so that I can fast make layouts sometime\r\n\r\n// This is garunteed\r\nconst AIAspect = [\r\n    { name: 'Emotion', value: 'emotion' },\r\n    { name: 'Sentiment', value: 'sentiment' },\r\n    { name: 'Entities', value: 'entities' },\r\n\t{ name: 'Keywords', value: 'keywords' },\r\n\t//{ name: 'Relations', value: 'relations' },\r\n];\r\n\r\nconst convertSummaryType = [\r\n\t\"Daily\",\r\n\t\"Weekly\",\r\n\t\"Monthy\",\r\n\t\"Annual\",\r\n]\r\n\r\n// This is very lean...\r\nconst parseEmotion = (emotionData) => {\r\n\t\r\n\tlet derp = [emotionData.joy, emotionData.anger, emotionData.sadness, emotionData.disgust, emotionData.fear]\r\n\treturn derp;\r\n}\r\n\r\nclass  MultiIteration extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tselected: \"frequencyPercent\",\r\n\t\t}\t\r\n\t}\r\n\t\r\n\tchangeSelected = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tselected:event.target.id,\r\n\t\t})\r\n\t}\r\n\t\r\n\trender() {\r\n\t\t\r\n\t\tlet purity = this.props.dataSet[\"responsePurity\"]\r\n\t\t\r\n\t\tlet showPrompts = []\r\n\t\tfor (let index in this.props.givenPrompt.promptChoices) {\r\n\t\t\tshowPrompts.push(\r\n\t\t\t\t<div key={index}>\r\n\t\t\t\t\t{index + \": \" + this.props.givenPrompt.promptChoices[index]}\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\tlet displayData = {}\r\n\t\tlet buttonSet = []\r\n\t\tfor (let index in this.props.dataSet[\"data\"]) {\r\n\t\t\tlet activeSet = \"outline-\"\r\n\t\t\tif (this.state.selected === index) {\r\n\t\t\t\tactiveSet = \"\"\r\n\t\t\t\t\r\n\t\t\t\tfor (let i in this.props.givenPrompt.promptChoices) {\r\n\t\t\t\t\tif (i in this.props.dataSet.data[index]) {\r\n\t\t\t\t\t\tdisplayData[i] = this.props.dataSet.data[index][i]\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tdisplayData[i] = 0\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tbuttonSet.push(\r\n\t\t\t\t<div className={\"btn btn-\"+activeSet+\"primary\"} id={index} onClick={this.changeSelected} key={index}>\r\n\t\t\t\t\t{index}\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\tconst dataBarSet = frequencyBarData( displayData )\r\n\t\tconst barOptionsFreq = getBarOptionsFreq()\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className=\"MultiIteration\">\r\n\t\t\t\t<Accordion>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Accordion.Toggle as={Card.Header} variant=\"link\" eventKey=\"0\">\r\n\t\t\t\t\t\t<div className=\"row\" key=\"0\">\r\n\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t{this.props.givenPrompt[\"text\"]}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"row\" key=\"1\">\r\n\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t<div className=\"progressBar\">\r\n\t\t\t\t\t\t\t\t\t<ProgressBar now={ purity } label={`${purity}% Response Rate`} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Accordion.Toggle>\r\n\t\t\t\t\r\n\t\t\t\t\t<Accordion.Collapse eventKey=\"0\">\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t{buttonSet}\r\n\t\t\t\t\t\t\t\t<div className=\"row\">\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t<Bar data={dataBarSet} options={barOptionsFreq} />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t{showPrompts}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</Accordion.Collapse>\r\n\t\t\t\t\t\r\n\t\t\t\t</Accordion>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nclass LikertIteration extends React.Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tselected: \"frequencyPercent\",\r\n\t\t}\t\r\n\t}\r\n\t\r\n\tchangeSelected = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tselected:event.target.id,\r\n\t\t})\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet purity = this.props.dataSet[\"responsePurity\"]\r\n\t\t\r\n\t\tlet displayData = {}\r\n\t\tlet buttonSet = []\r\n\t\tlet magicSet = [\"Ext Dis\", \"Dis\", \"Neu\", \"Agr\", \"Ext Agr\"]\r\n\t\t\r\n\t\tfor (let index in this.props.dataSet[\"data\"]) {\r\n\t\t\tlet activeSet = \"outline-\"\r\n\t\t\tif (this.state.selected === index) {\r\n\t\t\t\tactiveSet = \"\"\r\n\t\t\t\t\r\n\t\t\t\tfor (let i in magicSet) {\r\n\t\t\t\t\tif (i in this.props.dataSet.data[index]) {\r\n\t\t\t\t\t\tdisplayData[i] = this.props.dataSet.data[index][i]\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tdisplayData[i] = 0\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tbuttonSet.push(\r\n\t\t\t\t<div className={\"btn btn-\"+activeSet+\"primary\"} id={index} onClick={this.changeSelected} key={index}>\r\n\t\t\t\t\t{index}\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\t// These come in as an object, not an array....\r\n\t\t// Shift this to accept an array?\r\n\t\tconst dataBarSet = frequencyBarData( displayData )\r\n\t\tconst barOptionsFreq = getBarOptionsFreq()\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className=\"LikertIteration\">\r\n\t\t\t\t<Accordion>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Accordion.Toggle as={Card.Header} variant=\"link\" eventKey=\"0\">\r\n\t\t\t\t\t\t<div className=\"row\" key=\"0\">\r\n\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t{this.props.givenPrompt[\"text\"]}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"row\" key=\"1\">\r\n\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t<div className=\"progressBar\">\r\n\t\t\t\t\t\t\t\t\t<ProgressBar now={ purity } label={`${purity}% Response Rate`} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Accordion.Toggle>\r\n\t\t\t\t\r\n\t\t\t\t\t<Accordion.Collapse eventKey=\"0\">\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t{buttonSet}\r\n\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t<Bar data={dataBarSet} options={barOptionsFreq} />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</Accordion.Collapse>\r\n\t\t\t\t\t\r\n\t\t\t\t</Accordion>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nclass RatingIteration extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tselected: \"frequencyPercent\",\r\n\t\t}\t\r\n\t}\r\n\t\r\n\tchangeSelected = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tselected:event.target.id,\r\n\t\t})\r\n\t}\r\n\t\r\n\trender() {\r\n\t\r\n\t\tlet magicAmount = 10\r\n\t\t\r\n\t\tlet displayData = {}\r\n\t\tlet buttonSet = []\r\n\t\tfor (let index in this.props.dataSet[\"data\"]) {\r\n\t\t\tlet activeSet = \"outline-\"\r\n\t\t\tif (this.state.selected === index) {\r\n\t\t\t\tactiveSet = \"\"\r\n\t\t\t\t\r\n\t\t\t\tfor (let i = 1; i <= magicAmount; i++) {\r\n\t\t\t\t\tif (i in this.props.dataSet.data[index]) {\r\n\t\t\t\t\t\tdisplayData[i] = this.props.dataSet.data[index][i]\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tdisplayData[i] = 0\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tbuttonSet.push(\r\n\t\t\t\t<div className={\"btn btn-\"+activeSet+\"primary\"} id={index} onClick={this.changeSelected} key={index}>\r\n\t\t\t\t\t{index}\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\tlet purity = this.props.dataSet[\"responsePurity\"]\r\n\t\tconst dataBarSet = frequencyBarData( displayData )\r\n\t\tconst barOptionsFreq = getBarOptionsFreq()\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className=\"RatingIteration\">\r\n\t\t\t\t<Accordion>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Accordion.Toggle as={Card.Header} variant=\"link\" eventKey=\"0\">\r\n\t\t\t\t\t\t<div className=\"row\" key=\"0\">\r\n\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t{this.props.givenPrompt[\"text\"]}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"row\" key=\"1\">\r\n\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t<div className=\"progressBar\">\r\n\t\t\t\t\t\t\t\t\t<ProgressBar now={ purity } label={`${purity}% Response Rate`} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Accordion.Toggle>\r\n\t\t\t\t\r\n\t\t\t\t\t<Accordion.Collapse eventKey=\"0\">\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t{buttonSet}\r\n\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t<Bar data={dataBarSet} options={barOptionsFreq} />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</Accordion.Collapse>\r\n\t\t\t\t\t\r\n\t\t\t\t</Accordion>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nclass JournalIteration extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tselectedAspect: \"emotion\",\r\n\t\t}\t\r\n\t}\r\n\t\r\n\tsetAspect = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tselectedAspect:event.currentTarget.value\r\n\t\t})\r\n\t}\r\n\t\r\n\trender() {\r\n\t\t\r\n\t\tlet purity = this.props.dataSet[\"responsePurity\"]\r\n\t\tif (purity < 0) {\r\n\t\t\tpurity = 0\r\n\t\t}\r\n\t\t\r\n\t\tlet dataSet = this.props.dataSet[\"data\"][this.state.selectedAspect]\r\n\t\t\r\n\t\tlet displayStats = []\r\n\t\tlet tableDisplay = []\r\n\t\t\r\n\t\tif (!(dataSet === null) && !(dataSet === undefined)) {\r\n\t\t\t\r\n\t\t\t// Check to see if we actually HAVE any data just before we do this...\r\n\t\t\ttry{\r\n\t\t\t\tswitch(this.state.selectedAspect) {\r\n\t\t\t\t\tcase \"emotion\":\r\n\t\t\t\t\t\tlet emoMax = parseEmotion( dataSet.max )\r\n\t\t\t\t\t\tlet emoAve = parseEmotion( dataSet.ave )\r\n\t\t\t\t\t\tlet emoMin = parseEmotion( dataSet.min )\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tconst dataDocumentEmo = testMaxMin( emoMax, emoAve, emoMin )\r\n\t\t\t\t\t\tconst radarOptions = getRadarEmotionOptions()\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tlet emoThresh = parseEmotion( dataSet.threshold )\r\n\t\t\t\t\t\tconst dataBar = testBarMulti( emoThresh )\r\n\t\t\t\t\t\tconst barOptions = testBarMultiOptions()\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tdisplayStats.push(\r\n\t\t\t\t\t\t\t<Table bordered responsive key=\"2\">\r\n\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Emotion Data</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Num Journals in data</th>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t<tr key={0}>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"row\"> <Radar data={dataDocumentEmo} options={radarOptions} /> </th>\r\n\t\t\t\t\t\t\t\t\t\t<td> <Bar data={dataBar} options={barOptions} /> </td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'sentiment':\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tconst dataBarStack = stackedBarData( [dataSet.min], [dataSet.ave], [dataSet.max] )\r\n\t\t\t\t\t\tconst barStackOptions = stackedBarOptions()\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tlet dataTresh = [dataSet.thresholdPos, dataSet.thresholdNeg]\r\n\t\t\t\t\t\tconst dataBarNorm = sentimentBarData( dataTresh )\r\n\t\t\t\t\t\tconst barOptionsNorm = sentimentBarOptions()\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t//<th scope=\"col\">Whole Journal Emotion Data</th>\r\n\t\t\t\t\t\tdisplayStats.push(\r\n\t\t\t\t\t\t\t<Table bordered responsive key=\"2\">\r\n\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Sentiment Values</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Num Journals in data</th>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t<tr key={0}>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"row\"><Bar data={dataBarStack} options={barStackOptions} /></th>\r\n\t\t\t\t\t\t\t\t\t\t<td><Bar data={dataBarNorm} options={barOptionsNorm} /></td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'entities':\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t//console.log(dataSet)\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tfor (let index in dataSet) {\r\n\t\t\t\t\t\t\tlet entity = dataSet[index]\r\n\t\t\t\t\t\t\t//console.log(entity)\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tlet emoMax = parseEmotion( entity.emotion.max )\r\n\t\t\t\t\t\t\tlet emoAve = parseEmotion( entity.emotion.ave )\r\n\t\t\t\t\t\t\tlet emoMin = parseEmotion( entity.emotion.min )\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tlet emoData = testMaxMin( emoMax, emoAve, emoMin )\r\n\t\t\t\t\t\t\tlet emoOptions = getRadarEmotionOptions()\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tconst dataEntSent = stackedBarData3Test( \r\n\t\t\t\t\t\t\t\t[entity.confidence.min, entity.relevance.min, entity.sentiment.min],\r\n\t\t\t\t\t\t\t\t[entity.confidence.ave, entity.relevance.ave, entity.sentiment.ave],\r\n\t\t\t\t\t\t\t\t[entity.confidence.max, entity.relevance.max, entity.sentiment.max],\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\tconst dataEntOptions = stackedBarOptions()\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\ttableDisplay.push(\r\n\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"row\">{entity.text}</th>\r\n\t\t\t\t\t\t\t\t\t<td>{entity.type}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{entity.count}</td>\r\n\t\t\t\t\t\t\t\t\t<td colSpan=\"3\"><Bar data={dataEntSent} options={dataEntOptions} /></td>\r\n\t\t\t\t\t\t\t\t\t<td><Radar data={emoData} options={emoOptions} /></td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (tableDisplay.length === 0) {\r\n\t\t\t\t\t\t\ttableDisplay.push(\r\n\t\t\t\t\t\t\t\t<tr key={0}>\r\n\t\t\t\t\t\t\t\t\t<td colSpan=\"7\">\"Nothing!\"</td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tdisplayStats.push(\r\n\t\t\t\t\t\t\t<Table bordered responsive key=\"2\">\r\n\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Name</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Type</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">#Appearances</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Confidence</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Relevance</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Sentiment</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Emotion</th>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t{tableDisplay}\r\n\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'keywords':\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t//console.log(dataSet)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tfor (let index in dataSet) {\r\n\t\t\t\t\t\t\tlet keyData = dataSet[index]\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t//const dataKeySent = stackedBarData( [keyData.sentiment.min], [keyData.sentiment.ave], [keyData.sentiment.max] )\r\n\t\t\t\t\t\t\t//const dataKeyOptions = stackedBarOptions()\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tlet emoMax = parseEmotion( keyData.emotion.max )\r\n\t\t\t\t\t\t\tlet emoAve = parseEmotion( keyData.emotion.ave )\r\n\t\t\t\t\t\t\tlet emoMin = parseEmotion( keyData.emotion.min )\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tconst dataRadar = testMaxMin( emoMax, emoAve, emoMin )\r\n\t\t\t\t\t\t\tconst dataRadarOptions = getRadarEmotionOptions()\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tconst dataKeySent = stackedBarData2Test(\r\n\t\t\t\t\t\t\t\t[keyData.relevance.min, keyData.sentiment.min], \r\n\t\t\t\t\t\t\t\t[keyData.relevance.ave, keyData.sentiment.ave], \r\n\t\t\t\t\t\t\t\t[keyData.relevance.max, keyData.sentiment.max] \r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\tconst dataKeyOptions = stackedBarOptions()\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\ttableDisplay.push(\r\n\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"row\">{keyData.text}</th>\r\n\t\t\t\t\t\t\t\t\t<td>{keyData.count}</td>\r\n\t\t\t\t\t\t\t\t\t<td colSpan=\"2\"><Bar data={dataKeySent} options={dataKeyOptions} /></td>\r\n\t\t\t\t\t\t\t\t\t<td><Radar data={dataRadar} options={dataRadarOptions} /></td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (tableDisplay.length === 0) {\r\n\t\t\t\t\t\t\ttableDisplay.push(\r\n\t\t\t\t\t\t\t\t<tr key={0}>\r\n\t\t\t\t\t\t\t\t\t<td colSpan=\"5\">\"Nothing!\"</td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tdisplayStats.push(\r\n\t\t\t\t\t\t\t<Table bordered responsive key=\"2\">\r\n\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Name</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">#Appearances</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Relevance Score</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Sentiment</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Emotion</th>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t{tableDisplay}\r\n\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'relations':\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t//console.log(dataSet)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tfor (let index in dataSet) {\r\n\t\t\t\t\t\t\tlet relData = dataSet[index]\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tconst scoreData = stackedBarData( [relData.score.min], [relData.score.ave], [relData.score.max] )\r\n\t\t\t\t\t\t\tconst scoreOptions = sentimentBarOptions()\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\ttableDisplay.push(\r\n\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"row\">{relData.count}</th>\r\n\t\t\t\t\t\t\t\t\t<td>{relData.arguments[0].text}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{relData.type}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{relData.arguments[1].text}</td>\r\n\t\t\t\t\t\t\t\t\t<td style={{width:\"30%\"}}><Bar data={scoreData} options={scoreOptions} /></td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (tableDisplay.length === 0) {\r\n\t\t\t\t\t\t\ttableDisplay.push(\r\n\t\t\t\t\t\t\t\t<tr key={0}>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"row\">\"Nothing!\"</th>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tdisplayStats.push(\r\n\t\t\t\t\t\t\t<Table bordered responsive key=\"2\">\r\n\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">#Appearances</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Actor</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Action</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Target</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Score</th>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t{tableDisplay}\r\n\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tconsole.log(\"Invalid AI selection somehow\")\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\tcatch (error) {\r\n\t\t\t\t\r\n\t\t\t\tdisplayStats.push(\r\n\t\t\t\t\t<div className=\"row m-2 border\" key=\"2\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<p>There was no data to read!</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\t// There was NO DATA in the day here, so we have to display nothing...\r\n\t\t\t\r\n\t\t\tdisplayStats.push(\r\n\t\t\t\t<div className=\"row m-2 border\" key=\"2\">\r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<p>There was no data to read!</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className=\"JournalIteration\">\r\n\t\t\t\t<Accordion>\r\n\t\t\t\t\r\n\t\t\t\t\t<Accordion.Toggle as={Card.Header} variant=\"link\" eventKey=\"0\">\r\n\t\t\t\t\t\t<div className=\"row\" key=\"0\">\r\n\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t{this.props.givenPrompt[\"text\"]}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"row\" key=\"1\">\r\n\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t<div className=\"progressBar\">\r\n\t\t\t\t\t\t\t\t\t<ProgressBar now={ purity } label={`${purity}% Response Rate`} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Accordion.Toggle>\r\n\t\t\t\t\r\n\t\t\t\t\t<Accordion.Collapse eventKey=\"0\">\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t<div className=\"row my-2\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t<ButtonGroup toggle>\r\n\t\t\t\t\t\t\t\t\t\t\t{AIAspect.map((radio, idx) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ToggleButton\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={idx}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"radio\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"info\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"radio\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={radio.value}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={this.state.selectedAspect === radio.value}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.setAspect}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{radio.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ToggleButton>\r\n\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t</ButtonGroup>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t{displayStats}\r\n\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</Accordion.Collapse>\r\n\t\t\t\t\t\r\n\t\t\t\t</Accordion>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst companyViewSummary = (props) => {\r\n\t\r\n\tlet showResult = []\r\n\tlet currentSummaryDate = props.currentDate\r\n\t\r\n\tif (!(props.dataSet === undefined) ) { \r\n\r\n\t\tcurrentSummaryDate = props.dataSet[\"forDate\"]\r\n\t\t\r\n\t\tlet i = 0\r\n\t\tfor (let index in props.dataSet.summaryResult) {\r\n\t\t\tlet promptType = -1\r\n\t\t\t\r\n\t\t\tlet promptSet = {\"text\":\"No Text!\"}\r\n\t\t\ttry {\r\n\t\t\t\tpromptSet = props.dataSet[\"promptList\"].find( element => element.identifier === index )\r\n\t\t\t\tpromptType = promptSet[\"promptType\"]\r\n\t\t\t}\r\n\t\t\tcatch (error) {}\r\n\t\t\t\r\n\t\t\t//console.log(props.dataSet.summaryResult[index])\r\n\t\t\t// What about the order of things?\r\n\t\t\t// It will normally be in the order on the site...\r\n\t\t\t// I may have to prioritise reordering this\r\n\t\t\t\r\n\t\t\tlet promptBody = \"No Prompt!\"\r\n\t\t\tswitch ( promptType ) {\r\n\t\t\t\t// Journal!\r\n\t\t\t\tcase 0:\r\n\t\t\t\t\tpromptBody = <JournalIteration\r\n\t\t\t\t\t\tgivenPrompt={promptSet}\r\n\t\t\t\t\t\tdataSet={props.dataSet.summaryResult[index]}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t// Likert\r\n\t\t\t\tcase 1:\r\n\t\t\t\t\tpromptBody = <LikertIteration\r\n\t\t\t\t\t\tgivenPrompt={promptSet}\r\n\t\t\t\t\t\tdataSet={props.dataSet.summaryResult[index]}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t// Rating\r\n\t\t\t\tcase 2:\r\n\t\t\t\t\tpromptBody = <RatingIteration\r\n\t\t\t\t\t\tgivenPrompt={promptSet}\r\n\t\t\t\t\t\tdataSet={props.dataSet.summaryResult[index]}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t// Multi\r\n\t\t\t\tcase 3:\r\n\t\t\t\t\tpromptBody = <MultiIteration\r\n\t\t\t\t\t\tgivenPrompt={promptSet}\r\n\t\t\t\t\t\tdataSet={props.dataSet.summaryResult[index]}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tpromptBody = promptBody = <JournalIteration\r\n\t\t\t\t\t\tgivenPrompt={ {\"text\":\"No Prompt!\"} }\r\n\t\t\t\t\t\tdataSet={props.dataSet.summaryResult[index]}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//console.log(props.dataSet.summaryResult[index])\r\n\t\t\t\r\n\t\t\tshowResult.push(\r\n\t\t\t\t<div className=\"row\" key={i}>\r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<div>{promptBody}</div>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t\ti += 1\r\n\t\t}\r\n\t}\r\n\t\r\n\tif (showResult.length === 0) {\r\n\t\tshowResult.push(\r\n\t\t\t<div className=\"row\" key={0}>\r\n\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t<div>No Data to Display!</div>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\t\r\n\tconst tileClassName = ({ date, view }) => {\r\n\t\r\n\t\tlet hasSummary = false\r\n\t\tlet numValues = 0\r\n\t\t\r\n\t\tlet year = String( date.getFullYear() )\r\n\t\tlet month =\tString( date.getMonth()+1 )\r\n\r\n\t\tif (month < 10) {\r\n\t\t\tmonth = \"0\"+month\r\n\t\t}\r\n\t\t\r\n\t\tlet day = String(date.getDate())\r\n\t\tif (day < 10) {\r\n\t\t\tday = \"0\"+day\r\n\t\t}\r\n\t\t\r\n\t\tconst checkDate = year+\"-\"+month+\"-\"+day\r\n\t\r\n\t\t// Add class to tiles in month view only\r\n\t\tif (view === 'month') {\r\n\t\t\t// Check if a date React-Calendar wants to check is on the list of dates to add class to\r\n\t\t\ttry {\r\n\t\t\t\thasSummary = props.validSummaryDates['day'].find( element => element['date'] === checkDate)\r\n\t\t\t\tnumValues = hasSummary['num']\r\n\t\t\t}\r\n\t\t\tcatch {\r\n\t\t\t\t// This should trigger if DAY is not in the validSummaryDates\r\n\t\t\t\t// Basically just skipping it\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif (hasSummary) {\r\n\t\t\tif (numValues > 0) {\r\n\t\t\t\treturn 'btn btn-success'\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\treturn 'btn btn-warning'\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t//return 'btn btn-outline-dark'\r\n\t\t}\r\n\t\t\t\r\n\t}\r\n\t\r\n\tlet messageLine1 = \"Showing Company Summary for: \" + props.currentCompany\r\n\tlet messageLine2 = \"For Date: \" + currentSummaryDate\r\n\tlet messageLine3 = \"Summary Type: \" + convertSummaryType[props.summaryType]\r\n\t\r\n\t//let showIdle = props.getCompanyWeeklySummaryStatus === 0\r\n\tlet showWaiting = props.getCompanyWeeklySummaryStatus === 1\r\n\tlet showSuccess = false//props.getCompanyWeeklySummaryStatus === 2\r\n\tlet showError = props.getCompanyWeeklySummaryStatus === 3\r\n\t\r\n\tif (showWaiting) {\r\n\t\tmessageLine1 = \"Please Wait...\"\r\n\t\tmessageLine2 = \"Loading\"\r\n\t\tmessageLine3 = \"...\"\r\n\t}\r\n\t\r\n\tlet errorParse = []\r\n\t\tfor (let index in props.getCompanyWeeklySummaryError) {\r\n\t\t\terrorParse.push(\r\n\t\t\t\tprops.getCompanyWeeklySummaryError[index][\"text\"]\r\n\t\t\t)\r\n\t\t}\r\n\t\tif (errorParse.length === 0) {\r\n\t\t\terrorParse.push(\r\n\t\t\t\t\"Unknown!\"\r\n\t\t\t)\r\n\t\t}\r\n\t\r\n\treturn (\r\n\t\t<div className=\"companyView\">\r\n\t\t\t<div className=\"container-fluid\">\r\n\t\t\t\t\r\n\t\t\t\t<div className=\"row m-2 justify-content-center\">\r\n\t\t\t\t\t<div className=\"col- m-2\">\t\t\t\t\t\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<Calendar \r\n\t\t\t\t\t\t\t\tclassName=\"shadow\"\r\n\t\t\t\t\t\t\t\tonChange={props.pickDate}\r\n\t\t\t\t\t\t\t\tvalue={props.currentDate}\r\n\t\t\t\t\t\t\t\ttileClassName={tileClassName}\r\n\r\n\t\t\t\t\t\t\t\tminDetail={'year'}\r\n\t\t\t\t\t\t\t\tmaxDetail={'month'}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<div className=\"row m-2\">\r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<div className=\"card shadow\">\r\n\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t<div>{messageLine1}</div>\r\n\t\t\t\t\t\t\t\t<div>{messageLine2}</div>\r\n\t\t\t\t\t\t\t\t<div>{messageLine3}</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t{showResult}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<Alert show={showWaiting} variant=\"warning\">\r\n\t\t\t\t\t<Alert.Heading>Waiting</Alert.Heading>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t  Waiting for server response...\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t</Alert>\r\n\t\t\t\t\r\n\t\t\t\t<Alert show={showSuccess} variant=\"success\">\r\n\t\t\t\t\t<Alert.Heading>Success!</Alert.Heading>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t  Successfully obtained data!\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t</Alert>\r\n\t\t\t\t\r\n\t\t\t\t<Alert show={showError} variant=\"danger\">\r\n\t\t\t\t\t<Alert.Heading>Error!</Alert.Heading>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\t{errorParse}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t</Alert>\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default withRouter(companyViewSummary);","import React from \"react\";\r\nimport { Search } from 'react-bootstrap-icons';\r\n\r\nimport { withRouter, } from \"react-router-dom\";\r\nimport { Alert } from 'react-bootstrap';\r\n\r\nimport { APIGetSearchPrompts, APIGetDivisionEvents, APISetDivisionEvents, APIDeleteDivisionEvents, APISetNonDivisionEvents } from \"../../utils\";\r\n\r\nconst triggerType = [\r\n\t\"Never\",\r\n\t\"Always\",\r\n\t\"On Monday\",\r\n\t\"On Tuesday\",\r\n\t\"On Wednesday\",\r\n\t\"On Thursday\",\r\n\t\"On Friday\",\r\n\t\"On Saturday\",\r\n\t\"On Sunday\",\r\n]\r\n\r\nconst promptType = [\r\n\t\"Open\",\r\n\t\"Likert\",\r\n\t\"Rating\",\r\n\t\"Multi\",\r\n\t\"Boolean\",\r\n]\r\n\r\n// Move this to a util later.... Its used in CompanyPrompts, SelectCompany and Suggestions....\r\nclass Paginator extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n        super(props);\r\n\t\tthis.state = {\r\n\t\t\tbtnLen: 2,\r\n\t\t}\r\n\t}\r\n\t\r\n\trender() {\r\n\t\t\r\n\t\tlet prevAlter = \"\"\r\n\t\tlet nextAlter = \"\"\r\n\t\t\r\n\t\tif (this.props.activePage <= 0) {\r\n\t\t\tprevAlter = \"disabled\"\r\n\t\t}\r\n\r\n\t\tif (this.props.activePage >= this.props.totalLoaded/this.props.numPerPage-1) {\r\n\t\t\tnextAlter = \"disabled\"\r\n\t\t}\r\n\t\t\r\n\t\tlet numberButtons = []\r\n\t\tfor (let i = -this.state.btnLen; i <= this.state.btnLen; i++) {\r\n\t\t\tlet altered = \"\"\r\n\t\t\t\r\n\t\t\tlet altI = i+this.props.activePage\r\n\t\t\tif (altI < 0 || altI >= this.props.totalLoaded/this.props.numPerPage) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (i === 0) {\r\n\t\t\t\taltered = \"active \"\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tnumberButtons.push(\r\n\t\t\t\t<button key={i} className={\"btn btn-outline-primary \" + altered} value={altI} onClick={this.props.changeToNum}>\r\n\t\t\t\t\t{altI}\r\n\t\t\t\t</button>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className = \"paginator\">\r\n\t\t\t\t<div className = \"container\">\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<button className={\"btn btn-outline-primary \" + prevAlter} value=\"bck\" onClick={this.props.changePrevNext}>\r\n\t\t\t\t\t\t\t\tPrev\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t{numberButtons}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<button className={\"btn btn-outline-primary \" + nextAlter} value=\"fwd\" onClick={this.props.changePrevNext}>\r\n\t\t\t\t\t\t\t\tNext\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\n// I prefer class form honestly...\r\nclass PromptDisplay extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n        super(props);\r\n\t\tthis.state = {\r\n\t\t\t\r\n\t\t\teventsGlobBin: [],\r\n\t\t\teventsCompBin: [],\r\n\t\t\teventsDivBin: [],\r\n\t\t\t\r\n\t\t\tpromptsBin: [],\r\n\t\t\t\r\n\t\t\tpageNum: 0,\r\n\t\t\tnumPerPage: 5,\r\n\t\t\t\r\n\t\t\tsearchText: \"\",\r\n\t\t\tsearchType: \"text\",\r\n\t\t\t\r\n\t\t\thasSent: false,\r\n\t\t\t\r\n\t\t\tlastClickedEventIndex: -1,\r\n\t\t\t\r\n\t\t\taddedPrompt: 0,\r\n\t\t\t\r\n\t\t\tgetEventsStatus: 0,\r\n\t\t\tgetEventsError: [],\r\n\t\t\t\r\n\t\t\tsaveEventStatus: 0,\r\n\t\t\tsaveEventError: [],\r\n\t\t\t\r\n\t\t\tsearchForStatus: 0,\r\n\t\t\tsearchForError: [],\r\n\t\t\t\r\n\t\t\tdeleteEventStatus: 0,\r\n\t\t\tdeleteEventError: [],\r\n\t\t}\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tthis.getEvents()\r\n\t};\r\n\t\r\n\tsetLastClickedEvent = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tlastClickedEventIndex: Number(event.target.value)\r\n\t\t})\r\n\t}\r\n\t\r\n\tgetEventsFailure = (responseData) => {\r\n\t\tlet returnData = []\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.refreshToken(this.getEvents)\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\treturnData = responseData['messages']\r\n\t\tthis.setState({\r\n\t\t\tgetEventsStatus: 3,\r\n\t\t\tgetEventsError: returnData,\r\n\t\t})\r\n\t}\r\n\tgetEventsSuccess = (incomingEvents) => {\r\n\t\t//console.log(this.props.currentDivisionID)\r\n\t\t\r\n\t\t// I need to sort these here....\r\n\t\t//console.log(incomingEvents)\r\n\t\t\r\n\t\tlet sortedGlobal = []\r\n\t\tlet sortedCompany = []\r\n\t\tlet sortedDivision = []\r\n\t\t\r\n\t\tfor (let index in incomingEvents) {\r\n\t\t\t//console.log(incomingEvents[index])\r\n\t\t\tif (incomingEvents[index][\"creatorCompany\"] === null) {\r\n\t\t\t\tsortedGlobal.push(incomingEvents[index])\r\n\t\t\t}\r\n\t\t\telse if (incomingEvents[index][\"creatorDivision\"] === this.props.currentDivisionID) {\r\n\t\t\t\tsortedDivision.push(incomingEvents[index])\r\n\t\t\t}\r\n\t\t\t// This should only trigger if the company made this, as that is what is sent here...\r\n\t\t\t// However, that may not be the case in the future, so this needs to be better!\r\n\t\t\telse {\r\n\t\t\t\tsortedCompany.push(incomingEvents[index])\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\teventsGlobBin: sortedGlobal,\r\n\t\t\teventsCompBin: sortedCompany,\r\n\t\t\teventsDivBin: sortedDivision,\r\n\t\t\t\r\n\t\t\tgetEventsStatus: 2,\r\n\t\t})\r\n\t}\r\n\tgetEvents = () => {\r\n\t\tif (!(this.props.currentDivisionID === -1)) {\r\n\t\t\tlet checkData = undefined\r\n\t\t\tif (checkData === undefined) {\r\n\t\t\t\tAPIGetDivisionEvents(  this.props.currentDivisionID, this.getEventsSuccess, this.getEventsFailure )\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tgetEventsStatus: 1,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t//getEventsSuccess( ??? )\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tconsole.log(\"MOVE IT BACK TO THE SELECT COMPANY HERE!\")\r\n\t\t}\r\n\t}\r\n\t\r\n\tsaveEventsFailure = (responseData) => {\r\n\t\tlet returnData = []\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.refreshToken(this.tokenHasRefreshedError)\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\treturnData = responseData['messages']\r\n\t\tthis.setState({\r\n\t\t\tsaveEventStatus: 3,\r\n\t\t\tsaveEventError: returnData,\r\n\t\t})\r\n\t}\r\n\tsaveEventsSuccess = (savedIndex, incomingMessage) => {\r\n\t\tif ( !this.state.eventsDivBin[savedIndex][\"fromServer\"] ) {\r\n\t\t\tlet temp = this.state.eventsDivBin.slice()\r\n\t\t\ttemp[savedIndex][\"id\"] = Number(incomingMessage.split(\":\")[1])\r\n\t\t\ttemp[savedIndex][\"fromServer\"] = true\r\n\r\n\t\t\tthis.setState({\r\n\t\t\t\teventsDivBin: temp,\r\n\t\t\t})\r\n\t\t}\r\n\t\tthis.setState({\r\n\t\t\tsaveEventStatus: 2,\r\n\t\t})\r\n\t}\r\n\tsaveDivEvent = (event) => {\r\n\t\tlet selectedEvent = this.state.eventsDivBin[event.target.value]\r\n\r\n\t\tlet id = selectedEvent[\"id\"]\r\n\t\tlet newTrigger = selectedEvent[\"triggerType\"]\r\n\t\tlet newEnabledDiv = selectedEvent[\"usedBy\"]\r\n\t\tlet newEnabled = selectedEvent[\"enabled\"]\r\n\t\t\r\n\t\tlet newPrompts = []\r\n\t\tfor (let index in selectedEvent[\"promptPool\"]) {\r\n\t\t\tnewPrompts.push( selectedEvent[\"promptPool\"][index][\"identifier\"] )\r\n\t\t}\r\n\t\t\r\n\t\tAPISetDivisionEvents( Number(event.target.value), id, this.props.currentDivisionID, newEnabledDiv, newEnabled, newTrigger, newPrompts, this.saveEventsSuccess, this.saveEventsFailure )\r\n\t\tthis.setState({\r\n\t\t\tsaveEventStatus: 0,\r\n\t\t})\r\n\t}\r\n\t\r\n\tsaveNonDivEventsFailure = (responseData) => {\r\n\t\tlet returnData = []\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.refreshToken(this.tokenHasRefreshedError)\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\treturnData = responseData['messages']\r\n\t\tthis.setState({\r\n\t\t\tsaveEventStatus: 3,\r\n\t\t\tsaveEventError: returnData,\r\n\t\t})\r\n\t}\r\n\tsaveNonDivEventsSuccess = (savedIndex, incomingMessage) => {\r\n\t\tthis.setState({\r\n\t\t\tsaveEventStatus: 2,\r\n\t\t})\r\n\t}\r\n\tsaveGlobEvent = (event) => {\r\n\t\tlet selectedEvent = this.state.eventsGlobBin[event.target.value]\r\n\r\n\t\tlet id = selectedEvent[\"id\"]\r\n\t\tlet newEnabledDiv = selectedEvent[\"usedBy\"]\r\n\t\t\r\n\t\tAPISetNonDivisionEvents( Number(event.target.value), id, this.props.currentDivisionID, newEnabledDiv, this.saveNonDivEventsSuccess, this.saveNonDivEventsFailure )\r\n\t\tthis.setState({\r\n\t\t\tsaveEventStatus: 0,\r\n\t\t})\r\n\t}\r\n\tsaveCompEvent = (event) => {\r\n\t\tlet selectedEvent = this.state.eventsCompBin[event.target.value]\r\n\r\n\t\tlet id = selectedEvent[\"id\"]\r\n\t\tlet newEnabledDiv = selectedEvent[\"usedBy\"]\r\n\t\t\r\n\t\tAPISetNonDivisionEvents( Number(event.target.value), id, this.props.currentDivisionID, newEnabledDiv, this.saveNonDivEventsSuccess, this.saveNonDivEventsFailure )\r\n\t\tthis.setState({\r\n\t\t\tsaveEventStatus: 0,\r\n\t\t})\r\n\t}\r\n\t\r\n\tsearchForPromptsFailure = (responseData) => {\r\n\t\tlet returnData = []\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.refreshToken(this.searchForPrompts)\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\treturnData = responseData['messages']\r\n\t\tthis.setState({\r\n\t\t\tsearchForStatus: 3,\r\n\t\t\tsearchForError: returnData,\r\n\t\t})\r\n\t}\r\n\tsearchForPromptsCallback = (incomingPrompts) => {\r\n\r\n\t\tthis.setState({\r\n\t\t\tpromptsBin: incomingPrompts,\r\n\t\t\thasSent: true,\r\n\t\t\t\r\n\t\t\tsearchForStatus: 2,\r\n\t\t})\r\n\t}\r\n\tsearchForPrompts = () => {\r\n\t\tlet checkData = undefined\r\n\t\tif (checkData === undefined) {\r\n\t\t\t//console.log(\"Prompts are not in storage!\")\r\n\t\t\tAPIGetSearchPrompts( this.state.searchText, this.state.searchType, this.searchForPromptsCallback, this.searchForPromptsFailure)\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tsearchForStatus: 1,\r\n\t\t\t})\r\n\t\t}\r\n\t\telse {\r\n\t\t\tconsole.log(\"Prompts ARE in storage!\")\r\n\t\t\t//this.searchForPromptsCallback(checkData.???, checkData.???)\r\n\t\t}\r\n\t}\r\n\t\r\n\tdeleteEventFailure = (responseData) => {\r\n\t\tlet returnData = []\r\n\t\t// Server is dead\r\n\t\tif (responseData[\"action\"] === 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\t// Unauthorized\r\n\t\telse if (responseData[\"action\"] === 1) {\r\n\t\t\tthis.props.refreshToken(this.tokenHasRefreshedError)\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// Invalid Permissions\r\n\t\telse if (responseData[\"action\"] === 2) {\r\n\r\n\t\t}\r\n\t\t// Bad Request\r\n\t\telse if (responseData[\"action\"] === 3) {\r\n\r\n\t\t}\r\n\t\t// Server Exploded Error\r\n\t\telse if (responseData[\"action\"] === 4) {\r\n\r\n\t\t}\r\n\t\t// Unknown Error\r\n\t\telse if (responseData[\"action\"] === 5) {\r\n\r\n\t\t}\r\n\t\t\r\n\t\treturnData = responseData['messages']\r\n\t\tthis.setState({\r\n\t\t\tdeleteEventStatus: 3,\r\n\t\t\tdeleteEventError: returnData,\r\n\t\t})\r\n\t}\r\n\tdeleteEventCallback = (storedID, incomingMessage) => {\r\n\t\t\r\n\t\tlet valueInt = Number(storedID)\r\n\t\tlet temp = this.state.eventsDivBin.slice()\r\n\t\ttemp.splice(valueInt,1)\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\teventsDivBin: temp,\r\n\t\t\tdeleteEventStatus: 2,\r\n\t\t})\r\n\t\t\r\n\t}\r\n\tdeleteEvent = (event) => {\r\n\t\tlet selectedEvent = this.state.eventsDivBin[ Number(event.target.value) ]\r\n\r\n\t\tlet id = selectedEvent[\"id\"]\r\n\t\t\r\n\t\tif (!selectedEvent[\"fromServer\"]) {\r\n\t\t\tthis.deleteEventCallback( Number(event.target.value), \"Not On The Server\")\r\n\t\t}\r\n\t\telse{\t\t\t\r\n\t\t\tAPIDeleteDivisionEvents( Number(event.target.value), id, this.props.currentDivisionID, this.deleteEventCallback, this.deleteEventFailure )\r\n\t\t\tthis.setState({\r\n\t\t\t\tdeleteEventStatus: 1,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tcreateEvent = () => {\r\n\t\tlet newEvents = this.state.eventsDivBin.slice()\r\n\t\t\r\n\t\t// I can proboly replace the \"Fromserver\" with an id of -1?\r\n\t\tnewEvents.push(\r\n\t\t\t{\"id\":-1, \"triggerType\":0, \"promptPool\":[], \"enabled\":true, \"usedBy\":false, \"fromServer\":false}\r\n\t\t)\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\teventsDivBin: newEvents,\r\n\t\t})\r\n\t}\r\n\t\r\n\tchangeInput = (event) => {\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tsearchText: event.target.value\r\n\t\t})\r\n\t}\r\n\t\r\n\tdeleteEventPrompt = (event) => {\r\n\t\tlet eventIndex = Number(event.target.name)\r\n\t\tlet promptIndex = Number(event.target.value)\r\n\r\n\t\tlet temp = this.state.eventsDivBin.slice()\r\n\t\ttemp[eventIndex][\"promptPool\"].splice( promptIndex,1 )\r\n\t\t\r\n\t\t//console.log(eventIndex)\r\n\t\t//console.log(promptIndex)\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\teventsDivBin: temp,\r\n\t\t})\r\n\t}\r\n\t\r\n\taddingEventPrompt = (event) => {\r\n\t\tlet promptIndex = Number(event.target.value)\r\n\t\t\r\n\t\tlet targetIndex = this.state.lastClickedEventIndex\r\n\t\t\r\n\t\tif (targetIndex >= 0) {\r\n\t\t\tlet temp = this.state.eventsDivBin.slice()\r\n\t\t\t\r\n\t\t\t// Check to see if it is already here...\r\n\t\t\tlet sanity = temp[targetIndex][\"promptPool\"].find(element => element[\"identifier\"] === this.state.promptsBin[ promptIndex ][\"identifier\"] )\r\n\t\t\t\r\n\t\t\tlet promptReport = 0\r\n\t\t\tif (sanity === undefined) {\r\n\t\t\t\ttemp[targetIndex][\"promptPool\"].push(this.state.promptsBin[ promptIndex ])\r\n\t\t\t\tpromptReport = 1\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tpromptReport = 2\r\n\t\t\t}\r\n\r\n\t\t\tthis.setState({\r\n\t\t\t\teventsDivBin: temp,\r\n\t\t\t\taddedPrompt: promptReport,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\t\r\n\tchangeTrigger = (event) => {\r\n\t\tlet idNumberName = event.target.name.split(\",\")\r\n\t\r\n\t\tlet alteredEvents = this.state.eventsDivBin.slice()\r\n\t\talteredEvents[ idNumberName[0] ][\"triggerType\"] = Number(idNumberName[1])\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\teventsDivBin: alteredEvents,\r\n\t\t})\r\n\t}\r\n\t\r\n\tenabledGlobalFieldChange = (event) => {\r\n\t\tlet alteredEvents = this.state.eventsGlobBin.slice()\r\n\t\talteredEvents[event.target.name][\"usedBy\"] = !alteredEvents[event.target.name][\"usedBy\"]\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\teventsGlobBin: alteredEvents,\r\n\t\t})\r\n\t}\r\n\tenabledCompanyFieldChange = (event) => {\r\n\t\tlet alteredEvents = this.state.eventsCompBin.slice()\r\n\t\talteredEvents[event.target.name][\"usedBy\"] = !alteredEvents[event.target.name][\"usedBy\"]\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\teventsCompBin: alteredEvents,\r\n\t\t})\r\n\t}\r\n\tenabledDivisionFieldChange = (event) => {\r\n\t\tlet alteredEvents = this.state.eventsDivBin.slice()\r\n\t\talteredEvents[event.target.name][\"usedBy\"] = !alteredEvents[event.target.name][\"usedBy\"]\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\teventsDivBin: alteredEvents,\r\n\t\t})\r\n\t}\r\n\tenabledDivisionFieldChangeSuper = (event) => {\r\n\t\tlet alteredEvents = this.state.eventsDivBin.slice()\r\n\t\talteredEvents[event.target.name][\"enabled\"] = !alteredEvents[event.target.name][\"enabled\"]\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\teventsDivBin: alteredEvents,\r\n\t\t})\r\n\t}\r\n\t\r\n\tchangePageTo = (event) => {\r\n\t\t\r\n\t\tlet newPage = Number(event.target.value)\r\n\t\t// Sanity check!\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tpageNum: newPage\r\n\t\t})\r\n\t}\r\n\tchangePageFwdBck = (event) => {\r\n\t\t\r\n\t\tlet newPage = Number(this.state.pageNum)\r\n\t\t\r\n\t\tif (event.target.value === \"fwd\") {\r\n\t\t\tnewPage = newPage + 1\r\n\t\t\r\n\t\t\tif (newPage > this.state.promptsBin.length/this.state.numPerPage) {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if (event.target.value === \"bck\") {\r\n\t\t\tnewPage = newPage - 1\r\n\t\t\t\r\n\t\t\tif (newPage < 0) {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t}\r\n\t\t\t\r\n\t\tthis.setState({\r\n\t\t\tpageNum: newPage\r\n\t\t})\r\n\t}\r\n\t\r\n\ttokenHasRefreshedError = () => {\r\n\t\tconsole.log(\"Try again, the token needed to be refreshed...\")\r\n\t}\r\n\t\r\n\trender() {\r\n\t\t\r\n\t\t//let showIdle = this.state.getEventsStatus === 0 || this.state.saveEventStatus === 0 || this.state.searchForStatus === 0 || this.state.deleteEventStatus === 0\r\n\t\tlet showWaiting = this.state.getEventsStatus === 1 || this.state.saveEventStatus === 1 || this.state.deleteEventStatus === 1 //|| this.state.searchForStatus === 1 \r\n\t\tlet showSuccess = this.state.saveEventStatus === 2 || this.state.deleteEventStatus === 2 //|| this.state.searchForStatus === 2 || this.state.getEventsStatus === 2 || \r\n\t\tlet showError = this.state.getEventsStatus === 3 || this.state.saveEventStatus === 3 || this.state.deleteEventStatus === 3 //|| this.state.searchForStatus === 3\r\n\t\t\r\n\t\tlet errorParse = []\r\n\t\tfor (let index in this.state.getEventsError) {\r\n\t\t\terrorParse.push(\r\n\t\t\t\tthis.state.getEventsError[index][\"text\"]\r\n\t\t\t)\r\n\t\t}\r\n\t\tfor (let index in this.state.saveEventError) {\r\n\t\t\terrorParse.push(\r\n\t\t\t\tthis.state.saveEventError[index][\"text\"]\r\n\t\t\t)\r\n\t\t}\r\n\t\tfor (let index in this.state.deleteEventError) {\r\n\t\t\terrorParse.push(\r\n\t\t\t\tthis.state.deleteEventError[index][\"text\"]\r\n\t\t\t)\r\n\t\t}\r\n\t\tfor (let index in this.state.searchForError) {\r\n\t\t\terrorParse.push(\r\n\t\t\t\tthis.state.searchForError[index][\"text\"]\r\n\t\t\t)\r\n\t\t}\r\n\t\tif (errorParse.length === 0) {\r\n\t\t\terrorParse.push(\r\n\t\t\t\t\"Unknown!\"\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\tlet globModals = []\r\n\t\tlet showGlobalEvents = []\r\n\t\tfor (let index in this.state.eventsGlobBin) {\r\n\t\t\tlet thisEvent = this.state.eventsGlobBin[index]\r\n\t\t\t\r\n\t\t\tshowGlobalEvents.push(\r\n\t\t\t\t<div className=\"col\" key={index}>\r\n\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t<div className=\"card-header\">\r\n\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\tTrigger Type: { triggerType[ thisEvent[\"triggerType\"] ] }\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"row m-1\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<b><u><i>{thisEvent[\"promptPool\"].length}</i></u></b> Prompts\r\n\t\t\t\t\t\t\t\t\t<button className=\"btn btn-secondary mx-2\" data-toggle=\"modal\" data-target={\"#globPrompts\"+index}>\r\n\t\t\t\t\t\t\t\t\t\tShow\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<div className='custom-control custom-checkbox'>\r\n\t\t\t\t\t\t\t\t\t\t<input type='checkbox' className='custom-control-input' id={'customCheckGlob'+index} name={index} value={thisEvent[\"usedBy\"]} onChange={this.enabledGlobalFieldChange} checked={thisEvent[\"usedBy\"]} />\r\n\t\t\t\t\t\t\t\t\t\t<label className='custom-control-label' htmlFor={'customCheckGlob'+index} >Enabled For This Division</label>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<div className='custom-control custom-checkbox'>\r\n\t\t\t\t\t\t\t\t\t\t<input type='checkbox' className='custom-control-input' id={'customCheckGlob2'+index} name={index} value={thisEvent[\"enabled\"]} checked={thisEvent[\"enabled\"]} disabled />\r\n\t\t\t\t\t\t\t\t\t\t<label className='custom-control-label' htmlFor={'customCheckGlob2'+index} >Is Enabled</label>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<button className=\"btn btn-primary\" value={index} onClick={this.saveGlobEvent}>\r\n\t\t\t\t\t\t\t\t\t\tSave Changes\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t\t\r\n\t\t\t//console.log(thisEvent)\r\n\t\t\t\r\n\t\t\tlet displayCurrentPrompts = []\r\n\t\t\tfor (let indexSub in thisEvent[\"promptPool\"]) {\r\n\t\t\t\tlet subset = thisEvent[\"promptPool\"][indexSub][\"text\"].substring(0, 12) + \"...\";\r\n\t\t\t\t\r\n\t\t\t\t//console.log(thisEvent[\"promptPool\"][indexSub])\r\n\t\t\t\tdisplayCurrentPrompts.push(\r\n\t\t\t\t\r\n\t\t\t\t\t<tr key={indexSub}>\r\n\t\t\t\t\t\t<th scope=\"row\">\r\n\t\t\t\t\t\t\t<button className=\"btn btn-outline-secondary\" data-toggle=\"collapse\" data-target={\"#displayGlobPromptCollapse\"+index+indexSub}>\r\n\t\t\t\t\t\t\t\t{subset}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t<td>{thisEvent[\"promptPool\"][indexSub][\"identifier\"]}</td>\r\n\t\t\t\t\t\t<td>{promptType[thisEvent[\"promptPool\"][indexSub][\"promptType\"]]}</td>\r\n\t\t\t\t\t</tr>,\r\n\t\t\t\t\t<tr key={1 + indexSub + thisEvent[\"promptPool\"].length}>\r\n\t\t\t\t\t\t<th scope=\"row\" colSpan=\"4\" className=\"collapse\" id={\"displayGlobPromptCollapse\"+index+indexSub}>\r\n\t\t\t\t\t\t\t{thisEvent[\"promptPool\"][indexSub][\"text\"]}\r\n\t\t\t\t\t\t</th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (displayCurrentPrompts.length === 0) {\r\n\t\t\t\tdisplayCurrentPrompts.push(\r\n\t\t\t\t\t<tr key={0}>\r\n\t\t\t\t\t\t<th scope=\"row\" colSpan=\"4\">\r\n\t\t\t\t\t\t\tNothing here!\r\n\t\t\t\t\t\t</th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tglobModals.push(\r\n\t\t\t\t<div key={index} className=\"modal fade\" id={\"globPrompts\"+index} tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"globPromptsDisplayer\" aria-hidden=\"true\">\r\n\t\t\t\t\t<div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n\t\t\t\t\t\t<div className=\"modal-content\">\r\n\t\t\t\t\t\t\t<div className=\"modal-header\">\r\n\r\n\t\t\t\t\t\t\t\t<h5 className=\"modal-title\">Altering Prompts</h5>\r\n\t\t\t\t\t\t\t\t<button type=\"btn btn-danger\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n\t\t\t\t\t\t\t\t  <span aria-hidden=\"true\">&times;</span>\r\n\t\t\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"modal-body\">\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<table className=\"table\" key=\"1\">\r\n\t\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Text</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">IID?</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Type</th>\r\n\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t\t{displayCurrentPrompts}\r\n\t\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"modal-footer\">\r\n\r\n\t\t\t\t\t\t\t\t{/*\r\n\t\t\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-danger\" data-dismiss=\"modal\">Yes</button>\r\n\t\t\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-primary\" data-dismiss=\"modal\">No</button>\r\n\t\t\t\t\t\t\t\t*/}\r\n\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\tif (showGlobalEvents.length === 0) {\r\n\t\t\tshowGlobalEvents.push(\r\n\t\t\t\t<div className=\"col\" key={0}>\r\n\t\t\t\t\tNothing Here!\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\tlet compModals = []\r\n\t\tlet showCompEvents = []\r\n\t\tfor (let index in this.state.eventsCompBin) {\r\n\t\t\tlet thisEvent = this.state.eventsCompBin[index]\r\n\t\t\t\r\n\t\t\tshowCompEvents.push(\r\n\t\t\t\t<div className=\"col\" key={index}>\r\n\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t<div className=\"card-header\">\r\n\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\tTrigger Type: { triggerType[ thisEvent[\"triggerType\"] ] }\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"row m-1\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<b><u><i>{thisEvent[\"promptPool\"].length}</i></u></b> Prompts\r\n\t\t\t\t\t\t\t\t\t<button className=\"btn btn-secondary mx-2\" data-toggle=\"modal\" data-target={\"#compPrompts\"+index}>\r\n\t\t\t\t\t\t\t\t\t\tShow\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<div className='custom-control custom-checkbox'>\r\n\t\t\t\t\t\t\t\t\t\t<input type='checkbox' className='custom-control-input' id={'customCheckComp'+index} name={index} value={thisEvent[\"usedBy\"]} onChange={this.enabledCompanyFieldChange} checked={thisEvent[\"usedBy\"]} />\r\n\t\t\t\t\t\t\t\t\t\t<label className='custom-control-label' htmlFor={'customCheckComp'+index} >Enabled For This Division</label>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<div className='custom-control custom-checkbox'>\r\n\t\t\t\t\t\t\t\t\t\t<input type='checkbox' className='custom-control-input' id={'customCheckComp2'+index} name={index} value={thisEvent[\"enabled\"]} checked={thisEvent[\"enabled\"]} disabled />\r\n\t\t\t\t\t\t\t\t\t\t<label className='custom-control-label' htmlFor={'customCheckComp2'+index} >Is Enabled</label>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<button className=\"btn btn-primary\" value={index} onClick={this.saveCompEvent}>\r\n\t\t\t\t\t\t\t\t\t\tSave Changes\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t\t\r\n\t\t\tlet displayCurrentPrompts = []\r\n\t\t\tfor (let indexSub in thisEvent[\"promptPool\"]) {\r\n\t\t\t\t\r\n\t\t\t\tlet subset = thisEvent[\"promptPool\"][indexSub][\"text\"].substring(0, 12) + \"...\";\r\n\t\t\t\t\r\n\t\t\t\t//console.log(thisEvent[\"promptPool\"][indexSub])\r\n\t\t\t\tdisplayCurrentPrompts.push(\r\n\t\t\t\t\r\n\t\t\t\t\t<tr key={indexSub}>\r\n\t\t\t\t\t\t<th scope=\"row\">\r\n\t\t\t\t\t\t\t<button className=\"btn btn-outline-secondary\" data-toggle=\"collapse\" data-target={\"#displayCompPromptCollapse\"+index+indexSub}>\r\n\t\t\t\t\t\t\t\t{subset}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t<td>{thisEvent[\"promptPool\"][indexSub][\"identifier\"]}</td>\r\n\t\t\t\t\t\t<td>{promptType[thisEvent[\"promptPool\"][indexSub][\"promptType\"]]}</td>\r\n\t\t\t\t\t</tr>,\r\n\t\t\t\t\t<tr key={1 + indexSub + thisEvent[\"promptPool\"].length}>\r\n\t\t\t\t\t\t<th scope=\"row\" colSpan=\"4\" className=\"collapse\" id={\"displayCompPromptCollapse\"+index+indexSub}>\r\n\t\t\t\t\t\t\t{thisEvent[\"promptPool\"][indexSub][\"text\"]}\r\n\t\t\t\t\t\t</th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t\t\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (displayCurrentPrompts.length === 0) {\r\n\t\t\t\tdisplayCurrentPrompts.push(\r\n\t\t\t\t\t<tr key={0}>\r\n\t\t\t\t\t\t<th scope=\"row\" colSpan=\"4\">\r\n\t\t\t\t\t\t\tNothing here!\r\n\t\t\t\t\t\t</th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tcompModals.push(\r\n\t\t\t\t<div key={index} className=\"modal fade\" id={\"compPrompts\"+index} tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"compPromptsDisplayer\" aria-hidden=\"true\">\r\n\t\t\t\t\t<div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n\t\t\t\t\t\t<div className=\"modal-content\">\r\n\t\t\t\t\t\t\t<div className=\"modal-header\">\r\n\r\n\t\t\t\t\t\t\t\t<h5 className=\"modal-title\">Altering Prompts</h5>\r\n\t\t\t\t\t\t\t\t<button type=\"btn btn-danger\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n\t\t\t\t\t\t\t\t  <span aria-hidden=\"true\">&times;</span>\r\n\t\t\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"modal-body\">\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<table className=\"table\" key=\"1\">\r\n\t\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Text</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">IID?</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Type</th>\r\n\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t\t{displayCurrentPrompts}\r\n\t\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"modal-footer\">\r\n\r\n\t\t\t\t\t\t\t\t{/*\r\n\t\t\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-danger\" data-dismiss=\"modal\">Yes</button>\r\n\t\t\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-primary\" data-dismiss=\"modal\">No</button>\r\n\t\t\t\t\t\t\t\t*/}\r\n\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\tif (showCompEvents.length === 0) {\r\n\t\t\tshowCompEvents.push(\r\n\t\t\t\t<div className=\"col\" key={0}>\r\n\t\t\t\t\tNothing Here!\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\t//console.log(this.state.eventsDivBin)\r\n\t\t\r\n\t\t// Lets try doing MODALS like this....\r\n\t\tlet divModals = []\r\n\t\tlet showDivisionEvents = []\r\n\t\tfor (let index in this.state.eventsDivBin) {\r\n\t\t\tlet thisEvent = this.state.eventsDivBin[index]\r\n\r\n\t\t\tshowDivisionEvents.push(\r\n\t\t\t\t\r\n\t\t\t\t<div className=\"col\" key={index}>\r\n\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t{ !thisEvent[\"fromServer\"] &&\r\n\t\t\t\t\t\t\t\t<div className=\"text-danger\">\r\n\t\t\t\t\t\t\t\t\tNot Saved!\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tDelete\r\n\t\t\t\t\t\t\t<button className=\"badge badge-danger badge-pill\" name=\"test\" value={index} onClick={this.deleteEvent}>\r\n\t\t\t\t\t\t\t\tX\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<div className='dropdown'>\r\n\t\t\t\t\t\t\t\t\t\tTrigger Type:\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"btn btn-secondary mx-2\" type=\"button\" id={\"EventButton\"+index} data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n\t\t\t\t\t\t\t\t\t\t\t{ triggerType[ thisEvent[\"triggerType\"] ] }\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"dropdown-menu\" aria-labelledby={\"EventButton\"+index}>\r\n\t\t\t\t\t\t\t\t\t\t\t{triggerType.map((radio, idx) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div key={idx}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button className=\"dropdown-item\" name={ [index, idx] } onClick={this.changeTrigger}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{radio}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"row m-1\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<b><u><i>{thisEvent[\"promptPool\"].length}</i></u></b> Prompts\r\n\t\t\t\t\t\t\t\t\t<button className=\"btn btn-secondary mx-2\" data-toggle=\"modal\" data-target={\"#changePrompts\"+index}>\r\n\t\t\t\t\t\t\t\t\t\tChange\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<div className='custom-control custom-checkbox'>\r\n\t\t\t\t\t\t\t\t\t\t<input type='checkbox' className='custom-control-input' id={'customCheckDiv'+index} name={index} value={thisEvent[\"usedBy\"]} onChange={this.enabledDivisionFieldChange} checked={thisEvent[\"usedBy\"]} />\r\n\t\t\t\t\t\t\t\t\t\t<label className='custom-control-label' htmlFor={'customCheckDiv'+index} >Enabled For This Division</label>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<div className='custom-control custom-checkbox'>\r\n\t\t\t\t\t\t\t\t\t\t<input type='checkbox' className='custom-control-input' id={'customCheckDiv2'+index} name={index} value={thisEvent[\"enabled\"]} onChange={this.enabledDivisionFieldChangeSuper} checked={thisEvent[\"enabled\"]} disabled />\r\n\t\t\t\t\t\t\t\t\t\t<label className='custom-control-label' htmlFor={'customCheckDiv2'+index} >Enabled For ALL Divisions</label>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<button className=\"btn btn-primary\" value={index} onClick={this.saveDivEvent}>\r\n\t\t\t\t\t\t\t\t\t\tSave\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t)\r\n\t\t\t\r\n\t\t\tlet displayCurrentPrompts = []\r\n\t\t\tfor (let indexSub in thisEvent[\"promptPool\"]) {\r\n\t\t\t\t\r\n\t\t\t\tlet subset = thisEvent[\"promptPool\"][indexSub][\"text\"].substring(0, 12) + \"...\";\r\n\t\t\t\t\r\n\t\t\t\tdisplayCurrentPrompts.push(\r\n\t\t\t\t\r\n\t\t\t\t\t<tr key={indexSub}>\r\n\t\t\t\t\t\t<th scope=\"row\">\r\n\t\t\t\t\t\t\t<button className=\"btn btn-outline-secondary\" data-toggle=\"collapse\" data-target={\"#displayPromptCollapse\"+index+indexSub}>\r\n\t\t\t\t\t\t\t\t{subset}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t<td>{thisEvent[\"promptPool\"][indexSub][\"identifier\"]}</td>\r\n\t\t\t\t\t\t<td>{promptType[thisEvent[\"promptPool\"][indexSub][\"promptType\"]]}</td>\r\n\t\t\t\t\t\t<th>\r\n\t\t\t\t\t\t\t<button className=\"close\" type=\"button\" value={indexSub} name={index} onClick={this.deleteEventPrompt} aria-label=\"Close\">\r\n\t\t\t\t\t\t\t\t&times;\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</th>\r\n\t\t\t\t\t</tr>,\r\n\t\t\t\t\t<tr key={1 + indexSub + thisEvent[\"promptPool\"].length}>\r\n\t\t\t\t\t\t<th scope=\"row\" colSpan=\"4\" className=\"collapse\" id={\"displayPromptCollapse\"+index+indexSub}>\r\n\t\t\t\t\t\t\t{thisEvent[\"promptPool\"][indexSub][\"text\"]}\r\n\t\t\t\t\t\t</th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (displayCurrentPrompts.length === 0) {\r\n\t\t\t\tdisplayCurrentPrompts.push(\r\n\t\t\t\t\t<tr key={0}>\r\n\t\t\t\t\t\t<th scope=\"row\" colSpan=\"4\">\r\n\t\t\t\t\t\t\tNothing here!\r\n\t\t\t\t\t\t</th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tdivModals.push(\r\n\t\t\t\t<div key={index} className=\"modal fade\" id={\"changePrompts\"+index} tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"promptChanger\" aria-hidden=\"true\">\r\n\t\t\t\t\t<div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n\t\t\t\t\t\t<div className=\"modal-content\">\r\n\t\t\t\t\t\t\t<div className=\"modal-header\">\r\n\r\n\t\t\t\t\t\t\t\t<h5 className=\"modal-title\">Altering Prompts</h5>\r\n\t\t\t\t\t\t\t\t<button type=\"btn btn-danger\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n\t\t\t\t\t\t\t\t  <span aria-hidden=\"true\">&times;</span>\r\n\t\t\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"modal-body\">\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<table className=\"table\" key=\"1\">\r\n\t\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Text</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">IID?</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Type</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Delete</th>\r\n\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t\t{displayCurrentPrompts}\r\n\t\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<button className=\"btn btn-primary\" value={index} onClick={this.setLastClickedEvent} data-toggle=\"modal\" data-target=\"#addPrompts\">\r\n\t\t\t\t\t\t\t\t\tAdd New Prompt\r\n\t\t\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"modal-footer\">\r\n\r\n\t\t\t\t\t\t\t\t{/*\r\n\t\t\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-danger\" data-dismiss=\"modal\">Yes</button>\r\n\t\t\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-primary\" data-dismiss=\"modal\">No</button>\r\n\t\t\t\t\t\t\t\t*/}\r\n\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\tif (showCompEvents.length === 0) {\r\n\t\t\tshowCompEvents.push(\r\n\t\t\t\t<div className=\"col\" key={0}>\r\n\t\t\t\t\tNothing Here!\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\tlet showSearchPrompts = []\r\n\t\t//console.log(this.state.pageNum)\r\n\t\t//console.log(this.state.numPerPage)\r\n\r\n\t\tif (this.state.promptsBin.length > 0) {\r\n\t\t\r\n\t\t\tfor (let index = 0; index < this.state.numPerPage; index++) {\r\n\t\t\t\t\r\n\t\t\t\tlet alteredIndex = index + this.state.pageNum*this.state.numPerPage\r\n\t\t\t\t\r\n\t\t\t\tif (alteredIndex >= this.state.promptsBin.length) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tlet subset = this.state.promptsBin[alteredIndex][\"text\"].substring(0, 12) + \"...\";\r\n\t\t\t\t\r\n\t\t\t\tshowSearchPrompts.push(\r\n\r\n\t\t\t\t\t<tr key={alteredIndex}>\r\n\t\t\t\t\t\t<th scope=\"row\">\r\n\t\t\t\t\t\t\t<button className=\"btn btn-outline-secondary\" data-toggle=\"collapse\" data-target={\"#collapseExample\"+alteredIndex}>\r\n\t\t\t\t\t\t\t\t{subset}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t<td>{ this.state.promptsBin[alteredIndex][\"identifier\"] }</td>\r\n\t\t\t\t\t\t<td>{ this.state.promptsBin[alteredIndex][\"property1\"] }</td>\r\n\t\t\t\t\t\t<th>\r\n\t\t\t\t\t\t\t<button className=\"btn btn-outline-secondary\" value={alteredIndex} onClick={this.addingEventPrompt}>\r\n\t\t\t\t\t\t\t\t+\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</th>\r\n\t\t\t\t\t</tr>,\r\n\t\t\t\t\t<tr key={1 + alteredIndex + this.state.promptsBin.length}>\r\n\t\t\t\t\t\t<th scope=\"row\" colSpan=\"4\" className=\"collapse\" id={\"collapseExample\"+alteredIndex}>\r\n\t\t\t\t\t\t\t{ this.state.promptsBin[alteredIndex][\"text\"] }\r\n\t\t\t\t\t\t</th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t\t\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tif (this.state.hasSent) {\r\n\t\t\t\tshowSearchPrompts.push(\r\n\t\t\t\t\t<tr key={0}>\r\n\t\t\t\t\t\t<th scope=\"row\" colSpan=\"4\">\r\n\t\t\t\t\t\t\tNo Results!\r\n\t\t\t\t\t\t</th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tshowSearchPrompts.push(\r\n\t\t\t\t\t<tr key={0}>\r\n\t\t\t\t\t\t<th scope=\"row\" colSpan=\"4\">\r\n\t\t\t\t\t\t\tWaiting for Search!\r\n\t\t\t\t\t\t</th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className=\"EHIDisplay\">\r\n\t\t\t\t<div className=\"container-fluid\">\r\n\t\t\t\t\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card shadow\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<h5>This Division's Events</h5>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t{showDivisionEvents}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"row my-2\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\t<button className=\"btn btn-primary\" onClick={this.createEvent}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tCreate Event\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card shadow\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<h5>This Company's Shared Events</h5>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t{showCompEvents}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card shadow\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<h5>Global Events</h5>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t{showGlobalEvents}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Alert show={showWaiting} variant=\"warning\">\r\n\t\t\t\t\t\t<Alert.Heading>Waiting</Alert.Heading>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t  Waiting for server response...\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Alert show={showSuccess} variant=\"success\">\r\n\t\t\t\t\t\t<Alert.Heading>Success!</Alert.Heading>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t  Successfully obtained data or saved!\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Alert show={showError} variant=\"danger\">\r\n\t\t\t\t\t\t<Alert.Heading>Error!</Alert.Heading>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t  {errorParse}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\r\n\t\t\t\t\t{/*\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card shadow\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<h5>This Division Only</h5>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t{showGlobalEvents}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t*/}\r\n\t\t\t\t\t\r\n\t\t\t\t\t{globModals}\r\n\t\t\t\t\t{compModals}\r\n\t\t\t\t\t{divModals}\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"modal fade\" id=\"addPrompts\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"promptAdder\" aria-hidden=\"true\">\r\n\t\t\t\t\t\t<div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n\t\t\t\t\t\t\t<div className=\"modal-content\">\r\n\t\t\t\t\t\t\t\t<div className=\"modal-header\">\r\n\r\n\t\t\t\t\t\t\t\t\t<h5 className=\"modal-title\">Adding Prompts</h5>\r\n\t\t\t\t\t\t\t\t\t<button type=\"btn btn-danger\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n\t\t\t\t\t\t\t\t\t  <span aria-hidden=\"true\">&times;</span>\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"modal-body\">\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<div className=\"input-group rounded\">\r\n\t\t\t\t\t\t\t\t\t\t<input type=\"search\" className=\"form-control rounded\" placeholder=\"Search Text\" aria-label=\"Search\" aria-describedby=\"search-addon\" onChange={this.changeInput} />\r\n\t\t\t\t\t\t\t\t\t\t<button className=\"input-group-text border-0\" id=\"search-addon\" onClick={this.searchForPrompts}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Search className=\"iconBG\" color=\"black\" size={16} />\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<table className=\"table\" key=\"1\">\r\n\t\t\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Text</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">IID?</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Prop 1?</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Add</th>\r\n\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t\t\t{showSearchPrompts}\r\n\t\t\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t{this.state.addedPrompt === 1 && \r\n\t\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col text-success\">\r\n\t\t\t\t\t\t\t\t\t\t\t\tAdded!\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t{this.state.addedPrompt === 2 && \r\n\t\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col text-warning\">\r\n\t\t\t\t\t\t\t\t\t\t\t\tAlready on the list!\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"modal-footer\">\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<Paginator\r\n\t\t\t\t\t\t\t\t\t\tactivePage={this.state.pageNum}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tchangePrevNext={this.changePageFwdBck}\r\n\t\t\t\t\t\t\t\t\t\tchangeToNum={this.changePageTo}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\ttotalLoaded={this.state.promptsBin.length}\r\n\t\t\t\t\t\t\t\t\t\tnumPerPage={this.state.numPerPage}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default withRouter(PromptDisplay);","import React from \"react\";\r\n//import ReactDOM from \"react-dom\";\r\nimport Graph from \"react-graph-vis\";\r\nimport { Alert } from 'react-bootstrap';\r\nimport { Accordion, Card } from 'react-bootstrap';\r\n\r\n//APIGetDivisionWebDates\r\nimport { APIGetDivisionWeb } from \"../../utils\";\r\nimport { convertScanToWidth, convertScanToColor, graphOptions } from \"../../utils\";\r\nimport { ShowWebInfoComponent } from \"../../utils\";\r\n\r\nimport Calendar from 'react-calendar'\r\nimport 'react-calendar/dist/Calendar.css';\r\n\r\nimport { withRouter } from \"react-router-dom\";\r\n//, deleteStorageKey\r\n//import { timedLoadStorage, timedSaveStorage} from \"../../utils\";\r\n\r\n// How would these even work???\r\n//import \"./styles.css\";\r\n// need to import the vis network css in order to show tooltip\r\n//import \"./network.css\";\r\n\r\nconst GenerateTestInfo = () => {\r\n\t\r\n\tlet testInfo = [\r\n\r\n\t\t// These will be assembled One at a time in a storage facility...\r\n\t\t// Each probobly assigned their ID number in the database... That would work\r\n\t\t// Or a temporay one (Probobly in the negatives?) if for some reason we need to show that...\r\n\t\t\r\n\t\t// Use the sentiment as a weight....\r\n\t\t{\r\n\t\t\t'id':0,\r\n\t\t\t\"name\": \"Premade 1\",\r\n\t\t\t'isTracked': true,\r\n\t\t\t\r\n\t\t\t'toSet':[ {to:1, sentiment:0.8, freq:2}, {to:2, sentiment:-0.87, freq: 4} ],\r\n\t\t},\r\n\t\t{\r\n\t\t\t'id':1,\r\n\t\t\t'name': \"Premade 2\",\r\n\t\t\t'isTracked': true,\r\n\t\t\t\r\n\t\t\t'toSet':[ {to:0, sentiment:0.25, freq: 5} ],\r\n\t\t}\r\n\t]\r\n\t\r\n\tconst maxRels = 5\r\n\tconst MaxWeight = 7\r\n\tconst numIDs = 20\r\n\t\r\n\tfor (let i = 2; i < numIDs; i++) {\r\n\t\t\r\n\t\tlet toStuff = []\r\n\t\tfor (let j = 0; j < Math.floor(Math.random()*(maxRels+1)); j++ ) {\r\n\t\t\t\r\n\t\t\ttoStuff.push({\r\n\t\t\t\tto:Math.floor(Math.random()*(numIDs)), \r\n\t\t\t\tsentiment:2*Math.random()-1,\r\n\t\t\t\tfreq:Math.floor(Math.random()*MaxWeight),\r\n\t\t\t})\r\n\t\t}\r\n\t\t\r\n\t\tlet trackStuff = Math.random() > 0.5\r\n\t\t\r\n\t\ttestInfo.push(\r\n\t\t\t{\r\n\t\t\t\t'id':i,\r\n\t\t\t\t\"name\": \"Random \"+i,\r\n\t\t\t\t'isTracked': trackStuff,\r\n\t\t\t\t\r\n\t\t\t\t'toSet':toStuff,\r\n\t\t\t}\r\n\t\t)\r\n\t}\r\n\t\r\n\treturn testInfo\r\n}\r\n\r\n//const waitTimeMS = 100\r\nclass ViewCompanyWeb extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\t\t\t\r\n\t\t\tloadedDataDate: \"None\",\r\n\t\t\tloadedData: [],\r\n\t\t\tgraphDataPrimary: this.GenerateGraph( [] ),\r\n\t\t\t\r\n\t\t\tselectedNodes: [\"None\"],\r\n\t\t\tselectedToEdges: [\"None\"],\r\n\t\t\tselectedFromEdges: [\"None\"],\r\n\t\t\t\r\n\t\t\tgetWebStatus: 0,\r\n\t\t\tgetDatesWebStatus: 0,\r\n\t\t\tgetDatesWebError: [],\r\n\t\t\t\r\n\t\t\tselectedWebDay: new Date(),\r\n\t\t\t\r\n\t\t\tpageIsLoaded: false,\r\n        };\r\n\t\tthis.waitForParent = undefined;\r\n\t}\r\n\t\r\n\tcomponentDidMount = () => {\r\n\t\t\r\n\t\t/*\r\n\t\tlet isLoaded = this.checkParentIsLoaded()\r\n\t\tif (!isLoaded) {\t\r\n\t\t\t// Wait until app.js has loaded....\r\n\t\t\tthis.waitForParent = setInterval(this.checkParentIsLoaded, waitTimeMS)\r\n\t\t}\r\n\t\t*/\r\n\t}\r\n\t\r\n\tcheckParentIsLoaded = () => {\r\n\t\tif (this.props.parentHasLoaded) {\r\n\t\t\tclearInterval(this.waitForParent)\r\n\t\t\t//!! TOO MANY RESTARTS !!\r\n\t\t\tconsole.log(\"Web Has Finished Loading!\")\r\n\t\t\t//this.loadFromLocalStorage()\r\n\t\t\t\r\n\t\t\treturn true\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn false\r\n\t\t}\r\n\t}\r\n\t\r\n\tloadFromLocalStorage = () => {\r\n\t\t//let lastWebDate = timedLoadStorage('lastGotWeb');\r\n\t\tlet lastWebDate = 0\r\n\t\t\r\n\t\tif (lastWebDate === 0) {\r\n\t\t\t//console.log(\"No User In the Storage!\")\r\n\t\t}\r\n\t\telse if (lastWebDate === 1) {\r\n\t\t\t//console.log(\"Session was expired!\")\r\n\t\t}\r\n\t\telse if (lastWebDate === 2) {\r\n\t\t\t//console.log(\"Invalid Save!\")\r\n\t\t}\r\n\t\telse {\r\n\t\t\t\r\n\t\t\tif (lastWebDate.loadedDate === \"recent\") {\r\n\t\t\t\tthis.getCompanyWebRecent()\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.getCompanyWebPrevious(lastWebDate)\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tpageIsLoaded: true,\r\n\t\t})\r\n\t}\r\n\t\r\n\tGenerateGraph = (incomingData) => {\r\n\t\tlet trunMulti = 100\r\n\t\t\r\n\t\tlet defineGraph = {nodes:[], edges: []}\r\n\t\t\r\n\t\tfor (let index in incomingData) {\r\n\t\t\t\r\n\t\t\tlet borderColor = \"#000000\"\r\n\t\t\tlet backgroundColor = \"#FFF0F0\"\r\n\t\t\tif (incomingData[index][\"isTracked\"]) {\r\n\t\t\t\t//borderColor = \"#000000\"\r\n\t\t\t\tbackgroundColor = \"#FFFFFF\"\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tdefineGraph[\"nodes\"].push({ \r\n\t\t\t\tid: incomingData[index][\"id\"], \r\n\t\t\t\tlabel: incomingData[index][\"name\"],\r\n\t\t\t\t\r\n\t\t\t\tcolor: {\r\n\t\t\t\t\tborder:borderColor,\r\n\t\t\t\t\tbackground:backgroundColor,\r\n\t\t\t\t},\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\tfor (let indexTo in incomingData[index][\"toSet\"]) {\r\n\t\t\t\tdefineGraph[\"edges\"].push({ \r\n\t\t\t\t\tfrom: incomingData[index][\"id\"], \r\n\t\t\t\t\tto: incomingData[index][\"toSet\"][indexTo][\"to\"],\r\n\t\t\t\t\t\r\n\t\t\t\t\tlabel: (Math.floor(trunMulti*incomingData[index][\"toSet\"][indexTo][\"sentiment\"])/trunMulti).toString() + \", \" + Math.floor(incomingData[index][\"toSet\"][indexTo][\"freq\"]).toString(),\r\n\t\t\t\t\t\r\n\t\t\t\t\t// length: 1,\r\n\t\t\t\t\twidth: convertScanToWidth(incomingData[index][\"toSet\"][indexTo][\"freq\"]),\r\n\t\t\t\t\tcolor: convertScanToColor(incomingData[index][\"toSet\"][indexTo][\"sentiment\"]), \r\n\t\t\t\t\t\r\n\t\t\t\t\t//length: 400,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn defineGraph\r\n\t}\r\n\t\r\n\tselectStuffPrimary = (event) => {\r\n\t\t\r\n\t\tvar { nodes, edges } = event;\r\n\t\t\r\n\t\tlet selectedNodeID = -1\r\n\t\t\r\n\t\tif (nodes.length > 0) {\r\n\t\t\t\r\n\t\t\t//console.log(this.state.graphDataPrimary['nodes'])\r\n\t\t\t\r\n\t\t\tlet nodeSet = []\r\n\t\t\tfor(let index in nodes) {\r\n\t\t\t\t//console.log( this.state.graphDataPrimary['nodes'][nodes[index]] )\r\n\t\t\t\tnodeSet.push( \r\n\t\t\t\t\t<div key={index}>\r\n\t\t\t\t\t\t{this.state.graphDataPrimary['nodes'][nodes[index]][\"label\"]}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\t\t\r\n\t\t\t\tselectedNodeID = nodes[index]\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tselectedNodes: nodeSet,\r\n\t\t\t})\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.setState({\r\n\t\t\t\tselectedNodes: [\"None\"],\r\n\t\t\t})\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\tif (edges.length > 0) {\r\n\t\t\t\r\n\t\t\tlet edgeToSet = []\r\n\t\t\tlet edgeFromSet = []\r\n\t\t\tfor (let index in edges) {\r\n\t\t\t\t\r\n\t\t\t\tfor (let edgeIndex in this.state.graphDataPrimary['edges']) {\r\n\t\t\t\t\tlet checkingIndex = this.state.graphDataPrimary['edges'][edgeIndex][\"id\"]\r\n\t\t\t\t\tif (edges[index] === checkingIndex) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif ( selectedNodeID === this.state.graphDataPrimary['edges'][edgeIndex][\"to\"] ) {\r\n\t\t\t\t\t\t\tedgeToSet.push( \r\n\t\t\t\t\t\t\t\t<div key={index}>\r\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\t{this.state.graphDataPrimary['nodes'][this.state.graphDataPrimary['edges'][edgeIndex][\"from\"]]['label']}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\t{this.state.graphDataPrimary['edges'][edgeIndex][\"label\"]}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif ( selectedNodeID === this.state.graphDataPrimary['edges'][edgeIndex][\"from\"] ) {\r\n\t\t\t\t\t\t\tedgeFromSet.push( \r\n\t\t\t\t\t\t\t\t<div key={index}>\r\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\t{this.state.graphDataPrimary['nodes'][this.state.graphDataPrimary['edges'][edgeIndex][\"to\"]]['label']}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\t{this.state.graphDataPrimary['edges'][edgeIndex][\"label\"]}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (edgeToSet.length === 0) {\r\n\t\t\t\tedgeToSet = [\"None\"]\r\n\t\t\t}\r\n\t\t\tif (edgeFromSet.length === 0) {\r\n\t\t\t\tedgeFromSet = [\"None\"]\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tselectedToEdges: edgeToSet,\r\n\t\t\t\tselectedFromEdges: edgeFromSet,\r\n\t\t\t})\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.setState({\r\n\t\t\t\tselectedToEdges: [\"None\"],\r\n\t\t\t\tselectedFromEdges: [\"None\"],\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\t\r\n\ttimedRefresh = () => {\r\n\t\t//console.log('Token Refreshed!');\r\n\t}\r\n\t\r\n\tgetCompanyWebFailure = (incomingError) => {\r\n\t\t//console.log(incomingError)\r\n\t\tif (incomingError['action'] ===\t 0) {\r\n\t\t\t//Network Error\r\n\t\t}\r\n\t\telse if (incomingError['action'] === 1) {\r\n\t\t\t//Unauthorized\r\n\t\t\tthis.props.refreshToken(this.getCompanyWebRecent)\r\n\t\t\treturn\r\n\t\t}\r\n\t\telse if (incomingError['action'] === 3) {\r\n\t\t\t// Obtain error!\r\n\t\t}\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tgetWebStatus: 3,\r\n\t\t\tgetDatesWebError: incomingError[\"messages\"],\r\n\t\t})\r\n\t}\r\n\tgetCompanyWebCallback = (incomingWeb) => {\r\n\t\tlet webThing = []\r\n\t\tif (incomingWeb.length > 0) {\r\n\t\t\t// There should ONLY BE 1\r\n\t\t\twebThing = incomingWeb[0][\"webStructure\"]\r\n\t\t}\r\n\t\tthis.setState({\r\n\t\t\tloadedData: webThing,\r\n\t\t\tgraphDataPrimary: this.GenerateGraph( webThing ),\t\r\n\t\t\tloadedDataDate: \"Current\",\r\n\t\t\tgetWebStatus: 2,\r\n\t\t})\r\n\t\t\r\n\t\t// We will have to check for remember here....\r\n\t\t//timedSaveStorage( \"lastGotWeb\", {loadedDate:\"recent\"}, 0)\r\n\t}\r\n\tgetCompanyWebRecent = () => {\r\n\t\tif (!(this.props.currentDivisionID === -1)) {\r\n\t\t\tlet checkData = undefined\r\n\t\t\tif (checkData === undefined) {\r\n\t\t\t\t\r\n\t\t\t\t//console.log(\"Division Web was not in the cookies...\")\r\n\t\t\t\tAPIGetDivisionWeb( this.props.currentDivisionID, undefined, this.getCompanyWebCallback, this.getCompanyWebFailure)\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tgetWebStatus: 1,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t//this.getCompanyWebCallback(???)\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\t}\r\n\t}\r\n\t\r\n\tgetCompanyWebPreviousFailure = (incomingError) => {\r\n\t\t//console.log(incomingError)\r\n\t\tif (incomingError['action'] ===\t 0) {\r\n\t\t\t//Network Error\r\n\t\t}\r\n\t\telse if (incomingError['action'] === 1) {\r\n\t\t\t//Unauthorized\r\n\t\t\tthis.props.refreshToken(this.timedRefresh)\r\n\t\t\treturn\r\n\t\t}\r\n\t\telse if (incomingError['action'] === 3) {\r\n\t\t\t// Obtain error!\r\n\t\t}\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tgetWebStatus: 3,\r\n\t\t\tgetDatesWebError: incomingError[\"messages\"],\r\n\t\t})\r\n\t}\r\n\tgetCompanyWebPreviousCallback = (incomingWeb) => {\r\n\t\tlet webThing = []\r\n\t\tlet webDate = \"Unknown\"\r\n\t\tif (incomingWeb.length > 0) {\r\n\t\t\t// There should ONLY BE 1\r\n\t\t\twebThing = incomingWeb[0][\"webStructure\"]\r\n\t\t\twebDate = incomingWeb[0]['forDate']\r\n\t\t}\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tloadedData: webThing,\r\n\t\t\tgraphDataPrimary: this.GenerateGraph( webThing ),\t\r\n\t\t\tloadedDataDate: webDate,\r\n\t\t\tgetWebStatus: 2,\r\n\t\t})\r\n\t\t\r\n\t\t//timedSaveStorage( \"lastGotWeb\", {loadedDate:webDate}, 0)\r\n\t}\r\n\tgetCompanyWebPrevious = (incomingDate) => {\r\n\t\tif (!(this.props.currentDivisionID === -1)) {\r\n\t\t\tlet checkData = undefined\r\n\t\t\tif (checkData === undefined) {\r\n\r\n\t\t\t\t//console.log(\"Division Web was not in the cookies...\")\r\n\t\t\t\tAPIGetDivisionWeb( this.props.currentDivisionID, incomingDate, this.getCompanyWebPreviousCallback, this.getCompanyWebPreviousFailure)\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tgetWebStatus: 1,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t//this.getCompanyWebPreviousCallback(???)\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\t}\r\n\t}\r\n\t\r\n\t// Will need to do a selected Date....\r\n\tpickDate = (selectedDate) => {\r\n\t\tthis.setState({\r\n\t\t\tselectedWebDay:selectedDate,\r\n\t\t})\r\n\t\t\r\n\t\tthis.getCompanyWebPrevious(selectedDate)\r\n\t}\r\n\t\r\n\tloadData = () => {\r\n\t\tconst dert = GenerateTestInfo()\r\n\t\t\r\n\t\t// If something, set to current, if not, set to the date?\r\n\t\tlet whenPicked = \"Current\"\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tloadedDataDate: whenPicked,\r\n\t\t\tloadedData: dert,\r\n\t\t\tgraphDataPrimary: this.GenerateGraph( dert ),\r\n\t\t})\r\n\t}\r\n\t\r\n\trender() {\r\n\t\t\r\n\t\tconst tileClassName = ({ date, view }) => {\r\n\t\r\n\t\t\tlet hasWeb = false\r\n\t\t\t\r\n\t\t\tlet year = String( date.getFullYear() )\r\n\t\t\tlet month =\tString( date.getMonth()+1 )\r\n\r\n\t\t\tif (month < 10) {\r\n\t\t\t\tmonth = \"0\"+month\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tlet day = String(date.getDate())\r\n\t\t\tif (day < 10) {\r\n\t\t\t\tday = \"0\"+day\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tconst checkDate = year+\"-\"+month+\"-\"+day\r\n\t\t\r\n\t\t\t// Add class to tiles in month view only\r\n\t\t\tif (view === 'month') {\r\n\t\t\t\t// Check if a date React-Calendar wants to check is on the list of dates to add class to\r\n\t\t\t\ttry {\r\n\t\t\t\t\thasWeb = this.props.validDivisionWebDates.find( element => element['forDate'] === checkDate)\r\n\t\t\t\t}\r\n\t\t\t\tcatch {\r\n\t\t\t\t\t// This should trigger if DAY is not in the validSummaryDates\r\n\t\t\t\t\t// Basically just skipping it\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (hasWeb) {\r\n\t\t\t\treturn 'btn btn-success'\r\n\t\t\t} else {\r\n\t\t\t\t//return 'btn btn-outline-dark'\r\n\t\t\t}\r\n\t\t\t\t\r\n\t\t}\r\n\r\n\t\tconst eventsPrimary = {\r\n\t\t\tclick: this.selectStuffPrimary,\r\n\t\t};\r\n\t\t\r\n\t\tlet show0 = this.state.getWebStatus === 0\r\n\t\tlet show1 = this.state.getWebStatus === 1\r\n\t\tlet show2 = this.state.getWebStatus === 2\r\n\t\tlet show3 = this.state.getWebStatus === 3\r\n\t\t\r\n\t\tlet displayMessage = \"Showing Current Web\" \r\n\t\tif (this.state.loadedDataDate === \"None\") {\r\n\t\t\tdisplayMessage = \"No Data!\"\r\n\t\t}\r\n\t\telse if (this.state.loadedDataDate !== \"Current\") {\r\n\t\t\tdisplayMessage = \"Showing Legacy Web From: \" + this.state.loadedDataDate\r\n\t\t}\r\n\t\t\r\n\t\t// In case I want to swap things over....\r\n\t\tlet displayNodes = []\r\n\t\tdisplayNodes = this.state.selectedNodes\r\n\t\tlet displayToEdges = []\r\n\t\tdisplayToEdges = this.state.selectedToEdges\r\n\t\tlet displayFromEdges = []\r\n\t\tdisplayFromEdges = this.state.selectedFromEdges\r\n\t\r\n\t\tlet showError = []\r\n\t\tfor (let index in this.state.getDatesWebError) {\r\n\t\t\tshowError.push(\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{this.state.getDatesWebError[index][\"text\"]}\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t\t\r\n\t\t}\r\n\t\r\n\t\treturn (\r\n\t\t\t<div className=\"companyWebPage bg-secondary\">\r\n\t\t\t\r\n\t\t\t\t<div className=\"container bg-light border\">\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<button className=\"btn btn-secondary\" onClick={this.loadData}>\r\n\t\t\t\t\t\t\t\tLoad Example Data\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button className=\"btn btn-dark\" onClick={this.getCompanyWebRecent}>\r\n\t\t\t\t\t\t\t\tLoad Most Recent Web From Server\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<Accordion>\r\n\t\t\t\t\t\t\t\t<Accordion.Toggle as={Card.Header} className=\"border\" variant=\"link\" eventKey=\"open\">\r\n\t\t\t\t\t\t\t\t\tGet a Previous Web\r\n\t\t\t\t\t\t\t\t</Accordion.Toggle>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey=\"open\">\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Calendar \r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.pickDate}\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.selectedWebDay}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttileClassName={tileClassName}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\tminDetail={'year'}\r\n\t\t\t\t\t\t\t\t\t\t\t\tmaxDetail={'month'}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</Accordion.Collapse>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Accordion>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"border\">\r\n\t\t\t\t\t\t{this.state.loadedData.length === 0 ?\r\n\t\t\t\t\t\t\t<div className=\"row my-5\">\r\n\t\t\t\t\t\t\t\t{show0 && <div className=\"col\">Waiting for signal to get data</div>}\r\n\t\t\t\t\t\t\t\t{show1 && <div className=\"col\">Getting Data...</div>}\r\n\t\t\t\t\t\t\t\t{show2 && <div className=\"col\">Server reported no web!</div>}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\t<u>{displayMessage}</u>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<Graph\r\n\t\t\t\t\t\t\t\t\t\tgraph={this.state.graphDataPrimary}\r\n\t\t\t\t\t\t\t\t\t\toptions={graphOptions}\r\n\t\t\t\t\t\t\t\t\t\tevents={eventsPrimary}\r\n\t\t\t\t\t\t\t\t\t\tgetNetwork={network => {\r\n\t\t\t\t\t\t\t\t\t\t\t//  if you want access to vis.js network api you can set the state in a parent component using this property\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"border-top\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\t<u>Selected Node(s):</u>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\t{displayNodes}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"border-top\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\t<u>Edge(s) coming TO this one:</u>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\t{displayToEdges}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"border-top\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\t<u>Edge(s) coming FROM this one:</u>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\t{displayFromEdges}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<ShowWebInfoComponent/>\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<Alert show={show1} variant=\"warning\">\r\n\t\t\t\t\t<Alert.Heading>Waiting</Alert.Heading>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t  Waiting for server...\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t</Alert>\r\n\t\t\t\t\r\n\t\t\t\t<Alert show={show3} variant=\"danger\">\r\n\t\t\t\t\t<Alert.Heading>Error!</Alert.Heading>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t{showError}\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t</Alert>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(ViewCompanyWeb);","import React from \"react\";\r\n\r\n//Link\r\n//import { Alert } from 'react-bootstrap';\r\nimport { withRouter, Route, Switch } from \"react-router-dom\";\r\n//import { ButtonGroup, ToggleButton } from 'react-bootstrap';\r\n\r\n//import Store from \"store\"\r\n\r\n//SetCompany\r\nimport {CompanyInvites, CompanyPermissions, CompanySettings, SelectCompany, ViewCompany, EHIDisplay, SuggestionBox, PromptEdit, CompanyWeb} from \"./companyPages\"\r\n//convertFromRaw\r\n\r\nconst DefaultView = (props) => {\r\n\r\n\treturn (\r\n\t\t<div className=\"defaultView\">\r\n\t\t\t<h3>\r\n\t\t\t\t404! You have selected and invalid page\r\n\t\t\t</h3>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\n// This needs to be changed out as this is now in 2 files....\r\n//const waitTimeMS = 100\r\nclass ContentPages extends React.Component {\r\n\r\n\tconstructor(props) {\r\n        super(props);\r\n\t\tthis.state = {\r\n\t\t\tEHITimespan: 3,\r\n\t\t\tEHISelectedPrompt: \"none\",\r\n\t\t\tEHISelectedTimescale: \"none\",\r\n\t\t\t\r\n\t\t\tcompanySelectPage: 1,\r\n\t\t\t\r\n\t\t\tpageIsLoaded: false,\r\n\t\t}\r\n\t\tthis.waitForParent = undefined;\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tthis.props.activateCompanyMenu(1)\r\n\t\t\r\n\t\t/*\r\n\t\tlet isLoaded = this.checkParentIsLoaded()\r\n\t\tif (!isLoaded) {\t\r\n\t\t\t// Wait until app.js has loaded....\r\n\t\t\tthis.waitForParent = setInterval(this.checkParentIsLoaded, waitTimeMS)\r\n\t\t}\r\n\t\t*/\r\n\t};\r\n\t\r\n\tcheckParentIsLoaded = () => {\r\n\t\tif (this.props.parentHasLoaded) {\r\n\t\t\tclearInterval(this.waitForParent)\r\n\t\t\tconsole.log(\"Company page Finished Loading!\")\r\n\t\t\tthis.setState({\r\n\t\t\t\tpageIsLoaded: true,\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\treturn true\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn false\r\n\t\t}\r\n\t}\r\n\t\r\n\tcomponentWillUnmount() {\r\n\t\tthis.props.disableMenu()\r\n\t}\r\n\t\r\n\tchangeEHIPrompt = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tEHISelectedPrompt:event.currentTarget.value\r\n\t\t})\r\n\t}\r\n\tchangeEHITimescale = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tEHISelectedTimescale:event.currentTarget.value\r\n\t\t})\r\n\t}\r\n\t\r\n\tEHITimeToggle = (dateRangeChoice) => {\r\n\t\tthis.setState({\r\n\t\t\tEHITimespan:dateRangeChoice\r\n\t\t})\r\n\t}\r\n\t\r\n\t// Rendering this with Bootstrap React.... To see if there is anything really interesting I can do with it\r\n\t// So far it doesnt look all that different \r\n\trender() {\r\n\t\r\n\t\treturn (\r\n\t\t\t<div className=\"contentPages\">\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t<div className=\"row m-1 my-5\">\r\n\t\t\t\t\t\t<div className=\"col m-1\">\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t{/*\r\n\t\t\t\t\t\t\t{ this.props.currentDivisionID === -1 &&\r\n\t\t\t\t\t\t\t\t<div className=\"row m-2\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t\t\t\t<div className=\"col m-2 border bg-warning shadow\">\r\n\t\t\t\t\t\t\t\t\t\tSelect a Company First!\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t*/}\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t\t\t<Route path={this.props.match.url+\"/companySelect\"} exact component={() => <SelectCompany\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tcompanySelectPage={this.state.companySelectPage}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tcurrentDivisionName={this.props.currentDivisionName}\r\n\t\t\t\t\t\t\t\t\t\tuserLoadedCompanyList={this.props.userLoadedCompanyList}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tgetDataRequest={this.props.getCompanyDataRequest}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tgetCompanyDataStatus={this.props.getCompanyDataStatus}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tgetCompanyValidDatesStatus={this.props.getCompanyValidDatesStatus}\r\n\t\t\t\t\t\t\t\t\t\tgetCompanyValidDatesError={this.props.getCompanyValidDatesError}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tgetCompanyValidSuggestionDatesStatus={this.props.getCompanyValidSuggestionDatesStatus}\r\n\t\t\t\t\t\t\t\t\t\tgetCompanyValidSuggestionDatesError={this.props.getCompanyValidSuggestionDatesError}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tgetCompanyEHIDataStatus={this.props.getCompanyEHIDataStatus}\r\n\t\t\t\t\t\t\t\t\t\tgetCompanyEHIDataError={this.props.getCompanyEHIDataError}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tgetDatesWebStatus={this.props.getDatesWebStatus}\r\n\t\t\t\t\t\t\t\t\t\tgetDatesWebError={this.props.getDatesWebError}\r\n\t\t\t\t\t\t\t\t\t/>} \r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Route path={this.props.match.url+\"/companyInvites\"} component={() => <CompanyInvites\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tcurrentDivisionID={this.props.currentDivisionID}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\ttriggerRefresh={this.props.loadCompanyData}\r\n\t\t\t\t\t\t\t\t\t\trefreshToken={this.props.refreshToken}\r\n\t\t\t\t\t\t\t\t\t/>} \r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Route path={this.props.match.url+\"/companyPerms\"} component={() => <CompanyPermissions\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tcurrentDivisionID={this.props.currentDivisionID}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\ttriggerRefresh={this.props.loadCompanyData}\r\n\t\t\t\t\t\t\t\t\t\trefreshToken={this.props.refreshToken}\r\n\t\t\t\t\t\t\t\t\t/>} \r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Route path={this.props.match.url+\"/companySettings\"} component={() => <CompanySettings\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tcurrentDivisionID={this.props.currentDivisionID}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\ttriggerRefresh={this.props.loadCompanyData}\r\n\t\t\t\t\t\t\t\t\t\trefreshToken={this.props.refreshToken}\r\n\t\t\t\t\t\t\t\t\t/>} \r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Route path={this.props.match.url+\"/companySuggestions\"} component={() => <SuggestionBox\r\n\t\t\t\t\t\t\t\t\t\tcurrentDate={this.props.selectedSuggestDay}\r\n\t\t\t\t\t\t\t\t\t\tparentHasLoaded={this.state.pageIsLoaded}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tvalidDays={this.props.validDivisionSuggestionDates}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tdataDay={this.props.selectedSuggestDay}\r\n\t\t\t\t\t\t\t\t\t\tdataSet={this.props.selectedSuggestDayData}\r\n\t\t\t\t\t\t\t\t\t\tpickDate={this.props.getCompanySuggestionData}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tcurrentDivisionID={this.props.currentDivisionID}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tgetCompanySuggestionDataStatus={this.props.getCompanySuggestionDataStatus}\r\n\t\t\t\t\t\t\t\t\t\tgetCompanySuggestionDataError={this.props.getCompanySuggestionDataError}\r\n\t\t\t\t\t\t\t\t\t/>} \r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Route path={this.props.match.url+\"/companyEHI\"} component={() => <EHIDisplay\r\n\t\t\t\t\t\t\t\t\t\tcurrentDivisionID={this.props.currentDivisionID}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\ttimeIndex={this.state.EHITimespan}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tEHIData={this.props.EHIData}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tEHIselectedPrompt={this.state.EHISelectedPrompt}\r\n\t\t\t\t\t\t\t\t\t\tEHIselectedTimescale={this.state.EHISelectedTimescale}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tEHISetPrompt={this.changeEHIPrompt}\r\n\t\t\t\t\t\t\t\t\t\tEHISetTimescale={this.changeEHITimescale}\r\n\t\t\t\t\t\t\t\t\t\tEHITimeToggle={this.EHITimeToggle}\r\n\t\t\t\t\t\t\t\t\t/>} \r\n\t\t\t\t\t\t\t\t/>\t\r\n\t\t\t\t\t\t\t\t<Route path={this.props.match.url+\"/companySummary\"} component={() => <ViewCompany\r\n\t\t\t\t\t\t\t\t\t\tcurrentDate={this.props.selectedCompanyDate}\r\n\t\t\t\t\t\t\t\t\t\tparentHasLoaded={this.state.pageIsLoaded}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tcurrentCompany={this.props.currentCompanyDataName}\r\n\t\t\t\t\t\t\t\t\t\tsummaryType={this.props.currentCompanyDataType}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tvalidSummaryDates={this.props.validCompanySummaryDates}\r\n\r\n\t\t\t\t\t\t\t\t\t\tdisplayMessage={this.props.companyMessage}\r\n\t\t\t\t\t\t\t\t\t\tdataSet={this.props.selectedSummaryWeekData}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tselectedDay={this.props.selectedCompanyDay}\r\n\t\t\t\t\t\t\t\t\t\tselectedPrompt={this.props.selectedCompanyPrompt}\r\n\t\t\t\t\t\t\t\t\t\tselectedAspect={this.props.selectedCompanyAspect}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tsetPrompt={this.props.changeCompanyPrompt}\r\n\t\t\t\t\t\t\t\t\t\tsetAI={this.props.changeCompanyAspect}\r\n\t\t\t\t\t\t\t\t\t\tsetDay={this.props.changeCompanyDay}\r\n\t\t\t\t\t\t\t\t\t\tsetCompany={this.props.changeSelectedCompany}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tgetValidDates={this.props.getCompanyValidDates}\r\n\t\t\t\t\t\t\t\t\t\tpickDate={this.props.getCompanyWeeklySummary}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tgetCompanyWeeklySummaryStatus={this.props.getCompanyWeeklySummaryStatus}\r\n\t\t\t\t\t\t\t\t\t\tgetCompanyWeeklySummaryError={this.props.getCompanyWeeklySummaryError}\r\n\t\t\t\t\t\t\t\t\t/>} \r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Route path={this.props.match.url+\"/companyPrompts\"} component={() => <PromptEdit\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\trefreshToken={this.props.refreshToken}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tcurrentDivisionID={this.props.currentDivisionID}\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t/>} \r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Route path={this.props.match.url+\"/companyWeb\"} component={() => <CompanyWeb\r\n\t\t\t\t\t\t\t\t\t\trefreshToken={this.props.refreshToken}\r\n\t\t\t\t\t\t\t\t\t\tparentHasLoaded={this.state.pageIsLoaded}\r\n\r\n\t\t\t\t\t\t\t\t\t\tcurrentDivisionName={this.props.currentDivisionName}\r\n\t\t\t\t\t\t\t\t\t\tcurrentDivisionID={this.props.currentDivisionID}\t\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\treRouteTarget={this.props.match.url+\"/companySelect\"}\r\n\t\t\t\t\t\t\t\t\t\tvalidDivisionWebDates = {this.props.validDivisionWebDates}\r\n\t\t\t\t\t\t\t\t\t/>} \r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Route path={this.props.match.url+\"/\"} component={() => <DefaultView\r\n\t\t\t\t\t\t\t\t\t/>} \r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Switch>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(ContentPages);","import React from \"react\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\n\nimport { SignIn, SignUp, Forgot, VerifyEmail } from \"./components/authPages\";\nimport { ContactUs } from \"./components/landingPages\";\n\nimport { Navigation, Footer } from \"./components\";\nimport { LandingPages, ContentCommonPages} from \"./components\";\n//AuthPages\n\nimport { Sidebar } from \"./utils\";\nimport { APIRefreshToken, APISignOut, APITestSecurity } from \"./utils\";\nimport { setAccessToken } from \"./utils\";\n//showTokens\n\n//checkStorageContents\nimport { timedLoadStorage, timedSaveStorage, deleteStorageKey} from \"./utils\";\n\n//import '../node_modules/bootstrap/dist/css/bootstrap.min.css';\nimport './App.css'\nimport './style.css'\n\n// Is THIS a patch for Github Pages react stuff?\n// Maybe...\n// Ill have to test this...\nconst basePath = \"/scenere\"\n\n// #Minutes -> seconds -> miliseconds\nconst waitTimeMS = 12 * 60 * 1000\n\n//const DEBUGMODE = false\nlet nonUpdateRefreshingToken = false\n\nclass App extends React.Component {\n\t\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n          \n\t\t\tcurrentUser: undefined,\n\t\t\trememberMe: false,\n\t\t\t\n\t\t\tpageIsLoaded: false,\n        };\n\t\tthis.timerSet = undefined;\n\t}\n\t\n\tcomponentDidMount() {\n\t\tthis.loadFromLocalStorage();\n\t};\n\t\n\tcomponentWillUnmount() {\n\n\t}\n\t\n\ttimedRefresh = () => {\n\t\t//console.log('Token Refreshed!');\n\t}\n\t\n\t// Menu Controls...\n\tdisableMenu = () => {\n\t\ttry {\n\t\t\tthis.refs.sidebar.disableMenu()\n\t\t}\n\t\tcatch {\n\t\t\t\n\t\t}\n\t}\n\tactivateUserMenu = () => {\n\t\ttry {\n\t\t\tthis.refs.sidebar.activateMenu(0)\n\t\t}\n\t\tcatch {\n\t\t\t\n\t\t}\n\t}\n\tactivateCompanyMenu = () => {\n\t\ttry {\n\t\t\tthis.refs.sidebar.activateMenu(1)\n\t\t}\n\t\tcatch {\n\t\t\t\n\t\t}\n\t}\n\t\n\tchangeUserMenuItems = (nextState) => {\n\t\ttry {\n\t\t\tthis.refs.sidebar.setUserFlag(nextState)\n\t\t}\n\t\tcatch {\n\t\t\t\n\t\t}\n\t}\n\t\n\tchangeCompanyMenuItems = (nextState) => {\n\t\ttry {\n\t\t\tthis.refs.sidebar.setCompanyFlag(nextState)\n\t\t}\n\t\tcatch {\n\t\t\t\n\t\t}\n\t}\n\t\n\tchangeMenuUserName = (newName) => {\n\t\ttry {\n\t\t\tthis.refs.sidebar.setUserName(newName)\n\t\t}\n\t\tcatch {\n\t\t\t\n\t\t}\n\t}\n\tchangeMenuCompanyName = (newCompany) => {\n\t\ttry {\n\t\t\tthis.refs.sidebar.setCompanyName(newCompany)\n\t\t}\n\t\tcatch {\n\t\t\t\n\t\t}\n\t}\n\t\n\t// I am still going to use the local and session storage until I have a grasp on cookies\n\tloadFromLocalStorage = () => {\n\t\tlet lastUserSet = timedLoadStorage('lastUser');\n\t\t\n\t\tif (lastUserSet === 0) {\n\t\t\t//console.log(\"No User In the Storage!\")\n\t\t}\n\t\telse if (lastUserSet === 1) {\n\t\t\t//console.log(\"Session was expired!\")\n\t\t}\n\t\telse if (lastUserSet === 2) {\n\t\t\t//console.log(\"Invalid Save!\")\n\t\t}\n\t\telse {\n\t\t\tthis.changeMenuUserName(lastUserSet.user)\n\t\t\t// Remember, this refresh needs. AND I MEAN NEEDS. TO GET TO A BETTER STROAGE SPOT\n\t\t\t// Load it into a cookie on the Django End....\n\t\t\tthis.login(lastUserSet.lastAccess, lastUserSet.user, true)\n\t\t}\n\t}\n\t\n\tsilentTokenUpdate = (token) => {\n\t\tsetAccessToken(token)\n\t}\n\t\n\tkillAccessToken = () => {\n\t\tsetAccessToken(\"\")\n\t}\n\t\n\tlogin = ( token, username, remember ) => {\n\t\t\n\t\tthis.changeMenuUserName(username)\n\t\t\n\t\t// I am having trouble with cookies, so lets do the rest of the refresh infrastructure while I cool off...\n\t\t// I will just have to replace all references to the REFRSH token to a cookie, but right now we will use the local storage...\n\t\tif (remember === true) {\n\t\t\t//Hmmmmmmmmmmmmmmm, I will need to delete the cookies? I need to test this.....\n\t\t\ttimedSaveStorage( \"lastUser\", {user:username, lastAccess:token}, 2)\n\t\t}\n\t\t\n\t\tthis.silentTokenUpdate(token)\n\t\t\n\t\t// Verify this before we sent it in I guess?\n\t\tthis.setState({ \n\t\t\tcurrentUser: username, \n\t\t\trememberMe: remember,\n\t\t\t\n\t\t\tpageIsLoaded: true,\n\t\t})\n\t\t\n\t\t//console.log(\"App Has Finished Loading!\")\n\t\t\n\t\tthis.timerSet = setInterval(this.timedRefreshToken, waitTimeMS)\n\t\t\n\t\t// Return if we succeeded or not\n\t\treturn true\n\t}\n\t\n\trefreshFailure = (incomingError, callbackSignal) => {\n\t\t// Not sure why I would want a callback Signal here but...\n\t\t//console.log(incomingError)\n\t\t\n\t\tthis.logout()\n\t\tnonUpdateRefreshingToken = false\n\t}\n\trefreshCallback = (incomingToken, callbackSignal) => {\n\t\t\n\t\tthis.silentTokenUpdate(incomingToken.access)\n\t\tnonUpdateRefreshingToken = false\n\n\t\t// Now, trigger this function as our redo... Hm\n\t\tcallbackSignal()\n\t}\n\t// Test out refreshing the token...\n\t// Should do this every page reload...\n\tsilentRefreshToken = ( callbackWhenDone ) => {\n\t\t// Definetly going to have to change this crap up once the refresh token is in a cookie\n\t\tAPIRefreshToken(this.refreshCallback, this.refreshFailure, callbackWhenDone)\n\t}\n\t\n\ttimedRefreshToken = () => {\n\t\t\n\t\tthis.silentRefreshToken(this.timedRefresh)\n\t}\n\t\n\ttriggerSilentRefreshToken = ( callbackRefresh ) => {\n\t\t//console.log(\"Triggered this thing\")\n\t\t//console.log( callbackRefresh )\n\t\t\n\t\tif (this.state.currentUser === undefined) {\n\t\t\t//  Something is unauthorized, and we have no user! We need to logout!\n\t\t\t//this.logout()\n\t\t}\n\t\telse {\n\t\t\tif (!nonUpdateRefreshingToken) {\n\t\t\t\tthis.silentRefreshToken( callbackRefresh )\n\t\t\t\t\n\t\t\t\t//console.log(\"TRIGGERD REFRESH OF TOKEN FROM A COMPONENT!\")\n\t\t\t\tnonUpdateRefreshingToken = true\n\t\t\t\t\n\t\t\t\t// Now, we have to trigger a redo of the stuff once its done...\n\t\t\t}\n\t\t\telse {\n\t\t\t\t//console.log(\"Already refreshing token!\")\n\t\t\t}\n\t\t}\n\t}\n\t\n\tdeleteServerCookiesFailure = (incomingError) => {\n\t\t// Depends on the error honestly...\n\t\t//console.log(incomingError)\n\t}\n\tdeleteServerCookiesCallback = (incomingMessage) => {\n\t\t//console.log(incomingMessage)\n\t}\n\tdeleteServerCookies = () => {\n\t\tAPISignOut(this.deleteServerCookiesCallback, this.deleteServerCookiesFailure)\n\t}\n\t\n\t// Should move this over to the UTIL...\n\tlogout = () => {\n\t\tconsole.log(\"Triggering A Logout\")\n\t\t//this.deleteServerCookies()\n\t\t\n\t\tthis.setState({\n\t\t\tcurrentUser: undefined \n\t\t})\n\t\t\n\t\tclearInterval(this.timerSet)\n\t\tthis.changeMenuUserName(\"No User\")\n\t\tthis.silentTokenUpdate(undefined)\n\t\tdeleteStorageKey('lastUser')\n\t\t\n\t\tdeleteStorageKey('lastGotCompany')\n\t\tdeleteStorageKey('lastUser')\n\t}\n\t\n\tbooper = () => {\n\t\tAPITestSecurity()\n\t}\n\t\n\trender() {\n\n\t\treturn (\n\t\t\t<Router>\n\t\t\t\t<div className=\"App\">\n\t\t\t\t\t\n\t\t\t\t\t<Sidebar\n\t\t\t\t\t\tref=\"sidebar\"\n\t\t\t\t\t\t// Note to self, I hardcoded in here....\n\t\t\t\t\t\t// Until I have a better naming system...\n\t\t\t\t\t\tbasePath={basePath}\n\t\t\t\t\t/>\n\n\t\t\t\t\t{/*\n\t\t\t\t\t<button onClick={this.booper}>\n\t\t\t\t\t\tTest!\n\t\t\t\t\t</button>\n\t\t\t\t\t*/}\n\t\t\t\t\t\n\t\t\t\t\t<Navigation\n\n\t\t\t\t\t\tcurrentUser={this.state.currentUser}\n\t\n\t\t\t\t\t\tlogout={this.logout}\n\t\t\t\t\t\t\n\t\t\t\t\t\treRouteSignIn={basePath+\"/signin\"}\n\t\t\t\t\t\treRouteSignUp={basePath+\"/signup\"}\n\t\t\t\t\t\t\n\t\t\t\t\t\treRouteLanding={basePath+\"/\"}\n\t\t\t\t\t\treRouteDashboard={basePath+\"/dashboard\"}\n\t\t\t\t\t\t\n\t\t\t\t\t\treRouteUserInvites={basePath+\"/dashboard/userMode/userInvite\"}\n\t\t\t\t\t\treRouteUserSecurity={basePath+\"/dashboard/userMode/userSecurity\"}\n\t\t\t\t\t\treRouteUserPermissions={basePath+\"/dashboard/userMode/userPermissions\"}\n\t\t\t\t\t/>\n\t\t\t\t\t\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\n\t\t\t\t\t\t{/*To catch ONLY the landing page, this one has to be exact...*/}\n\t\t\t\t\t\t{/*Unless I am also missing something*/}\n\t\t\t\t\t\t<Route path={basePath+\"/\"} exact component={() => <LandingPages \n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t/>} \n\t\t\t\t\t\t/>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<Route path={basePath+\"/signin\"} exact component={() => <SignIn \n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tloginSave={this.login}\n\n\t\t\t\t\t\t\t\treRouteTarget={basePath+\"/dashboard\"}\n\t\t\t\t\t\t\t\tforgotPath={basePath+\"/forgot\"}\n\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t/>\t\n\t\t\t\t\t\t<Route path={basePath+\"/signup\"} exact component={() => <SignUp \n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\treRouteTarget={basePath+\"/verify\"}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tloginSave={this.login}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t//currentUser={this.state.currentUser}\n\t\t\t\t\t\t\t\tauthToken={this.state.accessToken}\n\t\t\t\t\t\t\t/>} \n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route path={basePath+\"/verify\"} exact component={() => <VerifyEmail \n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tauthToken={this.state.accessToken}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\trefreshToken={this.triggerSilentRefreshToken}\n\t\t\t\t\t\t\t\treRouteTarget={basePath+\"/signin\"}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\treRouteSuccessTarget={basePath+\"/dashboard\"}\n\t\t\t\t\t\t\t/>} \n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route path={basePath+\"/forgot\"} exact component={() => <Forgot \n\t\t\t\t\t\t\t\treRouteTarget={basePath+\"/signin\"}\n\t\t\t\t\t\t\t/>} \n\t\t\t\t\t\t/>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<Route path={basePath+\"/contact\"} exact component={() => <ContactUs \n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t/>} \n\t\t\t\t\t\t/>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<Route path={basePath+\"/dashboard\"} component={() => <ContentCommonPages \n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tactivateRedirect={basePath+\"/verify\"}\n\t\t\t\t\t\t\t\tparentHasLoaded={this.state.pageIsLoaded}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\trefreshToken={this.triggerSilentRefreshToken}\n\t\t\t\t\t\t\t\tlogout={this.logout}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tcurrentUser={this.state.currentUser}\n\t\t\t\t\t\t\t\tauthToken={this.state.accessToken}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\treRouteSignIn={basePath+\"/signin\"}\n\t\t\t\t\t\t\t\treRouteCompany={basePath+\"/dashboard\"}\n\t\t\t\t\t\t\t\treRouteUser={basePath+\"/dashboard\"}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tdisableMenu={this.disableMenu}\n\t\t\t\t\t\t\t\tactivateUserMenu={this.activateUserMenu}\n\t\t\t\t\t\t\t\tchangeUserMenuItems={this.changeUserMenuItems}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tactivateCompanyMenu={this.activateCompanyMenu}\n\t\t\t\t\t\t\t\tchangeMenuCompanyName={this.changeMenuCompanyName}\n\t\t\t\t\t\t\t\tchangeCompanyMenuItems={this.changeCompanyMenuItems}\n\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t</Switch>\n\t\t\t\t\t\n\t\t\t\t\t<div className=\"row m-5\"/>\n\n\t\t\t\t\t<Footer \n\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</Router>\n\t\t);\n\t}\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\n//import $ from'jquery';\n//import Popper from 'popper.js';\n//import '@trendmicro/react-sidenav/dist/react-sidenav.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'bootstrap/dist/js/bootstrap.bundle.min';\n//import './custom.scss';\n\n//<React.StrictMode>\n//</React.StrictMode>,\n\nReactDOM.render(\n  \n\t<App />,\n  \n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}