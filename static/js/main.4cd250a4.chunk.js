/*! For license information please see main.4cd250a4.chunk.js.LICENSE.txt */
(this["webpackJsonpproject-scenere"]=this["webpackJsonpproject-scenere"]||[]).push([[0],{245:function(e,t,a){},532:function(e,t,a){},533:function(e,t,a){},537:function(e,t,a){"use strict";a.r(t);var s=a(1),r=a.n(s),n=a(42),i=a.n(n),c=(a(245),a(3)),o=a(4),l=a(6),d=a(5),h=a(8),u=a(17),j=a(548),m=a(39),b=a.n(m),p=a(234),v=a.n(p),g="https://cmaster.pythonanywhere.com",x=v.a.create({baseURL:g,withCredentials:!0}),O="",f=function(e){O=e},N=["day","week","month","year"],S=function(e){var t=e.getFullYear().toString(),a=(e.getMonth()+1).toString(),s=e.getDate().toString(),r=a.split(""),n=s.split("");return t+"-"+(r[1]?a:"0"+r[0])+"-"+(n[1]?s:"0"+n[0])},y=function(e){if(e.response){var t=e.response.status,a=e.response.data;if(401===t){for(var s in a)if("No active account found with the given credentials"===a[s])return{action:3,messages:[{mod:3,text:a[s]}]};return{action:1,messages:[{mod:1,text:"Try That Again!"}]}}if(403===t)return{action:2,messages:[{mod:-1,text:"Permission Failed"}]};if(404===t)return{action:6,messages:[{mod:1,text:"404 not found"}]};if(400===t){var r=[];for(var n in a)"username"===n?r.push({mod:1,text:a[n]}):"password"===n?r.push({mod:2,text:a[n]}):"non_field_errors"===n?r.push({mod:3,text:a[n]}):"email"===n?r.push({mod:4,text:a[n]}):"dup"===n?r.push({mod:5,text:a[n]}):"token"===n?r.push({mod:6,text:a[n]}):"invite"===n?r.push({mod:7,text:a[n]}):"status"===n?r.push({mod:8,text:a[n]}):r.push({mod:0,text:a[n]});return{action:3,messages:r}}return 500===t?{action:4,messages:[{mod:-1,text:"Server Error!"}]}:{action:5,messages:[{mod:-1,text:"Unhandled Response! Error!"}]}}return{action:0,messages:[{mod:-1,text:"Newtork Error"}]}},D=function(e,t,a,s,r){var n={password:a};e?n.email=t:n.username=t,x.post("/api/customGetToken/",n).then((function(e){s(e.data)})).catch((function(e){var t=y(e);r(t)}))},w=function(e,t){var a={headers:{Authorization:"JWT ".concat(O)}};x.get("/api/emailVerifyResend",a).then((function(t){e()})).catch((function(e){var a=y(e);t(a)}))},C=function(e,t,a,s,r,n,i){console.log();var c=Math.random().toString(16).substr(2,8),o={headers:{Authorization:"JWT ".concat(O)}},l={shorthand:"WEB"+c,targetDivision:a,forDate:S(e),usedPromptKeyText:t,content:s,richText:r};x.post("/api/saveUserJournal/",l,o).then((function(e){n(e.data)})).catch((function(e){var t=y(e);i(t)}))},k=function(e,t,a,s,r){var n={headers:{Authorization:"JWT ".concat(O)}},i={reqDiv:e,targetInvite:t,targetAction:a};x.put("/api/setDivisionInvite/",i,n).then((function(e){var t=e.data;s(t)})).catch((function(e){var t=y(e);r(t)}))},E=function(e,t,a){var s={headers:{Authorization:"JWT ".concat(O)}};x.get("/api/getDivisionData?reqDiv="+e,s).then((function(e){var a=e.data[0];t(a)})).catch((function(e){var t=y(e);a(t)}))},P=function(e,t,a){var s={headers:{Authorization:"JWT ".concat(O)}},r=e;x.put("/api/setDivisionData/",r,s).then((function(e){var a=e.data;t(a)})).catch((function(e){var t=y(e);a(t)}))},T=function(e,t,a,s){var r={headers:{Authorization:"JWT ".concat(O)}},n={targetInvite:e,targetAction:t};x.put("/api/setUserInvite/",n,r).then((function(e){var t=e.data;a(t)})).catch((function(e){var t=y(e);s(t)}))},I=function(e,t,a,s,r,n){var i={headers:{Authorization:"JWT ".concat(O)}},c={id:t,reqDiv:a,enabledDiv:s};x.post("/api/setNonDivisionEvents/",c,i).then((function(t){var a=t.data;r(e,a)})).catch((function(e){var t=y(e);n(t)}))},F=function(e,t,a,s){var r={headers:{Authorization:"JWT ".concat(O)}},n="recent";void 0!==t&&(n=t.toJSON().split("T")[0]),x.get("/api/getDivisionWebData/?reqDiv="+e+"&reqDate="+n,r).then((function(e){a(e.data)})).catch((function(e){var t=y(e);s(t)}))},L=function(e,t,a){var s={headers:{Authorization:"JWT ".concat(O)}},r="recent";void 0!==e&&(r=e.toJSON().split("T")[0]),x.get("/api/getUserWebData/?reqDate="+r,s).then((function(e){t(e.data)})).catch((function(e){var t=y(e);a(t)}))},W=function(e,t){var a=[],s=0;for(s in t)a.push({label:t[s].label,data:t[s].data,fill:!1,backgroundColor:"rgb(99, 255, 132)",borderColor:"rgba(255, 132, 99, 0.2)"});return{labels:e,datasets:a}},A=function(e){return{labels:["Joy","Anger","Sadness","Disgust","Fear"],datasets:[{label:"Confidence Levels",data:e,backgroundColor:"rgba(99, 255, 132, 0.2)",borderColor:"rgba(99, 255, 132, 1)",borderWidth:1}]}},U=function(e,t,a){return{labels:["Joy","Anger","Sadness","Disgust","Fear"],datasets:[{label:"Max",data:e,backgroundColor:"rgba(99, 255, 132, 0.2)",borderColor:"rgba(99, 255, 132, 1)",borderWidth:1},{label:"Ave",data:t,backgroundColor:"rgba(99, 132, 255, 0.2)",borderColor:"rgba(99, 132, 255, 1)",borderWidth:1},{label:"Min",data:a,backgroundColor:"rgba(255, 99, 132, 0.2)",borderColor:"rgba(255, 99, 132, 1)",borderWidth:1}]}},J=function(e,t,a){return{labels:["Value"],datasets:[{label:"Minimum",data:e,backgroundColor:"rgb(255, 99, 132)"},{label:"Average",data:t,backgroundColor:"rgb(54, 162, 235)"},{label:"Maximum",data:a,backgroundColor:"rgb(75, 192, 192)"}]}},M=function(e,t,a){return{labels:["Relevance","Sentiment"],datasets:[{label:"Minimum",data:e,backgroundColor:"rgb(255, 99, 132)"},{label:"Average",data:t,backgroundColor:"rgb(54, 162, 235)"},{label:"Maximum",data:a,backgroundColor:"rgb(75, 192, 192)"}]}},R=function(e){return{labels:["Relevance","Sentiment"],datasets:[{label:"Value",data:e,backgroundColor:"rgb(54, 162, 235)"}]}},H=function(e){return{labels:["Confidence","Relevance","Sentiment"],datasets:[{label:"Value",data:e,backgroundColor:"rgb(54, 162, 235)"}]}},V=function(e){var t=[],a=[];for(var s in e)t.push(s),a.push(e[s]);return{labels:t,datasets:[{label:["# Obtained"],data:a,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]}},B=a(235),G=a(0),q=[0,1],K=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).setUserFlag=function(e){if("number"!==typeof e)return!1;-1===e?s.setState({showUserActions:!1,showUserEmailScan:!1}):0===e?s.setState({showUserActions:!0}):1===e&&s.setState({showUserEmailScan:!0})},s.setCompanyFlag=function(e){if("number"!==typeof e)return!1;-1===e?s.setState({showCompanyDataFlag:!1,showCompanyEmailFlag:!1,showCompanySettingsFlag:!1}):0===e?s.setState({showCompanyDataFlag:!0}):1===e?s.setState({showCompanyEmailFlag:!0}):2===e&&s.setState({showCompanySettingsFlag:!0})},s.setCompanyName=function(e){s.setState({currentCompanyName:e})},s.setUserName=function(e){s.setState({currentUserName:e})},s.disableMenu=function(){s.setState({enabled:!1})},s.activateMenu=function(e){return void 0!==q.find((function(t){return t===e}))?(s.setState({enabled:!0,displayState:e}),!0):(s.setState({enabled:!1}),!1)},s.state={enabled:!1,displayState:0,showUserActions:!0,showUserEmailScan:!1,showCompanyDataFlag:!0,showCompanyEmailFlag:!1,showCompanySettingsFlag:!1,currentCompanyName:"No Company!",currentUserName:"No User!"},s}return Object(o.a)(a,[{key:"render",value:function(){var e=[];switch(this.state.displayState){case 0:e.push(Object(G.jsx)("div",{className:"list-group-item list-group-item-secondary",children:Object(G.jsx)("h4",{children:this.state.currentUserName})},"1")),this.state.showUserActions&&e.push(Object(G.jsx)(h.b,{className:"list-group-item",to:this.props.basePath+"/dashboard/userMode/journalWrite",children:"Make Today's Journal"},"2"),Object(G.jsx)(h.b,{className:"list-group-item",to:this.props.basePath+"/dashboard/userMode/journalRead",children:"View past Journals"},"3"),Object(G.jsx)(h.b,{className:"list-group-item",to:this.props.basePath+"/dashboard/userMode/writeSuggestion",children:"Make Suggestions"},"4")),e.push(Object(G.jsx)("div",{className:"list-group-item list-group-item-secondary",children:Object(G.jsx)("h4",{children:"Email Scanning"})},"4.5")),this.state.showUserEmailScan&&e.push(Object(G.jsx)(h.b,{className:"list-group-item",to:this.props.basePath+"/dashboard/userMode/userWeb",children:"View Contact Web"},"6")),e.push(Object(G.jsx)(h.b,{className:"list-group-item",to:this.props.basePath+"/dashboard/userMode/userSyncSettings",children:"Sync Settings"},"7"));break;case 1:e.push(Object(G.jsx)(h.b,{className:"list-group-item list-group-item-secondary",to:this.props.basePath+"/dashboard/companyMode/companySelect",children:Object(G.jsx)("h3",{children:this.state.currentCompanyName})},"0"),Object(G.jsx)(h.b,{className:"list-group-item list-group-item-light",to:this.props.basePath+"/dashboard/companyMode/companySelect",children:Object(G.jsx)("h5",{children:"Select Company"})},"0.5")),this.state.showCompanyDataFlag&&e.push(Object(G.jsx)(h.b,{className:"list-group-item list-group-item-light",to:this.props.basePath+"/dashboard/companyMode/companyEHI",children:"View EHI"},"1"),Object(G.jsx)(h.b,{className:"list-group-item list-group-item-light",to:this.props.basePath+"/dashboard/companyMode/companySummary",children:"View Summaries"},"2"),Object(G.jsx)(h.b,{className:"list-group-item list-group-item-light",to:this.props.basePath+"/dashboard/companyMode/companySuggestions",children:"View Suggestion Box"},"3")),this.state.showCompanyEmailFlag&&e.push(Object(G.jsx)("div",{className:"list-group-item list-group-item-secondary",children:Object(G.jsx)("h4",{children:"Email Scanning"})},"3.5"),Object(G.jsx)(h.b,{className:"list-group-item list-group-item-light",to:this.props.basePath+"/dashboard/companyMode/companyWeb",children:"View Web (Beta)"},"4")),this.state.showCompanySettingsFlag&&e.push(Object(G.jsx)("div",{className:"list-group-item list-group-item-secondary",children:Object(G.jsx)("h4",{children:"Settings"})},"4.5"),Object(G.jsx)(h.b,{className:"list-group-item list-group-item-light",to:this.props.basePath+"/dashboard/companyMode/companyPrompts",children:"Edit Prompt Events"},"5"),Object(G.jsx)(h.b,{className:"list-group-item list-group-item-light",to:this.props.basePath+"/dashboard/companyMode/companyInvites",children:"User Invites"},"6"),Object(G.jsx)(h.b,{className:"list-group-item list-group-item-light",to:this.props.basePath+"/dashboard/companyMode/companyPerms",children:"Permission Settings"},"7"),Object(G.jsx)(h.b,{className:"list-group-item list-group-item-light",to:this.props.basePath+"/dashboard/companyMode/companySettings",children:"Misc. Settings"},"8"));break;default:e.push(Object(G.jsx)("div",{className:"list-group",children:"Invalid Menu! Oops!"}))}return Object(G.jsx)("div",{className:"menuContainer",children:this.state.enabled&&Object(G.jsx)(B.slide,{children:Object(G.jsxs)("div",{className:"list-group",children:[Object(G.jsx)(h.b,{className:"list-group-item list-group-item-dark",to:this.props.basePath+"/dashboard",children:"Dashboard"}),e]})})})}}]),a}(r.a.Component),z=function(e){var t=e;return t>7?t=7:t<1&&(t=1),t},Y=function(e){var t=0,a=0,s=e;s>1?s=1:s<-1&&(s=-1),e<0?t=Math.floor(255*-e):a=Math.floor(255*e);var r=t.toString(16);t<15&&(r="0"+r);var n=a.toString(16);a<15&&(n="0"+n);var i=(0).toString(16);return"#"+r+n+(i="0"+i)},Z={nodes:{mass:1.1,shape:"box",chosen:{node:function(e,t,a,s){e.shadow=!0,e.color="#AAFFAA"},label:function(e,t,a,s){e.mod="bold"}}},edges:{color:"#000000",arrowStrikethrough:!0,smooth:{type:"dynamic"},chosen:{edge:function(e,t,a,s){e.shadow=!0},label:function(e,t,a,s){e.size=20,e.mod="bold"}}},layout:{hierarchical:!1},interaction:{hover:!0,dragNodes:!0},physics:{solver:"barnesHut",maxVelocity:50,minVelocity:.1},height:"500px"},X=a(546),_=a(547),Q=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={},s}return Object(o.a)(a,[{key:"render",value:function(){return Object(G.jsx)("div",{className:"showingWebData",children:Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)(X.a,{children:[Object(G.jsx)(X.a.Toggle,{as:_.a.Header,className:"border",variant:"link",eventKey:"open",children:"What am I looking at here?"}),Object(G.jsx)(X.a.Collapse,{eventKey:"open",className:"border",children:Object(G.jsxs)("div",{className:"row",children:[Object(G.jsx)("div",{className:"col"}),Object(G.jsxs)("div",{className:"col-",children:[Object(G.jsxs)("p",{children:["This is a ",Object(G.jsx)("u",{children:"'Contact Web'"})]}),Object(G.jsx)("p",{children:"Users can sync their Microsoft accounts to their Scenere account"}),Object(G.jsxs)("p",{children:["They can have their outgoing work emails scanned and the results tallied and displayed here",Object(G.jsx)("br",{}),'If you would like, press "Load Example data" to see what one looks like']}),Object(G.jsx)("h5",{children:Object(G.jsx)("u",{children:"The legend is as follows:"})}),Object(G.jsxs)("ul",{children:[Object(G.jsx)("li",{children:"White labels are a tracked user"}),Object(G.jsx)("li",{children:"Red labels are untracked users"}),Object(G.jsxs)("li",{children:["The arrows are average sentiment/Number of emails",Object(G.jsx)("br",{}),"Color and size is according to those values"]})]})]}),Object(G.jsx)("div",{className:"col"})]})})]})})})})}}]),a}(r.a.Component),$=function(e){var t=b.a.get(e);if(void 0===t)return 0;if(void 0===t.data)return b.a.remove(e),2;var a=t.expiryDate;return Date.now()>a?(b.a.remove(e),1):t.data},ee=function(e,t,a){try{var s=new Date;0===a?s.setHours(s.getHours()+1):1===a?s.setDate(s.getDate()+1):2===a?s.setDate(s.getDate()+7):s.setSeconds(s.getSeconds()+90);var r={expiryDate:s.getTime(),data:t};b.a.set(e,r)}catch(n){return!1}return!0},te=function(e){b.a.remove(e)},ae=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).resetErrors=function(){s.setState({usernameError:!1,passwordError:!1,isWrongError:!1,networkError:!1,miscError:!1})},s.userFieldChange=function(e){s.setState({username:e.target.value}),s.resetErrors()},s.emailFieldChange=function(e){s.setState({email:e.target.value}),s.resetErrors()},s.passFieldChange=function(e){s.setState({password:e.target.value}),s.resetErrors()},s.remFieldChange=function(e){s.setState({remember:!s.state.remember}),s.resetErrors()},s.handleSubmitFailure=function(e){var t=!1,a=!1,r=!1,n=!1,i=!1,c=!1;if(0===e.action)t=!0;else if(3===e.action)for(var o in e.messages)1===e.messages[o].mod?a=!0:2===e.messages[o].mod?r=!0:3===e.messages[o].mod?n=!0:i=!0;else(4===e.action||5===e.action)&&(c=!0);s.setState({networkError:t,usernameError:a,passwordError:r,isWrongError:n,unhandledError:i,serverError:c,signInState:3})},s.handleSubmitSuccess=function(e){var t=e.access,a=s.state.username;s.state.signInEmailMode&&(a=s.state.email),s.props.loginSave(t,a,s.state.remember)?s.props.history.push(s.props.reRouteTarget):(console.log("Token Set on OUR END Failed..?"),s.setState({signInState:3}))},s.handleSubmit=function(e){var t=s.state.username;s.state.signInEmailMode&&(t=s.state.email),D(s.state.signInEmailMode,t,s.state.password,s.handleSubmitSuccess,s.handleSubmitFailure),s.setState({signInState:1}),e.preventDefault()},s.state={signInState:0,usernameError:!1,emailError:!1,passwordError:!1,isWrongError:!1,networkError:!1,miscError:!1,signInEmailMode:!1,email:"",username:"",password:"",remember:!1},s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e="";(this.state.emailError||this.state.isWrongError)&&(e="bg-warning");var t="";(this.state.usernameError||this.state.isWrongError)&&(t="bg-warning");var a="";(this.state.passwordError||this.state.isWrongError)&&(a="bg-warning");var s=1===this.state.signInState;return Object(G.jsxs)("div",{className:"container text-center",children:[Object(G.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(G.jsx)("h3",{children:"Sign In"}),Object(G.jsx)("p",{className:"text-danger",children:this.state.isWrongError?"Email and/or Password are incorrect":""}),this.state.signInEmailMode?Object(G.jsxs)("div",{className:"form-group",children:[Object(G.jsx)("label",{children:"Email"}),Object(G.jsx)("input",{type:"text",className:"form-control "+e,value:this.state.email,onChange:this.emailFieldChange,placeholder:"Enter Email"}),Object(G.jsx)("p",{className:"text-danger",children:this.state.emailError?"Email cant be blank":""})]}):Object(G.jsxs)("div",{className:"form-group",children:[Object(G.jsx)("label",{children:"Username"}),Object(G.jsx)("input",{type:"text",className:"form-control "+t,value:this.state.username,onChange:this.userFieldChange,placeholder:"Enter Username"}),Object(G.jsx)("p",{className:"text-danger",children:this.state.usernameError?"Username cant be blank":""})]}),Object(G.jsxs)("div",{className:"form-group",children:[Object(G.jsx)("label",{children:"Password"}),Object(G.jsx)("input",{type:"password",className:"form-control "+a,value:this.state.password,onChange:this.passFieldChange,placeholder:"Enter password"}),Object(G.jsx)("p",{className:"text-danger",children:this.state.passwordError?"Password cannot be blank":""})]}),Object(G.jsxs)("div",{className:"form-group",children:[Object(G.jsx)("label",{className:"form-control-label",htmlFor:"customCheck1",children:"Keep Me Logged In"}),Object(G.jsx)("input",{type:"checkbox",className:"form-control-input",id:"customCheck1",value:this.state.remember,onChange:this.remFieldChange})]}),this.state.miscError?Object(G.jsx)("p",{className:"text-danger border",children:"Unknown Error"}):void 0,this.state.networkError?Object(G.jsx)("p",{className:"bg-warning text-danger border",children:"Server cannot be reached!"}):void 0,Object(G.jsx)("button",{type:"submit",className:"btn btn-dark btn-block",children:"Submit"}),Object(G.jsxs)("div",{className:"row",children:[Object(G.jsx)("div",{className:"col"}),Object(G.jsx)("div",{className:"col"}),Object(G.jsx)("div",{className:"col"}),Object(G.jsx)("p",{className:"col forgot-password text-dark",children:Object(G.jsx)(h.b,{className:"nav-link border",to:this.props.forgotPath,children:"Forgot password?"})})]})]}),Object(G.jsxs)(j.a,{show:s,variant:"warning",children:[Object(G.jsx)(j.a.Heading,{children:"Waiting"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"Waiting for server..."}),Object(G.jsx)("hr",{})]})]})}}]),a}(r.a.Component),se=Object(u.f)(ae),re=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).usernameFieldChange=function(e){s.setState({username:e.target.value})},s.emailFieldChange=function(e){s.setState({email:e.target.value})},s.passFieldChange=function(e){s.setState({password:e.target.value,passwordError:e.target.value!==s.state.password2,passwordErrorDetail:"Passwords do not match!"})},s.pass2FieldChange=function(e){s.setState({password2:e.target.value,passwordError:e.target.value!==s.state.password,passwordErrorDetail:"Passwords do not match!"})},s.firstNameFieldChange=function(e){s.setState({firstName:e.target.value})},s.lastnameFieldChange=function(e){s.setState({lastName:e.target.value})},s.checkFieldChange=function(e){s.setState({checkField:e.target.value})},s.nowSendEmailFailure=function(){console.log("Oh no. We failed"),s.props.history.push(s.props.reRouteTarget),s.setState({nowSendEmailState:3})},s.nowSendEmailCallback=function(){s.props.history.push(s.props.reRouteTarget),s.setState({nowSendEmailState:2})},s.nowSendEmail=function(){w(s.nowSendEmailCallback,s.nowSendEmailFailure),s.setState({nowSendEmailState:1})},s.nowSignInFailure=function(){console.log("Sign in failed, I dont even know what to do here... Normal errors dont work here..."),s.props.history.push(s.props.reRouteTarget),s.setState({nowSignInState:3})},s.nowSignInCallback=function(e){s.props.loginSave(e,s.state.username,!1)?(console.log("Token registered"),s.nowSendEmail()):(console.log("Token Failed..?"),s.props.history.push(s.props.reRouteTarget)),s.setState({nowSignInState:2})},s.nowSignIn=function(){D(!1,s.state.username,s.state.password,s.nowSignInCallback,s.nowSignInFailure),s.setState({nowSignInState:1})},s.handleSignUpSubmitFailure=function(e){var t=!1,a=!1,r="",n=!1,i="",c=!1,o="",l=!1,d=!1;if(0===e.action)t=!0;else if(3===e.action)for(var h in e.messages)1===e.messages[h].mod?(a=!0,r=e.messages[h].text):2===e.messages[h].mod?(n=!0,i=e.messages[h].text):4===e.messages[h].mod?(c=!0,o="Email is taken!"):l=!0;else(4===e.action||5===e.action)&&(d=!0);s.setState({networkError:t,usernameError:a,usernameErrorDetail:r,passwordError:n,passwordErrorDetail:i,emailError:c,emailErrorDetail:o,unhandledError:l,serverError:d,handleSignUpSubmitState:3})},s.handleSignUpSubmitCallback=function(e){201===e&&(console.log("Successful Sign up, now signing in..."),s.nowSignIn(),s.setState({handleSignUpSubmitState:2}))},s.handleSignUpSubmit=function(e){s.state.checkField?(!function(e,t,a,s,r,n,i,c){var o={username:e,password:t,password2:a,email:s,first_name:r,last_name:n};x.post("/api/registerUser/",o).then((function(e){var t=e.status;i(t)})).catch((function(e){var t=y(e);c(t)}))}(s.state.username,s.state.password,s.state.password2,s.state.email,s.state.firstName,s.state.lastName,s.handleSignUpSubmitCallback,s.handleSignUpSubmitFailure),s.setState({handleSignUpSubmitState:1,legalError:!1})):(console.log("Field was not checked"),s.setState({legalError:!0})),e.preventDefault()},s.state={username:"",email:"",password:"",password2:"",firstName:"",lastName:"",networkError:!1,usernameError:!1,usernameErrorDetail:"Username is unavalible",emailError:!1,emailErrorDetail:"Email is invalid/taken",passwordError:!1,passwordErrorDetail:"Passwords do not match!",unhandledError:!1,serverError:!1,checkField:!1,nowSendEmailState:0,nowSignInState:0,handleSignUpSubmitState:0,legalError:!1},s}return Object(o.a)(a,[{key:"render",value:function(){var e="form-control";this.state.usernameError&&(e+=" bg-warning");var t="form-control";this.state.emailError&&(t+=" bg-warning");var a="form-control";this.state.passwordError&&(a+=" bg-warning");var s=this.state.legalError,r=1===this.state.handleSignUpSubmitState;return Object(G.jsx)("div",{className:"signUp",children:Object(G.jsxs)("div",{className:"container",children:[Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("h3",{children:"Sign Up"})})}),Object(G.jsxs)("form",{onSubmit:this.handleSignUpSubmit,children:[Object(G.jsxs)("div",{id:"align-left",children:[Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"form-group",children:[Object(G.jsx)("label",{id:"label-left",children:"Username"}),Object(G.jsx)("input",{type:"text",className:e,value:this.state.username,onChange:this.usernameFieldChange,placeholder:"Enter Username"}),Object(G.jsx)("p",{className:"text-danger",children:this.state.usernameError?this.state.usernameErrorDetail:""})]})})}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"form-group",children:[Object(G.jsx)("label",{id:"align-left",children:"Email Address"}),Object(G.jsx)("input",{type:"email",className:t,value:this.state.email,onChange:this.emailFieldChange,placeholder:"Enter email"}),Object(G.jsx)("p",{className:"text-danger",children:this.state.emailError?this.state.emailErrorDetail:""})]})})}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"form-group",children:[Object(G.jsx)("label",{id:"align-left",children:"Password"}),Object(G.jsx)("input",{type:"password",className:a,value:this.state.password,onChange:this.passFieldChange,placeholder:"Enter password"})]})})}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"form-group",children:[Object(G.jsx)("label",{id:"align-left",children:"Confirm Password"}),Object(G.jsx)("input",{type:"password",className:a,value:this.state.password2,onChange:this.pass2FieldChange,placeholder:"Confirm password"}),Object(G.jsx)("p",{className:"text-danger",children:this.state.passwordError?this.state.passwordErrorDetail:""})]})})}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"form-group",children:[Object(G.jsx)("label",{id:"align-left",children:"First Name"}),Object(G.jsx)("input",{type:"text",className:"form-control",value:this.state.firstName,onChange:this.firstNameFieldChange,placeholder:"First Name"})]})})}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"form-group",children:[Object(G.jsx)("label",{id:"align-left",children:"Last Name"}),Object(G.jsx)("input",{type:"text",className:"form-control",value:this.state.lastName,onChange:this.lastnameFieldChange,placeholder:"Last Name"})]})})})]}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"form-group",children:[Object(G.jsx)("input",{type:"checkbox",className:"form-control-input",id:"customCheck1",value:this.state.checkField,onChange:this.checkFieldChange}),Object(G.jsx)("label",{className:"form-control-label",htmlFor:"customCheck1",children:"Legal stuff?"})]})})}),Object(G.jsx)("div",{className:"row",children:Object(G.jsxs)("div",{className:"col",children:[this.state.networkError?Object(G.jsx)("p",{className:"bg-warning text-danger border",children:"Server cannot be reached!"}):void 0,Object(G.jsx)("button",{type:"submit",className:"btn btn-dark btn-block",children:"Submit"})]})})]}),Object(G.jsxs)(j.a,{show:s,variant:"danger",children:[Object(G.jsx)(j.a.Heading,{children:"Warning"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"You have to accept the non-existant legal documents"}),Object(G.jsx)("hr",{})]}),Object(G.jsxs)(j.a,{show:r,variant:"warning",children:[Object(G.jsx)(j.a.Heading,{children:"Waiting"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"This should display while waiting for the return"}),Object(G.jsx)("hr",{})]}),Object(G.jsx)("div",{className:"row my-5",children:Object(G.jsx)("div",{className:"col"})})]})})}}]),a}(r.a.Component),ne=Object(u.f)(re),ie=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).goSignIn=function(){s.props.history.push(s.props.reRouteTarget)},s.arePasswordsSame=function(){return s.state.password1===s.state.password2},s.swapToCode=function(){s.setState({currentState:1,generalErrorDetail:[]})},s.forceSwapForTesting=function(e){s.setState({currentState:Number(e.target.value),generalErrorDetail:[],sendEmailState:0,validateCodeState:0,submitPasswordState:0})},s.sendEmailSuccess=function(e,t){s.setState({currentState:1,generalErrorDetail:[],sendEmailState:2})},s.sendEmailFailure=function(e){var t=[];if(0===e.action);else if(2===e.action);else if(3===e.action)for(var a in e.messages)t.push(e.messages[a].text);else 4===e.action||e.action;s.setState({generalErrorDetail:t,sendEmailState:3})},s.sendEmail=function(){!function(e,t,a){var s={targetEmail:e};x.post("/api/nonAuthPassword/sendEmail/",s).then((function(e){t(e.status)})).catch((function(e){var t=y(e);a(t)}))}(s.state.email,s.sendEmailSuccess,s.sendEmailFailure),s.setState({sendEmailState:1})},s.checkTokenFailure=function(e){var t=[];if(0===e.action);else if(2===e.action);else if(3===e.action)for(var a in e.messages)t.push(e.messages[a].text);else 4===e.action||e.action;s.setState({generalErrorDetail:t,validateCodeState:3})},s.checkTokenSuccess=function(e){s.setState({currentState:2,generalErrorDetail:[],validateCodeState:2})},s.checkToken=function(){var e,t,a;e=s.state.resetToken,t=s.checkTokenSuccess,a=s.checkTokenFailure,x.get("/api/nonAuthPassword/validate/?token="+e,{}).then((function(e){t(e.status)})).catch((function(e){var t=y(e);a(t)})),s.setState({generalErrorDetail:[],validateCodeState:1,submitPasswordState:0})},s.submitPasswordFailure=function(e){var t=[],a=2;if(0===e.action);else if(2===e.action);else if(3===e.action)for(var r in e.messages)t.push(e.messages[r].text);else 4===e.action||5===e.action||6===e.action&&(t.push("Token was not found!"),a=1);s.setState({generalErrorDetail:t,currentState:a,submitPasswordState:3})},s.submitPasswordSuccess=function(e){s.setState({currentState:3,generalErrorDetail:[],submitPasswordState:2})},s.submitPasswords=function(){s.arePasswordsSame()&&(!function(e,t,a,s,r){var n={password:t,password2:a,passToken:e};x.put("/api/nonAuthPassword/Change/",n).then((function(e){s(e.status)})).catch((function(e){var t=y(e);r(t)}))}(s.state.resetToken,s.state.password1,s.state.password2,s.submitPasswordSuccess,s.submitPasswordFailure),s.setState({submitPasswordState:1}))},s.emailFieldChange=function(e){s.setState({email:e.target.value})},s.tokenFieldChange=function(e){s.setState({resetToken:e.target.value})},s.pass1FieldChange=function(e){s.setState({password1:e.target.value})},s.pass2FieldChange=function(e){s.setState({password2:e.target.value,passwordsSameError:e.target.value!==s.state.password1})},s.state={currentState:0,email:"",resetToken:"",password1:"",password2:"",passwordsSameError:!1,generalErrorDetail:[],uncaughtError:!0,sendEmailState:0,validateCodeState:0,submitPasswordState:0},s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.setState({email:"",resetToken:"",password1:"",password2:""})}},{key:"render",value:function(){var e=null,t=null,a=null;0===this.state.currentState?(a=Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("p",{children:"Enter your email address. If it is in the system, we will send you an email address with a code."})})}),e=Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"form-group",children:[Object(G.jsx)("label",{children:"Email Address"}),Object(G.jsx)("input",{type:"email",className:"form-control",value:this.state.email,onChange:this.emailFieldChange,placeholder:"Enter email"})]})})}),t=[Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("button",{className:"btn btn-primary",onClick:this.sendEmail,children:"Send"})})},1),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col m-2",children:Object(G.jsx)("button",{className:"btn btn-primary",onClick:this.swapToCode,children:"Already have the code!"})})},2)]):1===this.state.currentState?(a=Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("p",{children:"Check your email. If your email is correct, then enter the code it gives you here:"})}),e=Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"form-group",children:[Object(G.jsx)("label",{children:"Reset token"}),Object(G.jsx)("input",{type:"text",className:"form-control",value:this.state.resetToken,onChange:this.tokenFieldChange,placeholder:"Enter Token"})]})}),t=Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("button",{className:"btn btn-primary",onClick:this.checkToken,children:"Check Code"})})):2===this.state.currentState?(a=[Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("p",{children:" Enter your new password! "})})},1)],this.state.passwordsSameError&&a.push(Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("p",{className:"text-danger",children:" Passwords do not match! "})})},2)),e=[Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("div",{className:"form-group",children:Object(G.jsx)("input",{type:"password",className:"form-control",value:this.state.password1,onChange:this.pass1FieldChange,placeholder:"Enter Password"})})})},3),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("div",{className:"form-group",children:Object(G.jsx)("input",{type:"password",className:"form-control",value:this.state.password2,onChange:this.pass2FieldChange,placeholder:"Re-enter Password"})})})},4)],t=Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("button",{className:"btn btn-primary",onClick:this.submitPasswords,children:"Submit"})})})):3===this.state.currentState&&(a=Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("p",{children:" Password has been successfullty reset! "})})}),e=null,t=Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("button",{className:"btn btn-primary",onClick:this.goSignIn,children:"Sign In!"})})}));var s=1===this.state.sendEmailState||1===this.state.validateCodeState||1===this.state.submitPasswordState,r=3===this.state.sendEmailState||3===this.state.validateCodeState||3===this.state.submitPasswordState,n=0,i=[];for(var c in this.state.generalErrorDetail)i.push(Object(G.jsx)("div",{children:this.state.generalErrorDetail[c]},n)),n++;return 0===i.length&&(i="Unknown Error!"),Object(G.jsxs)("div",{className:"container-sm",children:[Object(G.jsx)("button",{className:"btn btn-outline-secondary",onClick:this.forceSwapForTesting,value:0,children:"T0"}),Object(G.jsx)("button",{className:"btn btn-outline-secondary",onClick:this.forceSwapForTesting,value:1,children:"T1"}),Object(G.jsx)("button",{className:"btn btn-outline-secondary",onClick:this.forceSwapForTesting,value:2,children:"T2"}),Object(G.jsx)("button",{className:"btn btn-outline-secondary",onClick:this.forceSwapForTesting,value:3,children:"T3"}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("h3",{children:" Forgot your password? "})})}),a,e,t,Object(G.jsxs)(j.a,{show:s,variant:"warning",children:[Object(G.jsx)(j.a.Heading,{children:"Waiting"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"Waiting for server response for submission..."}),Object(G.jsx)("hr",{})]}),Object(G.jsxs)(j.a,{show:!1,variant:"success",children:[Object(G.jsx)(j.a.Heading,{children:"Waiting"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"This should display if we got a success"}),Object(G.jsx)("hr",{})]}),Object(G.jsxs)(j.a,{show:r,variant:"danger",children:[Object(G.jsx)(j.a.Heading,{children:"Error!"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:i}),Object(G.jsx)("hr",{})]})]})}}]),a}(r.a.Component),ce=Object(u.f)(ie),oe=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).tokenFieldChange=function(e){s.setState({token:e.target.value})},s.gotoDash=function(){s.props.history.push(s.props.reRouteSuccessTarget)},s.handleVerifyFailure=function(e){var t=!1,a="";if(0===e.action);else if(2===e.action);else if(3===e.action)for(var r in e.messages)1===e.messages[r].mod&&(t=!0,a=e.messages[r].text);else 4===e.action||e.action;s.setState({tokenError:t,tokenErrorDetail:a,validateStatus:3})},s.handleVerifyCallback=function(e,t){200===e&&(console.log("Successful Verification!"),s.setState({done:!0,validateStatus:2}))},s.handleVerifySubmit=function(e){!function(e,t,a){var s={headers:{Authorization:"JWT ".concat(O)}};x.get("/api/emailActivate/?token="+e,s).then((function(e){t(e.status,e.data)})).catch((function(e){var t=y(e);a(t)}))}(s.state.token,s.handleVerifyCallback,s.handleVerifyFailure),s.setState({validateStatus:1}),e.preventDefault()},s.reSendEmailFailure=function(e){0===e.action||(2===e.action?s.props.refreshToken(s.reSendEmail):3===e.action||4===e.action||e.action),s.setState({sendEmailStatus:3})},s.reSendEmailCallback=function(){s.setState({resend:"A new code has been sent!",sendEmailStatus:2})},s.reSendEmail=function(){w(s.reSendEmailCallback,s.reSendEmailFailure),s.setState({sendEmailStatus:1})},s.state={token:"",tokenError:!1,tokenErrorDetail:"???",done:!1,resend:"",validateStatus:0,sendEmailStatus:0},s}return Object(o.a)(a,[{key:"render",value:function(){var e="form-control";this.state.tokenError&&(e+=" bg-warning");var t=[];t=this.state.done?Object(G.jsxs)("div",{children:[Object(G.jsx)("div",{className:"row",children:Object(G.jsxs)("div",{className:"col",children:[Object(G.jsx)("h3",{children:"Thank you!"}),Object(G.jsx)("p",{children:"Account has been activated! Press here to go to the dashboard:"})]})}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("button",{className:"btn btn-dark",onClick:this.gotoDash,children:"To the Dashboard!"})})})]}):Object(G.jsxs)("div",{children:[Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("h3",{children:"Activate your account"})})}),Object(G.jsx)("form",{onSubmit:this.handleVerifySubmit,children:Object(G.jsxs)("div",{id:"align-left",children:[Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("p",{children:" Check your email, you should have received a code, enter it here and your account will be activated!"})})}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"form-group",children:[Object(G.jsx)("label",{id:"label-left",children:"Enter token here:"}),Object(G.jsx)("input",{type:"text",className:e,value:this.state.username,onChange:this.tokenFieldChange,placeholder:"Token"}),Object(G.jsx)("p",{className:"text-danger",children:this.state.tokenError?this.state.tokenErrorDetail:""})]})})}),Object(G.jsx)("div",{className:"row my-2",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("button",{type:"submit",className:"btn btn-dark btn-block",children:"Submit"})})})]})}),Object(G.jsx)("div",{className:"row my-2",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("button",{onClick:this.reSendEmail,className:"btn btn-dark btn-block",children:"Re-send Activation code"})})}),Object(G.jsx)("div",{className:"row my-2",children:Object(G.jsx)("div",{className:"col",children:this.state.resend})})]});var a=1===this.state.validateStatus||1===this.state.sendEmailStatus,s=2===this.state.validateStatus||2===this.state.sendEmailStatus,r=3===this.state.validateStatus||3===this.state.sendEmailStatus;return Object(G.jsx)("div",{className:"signUp",children:Object(G.jsxs)("div",{className:"container",children:[t,Object(G.jsxs)(j.a,{show:a,variant:"warning",children:[Object(G.jsx)(j.a.Heading,{children:"Waiting"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"Waiting for server response for submission..."}),Object(G.jsx)("hr",{})]}),Object(G.jsxs)(j.a,{show:s,variant:"success",children:[Object(G.jsx)(j.a.Heading,{children:"Waiting"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"This should display if we got a success"}),Object(G.jsx)("hr",{})]}),Object(G.jsxs)(j.a,{show:r,variant:"danger",children:[Object(G.jsx)(j.a.Heading,{children:"Error!"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"This should display if we got an error"}),Object(G.jsx)("hr",{})]})]})})}}]),a}(r.a.Component),le=Object(u.f)(oe),de=function(e){return Object(G.jsx)("header",{className:"header",children:Object(G.jsx)("div",{className:"intro",children:Object(G.jsx)("div",{className:"overlay",children:Object(G.jsx)("div",{className:"container",children:Object(G.jsx)("div",{className:"row",children:Object(G.jsxs)("div",{className:"col col-md-offset-2 intro-text",children:[Object(G.jsx)("h1",{children:"Project Scenere"}),Object(G.jsx)("h5",{children:"Welcome to the Alpha!"})]})})})})})})},he=a(539),ue=a(540),je=a(541),me=a(542),be=function(e){return Object(G.jsx)("div",{className:"text-center",id:"features",children:Object(G.jsxs)("div",{className:"container",children:[Object(G.jsx)("div",{className:"row m-3",children:Object(G.jsxs)("div",{className:"col",children:[Object(G.jsx)("h2",{className:"section-title",children:"Features"}),Object(G.jsx)("p",{className:"text-muted section-subtitle",children:"Lorem ipsum"})]})}),Object(G.jsxs)("div",{className:"row my-2",children:[Object(G.jsxs)("div",{className:"col-sm-6 col-md-6 col-lg-3",children:[Object(G.jsxs)("div",{className:"row",children:[Object(G.jsx)("div",{className:"col"}),Object(G.jsx)("div",{className:"col",children:Object(G.jsx)(he.a,{className:"iconBG",color:"white",size:72})}),Object(G.jsx)("div",{className:"col"})]}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("h3",{children:"Feature Title"})})}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("p",{className:"col text-muted",children:"Lorem ipsum dolor sit amet placerat facilisis felis mi in tempus eleifend pellentesque natoque etiam."})})]}),Object(G.jsxs)("div",{className:"col-sm-6 col-md-6 col-lg-3",children:[Object(G.jsxs)("div",{className:"row",children:[Object(G.jsx)("div",{className:"col"}),Object(G.jsx)("div",{className:"col",children:Object(G.jsx)(ue.a,{className:"iconBG",color:"white",size:72})}),Object(G.jsx)("div",{className:"col"})]}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("h3",{children:"Feature Title"})})}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("p",{className:"col text-muted",children:"Lorem ipsum dolor sit amet placerat facilisis felis mi in tempus eleifend pellentesque natoque etiam."})})]}),Object(G.jsxs)("div",{className:"col-sm-6 col-md-6 col-lg-3",children:[Object(G.jsxs)("div",{className:"row",children:[Object(G.jsx)("div",{className:"col"}),Object(G.jsx)("div",{className:"col",children:Object(G.jsx)(je.a,{className:"iconBG",color:"white",size:72})}),Object(G.jsx)("div",{className:"col"})]}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("h3",{children:"Feature Title"})})}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("p",{className:"col text-muted",children:"Lorem ipsum dolor sit amet placerat facilisis felis mi in tempus eleifend pellentesque natoque etiam."})})]}),Object(G.jsxs)("div",{className:"col-sm-6 col-md-6 col-lg-3",children:[Object(G.jsxs)("div",{className:"row",children:[Object(G.jsx)("div",{className:"col"}),Object(G.jsx)("div",{className:"col",children:Object(G.jsx)(me.a,{className:"iconBG",color:"white",size:72})}),Object(G.jsx)("div",{className:"col"})]}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("h3",{children:"Feature Title"})})}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("p",{className:"col text-muted",children:"Lorem ipsum dolor sit amet placerat facilisis felis mi in tempus eleifend pellentesque natoque etiam."})})]})]})]})})},pe=function(e){return Object(G.jsx)("div",{id:"about",children:Object(G.jsxs)("div",{className:"container",children:[Object(G.jsx)("div",{className:"row m-4",children:Object(G.jsxs)("div",{className:"col",children:[Object(G.jsx)("h2",{className:"section-title",children:"About Us"}),Object(G.jsx)("p",{className:"text-muted section-subtitle",children:"Lorem ipsum"})]})}),Object(G.jsx)("div",{className:"row m-4",children:Object(G.jsx)("div",{className:"col text-muted",children:"Lorem ipsum dolor sit amet placerat facilisis felis mi in tempus eleifend pellentesque natoque etiam."})}),Object(G.jsx)("div",{className:"row m-4",children:Object(G.jsx)("h5",{className:"col about-subsection",children:"Title of Subsection"})}),Object(G.jsxs)("div",{className:"row my-2 about-text text-muted",children:[Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("ul",{children:[Object(G.jsx)("li",{children:"Lorem ipsum dolor sit amet"}),Object(G.jsx)("li",{children:"Lorem ipsum dolor sit amet"}),Object(G.jsx)("li",{children:"Lorem ipsum dolor sit amet"}),Object(G.jsx)("li",{children:"Lorem ipsum dolor sit amet"})]})}),Object(G.jsx)("div",{className:"col list-style",children:Object(G.jsxs)("ul",{children:[Object(G.jsx)("li",{children:"Lorem ipsum dolor sit amet"}),Object(G.jsx)("li",{children:"Lorem ipsum dolor sit amet"}),Object(G.jsx)("li",{children:"Lorem ipsum dolor sit amet"}),Object(G.jsx)("li",{children:"Lorem ipsum dolor sit amet"})]})})]})]})})},ve=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).emailFieldChange=function(e){s.setState({email:e.target.value})},s.callbackFailure=function(){s.setState({handleEmailStatus:3})},s.callbackSuccess=function(){s.setState({handleEmailStatus:2})},s.handleSubmit=function(e){!function(e,t,a){var s={email:e};x.post("/api/sendBetaEmail/",s).then((function(e){e.status})).catch((function(e){var t=y(e);a(t)}))}(s.state.email,s.callbackSuccess,s.callbackFailure),e.preventDefault(),s.setState({handleEmailStatus:1})},s.state={email:"",handleEmailStatus:0},s}return Object(o.a)(a,[{key:"render",value:function(){return Object(G.jsx)("div",{id:"contact",children:Object(G.jsxs)("div",{className:"container",children:[Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{children:[Object(G.jsx)("h2",{children:"Beta Request"}),Object(G.jsx)("p",{children:"Interested in beta testing? Enter you email below"})]})})}),Object(G.jsx)("form",{onSubmit:this.handleSubmit,children:Object(G.jsxs)("div",{className:"row",children:[Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("div",{className:"form-group",children:Object(G.jsx)("input",{type:"email",className:"form-control",value:this.state.email,onChange:this.emailFieldChange,placeholder:"Enter email"})})}),Object(G.jsxs)("div",{className:"col",children:[Object(G.jsx)("label",{}),Object(G.jsx)("button",{type:"submit",className:"btn btn-dark btn-block",children:"Send!"})]})]})})]})})}}]),a}(r.a.Component),ge=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).firstNameFieldChange=function(e){s.setState({firstName:e.target.value})},s.lastnameFieldChange=function(e){s.setState({lastName:e.target.value})},s.emailFieldChange=function(e){s.setState({email:e.target.value})},s.companyFieldChange=function(e){s.setState({company:e.target.value})},s.contentFieldChange=function(e){s.setState({content:e.target.value})},s.callbackFailure=function(){s.setState({emailContactState:3})},s.callbackSuccess=function(){s.setState({emailContactState:2})},s.handleSubmit=function(e){!function(e,t,a,s,r,n,i){var c={firstName:e,lastName:t,email:a,company:s,content:r};x.post("/api/sendContactEmail/",c).then((function(e){e.status})).catch((function(e){var t=y(e);i(t)}))}(s.state.firstName,s.state.lastName,s.state.email,s.state.company,s.state.content,s.callbackSuccess,s.callbackFailure),e.preventDefault(),s.setState({emailContactState:1})},s.state={firstName:"",lastName:"",email:"",company:"",content:"",emailContactState:0},s}return Object(o.a)(a,[{key:"render",value:function(){return Object(G.jsx)("div",{id:"contact",children:Object(G.jsxs)("div",{className:"container",children:[Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{children:[Object(G.jsx)("h2",{children:"Contact Us"}),Object(G.jsx)("p",{children:"Lorem ipsum dolor sit amet placerat"})]})})}),Object(G.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(G.jsxs)("div",{className:"row",children:[Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"form-group",children:[Object(G.jsx)("label",{children:"First Name"}),Object(G.jsx)("input",{type:"text",className:"form-control",value:this.state.firstName,onChange:this.firstNameFieldChange,placeholder:"First Name"})]})}),Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"form-group",children:[Object(G.jsx)("label",{children:"Last Name"}),Object(G.jsx)("input",{type:"text",className:"form-control",value:this.state.lastName,onChange:this.lastnameFieldChange,placeholder:"Last Name"})]})})]}),Object(G.jsxs)("div",{className:"row",children:[Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"form-group",children:[Object(G.jsx)("label",{children:"Email Address"}),Object(G.jsx)("input",{type:"email",className:"form-control",value:this.state.email,onChange:this.emailFieldChange,placeholder:"Enter email"})]})}),Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"form-group",children:[Object(G.jsx)("label",{children:"Company"}),Object(G.jsx)("input",{type:"text",className:"form-control",value:this.state.company,onChange:this.companyFieldChange,placeholder:"Company Name"})]})})]}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"form-group",children:[Object(G.jsx)("label",{children:"Content"}),Object(G.jsx)("textarea",{type:"text",className:"form-control",value:this.state.content,onChange:this.contentFieldChange,placeholder:"Content"})]})})}),Object(G.jsx)("div",{className:"row my-1",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("button",{type:"submit",className:"btn btn-dark btn-block",children:"Send Message"})})})]})]})})}}]),a}(r.a.Component),xe=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).triggerLogout=function(){s.props.logout(),s.props.history.push(s.props.reRouteSignIn)},s.state={},s}return Object(o.a)(a,[{key:"render",value:function(){var e=null,t=null;return void 0===this.props.currentUser?e=[Object(G.jsx)("li",{className:"nav-item",children:Object(G.jsx)(h.b,{className:"nav-link",to:this.props.reRouteSignUp,children:"Sign Up"})},"1"),Object(G.jsx)("li",{className:"nav-item",children:Object(G.jsx)(h.b,{className:"nav-link",to:this.props.reRouteSignIn,children:"Sign In"})},"2")]:(e=[Object(G.jsx)("li",{className:"nav-item",children:Object(G.jsx)(h.b,{className:"nav-link",to:this.props.reRouteDashboard,children:"Dashboard"})},"1")],t=Object(G.jsxs)("div",{className:"dropdown",children:[Object(G.jsx)("div",{className:"nav-link",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:this.props.currentUser}),Object(G.jsxs)("div",{className:"dropdown-menu dropdown-menu-right","aria-labelledby":"dropdownMenuButton",children:[Object(G.jsx)(h.b,{className:"dropdown-item",to:this.props.reRouteUserInvites,children:"Invites"}),Object(G.jsx)(h.b,{className:"dropdown-item",to:this.props.reRouteUserSecurity,children:"Security"}),Object(G.jsx)(h.b,{className:"dropdown-item",to:this.props.reRouteUserPermissions,children:"Permissions"}),Object(G.jsx)(h.b,{className:"dropdown-item",to:this.props.reRouteLanding,onClick:this.triggerLogout,children:"Sign Out"})]})]},"5")),Object(G.jsx)("div",{className:"navigation",children:Object(G.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:Object(G.jsxs)("div",{className:"container-fluid",children:[Object(G.jsx)(h.b,{className:"navbar-brand",to:this.props.reRouteLanding,children:"Project Scenere"}),Object(G.jsx)("div",{className:"dropdown"}),Object(G.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarResponsive","aria-controls":"navbarResponsive","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(G.jsx)("span",{className:"navbar-toggler-icon"})}),Object(G.jsx)("div",{className:"collapse navbar-collapse",id:"navbarResponsive",children:Object(G.jsxs)("ul",{className:"navbar-nav ml-auto",children:[e,t]})})]})})})}}]),a}(r.a.Component),Oe=Object(u.f)(xe),fe=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={},s}return Object(o.a)(a,[{key:"render",value:function(){return Object(G.jsx)("div",{className:"footer fixed-bottom",children:Object(G.jsx)("footer",{className:"py-3 bg-dark",children:Object(G.jsx)("div",{className:"container",children:Object(G.jsx)("p",{className:"m-0 text-center text-white",children:"Copyright \xa9 Nightingale Technologies 2021"})})})})}}]),a}(r.a.Component),Ne=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={},s}return Object(o.a)(a,[{key:"render",value:function(){return Object(G.jsxs)("div",{className:"freePages",children:[Object(G.jsx)(de,{}),Object(G.jsx)(ve,{}),Object(G.jsx)(be,{}),Object(G.jsx)(pe,{}),Object(G.jsx)(ge,{})]})}}]),a}(r.a.Component),Se=Object(u.f)(Ne),ye=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).backButton=function(){s.props.history.goBack()},s.state={example:0},s}return Object(o.a)(a,[{key:"render",value:function(){return Object(G.jsx)("div",{className:"authPages",children:Object(G.jsx)("div",{className:"container",children:Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:"Authorization Pages"})})})})}}]),a}(r.a.Component),De=(Object(u.f)(ye),function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).componentDidMount=function(){-1===s.state.currentDivisionID&&s.props.changeCompanyMenuItems(-1),s.checkParentIsLoaded()||(s.waitForParent=setInterval(s.checkParentIsLoaded,100))},s.triggerLogout=function(){s.props.logout(),s.props.history.push(s.props.reRouteSignIn)},s.clearCompanyData=function(){s.setState({EHIData:[],currentCompanyDataName:void 0,currentCompanyDataType:void 0,selectedSummaryWeekData:{},validCompanySummaryDates:[],selectedSuggestDay:!1,selectedSuggestDayData:[],validDivisionSuggestionDates:[]})},s.checkParentIsLoaded=function(){return!!s.props.parentHasLoaded&&(clearInterval(s.waitForParent),s.loadData(),!0)},s.loadFromLocalStorage=function(){var e=$("lastGotCompany");0===e||1===e||2===e||s.getCompanyDataRequest(e),s.setState({pageIsLoaded:!0})},s.loadData=function(){s.props.changeUserMenuItems(-1),s.checkActiveUser()},s.loadOtherData=function(){s.getJournalPrompts(),s.getValidJournalDates(),s.getValidNonJournalDates(),s.getValidWebDates(),s.getUserCompanyPermsApp(),s.loadFromLocalStorage()},s.APIGetEmailAIDataFailure=function(e){console.log(e)},s.APIGetEmailAIDataCallback=function(e){console.log(e)},s.APIGetEmailAIData=function(){!function(e,t,a){var s={headers:{Authorization:"JWT ".concat(O)}};x.get("/api/getEmailScan/?emailID="+e,s).then((function(e){e.data.length>0?t(e.data[0]):a({mod:37,text:"No Data to read!"})})).catch((function(e){var t=y(e);a(t)}))}("ASDF",s.APIGetEmailAIDataCallback,s.APIGetEmailAIDataFailure)},s.journalPromptsFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return void s.props.refreshToken(s.loadOtherData);2===e.action||3===e.action||4===e.action||e.action}t=e.messages,s.setState({journalPromptsErrors:t,getJournalPromptsStatus:3})},s.journalPromptsCallback=function(e){s.setState({journalValidPrompts:e,getJournalPromptsStatus:2})},s.getJournalPrompts=function(){if(void 0!==s.props.currentUser){!function(e,t){var a={headers:{Authorization:"JWT ".concat(O)}};x.get("/api/getValidPrompts",a).then((function(t){e(t.data)})).catch((function(e){var a=y(e);t(a)}))}(s.journalPromptsCallback,s.journalPromptsFailure),s.setState({getJournalPromptsStatus:1})}else s.triggerLogout()},s.checkActiveUserFailure=function(e){var t;if(0===e.action)console.log("WHY");else{if(1===e.action)return void s.props.refreshToken(s.loadData);2===e.action||3===e.action||4===e.action||e.action}t=e.messages,s.setState({checkActiveUserStatus:3,checkActiveUserError:t})},s.checkActiveUserCallback=function(e){!0===e?(s.props.changeUserMenuItems(0),s.setState({checkActiveUserStatus:2}),s.loadOtherData()):s.props.history.push(s.props.activateRedirect)},s.checkActiveUser=function(){void 0!==s.props.currentUser?(!function(e,t){var a={headers:{Authorization:"JWT ".concat(O),"Content-Type":"application/json",accept:"application/json"}};x.get("/api/userIsActive",a).then((function(t){e(t.data[0].isActive)})).catch((function(e){var a=y(e);t(a)}))}(s.checkActiveUserCallback,s.checkActiveUserFailure),s.setState({checkActiveUserStatus:1})):s.triggerLogout()},s.getValidWebDatesFailure=function(e){var t;if(0===e.action);else if(1===e.action)return void s.props.refreshToken(s.loadOtherData);t=e.messages,s.setState({getValidWebDatesStatus:3,getValidWebDatesError:t})},s.getValidWebDatesCallback=function(e){e.length>0&&s.props.changeUserMenuItems(1),s.setState({validUserWebDates:e,getValidWebDatesStatus:2})},s.getValidWebDates=function(){if(void 0!==s.props.currentUser){!function(e,t){var a={headers:{Authorization:"JWT ".concat(O)}};x.get("/api/getUserWebDates/",a).then((function(t){e(t.data)})).catch((function(e){var a=y(e);t(a)}))}(s.getValidWebDatesCallback,s.getValidWebDatesFailure),s.setState({getValidWebDatesStatus:1})}else s.triggerLogout()},s.journalDatesFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return void s.props.refreshToken(s.loadOtherData);2===e.action||3===e.action||4===e.action||e.action}t=e.messages,s.setState({getJournalDatesStatus:3,getJournalDatesError:t})},s.journalDatesCallback=function(e,t){s.setState({validJournalDates:e,validJournalScanDates:t,getJournalDatesStatus:2})},s.getValidJournalDates=function(){if(void 0!==s.props.currentUser){!function(e,t){var a={headers:{Authorization:"JWT ".concat(O)}};x.get("/api/getJournalDates",a).then((function(t){var a=new Date,s=a.getFullYear()+"-"+a.getMonth()+"-"+a.getDate(),r=[],n=[];for(var i in t.data){var c=new Date(t.data[i].forDate),o=c.getFullYear()+"-"+c.getMonth()+"-"+(c.getDate()+1);t.data[i].hasAI?(o in n?r[o].push(t.data[i].usedPromptKey):r[o]=[t.data[i].usedPromptKey],s===o&&("today"in r?r.today.push(t.data[i].usedPromptKey):r.today=[t.data[i].usedPromptKey])):(o in n?n[o].push(t.data[i].usedPromptKey):n[o]=[t.data[i].usedPromptKey],s===o&&("today"in n?n.today.push(t.data[i].usedPromptKey):n.today=[t.data[i].usedPromptKey]))}e(n,r)})).catch((function(e){var a=y(e);t(a)}))}(s.journalDatesCallback,s.journalDatesFailure),s.setState({getJournalDatesStatus:1})}else s.triggerLogout()},s.nonJournalDatesFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return void s.props.refreshToken(s.loadOtherData);2===e.action||3===e.action||4===e.action||e.action}t=e.messages,s.setState({getNonJournalDatesStatus:3,getNonJournalDatesError:t})},s.nonJournalDatesCallback=function(e){s.setState({validNonJournalDates:e,getNonJournalDatesStatus:2})},s.getValidNonJournalDates=function(){if(void 0!==s.props.currentUser){!function(e,t){var a={headers:{Authorization:"JWT ".concat(O)}};x.get("/api/getNonJournalDates",a).then((function(t){var a=new Date,s=a.getFullYear()+"-"+a.getMonth()+"-"+a.getDate(),r=[];for(var n in t.data){var i=new Date(t.data[n].forDate),c=i.getFullYear()+"-"+i.getMonth()+"-"+(i.getDate()+1);c in r?r[c].push(t.data[n].usedPromptKey):r[c]=[t.data[n].usedPromptKey],s===c&&("today"in r?r.today.push(t.data[n].usedPromptKey):r.today=[t.data[n].usedPromptKey])}e(r)})).catch((function(e){var a=y(e);t(a)}))}(s.nonJournalDatesCallback,s.nonJournalDatesFailure),s.setState({getNonJournalDatesStatus:1})}else s.triggerLogout()},s.companyListFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return void s.props.refreshToken(s.loadOtherData);2===e.action||3===e.action||4===e.action||e.action}t=e.messages,s.setState({getUserCompanyPermsAppStatus:3,getUserCompanyPermsAppError:t})},s.companyListCallback=function(e){s.setState({userLoadedCompanyList:e,getUserCompanyPermsAppStatus:2});var t=0,a=-1;for(var r in e){var n=e[r].perm.indexOf(0),i=e[r].perm.indexOf(1);(n>-1||i>-1)&&(t+=1,a=i,n>-1&&(a=n))}1===t&&t>-1&&s.getCompanyDataRequest(e[a])},s.getUserCompanyPermsApp=function(){if(void 0!==s.props.currentUser){!function(e,t,a){var s={headers:{Authorization:"JWT ".concat(O)}};x.get("/api/getUsersPermissionTree?reqPerms="+e,s).then((function(e){t(e.data.divList)})).catch((function(e){var t=y(e);a(t)}))}(["admin","view","send","gov"],s.companyListCallback,s.companyListFailure),s.setState({getUserCompanyPermsAppStatus:1})}else s.triggerLogout()},s.companyDatesFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return void s.props.refreshToken(s.getThatData);2===e.action||3===e.action||4===e.action||e.action}t=e.messages,s.setState({getCompanyValidDatesStatus:3,getCompanyValidDatesError:t})},s.companyDatesCallback=function(e){s.setState({validCompanySummaryDates:e,getCompanyValidDatesStatus:2})},s.getCompanyValidDates=function(){if(-1!==s.state.currentDivisionID){!function(e,t,a){var s={headers:{Authorization:"JWT ".concat(O)}};x.get("/api/getCompanyDates/?reqDiv="+e,s).then((function(e){var a={},s="";for(s in e.data){var r=N[e.data[s].summaryType];r in a||(a[r]=[]),a[r].push({date:e.data[s].forDate,num:e.data[s].hasPrompts})}t(a)})).catch((function(e){var t=y(e);a(t)}))}(s.state.currentDivisionID,s.companyDatesCallback,s.companyDatesFailure),s.setState({getCompanyValidDatesStatus:1})}},s.companySuggestionDateFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return void s.props.refreshToken(s.getThatData);2===e.action||3===e.action||4===e.action||e.action}t=e.messages,s.setState({getCompanyValidSuggestionDatesStatus:3,getCompanyValidSuggestionDatesError:t})},s.companySuggestionDateCallback=function(e){s.setState({validDivisionSuggestionDates:e,getCompanyValidSuggestionDatesStatus:2})},s.getCompanyValidSuggestionDates=function(){if(-1!==s.state.currentDivisionID){!function(e,t,a){var s={headers:{Authorization:"JWT ".concat(O)}};x.get("/api/getCompanySuggestionDates/?reqDiv="+e,s).then((function(e){var a=[],s="";for(s in e.data){var r=new Date(e.data[s]),n=r.getFullYear()+"-"+r.getMonth()+"-"+(r.getDate()+1);a.push(n)}t(a)})).catch((function(e){var t=y(e);a(t)}))}(s.state.currentDivisionID,s.companySuggestionDateCallback,s.companySuggestionDateFailure),s.setState({getCompanyValidSuggestionDatesStatus:1})}},s.companySuggestionDataFailure=function(e){var t;0===e.action||(1===e.action?s.props.refreshToken(s.tokenHasRefreshed):2===e.action||3===e.action||4===e.action||e.action),t=e.messages,s.setState({getCompanySuggestionDataStatus:3,getCompanySuggestionDataError:t})},s.companySuggestionDataCallback=function(e,t){var a=new Date(e);s.setState({selectedSuggestDay:a,selectedSuggestDayData:t,getCompanySuggestionDataStatus:2})},s.getCompanySuggestionData=function(e){if(-1!==s.state.currentDivisionID){s.setState({getCompanySuggestionData:e});!function(e,t,a,s){var r={headers:{Authorization:"JWT ".concat(O)}},n=t.toJSON().split("T")[0];x.get("/api/getCompanySuggestionData?reqDiv="+e+"&reqDate="+n,r).then((function(e){a(t,e.data)})).catch((function(e){var t=y(e);s(t)}))}(s.state.currentDivisionID,e,s.companySuggestionDataCallback,s.companySuggestionDataFailure),s.setState({getCompanySuggestionDataStatus:1})}else s.setState({})},s.companyDataFailure=function(e){var t;0===e.action||(1===e.action?s.props.refreshToken(s.tokenHasRefreshed):2===e.action||3===e.action||4===e.action||e.action),t=e.messages,s.setState({getCompanyWeeklySummaryStatus:3,getCompanyWeeklySummaryError:t})},s.companyDataCallback=function(e,t){s.setState({companyMessage:"Showing Summary for: "+s.state.currentDivisionID+" On: "+s.state.selectedCompanyDate.toString(),selectedSummaryWeekData:e,currentCompanyDataType:t,currentCompanyDataName:s.state.currentDivisionName,currentCompanyDataID:s.state.currentDivisionID,getCompanyWeeklySummaryStatus:2})},s.getCompanyWeeklySummary=function(e){if(-1!==s.state.currentDivisionID){!function(e,t,a,s,r){var n=new Date(a.getTime()).toJSON().split("T")[0],i={headers:{Authorization:"JWT ".concat(O)}};x.get("/api/getCompanySummary/?reqDate="+n+"&reqDiv="+e+"&type="+t,i).then((function(e){s(e.data[0],t)})).catch((function(e){var t=y(e);r(t)}))}(s.state.currentDivisionID,0,e,s.companyDataCallback,s.companyDataFailure),s.setState({getCompanyWeeklySummaryStatus:1,selectedCompanyDate:e,currentCompanyDataName:void 0,currentCompanyDataType:void 0,selectedSummaryWeekData:{}})}},s.tokenHasRefreshed=function(){console.log("Tell the user to redo that!")},s.companyEHIFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return void s.props.refreshToken(s.getThatData);2===e.action||3===e.action||4===e.action||e.action}t=e.messages,s.setState({getCompanyEHIDataStatus:3,getCompanyEHIDataError:t})},s.companyEHICallback=function(e){s.setState({EHIData:e,getCompanyEHIDataStatus:2})},s.getCompanyEHIData=function(){if(-1!==s.state.currentDivisionID){!function(e,t,a){var s={headers:{Authorization:"JWT ".concat(O)}};x.get("/api/getCompanyEHI/?reqDiv="+e,s).then((function(e){e.data.length>0?t(e.data[0].EHIstorage):a()})).catch((function(e){var t=y(e);a(t)}))}(s.state.currentDivisionID,s.companyEHICallback,s.companyEHIFailure),s.setState({getCompanyEHIDataStatus:1})}},s.getDivisionWebDatesFailure=function(e){if(0===e.action);else{if(1===e.action)return void s.props.refreshToken(s.getDivisionWebDates);e.action}s.setState({getDatesWebStatus:3,getDatesWebError:e.messages})},s.getDivisionWebDatesCallback=function(e){e.length>0&&s.props.changeCompanyMenuItems(1),s.setState({validDivisionWebDates:e,getDatesWebStatus:2})},s.getDivisionWebDates=function(){if(-1!==s.props.currentDivisionID){!function(e,t,a){var s={headers:{Authorization:"JWT ".concat(O)}};x.get("/api/getDivisionWebDates/?reqDiv="+e,s).then((function(e){t(e.data)})).catch((function(e){var t=y(e);a(t)}))}(s.state.currentDivisionID,s.getDivisionWebDatesCallback,s.getDivisionWebDatesFailure),s.setState({getDatesWebStatus:1})}else s.props.history.push(s.props.reRouteTarget)},s.getThatData=function(){s.clearCompanyData(),s.getCompanyEHIData(),s.getCompanyValidDates(),s.getCompanyValidSuggestionDates(),s.getDivisionWebDates()},s.getCompanyDataRequest=function(e){s.props.changeCompanyMenuItems(-1);var t=e.perm.indexOf(0)>-1,a=e.perm.indexOf(1)>-1;t?(s.props.changeCompanyMenuItems(0),s.props.changeCompanyMenuItems(2)):a&&s.props.changeCompanyMenuItems(0),ee("lastGotCompany",e,1),t||a?(s.setState({currentDivisionName:e.name,currentDivisionID:e.id,currentDivisionPerms:e.perm},s.getThatData),s.props.changeMenuCompanyName(e.name)):s.setState({getCompanyDataStatus:!1})},s.changeCompanyPrompt=function(e){s.setState({selectedCompanyPrompt:e.currentTarget.value})},s.changeCompanyAspect=function(e){s.setState({selectedCompanyAspect:e.currentTarget.value})},s.changeCompanyDay=function(e){s.setState({selectedCompanyDay:e.currentTarget.value})},s.state={currentDate:new Date,validJournalDates:[],validJournalScanDates:[],selectedCompanyDate:new Date,selectedSuggestionDate:new Date,EHIData:[],selectedCompanyDay:"mon",selectedCompanyPrompt:"misc",selectedCompanyAspect:"emotion",companyMessage:"Choose a date and company to view that summary!",currentDivisionID:-1,currentDivisionName:"None",currentCompanyDataName:void 0,currentCompanyDataType:void 0,selectedSummaryWeekData:{},validCompanySummaryDates:[],selectedSuggestDay:!1,selectedSuggestDayData:[],validDivisionSuggestionDates:[],validDivisionWebDates:[],getDatesWebStatus:0,getDatesWebError:[],lastGovernedCompanyRequestStatus:void 0,userLoadedCompanyList:[],checkActiveUserStatus:0,checkActiveUserError:[],getJournalDatesStatus:0,getJournalDatesError:[],getUserCompanyPermsAppStatus:0,getUserCompanyPermsAppError:[],getCompanyValidDatesStatus:0,getCompanyValidDatesError:[],getCompanyValidSuggestionDatesStatus:0,getCompanyValidSuggestionDatesError:[],getCompanyEHIDataStatus:0,getCompanyEHIDataError:[],getCompanySuggestionDataStatus:0,getCompanySuggestionDataError:[],getCompanyWeeklySummaryStatus:0,getCompanyWeeklySummaryError:[],getCompanyDataStatus:!0,journalValidPrompts:[],journalPromptsErrors:[],getJournalPromptsStatus:0,validNonJournalDates:[],getNonJournalDatesError:[],getNonJournalDatesStatus:0,validUserWebDates:{},getValidWebDatesStatus:[],getValidWebDatesError:0,pageIsLoaded:!1},s.waitForParent=void 0,s}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=1===this.state.getJournalPromptsStatus||1===this.state.checkActiveUserStatus||1===this.state.getJournalDatesStatus||1===this.state.getUserCompanyPermsAppStatus;return Object(G.jsx)("div",{className:"contentPages",children:Object(G.jsxs)("div",{className:"container-fluid",children:[Object(G.jsxs)(u.c,{children:[Object(G.jsx)(u.a,{path:this.props.match.url,exact:!0,component:function(){return Object(G.jsx)(Ce,{toUserPage:e.props.match.url+"/userMode/journalWrite",toCompanyPage:e.props.match.url+"/companyMode/companySelect",userLoadedCompanyList:e.state.userLoadedCompanyList})}}),Object(G.jsx)(u.a,{path:this.props.match.url+"/userMode",component:function(){return Object(G.jsx)(yt,{reRouteUser:e.props.reRouteUser,currentDate:e.state.currentDate,refreshToken:e.props.refreshToken,currentUser:e.props.currentUser,loadCompanyData:e.loadOtherData,validUserWebDates:e.state.validUserWebDates,validNonJournalDates:e.state.validNonJournalDates,validJournalDates:e.state.validJournalDates,validJournalScanDates:e.state.validJournalScanDates,lastGovernedCompanyRequestStatus:e.state.lastGovernedCompanyRequestStatus,disableMenu:e.props.disableMenu,activateUserMenu:e.props.activateUserMenu,userLoadedCompanyList:e.state.userLoadedCompanyList,journalValidPrompts:e.state.journalValidPrompts,journalPromptsErrors:e.state.journalPromptsErrors})}}),Object(G.jsx)(u.a,{path:this.props.match.url+"/companyMode",component:function(){return Object(G.jsx)(ca,{refreshToken:e.props.refreshToken,parentHasLoaded:e.state.pageIsLoaded,reRouteCompany:e.props.reRouteCompany,userLoadedCompanyList:e.state.userLoadedCompanyList,resetCompanySelectStatus:e.resetCompanySelectStatus,currentDate:e.state.currentDate,currentDivisionName:e.state.currentDivisionName,getCompanyDataRequest:e.getCompanyDataRequest,currentDivisionID:e.state.currentDivisionID,selectedCompanyDate:e.state.selectedCompanyDate,validDivisionWebDates:e.state.validDivisionWebDates,validDivisionSuggestionDates:e.state.validDivisionSuggestionDates,selectedSuggestDay:e.state.selectedSuggestDay,selectedSuggestDayData:e.state.selectedSuggestDayData,getCompanySuggestionData:e.getCompanySuggestionData,EHIData:e.state.EHIData,currentCompanyDataName:e.state.currentCompanyDataName,currentCompanyDataType:e.state.currentCompanyDataType,validCompanySummaryDates:e.state.validCompanySummaryDates,companyMessage:e.state.companyMessage,selectedSummaryWeekData:e.state.selectedSummaryWeekData,selectedCompanyDay:e.state.selectedCompanyDay,selectedCompanyPrompt:e.state.selectedCompanyPrompt,selectedCompanyAspect:e.state.selectedCompanyAspect,changeCompanyPrompt:e.changeCompanyPrompt,changeCompanyAspect:e.changeCompanyAspect,changeCompanyDay:e.changeCompanyDay,changeSelectedCompany:e.changeSelectedCompany,getCompanyValidDates:e.getCompanyValidDates,getCompanyWeeklySummary:e.getCompanyWeeklySummary,loadCompanyData:e.loadFromLocalStorage,disableMenu:e.props.disableMenu,activateCompanyMenu:e.props.activateCompanyMenu,getCompanyDataStatus:e.state.getCompanyDataStatus,getCompanyValidDatesStatus:e.state.getCompanyValidDatesStatus,getCompanyValidDatesError:e.state.getCompanyValidDatesError,getCompanyValidSuggestionDatesStatus:e.state.getCompanyValidSuggestionDatesStatus,getCompanyValidSuggestionDatesError:e.state.getCompanyValidSuggestionDatesError,getCompanyEHIDataStatus:e.state.getCompanyEHIDataStatus,getCompanyEHIDataError:e.state.getCompanyEHIDataError,getCompanySuggestionDataStatus:e.state.getCompanySuggestionDataStatus,getCompanySuggestionDataError:e.state.getCompanySuggestionDataError,getCompanyWeeklySummaryStatus:e.state.getCompanyWeeklySummaryStatus,getCompanyWeeklySummaryError:e.state.getCompanyWeeklySummaryError,getDatesWebStatus:e.state.getDatesWebStatus,getDatesWebError:e.state.getDatesWebError})}})]}),Object(G.jsx)("div",{className:"container",children:Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)(j.a,{show:t,variant:"warning",children:[Object(G.jsx)(j.a.Heading,{children:"Waiting"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"Waiting for server..."}),Object(G.jsx)("hr",{})]})})})})]})})}}]),a}(r.a.Component)),we=Object(u.f)(De),Ce=Object(u.f)((function(e){var t=!1;for(var a in e.userLoadedCompanyList){for(var s in e.userLoadedCompanyList[a].perm)if(0===e.userLoadedCompanyList[a].perm[s]||2===e.userLoadedCompanyList[a].perm[s]){t=!0;break}if(t)break}return Object(G.jsx)("div",{className:"defaultView",children:Object(G.jsx)("div",{className:"container",children:Object(G.jsx)("div",{className:"row my-5",children:Object(G.jsx)("div",{className:"col m-1",children:Object(G.jsxs)("div",{className:"card shadow",children:[Object(G.jsx)("div",{className:"card-header",children:Object(G.jsx)("h3",{children:"This is an empty dashboard for the time being..."})}),Object(G.jsxs)("div",{className:"card-body",children:[Object(G.jsx)(h.b,{className:"list-group-item",to:e.toUserPage,children:"Go To User Mode"}),t?Object(G.jsx)(h.b,{className:"list-group-item",to:e.toCompanyPage,children:"Go to Company Mode"}):Object(G.jsx)("div",{className:"list-group-item",children:"No Companies to view!"})]})]})})})})})})),ke=a(15),Ee=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={btnLen:2},s}return Object(o.a)(a,[{key:"render",value:function(){var e="",t="";this.props.activePage<=0&&(e="disabled"),this.props.activePage>=this.props.totalLoaded/this.props.numPerPage-1&&(t="disabled");for(var a=[],s=-this.state.btnLen;s<=this.state.btnLen;s++){var r="",n=s+this.props.activePage;n<0||n>=this.props.totalLoaded/this.props.numPerPage||(0===s&&(r="active "),a.push(Object(G.jsx)("button",{className:"btn btn-outline-primary "+r,value:n,onClick:this.props.changeToNum,children:n},s)))}return Object(G.jsx)("div",{className:"paginator",children:Object(G.jsx)("div",{className:"container",children:Object(G.jsx)("div",{className:"row",children:Object(G.jsxs)("div",{className:"col",children:[Object(G.jsx)("button",{className:"btn btn-outline-primary "+e,value:"bck",onClick:this.props.changePrevNext,children:"Prev"}),a,Object(G.jsx)("button",{className:"btn btn-outline-primary "+t,value:"fwd",onClick:this.props.changePrevNext,children:"Next"})]})})})})}}]),a}(r.a.Component),Pe={editor:{border:"1px solid gray",minHeight:"6em",textAlign:"left"}},Te=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).onToggle=function(t){t.preventDefault(),e.props.onToggle(e.props.style)},e}return Object(o.a)(a,[{key:"render",value:function(){var e="btn btn-outline-primary";return this.props.active&&(e+=" active"),Object(G.jsx)("button",{className:e,onMouseDown:this.onToggle,children:this.props.label})}}]),a}(r.a.Component),Ie=[{label:"H1",style:"header-one"},{label:"H2",style:"header-two"},{label:"H3",style:"header-three"},{label:"H4",style:"header-four"},{label:"H5",style:"header-five"},{label:"H6",style:"header-six"},{label:"UL",style:"unordered-list-item"},{label:"OL",style:"ordered-list-item"}],Fe=function(e){var t=e.editorState,a=t.getSelection(),s=t.getCurrentContent().getBlockForKey(a.getStartKey()).getType();return Object(G.jsx)("div",{className:"RichEditor-controls",children:Ie.map((function(t){return Object(G.jsx)(Te,{active:t.style===s,label:t.label,onToggle:e.onToggle,style:t.style},t.label)}))})},Le=[{label:"Bold",style:"BOLD"},{label:"Italic",style:"ITALIC"},{label:"Underline",style:"UNDERLINE"}],We=function(e){var t=e.editorState.getCurrentInlineStyle();return Object(G.jsx)("div",{className:"RichEditor-controls",children:Le.map((function(a){return Object(G.jsx)(Te,{active:t.has(a.style),label:a.label,onToggle:e.onToggle,style:a.style},a.label)}))})},Ae=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).initializeSubList=function(){var e=[];for(var t in s.props.userLoadedCompanyList){var a=-1;for(var r in s.props.userLoadedCompanyList[t].perm)3===s.props.userLoadedCompanyList[t].perm[r]&&(a=3);a>=0&&a<4&&e.push(s.props.userLoadedCompanyList[t])}return e},s.toggleBlockType=function(e){s.props.onChange(ke.RichUtils.toggleBlockType(s.props.editorState,e))},s.toggleInlineStyle=function(e){s.props.onChange(ke.RichUtils.toggleInlineStyle(s.props.editorState,e))},s.handleKeyCommand=function(e,t){var a=ke.RichUtils.handleKeyCommand(t,e);return a?(s.props.onChange(a),"handled"):"not-handled"},s.changePageTo=function(e){var t=Number(e.target.value);s.setState({pageNum:t})},s.changePageFwdBck=function(e){var t=Number(s.state.pageNum);if("fwd"===e.target.value){if((t+=1)>s.state.subList.length/s.state.numPerPage)return}else if("bck"===e.target.value&&(t-=1)<0)return;s.setState({pageNum:t})},s.setCompany=function(e){s.props.setSuggestionDivision(Number(e.target.value))},s.state={pageNum:0,numPerPage:3,numChooseLimit:5,subList:s.initializeSubList()},s.focusMe=function(){return s.refs.editor.focus()},s}return Object(o.a)(a,[{key:"render",value:function(){var e=[],t="No Valid Company!",a=0;for(var s in this.props.userLoadedCompanyList)this.props.currentDivisionID===this.props.userLoadedCompanyList[s].id&&(t=this.props.userLoadedCompanyList[s].name,this.props.userLoadedCompanyList[s].perm.indexOf(3)&&(a=1));for(var r=0;r<this.state.numPerPage;r++){var n=r+this.state.pageNum*this.state.numPerPage;n>this.state.subList.length||n<0||void 0!==this.state.subList[n]&&e.push(Object(G.jsxs)("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[Object(G.jsx)("div",{className:"col",children:this.state.subList[n].fullname}),Object(G.jsx)("div",{className:"col-2",children:Object(G.jsx)("button",{className:"btn btn-primary",value:this.state.subList[n].id,onClick:this.setCompany,children:"Choose!"})})]},r))}0===e.length&&e.push(Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:"The Server has reported you are not the governed user for any companies!"})},"0"));var i="btn ";i+=a>0?"btn-success":"btn-danger";var c="";!1===this.props.lastRequestStatus&&(c=" bg-danger");var o=1===this.props.postSuggestionStatus,l=2===this.props.postSuggestionStatus,d=3===this.props.postSuggestionStatus,h=[];for(var u in this.props.suggestionErrors)h.push(this.props.suggestionErrors[u].text);return 0===h.length&&h.push("Unknown!"),Object(G.jsx)("div",{className:"makeView",children:Object(G.jsxs)("div",{className:"container-fluid",children:[Object(G.jsx)("div",{className:"row my-2",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"card shadow",children:[Object(G.jsx)("div",{className:"card-header",children:Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col my-2",children:Object(G.jsx)("div",{className:c,children:"Select Part of Company:"})})})}),Object(G.jsxs)("div",{className:"card-body",children:[Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("ul",{className:"list-group",children:e})})}),Object(G.jsx)(Ee,{activePage:this.state.pageNum,changePrevNext:this.changePageFwdBck,changeToNum:this.changePageTo,totalLoaded:this.state.subList.length,numPerPage:this.state.numPerPage})]})]})})}),Object(G.jsx)("div",{className:"row my-2",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"card shadow",children:[Object(G.jsxs)("div",{className:"card-header",children:[Object(G.jsx)("h4",{children:"Writing Suggestion for:"}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col my-2",children:Object(G.jsx)("div",{className:c,children:t})})})]}),Object(G.jsxs)("div",{className:"card-body",children:[Object(G.jsx)("div",{className:"row",children:Object(G.jsxs)("div",{className:"col",children:[Object(G.jsx)(Fe,{editorState:this.props.editorState,onToggle:this.toggleBlockType}),Object(G.jsx)(We,{editorState:this.props.editorState,onToggle:this.toggleInlineStyle})]})}),Object(G.jsxs)("div",{className:"row",children:[Object(G.jsx)("div",{className:"col-1"}),Object(G.jsx)("div",{className:"col",onClick:this.focusMe,children:Object(G.jsx)("div",{id:"align-left",children:Object(G.jsx)("div",{style:Pe.editor,children:Object(G.jsx)(ke.Editor,{editorState:this.props.editorState,onChange:this.props.onChange,handleKeyCommand:this.handleKeyCommand,spellCheck:!0,placeholder:"",ref:"editor"})})})}),Object(G.jsx)("div",{className:"col-1"})]}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("button",{className:i,onMouseDown:this.props.saveToServer,children:" Save Suggestion "})})})]})]})})}),Object(G.jsxs)(j.a,{show:o,variant:"warning",children:[Object(G.jsx)(j.a.Heading,{children:"Waiting"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"Waiting for server response..."}),Object(G.jsx)("hr",{})]}),Object(G.jsxs)(j.a,{show:l,variant:"success",children:[Object(G.jsx)(j.a.Heading,{children:"Success!"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"Successfully submitted suggestion!"}),Object(G.jsx)("hr",{})]}),Object(G.jsxs)(j.a,{show:d,variant:"danger",children:[Object(G.jsx)(j.a.Heading,{children:"Danger!"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:h}),Object(G.jsx)("hr",{})]})]})})}}]),a}(r.a.Component),Ue=Object(u.f)(Ae),Je=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).initAdmin=function(){var e=[];for(var t in s.props.userLoadedCompanyList)s.props.userLoadedCompanyList[t].perm.indexOf(0)>-1&&e.push(s.props.userLoadedCompanyList[t]);return e},s.initViews=function(){var e=[];for(var t in s.props.userLoadedCompanyList)s.props.userLoadedCompanyList[t].perm.indexOf(1)>-1&&e.push(s.props.userLoadedCompanyList[t]);return e},s.initSends=function(){var e=[];for(var t in s.props.userLoadedCompanyList)s.props.userLoadedCompanyList[t].perm.indexOf(2)>-1&&e.push(s.props.userLoadedCompanyList[t]);return e},s.initGovs=function(){var e=[];for(var t in s.props.userLoadedCompanyList)s.props.userLoadedCompanyList[t].perm.indexOf(3)>-1&&e.push(s.props.userLoadedCompanyList[t]);return e},s.setCurrentData=function(e){var t=Number(e.target.value),a="No Name!",r=[],n=[],i=[];switch(e.target.name){case"gov":r.push(s.state.govSubList[t].id),a=s.state.govSubList[t].fullname;break;case"sen":n.push(s.state.viewSubList[t].id),a=s.state.viewSubList[t].fullname;break;case"admSen":n.push(s.state.adminSubList[t].id),a=s.state.adminSubList[t].fullname;break;case"vie":i.push(s.state.viewSubList[t].id),a=s.state.viewSubList[t].fullname;break;default:console.log("Failed to have the correct name")}s.setState({delGoverns:r,togSends:n,delViews:i,selectedName:a})},s.setFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return void s.props.refreshToken(s.saveChanges());2===e.action||3===e.action||4===e.action||e.action}t=e.messages,s.setState({saveChangesError:t,saveChangesStatus:3})},s.setSuccess=function(e){s.props.triggerRefresh(),s.setState({saveChangesStatus:2})},s.saveChanges=function(){!function(e,t,a){var s={headers:{Authorization:"JWT ".concat(O)}},r=e;x.put("/api/setUserProfileData/",r,s).then((function(e){var a=e.data;t(a)})).catch((function(e){var t=y(e);a(t)}))}({delViews:s.state.delViews,togEmails:s.state.togSends,delGoverns:s.state.delGoverns},s.setSuccess,s.setFailure),s.setState({delGoverns:[],togSends:[],delViews:[],selectedName:"No Name!",saveChangesStatus:1})},s.state={delViews:[],togSends:[],delGoverns:[],adminSubList:s.initAdmin(),viewSubList:s.initViews(),sendSubList:s.initSends(),govSubList:s.initGovs(),selectedName:"No Name!",saveChangesStatus:0,saveChangesError:[]},s}return Object(o.a)(a,[{key:"render",value:function(){var e=[];for(var t in this.state.adminSubList){var a="Off",s="badge-danger",r=this.state.sendSubList.indexOf(this.state.adminSubList[t]);r>=0&&(a="On",s="badge-success");var n="";(r=this.state.togSends.indexOf(this.state.adminSubList[t].id))>=0&&(n="bg-warning"),(r=this.state.delViews.indexOf(this.state.adminSubList[t].id))>=0&&(n="bg-danger"),e.push(Object(G.jsxs)("li",{className:"list-group-item d-flex justify-content-around "+n,children:[Object(G.jsx)("div",{className:"col alignOverride",children:this.state.adminSubList[t].fullname}),Object(G.jsx)("div",{className:"col",children:"Admin"}),Object(G.jsx)("div",{className:"col-2",children:Object(G.jsx)("button",{className:"badge "+s+" badge-pill",name:"admSen",value:t,"data-toggle":"modal","data-target":"#viewToggleConfirm",onClick:this.setCurrentData,children:a})}),Object(G.jsx)("div",{className:"col-1",children:Object(G.jsx)("button",{className:"badge badge-secondary badge-pill",name:"adm",value:t,"data-toggle":"modal","data-target":"#deleteConfirm",onClick:this.setCurrentData,disabled:!0,children:"X"})})]},t))}for(var i in this.state.viewSubList){var c="Off",o="badge-danger",l=this.state.sendSubList.indexOf(this.state.viewSubList[i]);l>=0&&(c="On",o="badge-success");var d="";(l=this.state.togSends.indexOf(this.state.viewSubList[i].id))>=0&&(d="bg-warning"),(l=this.state.delViews.indexOf(this.state.viewSubList[i].id))>=0&&(d="bg-danger"),e.push(Object(G.jsxs)("li",{className:"list-group-item d-flex justify-content-around "+d,children:[Object(G.jsx)("div",{className:"col alignOverride",children:this.state.viewSubList[i].fullname}),Object(G.jsx)("div",{className:"col",children:"Viewer"}),Object(G.jsx)("div",{className:"col-2",children:Object(G.jsx)("button",{className:"badge "+o+" badge-pill",name:"sen",value:i,"data-toggle":"modal","data-target":"#viewToggleConfirm",onClick:this.setCurrentData,children:c})}),Object(G.jsx)("div",{className:"col-1",children:Object(G.jsx)("button",{className:"badge badge-danger badge-pill",name:"vie",value:i,"data-toggle":"modal","data-target":"#deleteConfirm",onClick:this.setCurrentData,children:"X"})})]},i))}0===e.length&&e.push(Object(G.jsx)("li",{className:"list-group-item d-flex justify-content-around",children:"None!"},0));var h=[];if(this.state.govSubList.length>0)for(var u in this.state.govSubList){var m="";this.state.delGoverns.indexOf(this.state.govSubList[u].id)>=0&&(m="bg-danger"),h.push(Object(G.jsxs)("li",{className:"list-group-item d-flex justify-content-around "+m,children:[Object(G.jsx)("div",{className:"col alignOverride",children:this.state.govSubList[u].fullname}),Object(G.jsx)("div",{className:"col-1",children:Object(G.jsx)("button",{className:"badge badge-danger badge-pill",name:"gov",value:u,"data-toggle":"modal","data-target":"#deleteConfirm",onClick:this.setCurrentData,children:"X"})})]},u))}else h.push(Object(G.jsx)("li",{className:"list-group-item d-flex justify-content-around",children:"None!"},0));var b=1===this.state.saveChangesStatus,p=3===this.state.saveChangesStatus,v=[];for(var g in this.state.saveChangesError)v.push(this.state.saveChangesError[g].text);return 0===v.length&&v.push("Unknown!"),Object(G.jsx)("div",{className:"defaultView",children:Object(G.jsxs)("div",{className:"container",children:[Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"card shadow",children:[Object(G.jsx)("div",{className:"card-header",children:Object(G.jsx)("h5",{children:"Companies you can View data for"})}),Object(G.jsx)("div",{className:"card-body",children:Object(G.jsxs)("ul",{className:"list-group",children:[Object(G.jsxs)("li",{className:"list-group-item d-flex justify-content-around",children:[Object(G.jsx)("div",{className:"col alignOverride",children:"Company Division Name"}),Object(G.jsx)("div",{className:"col",children:"Type"}),Object(G.jsx)("div",{className:"col-2",children:"Notifications"}),Object(G.jsx)("div",{className:"col-1"})]},-1),e]})})]})})}),Object(G.jsx)("div",{className:"row",children:Object(G.jsxs)("div",{className:"col",children:[Object(G.jsxs)("div",{className:"card shadow",children:[Object(G.jsx)("div",{className:"card-header",children:Object(G.jsx)("h5",{children:"Companies getting your Journal Info"})}),Object(G.jsx)("div",{className:"card-body",children:Object(G.jsx)("ul",{className:"list-group",children:h})})]}),Object(G.jsxs)(j.a,{show:b,variant:"warning",children:[Object(G.jsx)(j.a.Heading,{children:"Waiting"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"Waiting for server response..."}),Object(G.jsx)("hr",{})]}),Object(G.jsxs)(j.a,{show:!1,variant:"success",children:[Object(G.jsx)(j.a.Heading,{children:"Success!"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"Success!"}),Object(G.jsx)("hr",{})]}),Object(G.jsxs)(j.a,{show:p,variant:"danger",children:[Object(G.jsx)(j.a.Heading,{children:"Danger!"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:v}),Object(G.jsx)("hr",{})]})]})}),Object(G.jsx)("div",{className:"modal fade",id:"deleteConfirm",tabIndex:"-1",role:"dialog","aria-labelledby":"deleteConfirmation","aria-hidden":"true",children:Object(G.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:Object(G.jsxs)("div",{className:"modal-content",children:[Object(G.jsxs)("div",{className:"modal-header",children:[Object(G.jsx)("h5",{className:"modal-title",id:"deleteTitleConfirm",children:"Delete Confirmation"}),Object(G.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(G.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(G.jsxs)("div",{className:"modal-body",children:[Object(G.jsx)("div",{children:"Are you SURE you want to revoke permission for:"}),Object(G.jsxs)("div",{children:[this.state.selectedName,"?"]}),Object(G.jsx)("div",{children:"You will need to be invited back!"})]}),Object(G.jsxs)("div",{className:"modal-footer",children:[Object(G.jsx)("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal",onClick:this.saveChanges,children:"Yes"}),Object(G.jsx)("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal",children:"No"})]})]})})}),Object(G.jsx)("div",{className:"modal fade",id:"viewToggleConfirm",tabIndex:"-1",role:"dialog","aria-labelledby":"viewToggleConfirm","aria-hidden":"true",children:Object(G.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:Object(G.jsxs)("div",{className:"modal-content",children:[Object(G.jsxs)("div",{className:"modal-header",children:[Object(G.jsx)("h5",{className:"modal-title",id:"deleteTitleConfirm",children:"Toggle Notification Confirmation"}),Object(G.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(G.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(G.jsxs)("div",{className:"modal-body",children:[Object(G.jsx)("div",{children:"Are you SURE you want to toggle notifications for:"}),Object(G.jsxs)("div",{children:[this.state.selectedName,"?"]})]}),Object(G.jsxs)("div",{className:"modal-footer",children:[Object(G.jsx)("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal",onClick:this.saveChanges,children:"Yes"}),Object(G.jsx)("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal",children:"No"})]})]})})})]})})}}]),a}(r.a.Component),Me=Object(u.f)(Je),Re=a(37),He=(a(57),a(16)),Ve=a(543),Be=a(544),Ge=a(549),qe=function(e){return[e.joy,e.anger,e.sadness,e.disgust,e.fear]},Ke=[{name:"Emotion",value:"emotion"},{name:"Sentiment",value:"sentiment"},{name:"Entities",value:"entities"},{name:"Keywords",value:"keywords"}],ze={editor:{minHeight:"6em",textAlign:"left"}},Ye=function(e){var t=[];for(var a in e.promptQuestions){var s="outline-";Number(e.selected)===Number(a)&&(s=""),t.push(Object(G.jsx)("button",{type:"button",value:a,className:"btn disabled btn-"+s+"primary",children:e.promptQuestions[a]},a))}return Object(G.jsx)("div",{className:"MultiIteration",children:t})},Ze=function(e){var t=["outline-","outline-","outline-","outline-","outline-","outline-"];e.selected>=0&&e.selected<t.length&&(t[e.selected]="");var a=[];for(var s in t)a.push(Object(G.jsx)("button",{type:"button",value:s,className:"btn disabled btn-"+t[s]+"primary",children:s},s));return Object(G.jsx)("div",{className:"RatingIteration",children:a})},Xe=function(e){var t=["outline-","outline-","outline-","outline-","outline-"];e.selected>=0&&e.selected<t.length&&(t[e.selected]="");var a=[];for(var s in t)a.push(Object(G.jsx)("button",{type:"button",value:s,className:"btn disabled btn-"+t[s]+"primary",children:s-2},s));return Object(G.jsxs)("div",{className:"LikertIteration",children:[Object(G.jsx)("span",{className:"btn btn-link disabled",disabled:!0,children:"Highly Disagree"}),a,Object(G.jsx)("span",{className:"btn btn-link disabled",disabled:!0,children:"Highly Agree"})]})},_e=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).setAspect=function(e){s.setState({selectedAspect:e.currentTarget.value})},s.state={selectedAspect:"emotion"},s}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=ke.EditorState.createEmpty();if(null!==this.props.richText){var a=Object(ke.convertFromRaw)(this.props.richText);t=ke.EditorState.createWithContent(a)}var s=[],r=[],n=this.props.AIresults;if(null!==n&&void 0!==n&&this.state.selectedAspect in n){var i=n[this.state.selectedAspect];switch(this.state.selectedAspect){case"emotion":var c=qe(i.document.emotion),o=A(c),l={scale:{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}};s.push(Object(G.jsxs)(Ve.a,{bordered:!0,responsive:!0,children:[Object(G.jsx)("thead",{children:Object(G.jsx)("tr",{children:Object(G.jsx)("th",{scope:"col",children:"Whole Journal Emotion Data"})})}),Object(G.jsx)("tbody",{children:Object(G.jsx)("tr",{children:Object(G.jsx)("td",{children:Object(G.jsx)(He.Radar,{data:o,options:l})})},0)})]},"1"));break;case"sentiment":var d={labels:["Value"],datasets:[{label:"Value",data:[i.document.score],backgroundColor:"rgb(54, 162, 235)"}]},h={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:-1,suggestedMax:1}}],xAxes:[{}]}};s.push(Object(G.jsxs)(Ve.a,{bordered:!0,responsive:!0,children:[Object(G.jsx)("thead",{children:Object(G.jsx)("tr",{children:Object(G.jsx)("th",{scope:"col",children:"Whole Journal Sentiment Data"})})}),Object(G.jsx)("tbody",{children:Object(G.jsx)("tr",{children:Object(G.jsx)("td",{children:Object(G.jsx)(He.Bar,{data:d,options:h})})},0)})]},"1"));break;case"entities":for(var u in i){var j=i[u],m=qe(j.emotion),b=A(m),p={scale:{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}},v=H([j.confidence,j.relevance,j.sentiment.score]),g={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:-1,suggestedMax:1}}],xAxes:[{}]}};r.push(Object(G.jsxs)("tr",{children:[Object(G.jsx)("th",{scope:"row",children:j.text}),Object(G.jsx)("td",{children:j.type}),Object(G.jsx)("td",{children:j.count}),Object(G.jsx)("td",{colSpan:"3",children:Object(G.jsx)(He.Bar,{data:v,options:g})}),Object(G.jsx)("td",{children:Object(G.jsx)(He.Radar,{data:b,options:p})})]},u))}0===r.length&&r.push(Object(G.jsx)("tr",{children:Object(G.jsx)("td",{colSpan:"7",children:'"Nothing!"'})},0)),s.push(Object(G.jsxs)(Ve.a,{bordered:!0,responsive:!0,children:[Object(G.jsx)("thead",{children:Object(G.jsxs)("tr",{children:[Object(G.jsx)("th",{scope:"col",children:"Name"}),Object(G.jsx)("th",{scope:"col",children:"Type"}),Object(G.jsx)("th",{scope:"col",children:"#Appearances"}),Object(G.jsx)("th",{scope:"col",children:"Confidence"}),Object(G.jsx)("th",{scope:"col",children:"Relevance"}),Object(G.jsx)("th",{scope:"col",children:"Sentiment"}),Object(G.jsx)("th",{scope:"col",children:"Emotion"})]})}),Object(G.jsx)("tbody",{children:r})]},"2"));break;case"keywords":for(var x in i){var O=i[x],f=qe(O.emotion),N=A(f),S={scale:{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}},y=R([O.relevance,O.sentiment.score]),D={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:-1,suggestedMax:1}}],xAxes:[{}]}};r.push(Object(G.jsxs)("tr",{children:[Object(G.jsx)("th",{scope:"row",children:O.text}),Object(G.jsx)("td",{children:O.count}),Object(G.jsx)("td",{colSpan:"2",children:Object(G.jsx)(He.Bar,{data:y,options:D})}),Object(G.jsx)("td",{children:Object(G.jsx)(He.Radar,{data:N,options:S})})]},x))}0===r.length&&r.push(Object(G.jsx)("tr",{children:Object(G.jsx)("td",{colSpan:"5",children:'"Nothing!"'})},0)),s.push(Object(G.jsxs)(Ve.a,{bordered:!0,responsive:!0,children:[Object(G.jsx)("thead",{children:Object(G.jsxs)("tr",{children:[Object(G.jsx)("th",{scope:"col",children:"Name"}),Object(G.jsx)("th",{scope:"col",children:"#Appearances"}),Object(G.jsx)("th",{scope:"col",children:"Relevance Score"}),Object(G.jsx)("th",{scope:"col",children:"Sentiment"}),Object(G.jsx)("th",{scope:"col",children:"Emotion"})]})}),Object(G.jsx)("tbody",{children:r})]},"3"));break;default:console.log("Invalid AI selection somehow")}}return 0===s.length&&s.push("Nothing to display!"),Object(G.jsx)("div",{className:"JournalIteration",children:Object(G.jsxs)(X.a,{children:[Object(G.jsx)(X.a.Toggle,{as:_.a.Header,variant:"link",eventKey:"0",children:Object(G.jsx)("div",{style:ze.editor,children:Object(G.jsx)(ke.Editor,{editorState:t,placeholder:"Nothing Here!",readOnly:!0})})}),Object(G.jsx)(X.a.Collapse,{eventKey:"0",children:Object(G.jsx)(_.a,{children:Object(G.jsxs)(_.a.Body,{children:[Object(G.jsx)("div",{className:"row my-2",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)(Be.a,{toggle:!0,children:Ke.map((function(t,a){return Object(G.jsx)(Ge.a,{type:"radio",variant:"info",name:"radio",value:t.value,checked:e.state.selectedAspect===t.value,onChange:e.setAspect,children:t.name},a)}))})})}),Object(G.jsx)("hr",{}),Object(G.jsx)("div",{className:"row my-2",children:Object(G.jsx)("div",{className:"col",children:s})})]})})})]})})}}]),a}(r.a.Component),Qe=Object(u.f)((function(e){var t=[];for(var a in e.viewJournalData)if(e.viewJournalData[a].onlyDivision){var s=!1;for(var r in t)if(t[r].id===e.viewJournalData[a].targetDivision.id){s=!0;break}s||t.push(e.viewJournalData[a].targetDivision)}else{var n=!1;for(var i in t)if(-1===t[i].id){n=!0;break}n||t.push({divisionName:"None",id:-1})}for(var c in e.viewNonJournalData)if(e.viewNonJournalData[c].onlyDivision){var o=!1;for(var l in t)if(t[l].id===e.viewNonJournalData[c].targetDivision.id){o=!0;break}o||t.push(e.viewNonJournalData[c].targetDivision)}else{var d=!1;for(var h in t)if(-1===t[h].id){d=!0;break}d||t.push({divisionName:"None",id:-1})}var u=[];for(var m in t){var b="btn btn-outline-secondary";String(e.selectedJournalViewDiv)===m&&(b="btn btn-secondary"),u.push(Object(G.jsx)("button",{className:b,value:m,onClick:e.changeSelectedJournalViewDiv,children:t[m].divisionName},m))}0===u.length&&u.push(Object(G.jsx)("div",{className:"btn btn-outline-secondary",children:"Nothing!"},0));var p=-1;e.selectedJournalViewDiv>=0&&e.selectedJournalViewDiv<t.length&&(p=t[e.selectedJournalViewDiv].id);var v=[];for(var g in e.viewNonJournalData){try{if(e.viewNonJournalData[g].targetDivision.id!==p)continue}catch(T){if(-1!==p)continue}var x="No Prompt Data!",O="Prompt Showing Error!";if(null!==e.viewNonJournalData[g].usedPromptKey){switch(x=e.viewNonJournalData[g].usedPromptKey.text,e.viewNonJournalData[g].usedPromptKey.promptType){case 1:O=Object(G.jsx)(Xe,{selected:e.viewNonJournalData[g].chosenValue});break;case 2:O=Object(G.jsx)(Ze,{selected:e.viewNonJournalData[g].chosenValue});break;case 3:O=Object(G.jsx)(Ye,{promptQuestions:e.viewNonJournalData[g].usedPromptKey.promptChoices,selected:e.viewNonJournalData[g].chosenValue})}v.push(Object(G.jsx)("div",{className:"row",children:Object(G.jsxs)("div",{className:"col",children:[Object(G.jsx)("h5",{children:x}),Object(G.jsx)("div",{children:O}),Object(G.jsx)("hr",{})]})},g))}}for(var f in e.viewJournalData){try{if(e.viewJournalData[f].targetDivision.id!==p)continue}catch(I){if(-1!==p)continue}var N="No Prompt Data!",S="No Prompt!";if(null===e.viewJournalData[f].usedPromptKey||(N=e.viewJournalData[f].usedPromptKey.text,0===e.viewJournalData[f].usedPromptKey.promptType)){try{S=Object(G.jsx)(_e,{content:e.viewJournalData[f].content,richText:e.viewJournalData[f].richText,hasAI:e.viewJournalData[f].hasAI,AIresults:e.viewJournalData[f].AIresult})}catch(F){console.log("MISSING A JOURNAL'S CONTENT!")}var y=v.length;v.push(Object(G.jsx)("div",{className:"row",children:Object(G.jsxs)("div",{className:"col",children:[Object(G.jsx)("h5",{children:N}),Object(G.jsx)("div",{children:S}),Object(G.jsx)("hr",{})]})},f+y))}}var D=1===e.pickJournalCalenderDateStatus||1===e.pickNonJournalCalenderDateStatus,w=3===e.pickJournalCalenderDateStatus||3===e.pickNonJournalCalenderDateStatus,C=!1,k=[];for(var E in e.journalViewErrors)1!==e.journalViewErrors[E].mod||C||(C=!0,k.push(e.journalViewErrors[E].text));for(var P in e.nonJournalViewErrors)1!==e.nonJournalViewErrors[P].mod||C||(C=!0,k.push(e.nonJournalViewErrors[P].text));return 0===k.length&&k.push("Unknown!"),Object(G.jsx)("div",{className:"mainView",children:Object(G.jsxs)("div",{className:"container-fluid justify-content-center",children:[Object(G.jsx)("div",{className:"row m-2 justify-content-center",children:Object(G.jsx)("div",{className:"col- m-2 ",children:Object(G.jsx)("div",{children:Object(G.jsx)(Re.a,{className:"shadow",onChange:e.pickDate,value:e.currentDate,tileClassName:function(t){var a=t.date;if("month"===t.view){var s=a.getFullYear()+"-"+a.getMonth()+"-"+a.getDate(),r=!1;for(var n in e.validJournalDates)if(s===n){r=!0;break}var i=!1;for(var c in e.validJournalScanDates)if(s===c){i=!0;break}if(!r)for(var o in e.validNonJournalDates)if(s===o){r=!0;break}if(i)return"btn btn-success";if(r)return"btn btn-warning"}},minDetail:"year",maxDetail:"month"})})})}),Object(G.jsx)("div",{className:"row m-2",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"card shadow",children:[Object(G.jsxs)("div",{className:"card-header",children:["Prompt Data for ",e.currentDate.toString()]}),Object(G.jsxs)("div",{className:"card-body",children:[Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:"Select a Division:"})}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:u})}),Object(G.jsx)("hr",{}),v]})]})})}),Object(G.jsxs)(j.a,{show:D,variant:"warning",children:[Object(G.jsx)(j.a.Heading,{children:"Waiting"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"Waiting for server response..."}),Object(G.jsx)("hr",{})]}),Object(G.jsxs)(j.a,{show:!1,variant:"success",children:[Object(G.jsx)(j.a.Heading,{children:"Success!"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"Successfully obtained data!"}),Object(G.jsx)("hr",{})]}),Object(G.jsxs)(j.a,{show:w,variant:"danger",children:[Object(G.jsx)(j.a.Heading,{children:"Error!"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:k}),Object(G.jsx)("hr",{})]})]})})})),$e={editor:{border:"1px solid gray",minHeight:"6em",textAlign:"left"}},et=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).onToggle=function(t){t.preventDefault(),e.props.onToggle(e.props.style)},e}return Object(o.a)(a,[{key:"render",value:function(){var e="btn btn-outline-primary";return this.props.active&&(e+=" active"),Object(G.jsx)("button",{className:e,onMouseDown:this.onToggle,children:this.props.label})}}]),a}(r.a.Component),tt=[{label:"H1",style:"header-one"},{label:"H2",style:"header-two"},{label:"H3",style:"header-three"},{label:"H4",style:"header-four"},{label:"H5",style:"header-five"},{label:"H6",style:"header-six"}],at=function(e){var t=e.editorState,a=t.getSelection(),s=t.getCurrentContent().getBlockForKey(a.getStartKey()).getType();return Object(G.jsx)("div",{className:"RichEditor-controls",children:tt.map((function(t){return Object(G.jsx)(et,{active:t.style===s,label:t.label,onToggle:e.onToggle,style:t.style},t.label)}))})},st=[{label:"Bold",style:"BOLD"},{label:"Italic",style:"ITALIC"},{label:"Underline",style:"UNDERLINE"}],rt=function(e){var t=e.editorState.getCurrentInlineStyle();return Object(G.jsx)("div",{className:"RichEditor-controls",children:st.map((function(a){return Object(G.jsx)(et,{active:t.has(a.style),label:a.label,onToggle:e.onToggle,style:a.style},a.label)}))})},nt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).loadData=function(){if(void 0!==s.props.initialSave)return s.props.initialSave.data},s.selectMulti=function(e){s.setState({selected:e.target.value}),s.props.saveTo(s.props.targetDiv,s.props.id,3,e.target.value)},s.state={selected:s.loadData()},s}return Object(o.a)(a,[{key:"render",value:function(){var e="",t="primary";this.props.alreadyDone&&(e=" disabled",t="danger");var a=[];for(var s in this.props.choices){var r="";this.state.selected===s&&(r="active"),a.push(Object(G.jsx)("button",{type:"button",onClick:this.selectMulti,value:s,className:"btn btn-outline-"+t+" "+r+e,children:this.props.choices[s]},s))}return Object(G.jsxs)("div",{className:"RatingIteration",children:[this.props.alreadyDone&&Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col text-warning",children:"Already Submitted!"})}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("div",{className:"btn-group",role:"group","aria-label":"...",children:a})})})]})}}]),a}(r.a.Component),it=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).loadData=function(){return void 0!==s.props.initialSave?s.props.initialSave.data:-1},s.selectRating=function(e){var t=Number(e.target.value);s.setState({selected:t}),s.props.saveTo(s.props.targetDiv,s.props.id,2,t)},s.state={selected:s.loadData()},s}return Object(o.a)(a,[{key:"render",value:function(){var e=["","","","","",""];this.state.selected>=0&&this.state.selected<e.length&&(e[this.state.selected]="active");var t="",a="primary";this.props.alreadyDone&&(t=" disabled",a="danger");var s=[];for(var r in e)s.push(Object(G.jsx)("button",{type:"button",onClick:this.selectRating,value:r,className:"btn btn-outline-"+a+" "+e[r]+t,children:r},r));return Object(G.jsxs)("div",{className:"RatingIteration",children:[this.props.alreadyDone&&Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col text-warning",children:"Already Submitted!"})}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("div",{className:"btn-group",role:"group","aria-label":"...",children:s})})})]})}}]),a}(r.a.Component),ct=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).loadData=function(){return void 0!==s.props.initialSave?s.props.initialSave.data:-1},s.selectLikert=function(e){var t=Number(e.target.value);s.setState({selected:t}),s.props.saveTo(s.props.targetDiv,s.props.id,1,t)},s.state={selected:s.loadData()},s}return Object(o.a)(a,[{key:"render",value:function(){var e=["","","","",""];this.state.selected>=0&&this.state.selected<e.length&&(e[this.state.selected]="active");var t="",a="primary";this.props.alreadyDone&&(t=" disabled",a="danger ");var s=[];for(var r in e)s.push(Object(G.jsx)("button",{type:"button",onClick:this.selectLikert,value:r,className:"btn btn-outline-"+a+" "+e[r]+t,children:r-2},r));return Object(G.jsxs)("div",{className:"LikertIteration",children:[this.props.alreadyDone&&Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col text-warning",children:"Already Submitted!"})}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"btn-group",role:"group","aria-label":"...",children:[Object(G.jsx)("span",{className:"btn btn-link disabled",disabled:!0,children:"Highly Disagree"}),s,Object(G.jsx)("span",{className:"btn btn-link disabled",disabled:!0,children:"Highly Agree"})]})})})]})}}]),a}(r.a.Component),ot=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).loadData=function(){return void 0!==s.props.initialSave?ke.EditorState.createWithContent(Object(ke.convertFromRaw)(s.props.initialSave.data.block)):ke.EditorState.createEmpty()},s.onChange=function(e){s.setState({editorState:e}),s.props.saveTo(s.props.targetDiv,s.props.id,0,{raw:e.getCurrentContent().getPlainText(),block:Object(ke.convertToRaw)(e.getCurrentContent())})},s.toggleBlockType=function(e){s.onChange(ke.RichUtils.toggleBlockType(s.state.editorState,e))},s.toggleInlineStyle=function(e){s.onChange(ke.RichUtils.toggleInlineStyle(s.state.editorState,e))},s.handleKeyCommand=function(e,t){var a=ke.RichUtils.handleKeyCommand(t,e);return a?(s.onChange(a),"handled"):"not-handled"},s.state={editorState:s.loadData()},s.focusMe=function(e){return s.refs.editor.focus()},s.onToggle=function(e){e.preventDefault()},s}return Object(o.a)(a,[{key:"render",value:function(){var e="";return this.props.alreadyDone&&(e="Journal Already Submitted!"),Object(G.jsxs)("div",{className:"journalIteratorContainer",children:[this.props.alreadyDone&&Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col text-warning",children:"Already Submitted!"})}),!this.props.alreadyDone&&Object(G.jsx)("div",{className:"row",children:Object(G.jsxs)("div",{className:"col",children:[Object(G.jsx)(at,{editorState:this.state.editorState,onToggle:this.toggleBlockType}),Object(G.jsx)(rt,{editorState:this.state.editorState,onToggle:this.toggleInlineStyle})]})}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",onClick:this.focusMe,children:Object(G.jsx)("div",{id:"align-left",children:Object(G.jsx)("div",{style:$e.editor,children:Object(G.jsx)(ke.Editor,{editorState:this.state.editorState,onChange:this.onChange,handleKeyCommand:this.handleKeyCommand,spellCheck:!0,placeholder:e,readOnly:this.props.alreadyDone,ref:"editor"})})})})})]})}}]),a}(r.a.Component),lt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).journalPostFailure=function(e){if(0===e.action);else{if(1===e.action)return void s.props.refreshToken(s.saveFullSet);2===e.action||3===e.action||4===e.action||e.action}s.setState({postJournalStatus:3})},s.journalPostCallback=function(e){s.setState({journalErrors:[],postJournalStatus:2})},s.postJournal=function(e,t,a){var r=s.props.currentDate,n=t.raw,i=t.block;if(void 0!==e)C(r,e,a,n,i,s.journalPostCallback,s.journalPostFailure);else{C(r,"none",a,n,i,s.journalPostCallback,s.journalPostFailure)}s.setState({postJournalStatus:1})},s.nonJournalPostFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return void s.props.refreshToken(s.saveFullSet);2===e.action||3===e.action||4===e.action||e.action}t=e.messages,s.setState({nonJournalErrors:t,postNonJournalStatus:3})},s.nonJournalPostCallback=function(e){s.setState({journalErrors:[],postNonJournalStatus:2})},s.postNonJournal=function(e,t,a){var r=s.props.currentDate;void 0!==e?(!function(e,t,a,s,r,n){var i=Math.random().toString(16).substr(2,8),c={headers:{Authorization:"JWT ".concat(O)}},o={shorthand:"made from the website: "+i,targetDivision:a,forDate:S(e),usedPromptKeyText:t,chosenValue:s};x.post("/api/saveUserNonJournal/",o,c).then((function(e){r(e.data)})).catch((function(e){var t=y(e);n(t)}))}(r,e,a,t,s.nonJournalPostCallback,s.nonJournalPostFailure),s.setState({postNonJournalStatus:1})):s.setState({nonJournalErrors:[{mod:-1,text:"Invalid prompt id!"}],postNonJournalStatus:3})},s.checkDataSet=function(){var e=$("promptDataSaved-"+s.props.currentUser);if(0===e);else if(2===e);else if(1!==e)return e;return{}},s.savePromptData=function(e,t,a,r){var n={};for(var i in s.state.promptData)n[i]=s.state.promptData[i];n[t]={targetID:e,type:a,data:r},s.setState({promptData:n}),ee("promptDataSaved-"+s.props.currentUser,n,1)},s.saveFullSet=function(){var e=-1;if(s.props.promptList.length>0&&s.state.selectedDivision>=0&&s.state.selectedDivision<s.props.promptList.length)for(var t in e=s.props.promptList[s.state.selectedDivision].divTarget.id,s.state.promptData)void 0!==s.state.promptData[t]&&s.state.promptData[t].targetID===e&&(0===s.state.promptData[t].type?s.postJournal(t,s.state.promptData[t].data,s.state.promptData[t].targetID):s.postNonJournal(t,s.state.promptData[t].data,s.state.promptData[t].targetID))},s.selectDisplayButton=function(e){s.setState({selectedDivision:Number(e.target.value)})},s.state={promptData:s.checkDataSet(),selectedDivision:0,journalErrors:[],postJournalStatus:0,nonJournalErrors:[],postNonJournalStatus:0},s}return Object(o.a)(a,[{key:"render",value:function(){var e=[],t="None Selected!",a=-1;this.props.promptList.length>0&&this.state.selectedDivision>=0&&this.state.selectedDivision<this.props.promptList.length&&(t=this.props.promptList[this.state.selectedDivision].divTarget.divisionName,a=this.props.promptList[this.state.selectedDivision].divTarget.id,e=this.props.promptList[this.state.selectedDivision].promptSet);var s=[];for(var r in this.props.promptList){var n=this.props.promptList[r].divTarget,i="btn btn-outline-secondary";String(this.state.selectedDivision)===r&&(i="btn btn-secondary"),s.push(Object(G.jsx)("button",{className:i,value:r,id:n.id,onClick:this.selectDisplayButton,children:n.divisionName},r))}var c=[];for(var o in e){var l="Prompt Showing Error!",d=e[o].identifier,h=!1;for(var u in this.props.nonJournalPromptsDone.today)if(null!==this.props.nonJournalPromptsDone.today[u]&&d===this.props.nonJournalPromptsDone.today[u].identifier){h=!0;break}for(var m in this.props.journalPromptsDone.today)if(null!==this.props.journalPromptsDone.today[m]&&d===this.props.journalPromptsDone.today[m].identifier){h=!0;break}for(var b in this.props.journalScanPromptsDone.today)if(null!==this.props.journalScanPromptsDone.today[b]&&d===this.props.journalScanPromptsDone.today[b].identifier){h=!0;break}switch(e[o].promptType){case 0:l=Object(G.jsx)(ot,{initialSave:this.state.promptData[d],id:d,targetDiv:a,saveTo:this.savePromptData,alreadyDone:h});break;case 1:l=Object(G.jsx)(ct,{initialSave:this.state.promptData[d],id:d,targetDiv:a,saveTo:this.savePromptData,alreadyDone:h});break;case 2:l=Object(G.jsx)(it,{initialSave:this.state.promptData[d],id:d,targetDiv:a,saveTo:this.savePromptData,alreadyDone:h});break;case 3:l=Object(G.jsx)(nt,{choices:e[o].promptChoices,initialSave:this.state.promptData[d],id:d,targetDiv:a,saveTo:this.savePromptData,alreadyDone:h});break;default:l="Prompt Showing Error!"}c.push(Object(G.jsxs)("div",{children:[Object(G.jsx)("div",{className:"row my-3",children:Object(G.jsxs)("div",{className:"col",children:[Object(G.jsx)("h5",{children:e[o].text}),Object(G.jsx)("div",{children:l})]})}),Object(G.jsx)("hr",{})]},o))}if(0===c.length){var p="misc",v=!1;for(var g in this.props.nonJournalPromptsDone.today)if(p===this.props.nonJournalPromptsDone.today[g]){v=!0;break}for(var x in this.props.journalPromptsDone.today)if(p===this.props.journalPromptsDone.today[x]){v=!0;break}for(var O in this.props.journalScanPromptsDone.today)if(p===this.props.journalScanPromptsDone.today[O]){v=!0;break}c.push(Object(G.jsxs)("div",{children:[Object(G.jsx)("div",{className:"row my-3",children:Object(G.jsxs)("div",{className:"col",children:[Object(G.jsx)("h5",{children:"No Prompts! have a free Open Ended Journal!"}),Object(G.jsx)("div",{children:Object(G.jsx)(ot,{initialSave:this.state.promptData.misc,id:p,saveTo:this.savePromptData,alreadyDone:v})})]})}),Object(G.jsx)("hr",{})]},0))}var f=1===this.state.postJournalStatus||1===this.state.postNonJournalStatus,N=2===this.state.postJournalStatus||2===this.state.postNonJournalStatus,S=3===this.state.postJournalStatus||3===this.state.postNonJournalStatus,y=[];for(var D in this.state.journalErrors)y.push(this.state.journalErrors[D].text);for(var w in this.state.nonJournalErrors)y.push(this.state.nonJournalErrors[w].text);return 0===y.length&&y.push("Unknown!"),Object(G.jsx)("div",{className:"makeView",children:Object(G.jsxs)("div",{className:"container-fluid",children:[Object(G.jsxs)("div",{className:"card shadow",children:[Object(G.jsxs)("div",{className:"card-header",children:[Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("h4",{children:t})})}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:s})})]}),Object(G.jsxs)("div",{className:"card-body",children:[c,Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("button",{className:"btn btn-outline-primary",onMouseDown:this.saveFullSet,children:" Post! "})})})]})]}),Object(G.jsxs)(j.a,{show:f,variant:"warning",children:[Object(G.jsx)(j.a.Heading,{children:"Waiting"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"Waiting for server response..."}),Object(G.jsx)("hr",{})]}),Object(G.jsxs)(j.a,{show:N,variant:"success",children:[Object(G.jsx)(j.a.Heading,{children:"Success!"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"Entry Posted!"}),Object(G.jsx)("hr",{})]}),Object(G.jsxs)(j.a,{show:S,variant:"danger",children:[Object(G.jsx)(j.a.Heading,{children:"Error!"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:y}),Object(G.jsx)("hr",{})]})]})})}}]),a}(r.a.Component),dt=Object(u.f)(lt),ht=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).oldPasswordChange=function(e){s.setState({oldPassword:e.target.value,oldPasswordError:!1})},s.newPasswordChange=function(e){s.setState({newPassword:e.target.value,newPasswordError:!1})},s.newPassword2Change=function(e){s.setState({newPassword2:e.target.value,newPasswordError:!1})},s.newEmailChange=function(e){s.setState({newEmail:e.target.value})},s.newNewFirstChange=function(e){s.setState({newFirstName:e.target.value})},s.newLastNameChange=function(e){s.setState({newLastName:e.target.value})},s.getDataFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return void s.props.refreshToken(s.getCurrentData);2===e.action||3===e.action||4===e.action||e.action}t=e.messages,s.setState({getCurrentDataError:t,getCurrentDataStatus:3})},s.getDataSuccess=function(e){s.setState({getCurrentDataStatus:2})},s.getCurrentData=function(){!function(e,t){var a={headers:{Authorization:"JWT ".concat(O)}};x.get("/api/getUserDetails/",a).then((function(t){var a=t.data;e(a)})).catch((function(e){var a=y(e);t(a)}))}(s.getDataSuccess,s.getDataFailure),s.setState({getCurrentDataStatus:1})},s.changeEmailFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return void s.props.refreshToken(s.changeEmail);2===e.action||3===e.action||4===e.action||e.action}t=e.messages,s.setState({changeGeneralError:t,changeEmailStatus:3})},s.changeEmailSuccess=function(e){s.setState({changeEmailStatus:2})},s.changeEmail=function(){0},s.changeNameFailure=function(e){var t;if(0===e.action);else if(1===e.action)return void s.props.refreshToken(s.changeName);t=e.messages,s.setState({changeGeneralError:t,changeNameStatus:3})},s.changeNameSuccess=function(e){s.setState({changeNameStatus:2})},s.changeName=function(){!function(e,t,a,s){var r={headers:{Authorization:"JWT ".concat(O)}},n={first_name:e,last_name:t};x.put("/api/updateUserName/",n,r).then((function(e){var t=e.data;a(t)})).catch((function(e){var t=y(e);s(t)}))}(s.state.newFirstName,s.state.newLastName,s.changeNameSuccess,s.changeNameFailure),s.setState({newFirstName:"",newLastName:"",changeNameStatus:1})},s.changePasswordFailure=function(e){var t=!1,a=!1,r="";if(0===e.action);else{if(1===e.action)return void s.props.refreshToken(s.changePassword);if(3===e.action)for(var n in e.messages)2===e.messages[n].mod&&(a=!0,r=e.messages[n].text);else 6===e.action&&(t=!0)}s.setState({oldPasswordError:t,newPasswordError:a,newPasswordErrorMessage:r,changePasswordStatus:3})},s.changePasswordSuccess=function(e){s.setState({oldPassword:"",newPassword:"",newPassword2:"",oldPasswordError:!1,newPasswordError:!1,changePasswordStatus:2})},s.changePassword=function(){s.state.newPassword.length<8||s.state.newPassword2<8?s.setState({newPasswordError:!0,newPasswordErrorMessage:"Passwords are too short!"}):s.state.newPassword===s.state.newPassword2?(!function(e,t,a,s,r){var n={headers:{Authorization:"JWT ".concat(O)}},i={oldPassword:e,password:t,password2:a};x.put("/api/updateUserPassword/",i,n).then((function(e){var t=e.data;s(t)})).catch((function(e){var t=y(e);r(t)}))}(s.state.oldPassword,s.state.newPassword,s.state.newPassword2,s.changePasswordSuccess,s.changePasswordFailure),s.setState({oldPasswordError:!1,newPasswordError:!1,changePasswordStatus:1})):s.setState({newPasswordError:!0,newPasswordErrorMessage:"Passwords do not match!"})},s.state={currentEmail:"No Data!",currentFirstName:"No Data!",currentLastName:"No Data!",newEmail:"",newFirstName:"",newLastName:"",oldPassword:[],newPassword:[],newPassword2:[],getCurrentDataStatus:0,changePasswordStatus:0,changeNameStatus:0,changeEmailStatus:0,getCurrentDataError:[],changeGeneralError:[],oldPasswordError:!1,newPasswordError:!1,newPasswordErrorMessage:"New Password Error Stuff"},s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e="form-control",t="form-control";this.state.oldPasswordError&&(t+=" bg-warning");var a="form-control";this.state.newPasswordError&&(a+=" bg-warning");var s=1===this.state.getCurrentDataStatus,r=2===this.state.changePasswordStatus,n=3===this.state.getCurrentDataStatus,i=[];for(var c in this.state.getCurrentDataError)i.push(this.state.getCurrentDataError[c].text);for(var o in this.state.changeGeneralError)i.push(this.state.changeGeneralError[o].text);return 0===i.length&&i.push("Unknown!"),Object(G.jsxs)("div",{className:"userSecurty",children:[Object(G.jsxs)("div",{className:"container",children:[Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"card shadow",children:[Object(G.jsx)("div",{className:"card-header",children:Object(G.jsx)("h5",{children:"Edit User Security Details"})}),Object(G.jsx)("div",{className:"card-body",children:Object(G.jsx)("div",{className:"list-group",children:Object(G.jsxs)(X.a,{children:[Object(G.jsx)(X.a.Toggle,{as:_.a.Header,className:"border",variant:"link",eventKey:"email",children:"Change Email"}),Object(G.jsx)(X.a.Collapse,{className:"border",eventKey:"email",children:Object(G.jsx)("div",{children:Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:"Under Construction!"})})})}),Object(G.jsx)(X.a.Toggle,{as:_.a.Header,className:"border",variant:"link",eventKey:"user",children:"Change Username"}),Object(G.jsx)(X.a.Collapse,{className:"border",eventKey:"user",children:Object(G.jsx)("div",{children:Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:"Under Construction!"})})})}),Object(G.jsx)(X.a.Toggle,{as:_.a.Header,className:"border",variant:"link",eventKey:"open",children:"Change Password"}),Object(G.jsx)(X.a.Collapse,{className:"border",eventKey:"open",children:Object(G.jsxs)("div",{children:[Object(G.jsxs)("div",{className:"form-group m-3",children:[Object(G.jsx)("label",{children:Object(G.jsx)("h5",{children:Object(G.jsx)("u",{children:"Old Password"})})}),Object(G.jsx)("input",{type:"password",className:t,value:this.state.oldPassword,onChange:this.oldPasswordChange,placeholder:"Enter password"}),Object(G.jsx)("p",{className:"text-danger",children:this.state.oldPasswordError?"Invalid Password!":""})]}),Object(G.jsxs)("div",{className:"form-group m-3",children:[Object(G.jsx)("label",{children:Object(G.jsx)("h5",{children:Object(G.jsx)("u",{children:"New Password"})})}),Object(G.jsx)("input",{type:"password",className:a,value:this.state.newPassword,onChange:this.newPasswordChange,placeholder:"Enter password"})]}),Object(G.jsxs)("div",{className:"form-group m-3",children:[Object(G.jsx)("label",{children:Object(G.jsx)("h5",{children:Object(G.jsx)("u",{children:"New Password (again)"})})}),Object(G.jsx)("input",{type:"password",className:a,value:this.state.newPassword2,onChange:this.newPassword2Change,placeholder:"Enter password"}),Object(G.jsx)("p",{className:"text-danger",children:this.state.newPasswordError?this.state.newPasswordErrorMessage:""})]}),Object(G.jsx)("button",{type:"button",className:"mb-3 btn btn-outline-primary",onClick:this.changePassword,children:"Change Password"})]})})]})})})]})})}),Object(G.jsxs)(j.a,{show:s,variant:"warning",children:[Object(G.jsx)(j.a.Heading,{children:"Waiting"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"Waiting for server response..."}),Object(G.jsx)("hr",{})]}),Object(G.jsxs)(j.a,{show:r,variant:"success",children:[Object(G.jsx)(j.a.Heading,{children:"Success!"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"Success!"}),Object(G.jsx)("hr",{})]}),Object(G.jsxs)(j.a,{show:n,variant:"danger",children:[Object(G.jsx)(j.a.Heading,{children:"Danger!"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:i}),Object(G.jsx)("hr",{})]})]}),Object(G.jsx)("div",{className:"modal fade",id:"changeNameModal",tabIndex:"-1",role:"dialog","aria-labelledby":"changeNameModal","aria-hidden":"true",children:Object(G.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:Object(G.jsxs)("div",{className:"modal-content",children:[Object(G.jsxs)("div",{className:"modal-header",children:[Object(G.jsx)("h5",{className:"modal-title",id:"deleteTitleConfirm",children:"Change Name"}),Object(G.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(G.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(G.jsxs)("div",{className:"modal-body",children:[Object(G.jsxs)("div",{className:"form-group",children:[Object(G.jsx)("label",{id:"align-left",children:"New First Name"}),Object(G.jsx)("input",{type:"text",className:e,value:this.state.newFirstName,onChange:this.newNewFirstChange,placeholder:"Enter New First Name"})]}),Object(G.jsxs)("div",{className:"form-group",children:[Object(G.jsx)("label",{id:"align-left",children:"New Last Name"}),Object(G.jsx)("input",{type:"text",className:e,value:this.state.newLastName,onChange:this.newLastNameChange,placeholder:"Enter New Last Name"})]})]}),Object(G.jsxs)("div",{className:"modal-footer",children:[Object(G.jsx)("button",{type:"button",className:"btn btn-outline-secondary","data-dismiss":"modal",onClick:this.changeName,children:"Change Name"}),Object(G.jsx)("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal",children:"Cancel"})]})]})})})]})}}]),a}(r.a.Component),ut=Object(u.f)(ht),jt=["Invalid","Admin User","Viewing User","Governed User"],mt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).getUserInvitesFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return void s.props.refreshToken(s.getUserInvites);2===e.action||3===e.action||4===e.action||e.action}t=e.messages,s.setState({getUserInvitesErrors:t,getUserInvitesStatus:3})},s.getUserInvitesSuccess=function(e){var t=[],a=[];for(var r in e)1===e[r].whoIsOrigin?a.push(e[r]):2===e[r].whoIsOrigin&&t.push(e[r]);s.setState({invitePendingList:a,inviteActiveList:t,getUserInvitesStatus:2})},s.getUserInvites=function(){!function(e,t){var a={headers:{Authorization:"JWT ".concat(O)}};x.get("/api/getUsersInvites",a).then((function(t){var a=t.data;e(a)})).catch((function(e){var a=y(e);t(a)}))}(s.getUserInvitesSuccess,s.getUserInvitesFailure),s.setState({getUserInvitesStatus:1})},s.inviteFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return void s.props.refreshToken(s.submitCode);if(2===e.action);else if(3===e.action)for(var a in e.messages)5===e.messages[a].mod||6===e.messages[a].mod||e.messages[a].mod;else 4===e.action||e.action}t=e.messages,s.setState({submitCodeErrors:t,submitCodeStatus:3})},s.inviteSuccess=function(e){s.setState({submitCodeStatus:2})},s.submitCode=function(){!function(e,t,a){var s={headers:{Authorization:"JWT ".concat(O)}};x.get("/api/useDivisionInvite?joinCode="+e,s).then((function(e){var a=e.data;t(a)})).catch((function(e){var t=y(e);a(t)}))}(s.state.inviteCode,s.inviteSuccess,s.inviteFailure),s.setState({submitCodeStatus:1})},s.spendInviteFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return void s.props.refreshToken(s.baseTryAgain);2===e.action||3===e.action||4===e.action||e.action}t=e.messages,s.getUserInvites(),s.props.triggerRefresh(),s.setState({spendInviteErrors:t,spendInviteStatus:3})},s.spendInviteSuccess=function(e){s.getUserInvites(),s.props.triggerRefresh(),s.setState({spendInviteStatus:2})},s.inviteYes=function(e){var t=e.target.value;T(t,1,s.spendInviteSuccess,s.spendInviteFailure),s.setState({spendInviteStatus:1})},s.inviteNo=function(e){var t=e.target.value;T(t,0,s.spendInviteSuccess,s.spendInviteFailure),s.setState({spendInviteStatus:1})},s.codeFieldChange=function(e){s.setState({inviteCode:e.target.value})},s.baseTryAgain=function(){console.log("Put Some 'Uh Oh, try again' thing here")},s.state={inviteCode:"",invitePendingList:[],inviteActiveList:[],getUserInvitesStatus:0,submitCodeStatus:0,spendInviteStatus:0,getUserInvitesErrors:[],submitCodeErrors:[],spendInviteErrors:[]},s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.getUserInvites()}},{key:"render",value:function(){var e=1===this.state.getUserInvitesStatus||1===this.state.spendInviteStatus||1===this.state.submitCodeStatus,t=2===this.state.submitCodeStatus,a=3===this.state.getUserInvitesStatus||3===this.state.spendInviteStatus||3===this.state.submitCodeStatus,s=[];for(var r in this.state.getUserInvitesErrors)s.push(this.state.getUserInvitesErrors[r].text);for(var n in this.state.submitCodeErrors)s.push(this.state.submitCodeErrors[n].text);for(var i in this.state.spendInviteErrors)s.push(this.state.spendInviteErrors[i].text);0===s.length&&s.push("Unknown!");var c=[];for(var o in this.state.invitePendingList){c.push(Object(G.jsxs)("li",{className:"list-group-item d-flex justify-content-around",children:[Object(G.jsx)("div",{className:"col alignOverride",children:this.state.invitePendingList[o].inviteDivision}),Object(G.jsx)("div",{className:"col alignOverride",children:jt[this.state.invitePendingList[o].targetRole]}),Object(G.jsx)("div",{className:"col-2"}),Object(G.jsx)("div",{className:"col-1"})]},o))}0===c.length&&c.push(Object(G.jsx)("li",{className:"list-group-item",children:"No Invites!"},0));var l=[];for(var d in this.state.inviteActiveList){l.push(Object(G.jsxs)("li",{className:"list-group-item d-flex justify-content-around",children:[Object(G.jsx)("div",{className:"col alignOverride",children:this.state.inviteActiveList[d].inviteDivision}),Object(G.jsx)("div",{className:"col alignOverride",children:jt[this.state.inviteActiveList[d].targetRole]}),Object(G.jsx)("div",{className:"col-2",children:Object(G.jsx)("button",{className:"badge badge-success badge-pill",value:this.state.inviteActiveList[d].id,onClick:this.inviteYes,children:"/"})}),Object(G.jsx)("div",{className:"col-1",children:Object(G.jsx)("button",{className:"badge badge-danger badge-pill",value:this.state.inviteActiveList[d].id,onClick:this.inviteNo,children:"X"})})]},d))}return 0===l.length&&l.push(Object(G.jsx)("li",{className:"list-group-item",children:"No Invites!"},0)),Object(G.jsx)("div",{className:"userInvite",children:Object(G.jsxs)("div",{className:"container",children:[Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"card shadow",children:[Object(G.jsx)("div",{className:"card-header",children:Object(G.jsx)("h5",{children:"Enter Invite Code"})}),Object(G.jsx)("div",{className:"card-body",children:Object(G.jsxs)("div",{className:"list-group",children:[Object(G.jsx)("div",{className:"list-group-item",children:Object(G.jsx)("input",{type:"text",className:"form-control",value:this.state.inviteCode,onChange:this.codeFieldChange,placeholder:"Enter Code"})}),Object(G.jsx)("div",{className:"list-group-item",children:Object(G.jsx)("button",{className:"btn btn-primary",onClick:this.submitCode,children:"Submit"})})]})})]})})}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"card shadow",children:[Object(G.jsx)("div",{className:"card-header",children:Object(G.jsx)("h5",{children:"Current Sent Pending Invites"})}),Object(G.jsx)("div",{className:"card-body",children:Object(G.jsxs)("ul",{className:"list-group",children:[Object(G.jsx)("li",{className:"list-group-item",children:Object(G.jsxs)("div",{className:"row",children:[Object(G.jsx)("div",{className:"col-1"}),Object(G.jsx)("div",{className:"col alignOverride",children:Object(G.jsx)("u",{children:"Division name"})}),Object(G.jsx)("div",{className:"col alignOverride",children:Object(G.jsx)("u",{children:"Target Role"})}),Object(G.jsx)("div",{className:"col-2"}),Object(G.jsx)("div",{className:"col-1"})]})},-1),c]})})]})})}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"card shadow",children:[Object(G.jsx)("div",{className:"card-header",children:Object(G.jsx)("h5",{children:"Current Company Invites"})}),Object(G.jsx)("div",{className:"card-body",children:Object(G.jsxs)("ul",{className:"list-group",children:[Object(G.jsx)("li",{className:"list-group-item",children:Object(G.jsxs)("div",{className:"row",children:[Object(G.jsx)("div",{className:"col-1"}),Object(G.jsx)("div",{className:"col alignOverride",children:Object(G.jsx)("u",{children:"Division name"})}),Object(G.jsx)("div",{className:"col alignOverride",children:Object(G.jsx)("u",{children:"Target Role"})}),Object(G.jsx)("div",{className:"col-2"}),Object(G.jsx)("div",{className:"col-1"})]})},-1),l]})})]})})}),Object(G.jsxs)(j.a,{show:e,variant:"warning",children:[Object(G.jsx)(j.a.Heading,{children:"Waiting"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"Waiting for response..."}),Object(G.jsx)("hr",{})]}),Object(G.jsxs)(j.a,{show:t,variant:"success",children:[Object(G.jsx)(j.a.Heading,{children:"Success!"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"Successfully Send Invite!"}),Object(G.jsx)("hr",{})]}),Object(G.jsxs)(j.a,{show:a,variant:"danger",children:[Object(G.jsx)(j.a.Heading,{children:"Error!"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:s}),Object(G.jsx)("hr",{})]})]})})}}]),a}(r.a.Component),bt=Object(u.f)(mt),pt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={},s}return Object(o.a)(a,[{key:"render",value:function(){return Object(G.jsx)("div",{className:"userSyncSettings",children:Object(G.jsx)("div",{className:"container",children:Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"card shadow",children:[Object(G.jsx)("div",{className:"card-header",children:"Email Sync Settings"}),Object(G.jsx)("div",{className:"card-body",children:Object(G.jsxs)("ul",{className:"list-group",children:[Object(G.jsx)("div",{className:"list-group-item",children:"Explination under construction..."}),Object(G.jsx)("div",{className:"list-group-item",children:Object(G.jsx)("a",{href:g+"/syncHome",children:"To the Email Sync Page!"})})]})})]})})})})})}}]),a}(r.a.Component),vt=Object(u.f)(pt),gt=a(96),xt=a.n(gt),Ot=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).timedRefresh=function(){},s.GenerateGraph=function(e){var t={nodes:[],edges:[]};for(var a in e){var s="#000000",r="#FFF0F0";for(var n in e[a].isTracked&&(r="#FFFFFF"),t.nodes.push({id:e[a].id,label:e[a].name,color:{border:s,background:r}}),e[a].toSet){t.edges.push({from:e[a].id,to:e[a].toSet[n].to,label:(Math.floor(100*e[a].toSet[n].sentiment)/100).toString()+", "+Math.floor(e[a].toSet[n].freq).toString(),width:z(e[a].toSet[n].freq),color:Y(e[a].toSet[n].sentiment)});var i=!1;for(var c in t.nodes)if(t.nodes[c].id===e[a].toSet[n].to){i=!0;break}i||t.nodes.push({id:e[a].toSet[n].to,label:e[a].toSet[n].dispName,color:{border:s,background:"#FFF0F0"}})}}return t},s.selectStuffPrimary=function(e){},s.getUserWebFailure=function(e){if(0===e.action);else{if(1===e.action)return void s.props.refreshToken(s.getUserWebRecent);e.action}s.setState({getWebStatus:3,getDatesWebError:e.messages})},s.getUserWebCallback=function(e){var t=[];e.length>0&&(t=e[0].webStructure),s.setState({loadedData:t,graphDataPrimary:s.GenerateGraph(t),loadedDataDate:"Current",getWebStatus:2})},s.getUserWebRecent=function(){if(-1!==s.props.currentDivisionID){L(void 0,s.getUserWebCallback,s.getUserWebFailure),s.setState({getWebStatus:1})}else s.props.history.push(s.props.reRouteTarget)},s.getUserWebPreviousFailure=function(e){if(0===e.action);else{if(1===e.action)return void s.props.refreshToken(s.timedRefresh);e.action}s.setState({getWebStatus:3,getDatesWebError:e.messages})},s.getUserWebPreviousCallback=function(e){var t=[],a="Unknown";e.length>0&&(t=e[0].webStructure,a=e[0].forDate),s.setState({loadedData:t,graphDataPrimary:s.GenerateGraph(t),loadedDataDate:a,getWebStatus:2})},s.getUserWebPrevious=function(e){if(-1!==s.props.currentDivisionID){L(e,s.getUserWebPreviousCallback,s.getUserWebPreviousFailure),s.setState({getWebStatus:1})}else s.props.history.push(s.props.reRouteTarget)},s.pickDate=function(e){s.setState({selectedWebDay:e}),s.getUserWebPrevious(e)},s.loadData=function(){var e=function(){for(var e=[],t=Math.floor(20*Math.random()),a=1;a<t;a++)e.push({dispName:"Other User "+a,to:a,sentiment:2*Math.random()-1,freq:7*Math.random()});return[{id:0,name:"This Users Name",isTracked:!0,toSet:e}]}();s.setState({loadedDataDate:"Current",loadedData:e.length,graphDataPrimary:s.GenerateGraph(e)})},s.state={loadedDataDate:"None",loadedData:[],graphDataPrimary:s.GenerateGraph([]),selectedNodes:["None"],getWebStatus:0,getDatesWebStatus:0,getDatesWebError:[],selectedWebDay:new Date},s}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t={select:this.selectStuffPrimary},a=0===this.state.getWebStatus,s=1===this.state.getWebStatus,r=2===this.state.getWebStatus,n=3===this.state.getWebStatus,i="Showing Current Web";"None"===this.state.loadedDataDate?i="No Data!":"Current"!==this.state.loadedDataDate&&(i="Showing Legacy Web From: "+this.state.loadedDataDate);var c=[];for(var o in this.state.getDatesWebError)c.push(Object(G.jsx)("div",{children:this.state.getDatesWebError[o].text}));return Object(G.jsxs)("div",{className:"UserWebStuff bg-secondary",children:[Object(G.jsxs)("div",{className:"container bg-light border shadow",children:[Object(G.jsx)("div",{className:"row my-3",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("button",{className:"btn btn-secondary",onClick:this.loadData,children:"Load Example Data"})})}),Object(G.jsx)("div",{className:"row my-3",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("button",{className:"btn btn-dark",onClick:this.getUserWebRecent,children:"Load Most Recent Web From Server"})})}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)(X.a,{children:[Object(G.jsx)(X.a.Toggle,{as:_.a.Header,className:"border",variant:"link",eventKey:"open",children:"Get a Previous Web"}),Object(G.jsx)(X.a.Collapse,{eventKey:"open",children:Object(G.jsxs)("div",{className:"row",children:[Object(G.jsx)("div",{className:"col"}),Object(G.jsx)("div",{className:"col-",children:Object(G.jsx)(Re.a,{onChange:this.pickDate,value:this.state.selectedWebDay,tileClassName:function(t){var a=t.date,s=t.view,r=!1,n=String(a.getFullYear()),i=String(a.getMonth()+1);i<10&&(i="0"+i);var c=String(a.getDate());c<10&&(c="0"+c);var o=n+"-"+i+"-"+c;if("month"===s)try{r=e.props.validUserWebDates.find((function(e){return e.forDate===o}))}catch(l){}if(r)return"btn btn-success"},minDetail:"year",maxDetail:"month"})}),Object(G.jsx)("div",{className:"col"})]})})]})})}),Object(G.jsx)("div",{className:"border",children:0===this.state.loadedData.length?Object(G.jsxs)("div",{className:"row my-5",children:[a&&Object(G.jsx)("div",{className:"col",children:"Waiting for signal to get data"}),s&&Object(G.jsx)("div",{className:"col",children:"Getting Data..."}),r&&Object(G.jsx)("div",{className:"col",children:"Server reported no web!"})]}):Object(G.jsx)("div",{children:Object(G.jsxs)("div",{children:[Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("u",{children:i})})}),Object(G.jsx)(xt.a,{graph:this.state.graphDataPrimary,options:Z,events:t,getNetwork:function(e){}})]})})}),Object(G.jsx)(Q,{}),Object(G.jsx)("div",{className:"row my-2"})]}),Object(G.jsxs)(j.a,{show:s,variant:"warning",children:[Object(G.jsx)(j.a.Heading,{children:"Waiting"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"Waiting for server..."}),Object(G.jsx)("hr",{})]}),Object(G.jsxs)(j.a,{show:n,variant:"danger",children:[Object(G.jsx)(j.a.Heading,{children:"Error!"}),Object(G.jsx)("hr",{}),c,Object(G.jsx)("hr",{})]})]})}}]),a}(r.a.Component),ft=Object(u.f)(Ot),Nt=function(e){return Object(G.jsx)("div",{className:"defaultView",children:Object(G.jsx)("h3",{children:"404! You have selected and invalid page"})})},St=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).initializeSuggestionDivision=function(){var e=[];for(var t in s.props.userLoadedCompanyList){var a=-1;for(var r in s.props.userLoadedCompanyList[t].perm)3===s.props.userLoadedCompanyList[t].perm[r]&&(a=3);a>=0&&a<4&&e.push(s.props.userLoadedCompanyList[t])}return 1===e.length?e[0].id:-1},s.changeSuggestionContent=function(e){s.setState({suggestionEditorState:e})},s.suggestionPostFailureCallback=function(e){var t;if(0===e.action);else{if(1===e.action)return void s.props.refreshToken(s.postSuggestion);2===e.action||3===e.action||4===e.action||e.action}t=e.messages,s.setState({suggestionErrors:t,postSuggestionStatus:3})},s.suggestionPostCallback=function(e){s.setState({suggestionErrors:[],postSuggestionStatus:2})},s.postSuggestion=function(){var e=s.props.currentDate,t=s.state.suggestionEditorState.getCurrentContent().getPlainText(),a=Object(ke.convertToRaw)(s.state.suggestionEditorState.getCurrentContent()),r=s.state.currentSuggestionDivision;-1!==r?(!function(e,t,a,s,r,n){var i={headers:{Authorization:"JWT ".concat(O)}},c={reqDiv:t,targetDivision:t,createdDate:S(e),content:a,richText:s};x.post("/api/saveNewSuggestion/",c,i).then((function(e){r(e.data)})).catch((function(e){var t=y(e);n(t)}))}(e,r,t,a,s.suggestionPostCallback,s.suggestionPostFailureCallback),s.setState({postSuggestionStatus:1})):(console.log("Not allowed!"),s.setState({suggestionErrors:["You need to select a company!"]}))},s.refreshCompleted=function(){console.log("Put a Please Try again thing on the UI")},s.journalDataFailure=function(e){var t;0===e.action||(1===e.action?s.props.refreshToken(s.refreshCompleted):2===e.action||3===e.action||4===e.action||e.action),t=e.messages,s.setState({journalViewErrors:t,pickJournalCalenderDateStatus:3})},s.journalDataCallback=function(e){s.setState({viewJournalData:e,pickJournalCalenderDateStatus:2})},s.nonJournalDataFailure=function(e){var t=e.messages;0===e.action||(1===e.action?s.props.refreshToken(s.refreshCompleted):2===e.action||3===e.action||4===e.action||e.action),s.setState({nonJournalViewErrors:t,pickNonJournalCalenderDateStatus:3})},s.nonJournalDataCallback=function(e){s.setState({viewNonJournalData:e,pickNonJournalCalenderDateStatus:2})},s.pickJournalCalenderDate=function(e){s.setState({selectedJournalDate:e});!function(e,t,a){var s={headers:{Authorization:"JWT ".concat(O)}},r=e.toJSON().split("T")[0];x.get("/api/getUserJournal/?reqDate="+r,s).then((function(e){t(e.data)})).catch((function(e){var t=y(e);a(t)}))}(e,s.journalDataCallback,s.journalDataFailure),function(e,t,a){var s={headers:{Authorization:"JWT ".concat(O)}},r=e.toJSON().split("T")[0];x.get("/api/getUserNonJournal/?reqDate="+r,s).then((function(e){t(e.data)})).catch((function(e){var t=y(e);a(t)}))}(e,s.nonJournalDataCallback,s.nonJournalDataFailure),s.setState({pickJournalCalenderDateStatus:1,pickNonJournalCalenderDateStatus:1,viewJournalData:[],viewNonJournalData:[]})},s.setSuggestionDivision=function(e){s.setState({currentSuggestionDivision:e})},s.changeSelectedJournalViewDiv=function(e){s.setState({selectedJournalViewDiv:e.target.value})},s.state={selectedJournalDate:new Date,selectedJournalViewDiv:0,journalValidPrompts:[],journalMessage:"Choose a date to view the journal!",journalContent:"Waiting for content...",viewJournalData:[],viewNonJournalData:[],suggestionEditorState:ke.EditorState.createEmpty(),suggestionErrors:[],journalViewErrors:[],nonJournalViewErrors:[],journalPromptsErrors:[],currentSuggestionDivision:s.initializeSuggestionDivision(),postSuggestionStatus:0,pickJournalCalenderDateStatus:0,pickNonJournalCalenderDateStatus:0},s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.activateUserMenu(1)}},{key:"componentWillUnmount",value:function(){this.props.disableMenu()}},{key:"render",value:function(){var e=this,t=[];for(var a in this.state.journalPromptsErrors)t.push(this.state.journalPromptsErrors[a].text);return 0===t.length&&t.push("Unknown!"),Object(G.jsx)("div",{className:"contentPages",children:Object(G.jsx)("div",{className:"container",children:Object(G.jsx)("div",{className:"row m-1 my-5",children:Object(G.jsx)("div",{className:"col m-1",children:Object(G.jsxs)(u.c,{children:[Object(G.jsx)(u.a,{path:this.props.match.url+"/journalWrite",component:function(){return Object(G.jsx)(dt,{refreshToken:e.props.refreshToken,currentDate:e.props.currentDate,promptList:e.props.journalValidPrompts,nonJournalPromptsDone:e.props.validNonJournalDates,journalPromptsDone:e.props.validJournalDates,journalScanPromptsDone:e.props.validJournalScanDates,currentUser:e.props.currentUser})}}),Object(G.jsx)(u.a,{path:this.props.match.url+"/journalRead",component:function(){return Object(G.jsx)(Qe,{currentDate:e.state.selectedJournalDate,viewJournalData:e.state.viewJournalData,viewNonJournalData:e.state.viewNonJournalData,validNonJournalDates:e.props.validNonJournalDates,validJournalDates:e.props.validJournalDates,validJournalScanDates:e.props.validJournalScanDates,pickDate:e.pickJournalCalenderDate,selectedJournalViewDiv:e.state.selectedJournalViewDiv,changeSelectedJournalViewDiv:e.changeSelectedJournalViewDiv,journalViewErrors:e.state.journalViewErrors,nonJournalViewErrors:e.state.nonJournalViewErrors,pickJournalCalenderDateStatus:e.state.pickJournalCalenderDateStatus,pickNonJournalCalenderDateStatus:e.state.pickNonJournalCalenderDateStatus})}}),Object(G.jsx)(u.a,{path:this.props.match.url+"/writeSuggestion",component:function(){return Object(G.jsx)(Ue,{userLoadedCompanyList:e.props.userLoadedCompanyList,lastRequestStatus:e.props.lastGovernedCompanyRequestStatus,setSuggestionDivision:e.setSuggestionDivision,currentDivisionID:e.state.currentSuggestionDivision,onChange:e.changeSuggestionContent,editorState:e.state.suggestionEditorState,saveToServer:e.postSuggestion,suggestionErrors:e.state.suggestionErrors,postSuggestionStatus:e.state.postSuggestionStatus})}}),Object(G.jsx)(u.a,{path:this.props.match.url+"/userPermissions",component:function(){return Object(G.jsx)(Me,{currentUser:e.props.currentUser,userLoadedCompanyList:e.props.userLoadedCompanyList,triggerRefresh:e.props.loadCompanyData,refreshToken:e.props.refreshToken})}}),Object(G.jsx)(u.a,{path:this.props.match.url+"/userSecurity",component:function(){return Object(G.jsx)(ut,{refreshToken:e.props.refreshToken})}}),Object(G.jsx)(u.a,{path:this.props.match.url+"/userInvite",component:function(){return Object(G.jsx)(bt,{triggerRefresh:e.props.loadCompanyData,refreshToken:e.props.refreshToken})}}),Object(G.jsx)(u.a,{path:this.props.match.url+"/userWeb",component:function(){return Object(G.jsx)(ft,{triggerRefresh:e.props.loadCompanyData,refreshToken:e.props.refreshToken,validUserWebDates:e.props.validUserWebDates})}}),Object(G.jsx)(u.a,{path:this.props.match.url+"/userSyncSettings",component:function(){return Object(G.jsx)(vt,{refreshToken:e.props.refreshToken})}}),Object(G.jsx)(u.a,{path:this.props.match.url+"/",component:function(){return Object(G.jsx)(Nt,{})}})]})})})})})}}]),a}(r.a.Component),yt=Object(u.f)(St),Dt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).onToggle=function(t){t.preventDefault(),e.props.onToggle(e.props.value)},e}return Object(o.a)(a,[{key:"render",value:function(){var e="btn btn-outline-primary";return this.props.active&&(e+=" active"),Object(G.jsx)("button",{className:e,onClick:this.onToggle,children:this.props.label})}}]),a}(r.a.Component),wt=[{label:"Max",value:0,dayLength:0,weekLength:0},{label:"1Year",value:1,dayLength:365,weekLength:52},{label:"6Months",value:2,dayLength:183,weekLength:28},{label:"3Months",value:3,dayLength:63,weekLength:13},{label:"1Months",value:4,dayLength:31,weekLength:4},{label:"1Week",value:5,dayLength:7,weekLength:1}],Ct=function(e){var t=e.graphState;return Object(G.jsx)("div",{className:"EHIControls",children:wt.map((function(a){return Object(G.jsx)(Dt,{active:t===a.value,label:a.label,onToggle:e.onToggle,value:a.value},a.label)}))})},kt=Object(u.f)((function(e){var t=e.timeIndex,a=[],s=[];for(var r in e.EHIData)s.push({name:r,value:r});0===s.length&&s.push({name:"No Prompts!",value:"none"});var n=e.EHIselectedPrompt,i=e.EHIselectedTimescale,c=[];if(void 0!==e.EHIData[n]){for(var o in e.EHIData[n])a.push({name:o,value:o});void 0!==e.EHIData[n][i]&&(c=e.EHIData[n][i])}0===a.length&&a.push({name:"Nothing to select!",value:"none"});var l=[],d=[],h={scales:{yAxes:[{ticks:{beginAtZero:!0}}]}},u=W([],[[]]);if(void 0!==c){for(var j in c)l.push(j),d.push(c[j]);var m=wt[t].dayLength;0===m&&(m=l.length);var b=l.slice(-m),p={label:"EHI index",data:d.slice(-m)};u=W(b,[p])}return Object(G.jsx)("div",{className:"EHIDisplay",children:Object(G.jsxs)("div",{className:"container-fluid",children:[Object(G.jsx)("div",{className:"row m-1",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"card shadow",children:[Object(G.jsx)("div",{className:"card-header",children:"EHI Controls V1"}),Object(G.jsxs)("div",{className:"card-body",children:[Object(G.jsx)("div",{className:"row m-2",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)(Be.a,{toggle:!0,children:s.map((function(t,a){return Object(G.jsx)(Ge.a,{type:"radio",variant:"primary",name:"radio",value:t.value,checked:n===t.value,onChange:e.EHISetPrompt,children:t.name},a)}))})})}),Object(G.jsx)("div",{className:"row m-2",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)(Be.a,{toggle:!0,children:a.map((function(t,a){return Object(G.jsx)(Ge.a,{type:"radio",variant:"secondary",name:"radio",value:t.value,checked:i===t.value,onChange:e.EHISetTimescale,children:t.name},a)}))})})})]})]})})}),Object(G.jsx)("div",{className:"row m-1",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"card shadow",children:[Object(G.jsxs)("div",{className:"card-header",children:[Object(G.jsx)("div",{children:Object(G.jsx)("i",{children:Object(G.jsx)("b",{children:"Employee Health Index:"})})}),Object(G.jsxs)("div",{children:["Prompt: ",n]}),Object(G.jsxs)("div",{children:["Scale: ",i]})]}),Object(G.jsxs)("div",{className:"card-body",children:[Object(G.jsx)(He.Line,{data:u,options:h}),Object(G.jsx)(Ct,{graphState:t,onToggle:e.EHITimeToggle})]})]})})})]})})})),Et=["Invalid","Admin","Allowed to View","Governed User"],Pt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).tiggerReload=function(){s.getDivisionData(),s.getDivisionsInvites()},s.getFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return void s.props.refreshToken(s.getDivisionData);2===e.action||3===e.action||4===e.action||e.action}t=e.messages,s.setState({getDivisionDataError:t,getDivisionDataStatus:3})},s.getSuccess=function(e){s.setState({companyFullName:e.fullPathName,divisionName:e.divisionName,inviteCode:e.inviteCode,getDivisionDataStatus:2})},s.getDivisionData=function(){if(s.props.currentDivisionID>=0){E(s.props.currentDivisionID,s.getSuccess,s.getFailure),s.setState({getDivisionDataStatus:1})}},s.getInvitesFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return void s.props.refreshToken(s.getDivisionsInvites);2===e.action||3===e.action||4===e.action||e.action}t=e.messages,s.setState({getInvitesStatus:3,getInvitesError:t})},s.getInvitesSuccess=function(e){var t=[],a=[];for(var r in e)2===e[r].whoIsOrigin?a.push(e[r]):1===e[r].whoIsOrigin&&t.push(e[r]);s.setState({invitePendingList:a,inviteActiveList:t,getInvitesStatus:2})},s.getDivisionsInvites=function(){if(s.props.currentDivisionID>=0){!function(e,t,a){var s={headers:{Authorization:"JWT ".concat(O)}};x.get("/api/getDivisionInvites?reqDiv="+e,s).then((function(e){var a=e.data;t(a)})).catch((function(e){var t=y(e);a(t)}))}(s.props.currentDivisionID,s.getInvitesSuccess,s.getInvitesFailure),s.setState({getInvitesStatus:1})}},s.inviteFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return void s.props.refreshToken(s.tokenHasRefreshed);2===e.action||3===e.action||4===e.action||e.action}t=e.messages,s.setState({createInvitesStatus:3,createInvitesError:t})},s.inviteSuccess=function(e){console.log("Create Invite Success"),console.log(e),s.setState({createInvitesStatus:2})},s.inviteUser=function(e){!function(e,t,a,s,r){var n={headers:{Authorization:"JWT ".concat(O)}},i={reqDiv:e,targetUser:t,targetAction:a};x.post("/api/createDivisionInvite/",i,n).then((function(e){var t=e.data;s(t)})).catch((function(e){var t=y(e);r(t)}))}(s.props.currentDivisionID,s.state.targetUser,s.state.targetRole,s.inviteSuccess,s.inviteFailure),s.setState({createInvitesStatus:1})},s.spendInviteFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return void s.props.refreshToken(s.tokenHasRefreshed);2===e.action||3===e.action||4===e.action||e.action}t=e.messages,s.setState({useInvitesStatus:3,useInvitesError:t}),s.getDivisionsInvites()},s.spendInviteSuccessYes=function(e){s.tiggerReload(),s.setState({successType:0,useInvitesStatus:2})},s.inviteYes=function(e){console.log("Accept");var t=e.target.value;k(s.props.currentDivisionID,t,1,s.spendInviteSuccessYes,s.spendInviteFailure),s.setState({successType:-1,useInvitesStatus:1})},s.spendInviteSuccessNo=function(e){s.tiggerReload(),s.setState({successType:1,useInvitesStatus:2})},s.inviteNo=function(e){console.log("Deny");var t=e.target.value;k(s.props.currentDivisionID,t,0,s.spendInviteSuccessNo,s.spendInviteFailure),s.setState({successType:-1,useInvitesStatus:1})},s.userFieldChange=function(e){s.setState({targetUser:e.target.value})},s.triggerDropdown=function(e){s.setState({targetRole:e.target.value})},s.tokenHasRefreshed=function(){console.log("Show a 'try again' here")},s.state={inviteCode:"No Data",targetUser:"",targetRole:"",invitePendingList:[],inviteActiveList:[],companyFullName:"No Data",divisionName:"No Data",getDivisionDataStatus:0,getDivisionDataError:[],getInvitesStatus:0,getInvitesError:[],createInvitesStatus:0,createInvitesError:[],useInvitesStatus:0,useInvitesError:[],successType:-1},s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.tiggerReload()}},{key:"render",value:function(){var e=[];for(var t in this.state.invitePendingList){e.push(Object(G.jsxs)("li",{className:"list-group-item d-flex justify-content-around",children:[Object(G.jsx)("div",{className:"col",children:this.state.invitePendingList[t].inviteDivision}),Object(G.jsx)("div",{className:"col",children:Et[this.state.invitePendingList[t].targetRole]}),Object(G.jsx)("div",{className:"col-2",children:Object(G.jsx)("button",{className:"badge badge-success badge-pill",value:this.state.invitePendingList[t].id,onClick:this.inviteYes,children:"/"})}),Object(G.jsx)("div",{className:"col-1",children:Object(G.jsx)("button",{className:"badge badge-danger badge-pill",value:this.state.invitePendingList[t].id,onClick:this.inviteNo,children:"X"})})]},t))}0===e.length&&e.push(Object(G.jsx)("li",{className:"list-group-item",children:"No Pending Invites!"},0));var a=[];for(var s in this.state.inviteActiveList){a.push(Object(G.jsxs)("li",{className:"list-group-item d-flex justify-content-around",children:[Object(G.jsx)("div",{className:"col",children:this.state.inviteActiveList[s].inviteDivision}),Object(G.jsx)("div",{className:"col",children:Et[this.state.inviteActiveList[s].targetRole]}),Object(G.jsx)("div",{className:"col-2",children:Object(G.jsx)("button",{className:"badge badge-success badge-pill",value:this.state.inviteActiveList[s].id,onClick:this.inviteYes,children:"/"})}),Object(G.jsx)("div",{className:"col-1",children:Object(G.jsx)("button",{className:"badge badge-danger badge-pill",value:this.state.inviteActiveList[s].id,onClick:this.inviteNo,children:"X"})})]},s))}0===a.length&&a.push(Object(G.jsx)("li",{className:"list-group-item",children:"No Invites!"},0));var r="Select Role =>";""!==this.state.targetRole&&(r=Et[this.state.targetRole]);var n=1===this.state.getDivisionDataStatus||1===this.state.getInvitesStatus||1===this.state.useInvitesStatus||2===this.state.createInvitesStatus,i=2===this.state.useInvitesStatus&&0===this.state.successType,c=2===this.state.useInvitesStatus&&1===this.state.successType,o=2===this.state.createInvitesStatus,l=3===this.state.getDivisionDataStatus||3===this.state.getInvitesStatus||3===this.state.useInvitesStatus||3===this.state.createInvitesStatus,d=[];for(var h in this.state.getDivisionDataError)d.push(this.state.getDivisionDataError[h].text);for(var u in this.state.getInvitesError)d.push(this.state.getInvitesError[u].text);for(var m in this.state.createInvitesError)d.push(this.state.createInvitesError[m].text);for(var b in this.state.useInvitesError)d.push(this.state.useInvitesError[b].text);return 0===d.length&&d.push("Unknown!"),Object(G.jsx)("div",{className:"companySett",children:Object(G.jsxs)("div",{className:"container-fluid",children:[Object(G.jsxs)("div",{className:"row",children:[Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"card shadow",children:[Object(G.jsx)("div",{className:"card-header",children:Object(G.jsx)("h5",{children:"Invites for this division:"})}),Object(G.jsx)("div",{className:"card-body",children:this.state.companyFullName})]})}),Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"card shadow",children:[Object(G.jsx)("div",{className:"card-header",children:Object(G.jsx)("h5",{children:"Invite Code"})}),Object(G.jsx)("div",{className:"card-body",children:this.state.inviteCode})]})})]}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col-md-12 col-lg",children:Object(G.jsxs)("div",{className:"card shadow",children:[Object(G.jsx)("div",{className:"card-header",children:Object(G.jsx)("h5",{children:"Pending Invites List"})}),Object(G.jsx)("div",{className:"card-body",children:Object(G.jsxs)("ul",{className:"list-group",children:[Object(G.jsx)("li",{className:"list-group-item",children:Object(G.jsxs)("div",{className:"row",children:[Object(G.jsx)("div",{className:"col-1"}),Object(G.jsx)("div",{className:"col alignOverride",children:Object(G.jsx)("u",{children:"User Name"})}),Object(G.jsx)("div",{className:"col alignOverride",children:Object(G.jsx)("u",{children:"Target Role"})}),Object(G.jsx)("div",{className:"col-2"}),Object(G.jsx)("div",{className:"col-1"})]})},-1),e]})})]})})}),Object(G.jsxs)("div",{className:"row",children:[Object(G.jsx)("div",{className:"col-md-12 col-lg",children:Object(G.jsxs)("div",{className:"card shadow",children:[Object(G.jsx)("div",{className:"card-header",children:Object(G.jsx)("h5",{children:"Invites List"})}),Object(G.jsx)("div",{className:"card-body",children:Object(G.jsxs)("ul",{className:"list-group",children:[Object(G.jsx)("li",{className:"list-group-item",children:Object(G.jsxs)("div",{className:"row",children:[Object(G.jsx)("div",{className:"col-1"}),Object(G.jsx)("div",{className:"col alignOverride",children:Object(G.jsx)("u",{children:"User Name"})}),Object(G.jsx)("div",{className:"col alignOverride",children:Object(G.jsx)("u",{children:"Target Role"})}),Object(G.jsx)("div",{className:"col-2"}),Object(G.jsx)("div",{className:"col-1"})]})},-1),a]})})]})}),Object(G.jsx)("div",{className:"col-md-12 col-lg",children:Object(G.jsxs)("div",{className:"card shadow",children:[Object(G.jsx)("div",{className:"card-header",children:Object(G.jsx)("h5",{children:"Invite User"})}),Object(G.jsxs)("div",{className:"card-body",children:[Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("input",{type:"text",className:"form-control",value:this.state.targetUser,onChange:this.userFieldChange,placeholder:"Enter Username or Email"})})}),Object(G.jsxs)("div",{className:"row",children:[Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"dropdown",children:[Object(G.jsx)("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:r}),Object(G.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuLink",children:[Object(G.jsx)("button",{className:"dropdown-item",value:"1",onClick:this.triggerDropdown,children:"Admin"}),Object(G.jsx)("button",{className:"dropdown-item",value:"2",onClick:this.triggerDropdown,children:"Allowed to View"}),Object(G.jsx)("button",{className:"dropdown-item",value:"3",onClick:this.triggerDropdown,children:"Governed User"})]})]})}),Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("button",{className:"btn btn-primary",onClick:this.inviteUser,children:"Invite"})})]})]})]})})]}),Object(G.jsxs)(j.a,{show:n,variant:"warning",children:[Object(G.jsx)(j.a.Heading,{children:"Waiting"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"Waiting for server response..."}),Object(G.jsx)("hr",{})]}),Object(G.jsxs)(j.a,{show:i,variant:"success",children:[Object(G.jsx)(j.a.Heading,{children:"Success!"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"Successfully Accepted Invite!"}),Object(G.jsx)("hr",{})]}),Object(G.jsxs)(j.a,{show:c,variant:"success",children:[Object(G.jsx)(j.a.Heading,{children:"Success!"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"Successfully Rejected Invite!"}),Object(G.jsx)("hr",{})]}),Object(G.jsxs)(j.a,{show:o,variant:"success",children:[Object(G.jsx)(j.a.Heading,{children:"Success!"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"Successfully Sent Invite!"}),Object(G.jsx)("hr",{})]}),Object(G.jsxs)(j.a,{show:l,variant:"danger",children:[Object(G.jsx)(j.a.Heading,{children:"Error!"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"Failed with general error!"}),Object(G.jsx)("hr",{})]})]})})}}]),a}(r.a.Component),Tt=Object(u.f)(Pt),It=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).tiggerReload=function(){s.getDivisionData()},s.getFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return void s.props.refreshToken(s.getDivisionData);2===e.action||3===e.action||4===e.action||e.action}t=e.messages,s.setState({getPermissionsStatus:3,getPermissionsError:t})},s.getSuccess=function(e){s.setState({companyFullName:e.fullPathName,divisionName:e.divisionName,numChild:e.getNumChildUsers,admins:e.adminAccountNames,views:e.privateViewingNames,sends:e.resultsSendTargetsNames,governs:e.governedUsersNames,adminsIDs:e.adminAccounts,viewsIDs:e.privateViewingPerms,sendsIDs:e.resultsSendTargets,governsIDs:e.governedUsers,delAdmins:[],delViews:[],delSends:[],delGoverns:[],getPermissionsStatus:2})},s.getDivisionData=function(){if(s.props.currentDivisionID>=0){E(s.props.currentDivisionID,s.getSuccess,s.getFailure),s.setState({getPermissionsStatus:1})}},s.setFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return void s.props.refreshToken(s.saveChanges);2===e.action||3===e.action||4===e.action||e.action}t=e.messages,s.setState({setPermissionsStatus:3,setPermissionsError:t})},s.setSuccess=function(e){console.log("Set Data Success"),console.log(e),s.props.triggerRefresh(),s.setState({setPermissionsStatus:2})},s.saveChanges=function(){var e={reqDiv:s.props.currentDivisionID,chName:"",delAdmins:s.state.delAdmins,delViews:s.state.delViews,delEmails:s.state.delSends,delGovern:s.state.delGoverns};P(e,s.setSuccess,s.setFailure),s.setState({setPermissionsStatus:1})},s.toggleDelete=function(e){var t=e.target.value.split(","),a=Number(t[0]),r=Number(t[1]),n="No Name!",i=[],c=[],o=[],l=[];switch(e.target.name){case"adm":i.push(r),n=s.state.admins[a];break;case"vie":c.push(r),n=s.state.views[a];break;case"sen":o.push(r),n=s.state.sends[a];break;case"gov":l.push(r),n=s.state.governs[a];break;default:console.log("Failed to have the correct name")}s.setState({delAdmins:i,delViews:c,delSends:o,delGoverns:l,selectedName:n})},s.state={companyFullName:"No Data",divisionName:"No Data",adminsIDs:[],viewsIDs:[],sendsIDs:[],governsIDs:[],admins:[],views:[],sends:[],governs:[],delAdmins:[],delViews:[],delSends:[],delGoverns:[],numChild:0,getPermissionsStatus:0,getPermissionsError:[],setPermissionsStatus:0,setPermissionsError:[]},s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.tiggerReload()}},{key:"render",value:function(){var e=[];for(var t in this.state.admins){var a="";this.state.delAdmins.indexOf(this.state.adminsIDs[t])>=0&&(a="bg-warning"),e.push(Object(G.jsx)("li",{className:"list-group-item d-flex justify-content-around"+a,children:this.state.admins[t]},t))}0===this.state.admins.length&&e.push(Object(G.jsx)("li",{className:"list-group-item",children:"No Users!"},0));var s=[];for(var r in this.state.views){var n="";this.state.delViews.indexOf(this.state.viewsIDs[r])>=0&&(n="bg-warning"),s.push(Object(G.jsxs)("li",{className:"list-group-item d-flex justify-content-around "+n,children:[this.state.views[r],Object(G.jsx)("button",{className:"badge badge-danger badge-pill",name:"vie",value:[r,this.state.viewsIDs[r]],"data-toggle":"modal","data-target":"#deleteConfirm",onClick:this.toggleDelete,children:"X"})]},r))}0===this.state.views.length&&s.push(Object(G.jsx)("li",{className:"list-group-item",children:"No Users!"},0));var i=[];for(var c in this.state.sends){var o="";this.state.delSends.indexOf(this.state.sendsIDs[c])>=0&&(o="bg-warning"),i.push(Object(G.jsx)("li",{className:"list-group-item d-flex justify-content-around "+o,children:this.state.sends[c]},c))}0===this.state.sends.length&&i.push(Object(G.jsx)("li",{className:"list-group-item",children:"No Users!"},0));var l=[];for(var d in this.state.governs){var h="";this.state.delGoverns.indexOf(this.state.governsIDs[d])>=0&&(h="bg-warning"),l.push(Object(G.jsxs)("li",{className:"list-group-item d-flex justify-content-around "+h,children:[this.state.governs[d],Object(G.jsx)("button",{className:"badge badge-danger badge-pill",name:"gov",value:[d,this.state.governsIDs[d]],"data-toggle":"modal","data-target":"#deleteConfirm",onClick:this.toggleDelete,children:"X"})]},d))}0===this.state.governs.length&&l.push(Object(G.jsx)("li",{className:"list-group-item",children:"No Users!"},0)),l.push(Object(G.jsxs)("li",{className:"list-group-item",children:["And ",this.state.numChild," others in child nodes"]},"end"));var u=1===this.state.setPermissionsStatus||1===this.state.getPermissionsStatus,m=2===this.state.setPermissionsStatus,b=3===this.state.setPermissionsStatus||3===this.state.getPermissionsStatus,p=[];for(var v in this.state.getPermissionsError)p.push(this.state.getPermissionsError[v].text);for(var g in this.state.getPermissionsError)p.push(this.state.getPermissionsError[g].text);return 0===p.length&&p.push("Unknown!"),Object(G.jsx)("div",{className:"companySett",children:Object(G.jsxs)("div",{className:"container-fluid",children:[Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"card shadow",children:[Object(G.jsx)("div",{className:"card-header",children:Object(G.jsx)("h5",{children:"Changing Permissions for:"})}),Object(G.jsx)("div",{className:"card-body",children:this.state.companyFullName})]})})}),Object(G.jsxs)("div",{className:"row",children:[Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"card shadow",children:[Object(G.jsx)("div",{className:"card-header",children:Object(G.jsx)("h5",{children:"Administrators"})}),Object(G.jsx)("div",{className:"card-body",children:e})]})}),Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"card shadow",children:[Object(G.jsx)("div",{className:"card-header",children:Object(G.jsx)("h5",{children:"Viewing Privilages:"})}),Object(G.jsx)("div",{className:"card-body",children:Object(G.jsx)("ul",{children:s})})]})})]}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"card shadow",children:[Object(G.jsx)("div",{className:"card-header",children:Object(G.jsx)("h5",{children:"Target Users:"})}),Object(G.jsx)("div",{className:"card-body",children:Object(G.jsx)("ul",{children:l})})]})})}),Object(G.jsxs)(j.a,{show:u,variant:"warning",children:[Object(G.jsx)(j.a.Heading,{children:"Waiting"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"Waiting for server response..."}),Object(G.jsx)("hr",{})]}),Object(G.jsxs)(j.a,{show:m,variant:"success",children:[Object(G.jsx)(j.a.Heading,{children:"Success!"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"Successfull!"}),Object(G.jsx)("hr",{})]}),Object(G.jsxs)(j.a,{show:b,variant:"danger",children:[Object(G.jsx)(j.a.Heading,{children:"Error!"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:p}),Object(G.jsx)("hr",{})]}),Object(G.jsx)("div",{className:"modal fade",id:"deleteConfirm",tabIndex:"-1",role:"dialog","aria-labelledby":"deleteConfirmation","aria-hidden":"true",children:Object(G.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:Object(G.jsxs)("div",{className:"modal-content",children:[Object(G.jsxs)("div",{className:"modal-header",children:[Object(G.jsx)("h5",{className:"modal-title",id:"deleteTitleConfirm",children:"Delete Confirmation"}),Object(G.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(G.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(G.jsxs)("div",{className:"modal-body",children:[Object(G.jsx)("div",{children:"Are you SURE you want to revoke permission for:"}),Object(G.jsxs)("div",{children:[this.state.selectedName,"?"]}),Object(G.jsx)("div",{children:"You will need to reinvite the user!"})]}),Object(G.jsxs)("div",{className:"modal-footer",children:[Object(G.jsx)("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal",onClick:this.saveChanges,children:"Yes"}),Object(G.jsx)("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal",children:"No"})]})]})})})]})})}}]),a}(r.a.Component),Ft=Object(u.f)(It),Lt=["Public","Private","Governed Users"],Wt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).tiggerReload=function(){s.getDivisionData()},s.getFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return void s.props.refreshToken(s.getDivisionData);2===e.action||3===e.action||4===e.action||e.action}t=e.messages,s.setState({getSettingsStatus:3,getSettingsError:t})},s.getSuccess=function(e){s.setState({companyFullName:e.fullPathName,divisionName:e.divisionName,expiryDate:e.getCompanyExpiryDate,viewPerms:e.summaryViewAccess,getSettingsStatus:2})},s.getDivisionData=function(){if(s.props.currentDivisionID>=0){E(s.props.currentDivisionID,s.getSuccess,s.getFailure),s.setState({getSettingsStatus:1})}},s.setFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return void s.props.refreshToken(s.saveChanges);2===e.action||3===e.action||4===e.action||e.action}t=e.messages,s.setState({saveChangesStatus:3,saveChangesError:t})},s.setSuccess=function(e){console.log("Set Data Success"),console.log(e),s.props.triggerRefresh(),s.setState({saveChangesStatus:2})},s.saveChanges=function(){var e={reqDiv:s.props.currentDivisionID,chName:""};P(e,s.setSuccess,s.setFailure),s.setState({saveChangesStatus:1})},s.divisionFieldChange=function(e){s.setState({divisionName:e.target.value})},s.triggerDropdown=function(e){s.setState({viewPerms:e.target.name})},s.state={newViewPerms:0,viewPerms:-1,expiryDate:"No Data",companyFullName:"No Data",divisionName:"No Data",getSettingsStatus:0,getSettingsError:[],saveChangesStatus:0,saveChangesError:[]},s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.tiggerReload()}},{key:"render",value:function(){var e=1===this.state.getSettingsStatus,t=3===this.state.getSettingsStatus,a=[];for(var s in this.state.getSettingsError)a.push(this.state.getSettingsError[s].text);return 0===a.length&&a.push("Unknown!"),Object(G.jsx)("div",{className:"companySett",children:Object(G.jsxs)("div",{className:"container-fluid",children:[Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"card shadow",children:[Object(G.jsx)("div",{className:"card-header",children:Object(G.jsx)("h5",{children:"Full Company Path"})}),Object(G.jsx)("div",{className:"card-body",children:this.state.companyFullName})]})})}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"card shadow",children:[Object(G.jsx)("div",{className:"card-header",children:Object(G.jsx)("h5",{children:"Change Division Name"})}),Object(G.jsx)("div",{className:"card-body",children:Object(G.jsx)("div",{children:Object(G.jsx)("input",{type:"text",className:"form-control",value:this.state.divisionName,onChange:this.divisionFieldChange,placeholder:"No Name?!"})})})]})})}),Object(G.jsxs)("div",{className:"row",children:[Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"card shadow",children:[Object(G.jsx)("div",{className:"card-header",children:Object(G.jsx)("h5",{children:"Viewing Permissions"})}),Object(G.jsx)("div",{className:"card-body",children:Object(G.jsxs)("div",{className:"dropdown",children:[Object(G.jsx)("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:Lt[this.state.viewPerms]}),Object(G.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuLink",children:[Object(G.jsx)("button",{className:"dropdown-item",name:"0",onClick:this.triggerDropdown,children:"Public"}),Object(G.jsx)("button",{className:"dropdown-item",name:"1",onClick:this.triggerDropdown,children:"Private"}),Object(G.jsx)("button",{className:"dropdown-item",name:"2",onClick:this.triggerDropdown,children:"Governed Users"})]})]})})]})}),Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"card shadow",children:[Object(G.jsx)("div",{className:"card-header",children:Object(G.jsx)("h5",{children:"Subscription Expiry"})}),Object(G.jsx)("div",{className:"card-body d-inline-flex justify-content-around",children:this.state.expiryDate})]})})]}),Object(G.jsx)("button",{className:"btn btn-primary",onClick:this.saveChanges,disabled:!0,children:"Save Changes"}),Object(G.jsxs)(j.a,{show:e,variant:"warning",children:[Object(G.jsx)(j.a.Heading,{children:"Waiting"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"Waiting for server response..."}),Object(G.jsx)("hr",{})]}),Object(G.jsxs)(j.a,{show:!1,variant:"success",children:[Object(G.jsx)(j.a.Heading,{children:"Success!"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"Successfully obtained data!"}),Object(G.jsx)("hr",{})]}),Object(G.jsxs)(j.a,{show:t,variant:"danger",children:[Object(G.jsx)(j.a.Heading,{children:"Error!"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:a}),Object(G.jsx)("hr",{})]})]})})}}]),a}(r.a.Component),At=Object(u.f)(Wt),Ut=["Admin","Viewer","Governer"],Jt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={btnLen:2},s}return Object(o.a)(a,[{key:"render",value:function(){var e="",t="";this.props.activePage<=0&&(e="disabled"),this.props.activePage>=this.props.totalLoaded/this.props.numPerPage-1&&(t="disabled");for(var a=[],s=-this.state.btnLen;s<=this.state.btnLen;s++){var r="",n=s+this.props.activePage;n<0||n>=this.props.totalLoaded/this.props.numPerPage||(0===s&&(r="active "),a.push(Object(G.jsx)("button",{className:"btn btn-outline-primary "+r,value:n,onClick:this.props.changeToNum,children:n},s)))}return Object(G.jsx)("div",{className:"paginator",children:Object(G.jsx)("div",{className:"container",children:Object(G.jsx)("div",{className:"row",children:Object(G.jsxs)("div",{className:"col",children:[Object(G.jsx)("button",{className:"btn btn-outline-primary "+e,value:"bck",onClick:this.props.changePrevNext,children:"Prev"}),a,Object(G.jsx)("button",{className:"btn btn-outline-primary "+t,value:"fwd",onClick:this.props.changePrevNext,children:"Next"})]})})})})}}]),a}(r.a.Component),Mt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).initializeSubList=function(){var e=[];for(var t in s.props.userLoadedCompanyList){var a=-1;for(var r in s.props.userLoadedCompanyList[t].perm)0===s.props.userLoadedCompanyList[t].perm[r]?a=0:1===s.props.userLoadedCompanyList[t].perm[r]&&0!==a&&(a=1);a>=0&&a<4&&e.push([s.props.userLoadedCompanyList[t],a])}return e},s.getData=function(e){s.props.getDataRequest(s.props.userLoadedCompanyList[e.target.value])},s.changePageTo=function(e){var t=Number(e.target.value);s.setState({pageNum:t})},s.changePageFwdBck=function(e){var t=Number(s.state.pageNum);if("fwd"===e.target.value){if((t+=1)>s.props.subList.length/s.state.numPerPage)return}else if("bck"===e.target.value&&(t-=1)<0)return;s.setState({pageNum:t})},s.state={pageNum:0,numPerPage:10,numChooseLimit:5,subList:s.initializeSubList()},s}return Object(o.a)(a,[{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){for(var e=[],t=0;t<this.state.numPerPage;t++){var a=t+this.state.pageNum*this.state.numPerPage;a>this.state.subList.length||a<0||void 0!==this.state.subList[a]&&e.push(Object(G.jsxs)("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[Object(G.jsx)("div",{className:"col",children:this.state.subList[a][0].fullname}),Object(G.jsx)("div",{className:"col",children:Ut[this.state.subList[a][1]]}),Object(G.jsx)("div",{className:"col-2",children:Object(G.jsx)("button",{className:"btn btn-primary",value:a,onClick:this.getData,children:"GET!"})})]},t))}0===e.length&&e.push(Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:"Server Reported no valid Companies to select!"})},"0"));var s=1===this.props.getCompanyValidDatesStatus||1===this.props.getCompanyValidSuggestionDatesStatus||1===this.props.getCompanyEHIDataStatus,r=2===this.props.getCompanyValidDatesStatus||2===this.props.getCompanyValidSuggestionDatesStatus||2===this.props.getCompanyEHIDataStatus,n=3===this.props.getCompanyValidDatesStatus||3===this.props.getCompanyValidSuggestionDatesStatus||3===this.props.getCompanyEHIDataStatus,i=[];for(var c in this.props.getCompanyEHIDataError)i.push(this.props.getCompanyEHIDataError[c].text);for(var o in this.props.getCompanyValidSuggestionDatesError)i.push(this.props.getCompanyValidSuggestionDatesError[o].text);for(var l in this.props.getCompanyValidDatesError)i.push(this.props.getCompanyValidDatesError[l].text);return 0===i.length&&i.push("Unknown!"),Object(G.jsx)("div",{className:"testPages",children:Object(G.jsxs)("div",{className:"container-fluid",children:[Object(G.jsx)("div",{className:"row my-2",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"card shadow",children:[Object(G.jsx)("div",{className:"card-header",children:Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col my-2",children:Object(G.jsx)("h3",{children:"Your Company Divisions"})})})}),Object(G.jsxs)("div",{className:"card-body",children:[Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("ul",{className:"list-group",children:e})})}),Object(G.jsx)(Jt,{activePage:this.state.pageNum,changePrevNext:this.changePageFwdBck,changeToNum:this.changePageTo,totalLoaded:this.state.subList.length,numPerPage:this.state.numPerPage})]})]})})}),Object(G.jsxs)(j.a,{show:s,variant:"warning",children:[Object(G.jsx)(j.a.Heading,{children:"Waiting"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"Waiting for server response..."}),Object(G.jsx)("hr",{})]}),Object(G.jsxs)(j.a,{show:r,variant:"success",children:[Object(G.jsx)(j.a.Heading,{children:"Success!"}),Object(G.jsx)("hr",{}),Object(G.jsxs)("p",{children:["Division Data for ",this.props.currentDivisionName," is Ready!"]}),Object(G.jsx)("hr",{})]}),Object(G.jsxs)(j.a,{show:n,variant:"danger",children:[Object(G.jsx)(j.a.Heading,{children:"Error!"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"Failure to get the data!"}),Object(G.jsx)("hr",{})]})]})})}}]),a}(r.a.Component),Rt=Object(u.f)(Mt),Ht=Object(u.f)((function(e){var t=0,a=[];for(var s in e.dataSet)a.push(Object(G.jsx)("div",{className:"row m-2",children:Object(G.jsx)("div",{className:"col border",children:e.dataSet[s].content})},t)),t+=1;0===a.length&&(a.push(Object(G.jsx)("div",{className:"row m-2",children:Object(G.jsx)("div",{className:"col",children:"No data to show!"})},t)),t+=1),!1===e.dataDay&&(a=[Object(G.jsx)("div",{className:"row m-2",children:Object(G.jsx)("div",{className:"col",children:"No Day Selected!"})},t)]);var r=void 0;!1===e.currentDate&&(r=new Date);var n=1===e.getCompanySuggestionDataStatus,i=3===e.getCompanySuggestionDataStatus,c=[];for(var o in e.getCompanySuggestionDataError)c.push(e.getCompanySuggestionDataError[o].text);return 0===c.length&&c.push("Unknown!"),Object(G.jsx)("div",{className:"testPages",children:Object(G.jsxs)("div",{className:"container-fluid",children:[Object(G.jsxs)("div",{className:"row m-2",children:[Object(G.jsx)("div",{className:"col- m-2",children:Object(G.jsx)(Re.a,{className:"shadow",onChange:e.pickDate,value:r,tileClassName:function(t){var a=t.date;if("month"===t.view){var s=a.getFullYear()+"-"+a.getMonth()+"-"+a.getDate();if(e.validDays.find((function(e){return e===s})))return"btn btn-success"}},minDetail:"year",maxDetail:"month"})}),Object(G.jsx)("div",{className:"col-md-12 col-lg-6 m-2",children:Object(G.jsxs)("div",{className:"card shadow",children:[Object(G.jsx)("div",{className:"card-header",children:Object(G.jsxs)("div",{children:["Suggestions for Date: ",e.dataDay&&e.dataDay.toString()]})}),Object(G.jsx)("div",{className:"card-body",children:a})]})})]}),Object(G.jsxs)(j.a,{show:n,variant:"warning",children:[Object(G.jsx)(j.a.Heading,{children:"Waiting"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"Waiting for server response..."}),Object(G.jsx)("hr",{})]}),Object(G.jsxs)(j.a,{show:!1,variant:"success",children:[Object(G.jsx)(j.a.Heading,{children:"Success!"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"Successfully obtained data!"}),Object(G.jsx)("hr",{})]}),Object(G.jsxs)(j.a,{show:i,variant:"danger",children:[Object(G.jsx)(j.a.Heading,{children:"Error!"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:c}),Object(G.jsx)("hr",{})]})]})})})),Vt=a(550),Bt=[{name:"Emotion",value:"emotion"},{name:"Sentiment",value:"sentiment"},{name:"Entities",value:"entities"},{name:"Keywords",value:"keywords"}],Gt=["Daily","Weekly","Monthy","Annual"],qt=function(e){return[e.joy,e.anger,e.sadness,e.disgust,e.fear]},Kt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).changeSelected=function(e){s.setState({selected:e.target.id})},s.state={selected:"frequencyPercent"},s}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.dataSet.responsePurity,t=[];for(var a in this.props.givenPrompt.promptChoices)t.push(Object(G.jsx)("div",{children:a+": "+this.props.givenPrompt.promptChoices[a]},a));var s={},r=[];for(var n in this.props.dataSet.data){var i="outline-";if(this.state.selected===n)for(var c in i="",this.props.givenPrompt.promptChoices)c in this.props.dataSet.data[n]?s[c]=this.props.dataSet.data[n][c]:s[c]=0;r.push(Object(G.jsx)("div",{className:"btn btn-"+i+"primary",id:n,onClick:this.changeSelected,children:n},n))}var o=V(s),l={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:0}}]}};return Object(G.jsx)("div",{className:"MultiIteration",children:Object(G.jsxs)(X.a,{children:[Object(G.jsxs)(X.a.Toggle,{as:_.a.Header,variant:"link",eventKey:"0",children:[Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:this.props.givenPrompt.text})},"0"),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("div",{className:"progressBar",children:Object(G.jsx)(Vt.a,{now:e,label:"".concat(e,"% Response Rate")})})})},"1")]}),Object(G.jsx)(X.a.Collapse,{eventKey:"0",children:Object(G.jsx)(_.a,{children:Object(G.jsxs)(_.a.Body,{children:[r,Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)(He.Bar,{data:o,options:l})})}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:t})})]})})})]})})}}]),a}(r.a.Component),zt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).changeSelected=function(e){s.setState({selected:e.target.id})},s.state={selected:"frequencyPercent"},s}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.dataSet.responsePurity,t={},a=[],s=["Ext Dis","Dis","Neu","Agr","Ext Agr"];for(var r in this.props.dataSet.data){var n="outline-";if(this.state.selected===r)for(var i in n="",s)i in this.props.dataSet.data[r]?t[i]=this.props.dataSet.data[r][i]:t[i]=0;a.push(Object(G.jsx)("div",{className:"btn btn-"+n+"primary",id:r,onClick:this.changeSelected,children:r},r))}var c=V(t),o={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:0}}]}};return Object(G.jsx)("div",{className:"LikertIteration",children:Object(G.jsxs)(X.a,{children:[Object(G.jsxs)(X.a.Toggle,{as:_.a.Header,variant:"link",eventKey:"0",children:[Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:this.props.givenPrompt.text})},"0"),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("div",{className:"progressBar",children:Object(G.jsx)(Vt.a,{now:e,label:"".concat(e,"% Response Rate")})})})},"1")]}),Object(G.jsx)(X.a.Collapse,{eventKey:"0",children:Object(G.jsx)(_.a,{children:Object(G.jsxs)(_.a.Body,{children:[a,Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)(He.Bar,{data:c,options:o})})})]})})})]})})}}]),a}(r.a.Component),Yt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).changeSelected=function(e){s.setState({selected:e.target.id})},s.state={selected:"frequencyPercent"},s}return Object(o.a)(a,[{key:"render",value:function(){var e={},t=[];for(var a in this.props.dataSet.data){var s="outline-";if(this.state.selected===a){s="";for(var r=1;r<=10;r++)r in this.props.dataSet.data[a]?e[r]=this.props.dataSet.data[a][r]:e[r]=0}t.push(Object(G.jsx)("div",{className:"btn btn-"+s+"primary",id:a,onClick:this.changeSelected,children:a},a))}var n=this.props.dataSet.responsePurity,i=V(e),c={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:0}}]}};return Object(G.jsx)("div",{className:"RatingIteration",children:Object(G.jsxs)(X.a,{children:[Object(G.jsxs)(X.a.Toggle,{as:_.a.Header,variant:"link",eventKey:"0",children:[Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:this.props.givenPrompt.text})},"0"),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("div",{className:"progressBar",children:Object(G.jsx)(Vt.a,{now:n,label:"".concat(n,"% Response Rate")})})})},"1")]}),Object(G.jsx)(X.a.Collapse,{eventKey:"0",children:Object(G.jsx)(_.a,{children:Object(G.jsxs)(_.a.Body,{children:[t,Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)(He.Bar,{data:i,options:c})})})]})})})]})})}}]),a}(r.a.Component),Zt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).setAspect=function(e){s.setState({selectedAspect:e.currentTarget.value})},s.state={selectedAspect:"emotion"},s}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.props.dataSet.responsePurity;t<0&&(t=0);var a,s,r,n=this.props.dataSet.data[this.state.selectedAspect],i=[],c=[];if(null!==n&&void 0!==n)try{switch(this.state.selectedAspect){case"emotion":var o=qt(n.max),l=qt(n.ave),d=qt(n.min),h=U(o,l,d),u={scale:{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}},j=qt(n.threshold),m={labels:["Joy","Anger","Sadness","Disgust","Fear"],datasets:[{label:"# Above Threshold",data:j,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]},b={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}]}};i.push(Object(G.jsxs)(Ve.a,{bordered:!0,responsive:!0,children:[Object(G.jsx)("thead",{children:Object(G.jsxs)("tr",{children:[Object(G.jsx)("th",{scope:"col",children:"Emotion Data"}),Object(G.jsx)("th",{scope:"col",children:"Num Journals in data"})]})}),Object(G.jsx)("tbody",{children:Object(G.jsxs)("tr",{children:[Object(G.jsxs)("th",{scope:"row",children:[" ",Object(G.jsx)(He.Radar,{data:h,options:u})," "]}),Object(G.jsxs)("td",{children:[" ",Object(G.jsx)(He.Bar,{data:m,options:b})," "]})]},0)})]},"2"));break;case"sentiment":var p=J([n.min],[n.ave],[n.max]),v={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:-1,suggestedMax:1}}],xAxes:[{}]}},g=function(e){return{labels:["Positive","Negative"],datasets:[{label:"# Above Threshold",data:e,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]}}([n.thresholdPos,n.thresholdNeg]),x={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}]}};i.push(Object(G.jsxs)(Ve.a,{bordered:!0,responsive:!0,children:[Object(G.jsx)("thead",{children:Object(G.jsxs)("tr",{children:[Object(G.jsx)("th",{scope:"col",children:"Sentiment Values"}),Object(G.jsx)("th",{scope:"col",children:"Num Journals in data"})]})}),Object(G.jsx)("tbody",{children:Object(G.jsxs)("tr",{children:[Object(G.jsx)("th",{scope:"row",children:Object(G.jsx)(He.Bar,{data:p,options:v})}),Object(G.jsx)("td",{children:Object(G.jsx)(He.Bar,{data:g,options:x})})]},0)})]},"2"));break;case"entities":for(var O in n){var f=n[O],N=qt(f.emotion.max),S=qt(f.emotion.ave),y=qt(f.emotion.min),D=U(N,S,y),w={scale:{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}},C=(a=[f.confidence.min,f.relevance.min,f.sentiment.min],s=[f.confidence.ave,f.relevance.ave,f.sentiment.ave],r=[f.confidence.max,f.relevance.max,f.sentiment.max],{labels:["Confidence","Relevance","Sentiment"],datasets:[{label:"Minimum",data:a,backgroundColor:"rgb(255, 99, 132)"},{label:"Average",data:s,backgroundColor:"rgb(54, 162, 235)"},{label:"Maximum",data:r,backgroundColor:"rgb(75, 192, 192)"}]}),k={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:-1,suggestedMax:1}}],xAxes:[{}]}};c.push(Object(G.jsxs)("tr",{children:[Object(G.jsx)("th",{scope:"row",children:f.text}),Object(G.jsx)("td",{children:f.type}),Object(G.jsx)("td",{children:f.count}),Object(G.jsx)("td",{colSpan:"3",children:Object(G.jsx)(He.Bar,{data:C,options:k})}),Object(G.jsx)("td",{children:Object(G.jsx)(He.Radar,{data:D,options:w})})]},O))}0===c.length&&c.push(Object(G.jsx)("tr",{children:Object(G.jsx)("td",{colSpan:"7",children:'"Nothing!"'})},0)),i.push(Object(G.jsxs)(Ve.a,{bordered:!0,responsive:!0,children:[Object(G.jsx)("thead",{children:Object(G.jsxs)("tr",{children:[Object(G.jsx)("th",{scope:"col",children:"Name"}),Object(G.jsx)("th",{scope:"col",children:"Type"}),Object(G.jsx)("th",{scope:"col",children:"#Appearances"}),Object(G.jsx)("th",{scope:"col",children:"Confidence"}),Object(G.jsx)("th",{scope:"col",children:"Relevance"}),Object(G.jsx)("th",{scope:"col",children:"Sentiment"}),Object(G.jsx)("th",{scope:"col",children:"Emotion"})]})}),Object(G.jsx)("tbody",{children:c})]},"2"));break;case"keywords":for(var E in n){var P=n[E],T=qt(P.emotion.max),I=qt(P.emotion.ave),F=qt(P.emotion.min),L=U(T,I,F),W={scale:{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}},A=M([P.relevance.min,P.sentiment.min],[P.relevance.ave,P.sentiment.ave],[P.relevance.max,P.sentiment.max]),R={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:-1,suggestedMax:1}}],xAxes:[{}]}};c.push(Object(G.jsxs)("tr",{children:[Object(G.jsx)("th",{scope:"row",children:P.text}),Object(G.jsx)("td",{children:P.count}),Object(G.jsx)("td",{colSpan:"2",children:Object(G.jsx)(He.Bar,{data:A,options:R})}),Object(G.jsx)("td",{children:Object(G.jsx)(He.Radar,{data:L,options:W})})]},E))}0===c.length&&c.push(Object(G.jsx)("tr",{children:Object(G.jsx)("td",{colSpan:"5",children:'"Nothing!"'})},0)),i.push(Object(G.jsxs)(Ve.a,{bordered:!0,responsive:!0,children:[Object(G.jsx)("thead",{children:Object(G.jsxs)("tr",{children:[Object(G.jsx)("th",{scope:"col",children:"Name"}),Object(G.jsx)("th",{scope:"col",children:"#Appearances"}),Object(G.jsx)("th",{scope:"col",children:"Relevance Score"}),Object(G.jsx)("th",{scope:"col",children:"Sentiment"}),Object(G.jsx)("th",{scope:"col",children:"Emotion"})]})}),Object(G.jsx)("tbody",{children:c})]},"2"));break;case"relations":for(var H in n){var V=n[H],B=J([V.score.min],[V.score.ave],[V.score.max]),q={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}]}};c.push(Object(G.jsxs)("tr",{children:[Object(G.jsx)("th",{scope:"row",children:V.count}),Object(G.jsx)("td",{children:V.arguments[0].text}),Object(G.jsx)("td",{children:V.type}),Object(G.jsx)("td",{children:V.arguments[1].text}),Object(G.jsx)("td",{style:{width:"30%"},children:Object(G.jsx)(He.Bar,{data:B,options:q})})]},H))}0===c.length&&c.push(Object(G.jsx)("tr",{children:Object(G.jsx)("th",{scope:"row",children:'"Nothing!"'})},0)),i.push(Object(G.jsxs)(Ve.a,{bordered:!0,responsive:!0,children:[Object(G.jsx)("thead",{children:Object(G.jsxs)("tr",{children:[Object(G.jsx)("th",{scope:"col",children:"#Appearances"}),Object(G.jsx)("th",{scope:"col",children:"Actor"}),Object(G.jsx)("th",{scope:"col",children:"Action"}),Object(G.jsx)("th",{scope:"col",children:"Target"}),Object(G.jsx)("th",{scope:"col",children:"Score"})]})}),Object(G.jsx)("tbody",{children:c})]},"2"));break;default:console.log("Invalid AI selection somehow")}}catch(K){i.push(Object(G.jsx)("div",{className:"row m-2 border",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("p",{children:"There was no data to read!"})})},"2"))}else i.push(Object(G.jsx)("div",{className:"row m-2 border",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("p",{children:"There was no data to read!"})})},"2"));return Object(G.jsx)("div",{className:"JournalIteration",children:Object(G.jsxs)(X.a,{children:[Object(G.jsxs)(X.a.Toggle,{as:_.a.Header,variant:"link",eventKey:"0",children:[Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:this.props.givenPrompt.text})},"0"),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("div",{className:"progressBar",children:Object(G.jsx)(Vt.a,{now:t,label:"".concat(t,"% Response Rate")})})})},"1")]}),Object(G.jsx)(X.a.Collapse,{eventKey:"0",children:Object(G.jsx)(_.a,{children:Object(G.jsxs)(_.a.Body,{children:[Object(G.jsx)("div",{className:"row my-2",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)(Be.a,{toggle:!0,children:Bt.map((function(t,a){return Object(G.jsx)(Ge.a,{type:"radio",variant:"info",name:"radio",value:t.value,checked:e.state.selectedAspect===t.value,onChange:e.setAspect,children:t.name},a)}))})})}),Object(G.jsx)("hr",{}),i]})})})]})})}}]),a}(r.a.Component),Xt=Object(u.f)((function(e){var t=[],a=e.currentDate;if(void 0!==e.dataSet){a=e.dataSet.forDate;var s=0,r=function(a){var r=-1,n={text:"No Text!"};try{r=(n=e.dataSet.promptList.find((function(e){return e.identifier===a}))).promptType}catch(c){}var i="No Prompt!";switch(r){case 0:i=Object(G.jsx)(Zt,{givenPrompt:n,dataSet:e.dataSet.summaryResult[a]});break;case 1:i=Object(G.jsx)(zt,{givenPrompt:n,dataSet:e.dataSet.summaryResult[a]});break;case 2:i=Object(G.jsx)(Yt,{givenPrompt:n,dataSet:e.dataSet.summaryResult[a]});break;case 3:i=Object(G.jsx)(Kt,{givenPrompt:n,dataSet:e.dataSet.summaryResult[a]});break;default:i=i=Object(G.jsx)(Zt,{givenPrompt:{text:"No Prompt!"},dataSet:e.dataSet.summaryResult[a]})}t.push(Object(G.jsx)("div",{className:"row",children:Object(G.jsxs)("div",{className:"col",children:[Object(G.jsx)("div",{children:i}),Object(G.jsx)("hr",{})]})},s)),s+=1};for(var n in e.dataSet.summaryResult)r(n)}0===t.length&&t.push(Object(G.jsx)("div",{className:"row",children:Object(G.jsxs)("div",{className:"col",children:[Object(G.jsx)("div",{children:"No Data to Display!"}),Object(G.jsx)("hr",{})]})},0));var i="Showing Company Summary for: "+e.currentCompany,c="For Date: "+a,o="Summary Type: "+Gt[e.summaryType],l=1===e.getCompanyWeeklySummaryStatus,d=3===e.getCompanyWeeklySummaryStatus;l&&(i="Please Wait...",c="Loading",o="...");var h=[];for(var u in e.getCompanyWeeklySummaryError)h.push(e.getCompanyWeeklySummaryError[u].text);return 0===h.length&&h.push("Unknown!"),Object(G.jsx)("div",{className:"companyView",children:Object(G.jsxs)("div",{className:"container-fluid",children:[Object(G.jsx)("div",{className:"row m-2 justify-content-center",children:Object(G.jsx)("div",{className:"col- m-2",children:Object(G.jsx)("div",{children:Object(G.jsx)(Re.a,{className:"shadow",onChange:e.pickDate,value:e.currentDate,tileClassName:function(t){var a=t.date,s=t.view,r=!1,n=0,i=String(a.getFullYear()),c=String(a.getMonth()+1);c<10&&(c="0"+c);var o=String(a.getDate());o<10&&(o="0"+o);var l=i+"-"+c+"-"+o;if("month"===s)try{n=(r=e.validSummaryDates.day.find((function(e){return e.date===l}))).num}catch(d){}if(r)return n>0?"btn btn-success":"btn btn-warning"},minDetail:"year",maxDetail:"month"})})})}),Object(G.jsx)("div",{className:"row m-2",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"card shadow",children:[Object(G.jsxs)("div",{className:"card-header",children:[Object(G.jsx)("div",{children:i}),Object(G.jsx)("div",{children:c}),Object(G.jsx)("div",{children:o})]}),Object(G.jsx)("div",{className:"card-body",children:t})]})})}),Object(G.jsxs)(j.a,{show:l,variant:"warning",children:[Object(G.jsx)(j.a.Heading,{children:"Waiting"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"Waiting for server response..."}),Object(G.jsx)("hr",{})]}),Object(G.jsxs)(j.a,{show:!1,variant:"success",children:[Object(G.jsx)(j.a.Heading,{children:"Success!"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"Successfully obtained data!"}),Object(G.jsx)("hr",{})]}),Object(G.jsxs)(j.a,{show:d,variant:"danger",children:[Object(G.jsx)(j.a.Heading,{children:"Error!"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:h}),Object(G.jsx)("hr",{})]})]})})})),_t=a(545),Qt=["Never","Always","On Monday","On Tuesday","On Wednesday","On Thursday","On Friday","On Saturday","On Sunday"],$t=["Open","Likert","Rating","Multi","Boolean"],ea=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={btnLen:2},s}return Object(o.a)(a,[{key:"render",value:function(){var e="",t="";this.props.activePage<=0&&(e="disabled"),this.props.activePage>=this.props.totalLoaded/this.props.numPerPage-1&&(t="disabled");for(var a=[],s=-this.state.btnLen;s<=this.state.btnLen;s++){var r="",n=s+this.props.activePage;n<0||n>=this.props.totalLoaded/this.props.numPerPage||(0===s&&(r="active "),a.push(Object(G.jsx)("button",{className:"btn btn-outline-primary "+r,value:n,onClick:this.props.changeToNum,children:n},s)))}return Object(G.jsx)("div",{className:"paginator",children:Object(G.jsx)("div",{className:"container",children:Object(G.jsx)("div",{className:"row",children:Object(G.jsxs)("div",{className:"col",children:[Object(G.jsx)("button",{className:"btn btn-outline-primary "+e,value:"bck",onClick:this.props.changePrevNext,children:"Prev"}),a,Object(G.jsx)("button",{className:"btn btn-outline-primary "+t,value:"fwd",onClick:this.props.changePrevNext,children:"Next"})]})})})})}}]),a}(r.a.Component),ta=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).setLastClickedEvent=function(e){s.setState({lastClickedEventIndex:Number(e.target.value)})},s.getEventsFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return void s.props.refreshToken(s.getEvents);2===e.action||3===e.action||4===e.action||e.action}t=e.messages,s.setState({getEventsStatus:3,getEventsError:t})},s.getEventsSuccess=function(e){var t=[],a=[],r=[];for(var n in e)null===e[n].creatorCompany?t.push(e[n]):e[n].creatorDivision===s.props.currentDivisionID?(e[n].sharingEnabled||e[n].usedBy)&&r.push(e[n]):(e[n].sharingEnabled||e[n].usedBy)&&a.push(e[n]);s.setState({eventsGlobBin:t,eventsCompBin:a,eventsDivBin:r,getEventsStatus:2})},s.getEvents=function(){if(-1!==s.props.currentDivisionID){!function(e,t,a){var s={headers:{Authorization:"JWT ".concat(O)}};x.get("/api/getDivisionEvents/?reqDiv="+e,s).then((function(a){var s=a.data;for(var r in s){var n=!1;void 0!==s[r].usedBy.find((function(t){return t===Number(e)}))&&(n=!0),s[r].usedBy=n,s[r].fromServer=!0}t(s)})).catch((function(e){var t=y(e);a(t)}))}(s.props.currentDivisionID,s.getEventsSuccess,s.getEventsFailure),s.setState({getEventsStatus:1})}else console.log("MOVE IT BACK TO THE SELECT COMPANY HERE!")},s.saveEventsFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return void s.props.refreshToken(s.tokenHasRefreshedError);2===e.action||3===e.action||4===e.action||e.action}t=e.messages,s.setState({saveEventStatus:3,saveEventError:t})},s.saveEventsSuccess=function(e,t){if(!s.state.eventsDivBin[e].fromServer){var a=s.state.eventsDivBin.slice();a[e].id=Number(t.split(":")[1]),a[e].fromServer=!0,s.setState({eventsDivBin:a})}s.setState({saveEventStatus:2})},s.saveDivEvent=function(e){var t=s.state.eventsDivBin[e.target.value],a=t.id,r=t.triggerType,n=t.usedBy,i=t.sharingEnabled,c=[];for(var o in t.promptPool)c.push(t.promptPool[o].identifier);!function(e,t,a,s,r,n,i,c,o){var l={headers:{Authorization:"JWT ".concat(O)}},d={id:t,reqDiv:a,enabledDiv:s,sharingEnabled:r,triggerType:n,promptSet:i};x.post("/api/setDivisionEvents/",d,l).then((function(t){var a=t.data;c(e,a)})).catch((function(e){var t=y(e);o(t)}))}(Number(e.target.value),a,s.props.currentDivisionID,n,i,r,c,s.saveEventsSuccess,s.saveEventsFailure),s.setState({saveEventStatus:0})},s.saveNonDivEventsFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return void s.props.refreshToken(s.tokenHasRefreshedError);2===e.action||3===e.action||4===e.action||e.action}t=e.messages,s.setState({saveEventStatus:3,saveEventError:t})},s.saveNonDivEventsSuccess=function(e,t){s.setState({saveEventStatus:2})},s.saveGlobEvent=function(e){var t=s.state.eventsGlobBin[e.target.value],a=t.id,r=t.usedBy;I(Number(e.target.value),a,s.props.currentDivisionID,r,s.saveNonDivEventsSuccess,s.saveNonDivEventsFailure),s.setState({saveEventStatus:0})},s.saveCompEvent=function(e){var t=s.state.eventsCompBin[e.target.value],a=t.id,r=t.usedBy;I(Number(e.target.value),a,s.props.currentDivisionID,r,s.saveNonDivEventsSuccess,s.saveNonDivEventsFailure),s.setState({saveEventStatus:0})},s.searchForPromptsFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return void s.props.refreshToken(s.searchForPrompts);2===e.action||3===e.action||4===e.action||e.action}t=e.messages,s.setState({searchForStatus:3,searchForError:t})},s.searchForPromptsCallback=function(e){s.setState({promptsBin:e,hasSent:!0,searchForStatus:2})},s.searchForPrompts=function(){!function(e,t,a,s){var r={headers:{Authorization:"JWT ".concat(O)}};x.get("/api/searchPrompts/?queryText="+e+"&queryType="+t,r).then((function(e){var t=e.data;a(t)})).catch((function(e){var t=y(e);s(t)}))}(s.state.searchText,s.state.searchType,s.searchForPromptsCallback,s.searchForPromptsFailure),s.setState({searchForStatus:1})},s.deleteEventFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return void s.props.refreshToken(s.tokenHasRefreshedError);2===e.action||3===e.action||4===e.action||e.action}t=e.messages,s.setState({deleteEventStatus:3,deleteEventError:t})},s.deleteEventCallback=function(e,t){var a=Number(e),r=s.state.eventsDivBin.slice();r.splice(a,1),s.setState({eventsDivBin:r,deleteEventStatus:2})},s.deleteEvent=function(e){var t=s.state.eventsDivBin[Number(e.target.value)],a=t.id;t.fromServer?(!function(e,t,a,s,r){var n={headers:{Authorization:"JWT ".concat(O)}},i={id:t,reqDiv:a};x.post("/api/deleteDivisionEvents/",i,n).then((function(t){var a=t.data;s(e,a)})).catch((function(e){var t=y(e);r(t)}))}(Number(e.target.value),a,s.props.currentDivisionID,s.deleteEventCallback,s.deleteEventFailure),s.setState({deleteEventStatus:1})):s.deleteEventCallback(Number(e.target.value),"Not On The Server")},s.createEvent=function(){var e=s.state.eventsDivBin.slice();e.push({id:-1,triggerType:0,promptPool:[],sharingEnabled:!0,usedBy:!1,fromServer:!1}),s.setState({eventsDivBin:e})},s.changeInput=function(e){s.setState({searchText:e.target.value})},s.deleteEventPrompt=function(e){var t=Number(e.target.name),a=Number(e.target.value),r=s.state.eventsDivBin.slice();r[t].promptPool.splice(a,1),s.setState({eventsDivBin:r})},s.addingEventPrompt=function(e){var t=Number(e.target.value),a=s.state.lastClickedEventIndex;if(a>=0){var r=s.state.eventsDivBin.slice(),n=0;void 0===r[a].promptPool.find((function(e){return e.identifier===s.state.promptsBin[t].identifier}))?(r[a].promptPool.push(s.state.promptsBin[t]),n=1):n=2,s.setState({eventsDivBin:r,addedPrompt:n})}},s.changeTrigger=function(e){var t=e.target.name.split(","),a=s.state.eventsDivBin.slice();a[t[0]].triggerType=Number(t[1]),s.setState({eventsDivBin:a})},s.enabledGlobalFieldChange=function(e){var t=s.state.eventsGlobBin.slice();t[e.target.name].usedBy=!t[e.target.name].usedBy,s.setState({eventsGlobBin:t})},s.enabledCompanyFieldChange=function(e){var t=s.state.eventsCompBin.slice();t[e.target.name].usedBy=!t[e.target.name].usedBy,s.setState({eventsCompBin:t})},s.enabledDivisionFieldChange=function(e){var t=s.state.eventsDivBin.slice();t[e.target.name].usedBy=!t[e.target.name].usedBy,s.setState({eventsDivBin:t})},s.enabledDivisionFieldChangeSuper=function(e){var t=s.state.eventsDivBin.slice();t[e.target.name].sharingEnabled=!t[e.target.name].sharingEnabled,s.setState({eventsDivBin:t})},s.changePageTo=function(e){var t=Number(e.target.value);s.setState({pageNum:t})},s.changePageFwdBck=function(e){var t=Number(s.state.pageNum);if("fwd"===e.target.value){if((t+=1)>s.state.promptsBin.length/s.state.numPerPage)return}else if("bck"===e.target.value&&(t-=1)<0)return;s.setState({pageNum:t})},s.tokenHasRefreshedError=function(){console.log("Try again, the token needed to be refreshed...")},s.state={eventsGlobBin:[],eventsCompBin:[],eventsDivBin:[],promptsBin:[],pageNum:0,numPerPage:5,searchText:"",searchType:"text",hasSent:!1,lastClickedEventIndex:-1,addedPrompt:0,getEventsStatus:0,getEventsError:[],saveEventStatus:0,saveEventError:[],searchForStatus:0,searchForError:[],deleteEventStatus:0,deleteEventError:[]},s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.getEvents()}},{key:"render",value:function(){var e=this,t=1===this.state.getEventsStatus||1===this.state.saveEventStatus||1===this.state.deleteEventStatus,a=2===this.state.saveEventStatus||2===this.state.deleteEventStatus,s=3===this.state.getEventsStatus||3===this.state.saveEventStatus||3===this.state.deleteEventStatus,r=[];for(var n in this.state.getEventsError)r.push(this.state.getEventsError[n].text);for(var i in this.state.saveEventError)r.push(this.state.saveEventError[i].text);for(var c in this.state.deleteEventError)r.push(this.state.deleteEventError[c].text);for(var o in this.state.searchForError)r.push(this.state.searchForError[o].text);0===r.length&&r.push("Unknown!");var l=[],d=[];for(var h in this.state.eventsGlobBin){var u=this.state.eventsGlobBin[h];d.push(Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"card",children:[Object(G.jsx)("div",{className:"card-header"}),Object(G.jsxs)("div",{className:"card-body",children:[Object(G.jsx)("div",{className:"row",children:Object(G.jsxs)("div",{className:"col",children:["Trigger Type: ",Qt[u.triggerType]]})}),Object(G.jsx)("div",{className:"row m-1",children:Object(G.jsxs)("div",{className:"col",children:[Object(G.jsx)("b",{children:Object(G.jsx)("u",{children:Object(G.jsx)("i",{children:u.promptPool.length})})})," Prompts",Object(G.jsx)("button",{className:"btn btn-secondary mx-2","data-toggle":"modal","data-target":"#globPrompts"+h,children:"Show"})]})}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"custom-control custom-checkbox",children:[Object(G.jsx)("input",{type:"checkbox",className:"custom-control-input",id:"customCheckGlob"+h,name:h,value:u.usedBy,onChange:this.enabledGlobalFieldChange,checked:u.usedBy}),Object(G.jsx)("label",{className:"custom-control-label",htmlFor:"customCheckGlob"+h,children:"Enabled For This Division"})]})})}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"custom-control custom-checkbox",children:[Object(G.jsx)("input",{type:"checkbox",className:"custom-control-input",id:"customCheckGlob2"+h,name:h,value:u.sharingEnabled,checked:u.sharingEnabled,disabled:!0}),Object(G.jsx)("label",{className:"custom-control-label",htmlFor:"customCheckGlob2"+h,children:"Is Shared"})]})})}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("button",{className:"btn btn-primary",value:h,onClick:this.saveGlobEvent,children:"Save Changes"})})})]})]})},h));var m=[];for(var b in u.promptPool){var p=u.promptPool[b].text.substring(0,12)+"...";m.push(Object(G.jsxs)("tr",{children:[Object(G.jsx)("th",{scope:"row",children:Object(G.jsx)("button",{className:"btn btn-outline-secondary","data-toggle":"collapse","data-target":"#displayGlobPromptCollapse"+h+b,children:p})}),Object(G.jsx)("td",{children:u.promptPool[b].identifier}),Object(G.jsx)("td",{children:$t[u.promptPool[b].promptType]})]},b),Object(G.jsx)("tr",{children:Object(G.jsx)("th",{scope:"row",colSpan:"4",className:"collapse",id:"displayGlobPromptCollapse"+h+b,children:u.promptPool[b].text})},1+b+u.promptPool.length))}0===m.length&&m.push(Object(G.jsx)("tr",{children:Object(G.jsx)("th",{scope:"row",colSpan:"4",children:"Nothing here!"})},0)),l.push(Object(G.jsx)("div",{className:"modal fade",id:"globPrompts"+h,tabIndex:"-1",role:"dialog","aria-labelledby":"globPromptsDisplayer","aria-hidden":"true",children:Object(G.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:Object(G.jsxs)("div",{className:"modal-content",children:[Object(G.jsxs)("div",{className:"modal-header",children:[Object(G.jsx)("h5",{className:"modal-title",children:"Altering Prompts"}),Object(G.jsx)("button",{type:"btn btn-danger",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(G.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(G.jsx)("div",{className:"modal-body",children:Object(G.jsxs)("table",{className:"table",children:[Object(G.jsx)("thead",{children:Object(G.jsxs)("tr",{children:[Object(G.jsx)("th",{scope:"col",children:"Text"}),Object(G.jsx)("th",{scope:"col",children:"IID?"}),Object(G.jsx)("th",{scope:"col",children:"Type"})]})}),Object(G.jsx)("tbody",{children:m})]},"1")}),Object(G.jsx)("div",{className:"modal-footer"})]})})},h))}0===d.length&&d.push(Object(G.jsx)("div",{className:"col",children:"Nothing Here!"},0));var v=[],g=[];for(var x in this.state.eventsCompBin){var O=this.state.eventsCompBin[x];g.push(Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"card",children:[Object(G.jsx)("div",{className:"card-header"}),Object(G.jsxs)("div",{className:"card-body",children:[Object(G.jsx)("div",{className:"row",children:Object(G.jsxs)("div",{className:"col",children:["Trigger Type: ",Qt[O.triggerType]]})}),Object(G.jsx)("div",{className:"row m-1",children:Object(G.jsxs)("div",{className:"col",children:[Object(G.jsx)("b",{children:Object(G.jsx)("u",{children:Object(G.jsx)("i",{children:O.promptPool.length})})})," Prompts",Object(G.jsx)("button",{className:"btn btn-secondary mx-2","data-toggle":"modal","data-target":"#compPrompts"+x,children:"Show"})]})}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"custom-control custom-checkbox",children:[Object(G.jsx)("input",{type:"checkbox",className:"custom-control-input",id:"customCheckComp"+x,name:x,value:O.usedBy,onChange:this.enabledCompanyFieldChange,checked:O.usedBy}),Object(G.jsx)("label",{className:"custom-control-label",htmlFor:"customCheckComp"+x,children:"Enabled For This Division"})]})})}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"custom-control custom-checkbox",children:[Object(G.jsx)("input",{type:"checkbox",className:"custom-control-input",id:"customCheckComp2"+x,name:x,value:O.sharingEnabled,checked:O.sharingEnabled,disabled:!0}),Object(G.jsx)("label",{className:"custom-control-label",htmlFor:"customCheckComp2"+x,children:"Is Shared"})]})})}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("button",{className:"btn btn-primary",value:x,onClick:this.saveCompEvent,children:"Save Changes"})})})]})]})},x));var f=[];for(var N in O.promptPool){var S=O.promptPool[N].text.substring(0,12)+"...";f.push(Object(G.jsxs)("tr",{children:[Object(G.jsx)("th",{scope:"row",children:Object(G.jsx)("button",{className:"btn btn-outline-secondary","data-toggle":"collapse","data-target":"#displayCompPromptCollapse"+x+N,children:S})}),Object(G.jsx)("td",{children:O.promptPool[N].identifier}),Object(G.jsx)("td",{children:$t[O.promptPool[N].promptType]})]},N),Object(G.jsx)("tr",{children:Object(G.jsx)("th",{scope:"row",colSpan:"4",className:"collapse",id:"displayCompPromptCollapse"+x+N,children:O.promptPool[N].text})},1+N+O.promptPool.length))}0===f.length&&f.push(Object(G.jsx)("tr",{children:Object(G.jsx)("th",{scope:"row",colSpan:"4",children:"Nothing here!"})},0)),v.push(Object(G.jsx)("div",{className:"modal fade",id:"compPrompts"+x,tabIndex:"-1",role:"dialog","aria-labelledby":"compPromptsDisplayer","aria-hidden":"true",children:Object(G.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:Object(G.jsxs)("div",{className:"modal-content",children:[Object(G.jsxs)("div",{className:"modal-header",children:[Object(G.jsx)("h5",{className:"modal-title",children:"Altering Prompts"}),Object(G.jsx)("button",{type:"btn btn-danger",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(G.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(G.jsx)("div",{className:"modal-body",children:Object(G.jsxs)("table",{className:"table",children:[Object(G.jsx)("thead",{children:Object(G.jsxs)("tr",{children:[Object(G.jsx)("th",{scope:"col",children:"Text"}),Object(G.jsx)("th",{scope:"col",children:"IID?"}),Object(G.jsx)("th",{scope:"col",children:"Type"})]})}),Object(G.jsx)("tbody",{children:f})]},"1")}),Object(G.jsx)("div",{className:"modal-footer"})]})})},x))}0===g.length&&g.push(Object(G.jsx)("div",{className:"col",children:"Nothing Here!"},0));var y=[],D=[],w=function(t){var a=e.state.eventsDivBin[t];D.push(Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"card",children:[Object(G.jsxs)("div",{className:"card-header",children:[!a.fromServer&&Object(G.jsx)("div",{className:"text-danger",children:"Not Saved!"}),"Delete",Object(G.jsx)("button",{className:"badge badge-danger badge-pill",name:"test",value:t,onClick:e.deleteEvent,children:"X"})]}),Object(G.jsxs)("div",{className:"card-body",children:[Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"dropdown",children:["Trigger Type:",Object(G.jsx)("div",{className:"btn btn-secondary mx-2",type:"button",id:"EventButton"+t,"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:Qt[a.triggerType]}),Object(G.jsx)("div",{className:"dropdown-menu","aria-labelledby":"EventButton"+t,children:Qt.map((function(a,s){return Object(G.jsx)("div",{children:Object(G.jsx)("button",{className:"dropdown-item",name:[t,s],onClick:e.changeTrigger,children:a})},s)}))})]})})}),Object(G.jsx)("div",{className:"row m-1",children:Object(G.jsxs)("div",{className:"col",children:[Object(G.jsx)("b",{children:Object(G.jsx)("u",{children:Object(G.jsx)("i",{children:a.promptPool.length})})})," Prompts",Object(G.jsx)("button",{className:"btn btn-secondary mx-2","data-toggle":"modal","data-target":"#changePrompts"+t,children:"Change"})]})}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"custom-control custom-checkbox",children:[Object(G.jsx)("input",{type:"checkbox",className:"custom-control-input",id:"customCheckDiv"+t,name:t,value:a.usedBy,onChange:e.enabledDivisionFieldChange,checked:a.usedBy}),Object(G.jsx)("label",{className:"custom-control-label",htmlFor:"customCheckDiv"+t,children:"Enabled For This Division"})]})})}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"custom-control custom-checkbox",children:[Object(G.jsx)("input",{type:"checkbox",className:"custom-control-input",id:"customCheckDiv2"+t,name:t,value:a.sharingEnabled,onChange:e.enabledDivisionFieldChangeSuper,checked:a.sharingEnabled}),Object(G.jsx)("label",{className:"custom-control-label",htmlFor:"customCheckDiv2"+t,children:"Allow Other Divisions To Use"})]})})}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("button",{className:"btn btn-primary",value:t,onClick:e.saveDivEvent,children:"Save"})})})]})]})},t));var s=[];for(var r in a.promptPool){var n=a.promptPool[r].text.substring(0,12)+"...";s.push(Object(G.jsxs)("tr",{children:[Object(G.jsx)("th",{scope:"row",children:Object(G.jsx)("button",{className:"btn btn-outline-secondary","data-toggle":"collapse","data-target":"#displayPromptCollapse"+t+r,children:n})}),Object(G.jsx)("td",{children:a.promptPool[r].identifier}),Object(G.jsx)("td",{children:$t[a.promptPool[r].promptType]}),Object(G.jsx)("th",{children:Object(G.jsx)("button",{className:"close",type:"button",value:r,name:t,onClick:e.deleteEventPrompt,"aria-label":"Close",children:"\xd7"})})]},r),Object(G.jsx)("tr",{children:Object(G.jsx)("th",{scope:"row",colSpan:"4",className:"collapse",id:"displayPromptCollapse"+t+r,children:a.promptPool[r].text})},1+r+a.promptPool.length))}0===s.length&&s.push(Object(G.jsx)("tr",{children:Object(G.jsx)("th",{scope:"row",colSpan:"4",children:"Nothing here!"})},0)),y.push(Object(G.jsx)("div",{className:"modal fade",id:"changePrompts"+t,tabIndex:"-1",role:"dialog","aria-labelledby":"promptChanger","aria-hidden":"true",children:Object(G.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:Object(G.jsxs)("div",{className:"modal-content",children:[Object(G.jsxs)("div",{className:"modal-header",children:[Object(G.jsx)("h5",{className:"modal-title",children:"Altering Prompts"}),Object(G.jsx)("button",{type:"btn btn-danger",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(G.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(G.jsxs)("div",{className:"modal-body",children:[Object(G.jsxs)("table",{className:"table",children:[Object(G.jsx)("thead",{children:Object(G.jsxs)("tr",{children:[Object(G.jsx)("th",{scope:"col",children:"Text"}),Object(G.jsx)("th",{scope:"col",children:"IID?"}),Object(G.jsx)("th",{scope:"col",children:"Type"}),Object(G.jsx)("th",{scope:"col",children:"Delete"})]})}),Object(G.jsx)("tbody",{children:s})]},"1"),Object(G.jsx)("button",{className:"btn btn-primary",value:t,onClick:e.setLastClickedEvent,"data-toggle":"modal","data-target":"#addPrompts",children:"Add New Prompt"})]}),Object(G.jsx)("div",{className:"modal-footer"})]})})},t))};for(var C in this.state.eventsDivBin)w(C);0===g.length&&g.push(Object(G.jsx)("div",{className:"col",children:"Nothing Here!"},0));var k=[];if(this.state.promptsBin.length>0)for(var E=0;E<this.state.numPerPage;E++){var P=E+this.state.pageNum*this.state.numPerPage;if(P>=this.state.promptsBin.length)break;var T=this.state.promptsBin[P].text.substring(0,12)+"...";k.push(Object(G.jsxs)("tr",{children:[Object(G.jsx)("th",{scope:"row",children:Object(G.jsx)("button",{className:"btn btn-outline-secondary","data-toggle":"collapse","data-target":"#collapseExample"+P,children:T})}),Object(G.jsx)("td",{children:this.state.promptsBin[P].identifier}),Object(G.jsx)("td",{children:this.state.promptsBin[P].property1}),Object(G.jsx)("th",{children:Object(G.jsx)("button",{className:"btn btn-outline-secondary",value:P,onClick:this.addingEventPrompt,children:"+"})})]},P),Object(G.jsx)("tr",{children:Object(G.jsx)("th",{scope:"row",colSpan:"4",className:"collapse",id:"collapseExample"+P,children:this.state.promptsBin[P].text})},1+P+this.state.promptsBin.length))}else this.state.hasSent?k.push(Object(G.jsx)("tr",{children:Object(G.jsx)("th",{scope:"row",colSpan:"4",children:"No Results!"})},0)):k.push(Object(G.jsx)("tr",{children:Object(G.jsx)("th",{scope:"row",colSpan:"4",children:"Waiting for Search!"})},0));return Object(G.jsx)("div",{className:"EHIDisplay",children:Object(G.jsxs)("div",{className:"container-fluid",children:[Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"card shadow",children:[Object(G.jsx)("div",{className:"card-header",children:Object(G.jsx)("h5",{children:"This Division's Events"})}),Object(G.jsxs)("div",{className:"card-body",children:[Object(G.jsx)("div",{className:"row",children:D}),Object(G.jsx)("div",{className:"row my-2",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("button",{className:"btn btn-primary",onClick:this.createEvent,children:"Create Event"})})})]})]})})}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"card shadow",children:[Object(G.jsx)("div",{className:"card-header",children:Object(G.jsx)("h5",{children:"This Company's Shared Events"})}),Object(G.jsx)("div",{className:"card-body",children:Object(G.jsx)("div",{className:"row",children:g})})]})})}),Object(G.jsxs)(j.a,{show:t,variant:"warning",children:[Object(G.jsx)(j.a.Heading,{children:"Waiting"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"Waiting for server response..."}),Object(G.jsx)("hr",{})]}),Object(G.jsxs)(j.a,{show:a,variant:"success",children:[Object(G.jsx)(j.a.Heading,{children:"Success!"}),Object(G.jsx)("hr",{}),Object(G.jsxs)("p",{children:["Successfully obtained data or saved!",Object(G.jsx)("br",{}),"Users prompt lists will be updated on next refresh"]}),Object(G.jsx)("hr",{})]}),Object(G.jsxs)(j.a,{show:s,variant:"danger",children:[Object(G.jsx)(j.a.Heading,{children:"Error!"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:r}),Object(G.jsx)("hr",{})]}),l,v,y,Object(G.jsx)("div",{className:"modal fade",id:"addPrompts",tabIndex:"-1",role:"dialog","aria-labelledby":"promptAdder","aria-hidden":"true",children:Object(G.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:Object(G.jsxs)("div",{className:"modal-content",children:[Object(G.jsxs)("div",{className:"modal-header",children:[Object(G.jsx)("h5",{className:"modal-title",children:"Adding Prompts"}),Object(G.jsx)("button",{type:"btn btn-danger",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(G.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(G.jsxs)("div",{className:"modal-body",children:[Object(G.jsxs)("div",{className:"input-group rounded",children:[Object(G.jsx)("input",{type:"search",className:"form-control rounded",placeholder:"Search Text","aria-label":"Search","aria-describedby":"search-addon",onChange:this.changeInput}),Object(G.jsx)("button",{className:"input-group-text border-0",id:"search-addon",onClick:this.searchForPrompts,children:Object(G.jsx)(_t.a,{className:"iconBG",color:"black",size:16})})]}),Object(G.jsxs)("table",{className:"table",children:[Object(G.jsx)("thead",{children:Object(G.jsxs)("tr",{children:[Object(G.jsx)("th",{scope:"col",children:"Text"}),Object(G.jsx)("th",{scope:"col",children:"IID?"}),Object(G.jsx)("th",{scope:"col",children:"Prop 1?"}),Object(G.jsx)("th",{scope:"col",children:"Add"})]})}),Object(G.jsx)("tbody",{children:k})]},"1"),1===this.state.addedPrompt&&Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col text-success",children:"Added!"})}),2===this.state.addedPrompt&&Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col text-warning",children:"Already on the list!"})})]}),Object(G.jsx)("div",{className:"modal-footer",children:Object(G.jsx)(ea,{activePage:this.state.pageNum,changePrevNext:this.changePageFwdBck,changeToNum:this.changePageTo,totalLoaded:this.state.promptsBin.length,numPerPage:this.state.numPerPage})})]})})})]})})}}]),a}(r.a.Component),aa=Object(u.f)(ta),sa=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).componentDidMount=function(){},s.checkParentIsLoaded=function(){return!!s.props.parentHasLoaded&&(clearInterval(s.waitForParent),console.log("Web Has Finished Loading!"),!0)},s.loadFromLocalStorage=function(){s.setState({pageIsLoaded:!0})},s.GenerateGraph=function(e){var t={nodes:[],edges:[]};for(var a in e){var s="#FFF0F0";for(var r in e[a].isTracked&&(s="#FFFFFF"),t.nodes.push({id:e[a].id,label:e[a].name,color:{border:"#000000",background:s}}),e[a].toSet)t.edges.push({from:e[a].id,to:e[a].toSet[r].to,label:(Math.floor(100*e[a].toSet[r].sentiment)/100).toString()+", "+Math.floor(e[a].toSet[r].freq).toString(),width:z(e[a].toSet[r].freq),color:Y(e[a].toSet[r].sentiment)})}return t},s.selectStuffPrimary=function(e){var t=e.nodes,a=e.edges,r=-1;if(t.length>0){var n=[];for(var i in t)n.push(Object(G.jsx)("div",{children:s.state.graphDataPrimary.nodes[t[i]].label},i)),r=t[i];s.setState({selectedNodes:n})}else s.setState({selectedNodes:["None"]});if(a.length>0){var c=[],o=[];for(var l in a)for(var d in s.state.graphDataPrimary.edges){var h=s.state.graphDataPrimary.edges[d].id;if(a[l]===h){r===s.state.graphDataPrimary.edges[d].to&&c.push(Object(G.jsx)("div",{children:Object(G.jsxs)("div",{className:"row",children:[Object(G.jsx)("div",{className:"col"}),Object(G.jsx)("div",{className:"col",children:s.state.graphDataPrimary.nodes[s.state.graphDataPrimary.edges[d].from].label}),Object(G.jsx)("div",{className:"col",children:s.state.graphDataPrimary.edges[d].label}),Object(G.jsx)("div",{className:"col"})]})},l)),r===s.state.graphDataPrimary.edges[d].from&&o.push(Object(G.jsx)("div",{children:Object(G.jsxs)("div",{className:"row",children:[Object(G.jsx)("div",{className:"col"}),Object(G.jsx)("div",{className:"col",children:s.state.graphDataPrimary.nodes[s.state.graphDataPrimary.edges[d].to].label}),Object(G.jsx)("div",{className:"col",children:s.state.graphDataPrimary.edges[d].label}),Object(G.jsx)("div",{className:"col"})]})},l));break}}0===c.length&&(c=["None"]),0===o.length&&(o=["None"]),s.setState({selectedToEdges:c,selectedFromEdges:o})}else s.setState({selectedToEdges:["None"],selectedFromEdges:["None"]})},s.timedRefresh=function(){},s.getCompanyWebFailure=function(e){if(0===e.action);else{if(1===e.action)return void s.props.refreshToken(s.getCompanyWebRecent);e.action}s.setState({getWebStatus:3,getDatesWebError:e.messages})},s.getCompanyWebCallback=function(e){var t=[];e.length>0&&(t=e[0].webStructure),s.setState({loadedData:t,graphDataPrimary:s.GenerateGraph(t),loadedDataDate:"Current",getWebStatus:2})},s.getCompanyWebRecent=function(){if(-1!==s.props.currentDivisionID){F(s.props.currentDivisionID,void 0,s.getCompanyWebCallback,s.getCompanyWebFailure),s.setState({getWebStatus:1})}else s.props.history.push(s.props.reRouteTarget)},s.getCompanyWebPreviousFailure=function(e){if(0===e.action);else{if(1===e.action)return void s.props.refreshToken(s.timedRefresh);e.action}s.setState({getWebStatus:3,getDatesWebError:e.messages})},s.getCompanyWebPreviousCallback=function(e){var t=[],a="Unknown";e.length>0&&(t=e[0].webStructure,a=e[0].forDate),s.setState({loadedData:t,graphDataPrimary:s.GenerateGraph(t),loadedDataDate:a,getWebStatus:2})},s.getCompanyWebPrevious=function(e){if(-1!==s.props.currentDivisionID){F(s.props.currentDivisionID,e,s.getCompanyWebPreviousCallback,s.getCompanyWebPreviousFailure),s.setState({getWebStatus:1})}else s.props.history.push(s.props.reRouteTarget)},s.pickDate=function(e){s.setState({selectedWebDay:e}),s.getCompanyWebPrevious(e)},s.loadData=function(){var e=function(){for(var e=[{id:0,name:"Premade 1",isTracked:!0,toSet:[{to:1,sentiment:.8,freq:2},{to:2,sentiment:-.87,freq:4}]},{id:1,name:"Premade 2",isTracked:!0,toSet:[{to:0,sentiment:.25,freq:5}]}],t=2;t<20;t++){for(var a=[],s=0;s<Math.floor(6*Math.random());s++)a.push({to:Math.floor(20*Math.random()),sentiment:2*Math.random()-1,freq:Math.floor(7*Math.random())});var r=Math.random()>.5;e.push({id:t,name:"Random "+t,isTracked:r,toSet:a})}return e}();s.setState({loadedDataDate:"Current",loadedData:e,graphDataPrimary:s.GenerateGraph(e)})},s.state={loadedDataDate:"None",loadedData:[],graphDataPrimary:s.GenerateGraph([]),selectedNodes:["None"],selectedToEdges:["None"],selectedFromEdges:["None"],getWebStatus:0,getDatesWebStatus:0,getDatesWebError:[],selectedWebDay:new Date,pageIsLoaded:!1},s.waitForParent=void 0,s}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t={click:this.selectStuffPrimary},a=0===this.state.getWebStatus,s=1===this.state.getWebStatus,r=2===this.state.getWebStatus,n=3===this.state.getWebStatus,i="Showing Current Web";"None"===this.state.loadedDataDate?i="No Data!":"Current"!==this.state.loadedDataDate&&(i="Showing Legacy Web From: "+this.state.loadedDataDate);var c;c=this.state.selectedNodes;var o;o=this.state.selectedToEdges;var l;l=this.state.selectedFromEdges;var d=[];for(var h in this.state.getDatesWebError)d.push(Object(G.jsx)("div",{children:this.state.getDatesWebError[h].text}));return Object(G.jsxs)("div",{className:"companyWebPage bg-secondary",children:[Object(G.jsxs)("div",{className:"container bg-light border shadow",children:[Object(G.jsx)("div",{className:"row my-3",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("button",{className:"btn btn-secondary",onClick:this.loadData,children:"Load Example Data"})})}),Object(G.jsx)("div",{className:"row my-3",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("button",{className:"btn btn-dark",onClick:this.getCompanyWebRecent,children:"Load Most Recent Web From Server"})})}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)(X.a,{children:[Object(G.jsx)(X.a.Toggle,{as:_.a.Header,className:"border",variant:"link",eventKey:"open",children:"Get a Previous Web"}),Object(G.jsx)(X.a.Collapse,{eventKey:"open",children:Object(G.jsxs)("div",{className:"row",children:[Object(G.jsx)("div",{className:"col"}),Object(G.jsx)("div",{className:"col-",children:Object(G.jsx)(Re.a,{onChange:this.pickDate,value:this.state.selectedWebDay,tileClassName:function(t){var a=t.date,s=t.view,r=!1,n=String(a.getFullYear()),i=String(a.getMonth()+1);i<10&&(i="0"+i);var c=String(a.getDate());c<10&&(c="0"+c);var o=n+"-"+i+"-"+c;if("month"===s)try{r=e.props.validDivisionWebDates.find((function(e){return e.forDate===o}))}catch(l){}if(r)return"btn btn-success"},minDetail:"year",maxDetail:"month"})}),Object(G.jsx)("div",{className:"col"})]})})]})})}),Object(G.jsx)("div",{className:"border",children:0===this.state.loadedData.length?Object(G.jsxs)("div",{className:"row my-5",children:[a&&Object(G.jsx)("div",{className:"col",children:"Waiting for signal to get data"}),s&&Object(G.jsx)("div",{className:"col",children:"Getting Data..."}),r&&Object(G.jsx)("div",{className:"col",children:"Server reported no web!"})]}):Object(G.jsxs)("div",{children:[Object(G.jsxs)("div",{children:[Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("u",{children:i})})}),Object(G.jsx)(xt.a,{graph:this.state.graphDataPrimary,options:Z,events:t,getNetwork:function(e){}})]}),Object(G.jsxs)("div",{className:"border-top",children:[Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("u",{children:"Selected Node(s):"})})}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:c})})]}),Object(G.jsxs)("div",{className:"border-top",children:[Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("u",{children:"Edge(s) coming TO this one:"})})}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:o})})]}),Object(G.jsxs)("div",{className:"border-top",children:[Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsx)("u",{children:"Edge(s) coming FROM this one:"})})}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:l})})]})]})}),Object(G.jsx)(Q,{}),Object(G.jsx)("div",{className:"row my-2"})]}),Object(G.jsxs)(j.a,{show:s,variant:"warning",children:[Object(G.jsx)(j.a.Heading,{children:"Waiting"}),Object(G.jsx)("hr",{}),Object(G.jsx)("p",{children:"Waiting for server..."}),Object(G.jsx)("hr",{})]}),Object(G.jsxs)(j.a,{show:n,variant:"danger",children:[Object(G.jsx)(j.a.Heading,{children:"Error!"}),Object(G.jsx)("hr",{}),d,Object(G.jsx)("hr",{})]})]})}}]),a}(r.a.Component),ra=Object(u.f)(sa),na=function(e){return Object(G.jsx)("div",{className:"defaultView",children:Object(G.jsx)("h3",{children:"404! You have selected and invalid page"})})},ia=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).checkParentIsLoaded=function(){return!!s.props.parentHasLoaded&&(clearInterval(s.waitForParent),console.log("Company page Finished Loading!"),s.setState({pageIsLoaded:!0}),!0)},s.changeEHIPrompt=function(e){s.setState({EHISelectedPrompt:e.currentTarget.value})},s.changeEHITimescale=function(e){s.setState({EHISelectedTimescale:e.currentTarget.value})},s.EHITimeToggle=function(e){s.setState({EHITimespan:e})},s.state={EHITimespan:3,EHISelectedPrompt:"none",EHISelectedTimescale:"none",companySelectPage:1,pageIsLoaded:!1},s.waitForParent=void 0,s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.activateCompanyMenu(1)}},{key:"componentWillUnmount",value:function(){this.props.disableMenu()}},{key:"render",value:function(){var e=this;return Object(G.jsx)("div",{className:"contentPages",children:Object(G.jsx)("div",{className:"container",children:Object(G.jsx)("div",{className:"row m-1 my-5",children:Object(G.jsx)("div",{className:"col m-1",children:Object(G.jsxs)(u.c,{children:[Object(G.jsx)(u.a,{path:this.props.match.url+"/companySelect",exact:!0,component:function(){return Object(G.jsx)(Rt,{companySelectPage:e.state.companySelectPage,currentDivisionName:e.props.currentDivisionName,userLoadedCompanyList:e.props.userLoadedCompanyList,getDataRequest:e.props.getCompanyDataRequest,getCompanyDataStatus:e.props.getCompanyDataStatus,getCompanyValidDatesStatus:e.props.getCompanyValidDatesStatus,getCompanyValidDatesError:e.props.getCompanyValidDatesError,getCompanyValidSuggestionDatesStatus:e.props.getCompanyValidSuggestionDatesStatus,getCompanyValidSuggestionDatesError:e.props.getCompanyValidSuggestionDatesError,getCompanyEHIDataStatus:e.props.getCompanyEHIDataStatus,getCompanyEHIDataError:e.props.getCompanyEHIDataError,getDatesWebStatus:e.props.getDatesWebStatus,getDatesWebError:e.props.getDatesWebError})}}),Object(G.jsx)(u.a,{path:this.props.match.url+"/companyInvites",component:function(){return Object(G.jsx)(Tt,{currentDivisionID:e.props.currentDivisionID,triggerRefresh:e.props.loadCompanyData,refreshToken:e.props.refreshToken})}}),Object(G.jsx)(u.a,{path:this.props.match.url+"/companyPerms",component:function(){return Object(G.jsx)(Ft,{currentDivisionID:e.props.currentDivisionID,triggerRefresh:e.props.loadCompanyData,refreshToken:e.props.refreshToken})}}),Object(G.jsx)(u.a,{path:this.props.match.url+"/companySettings",component:function(){return Object(G.jsx)(At,{currentDivisionID:e.props.currentDivisionID,triggerRefresh:e.props.loadCompanyData,refreshToken:e.props.refreshToken})}}),Object(G.jsx)(u.a,{path:this.props.match.url+"/companySuggestions",component:function(){return Object(G.jsx)(Ht,{currentDate:e.props.selectedSuggestDay,parentHasLoaded:e.state.pageIsLoaded,validDays:e.props.validDivisionSuggestionDates,dataDay:e.props.selectedSuggestDay,dataSet:e.props.selectedSuggestDayData,pickDate:e.props.getCompanySuggestionData,currentDivisionID:e.props.currentDivisionID,getCompanySuggestionDataStatus:e.props.getCompanySuggestionDataStatus,getCompanySuggestionDataError:e.props.getCompanySuggestionDataError})}}),Object(G.jsx)(u.a,{path:this.props.match.url+"/companyEHI",component:function(){return Object(G.jsx)(kt,{currentDivisionID:e.props.currentDivisionID,timeIndex:e.state.EHITimespan,EHIData:e.props.EHIData,EHIselectedPrompt:e.state.EHISelectedPrompt,EHIselectedTimescale:e.state.EHISelectedTimescale,EHISetPrompt:e.changeEHIPrompt,EHISetTimescale:e.changeEHITimescale,EHITimeToggle:e.EHITimeToggle})}}),Object(G.jsx)(u.a,{path:this.props.match.url+"/companySummary",component:function(){return Object(G.jsx)(Xt,{currentDate:e.props.selectedCompanyDate,parentHasLoaded:e.state.pageIsLoaded,currentCompany:e.props.currentCompanyDataName,summaryType:e.props.currentCompanyDataType,validSummaryDates:e.props.validCompanySummaryDates,displayMessage:e.props.companyMessage,dataSet:e.props.selectedSummaryWeekData,selectedDay:e.props.selectedCompanyDay,selectedPrompt:e.props.selectedCompanyPrompt,selectedAspect:e.props.selectedCompanyAspect,setPrompt:e.props.changeCompanyPrompt,setAI:e.props.changeCompanyAspect,setDay:e.props.changeCompanyDay,setCompany:e.props.changeSelectedCompany,getValidDates:e.props.getCompanyValidDates,pickDate:e.props.getCompanyWeeklySummary,getCompanyWeeklySummaryStatus:e.props.getCompanyWeeklySummaryStatus,getCompanyWeeklySummaryError:e.props.getCompanyWeeklySummaryError})}}),Object(G.jsx)(u.a,{path:this.props.match.url+"/companyPrompts",component:function(){return Object(G.jsx)(aa,{refreshToken:e.props.refreshToken,currentDivisionID:e.props.currentDivisionID})}}),Object(G.jsx)(u.a,{path:this.props.match.url+"/companyWeb",component:function(){return Object(G.jsx)(ra,{refreshToken:e.props.refreshToken,parentHasLoaded:e.state.pageIsLoaded,currentDivisionName:e.props.currentDivisionName,currentDivisionID:e.props.currentDivisionID,reRouteTarget:e.props.match.url+"/companySelect",validDivisionWebDates:e.props.validDivisionWebDates})}}),Object(G.jsx)(u.a,{path:this.props.match.url+"/",component:function(){return Object(G.jsx)(na,{})}})]})})})})})}}]),a}(r.a.Component),ca=Object(u.f)(ia),oa=(a(532),a(533),"/scenere"),la=!1,da=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).timedRefresh=function(){},s.disableMenu=function(){try{s.refs.sidebar.disableMenu()}catch(e){}},s.activateUserMenu=function(){try{s.refs.sidebar.activateMenu(0)}catch(e){}},s.activateCompanyMenu=function(){try{s.refs.sidebar.activateMenu(1)}catch(e){}},s.changeUserMenuItems=function(e){try{s.refs.sidebar.setUserFlag(e)}catch(t){}},s.changeCompanyMenuItems=function(e){try{s.refs.sidebar.setCompanyFlag(e)}catch(t){}},s.changeMenuUserName=function(e){try{s.refs.sidebar.setUserName(e)}catch(t){}},s.changeMenuCompanyName=function(e){try{s.refs.sidebar.setCompanyName(e)}catch(t){}},s.loadFromLocalStorage=function(){var e=$("lastUser");0===e||1===e||2===e||(s.changeMenuUserName(e.user),s.login(e.lastAccess,e.user,!0))},s.silentTokenUpdate=function(e){f(e)},s.killAccessToken=function(){f("")},s.login=function(e,t,a){return s.changeMenuUserName(t),!0===a&&ee("lastUser",{user:t,lastAccess:e},2),s.silentTokenUpdate(e),s.setState({currentUser:t,rememberMe:a,pageIsLoaded:!0}),s.timerSet=setInterval(s.timedRefreshToken,72e4),!0},s.refreshFailure=function(e,t){s.logout(),la=!1},s.refreshCallback=function(e,t){s.silentTokenUpdate(e.access),la=!1,t()},s.silentRefreshToken=function(e){!function(e,t,a){var s={headers:{Authorization:"JWT ".concat(O)}};x.post("/api/customRefreshToken/",{},s).then((function(t){e(t.data,a)})).catch((function(e){var a=y(e);t(a)}))}(s.refreshCallback,s.refreshFailure,e)},s.timedRefreshToken=function(){s.silentRefreshToken(s.timedRefresh)},s.triggerSilentRefreshToken=function(e){void 0===s.state.currentUser||la||(s.silentRefreshToken(e),la=!0)},s.deleteServerCookiesFailure=function(e){},s.deleteServerCookiesCallback=function(e){},s.deleteServerCookies=function(){!function(e,t){var a={headers:{Authorization:"JWT ".concat(O)}};x.post("/api/customDeleteToken/",{},a).then((function(t){e(t.data)})).catch((function(e){var a=y(e);t(a)}))}(s.deleteServerCookiesCallback,s.deleteServerCookiesFailure)},s.logout=function(){s.setState({currentUser:void 0}),clearInterval(s.timerSet),s.changeMenuUserName("No User"),s.silentTokenUpdate(void 0),te("lastUser"),te("lastGotCompany"),te("lastUser")},s.booper=function(){x.get("/link/action",{}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},s.state={currentUser:void 0,rememberMe:!1,pageIsLoaded:!1},s.timerSet=void 0,s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.loadFromLocalStorage()}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerSet)}},{key:"render",value:function(){var e=this;return Object(G.jsx)(h.a,{children:Object(G.jsxs)("div",{className:"App",children:[Object(G.jsx)(K,{ref:"sidebar",basePath:oa}),Object(G.jsx)(Oe,{currentUser:this.state.currentUser,logout:this.logout,reRouteSignIn:"/scenere/signin",reRouteSignUp:"/scenere/signup",reRouteLanding:"/scenere/",reRouteDashboard:"/scenere/dashboard",reRouteUserInvites:"/scenere/dashboard/userMode/userInvite",reRouteUserSecurity:"/scenere/dashboard/userMode/userSecurity",reRouteUserPermissions:"/scenere/dashboard/userMode/userPermissions"}),Object(G.jsxs)(u.c,{children:[Object(G.jsx)(u.a,{path:"/scenere/",exact:!0,component:function(){return Object(G.jsx)(Se,{})}}),Object(G.jsx)(u.a,{path:"/scenere/signin",exact:!0,component:function(){return Object(G.jsx)(se,{loginSave:e.login,reRouteTarget:"/scenere/dashboard",forgotPath:"/scenere/forgot"})}}),Object(G.jsx)(u.a,{path:"/scenere/signup",exact:!0,component:function(){return Object(G.jsx)(ne,{reRouteTarget:"/scenere/verify",loginSave:e.login,authToken:e.state.accessToken})}}),Object(G.jsx)(u.a,{path:"/scenere/verify",exact:!0,component:function(){return Object(G.jsx)(le,{authToken:e.state.accessToken,refreshToken:e.triggerSilentRefreshToken,reRouteTarget:"/scenere/signin",reRouteSuccessTarget:"/scenere/dashboard"})}}),Object(G.jsx)(u.a,{path:"/scenere/forgot",exact:!0,component:function(){return Object(G.jsx)(ce,{reRouteTarget:"/scenere/signin"})}}),Object(G.jsx)(u.a,{path:"/scenere/contact",exact:!0,component:function(){return Object(G.jsx)(ge,{})}}),Object(G.jsx)(u.a,{path:"/scenere/dashboard",component:function(){return Object(G.jsx)(we,{activateRedirect:"/scenere/verify",parentHasLoaded:e.state.pageIsLoaded,refreshToken:e.triggerSilentRefreshToken,logout:e.logout,currentUser:e.state.currentUser,authToken:e.state.accessToken,reRouteSignIn:"/scenere/signin",reRouteCompany:"/scenere/dashboard",reRouteUser:"/scenere/dashboard",disableMenu:e.disableMenu,activateUserMenu:e.activateUserMenu,changeUserMenuItems:e.changeUserMenuItems,activateCompanyMenu:e.activateCompanyMenu,changeMenuCompanyName:e.changeMenuCompanyName,changeCompanyMenuItems:e.changeCompanyMenuItems})}})]}),Object(G.jsx)("div",{className:"row m-5"}),Object(G.jsx)(fe,{})]})})}}]),a}(r.a.Component),ha=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,551)).then((function(t){var a=t.getCLS,s=t.getFID,r=t.getFCP,n=t.getLCP,i=t.getTTFB;a(e),s(e),r(e),n(e),i(e)}))};a(534),a(535);i.a.render(Object(G.jsx)(da,{}),document.getElementById("root")),ha()}},[[537,1,2]]]);
//# sourceMappingURL=main.4cd250a4.chunk.js.map