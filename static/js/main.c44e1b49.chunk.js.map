{"version":3,"sources":["components/navigation.jsx","components/footer.jsx","components/signIn.jsx","components/signUp.jsx","components/forgot.jsx","components/landing.jsx","components/mainMenu.jsx","utils/index.js","components/journalView.jsx","components/journalMake.js","components/companyView.js","components/companySettings.jsx","components/testStuff.jsx","App.js","reportWebVitals.js","index.js"],"names":["navigation","props","triggerLogout","clearLogin","state","something","basePath","this","iconButton","userDisplay","undefined","currentUser","className","to","onClick","type","data-toggle","data-target","aria-controls","aria-expanded","aria-label","id","React","Component","withRouter","footer","signIn","loadFromCookies","data","Store","get","setState","username","user","password","pass","userFieldChange","event","target","value","passFieldChange","remFieldChange","remember","handleSubmit","set","console","log","axios","post","APIHost","then","res","latestAttempt","result","loginSave","token","history","push","reRouteTarget","catch","err","preventDefault","currentState","onSubmit","onChange","placeholder","htmlFor","forgotPath","signup","usernameFieldChange","emailFieldChange","email","pass2FieldChange","password2","firstNameFieldChange","firstName","lastnameFieldChange","lastName","checkFieldChange","checkField","first_name","last_name","latestAttept","forgotPassword","goSignIn","arePasswordsSame","password1","swapToCode","sendEmail","checkValue","checkPasswords","tokenFieldChange","resetToken","pass1FieldChange","passwordsSame","currentField","currentButton","currentMessage","landing","getFromCookies","chartReference","createRef","userToken","mainMenu","journalWriteDirect","journalReadDirect","companyReadDirect","companySettingDirect","getRadarEmotionData","inputData","labels","datasets","label","backgroundColor","borderColor","borderWidth","getSentimentData","getConceptsData","getCategoryData","testMaxMin","inputMax","inputAve","inputMin","stackedBarData","inputData1","inputData2","inputData3","stackedBarData2Test","journalView","backButton","goBack","journalDates","validJournalScanDates","AIDates","validJournalDates","loadTestData","index","AIdata","catData","categories","catLabels","catScores","cat","score","conData","concepts","conLabels","conRelevance","conDatabase","con","text","relevance","dbpedia_resource","emDataObj","emotion","document","emData","anger","disgust","fear","joy","sadness","entData","entities","entity","ent","entEmotion","senDataScore","sentiment","oppData","Math","abs","arrangedDataScore","entStore","count","keyData","keywords","keyword","key","keyEmotion","keyStore","relation","relDat","relations","rel","relStore","init","arguments","action","dataCategories","dataConcepts","dataEmotion","dataEntities","dataKeywords","dataRelations","dataSentiment","saveToCookies","getJournalDates","config","headers","Authorization","authToken","tempAIArray","tempJoArray","remove","item","newDate","Date","createdDate","checkDate","getFullYear","getMonth","getDate","hasAI","response","status","forceLogout","pickDate","selectedDate","currentDate","journal","content","dateReq","toJSON","split","length","AIresult","messages","toString","journalDisp","forceCalenderUpdateTest","journalData","optionsCategories","scales","yAxes","ticks","beginAtZero","suggestedMin","suggestedMax","optionsConcepts","optionsEmotions","scale","optionsSentiment","cutoutPercentage","editorState","setEditor","editor","entitiesDisplay","emotionData","sentimentData","scope","ref","options","keywordsDisplay","relationsDisplay","tileClassName","date","view","hasJournal","find","element","minDetail","maxDetail","styles","border","minHeight","StyleButton","onToggle","e","style","active","BLOCK_TYPES","BlockStyleControls","selection","getSelection","blockType","getCurrentContent","getBlockForKey","getStartKey","getType","map","INLINE_STYLES","InlineStyleControls","currentStyle","getCurrentInlineStyle","has","saveJournal","randomID","random","substr","shorthand","author","getPlainText","loadToday","loadedEditor","convertFromRaw","EditorState","createWithContent","cookieToday","convertToRaw","onBoldClick","RichUtils","toggleInlineStyle","toggleBlockType","inlineStyle","handleKeyCommand","command","newState","today","createEmpty","journalPlaceolder","incomingState","AIAspect","name","daySet","parseEmotion","companyViewSummary","loadCompanyData","getCookiesListData","getCompanyList","loadDatesData","getCookiesValidDates","getValidDates","flushCookies","currentCompany","selectPrompt","selectedPrompt","currentTarget","selectAI","selectedAspect","selectDay","seletedDay","adding","companyOwner","includes","companyAllowsView","companySendsTo","companyList","getDates","tempSumArray","forDate","hasMon","hasTue","hasWed","hasThu","hasFri","hasSat","hasSun","validSummaryDates","todayWeekday","getDay","copiedDate","getTime","setDate","dataDate","dataCompany","incomingDict","mon","monResult","tue","tueResult","wed","wedResult","thu","thuResult","fri","friResult","sat","satResult","sun","sunResult","allDay","summaryResult","dataSet","setCurrentCompany","dropMessage","tableDisplay","currentPrompt","currentDay","currentAspect","promptList","dayData","displayStats","promptName","purity","ProgressBar","now","emoMax","max","emoAve","ave","emoMin","min","dataRadarTest","radarOptionsTest","emoThresh","threshold","dataBarTest","barOptionsTest","dataBarStack","barStackOptions","xAxes","dataBarNorm","sentimentBarData","thresholdPos","thresholdNeg","barOptionsNorm","emoData","emoOptions","dataEntSent","confidence","dataEntOptions","colSpan","dataRadar","dataRadarOptions","dataKeySent","dataKeyOptions","relData","scoreData","scoreOptions","width","dropDownInternal","comp","aria-haspopup","aria-labelledby","ButtonGroup","toggle","radio","idx","ToggleButton","variant","checked","sorter","companySettings","postNewCompanyData","companyName","companyReName","dataCompanyName","summaryViewAccess","dataCompanyPriv","resultsSendTargets","dataCompanySendTo","privateViewingPerms","dataCompanyViewing","governedUsers","dataCompanyGoverned","dataCompanySendToDeleted","dataCompanyViewingDeleted","dataCompanyGovernedDeleted","getCompanyData","targetCompany","sendChange","searchSend","viewChange","searchView","govChange","searchGov","addingEmail","triggerCompanySwap","triggerModal","clickedList","parentElement","clickedIndex","triggerStopAdd","subset","dataCompanySendToAdded","splice","dataCompanyViewingAdded","dataCompanyGovernedAdded","triggerReAdd","reAdd","modelAddEmail","newArray","modelAcceptDelete","deleteQueue","companySend","userSet","indexOf","companySendAdd","companySendDelete","companyViewing","companyViewingAdd","companyViewingDelete","governedList","companyGovernedAdd","companyGovernedDelete","selectedUser","tabIndex","role","aria-hidden","data-dismiss","historyGraphTimings","dayLength","GraphTimingButtons","currentDisplay","graphState","EHIDisplay","currentTimeIndex","timeIndex","ehiLabels","ehiData","dayCount","lineData","inputXAxis","inputDataList","builtData","dataIndex","fill","arbitraryLineData","slice","lineOptions","height","SummaryView","onPickDate","hasSummary","floor","SuggestionView","testClass","changeEHIdates","dateRangeChoice","EHITimespan","loadEHIData","getServerCompanyList","getCookiesEHIData","getServerEHIData","icomingData","dateSet","dateLabels","EHISet","EHIstorage","href","hostName","App","lastUserSet","sessionToken","session","setToken","refresh","logout","path","exact","component","tokenRefresh","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.c44e1b49.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\n\r\nclass navigation extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n          \r\n\t\t  something: null,\r\n\r\n        };\r\n\t}\r\n\r\n\ttriggerLogout = () => {\r\n\t\tthis.props.clearLogin()\r\n\t}\r\n\t\r\n\t/*\r\n\t<li className={'nav-item'}  key='31'>\r\n\t\t<Link className=\"nav-link\" to={basePath+\"/test2\"}>\r\n\t\t\t!!TestDisplay 2!!\r\n\t\t</Link>\r\n\t</li>*/\r\n\t\r\n\trender() {\r\n\t\tconst basePath = this.props.basePath\r\n\r\n\t\tlet iconButton = null\r\n\t\tlet userDisplay = null\r\n\r\n\t\tif (this.props.currentUser === undefined) {\r\n\t\t\ticonButton = [\r\n\t\t\t\t(<li className={'nav-item'} key='0'>\r\n\t\t\t\t\t<Link className=\"nav-link\" to={basePath+\"/signup\"}>\r\n\t\t\t\t\t\tSign Up\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</li>),\r\n\r\n\t\t\t\t(<li className={'nav-item'}  key='1'>\r\n\t\t\t\t\t<Link className=\"nav-link\" to={basePath+\"/signin\"}>\r\n\t\t\t\t\t\tSign In\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</li>)\r\n\t\t\t]\r\n\r\n\t\t\tuserDisplay = (\r\n\t\t\t\t<li className={'nav-item'}  key='2'>\t\r\n\t\t\t\t\t<Link className=\"nav-link\" to={basePath+\"/menu\"}>\r\n\t\t\t\t\t\tNone\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t}\r\n\t\telse {\r\n\t\t\ticonButton = (\r\n\t\t\t\t<li className={'nav-item'}  key='3'>\r\n\t\t\t\t\t<Link className=\"nav-link\" to={basePath+\"/\"} onClick={this.triggerLogout}>\r\n\t\t\t\t\t\tSign Out\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\r\n\t\t\tuserDisplay = (\r\n\t\t\t\t<li className={'nav-item'}  key='4'>\t\r\n\t\t\t\t\t<Link className=\"nav-link\" to={basePath+\"/menu\"}>\r\n\t\t\t\t\t\t{this.props.currentUser}\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"navigation\">\r\n\t\t\t\t<nav className=\"navbar navbar-expand-lg navbar-dark bg-dark\">\r\n\t\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t\t<Link className=\"navbar-brand\" to={basePath+\"/\"}>\r\n\t\t\t\t\t\t\tProject Scenere\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclassName=\"navbar-toggler\"\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\tdata-toggle=\"collapse\"\r\n\t\t\t\t\t\t\tdata-target=\"#navbarResponsive\"\r\n\t\t\t\t\t\t\taria-controls=\"navbarResponsive\"\r\n\t\t\t\t\t\t\taria-expanded=\"false\"\r\n\t\t\t\t\t\t\taria-label=\"Toggle navigation\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<span className=\"navbar-toggler-icon\"></span>\r\n\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t<div className=\"collapse navbar-collapse\" id=\"navbarResponsive\">\r\n\t\t\t\t\t\t\t<ul className=\"navbar-nav ml-auto\">\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<li className={'nav-item'}  key='30'>\r\n\t\t\t\t\t\t\t\t\t<Link className=\"nav-link\" to={basePath+\"/test\"}>\r\n\t\t\t\t\t\t\t\t\t\t!!TestDisplay 1!!\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</li>\r\n\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t{iconButton}\r\n\t\t\t\t\t\t\t\t<li className={'nav-link'}>\t\r\n\t\t\t\t\t\t\t\t\tCurrent User: \r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t{userDisplay}\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</nav>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(navigation);","import React from \"react\";\r\n\r\nclass footer extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\r\n        };\r\n\t}\r\n\t// fixed-bottom\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"footer\">\r\n\t\t\t\t<footer className=\"py-3 bg-dark fixed-bottom\">\r\n\t\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t\t<p className=\"m-0 text-center text-white\">\r\n\t\t\t\t\t\t\tCopyright &copy; Nightingale Technologies 2020\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</footer>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default footer;","import React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport { Link, withRouter } from 'react-router-dom';\r\n\r\nimport Store from \"store\"\r\n\r\nclass signIn extends React.Component {\r\n\r\n\t// Lets test this out, before we move this over to the App js file\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n          \r\n\t\t\t// Lets do a state machine for the sake of it...\r\n\t\t\t// 0 is \"No result given yet\"\r\n\t\t\t// 1+ would be error codes...\r\n\t\t\t// How can I change this screen as per this?\r\n\t\t\t// Eh, thats later...\r\n\t\t\tcurrentState: 0,\r\n\r\n\t\t\t// This can take in the response code, and we can use that, cant we?\r\n\t\t\tlatestAttempt: 0,\r\n\t\t  \r\n\t\t\tusername: '',\r\n\t\t\t\r\n\t\t\t// This needs to be hashed as fast as possible...\r\n\t\t\t// But I will worry about security...\r\n\t\t\t// Just note that this is probobly a bad idea...\r\n\t\t\tpassword: '',\r\n\t\t\t\r\n\t\t\tremember: false,\r\n\t\t\t\r\n        };\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tthis.loadFromCookies();\r\n\t};\r\n\t\r\n\tloadFromCookies = () => {\r\n\t\t\r\n\t\tconst data = Store.get('rememberUser')\r\n\t\ttry {\r\n\t\t\tthis.setState({ username:data.user ,password:data.pass })\r\n\t\t} catch {\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\t\r\n\tuserFieldChange = (event) => {\r\n\t\tthis.setState( {username: event.target.value} )\r\n\t}\r\n\t\r\n\tpassFieldChange = (event) => {\r\n\t\tthis.setState( {password: event.target.value} )\r\n\t}\r\n\t\r\n\tremFieldChange = (event) => {\r\n\t\tthis.setState( {remember: event.target.value} )\r\n\t}\r\n\t\r\n\thandleSubmit = event => {\r\n\t\t//console.log(\"Login Triggered\")\r\n\t\t\r\n\t\t// THIS IS TERRIBLE SECIRTY! WILL SECURE THE PASSWORD IN PLAIN TEXT!\r\n\t\tif(this.state.remember) {\r\n\t\t\tStore.set('rememberUser', {user:this.state.username , pass: this.state.password })\r\n\t\t\tconsole.log(\"User data Stored\")\r\n\t\t}\r\n\t\t\r\n\t\tconst data = {\r\n\t\t\tusername: this.state.username,\r\n\t\t\tpassword: this.state.password\r\n\t\t};\r\n\t\t\r\n\t\t//console.log(data)\r\n\r\n\t\taxios.post(this.props.APIHost +\"/apiTokenAuth/\", data )\r\n\t\t.then( res => { \r\n\t\t\tthis.setState({ latestAttempt: 200 })\r\n\t\t\tconst result = this.props.loginSave( res.data.token, this.state.username )\r\n\t\t\tconsole.log(\"Success\")\r\n\t\t\t\r\n\t\t\tif (result) {\r\n\t\t\t\tconsole.log(\"Token registered\")\r\n\t\t\t\t\r\n\t\t\t\t// Change this to a dashboard lookin thing\r\n\t\t\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tconsole.log(\"Token Failed..?\")\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch( err => {\r\n\t\t\t// Change this depending on the error...\r\n\t\t\tthis.setState({ latestAttempt: 400 })\r\n\t\t\tconsole.log(err)\r\n\t\t\tconsole.log(\"Connection failed...\")\r\n\t\t})\r\n\r\n\t\tevent.preventDefault();\r\n\t}\r\n\t\r\n\trender() {\r\n\t\r\n\t\treturn (\r\n\t\t\t<div className='container'>\r\n\t\t\t\t<form onSubmit={this.handleSubmit} >\r\n\t\t\t\t\t<h3>Sign In</h3>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<label>Email Address</label>\r\n\t\t\t\t\t\t<input type='text' className='form-control' value={this.state.username} onChange={this.userFieldChange} placeholder='Enter Username' />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<label>Password</label>\r\n\t\t\t\t\t\t<input type='password' className='form-control' value={this.state.password} onChange={this.passFieldChange} placeholder='Enter password' />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<input type='checkbox' className='form-control-input' id='customCheck1' value={this.state.remember} onChange={this.remFieldChange} />\r\n\t\t\t\t\t\t<label className='form-control-label' htmlFor='customCheck1' >Remember Me</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<button type='submit' className='btn btn-dark btn-block'>Submit</button>\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t<p className='col forgot-password text-right text-dark'>\r\n\t\t\t\t\t\t\t<Link className=\"nav-link\" to={this.props.forgotPath}>\r\n\t\t\t\t\t\t\t\tForgot password?\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</p>\r\n\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(signIn);","import React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nclass signup extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\t\t\t\r\n\t\t\tusername: '',\r\n\t\t\temail: '',\r\n\t\t\tpassword: '',\r\n\t\t\tpassword2: '',\r\n\t\t\tfirstName: '',\r\n\t\t\tlastName: '',\r\n\t\t\t\r\n\t\t\tcheckField: false,\r\n        };\r\n\t}\r\n\t\r\n\t// Wait, are Usernames a good thing for what we are doing? Hmmmm\r\n\tusernameFieldChange = (event) => {\r\n\t\tthis.setState( {username: event.target.value} )\r\n\t}\r\n\t\r\n\temailFieldChange = (event) => {\r\n\t\tthis.setState( {email: event.target.value} )\r\n\t}\r\n\t\r\n\tpassFieldChange = (event) => {\r\n\t\tthis.setState( {password: event.target.value} )\r\n\t}\r\n\t\r\n\tpass2FieldChange = (event) => {\r\n\t\tthis.setState( {password2: event.target.value} )\r\n\t}\r\n\t\r\n\tfirstNameFieldChange = (event) => {\r\n\t\tthis.setState( {firstName: event.target.value} )\r\n\t}\r\n\t\r\n\tlastnameFieldChange = (event) => {\r\n\t\tthis.setState( {lastName: event.target.value} )\r\n\t}\r\n\t\r\n\tcheckFieldChange = (event) => {\r\n\t\tthis.setState( {checkField: event.target.value} )\r\n\t}\r\n\t\r\n\thandleSubmit = event => {\r\n\t\t\r\n\t\tif (this.state.checkField) {\r\n\t\t\tconsole.log(\"Field was not checked\")\r\n\t\t}\r\n\t\t\r\n\t\tconst data = {\r\n\t\t\tusername: this.state.username,\r\n\t\t\t\r\n\t\t\tpassword: this.state.password,\r\n\t\t\tpassword2: this.state.password2,\r\n\t\t\t\r\n\t\t\temail: this.state.email,\r\n\t\t\t\r\n\t\t\tfirst_name: this.state.firstName,\r\n\t\t\tlast_name: this.state.firstName,\r\n\t\t};\r\n\t\t\r\n\t\t//DISABLE SIGNUP FOR NOW\r\n\t\t\r\n\t\t//console.log(data)\r\n\r\n\t\taxios.post(this.props.APIHost +\"/registerUser/\", data )\r\n\t\t.then( res => { \r\n\t\t\tthis.setState({ latestAttept: 200 })\r\n\t\t\tconsole.log(\"Success\")\r\n\t\t})\r\n\t\t.catch( err => {\r\n\t\t\t// Change this depending on the error...\r\n\t\t\tthis.setState({ latestAttept: 400 })\r\n\t\t\tconsole.log(err)\r\n\t\t\tconsole.log(\"Connection failed...\")\r\n\t\t})\r\n\r\n\t\tevent.preventDefault();\r\n\t}\r\n\t\r\n\trender() {\r\n\t\treturn (\r\n\t\t\r\n\t\t\t<div className=\"container\">\r\n\t\t\t\t<form  onSubmit={this.handleSubmit}>\r\n\t\t\t\t\t<h3>Sign Up</h3>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<label>Username</label>\r\n\t\t\t\t\t\t<input type='text' className='form-control' value={this.state.username} onChange={this.usernameFieldChange} placeholder='Enter Username' />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<label>Email Address</label>\r\n\t\t\t\t\t\t<input type='email' className='form-control' value={this.state.email} onChange={this.emailFieldChange} placeholder='Enter email' />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<label>Password</label>\r\n\t\t\t\t\t\t<input type='password' className='form-control' value={this.state.password} onChange={this.passFieldChange} placeholder='Enter password' />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<label>Confirm Password</label>\r\n\t\t\t\t\t\t<input type='password' className='form-control' value={this.state.password2} onChange={this.pass2FieldChange} placeholder='Confirm password' />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<label>First Name</label>\r\n\t\t\t\t\t\t<input type='text' className='form-control' value={this.state.firstName} onChange={this.firstNameFieldChange} placeholder='First Name' />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<label>Last Name</label>\r\n\t\t\t\t\t\t<input type='text' className='form-control' value={this.state.lastName} onChange={this.lastnameFieldChange} placeholder='Last Name' />\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<input type='checkbox' className='form-control-input' id='customCheck1' value={this.state.checkField} onChange={this.checkFieldChange} />\r\n\t\t\t\t\t\t<label className='form-control-label' htmlFor='customCheck1' >Legal stuff? Not sure...</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<button type='submit' className='btn btn-dark btn-block'>Submit</button>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t</form>\r\n\t\t\t\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default signup;","import React from \"react\";\r\n\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nclass forgotPassword extends React.Component {\r\n\t\t\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\r\n\t\t\temail: '',\r\n\r\n\t\t\tresetToken: '',\r\n\r\n\t\t\tcurrentState: 0,\r\n\r\n\t\t\tpassword1:'',\r\n\t\t\tpassword2:'',\r\n\r\n\t\t\tpasswordsSame: false\r\n\t\t\t\t\t\t\r\n        };\r\n\t\t\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.setState( \r\n\t\t\t{email: ''},\r\n\t\t\t{resetToken: ''},\r\n\t\t\t{password1: ''},\r\n\t\t\t{password2: ''},\r\n\t\t)\r\n\t}\r\n\r\n\tgoSignIn = () => {\r\n\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t}\r\n\r\n\tarePasswordsSame = () => {\r\n\t\t// I MAY need something more complicated than this, but it can be this for now....\r\n\t\treturn (this.state.password1 === this.state.password2)\r\n\t}\r\n\r\n\tswapToCode = () => {\r\n\t\tthis.setState( {currentState: 1} )\r\n\t}\r\n\r\n\tsendEmail = () => {\r\n\t\tthis.setState( {currentState: 1} )\r\n\t}\r\n\r\n\tcheckValue = () => {\r\n\t\tthis.setState( {currentState: 2} )\r\n\t}\r\n\r\n\tcheckPasswords = () => {\r\n\t\t// I can use the API for this...\r\n\t\tif (this.arePasswordsSame()) {\r\n\t\t\tthis.setState( {currentState: 3} )\r\n\t\t}\r\n\t}\r\n\r\n\r\n\temailFieldChange = (event) => {\r\n\t\tthis.setState( {email: event.target.value} )\r\n\t}\r\n\r\n\ttokenFieldChange = (event) => {\r\n\t\tthis.setState( {resetToken: event.target.value} )\r\n\r\n\t\tthis.arePasswordsSame()\r\n\t}\r\n\t\r\n\tpass1FieldChange = (event) => {\r\n\t\tthis.setState( {password1: event.target.value} )\r\n\r\n\t\t//this.arePasswordsSame()\r\n\t}\r\n\r\n\tpass2FieldChange = (event) => {\r\n\t\tthis.setState( {password2: event.target.value} )\r\n\r\n\t\tthis.arePasswordsSame()\r\n\t}\r\n\r\n\r\n\trender() {\r\n\r\n\t\tlet currentField = null\r\n\t\tlet currentButton = null\r\n\t\tlet currentMessage = null\r\n\r\n\t\tif (this.state.currentState === 0) {\r\n\t\t\tcurrentMessage = (\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<p> \r\n\t\t\t\t\t\t\tEnter your email address.\r\n\t\t\t\t\t\t\tIf it is in the system, we will send you an email address with a code.\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\r\n\t\t\tcurrentField = (\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t<label>Email Address</label>\r\n\t\t\t\t\t\t\t<input type='text' className='form-control' value={this.state.email} onChange={this.emailFieldChange} placeholder='Enter email' />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\r\n\t\t\tcurrentButton = [\r\n\t\t\t\t(\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<button className=\"btn btn-primary\" onClick={this.sendEmail}>\r\n\t\t\t\t\t\t\t\tSend\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t),(\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col m-2\">\r\n\t\t\t\t\t\t\t<button className=\"btn btn-primary\" onClick={this.swapToCode}>\r\n\t\t\t\t\t\t\t\tAlready have the code!\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\t]\r\n\t\t\t\t\r\n\t\t}\r\n\t\telse if (this.state.currentState === 1) {\r\n\r\n\t\t\tcurrentMessage = (\r\n\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t<p> \r\n\t\t\t\t\t\tCheck your email.\r\n\t\t\t\t\t\tIf your email is correct, then enter the code it gives you here:\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\r\n\t\t\tcurrentField = (\r\n\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<label>Reset token</label>\r\n\t\t\t\t\t\t<input type='text' className='form-control' value={this.state.resetToken} onChange={this.tokenFieldChange} placeholder='Enter Token' />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\r\n\t\t\tcurrentButton = (\r\n\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t<button className=\"btn btn-primary\" onClick={this.checkValue}>\r\n\t\t\t\t\t\tCheck...\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\telse if (this.state.currentState === 2) {\r\n\t\r\n\t\t\tcurrentMessage = [\r\n\t\t\t\t<div className=\"row\"> \r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<p> Enter your new password! </p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t]\r\n\t\t\tif (!this.arePasswordsSame()) {\r\n\t\t\t\tcurrentMessage.push(\r\n\t\t\t\t\t<div className=\"row\"> \r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<p className=\"text-danger\"> Passwords do not match! </p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\r\n\t\t\tcurrentField = [\r\n\t\t\t\t( \r\n\t\t\t\t\t<div className=\"row\"> \r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t<input type='text' className='form-control' value={this.state.resetToken} onChange={this.pass1FieldChange} placeholder='Enter Password' />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t),\r\n\t\t\t\t(\r\n\t\t\t\t\t<div className=\"row\"> \r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t<input type='text' className='form-control' value={this.state.resetToken} onChange={this.pass2FieldChange} placeholder='Re-enter Password' />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\t\r\n\t\t\t\t)\r\n\t\t\t]\r\n\t\t\tcurrentButton = (\r\n\t\t\t\t<div className=\"row\"> \r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<button className=\"btn btn-primary\" onClick={this.checkPasswords}>\r\n\t\t\t\t\t\t\tCheck...\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\telse if (this.state.currentState === 2) {\r\n\t\t\tcurrentMessage = (\r\n\t\t\t\t<div className=\"row\"> \r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<p> Password has been successfullty reset! </p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t\tcurrentField = null\r\n\r\n\t\t\tcurrentButton = (\r\n\t\t\t\t<div className=\"row\"> \r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<button className=\"btn btn-primary\" onClick={this.goSignIn}>\r\n\t\t\t\t\t\t\tSign In!\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div className='container-sm'>\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<h3> Forgot your password? </h3>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{currentMessage}\r\n\t\t\t\t{currentField}\r\n\t\t\t\t{currentButton}\r\n\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(forgotPassword);","import React from \"react\";\r\n// import axios from \"axios\";\r\n\r\nimport Store from \"store\"\r\n\r\nclass landing extends React.Component {\r\n\r\n\t// Lets test this out, before we move this over to the App js file\r\n\tconstructor(props) {\r\n        super(props);\r\n\t\tthis.chartReference = React.createRef();\r\n\t\t\r\n        this.state = {\r\n\t\t\tuserToken: null,\r\n        };\r\n\t}\r\n\t\r\n\tgetFromCookies = () => {\r\n\t\tStore.get('rememberSomething')\r\n\t};\r\n\t\r\n\trender() {\r\n\t\r\n\t\treturn (\r\n\t\t\t<div className=\"landing\">\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t<div className=\"row align-items-center my-5\">\r\n\t\t\t\t\t\t<div className=\"col-lg-12 border\">\r\n\t\t\t\t\t\t\t<h3>\r\n\t\t\t\t\t\t\t\tSample Title\r\n\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"row align-items-center my-2 border\">\r\n\t\t\t\t\t\t<div className=\"col-lg-7\">\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\tAnother set of explinations?\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col m-5 border\">\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\tExplainations ahoy!\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default landing;","import React from \"react\";\r\n// import axios from \"axios\";\r\n\r\nimport Store from \"store\"\r\nimport { Link, withRouter } from \"react-router-dom\";\r\n\r\nclass mainMenu extends React.Component {\r\n\r\n\t// Lets test this out, before we move this over to the App js file\r\n\tconstructor(props) {\r\n        super(props);\r\n\t\tthis.chartReference = React.createRef();\r\n\t\t\r\n        this.state = {\r\n\t\t\tsomething: null,\r\n        };\r\n\r\n\t\t// We are going to have to redirect from here if there is no user...\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tconsole.log(\"Check for login...\")\r\n\r\n\t\tif (this.props.currentUser === undefined) {\r\n\t\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\t}\r\n\t\t\r\n\t\t// Hm, What would be a better use of our tokens then doing just this every time?\r\n\t\t\r\n\t\t//let check = this.props.tokenRefresh()\r\n\t\t//if (!check) {\r\n\t\t//\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\t//}\r\n\t}\r\n\t\r\n\tgetFromCookies = () => {\r\n\t\tStore.get('rememberSomething')\r\n\t};\r\n\t\r\n\trender() {\r\n\t\r\n\t\treturn (\r\n\t\t\t<div className=\"mainMenu\">\r\n\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\r\n\t\t\t\t\t<div className=\"row align-items-center my-5\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\tWelcome to this barebones dashboard lookin thing!\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"row align-items-center my-5\">\r\n\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\tWrite/Edit Journal\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"card-text\">\r\n\t\t\t\t\t\t\t\t\t\tClick this button to write today's Journal\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t<Link className=\"btn btn-primary\" to={this.props.journalWriteDirect}>\r\n\t\t\t\t\t\t\t\t\t\tGo!\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\tView Past Journal\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"card-text\">\r\n\t\t\t\t\t\t\t\t\t\tView the contents and AI result of your previous Journals\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t<Link className=\"btn btn-primary\" to={this.props.journalReadDirect}>\r\n\t\t\t\t\t\t\t\t\t\tGo!\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\tView Company Summary\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"card-text\">\r\n\t\t\t\t\t\t\t\t\t\tView contents of Company Summaries, to which you belong.\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t<Link className=\"btn btn-primary\" to={this.props.companyReadDirect}>\r\n\t\t\t\t\t\t\t\t\t\tGo!\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\tCompany Edit!\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"card-text\">\r\n\t\t\t\t\t\t\t\t\t\tEdit Company Entiries to which you are Owner of\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t<Link className=\"btn btn-primary\" to={this.props.companySettingDirect}>\r\n\t\t\t\t\t\t\t\t\t\tGo!\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(mainMenu);","// Use this or localstorage?\r\nimport Store from \"store\"\r\n\r\n// Maybe I should put ALL the storage stuff here...\r\nexport const login = (tokenKey, username) => {\r\n\tStore.set('jwtSession', {user:username, token:tokenKey})\r\n}\r\n\r\nexport const logout = () => {\r\n\tStore.remove('jwtSession')\r\n}\r\n\r\nexport const isLoggedIn = () => {\r\n\tif (Store.get('jwtSession')) {\r\n\t\treturn true;\r\n\t}\r\n\t\r\n\treturn false;\r\n}\r\n\r\n// Lets try this for the Graph Data...\r\n// See if this works out okay...\r\n// The options may be overkill though...\r\n\r\n\r\n// First version of a Line graph with Arbitrary everything...\r\nexport const arbitraryLineData = (inputXAxis, inputDataList) => {\r\n\t\r\n\tlet builtData = []\r\n\tlet dataIndex = 0\r\n\tfor (dataIndex in inputDataList) {\r\n\t\tbuiltData.push({\r\n\t\t\tlabel: inputDataList[dataIndex].label,\r\n\t\t\tdata: inputDataList[dataIndex].data,\r\n\t\t\tfill: false,\r\n\t\t\tbackgroundColor: 'rgb(99, 255, 132)',\r\n\t\t\tborderColor: 'rgba(255, 132, 99, 0.2)',\r\n\t\t})\r\n\t}\r\n\t\r\n\tconst data = {\r\n\t\tlabels: inputXAxis,\r\n\t\tdatasets: builtData,\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const arbitraryLineOptions = () => {\r\n\tconst options = {\r\n\t\tscales: {\r\n\t\t\tyAxes: [\r\n\t\t\t\t{\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\n// Initial tests show good results, So I should merge these into as few functions as I can....\r\n// Right now its too many...\r\nexport const getRadarEmotionData = (inputData) => {\r\n\t\r\n\tconst data = {\r\n\t\tlabels: ['Anger', 'Disgust', 'Fear', 'Joy', 'Sadness'],\r\n\t\t\tdatasets: [ \r\n\t\t\t{\r\n\t\t\t\tlabel: 'Confidence Levels',\r\n\t\t\t\tdata: inputData,\r\n\t\t\t\tbackgroundColor: 'rgba(99, 255, 132, 0.2)',\r\n\t\t\t\tborderColor: 'rgba(99, 255, 132, 1)',\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const getRadarEmotionOptions = () => {\r\n\tconst options = {\r\n\t  scale: {\r\n\t\tticks: { \r\n\t\t\tbeginAtZero: true,\r\n\t\t\tsuggestedMin: 0,\r\n\t\t\tsuggestedMax: 1,\r\n\t\t},\r\n\t  },\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\nexport const getSentimentData = (inputData) => {\r\n\tconst data = {\r\n\tlabels: ['Positive', 'Negative'],\r\n\tdatasets: [\r\n\t\t\t{\r\n\t\t\tlabel: ['Sentiment'], \r\n\t\t\tdata: inputData,\r\n\t\t\tbackgroundColor: [\r\n\t\t\t\t'rgba(99, 255, 132, 0.2)',\r\n\t\t\t\t'rgba(54, 162, 235, 0.2)',\r\n\t\t\t\t'rgba(255, 206, 86, 0.2)',\r\n\t\t\t\t'rgba(75, 192, 192, 0.2)',\r\n\t\t\t\t'rgba(153, 102, 255, 0.2)',\r\n\t\t\t\t'rgba(255, 159, 64, 0.2)',\r\n\t\t\t],\r\n\t\t\tborderColor: [\r\n\t\t\t\t'rgba(99, 255, 132, 1)',\r\n\t\t\t\t'rgba(54, 162, 235, 1)',\r\n\t\t\t\t'rgba(255, 206, 86, 1)',\r\n\t\t\t\t'rgba(75, 192, 192, 1)',\r\n\t\t\t\t'rgba(153, 102, 255, 1)',\r\n\t\t\t\t'rgba(255, 159, 64, 1)',\r\n\t\t\t],\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const getSentimentOptions = () => {\r\n\tconst options = {\r\n\t\tcutoutPercentage: 50,\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\nexport const getConceptsData = (inputData, labels) => {\r\n\tconst data = {\r\n\tlabels: labels,\r\n\tdatasets: [\r\n\t\t\t{\r\n\t\t\tlabel: 'Concepts Relevance',\r\n\t\t\tdata: inputData,\r\n\t\t\tbackgroundColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 0.2)',\r\n\t\t\t\t'rgba(54, 162, 235, 0.2)',\r\n\t\t\t\t'rgba(255, 206, 86, 0.2)',\r\n\t\t\t\t'rgba(75, 192, 192, 0.2)',\r\n\t\t\t\t'rgba(153, 102, 255, 0.2)',\r\n\t\t\t\t'rgba(255, 159, 64, 0.2)',\r\n\t\t\t],\r\n\t\t\tborderColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 1)',\r\n\t\t\t\t'rgba(54, 162, 235, 1)',\r\n\t\t\t\t'rgba(255, 206, 86, 1)',\r\n\t\t\t\t'rgba(75, 192, 192, 1)',\r\n\t\t\t\t'rgba(153, 102, 255, 1)',\r\n\t\t\t\t'rgba(255, 159, 64, 1)',\r\n\t\t\t],\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const getConceptsOptions = () => {\r\n\tconst options = {\r\n\t\tscales: {\r\n\t\t\tyAxes: [{\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t\tsuggestedMin: 0,\r\n\t\t\t\t\t\tsuggestedMax: 1,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\n// This can probobly be merged with the other one... but it is here for perhaps a color shift?\r\nexport const getCategoryData = (inputData, labels) => {\r\n\tconst data = {\r\n\tlabels: labels,\r\n\tdatasets: [\r\n\t\t\t{\r\n\t\t\tlabel: 'Categories Score',\r\n\t\t\tdata: inputData,\r\n\t\t\tbackgroundColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 0.2)',\r\n\t\t\t\t'rgba(54, 162, 235, 0.2)',\r\n\t\t\t\t'rgba(255, 206, 86, 0.2)',\r\n\t\t\t\t'rgba(75, 192, 192, 0.2)',\r\n\t\t\t\t'rgba(153, 102, 255, 0.2)',\r\n\t\t\t\t'rgba(255, 159, 64, 0.2)',\r\n\t\t\t],\r\n\t\t\tborderColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 1)',\r\n\t\t\t\t'rgba(54, 162, 235, 1)',\r\n\t\t\t\t'rgba(255, 206, 86, 1)',\r\n\t\t\t\t'rgba(75, 192, 192, 1)',\r\n\t\t\t\t'rgba(153, 102, 255, 1)',\r\n\t\t\t\t'rgba(255, 159, 64, 1)',\r\n\t\t\t],\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const getCategoryOptions = () => {\r\n\tconst options = {\r\n\t\tscales: {\r\n\t\t\tyAxes: [{\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t\tsuggestedMin: 0,\r\n\t\t\t\t\t\tsuggestedMax: 1,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\n// Now we can test to see how this would actually look.\r\nexport const testMaxMin = (inputMax, inputAve, inputMin) => {\r\n\tconst data = {\r\n\t\tlabels: ['Joy', 'Anger', 'Sadness', 'Disgust', 'Fear'],\r\n\t\t\tdatasets: [ \r\n\t\t\t{\r\n\t\t\t\tlabel: 'Max',\r\n\t\t\t\tdata: inputMax,\r\n\t\t\t\tbackgroundColor: 'rgba(99, 255, 132, 0.2)',\r\n\t\t\t\tborderColor: 'rgba(99, 255, 132, 1)',\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Ave',\r\n\t\t\t\tdata: inputAve,\r\n\t\t\t\tbackgroundColor: 'rgba(99, 132, 255, 0.2)',\r\n\t\t\t\tborderColor: 'rgba(99, 132, 255, 1)',\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Min',\r\n\t\t\t\tdata: inputMin,\r\n\t\t\t\tbackgroundColor: 'rgba(255, 99, 132, 0.2)',\r\n\t\t\t\tborderColor: 'rgba(255, 99, 132, 1)',\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\n// How can I make this not terrible back here?\r\nexport const testBarMulti = (inputData) => {\r\n\tconst data = {\r\n\tlabels: ['Joy', 'Anger', 'Sadness', 'Disgust', 'Fear'],\r\n\tdatasets: [\r\n\t\t\t{\r\n\t\t\tlabel: '# Above Threshold',\r\n\t\t\tdata: inputData,\r\n\t\t\tbackgroundColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 0.2)',\r\n\t\t\t\t'rgba(54, 162, 235, 0.2)',\r\n\t\t\t\t'rgba(255, 206, 86, 0.2)',\r\n\t\t\t\t'rgba(75, 192, 192, 0.2)',\r\n\t\t\t\t'rgba(153, 102, 255, 0.2)',\r\n\t\t\t\t'rgba(255, 159, 64, 0.2)',\r\n\t\t\t],\r\n\t\t\tborderColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 1)',\r\n\t\t\t\t'rgba(54, 162, 235, 1)',\r\n\t\t\t\t'rgba(255, 206, 86, 1)',\r\n\t\t\t\t'rgba(75, 192, 192, 1)',\r\n\t\t\t\t'rgba(153, 102, 255, 1)',\r\n\t\t\t\t'rgba(255, 159, 64, 1)',\r\n\t\t\t],\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\nexport const testBarMultiOptions = () => {\r\n\tconst options = {\r\n\t\tscales: {\r\n\t\t\tyAxes: [{\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t\tsuggestedMin: 0,\r\n\t\t\t\t\t\tsuggestedMax: 1,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\nexport const stackedBarData = (inputData1, inputData2, inputData3) => {\r\n\tconst data = {\r\n\t\tlabels: ['Value'],\r\n\t\tdatasets: [\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Minimum',\r\n\t\t\t\tdata: inputData1,\r\n\t\t\t\tbackgroundColor: 'rgb(255, 99, 132)',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Average',\r\n\t\t\t\tdata: inputData2,\r\n\t\t\t\tbackgroundColor: 'rgb(54, 162, 235)',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Maximum',\r\n\t\t\t\tdata: inputData3,\r\n\t\t\t\tbackgroundColor: 'rgb(75, 192, 192)',\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\nexport const stackedBarOptions = () => {\r\n\tconst options = {\r\n\t\tscales: {\r\n\t\t\tyAxes: [\r\n\t\t\t\t{\r\n\t\t\t\t\t//stacked: true,\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t\tsuggestedMin: -1,\r\n\t\t\t\t\t\tsuggestedMax: 1,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\txAxes: [\r\n\t\t\t\t{\r\n\t\t\t\t\t//stacked: true,\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\nexport const stackedBarData2Test = (inputData1, inputData2, inputData3) => {\r\n\tconst data = {\r\n\t\tlabels: ['Relevance', 'Sentiment'],\r\n\t\tdatasets: [\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Minimum',\r\n\t\t\t\tdata: inputData1,\r\n\t\t\t\tbackgroundColor: 'rgb(255, 99, 132)',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Average',\r\n\t\t\t\tdata: inputData2,\r\n\t\t\t\tbackgroundColor: 'rgb(54, 162, 235)',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Maximum',\r\n\t\t\t\tdata: inputData3,\r\n\t\t\t\tbackgroundColor: 'rgb(75, 192, 192)',\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const stackedBarData3Test = (inputData1, inputData2, inputData3) => {\r\n\tconst data = {\r\n\t\tlabels: ['Confidence', 'Relevance', 'Sentiment'],\r\n\t\tdatasets: [\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Minimum',\r\n\t\t\t\tdata: inputData1,\r\n\t\t\t\tbackgroundColor: 'rgb(255, 99, 132)',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Average',\r\n\t\t\t\tdata: inputData2,\r\n\t\t\t\tbackgroundColor: 'rgb(54, 162, 235)',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Maximum',\r\n\t\t\t\tdata: inputData3,\r\n\t\t\t\tbackgroundColor: 'rgb(75, 192, 192)',\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const sentimentBarData = (inputData) => {\r\n\tconst data = {\r\n\t\tlabels: ['Positive', 'Negative'],\r\n\t\tdatasets: [\r\n\t\t\t{\r\n\t\t\tlabel: '# Above Threshold',\r\n\t\t\tdata: inputData,\r\n\t\t\tbackgroundColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 0.2)',\r\n\t\t\t\t'rgba(54, 162, 235, 0.2)',\r\n\t\t\t\t'rgba(255, 206, 86, 0.2)',\r\n\t\t\t\t'rgba(75, 192, 192, 0.2)',\r\n\t\t\t\t'rgba(153, 102, 255, 0.2)',\r\n\t\t\t\t'rgba(255, 159, 64, 0.2)',\r\n\t\t\t],\r\n\t\t\tborderColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 1)',\r\n\t\t\t\t'rgba(54, 162, 235, 1)',\r\n\t\t\t\t'rgba(255, 206, 86, 1)',\r\n\t\t\t\t'rgba(75, 192, 192, 1)',\r\n\t\t\t\t'rgba(153, 102, 255, 1)',\r\n\t\t\t\t'rgba(255, 159, 64, 1)',\r\n\t\t\t],\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\nexport const sentimentBarOptions = () => {\r\n\tconst options = {\r\n\t\tscales: {\r\n\t\t\tyAxes: [{\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t\tsuggestedMin: 0,\r\n\t\t\t\t\t\tsuggestedMax: 1,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\n// This is where my template stuff is ---------------------------------------------------------------\r\nexport const getDoughData = (inputData) => {\r\n\tconst data = {\r\n\t\tlabels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],\r\n\t\tdatasets: [\r\n\t\t\t{\r\n\t\t\t\tlabel: '# of Votes',\r\n\t\t\t\tdata: inputData,\r\n\t\t\t\tbackgroundColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 0.2)',\r\n\t\t\t\t'rgba(54, 162, 235, 0.2)',\r\n\t\t\t\t'rgba(255, 206, 86, 0.2)',\r\n\t\t\t\t'rgba(75, 192, 192, 0.2)',\r\n\t\t\t\t'rgba(153, 102, 255, 0.2)',\r\n\t\t\t\t'rgba(255, 159, 64, 0.2)',\r\n\t\t\t],\r\n\t\t\t\tborderColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 1)',\r\n\t\t\t\t'rgba(54, 162, 235, 1)',\r\n\t\t\t\t'rgba(255, 206, 86, 1)',\r\n\t\t\t\t'rgba(75, 192, 192, 1)',\r\n\t\t\t\t'rgba(153, 102, 255, 1)',\r\n\t\t\t\t'rgba(255, 159, 64, 1)',\r\n\t\t\t],\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const getDoughOptions = () => {\r\n\tconst options = {\r\n\t\tcutoutPercentage: 50,\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\nexport const getRadarData = (inputData) => {\r\n\tconst data = {\r\n\t\tlabels: ['Thing 1', 'Thing 2', 'Thing 3', 'Thing 4', 'Thing 5', 'Thing 6'],\r\n\t\t\tdatasets: [ \r\n\t\t\t{\r\n\t\t\t\tlabel: '# of Votes',\r\n\t\t\t\tdata: inputData,\r\n\t\t\t\tbackgroundColor: 'rgba(99, 255, 132, 0.2)',\r\n\t\t\t\tborderColor: 'rgba(99, 255, 132, 1)',\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const getRadarOptions = () => {\r\n\tconst options = {\r\n\t  scale: {\r\n\t\tticks: { beginAtZero: true },\r\n\t  },\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\nexport const getLineData = (inputData, inputData2) => {\r\n\tconst data = {\r\n\t\tlabels: ['Thing 1', 'Thing 2', 'Thing 3', 'Thing 4', 'Thing 5', 'Thing 6'],\r\n\t\t\tdatasets: [ \r\n\t\t\t{\r\n\t\t\t\tlabel: '# of Votes',\r\n\t\t\t\tdata: inputData,\r\n\t\t\t\tfill: false,\r\n\t\t\t\tbackgroundColor: 'rgb(99, 255, 132)',\r\n\t\t\t\tborderColor: 'rgba(99, 255, 132, 0.2)',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: '# of Votes2',\r\n\t\t\t\tdata: inputData2,\r\n\t\t\t\tfill: false,\r\n\t\t\t\tbackgroundColor: 'rgb(255, 99, 132)',\r\n\t\t\t\tborderColor: 'rgba(255, 99, 132, 0.2)',\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const getLineOptions = () => {\r\n\tconst options = {\r\n\t\tscales: {\r\n\t\t\tyAxes: [\r\n\t\t\t\t{\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\nexport const getBarData = (inputData) => {\r\n\tconst data = {\r\n\tlabels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],\r\n\tdatasets: [\r\n\t\t\t{\r\n\t\t\tlabel: '# of Votes',\r\n\t\t\tdata: inputData,\r\n\t\t\tbackgroundColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 0.2)',\r\n\t\t\t\t'rgba(54, 162, 235, 0.2)',\r\n\t\t\t\t'rgba(255, 206, 86, 0.2)',\r\n\t\t\t\t'rgba(75, 192, 192, 0.2)',\r\n\t\t\t\t'rgba(153, 102, 255, 0.2)',\r\n\t\t\t\t'rgba(255, 159, 64, 0.2)',\r\n\t\t\t],\r\n\t\t\tborderColor: [\r\n\t\t\t\t'rgba(255, 99, 132, 1)',\r\n\t\t\t\t'rgba(54, 162, 235, 1)',\r\n\t\t\t\t'rgba(255, 206, 86, 1)',\r\n\t\t\t\t'rgba(75, 192, 192, 1)',\r\n\t\t\t\t'rgba(153, 102, 255, 1)',\r\n\t\t\t\t'rgba(255, 159, 64, 1)',\r\n\t\t\t],\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const getBarOptions = () => {\r\n\tconst options = {\r\n\t\tscales: {\r\n\t\t\tyAxes: [{\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\nexport const getScatterData = (inputData, inputData2) => {\r\n\tconst data = {\r\n\t\tlabels: ['Thing 1', 'Thing 2', 'Thing 3', 'Thing 4', 'Thing 5', 'Thing 6'],\r\n\t\t\tdatasets: [ \r\n\t\t\t{\r\n\t\t\t\tlabel: '# of Votes',\r\n\t\t\t\tdata: inputData,\r\n\t\t\t\tbackgroundColor: 'rgba(99, 255, 132, 0.2)',\r\n\t\t\t\tborderColor: 'rgba(99, 255, 132, 1)',\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: '# of Votes2',\r\n\t\t\t\tdata: inputData2,\r\n\t\t\t\tbackgroundColor: 'rgba(255, 99, 132, 0.2)',\r\n\t\t\t\tborderColor: 'rgba(255, 99, 132, 1)',\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\t\r\n\treturn data\r\n}\r\n\r\nexport const getScatterOptions = () => {\r\n\tconst options = {\r\n\t\tscales: {\r\n\t\t\tyAxes: [{\r\n\t\t\t\tticks: {\r\n\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t},\r\n\t\t\t},],\r\n\t\t},\r\n\t}\r\n\t\r\n\treturn options\r\n}\r\n\r\n// THIS IS EXAMPLE COMPANY TEST DATA!!!\r\nconst makeCompanyDaydata = () => {\r\n\t\r\n\tlet dayData = {\r\n\t\t\temotion: { \r\n\t\t\t\tmax:{joy:Math.random(), anger:Math.random(), sadness:Math.random(), disgust:Math.random(), fear:Math.random()}, \r\n\t\t\t\tmin:{joy:Math.random(), anger:Math.random(), sadness:Math.random(), disgust:Math.random(), fear:Math.random()}, \r\n\t\t\t\tave:{joy:Math.random(), anger:Math.random(), sadness:Math.random(), disgust:Math.random(), fear:Math.random()},\r\n\t\t\t\t\r\n\t\t\t\tthreshold:{joy:Math.random(), anger:Math.random(), sadness:Math.random(), disgust:Math.random(), fear:Math.random()},\r\n\t\t\t},\r\n\t\t\tsentiment: {\r\n\t\t\t\tmax:2*Math.random()-1, \r\n\t\t\t\tmin:2*Math.random()-1, \r\n\t\t\t\tave:2*Math.random()-1,\r\n\t\t\t\t\r\n\t\t\t\tthresholdPos:Math.random(),\r\n\t\t\t\tthresholdNeg:Math.random(),\r\n\t\t\t},\r\n\t\t\tentities: [\r\n\t\t\t\t{text:\"Example Entity\", \r\n\t\t\t\t\tcount:12,\r\n\t\t\t\t\ttype:\"Whatever\",\r\n\t\t\t\t\tconfidence:{ \r\n\t\t\t\t\t\tmax:Math.random(), \r\n\t\t\t\t\t\tmin:Math.random(), \r\n\t\t\t\t\t\tave:Math.random(),\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tstd:Math.random(),\r\n\t\t\t\t\t},\r\n\t\t\t\t\trelevance:{\r\n\t\t\t\t\t\tmax:Math.random(),\r\n\t\t\t\t\t\tmin:Math.random(),\r\n\t\t\t\t\t\tave:Math.random(),\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tstd:Math.random(),\r\n\t\t\t\t\t},\r\n\t\t\t\t\temotion:{\r\n\t\t\t\t\t\tmax:{joy:Math.random(), anger:Math.random(), sadness:Math.random(), disgust:Math.random(), fear:Math.random()},\r\n\t\t\t\t\t\tmin:{joy:Math.random(), anger:Math.random(), sadness:Math.random(), disgust:Math.random(), fear:Math.random()},\r\n\t\t\t\t\t\tave:{joy:Math.random(), anger:Math.random(), sadness:Math.random(), disgust:Math.random(), fear:Math.random()},\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tstd:{joy:Math.random(), anger:Math.random(), sadness:Math.random(), disgust:Math.random(), fear:Math.random()},\r\n\t\t\t\t\t}, \r\n\t\t\t\t\tsentiment:{\r\n\t\t\t\t\t\tmax:2*Math.random()-1, \r\n\t\t\t\t\t\tmin:2*Math.random()-1, \r\n\t\t\t\t\t\tave:2*Math.random()-1,\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tstd:Math.random(),\r\n\t\t\t\t\t},\r\n\t\t\t\t}, \r\n\t\t\t],\r\n\t\t\tkeywords: [\r\n\t\t\t\t{text:\"Example Keyword\", \r\n\t\t\t\t\tcount:6, \r\n\t\t\t\t\t\r\n\t\t\t\t\trelevance:{\r\n\t\t\t\t\t\tmax:Math.random(),\r\n\t\t\t\t\t\tmin:Math.random(),\r\n\t\t\t\t\t\tave:Math.random(),\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tstd:Math.random(),\r\n\t\t\t\t\t}, \r\n\t\t\t\t\temotion:{\r\n\t\t\t\t\t\tmax:{joy:Math.random(), anger:Math.random(), sadness:Math.random(), disgust:Math.random(), fear:Math.random()},\r\n\t\t\t\t\t\tmin:{joy:Math.random(), anger:Math.random(), sadness:Math.random(), disgust:Math.random(), fear:Math.random()},\r\n\t\t\t\t\t\tave:{joy:Math.random(), anger:Math.random(), sadness:Math.random(), disgust:Math.random(), fear:Math.random()},\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tstd:{joy:Math.random(), anger:Math.random(), sadness:Math.random(), disgust:Math.random(), fear:Math.random()},\r\n\t\t\t\t\t}, \r\n\t\t\t\t\tsentiment:{\r\n\t\t\t\t\t\tmax:2*Math.random()-1, \r\n\t\t\t\t\t\tmin:2*Math.random()-1, \r\n\t\t\t\t\t\tave:2*Math.random()-1,\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tstd:Math.random(),\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\trelations: [\r\n\t\t\t\t{type:\"didTo\", \r\n\t\t\t\t\tcount:4, \r\n\t\t\t\t\tscore:{\r\n\t\t\t\t\t\tmax:2*Math.random()-1, \r\n\t\t\t\t\t\tmin:2*Math.random()-1, \r\n\t\t\t\t\t\tave:2*Math.random()-1,\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tstd:Math.random(),\r\n\t\t\t\t\t}, \r\n\t\t\t\t\targuments:[{text:\"person1\"},{text:\"person2\"}] \r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t}\r\n\treturn dayData\r\n}\r\n\r\nexport const makeCompanyTestDataOtherFormat = () => {\r\n\t\r\n\tconst testData = {\r\n\t\tmon: {\r\n\t\t\tresponsePurity: 90,\r\n\t\t\tp1: {\r\n\t\t\t\tname:\"Prompt 1 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp2: {\r\n\t\t\t\tname:\"Prompt 2 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp3: {\r\n\t\t\t\tname:\"Prompt 3 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp4: {\r\n\t\t\t\tname:\"Prompt 4 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t},\r\n\t\ttue: {\r\n\t\t\tresponsePurity: 23,\r\n\t\t\tp1: {\r\n\t\t\t\tname:\"Prompt 1 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp2: {\r\n\t\t\t\tname:\"Prompt 2 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp3: {\r\n\t\t\t\tname:\"Prompt 3 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp4: {\r\n\t\t\t\tname:\"Prompt 4 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t},\r\n\t\twed: {\r\n\t\t\tresponsePurity: 55,\r\n\t\t\tp1: {\r\n\t\t\t\tname:\"Prompt 1 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp2: {\r\n\t\t\t\tname:\"Prompt 2 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp3: {\r\n\t\t\t\tname:\"Prompt 3 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp4: {\r\n\t\t\t\tname:\"Prompt 4 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t},\r\n\t\tthu: {\r\n\t\t\tresponsePurity: 78,\r\n\t\t\tp1: {\r\n\t\t\t\tname:\"Prompt 1 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp2: {\r\n\t\t\t\tname:\"Prompt 2 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp3: {\r\n\t\t\t\tname:\"Prompt 3 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp4: {\r\n\t\t\t\tname:\"Prompt 4 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t},\r\n\t\tfri: {\r\n\t\t\tresponsePurity: 34,\r\n\t\t\tp1: {\r\n\t\t\t\tname:\"Prompt 1 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp2: {\r\n\t\t\t\tname:\"Prompt 2 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp3: {\r\n\t\t\t\tname:\"Prompt 3 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp4: {\r\n\t\t\t\tname:\"Prompt 4 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t}\r\n\t\t},\r\n\t\tsat: {\r\n\t\t\tresponsePurity: 90,\r\n\t\t\tp1: {\r\n\t\t\t\tname:\"Prompt 1 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp2: {\r\n\t\t\t\tname:\"Prompt 2 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp3: {\r\n\t\t\t\tname:\"Prompt 3 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp4: {\r\n\t\t\t\tname:\"Prompt 4 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t}\r\n\t\t},\r\n\t\tsun: {\r\n\t\t\tresponsePurity: 90,\r\n\t\t\tp1: {\r\n\t\t\t\tname:\"Prompt 1 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp2: {\r\n\t\t\t\tname:\"Prompt 2 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp3: {\r\n\t\t\t\tname:\"Prompt 3 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp4: {\r\n\t\t\t\tname:\"Prompt 4 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t}\r\n\t\t},\r\n\t\tallDay: {\r\n\t\t\tresponsePurity: 90,\r\n\t\t\tp1: {\r\n\t\t\t\tname:\"Prompt 1 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp2: {\r\n\t\t\t\tname:\"Prompt 2 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp3: {\r\n\t\t\t\tname:\"Prompt 3 Full Name!!2\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t},\r\n\t\t\tp4: {\r\n\t\t\t\tname:\"Prompt 4 Full Name\",\r\n\t\t\t\tdata: makeCompanyDaydata(),\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\t\t\r\n\treturn testData\r\n}\r\n\r\nconst timeLength = 365\r\n\r\n// Lets mess around with this...\r\nexport const generateTestEHIX = () => {\r\n\t\r\n\tlet textX = []\r\n\t\r\n\tlet i;\r\n\tfor (i=-timeLength*2; i < 0; i++) {\r\n\t\ttextX.push(i)\r\n\t}\r\n\t\r\n\treturn textX\r\n}\r\n\r\nexport const generateTestEHIY = () => {\r\n\t\r\n\tlet textY = []\r\n\t\r\n\tlet i;\r\n\tfor (i=0; i < timeLength*2; i++) {\r\n\t\ttextY.push((i/1000)*Math.sin(3.141592654*i/360))\r\n\t}\r\n\t\r\n\treturn textY\r\n}","import React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport Store from \"store\"\r\nimport Calendar from 'react-calendar'\r\nimport 'react-calendar/dist/Calendar.css';\r\nimport { Doughnut, Radar, Bar } from 'react-chartjs-2';\r\n\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\n//import {isLoggedIn} from '../utils';\r\nimport {getRadarEmotionData, getSentimentData, getConceptsData, getCategoryData} from '../utils';\r\nimport {getRadarEmotionOptions, getSentimentOptions, getConceptsOptions, getCategoryOptions} from '../utils';\r\n\r\nclass journalView extends React.Component {\r\n\r\n\tconstructor(props) {\r\n        super(props);\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tmessages: \"Waiting for user input...\",\r\n\t\t\tjournalData: \"\",\r\n\t\t\t\r\n\t\t\tcurrentDate: new Date(),\r\n\t\t\t\r\n\t\t\t// These are the dates that we know have valid Journal entries\r\n\t\t\tvalidJournalDates: [],\r\n\t\t\t// These are the dates that we know have a valid Journal, AND an valid AI response!\r\n\t\t\tvalidJournalScanDates: [],\r\n\t\t\t\r\n\t\t\tdataCategories: getCategoryData([0], ['']),\r\n\t\t\toptionsCategories: getCategoryOptions(),\r\n\t\t\t\r\n\t\t\tdataConcepts: getConceptsData([0],['']),\r\n\t\t\toptionsConcepts: getConceptsOptions(),\r\n\t\t\t\r\n\t\t\tdataEntities: [],\r\n\t\t\tdataKeywords: [],\r\n\t\t\tdataRelations: [],\r\n\t\t\t\r\n\t\t\tdataEmotion: getRadarEmotionData([0]),\r\n\t\t\toptionsEmotions: getRadarEmotionOptions(),\r\n\t\t\t\r\n\t\t\tdataSentiment: getSentimentData([0]),\r\n\t\t\toptionsSentiment: getSentimentOptions(),\r\n\r\n        };\r\n\t\t\r\n\t\t// This doesnt look right... Fix this later I guess\r\n\t\tthis.onChange = (editorState) => this.setState({editorState});\r\n\t\tthis.setEditor = (editor) => {\r\n\t\t\tthis.editor = editor;\r\n\t\t};\r\n\t\t\r\n\t};\r\n\r\n\tbackButton = () => {\r\n\t\tthis.props.history.goBack()\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\t\r\n\t\tlet result = this.loadFromCookies();\r\n\t\tif (!result) {\r\n\t\t\tthis.getJournalDates()\r\n\t\t}\r\n\t};\r\n\t\r\n\tloadFromCookies = () => {\r\n\t\t// Security here given our user....\r\n\t\t// console.log(this.props.currentUser)\r\n\t\t\r\n\t\t// Change this so that it is for the currentuser, I got that up here done, but LETS TRY\r\n\t\tlet journalDates = Store.get(this.props.currentUser+'-ValidDates')\r\n\t\t\r\n\t\ttry{\r\n\t\t\tthis.setState({validJournalScanDates: journalDates.AIDates, validJournalDates: journalDates.journalDates})\r\n\t\t\tconsole.log(\"Got the journal data from the cookies\")\r\n\t\t\treturn true\r\n\t\t} catch{\r\n\t\t\tconsole.log(\"No cookies to load the data from\")\r\n\t\t\treturn false\r\n\t\t}\r\n\t};\r\n\t\r\n\tloadTestData = () => {\r\n\t\t// And here is our testdata for display\r\n\t\tlet AIdata = Store.get('testData')\r\n\t\t//try{\r\n\t\t\t//console.log(AIdata)\r\n\t\t\t\r\n\t\t\t// Categories!\r\n\t\t\tconst catData = AIdata.categories\r\n\t\t\t\r\n\t\t\tlet catLabels = []\r\n\t\t\tlet catScores = []\r\n\t\t\t\r\n\t\t\tvar index;\r\n\t\t\tfor (index in catData) {\r\n\t\t\t\tconst cat = catData[index]\r\n\t\t\t\t//console.log(cat)\r\n\t\t\t\t\r\n\t\t\t\tcatLabels.push(cat.label)\r\n\t\t\t\tcatScores.push(cat.score)\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Concepts!\r\n\t\t\tconst conData = AIdata.concepts\r\n\t\t\t\r\n\t\t\tlet conLabels = []\r\n\t\t\tlet conRelevance = []\r\n\t\t\tlet conDatabase = []\r\n\t\t\t\r\n\t\t\tfor (index in conData) {\r\n\t\t\t\tconst con = conData[index]\r\n\t\t\t\t\r\n\t\t\t\tconLabels.push(con.text)\r\n\t\t\t\tconRelevance.push(con.relevance)\r\n\t\t\t\tconDatabase.push(con.dbpedia_resource)\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Emotions!\r\n\t\t\tconst emDataObj = AIdata.emotion.document.emotion\r\n\t\t\tconst emData = [emDataObj.anger, emDataObj.disgust, emDataObj.fear, emDataObj.joy, emDataObj.sadness]\r\n\t\t\t\r\n\t\t\t// Entities!\r\n\t\t\tconst entData = AIdata.entities\r\n\t\t\t\r\n\t\t\tlet entity = []\r\n\r\n\t\t\tfor (index in entData) {\r\n\t\t\t\tconst ent = entData[index]\r\n\t\t\t\t//console.log(ent)\r\n\t\t\t\t\r\n\t\t\t\t// What about this?\r\n\t\t\t\t//console.log(ent.disambiguation)\r\n\t\t\t\t\r\n\t\t\t\tconst entEmotion = [ent.emotion.anger, ent.emotion.disgust, ent.emotion.fear, ent.emotion.joy, ent.emotion.sadness]\r\n\t\t\t\t\r\n\t\t\t\tconst senDataScore = ent.sentiment.score\r\n\t\t\t\tconst oppData = 1-Math.abs(senDataScore)\r\n\t\t\t\t\r\n\t\t\t\tlet arrangedDataScore = [0, 0]\r\n\t\t\t\tif (senDataScore > 0) {\r\n\t\t\t\t\tarrangedDataScore = [senDataScore, oppData]\r\n\t\t\t\t} else {\r\n\t\t\t\t\tarrangedDataScore = [oppData, senDataScore]\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tconst entStore = {\r\n\t\t\t\t\tid:index,\r\n\t\t\t\t\t\r\n\t\t\t\t\ttext:ent.text,\r\n\t\t\t\t\ttype:ent.type,\r\n\t\t\t\t\t\r\n\t\t\t\t\tcount:ent.count,\r\n\t\t\t\t\trelevance:ent.relevance,\r\n\t\t\t\t\t\r\n\t\t\t\t\temotion:entEmotion,\r\n\t\t\t\t\tsentiment:arrangedDataScore,\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tentity.push(entStore)\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Keywords!\r\n\t\t\tconst keyData = AIdata.keywords\r\n\t\t\t\r\n\t\t\tlet keyword = []\r\n\r\n\t\t\tfor (index in keyData) {\r\n\t\t\t\tconst key = keyData[index]\r\n\t\t\t\t\r\n\t\t\t\t//console.log(key.emotion)\r\n\t\t\t\t//console.log(key.sentiment)\r\n\t\t\t\t\r\n\t\t\t\tconst keyEmotion = [key.emotion.anger, key.emotion.disgust, key.emotion.fear, key.emotion.joy, key.emotion.sadness]\r\n\t\t\t\t\r\n\t\t\t\tconst senDataScore = key.sentiment.score\r\n\t\t\t\tconst oppData = 1-Math.abs(senDataScore)\r\n\t\t\t\t\r\n\t\t\t\tlet arrangedDataScore = [0, 0]\r\n\t\t\t\tif (senDataScore > 0) {\r\n\t\t\t\t\tarrangedDataScore = [senDataScore, oppData]\r\n\t\t\t\t} else {\r\n\t\t\t\t\tarrangedDataScore = [oppData, senDataScore]\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tconst keyStore = {\r\n\t\t\t\t\tid:index,\r\n\t\t\t\t\t\r\n\t\t\t\t\ttext:key.text,\r\n\t\t\t\t\tcount:key.count,\r\n\t\t\t\t\trelevance:key.relevance,\r\n\t\t\t\t\t\r\n\t\t\t\t\temotion:keyEmotion,\r\n\t\t\t\t\tsentiment:arrangedDataScore,\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tkeyword.push(keyStore)\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Relations!\r\n\t\t\tlet relation = []\r\n\t\t\t\r\n\t\t\tconst relDat = AIdata.relations\r\n\r\n\t\t\tfor (index in relDat) {\r\n\t\t\t\tconst rel = relDat[index]\r\n\t\t\t\t\r\n\t\t\t\t// Probobly combine these?\r\n\t\t\t\t\r\n\t\t\t\tconst relStore = {\r\n\t\t\t\t\tid: index,\r\n\t\t\t\t\tinit:rel.arguments[0].text,\r\n\t\t\t\t\taction:rel.type,\r\n\t\t\t\t\ttarget:rel.arguments[1].text,\r\n\t\t\t\t\tscore:rel.score,\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\trelation.push(relStore)\r\n\r\n\t\t\t\t// How do I Show this?\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Sentiment!\r\n\t\t\tconst senDataScore = AIdata.sentiment.document.score\r\n\t\t\t\r\n\t\t\tconst senOne = 0.5*(senDataScore + 1)\r\n\t\t\tconst senOpp = 0.5*(senDataScore - 1)\r\n\t\t\t\r\n\t\t\tlet arrangedDataScore = [senOne, senOpp]\r\n\r\n\t\t\tthis.setState({\r\n\t\t\t\t\r\n\t\t\t\tdataCategories:getCategoryData(catScores, catLabels),\r\n\t\t\t\tdataConcepts:getConceptsData(conRelevance, conLabels),\r\n\t\t\t\tdataEmotion:getRadarEmotionData(emData),\r\n\t\t\t\t\r\n\t\t\t\tdataEntities: entity,\r\n\t\t\t\tdataKeywords: keyword,\r\n\t\t\t\tdataRelations: relation,\r\n\t\t\t\r\n\t\t\t\tdataSentiment:getSentimentData(arrangedDataScore),\r\n\t\t\t\t\r\n\t\t\t})\r\n\t\t\t\r\n\t\t//} catch{\r\n\t\t\t//console.log(\"Error!\")\r\n\t\t//}\r\n\t}\r\n\t\r\n\tsaveToCookies = () => {\r\n\t\t\r\n\t\tStore.set(this.props.currentUser+'-ValidDates', { journalDates:this.state.validJournalDates, AIDates:this.state.validJournalScanDates })\r\n\t\tconsole.log(\"Saved to cookies!\")\r\n\t};\r\n\t\r\n\tgetJournalDates = () => {\r\n\t\t\r\n\t\tconst config = {\r\n\t\t\theaders: { Authorization: `JWT ${this.props.authToken}` }\r\n\t\t};\r\n\t\t\r\n\t\t// IF ANY GETS FAILS DUE TO BAD TOKEN, WE NEED TO SEND IT UP THE CHAIN TO DO SOMETHING ABOUT IT\r\n\t\t\r\n\t\t// So, this will give you EVERY SINGLE VALID ENTRY WE HAVE\r\n\t\t// WITHOUT. I REPEAT. WITHOUT THE JOURNAL CONTENT\r\n\t\taxios.get(this.props.APIHost +\"/getJournalDates\", config)\r\n\t\t.then( \r\n\t\t\tres => {\r\n\t\t\t\t\r\n\t\t\t\tconsole.log(\"Got Data!\")\r\n\t\t\t\t\r\n\t\t\t\tlet tempAIArray = []\r\n\t\t\t\tlet tempJoArray = []\r\n\t\t\t\t\r\n\t\t\t\tStore.remove(this.props.currentUser+'-ValidDates')\r\n\r\n\t\t\t\tvar item = \"\"\r\n\t\t\t\tfor (item in res.data){\r\n\t\t\t\t\t\r\n\t\t\t\t\t// THESE DATES HAVE THE WRONG TIMEZONE COMING IN, SO THE RESULTING DAY CAN BE WRONG!!!!\r\n\t\t\t\t\t// CHANGE THIS!!!\r\n\t\t\t\t\tconst newDate = new Date(res.data[item].createdDate)\r\n\t\t\t\t\t\r\n\t\t\t\t\tconst checkDate = newDate.getFullYear()+\"-\"+newDate.getMonth()+\"-\"+(newDate.getDate()+1)\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (res.data[item].hasAI) {\r\n\t\t\t\t\t\ttempAIArray.push( checkDate )\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ttempJoArray.push( checkDate )\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tthis.setState({validJournalScanDates: tempAIArray, validJournalDates: tempJoArray})\r\n\t\t\t\t\r\n\t\t\t\t// Save this new set to the cookies...\r\n\t\t\t\tthis.saveToCookies()\r\n\t\t\t\t\r\n\t\t})\r\n\t\t.catch( err => {\r\n\t\t\tif (err.response.status === 401) {\r\n\t\t\t\tthis.props.forceLogout()\r\n\t\t\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\treturn false\r\n\t};\r\n\t\r\n\tpickDate = (selectedDate) => {\r\n\t\t\r\n\t\tconsole.log(\"requesting date\")\r\n\t\tthis.setState({currentDate: selectedDate})\r\n\t\t\r\n\t\t// Okay, so check to see if we HAVE the journal entry in our storage\r\n\t\t// If we do, show that!\r\n\t\r\n\t\t// Change this so that it is for the currentuser, I got that up here done, but LETS TRY\r\n\t\tlet journal = Store.get(this.props.currentUser+'-Journal-'+selectedDate)\r\n\t\t\r\n\t\ttry{\r\n\t\t\t\r\n\t\t\t// TO DO, THIS ONE!\r\n\t\t\tconsole.log(journal.content)\r\n\t\t\t\r\n\t\t\tconsole.log(\"Got the Journal entry from storage?!\")\r\n\t\t} catch{\r\n\t\t\t//console.log(\"No cookies to load the data from\")\r\n\t\t\r\n\t\t\t// If we DONT, ask the server\r\n\t\t\t// need to be able to check if it was changed...\r\n\t\t\t// Probobly need to add a \"last Edited\" field...\r\n\t\t\t// And and edit history... but that is for later\r\n\t\t\t\r\n\t\t\tconst config = {\r\n\t\t\t\theaders: { Authorization: `JWT ${this.props.authToken}` }\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\tconsole.log(\"requesting date\")\r\n\t\t\tthis.setState({currentDate: selectedDate})\r\n\t\t\t\r\n\t\t\tconst dateReq = selectedDate.toJSON().split(\"T\")[0]\r\n\t\t\t\r\n\t\t\taxios.get(this.props.APIHost +\"/getUserJournal/?reqDate=\"+dateReq, config)\r\n\t\t\t.then( \r\n\t\t\t\tres => {\r\n\t\t\t\t\t// What if it is > 1?\r\n\t\t\t\t\tif (res.data.length > 0) {\r\n\t\t\t\t\t\tconsole.log(\"obtained a journal entry\")\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (res.data[0].hasAI) {\r\n\t\t\t\t\t\t\tconsole.log(\"Saved to the storage\")\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t// Save in the cookies for non-login access...\r\n\t\t\t\t\t\t\tStore.set('testData', res.data[0].AIresult)\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tthis.loadTestData()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.setState( {\r\n\t\t\t\t\t\t\tmessages: \"Showing Journal Entry for: \" + this.state.currentDate.toString(),\r\n\t\t\t\t\t\t\tjournalDisp: res.data[0].content,\r\n\t\t\t\t\t\t} )\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tconsole.log(\"No entry for that day\")\r\n\t\t\t\t\t\tthis.setState( {\r\n\t\t\t\t\t\t\tmessages: \"No entry for that day\",\r\n\t\t\t\t\t\t\tjournalDisp: \"\",\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// LEts not store it in the cookies for now...\r\n\t\t\t})\r\n\t\t\t.catch( err => {\r\n\t\t\t\t\r\n\t\t\t\tif (err.response.status === 401) {\r\n\t\t\t\t\tthis.props.forceLogout()\r\n\t\t\t\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t});\r\n\t\t\r\n\t\t}\r\n\t};\r\n\t\r\n\tforceCalenderUpdateTest = () => {\r\n\t\t\r\n\t}\r\n\r\n\trender() {\r\n\t\t\r\n\t\tconst tileClassName = ({ date, view }) => {\r\n\t\t\r\n\t\t\t// Add class to tiles in month view only\r\n\t\t\tif (view === 'month') {\r\n\t\t\t\t\r\n\t\t\t\tconst checkDate = date.getFullYear()+\"-\"+date.getMonth()+\"-\"+date.getDate()\r\n\t\t\t\t\r\n\t\t\t\t//console.log(checkDate)\r\n\t\t\t\t//console.log(this.state.validJournalDates)\r\n\r\n\t\t\t\t// Check if a date React-Calendar wants to check is on the list of dates to add class to\r\n\t\t\t\tconst hasJournal = this.state.validJournalDates.find( element => element === checkDate)\r\n\t\t\t\tconst hasAI = this.state.validJournalScanDates.find( element => element === checkDate)\r\n\t\t\t\t\r\n\t\t\t\tif (hasAI) {\r\n\t\t\t\t\treturn 'btn btn-success';\r\n\t\t\t\t} else if (hasJournal) {\r\n\t\t\t\t\treturn 'btn btn-warning'\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// use the default styling...\r\n\t\t\t\t\t//return 'btn btn-outline-dark'\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t// Entities\r\n\t\tvar entitiesDisplay = [];\r\n\t\t\r\n\t\tif (this.state.dataEntities.length > 0) { \r\n\t\t\tvar index;\r\n\t\t\tfor (index in this.state.dataEntities) {\r\n\t\t\t\tconst ent = this.state.dataEntities[index]\r\n\t\t\t\t\r\n\t\t\t\tconst emotionData = getRadarEmotionData(ent.emotion)\r\n\t\t\t\tconst sentimentData = getSentimentData(ent.sentiment)\r\n\t\t\t\t\r\n\t\t\t\tentitiesDisplay.push(\r\n\t\t\t\t\t<tr key={ent.id}>\r\n\t\t\t\t\t\t<th scope=\"row\">{ent.text}</th>\r\n\t\t\t\t\t\t<td>{ent.type}</td>\r\n\t\t\t\t\t\t<td>{ent.count}</td>\r\n\t\t\t\t\t\t<td>{ent.relevance}</td>\r\n\t\t\t\t\t\t<td> <Radar ref={this.chartReference} data={emotionData} options={this.state.optionsEmotions} /> </td>\r\n\t\t\t\t\t\t<td> <Doughnut ref={this.chartReference} data={sentimentData} options={this.state.optionsSentiment} /> </td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t}\r\n\t\t\r\n\t\t// Keywords\r\n\t\tvar keywordsDisplay = [];\r\n\t\t\r\n\t\tif (this.state.dataKeywords.length > 0) { \r\n\t\t\tfor (index in this.state.dataKeywords) {\r\n\t\t\t\tconst key = this.state.dataKeywords[index]\r\n\t\t\t\t\r\n\t\t\t\tconst emotionData = getRadarEmotionData(key.emotion)\r\n\t\t\t\tconst sentimentData = getSentimentData(key.sentiment)\r\n\t\t\t\t\r\n\t\t\t\tkeywordsDisplay.push(\r\n\t\t\t\t\t<tr key={key.id}>\r\n\t\t\t\t\t\t<th scope=\"row\">{key.text}</th>\r\n\t\t\t\t\t\t<td>{key.count}</td>\r\n\t\t\t\t\t\t<td><Radar ref={this.chartReference} data={emotionData} options={this.state.optionsEmotions} /></td>\r\n\t\t\t\t\t\t<td><Doughnut ref={this.chartReference} data={sentimentData} options={this.state.optionsSentiment} /></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t}\r\n\t\t\r\n\t\t// R E L A T I O N S\r\n\t\tvar relationsDisplay = [];\r\n\t\t\r\n\t\tif (this.state.dataRelations.length > 0) { \r\n\t\t\r\n\t\t\tfor (index in this.state.dataRelations) {\r\n\t\t\t\tconst rel = this.state.dataRelations[index]\r\n\t\t\t\trelationsDisplay.push(\r\n\t\t\t\t\t<tr key={rel.id}>\r\n\t\t\t\t\t\t<th scope=\"row\">{rel.init}</th>\r\n\t\t\t\t\t\t<td>{rel.action}</td>\r\n\t\t\t\t\t\t<td>{rel.target}</td>\r\n\t\t\t\t\t\t<td>{rel.score}</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className=\"mainView\">\r\n\t\t\t\t\r\n\t\t\t\t<div className=\"container\">\r\n\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-sm-3 m-2\">\t\r\n\t\t\t\t\t\t\t<button className=\"btn btn-primary\" onClick={this.backButton}>\r\n\t\t\t\t\t\t\t\tGo Back\r\n\t\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-sm m-2\">\t\r\n\t\t\t\t\t\t\tPage Title Test!\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"row \">\r\n\t\t\t\t\t\t<div className=\"col-lg-3 border m-2\">\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<Calendar \r\n\t\t\t\t\t\t\t\t\tonChange={this.pickDate}\r\n\t\t\t\t\t\t\t\t\tvalue={this.state.currentDate}\r\n\t\t\t\t\t\t\t\t\ttileClassName={tileClassName}\r\n\r\n\t\t\t\t\t\t\t\t\tminDetail={'year'}\r\n\t\t\t\t\t\t\t\t\tmaxDetail={'month'}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col border m-2\">\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div className=\"row my-2\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<p>{this.state.messages}</p>\r\n\t\t\t\t\t\t\t\t\t<p>{this.state.journalDisp}</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"row my-2\">\r\n\t\t\t\t\t\t<div className=\"col-lg-2\">\r\n\t\t\t\t\t\t\t<p> Debug! </p>\r\n\t\t\t\t\t\t\t<button onClick={this.loadTestData}> Load Stored AI Data </button>\r\n\t\t\t\t\t\t\t<button onClick={this.getJournalDates}> Force Dates Update </button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"row my-2\">\r\n\t\t\t\t\t\t<div className=\"col border mx-2\">\r\n\t\t\t\t\t\t\t<Radar ref={this.chartReference} data={this.state.dataEmotion} options={this.state.optionsEmotions} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col border mx-2\">\r\n\t\t\t\t\t\t\t<Doughnut ref={this.chartReference} data={this.state.dataSentiment} options={this.state.optionsSentiment} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"row  my-2\">\r\n\t\t\t\t\t\t<div className=\"col border mx-2\">\r\n\t\t\t\t\t\t\t<Bar ref={this.chartReference} data={this.state.dataCategories} options={this.state.optionsCategories} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col border mx-2\">\r\n\t\t\t\t\t\t\t<Bar ref={this.chartReference} data={this.state.dataConcepts} options={this.state.optionsConcepts} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"row my-2\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<h3>Entities!</h3>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<table className=\"table\">\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\">Name</th>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\">Type</th>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\">#Appearances</th>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\">Relevance Score</th>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\">Emotion</th>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\">Sentiment</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{entitiesDisplay}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"row my-2\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<h3>Keywords!</h3>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<table className=\"table\">\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\">Word</th>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\">#Appearances</th>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\">Emotion</th>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\">Sentiment</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{keywordsDisplay}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"row my-2\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<h3>Relations!</h3>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<table className=\"table\">\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\">Thing</th>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\">Action</th>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\">Target</th>\r\n\t\t\t\t\t\t\t\t<th scope=\"col\">Score</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{relationsDisplay}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"row  my-2\">\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\tPADDING\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(journalView);","import React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport { withRouter } from \"react-router-dom\";\r\nimport Store from \"store\"\r\nimport {Editor, EditorState, RichUtils, convertToRaw, convertFromRaw } from 'draft-js';\r\n//ContentState\r\n\r\nconst styles = {\r\n  editor: {\r\n    border: '1px solid gray',\r\n    minHeight: '6em'\r\n  }\r\n};\r\n\r\n// START OF EXAMPLE CODE FROM THE DRAFT.JS!!!!!\r\nclass StyleButton extends React.Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.onToggle = (e) => {\r\n\t\t\t//console.log(this.props.style)\r\n\t\t\te.preventDefault();\r\n\t\t\tthis.props.onToggle(this.props.style);\r\n\t\t};\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet className = 'btn btn-outline-primary';\r\n\t\tif (this.props.active) {\r\n\t\t\tclassName += ' active';\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<button className={className} onClick={this.onToggle}>\r\n\t\t\t\t{this.props.label}\r\n\t\t\t</button>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst BLOCK_TYPES = [\r\n\t{label: 'H1', style: 'header-one'},\r\n\t{label: 'H2', style: 'header-two'},\r\n\t{label: 'H3', style: 'header-three'},\r\n\t{label: 'H4', style: 'header-four'},\r\n\t{label: 'H5', style: 'header-five'},\r\n\t{label: 'H6', style: 'header-six'},\r\n\t//{label: 'Blockquote', style: 'blockquote'},\r\n\t{label: 'UL', style: 'unordered-list-item'},\r\n\t{label: 'OL', style: 'ordered-list-item'},\r\n\t//{label: 'Code Block', style: 'code-block'},\r\n];\r\n\r\nconst BlockStyleControls = (props) => {\r\n\tconst {editorState} = props;\r\n\tconst selection = editorState.getSelection();\r\n\tconst blockType = editorState\r\n\t  .getCurrentContent()\r\n\t  .getBlockForKey(selection.getStartKey())\r\n\t  .getType();\r\n\r\n\treturn (\r\n\t\t<div className=\"RichEditor-controls\">\r\n\t\t\t{BLOCK_TYPES.map((type) =>\r\n\t\t\t\t<StyleButton\r\n\t\t\t\t\tkey={type.label}\r\n\t\t\t\t\tactive={type.style === blockType}\r\n\t\t\t\t\tlabel={type.label}\r\n\t\t\t\t\tonToggle={props.onToggle}\r\n\t\t\t\t\tstyle={type.style}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst INLINE_STYLES = [\r\n\t{label: 'Bold', style: 'BOLD'},\r\n\t{label: 'Italic', style: 'ITALIC'},\r\n\t{label: 'Underline', style: 'UNDERLINE'},\r\n\t//{label: 'Monospace', style: 'CODE'},\r\n];\r\n\r\nconst InlineStyleControls = (props) => {\r\n\tconst currentStyle = props.editorState.getCurrentInlineStyle();\r\n\t\r\n\treturn (\r\n\t\t<div className=\"RichEditor-controls\">\r\n\t\t\t{INLINE_STYLES.map((type) =>\r\n\t\t\t\t<StyleButton\r\n\t\t\t\t\tkey={type.label}\r\n\t\t\t\t\tactive={currentStyle.has(type.style)}\r\n\t\t\t\t\tlabel={type.label}\r\n\t\t\t\t\tonToggle={props.onToggle}\r\n\t\t\t\t\tstyle={type.style}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\n// END OF THE EXAMPLE CODE!!!\r\n\r\nclass journalView extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n        super(props);\r\n\t\t\r\n\t\tconst today = new Date()\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tcurrentDate: today,\r\n\t\t\t\r\n\t\t\tmessages: \"Creating journal for: \" + today.toJSON().split(\"T\")[0],\r\n\t\t\t\r\n\t\t\teditorState: EditorState.createEmpty(),\r\n\t\t\t\r\n\t\t\tjournalPlaceolder: \"\",\r\n\r\n        };\r\n\t\t\r\n\t\t// This doesnt look right... Fix this later I guess\r\n\t\tthis.onChange = (incomingState) => {\r\n\t\t\t//console.log(incomingState)\r\n\t\t\tthis.setState({\r\n\t\t\t\teditorState:incomingState,\r\n\t\t\t})\t\r\n\t\t}\r\n\t\t\r\n\t\tthis.setEditor = (editor) => {\r\n\t\t\tthis.editor = editor;\r\n\t\t};\r\n\t\t\r\n\t};\r\n\r\n\tbackButton = () => {\r\n\t\tthis.props.history.goBack()\r\n\t}\r\n\r\n\t// Lets test a POST request then!\r\n\tsaveJournal = () => {\r\n\t\t\r\n\t\tconst randomID = Math.random().toString(16).substr(2, 8);\r\n\t\t\r\n\t\tconst config = {\r\n\t\t\theaders: { Authorization: `JWT ${this.props.authToken}` }\r\n\t\t};\r\n\t\t\r\n\t\tconst data = {\r\n\t\t\tshorthand: 'made from the website: '+randomID,\r\n\t\t\t\r\n\t\t\t// This is my workaround before I learn what ACTUALLY TO DO HERE\r\n\t\t\tauthor: '',\r\n\t\t\r\n\t\t\t// It SHOULD be sufficient to use the current date...\r\n\t\t\t// Because the journal transitions on date changes...\t\t\r\n\t\t\tcreatedDate: this.state.currentDate.toJSON().split(\"T\")[0],\r\n\t\t\t\r\n\t\t\t// Same here, Should be able to do this...\r\n\t\t\t// The question is, is this an \"overwrite\" or just an add?\r\n\t\t\tcontent: this.state.editorState.getCurrentContent().getPlainText(),\r\n\t\t};\r\n\t\t\r\n\t\t//console.log(data.content)\r\n\t\t\r\n\t\taxios.post(this.props.APIHost +\"/saveUserJournal/\", data, config )\r\n\t\t.then( res => { \r\n\t\t\r\n\t\t\tconsole.log(res)\r\n\t\t\tconsole.log(\"Success\")\r\n\t\t\t\r\n\t\t})\r\n\t\t.catch( err => {\r\n\t\t\t// Change this depending on the error...\r\n\t\t\tif (err.response.status === 401) {\r\n\t\t\t\tthis.props.forceLogout()\r\n\t\t\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\t\r\n\tloadToday = () => {\r\n\t\tlet loadedEditor = convertFromRaw(Store.get(\"TodayTest\"))\r\n\t\t//console.log(loadedEditor)\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\teditorState: EditorState.createWithContent(loadedEditor)\r\n\t\t})\r\n\t}\r\n\t\r\n\tcookieToday = () => {\r\n\t\t//console.log('content state', convertToRaw(this.state.editorState.getCurrentContent()));\r\n\t\tStore.set( \"TodayTest\", convertToRaw(this.state.editorState.getCurrentContent()) )\r\n\t}\r\n\r\n\tonBoldClick = () => {\r\n\t\tthis.onChange(RichUtils.toggleInlineStyle(this.state.editorState, 'BOLD'));\r\n\t}\r\n\t// Example code... Can I alter this to be more my style?\r\n\t// It works, so its okay for now...\r\n\ttoggleBlockType = (blockType) => {\r\n\t\tthis.onChange(\r\n\t\t\tRichUtils.toggleBlockType(\r\n\t\t\t\tthis.state.editorState,\r\n\t\t\t\tblockType\r\n\t\t\t)\r\n\t\t);\r\n\t}\r\n\t\r\n\ttoggleInlineStyle = (inlineStyle) => {\r\n\t\tthis.onChange(\r\n            RichUtils.toggleInlineStyle(\r\n\t\t\t\tthis.state.editorState,\r\n\t\t\t\tinlineStyle\r\n            )\r\n        );\r\n\t}\r\n\t\r\n\thandleKeyCommand = (command, editorState) => {\r\n\t\tconst newState = RichUtils.handleKeyCommand(editorState, command);\r\n\r\n\t\tif (newState) {\r\n\t\t\tthis.onChange(newState);\r\n\t\t\treturn 'handled';\r\n\t\t}\r\n\r\n\t\treturn 'not-handled';\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"makeView\">\r\n\t\t\t\t<div className=\"container\">\r\n\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-sm-3 m-2\">\t\r\n\t\t\t\t\t\t\t<button className=\"btn btn-primary\" onClick={this.backButton}>\r\n\t\t\t\t\t\t\t\tGo Back\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-sm m-2\">\t\r\n\t\t\t\t\t\t\tPage Title Test!\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t{this.state.messages}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col border mx-2 my-2\">\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<BlockStyleControls\r\n\t\t\t\t\t\t\t\teditorState={this.state.editorState}\r\n\t\t\t\t\t\t\t\tonToggle={this.toggleBlockType}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<InlineStyleControls\r\n\t\t\t\t\t\t\t\teditorState={this.state.editorState}\r\n\t\t\t\t\t\t\t\tonToggle={this.toggleInlineStyle}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div style={styles.editor} >\r\n\t\t\t\t\t\t\t\t<Editor\r\n\t\t\t\t\t\t\t\t  ref={this.setEditor}\r\n\t\t\t\t\t\t\t\t  \r\n\t\t\t\t\t\t\t\t  editorState={this.state.editorState}\r\n\t\t\t\t\t\t\t\t  onChange={this.onChange}\r\n\t\t\t\t\t\t\t\t  \r\n\t\t\t\t\t\t\t\t  handleKeyCommand={this.handleKeyCommand}\r\n\t\t\t\t\t\t\t\t  placeholder={this.state.journalPlaceolder}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<button className=\"btn btn-outline-primary\" onClick={this.saveJournal}> Save current Journal entry </button>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<button className=\"btn btn-outline-primary\" onClick={this.loadToday}> Load Today's Data </button>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<button className=\"btn btn-outline-primary\" onClick={this.cookieToday}> Cookie Today's Data </button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default withRouter(journalView);","import React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { ButtonGroup, ToggleButton } from 'react-bootstrap';\r\n\r\nimport Store from \"store\"\r\nimport Calendar from 'react-calendar'\r\nimport 'react-calendar/dist/Calendar.css';\r\n\r\nimport { ProgressBar } from 'react-bootstrap';\r\n\r\nimport { Radar, Bar } from 'react-chartjs-2';\r\nimport { testMaxMin, testBarMulti, stackedBarData3Test, stackedBarData2Test, stackedBarData, sentimentBarData } from '../utils';\r\nimport { getRadarEmotionOptions, testBarMultiOptions, stackedBarOptions, sentimentBarOptions } from '../utils';\r\n//import { makeCompanyTestData, makeCompanyTestDataOtherFormat } from \"../utils\";\r\n\r\n// Move all of the functions here to a seperate file, a repository, so that I can fast make layouts sometime\r\n\r\n// This is garunteed\r\nconst AIAspect = [\r\n    { name: 'Emotion', value: 'emotion' },\r\n    { name: 'Sentiment', value: 'sentiment' },\r\n    { name: 'Entities', value: 'entities' },\r\n\t{ name: 'Keywords', value: 'keywords' },\r\n\t//{ name: 'Relations', value: 'relations' },\r\n];\r\n// This is also garunteed...\r\nconst daySet = [\r\n    { name: 'Monday', value: 'mon' },\r\n    { name: 'Tuesday', value: 'tue' },\r\n    { name: 'Wednesday', value: 'wed' },\r\n\t{ name: 'Thursday', value: 'thu' },\r\n\t{ name: 'Friday', value: 'fri' },\r\n\t{ name: 'Saturday', value: 'sat' },\r\n\t{ name: 'Sunday', value: 'sun' },\r\n\t{ name: 'All', value: 'allDay' },\r\n];\r\n\r\n// This is very lean...\r\nconst parseEmotion = (emotionData) => {\r\n\t\r\n\tlet derp = [emotionData.joy, emotionData.anger, emotionData.sadness, emotionData.disgust, emotionData.fear]\r\n\treturn derp;\r\n}\r\n\r\nclass companyViewSummary extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\t\t\t\r\n\t\t\tselectedPrompt:\"p1\",\r\n\t\t\tselectedAspect:\"emotion\",\r\n\t\t\tseletedDay:\"mon\",\r\n\t\t\t\r\n\t\t\tcurrentDate: new Date(),\r\n\t\t\tvalidSummaryDates: [],\r\n\t\t\t\r\n\t\t\tdropMessage: 'Select Company=>',\r\n\t\t\tcompanyList: [],\r\n\t\t\t\r\n\t\t\tcurrentCompany: \"None\",\r\n\t\t\t// What company are is the dataset for?\r\n\t\t\tdataCompany: undefined,\r\n\t\t\t// What week is the dataset for?\r\n\t\t\tdataDate: undefined,\r\n\t\t\t// The actual dataset\r\n\t\t\tdataSet: {mon:{},tue:{},wed:{},thu:{},fri:{},sat:{},sun:{},allDay:{}},\r\n\t\t\t\r\n\t\t\tmessages:\"Waiting for Summary Weekday Selection...\",\r\n        };\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tthis.loadCompanyData()\r\n\t};\r\n\t\r\n\tloadCompanyData = () => {\r\n\t\t// Get the list of companies from the cookies\r\n\t\tlet result = this.getCookiesListData();\r\n\t\tif (!result) {\r\n\t\t\t// If it failed, we go get it from the server...\r\n\t\t\tthis.getCompanyList()\r\n\t\t}\r\n\t}\r\n\t\r\n\tloadDatesData = () => {\r\n\t\t\r\n\t\t// Get the list of companies from the cookies\r\n\t\tlet result = this.getCookiesValidDates();\r\n\t\tif (!result) {\r\n\t\t\t// If it failed, we go get it from the server...\r\n\t\t\tthis.getValidDates()\r\n\t\t}\r\n\t}\r\n\t\r\n\tflushCookies = () => {\r\n\t\tStore.remove(this.props.currentUser+'-companyList')\r\n\t\tStore.remove(this.props.currentUser+'-'+this.state.currentCompany+'-ValidDates')\r\n\t}\r\n\t\r\n\tbackButton = () => {\r\n\t\tthis.props.history.goBack()\r\n\t}\r\n\t\r\n\tselectPrompt = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tselectedPrompt:event.currentTarget.value\r\n\t\t});\r\n\t}\r\n\tselectAI = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tselectedAspect:event.currentTarget.value\r\n\t\t});\r\n\t}\r\n\tselectDay = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tseletedDay:event.currentTarget.value\r\n\t\t});\r\n\t}\r\n\t\r\n\t// Get Company List from the server\r\n\tgetCompanyList = () => {\r\n\t\t\r\n\t\tconst config = {\r\n\t\t\theaders: { Authorization: `JWT ${this.props.authToken}` }\r\n\t\t};\r\n\t\r\n\t\taxios.get(this.props.APIHost +\"/getUsersCompanies\", config)\r\n\t\t.then( \tres => {\r\n\t\t\t\t// Should respond with a 1 length thing\r\n\t\t\t\tif (res.data.length > 0) {\r\n\t\t\t\t\t// Normal behaviour\r\n\t\t\t\t\tconsole.log(\"Got the list of companies\")\r\n\t\t\t\t\t//console.log(res)\r\n\t\t\t\t\t\r\n\t\t\t\t\t// Companies this user is 'owner' of\r\n\t\t\t\t\t//console.log(res.data[0].companyOwner)\r\n\t\t\t\t\t// Companies that this user is Allowed to see\r\n\t\t\t\t\t//console.log(res.data[0].companyAllowsView)\r\n\t\t\t\t\t// Companies this user is sent updates on\r\n\t\t\t\t\t//console.log(res.data[0].companySendsTo)\r\n\t\t\t\t\t\r\n\t\t\t\t\t// Merge these three into a single set for viewing for now?\r\n\t\t\t\t\tlet adding = []\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar index;\r\n\t\t\t\t\tfor (index in res.data[0].companyOwner) {\r\n\t\t\t\t\t\tlet name = res.data[0].companyOwner[index]\r\n\t\t\t\t\t\tif ( !adding.includes(name) ) {\r\n\t\t\t\t\t\t\tadding.push(name)\r\n\t\t\t\t\t\t\t//console.log(name)\r\n\t\t\t\t\t\t}\t\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor (index in res.data[0].companyAllowsView) {\r\n\t\t\t\t\t\tlet name = res.data[0].companyAllowsView[index]\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif ( !adding.includes(name) ) {\r\n\t\t\t\t\t\t\tadding.push(name)\r\n\t\t\t\t\t\t\t//console.log(name)\r\n\t\t\t\t\t\t}\t\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor (index in res.data[0].companySendsTo) {\r\n\t\t\t\t\t\tlet name = res.data[0].companySendsTo[index]\r\n\t\t\t\t\t\tif ( !adding.includes(name) ) {\r\n\t\t\t\t\t\t\tadding.push(name)\r\n\t\t\t\t\t\t\t//console.log(name)\r\n\t\t\t\t\t\t}\t\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tStore.set(this.props.currentUser+'-companyList', {'theList':adding})\r\n\t\t\t\t\tthis.setState({companyList: adding})\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\t// This should not trigger\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch( err => {\r\n\t\t\t\tif (err.response.status === 401) {\r\n\t\t\t\t\tthis.props.forceLogout()\r\n\t\t\t\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\t\r\n\tgetCookiesListData = () => {\r\n\t\tlet getDates = Store.get(this.props.currentUser+'-companyList')\r\n\t\t\r\n\t\ttry {\r\n\t\t\tthis.setState({companyList: getDates['theList']})\r\n\t\t\treturn true\r\n\t\t}\r\n\t\tcatch {\r\n\t\t\tconsole.log(\"Not in the cookies\")\r\n\t\t\treturn false\r\n\t\t}\r\n\t}\r\n\t\r\n\tgetValidDates = () => {\r\n\t\t\r\n\t\tif (this.state.currentCompany === \"None\") {\r\n\t\t\tconsole.log(\"Select Valid Company!\")\r\n\t\t\treturn false\r\n\t\t}\r\n\t\t\r\n\t\tconst config = {\r\n\t\t\theaders: { Authorization: `JWT ${this.props.authToken}` }\r\n\t\t};\r\n\t\t\r\n\t\taxios.get(this.props.APIHost + \"/getCompanyWeekDates?reComp=\"+this.state.currentCompany, config)\r\n\t\t.then( \tres => {\r\n\t\t\t\tlet tempSumArray = []\r\n\t\t\t\t\r\n\t\t\t\tconsole.log(\"Got Valid Dates!\")\r\n\t\t\t\tStore.remove(this.props.currentUser+'-'+this.state.currentCompany+'-ValidDates')\r\n\r\n\t\t\t\tvar item = \"\"\r\n\t\t\t\tfor (item in res.data){\r\n\t\t\t\t\t\r\n\t\t\t\t\t// THESE DATES HAVE THE WRONG TIMEZONE COMING IN, SO THE RESULTING DAY CAN BE WRONG!!!!\r\n\t\t\t\t\t// CHANGE THIS!!!\r\n\t\t\t\t\tconst newDate = new Date(res.data[item].forDate)\r\n\t\t\t\t\tlet checkDate = 0\r\n\t\t\t\t\r\n\t\t\t\t\t// This is the \"Anchor Date\"\r\n\t\t\t\t\tif (res.data[item].hasMon) {\r\n\t\t\t\t\t\ttempSumArray.push( checkDate = newDate.getFullYear()+\"-\"+newDate.getMonth()+\"-\"+(newDate.getDate()+1) )\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (res.data[item].hasTue) {\r\n\t\t\t\t\t\ttempSumArray.push( checkDate = newDate.getFullYear()+\"-\"+newDate.getMonth()+\"-\"+(newDate.getDate()+2) )\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (res.data[item].hasWed) {\r\n\t\t\t\t\t\ttempSumArray.push( checkDate = newDate.getFullYear()+\"-\"+newDate.getMonth()+\"-\"+(newDate.getDate()+3) )\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (res.data[item].hasThu) {\r\n\t\t\t\t\t\ttempSumArray.push( checkDate = newDate.getFullYear()+\"-\"+newDate.getMonth()+\"-\"+(newDate.getDate()+4) )\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (res.data[item].hasFri) {\r\n\t\t\t\t\t\ttempSumArray.push( checkDate = newDate.getFullYear()+\"-\"+newDate.getMonth()+\"-\"+(newDate.getDate()+5) )\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (res.data[item].hasSat) {\r\n\t\t\t\t\t\ttempSumArray.push( checkDate = newDate.getFullYear()+\"-\"+newDate.getMonth()+\"-\"+(newDate.getDate()+6) )\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (res.data[item].hasSun) {\r\n\t\t\t\t\t\ttempSumArray.push( checkDate = newDate.getFullYear()+\"-\"+newDate.getMonth()+\"-\"+(newDate.getDate()+7) )\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\ttempSumArray.push( checkDate )\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tStore.set(this.props.currentUser+'-'+this.state.currentCompany+'-ValidDates', {'dates':tempSumArray})\r\n\t\t\t\t//console.log(tempSumArray)\r\n\t\t\t\t\r\n\t\t\t\tthis.setState({validSummaryDates: tempSumArray})\r\n\t\t})\r\n\t\t.catch( err => {\r\n\t\t\tif (err.response.status === 401) {\r\n\t\t\t\tthis.props.forceLogout()\r\n\t\t\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t\r\n\t// Dates Stuff...\r\n\tgetCookiesValidDates = () => {\r\n\t\tlet getDates = Store.get(this.props.currentUser+'-'+this.state.currentCompany+'-ValidDates')\r\n\t\t\r\n\t\ttry {\r\n\t\t\tthis.setState({validSummaryDates: getDates['dates']})\r\n\t\t\treturn true\r\n\t\t}\r\n\t\tcatch {\r\n\t\t\tconsole.log(\"Not in the cookies\")\r\n\t\t\treturn false\r\n\t\t}\r\n\t}\r\n\t\r\n\tpickDate = (selectedDate) => {\r\n\t\tlet todayWeekday = (selectedDate.getDay()-1)\r\n\t\tif (todayWeekday < 0) {\r\n\t\t\ttodayWeekday = 6\r\n\t\t}\r\n\t\t\r\n\t\t//console.log(this.state.seletedDay)\r\n\t\t//console.log(daySet[selectedDate.getDay()-1].value)\r\n\t\t\r\n\t\tlet copiedDate = new Date(selectedDate.getTime());\r\n\r\n\t\tcopiedDate.setDate(copiedDate.getDate()-(todayWeekday))\r\n\t\tconst dateReq = copiedDate.toJSON().split(\"T\")[0]\r\n\t\t\r\n\t\t// Either way, we HAVE to set the correct variables to what day we are doing...\r\n\t\tthis.setState({\r\n\t\t\tcurrentDate: selectedDate,\r\n\t\t\tseletedDay: daySet[ todayWeekday ].value,\r\n\t\t})\r\n\t\t\r\n\t\t// We are NOT in the same week, or we are NOT the same company, so we MUST do a API call\r\n\t\tif (!(this.state.dataDate === dateReq) || !(this.state.dataCompany === this.state.currentCompany) ) {\r\n\t\t\t\t\t\r\n\t\t\t// The following will get the data from the server.....\r\n\t\t\tif (this.state.currentCompany === \"None\") {\r\n\t\t\t\tconsole.log(\"Select Valid Company!\")\r\n\t\t\t\treturn false\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tconsole.log(\"requesting date\")\r\n\r\n\t\t\tconst config = {\r\n\t\t\t\theaders: { Authorization: `JWT ${this.props.authToken}` }\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\taxios.get(this.props.APIHost +\"/getCompanyWeekSummary/?reqDate=\"+dateReq+\"&reComp=\"+this.state.currentCompany, config)\r\n\t\t\t.then( \r\n\t\t\t\tres => {\r\n\t\t\t\t\t// What if it is > 1?\r\n\t\t\t\t\tif (res.data.length > 0) {\r\n\t\t\t\t\t\tconsole.log(\"obtained a company summary\")\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// Check for matching stuff on this end?\r\n\t\t\t\t\t\t//console.log(res.data[0].summaryResult)\r\n\t\t\t\t\t\t// Save in the cookies for non-login access...\r\n\t\t\t\t\t\t//Store.set('testSummaryData', res.data[0].summaryResult)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t//console.log(res.data)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tlet incomingDict = {\r\n\t\t\t\t\t\t\tmon:res.data[0].monResult,\r\n\t\t\t\t\t\t\ttue:res.data[0].tueResult,\r\n\t\t\t\t\t\t\twed:res.data[0].wedResult,\r\n\t\t\t\t\t\t\tthu:res.data[0].thuResult,\r\n\t\t\t\t\t\t\tfri:res.data[0].friResult,\r\n\t\t\t\t\t\t\tsat:res.data[0].satResult,\r\n\t\t\t\t\t\t\tsun:res.data[0].sunResult,\r\n\t\t\t\t\t\t\tallDay:res.data[0].summaryResult,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\tdataSet:incomingDict,\r\n\t\t\t\t\t\t\tmessages: \"Displaying entry for week of: \" + dateReq,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tconsole.log(\"No entry for that day\")\r\n\t\t\t\t\t\tthis.setState( {\r\n\t\t\t\t\t\t\tmessages: \"No entry for that day\",\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// LEts not store it in the cookies for now...\r\n\t\t\t})\r\n\t\t\t.catch( err => {\r\n\t\t\t\tif (err.response.status === 401) {\r\n\t\t\t\t\tthis.props.forceLogout()\r\n\t\t\t\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\t\r\n\tsetCurrentCompany = (event) => {\r\n\t\tthis.setState(\r\n\t\t\t{dropMessage: event.target.value, currentCompany: event.target.value},\r\n\t\t\tthis.loadDatesData\r\n\t\t)\r\n\t}\r\n\t\r\n\t// Rendering this with Bootstrap React.... To see if there is anything really interesting I can do with it\r\n\t// So far it doesnt look all that different \r\n\trender() {\r\n\t\t\r\n\t\tlet tableDisplay = []\r\n\t\tlet index;\r\n\t\t\r\n\t\t// Read the data from our state machine,\r\n\t\tconst currentPrompt = this.state.selectedPrompt\r\n\t\tconst currentDay = this.state.seletedDay\r\n\t\tconst currentAspect = this.state.selectedAspect\r\n\t\t\r\n\t\tlet promptList = []\r\n\t\t\r\n\t\t// At least this is garunteed to exist\r\n\t\tlet dayData = this.state.dataSet[currentDay]\r\n\t\t// Check to see if the lower states exist...\r\n\t\t\r\n\t\tlet displayStats = [];\r\n\t\tlet promptName = \"not valid prompt\";\r\n\t\t\r\n\t\t// This will trip if we have data\r\n\t\tif (!(dayData === null) && !(dayData === undefined)) {\r\n\t\t\t\r\n\t\t\tlet key;\r\n\t\t\tfor (key in dayData) {\r\n\r\n\t\t\t\tif ( !(dayData[key].name === undefined) ) {\r\n\t\t\t\t\tpromptList.push( {name:dayData[key].name, value:key} )\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// At this point if the array is still empty,we have nothing...\r\n\t\t\tif (promptList.length === 0) {\r\n\t\t\t\tpromptList = [{name:\"No Prompts\", value:\"None\"}]\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//console.log(currentPrompt)\r\n\t\t\t//console.log(dayData)\r\n\t\t\tlet sanityCheck = currentPrompt in dayData\r\n\t\t\tif (sanityCheck) {\r\n\t\t\t\t// Switch state this bugger...\r\n\t\t\t\tpromptName = dayData[currentPrompt][\"name\"]\r\n\t\t\t\tlet dataSet = dayData[currentPrompt][\"data\"][currentAspect]\r\n\t\t\t\tlet purity = dayData[currentPrompt][\"responsePurity\"]\r\n\t\t\t\t\r\n\t\t\t\tdisplayStats.push(\r\n\t\t\t\t\t<div className=\"row m-2\" key=\"1\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"progressBar\">\r\n\t\t\t\t\t\t\t\t<ProgressBar now={ purity } label={`${purity}% Response Rate`} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\t\t\r\n\t\t\t\tswitch(currentAspect) {\r\n\t\t\t\t\tcase \"emotion\":\r\n\t\t\t\t\t\tlet emoMax = parseEmotion( dataSet.max )\r\n\t\t\t\t\t\tlet emoAve = parseEmotion( dataSet.ave )\r\n\t\t\t\t\t\tlet emoMin = parseEmotion( dataSet.min )\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t//console.log(dataSet.max)\r\n\t\t\t\t\t\t//console.log(dataSet.ave)\r\n\t\t\t\t\t\t//console.log(dataSet.min)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tconst dataRadarTest = testMaxMin( emoMax, emoAve, emoMin )\r\n\t\t\t\t\t\tconst radarOptionsTest = getRadarEmotionOptions()\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tlet emoThresh = parseEmotion( dataSet.threshold )\r\n\t\t\t\t\t\tconst dataBarTest = testBarMulti( emoThresh )\r\n\t\t\t\t\t\tconst barOptionsTest = testBarMultiOptions()\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tdisplayStats.push(\r\n\t\t\t\t\t\t\t<div className=\"row m-2\" key=\"2\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t\t\tAverages + Max and min?\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Radar ref={this.chartReference} data={dataRadarTest} options={radarOptionsTest} />\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t\t\t\"How many have hit this threshold\"?\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Bar ref={this.chartReference} data={dataBarTest} options={barOptionsTest} />\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'sentiment':\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tconst dataBarStack = stackedBarData( [dataSet.min], [dataSet.ave], [dataSet.max] )\r\n\t\t\t\t\t\tconst barStackOptions = stackedBarOptions()\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tlet dataTresh = [dataSet.thresholdPos, dataSet.thresholdNeg]\r\n\t\t\t\t\t\tconst dataBarNorm = sentimentBarData( dataTresh )\r\n\t\t\t\t\t\tconst barOptionsNorm = sentimentBarOptions()\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tdisplayStats.push(\r\n\t\t\t\t\t\t\t<div className=\"row m-2\" key=\"2\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t\t\tSentiment Values\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Bar ref={this.chartReference} data={dataBarStack} options={barStackOptions} />\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t\t\t\"How many have hit this threshold\"?\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Bar ref={this.chartReference} data={dataBarNorm} options={barOptionsNorm} />\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'entities':\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t//console.log(dataSet)\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tfor (index in dataSet) {\r\n\t\t\t\t\t\t\tlet entity = dataSet[index]\r\n\t\t\t\t\t\t\t//console.log(entity)\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tlet emoMax = parseEmotion( entity.emotion.max )\r\n\t\t\t\t\t\t\tlet emoAve = parseEmotion( entity.emotion.ave )\r\n\t\t\t\t\t\t\tlet emoMin = parseEmotion( entity.emotion.min )\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tlet emoData = testMaxMin( emoMax, emoAve, emoMin )\r\n\t\t\t\t\t\t\tlet emoOptions = getRadarEmotionOptions()\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tconst dataEntSent = stackedBarData3Test( \r\n\t\t\t\t\t\t\t\t[entity.confidence.min, entity.relevance.min, entity.sentiment.min],\r\n\t\t\t\t\t\t\t\t[entity.confidence.ave, entity.relevance.ave, entity.sentiment.ave],\r\n\t\t\t\t\t\t\t\t[entity.confidence.max, entity.relevance.max, entity.sentiment.max],\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\tconst dataEntOptions = stackedBarOptions()\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\ttableDisplay.push(\r\n\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"row\">{entity.text}</th>\r\n\t\t\t\t\t\t\t\t\t<td>{entity.type}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{entity.count}</td>\r\n\t\t\t\t\t\t\t\t\t<td colSpan=\"3\"><Bar ref={this.chartReference} data={dataEntSent} options={dataEntOptions} /></td>\r\n\t\t\t\t\t\t\t\t\t<td><Radar ref={this.chartReference} data={emoData} options={emoOptions} /></td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tdisplayStats.push(\r\n\t\t\t\t\t\t\t<table className=\"table\" key=\"2\">\r\n\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Name</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Type</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">#Appearances</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Confidence</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Relevance</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Sentiment</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Emotion</th>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t{tableDisplay}\r\n\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'keywords':\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t//console.log(dataSet)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tfor (index in dataSet) {\r\n\t\t\t\t\t\t\tlet keyData = dataSet[index]\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t//const dataKeySent = stackedBarData( [keyData.sentiment.min], [keyData.sentiment.ave], [keyData.sentiment.max] )\r\n\t\t\t\t\t\t\t//const dataKeyOptions = stackedBarOptions()\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tlet emoMax = parseEmotion( keyData.emotion.max )\r\n\t\t\t\t\t\t\tlet emoAve = parseEmotion( keyData.emotion.ave )\r\n\t\t\t\t\t\t\tlet emoMin = parseEmotion( keyData.emotion.min )\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tconst dataRadar = testMaxMin( emoMax, emoAve, emoMin )\r\n\t\t\t\t\t\t\tconst dataRadarOptions = getRadarEmotionOptions()\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tconst dataKeySent = stackedBarData2Test(\r\n\t\t\t\t\t\t\t\t[keyData.relevance.min, keyData.sentiment.min], \r\n\t\t\t\t\t\t\t\t[keyData.relevance.ave, keyData.sentiment.ave], \r\n\t\t\t\t\t\t\t\t[keyData.relevance.max, keyData.sentiment.max] \r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\tconst dataKeyOptions = stackedBarOptions()\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\ttableDisplay.push(\r\n\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"row\">{keyData.text}</th>\r\n\t\t\t\t\t\t\t\t\t<td>{keyData.count}</td>\r\n\t\t\t\t\t\t\t\t\t<td colSpan=\"2\"><Bar ref={this.chartReference} data={dataKeySent} options={dataKeyOptions} /></td>\r\n\t\t\t\t\t\t\t\t\t<td><Radar ref={this.chartReference} data={dataRadar} options={dataRadarOptions} /></td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tdisplayStats.push(\r\n\t\t\t\t\t\t\t<table className=\"table\" key=\"2\">\r\n\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Name</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">#Appearances</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Relevance Score</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Sentiment</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Emotion</th>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t{tableDisplay}\r\n\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'relations':\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t//console.log(dataSet)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tfor (index in dataSet) {\r\n\t\t\t\t\t\t\tlet relData = dataSet[index]\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tconst scoreData = stackedBarData( [relData.score.min], [relData.score.ave], [relData.score.max] )\r\n\t\t\t\t\t\t\tconst scoreOptions = sentimentBarOptions()\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\ttableDisplay.push(\r\n\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"row\">{relData.count}</th>\r\n\t\t\t\t\t\t\t\t\t<td>{relData.arguments[0].text}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{relData.type}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{relData.arguments[1].text}</td>\r\n\t\t\t\t\t\t\t\t\t<td style={{width:\"30%\"}}><Bar ref={this.chartReference} data={scoreData} options={scoreOptions} /></td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tdisplayStats.push(\r\n\t\t\t\t\t\t\t<table className=\"table\" key=\"2\">\r\n\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">#Appearances</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Actor</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Action</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Target</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Score</th>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t{tableDisplay}\r\n\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tconsole.log(\"Invalid AI selection somehow\")\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\t// There was NO DATA in the day here, so we have to display nothing...\r\n\t\t\tpromptList = [{name:\"No Prompts\", value:\"None\"}]\r\n\t\t}\r\n\t\t\r\n\t\tconst tileClassName = ({ date, view }) => {\r\n\t\t\r\n\t\t\t// Add class to tiles in month view only\r\n\t\t\tif (view === 'month') {\r\n\t\t\t\t\r\n\t\t\t\tconst checkDate = date.getFullYear()+\"-\"+date.getMonth()+\"-\"+date.getDate()\r\n\t\t\t\t\r\n\t\t\t\t//console.log(checkDate)\r\n\t\t\t\t//console.log(this.state.validJournalDates)\r\n\r\n\t\t\t\t// Check if a date React-Calendar wants to check is on the list of dates to add class to\r\n\t\t\t\tconst hasSummary = this.state.validSummaryDates.find( element => element === checkDate)\r\n\t\t\t\t\r\n\t\t\t\tif (hasSummary) {\r\n\t\t\t\t\treturn 'btn btn-success'\r\n\t\t\t\t} else {\r\n\t\t\t\t\t//return 'btn btn-outline-dark'\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tvar dropDownInternal = []\r\n\t\t\r\n\t\tfor (index in this.state.companyList) {\r\n\t\t\tlet comp = this.state.companyList[index]\r\n\t\t\tdropDownInternal.push( \r\n\t\t\t\t<button className=\"dropdown-item\" key={index} onClick={this.setCurrentCompany} value={ comp }>\r\n\t\t\t\t\t{comp}\r\n\t\t\t\t</button> \r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className=\"companyView\">\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-sm-3 m-2\">\t\r\n\t\t\t\t\t\t\t<button className=\"btn btn-primary\" onClick={this.backButton}>\r\n\t\t\t\t\t\t\t\tGo Back\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-sm m-2\">\t\r\n\t\t\t\t\t\t\tPage Title Test!\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"row m-2\">\r\n\t\t\t\t\t\t<div className=\"col-lg-3 border m-2\">\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<Calendar \r\n\t\t\t\t\t\t\t\t\tonChange={this.pickDate}\r\n\t\t\t\t\t\t\t\t\tvalue={this.state.currentDate}\r\n\t\t\t\t\t\t\t\t\ttileClassName={tileClassName}\r\n\r\n\t\t\t\t\t\t\t\t\tminDetail={'year'}\r\n\t\t\t\t\t\t\t\t\tmaxDetail={'month'}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col border m-2\">\t\t\r\n\t\t\t\t\t\t\t<div className=\"row m-2\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"dropdown\">\r\n\t\t\t\t\t\t\t\t\t  <button className=\"btn btn-secondary dropdown-toggle\" type=\"button\" id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n\t\t\t\t\t\t\t\t\t  {this.state.dropMessage}\r\n\t\t\t\t\t\t\t\t\t  </button>\r\n\t\t\t\t\t\t\t\t\t  <div className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\r\n\t\t\t\t\t\t\t\t\t\t{dropDownInternal}\r\n\t\t\t\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<button className=\"btn btn-outline-danger\" onClick={this.loadCompanyData}> Reload Company Data </button>\r\n\t\t\t\t\t\t\t\t\t<button className=\"btn btn-outline-danger\" onClick={this.loadDatesData}> Reload Dates </button>\r\n\t\t\t\t\t\t\t\t\t<button className=\"btn btn-outline-danger\" onClick={this.flushCookies}> Flush Cookie Data </button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div className=\"row m-2\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\t\t\r\n\t\t\t\t\t\t\t\t\t<p>{this.state.messages}</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div className=\"row m-2\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<ButtonGroup toggle>\r\n\t\t\t\t\t\t\t\t\t\t{daySet.map((radio, idx) => (\r\n\t\t\t\t\t\t\t\t\t\t<ToggleButton\r\n\t\t\t\t\t\t\t\t\t\t\tkey={idx}\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"radio\"\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"radio\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={radio.value}\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={this.state.seletedDay === radio.value}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.selectDay}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{radio.name}\r\n\t\t\t\t\t\t\t\t\t\t</ToggleButton>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t</ButtonGroup>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div className=\"row m-2\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<ButtonGroup toggle>\r\n\t\t\t\t\t\t\t\t\t\t{promptList.map((radio, idx) => (\r\n\t\t\t\t\t\t\t\t\t\t<ToggleButton\r\n\t\t\t\t\t\t\t\t\t\t\tkey={idx}\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"radio\"\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"radio\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={radio.value}\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={this.state.selectedPrompt === radio.value}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.selectPrompt}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{radio.name}\r\n\t\t\t\t\t\t\t\t\t\t</ToggleButton>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t</ButtonGroup>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div className=\"row m-2\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<ButtonGroup toggle>\r\n\t\t\t\t\t\t\t\t\t\t{AIAspect.map((radio, idx) => (\r\n\t\t\t\t\t\t\t\t\t\t<ToggleButton\r\n\t\t\t\t\t\t\t\t\t\t\tkey={idx}\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"radio\"\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"info\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"radio\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={radio.value}\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={this.state.selectedAspect === radio.value}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.selectAI}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{radio.name}\r\n\t\t\t\t\t\t\t\t\t\t</ToggleButton>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t</ButtonGroup>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"row m-2\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\tShowing Data for prompt: {promptName}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t{displayStats}\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"row  my-2\">\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(companyViewSummary);","import React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nconst sorter = [\"Public\", \"Private\"]\r\n\r\nclass companySettings extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n        super(props);\r\n\t\t\r\n\t\tconst today = new Date()\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tcurrentDate: today,\r\n\t\t\t\r\n\t\t\tmessages: \"Hello, there is nothing yet here...\",\r\n\t\t\t\r\n\t\t\tdropMessage: 'Select Company=>',\r\n\t\t\tcurrentCompany: \"None\",\r\n\t\t\r\n\t\t\tcompanyList: [],\r\n\t\t\t\r\n\t\t\tdataCompanyName: 'No Company Selected',\r\n\t\t\tdataCompanyPriv: 'No Company Selected',\r\n\t\t\t\r\n\t\t\tdataCompanySendTo: [],\r\n\t\t\tdataCompanyViewing: [],\r\n\t\t\tdataCompanyGoverned: [],\r\n\t\t\t\r\n\t\t\tdataCompanySendToAdded: [],\r\n\t\t\tdataCompanyViewingAdded: [],\r\n\t\t\tdataCompanyGovernedAdded: [],\r\n\t\t\t\r\n\t\t\tdataCompanySendToDeleted: [],\r\n\t\t\tdataCompanyViewingDeleted: [],\r\n\t\t\tdataCompanyGovernedDeleted: [],\r\n\t\t\t\r\n\t\t\tsearchSend: \"\",\r\n\t\t\tsearchView: \"\",\r\n\t\t\tsearchGov: \"\",\r\n\t\t\taddingEmail: \"\",\r\n\t\t\t\r\n\t\t\tclickedList: \"\",\r\n\t\t\tclickedIndex: -1,\r\n        };\r\n\t\t\r\n\t\t\r\n\t};\r\n\r\n\tbackButton = () => {\r\n\t\tthis.props.history.goBack()\r\n\t}\r\n\t\r\n\tpostNewCompanyData = () => {\r\n\t\t\r\n\t\t// Verify we have a proper company before we do anyting...\r\n\t\tif (this.state.currentCompany === \"None\") {\r\n\t\t\tconsole.log(\"No company selected\")\r\n\t\t\treturn false\r\n\t\t}\r\n\t\t\r\n\t\tconst config = {\r\n\t\t\theaders: { Authorization: `JWT ${this.props.authToken}` }\r\n\t\t};\r\n\t\t\r\n\t\tconst data = {\r\n\t\t\t// These will be checked by the permissions on the other end...\r\n\t\t\t//requestUser: \"\",\r\n\t\t\tcompanyName: this.state.currentCompany,\r\n\t\t\tcompanyReName: this.state.dataCompanyName,\r\n\t\t\t\r\n\t\t\tsummaryViewAccess: this.state.dataCompanyPriv,\r\n\t\t\t\r\n\t\t\tresultsSendTargets: this.state.dataCompanySendTo,\r\n\t\t\tprivateViewingPerms: this.state.dataCompanyViewing,\r\n\t\t\tgovernedUsers: this.state.dataCompanyGoverned,\r\n\t\t\t\r\n\t\t};\r\n\t\t\r\n\t\t// This will overwrite stuff, hand ready for the deletions\r\n\t\t// But HOW do I handle the addings?\r\n\t\taxios.post(this.props.APIHost +\"/postCompanyData/\", data, config )\r\n\t\t.then( res => { \r\n\t\t\r\n\t\t\t//console.log(res)\r\n\t\t\tconsole.log(\"Success\")\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tdataCompanySendToDeleted: [],\r\n\t\t\t\tdataCompanyViewingDeleted: [],\r\n\t\t\t\tdataCompanyGovernedDeleted: [],\r\n\t\t\t})\r\n\t\t\t\r\n\t\t})\r\n\t\t.catch( err => {\r\n\t\t\t// Change this depending on the error...\r\n\t\t\tif (err.response.status === 401) {\r\n\t\t\t\tthis.props.forceLogout()\r\n\t\t\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tgetCompanyList = () => {\r\n\t\t\r\n\t\tconst config = {\r\n\t\t\theaders: { Authorization: `JWT ${this.props.authToken}` }\r\n\t\t};\r\n\t\t\r\n\t\t// This is bad, as it gets ALL companies...\r\n\t\t// But we SHOULD save it with the permissions...\r\n\t\t// So I need to make this better...\r\n\t\taxios.get(this.props.APIHost +\"/getUsersCompanies\", config)\r\n\t\t.then( \tres => {\r\n\t\t\t\t// Should respond with a 1 length thing\r\n\t\t\t\tif (res.data.length > 0) {\r\n\t\t\t\t\t// Normal behaviour\r\n\t\t\t\t\tconsole.log(\"Got the list of companies\")\r\n\t\t\t\t\t//console.log(res)\r\n\t\t\t\t\t\r\n\t\t\t\t\t// Companies this user is 'owner' of\r\n\t\t\t\t\t//console.log(res.data[0].companyOwner)\r\n\t\t\t\t\t\r\n\t\t\t\t\t// Merge these three into a single set for viewing for now?\r\n\t\t\t\t\tlet adding = []\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar index;\r\n\t\t\t\t\tfor (index in res.data[0].companyOwner) {\r\n\t\t\t\t\t\tlet name = res.data[0].companyOwner[index]\r\n\t\t\t\t\t\tif ( !adding.includes(name) ) {\r\n\t\t\t\t\t\t\tadding.push(name)\r\n\t\t\t\t\t\t\t//console.log(name)\r\n\t\t\t\t\t\t}\t\t\t\t\t\t\t\r\n\t\t\t\t\t}\t\t\t\t\t\r\n\t\t\t\t\tthis.setState({companyList: adding})\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\t// This should not trigger\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch( err => {\r\n\t\t\t\tif (err.response.status === 401) {\r\n\t\t\t\t\tthis.props.forceLogout()\r\n\t\t\t\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\t\r\n\tgetCompanyData = (targetCompany) => {\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: { Authorization: `JWT ${this.props.authToken}` }\r\n\t\t};\r\n\t\t\r\n\t\taxios.get(this.props.APIHost +\"/getCompanyData?reqComp=\"+targetCompany+\"\", config)\r\n\t\t.then( \tres => {\r\n\t\t\t\t// Should respond with a 1 length thing\r\n\t\t\t\tif (res.data.length > 0) {\r\n\t\t\t\t\t// Normal behaviour\r\n\t\t\t\t\tconsole.log(\"Got the company data!\")\r\n\t\t\t\t\t//console.log(res)\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tdataCompanyName: res.data[0].companyName,\r\n\t\t\t\t\t\tdataCompanyPriv: sorter[res.data[0].summaryViewAccess],\r\n\t\t\t\t\t\tdataCompanySendTo: res.data[0].resultsSendTargets,\r\n\t\t\t\t\t\tdataCompanyViewing: res.data[0].privateViewingPerms,\r\n\t\t\t\t\t\tdataCompanyGoverned: res.data[0].governedUsers,\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\t// This should not trigger\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch( err => {\r\n\t\t\t\tconsole.log(err)\r\n\t\t\t\tif (err.response.status === 401) {\r\n\t\t\t\t\tthis.props.forceLogout()\r\n\t\t\t\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\t\r\n\tsendChange = (event) => {\r\n\t\tthis.setState( {searchSend: event.target.value} )\r\n\t}\r\n\tviewChange = (event) => {\r\n\t\tthis.setState( {searchView: event.target.value} )\r\n\t}\r\n\tgovChange = (event) => {\r\n\t\tthis.setState( {searchGov: event.target.value} )\r\n\t}\r\n\t\r\n\temailFieldChange = (event) => {\r\n\t\tthis.setState( {addingEmail: event.target.value} )\r\n\t}\r\n\t\r\n\ttriggerCompanySwap = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tdropMessage: event.target.value, \r\n\t\t\tcurrentCompany: event.target.value\r\n\t\t})\r\n\t\t\r\n\t\tthis.getCompanyData(event.target.value)\r\n\t\t\r\n\t}\r\n\t\r\n\ttriggerModal = (event) => {\r\n\t\t\r\n\t\t//console.log(event.target.parentElement.id)\r\n\t\t//console.log(event.target.parentElement.parentElement.id)\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tclickedList: event.target.parentElement.parentElement.id,\r\n\t\t\tclickedIndex: event.target.parentElement.id,\r\n\t\t})\r\n\t}\r\n\t\r\n\ttriggerStopAdd = (event) => {\r\n\t\t\r\n\t\tlet subset = []\r\n\t\tif (event.target.parentElement.parentElement.id === \"sendUsers\") {\r\n\t\t\tsubset = this.state.dataCompanySendToAdded\r\n\t\t\tsubset.splice( event.target.parentElement.id, 1 )\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tdataCompanySendToAdded: subset\r\n\t\t\t})\r\n\t\t}\r\n\t\telse if (event.target.parentElement.parentElement.id === \"viewUsers\") {\r\n\t\t\tsubset = this.state.dataCompanyViewingAdded\r\n\t\t\tsubset.splice( event.target.parentElement.id, 1 )\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tdataCompanyViewingAdded: subset\r\n\t\t\t})\r\n\t\t}\r\n\t\telse if (event.target.parentElement.parentElement.id === \"govUsers\") {\r\n\t\t\tsubset = this.state.dataCompanyGovernedAdded\r\n\t\t\tsubset.splice( event.target.parentElement.id, 1 )\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tdataCompanyGovernedAdded: subset\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\t\r\n\ttriggerReAdd = (event) => {\r\n\t\t\r\n\t\tlet subset = []\r\n\t\tif (event.target.parentElement.parentElement.id === \"sendUsers\") {\r\n\t\t\tsubset = this.state.dataCompanySendToDeleted\r\n\t\t\tlet reAdd = this.state.dataCompanySendTo\r\n\t\t\treAdd.push( subset.splice( event.target.parentElement.id, 1 )[0] )\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tdataCompanySendTo: reAdd,\r\n\t\t\t\tdataCompanySendToDeleted: subset\r\n\t\t\t})\r\n\t\t}\r\n\t\telse if (event.target.parentElement.parentElement.id === \"viewUsers\") {\r\n\t\t\tsubset = this.state.dataCompanyViewingDeleted\r\n\t\t\tlet reAdd = this.state.dataCompanyViewing\r\n\t\t\treAdd.push( subset.splice( event.target.parentElement.id, 1 )[0] )\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tdataCompanyViewing: reAdd,\r\n\t\t\t\tdataCompanyViewingDeleted: subset\r\n\t\t\t})\r\n\t\t}\r\n\t\telse if (event.target.parentElement.parentElement.id === \"govUsers\") {\r\n\t\t\tsubset = this.state.dataCompanyGovernedDeleted\r\n\t\t\tlet reAdd = this.state.dataCompanyGoverned\r\n\t\t\treAdd.push( subset.splice( event.target.parentElement.id, 1 )[0] )\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tdataCompanyGoverned: reAdd,\r\n\t\t\t\tdataCompanyGovernedDeleted: subset\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\t\r\n\tmodelAddEmail = (event) => {\r\n\t\t//console.log( this.state.addingEmail )\r\n\t\t\r\n\t\t// Reusing a function, so this sits in a slightly wierdly named variable\r\n\t\t//console.log( this.state.clickedIndex )\r\n\t\t\r\n\t\tlet newArray = []\r\n\t\tif (this.state.clickedIndex === \"sendUsers\") {\r\n\t\t\tnewArray = this.state.dataCompanySendToAdded\r\n\t\t\tnewArray.push( this.state.addingEmail )\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tdataCompanySendToAdded: newArray,\r\n\t\t\t})\r\n\t\t}\r\n\t\telse if (this.state.clickedIndex === \"viewUsers\") {\r\n\t\t\tnewArray = this.state.dataCompanyViewingAdded\r\n\t\t\tnewArray.push( this.state.addingEmail )\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tdataCompanyViewingAdded: newArray,\r\n\t\t\t})\r\n\t\t}\r\n\t\telse if (this.state.clickedIndex === \"govUsers\") {\r\n\t\t\tnewArray = this.state.dataCompanyGovernedAdded\r\n\t\t\tnewArray.push( this.state.addingEmail )\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tdataCompanyGovernedAdded: newArray,\r\n\t\t\t})\r\n\t\t}\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\taddingEmail: \"\",\r\n\t\t})\r\n\t}\r\n\t\r\n\tmodelAcceptDelete = (event) => {\r\n\t\t\r\n\t\tlet subset = []\r\n\t\tif (this.state.clickedList === \"sendUsers\") {\r\n\t\t\tsubset = this.state.dataCompanySendTo\r\n\t\t\t\r\n\t\t\tlet deleteQueue = this.state.dataCompanySendToDeleted\r\n\t\t\tdeleteQueue.push( subset.splice( this.state.clickedIndex, 1 )[0] )\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tdataCompanySendTo: subset,\r\n\t\t\t\tdataCompanySendToDeleted: deleteQueue\r\n\t\t\t})\r\n\t\t}\r\n\t\telse if (this.state.clickedList === \"viewUsers\") {\r\n\t\t\tsubset = this.state.dataCompanyViewing\r\n\t\t\t\r\n\t\t\tlet deleteQueue = this.state.dataCompanyViewingDeleted\r\n\t\t\tdeleteQueue.push( subset.splice( this.state.clickedIndex, 1 )[0] )\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tdataCompanyViewing: subset,\r\n\t\t\t\tdataCompanyViewingDeleted: deleteQueue\r\n\t\t\t})\r\n\t\t}\r\n\t\telse if (this.state.clickedList === \"govUsers\") {\r\n\t\t\tsubset = this.state.dataCompanyGoverned\r\n\t\t\t\r\n\t\t\tlet deleteQueue = this.state.dataCompanyGovernedDeleted\r\n\t\t\tdeleteQueue.push( subset.splice( this.state.clickedIndex, 1 )[0] )\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tdataCompanyGoverned: subset,\r\n\t\t\t\tdataCompanyGovernedDeleted: deleteQueue\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\t\r\n\t\tvar dropDownInternal = []\r\n\t\t\r\n\t\tlet index;\r\n\t\tfor (index in this.state.companyList) {\r\n\t\t\tlet comp = this.state.companyList[index]\r\n\t\t\tdropDownInternal.push( \r\n\t\t\t\t<button className=\"dropdown-item\" key={index} onClick={this.triggerCompanySwap} value={ comp }>\r\n\t\t\t\t\t{comp}\r\n\t\t\t\t</button> \r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\t// Send To Set\r\n\t\tlet companySend = []\r\n\t\tfor (index in this.state.dataCompanySendTo) {\r\n\t\t\tlet userSet = this.state.dataCompanySendTo[index]\r\n\t\t\t\r\n\t\t\tif (userSet !== undefined) {\r\n\t\t\t\t\r\n\t\t\t\tif ( userSet.indexOf(this.state.searchSend) > -1) {\r\n\t\t\t\t\r\n\t\t\t\t\tcompanySend.push(\r\n\t\t\t\t\t\t<li key={index} id={index} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t\t\t{userSet}\r\n\t\t\t\t\t\t\t<button className=\"btn btn-sm btn-outline-danger\" data-toggle=\"modal\" onClick={this.triggerModal} data-target=\"#deleteConfirm\">x</button>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t)\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tlet companySendAdd = []\r\n\t\tfor (index in this.state.dataCompanySendToAdded) {\r\n\t\t\tlet userSet = this.state.dataCompanySendToAdded[index]\r\n\t\t\t\r\n\t\t\tcompanySendAdd.push(\r\n\t\t\t\t<li key={index} id={index} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t{userSet}\r\n\t\t\t\t\t<button className=\"btn btn-sm btn-outline-danger\" onClick={this.triggerStopAdd}>x</button>\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\tlet companySendDelete = []\r\n\t\tfor (index in this.state.dataCompanySendToDeleted) {\r\n\t\t\tlet userSet = this.state.dataCompanySendToDeleted[index]\r\n\t\t\t\r\n\t\t\tcompanySendDelete.push(\r\n\t\t\t\t<li key={index} id={index} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t{userSet}\r\n\t\t\t\t\t<button className=\"btn btn-sm btn-outline-success\" onClick={this.triggerReAdd}>+</button>\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\t// Viewing Permission Sets\r\n\t\tlet companyViewing = []\r\n\t\tfor (index in this.state.dataCompanyViewing) {\r\n\t\t\tlet userSet = this.state.dataCompanyViewing[index]\r\n\t\t\t\r\n\t\t\tif ( userSet.indexOf(this.state.searchView) > -1) {\r\n\t\t\t\r\n\t\t\t\tcompanyViewing.push(\r\n\t\t\t\t\t<li key={index} id={index} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t\t{userSet}\r\n\t\t\t\t\t\t<button className=\"btn btn-sm btn-outline-danger\" data-toggle=\"modal\" onClick={this.triggerModal} data-target=\"#deleteConfirm\">x</button>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tlet companyViewingAdd = []\r\n\t\tfor (index in this.state.dataCompanyViewingAdded) {\r\n\t\t\tlet userSet = this.state.dataCompanyViewingAdded[index]\r\n\t\t\t\r\n\t\t\tcompanyViewingAdd.push(\r\n\t\t\t\t<li key={index} id={index} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t{userSet}\r\n\t\t\t\t\t<button className=\"btn btn-sm btn-outline-danger\" onClick={this.triggerStopAdd}>x</button>\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\tlet companyViewingDelete = []\r\n\t\tfor (index in this.state.dataCompanyViewingDeleted) {\r\n\t\t\tlet userSet = this.state.dataCompanyViewingDeleted[index]\r\n\t\t\t\r\n\t\t\tcompanyViewingDelete.push(\r\n\t\t\t\t<li key={index} id={index} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t{userSet}\r\n\t\t\t\t\t<button className=\"btn btn-sm btn-outline-success\" onClick={this.triggerReAdd}>+</button>\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\t// Goverened Users List\r\n\t\tlet governedList = []\r\n\t\tfor (index in this.state.dataCompanyGoverned) {\r\n\t\t\tlet userSet = this.state.dataCompanyGoverned[index]\r\n\t\t\t\r\n\t\t\tif ( userSet.indexOf(this.state.searchGov) > -1) {\r\n\t\t\t\r\n\t\t\t\tgovernedList.push(\r\n\t\t\t\t\t<li key={index} id={index} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t\t{userSet}\r\n\t\t\t\t\t\t<button className=\"btn btn-sm btn-outline-danger\" data-toggle=\"modal\" onClick={this.triggerModal} data-target=\"#deleteConfirm\">x</button>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tlet companyGovernedAdd = []\r\n\t\tfor (index in this.state.dataCompanyGovernedAdded) {\r\n\t\t\tlet userSet = this.state.dataCompanyGovernedAdded[index]\r\n\t\t\t\r\n\t\t\tcompanyGovernedAdd.push(\r\n\t\t\t\t<li key={index} id={index} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t{userSet}\r\n\t\t\t\t\t<button className=\"btn btn-sm btn-outline-danger\" onClick={this.triggerStopAdd}>x</button>\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\tlet companyGovernedDelete = []\r\n\t\tfor (index in this.state.dataCompanyGovernedDeleted) {\r\n\t\t\tlet userSet = this.state.dataCompanyGovernedDeleted[index]\r\n\t\t\t\r\n\t\t\tcompanyGovernedDelete.push(\r\n\t\t\t\t<li key={index} id={index} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t{userSet}\r\n\t\t\t\t\t<button className=\"btn btn-sm btn-outline-success\" onClick={this.triggerReAdd}>+</button>\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\t// There is probobly a better way to do this... But the model stuff may work if it is filled out this way\r\n\t\tlet selectedUser = \"None\"\r\n\t\tif (this.state.clickedList === \"sendUsers\") {\r\n\t\t\tselectedUser = this.state.dataCompanySendTo[this.state.clickedIndex]\r\n\t\t}\r\n\t\telse if (this.state.clickedList === \"viewUsers\") {\r\n\t\t\tselectedUser = this.state.dataCompanyViewing[this.state.clickedIndex]\r\n\t\t}\r\n\t\telse if (this.state.clickedList === \"govUsers\") {\r\n\t\t\tselectedUser = this.state.dataCompanyGoverned[this.state.clickedIndex]\r\n\t\t}\r\n\t\t\r\n\t\t// Technically we can just use currentCompany but, hey! To error check I am going to use the response...\r\n\t\treturn (\r\n\t\t\t<div className=\"companySett\">\r\n\t\t\t\t<div className=\"container\">\r\n\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-sm-3 m-2\">\t\r\n\t\t\t\t\t\t\t<button className=\"btn btn-primary\" onClick={this.backButton}>\r\n\t\t\t\t\t\t\t\tGo Back\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-sm m-2\">\t\r\n\t\t\t\t\t\t\tPage Title Test!\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"dropdown\">\r\n\t\t\t\t\t\t\t  <button className=\"btn btn-secondary dropdown-toggle\" type=\"button\" id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n\t\t\t\t\t\t\t\t{this.state.dropMessage}\r\n\t\t\t\t\t\t\t  </button>\r\n\t\t\t\t\t\t\t  <div className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\r\n\t\t\t\t\t\t\t\t{dropDownInternal}\r\n\t\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<button onClick={this.getCompanyList}> Populate Company List </button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<button> onClick={this.postNewCompanyData}>Save Changes</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\tEdit Company name\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"card-text\">\r\n\t\t\t\t\t\t\t\t\t\t{this.state.dataCompanyName}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\tPrivate/Publix\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"card-text\">\r\n\t\t\t\t\t\t\t\t\t\t{this.state.dataCompanyPriv}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\tUsers Notified:\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<input className=\"form-control\" id=\"\" type=\"text\" onChange={this.sendChange} placeholder=\"Search...\"/>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<ul className=\"card-text list-group\" id=\"sendUsers\">\r\n\t\t\t\t\t\t\t\t\t\t{companySend}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<button type=\"button\" className=\"list-group-item list-group-item-action active\" data-toggle=\"modal\" onClick={this.triggerModal} data-target=\"#addNewUsers\">\r\n\t\t\t\t\t\t\t\t\t\t\tAdd user +\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<li key={\"rem\"} id={\"remLabel\"} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t\t\t\t\t\t\tUsers To Remove:\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t{companySendDelete}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<li key={\"add\"} id={\"addLabel\"} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t\t\t\t\t\t\tEmails To Add:\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t{companySendAdd}\r\n\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\tViewing Privilages:\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<input className=\"form-control\" id=\"\" type=\"text\" onChange={this.viewChange} placeholder=\"Search...\"/>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<ul className=\"card-text list-group\"  id=\"viewUsers\">\r\n\t\t\t\t\t\t\t\t\t\t{companyViewing}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<button type=\"button\" className=\"list-group-item list-group-item-action active\" data-toggle=\"modal\" onClick={this.triggerModal} data-target=\"#addNewUsers\">\r\n\t\t\t\t\t\t\t\t\t\t\tAdd user +\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<li key={\"rem\"} id={\"remLabel\"} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t\t\t\t\t\t\tUsers To Remove:\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t{companyViewingDelete}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<li key={\"add\"} id={\"addLabel\"} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t\t\t\t\t\t\tEmails To Add:\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t{companyViewingAdd}\r\n\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\tTarget Users:\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<input className=\"form-control\" id=\"\" type=\"text\" onChange={this.govChange} placeholder=\"Search...\"/>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<ul className=\"card-text list-group\"  id=\"govUsers\">\r\n\t\t\t\t\t\t\t\t\t\t{governedList}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<button type=\"button\" className=\"list-group-item list-group-item-action active\" data-toggle=\"modal\" onClick={this.triggerModal} data-target=\"#addNewUsers\">\r\n\t\t\t\t\t\t\t\t\t\t\tAdd user +\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<li key={\"rem\"} id={\"remLabel\"} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t\t\t\t\t\t\tUsers To Remove:\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t{companyGovernedDelete}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<li key={\"add\"} id={\"addLabel\"} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t\t\t\t\t\t\tEmails To Add:\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t{companyGovernedAdd}\r\n\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<div className=\"modal fade\" id=\"deleteConfirm\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"deleteConfirmation\" aria-hidden=\"true\">\r\n\t\t\t\t  <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n\t\t\t\t\t<div className=\"modal-content\">\r\n\t\t\t\t\t  <div className=\"modal-header\">\r\n\t\t\t\t\t\t<h5 className=\"modal-title\" id=\"deleteTitleConfirm\">Delete Confirmation</h5>\r\n\t\t\t\t\t\t<button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n\t\t\t\t\t\t  <span aria-hidden=\"true\">&times;</span>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t\t  <div className=\"modal-body\">\r\n\t\t\t\t\t\tAre you SURE you want to delete user: {selectedUser}?\r\n\t\t\t\t\t\tThey will be notified about this change.\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t\t  <div className=\"modal-footer\">\r\n\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-danger\" data-dismiss=\"modal\" onClick={this.modelAcceptDelete}>Yes</button>\r\n\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-primary\" data-dismiss=\"modal\">No</button>\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t  </div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<div className=\"modal fade\" id=\"addNewUsers\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"addNewUsersModal\" aria-hidden=\"true\">\r\n\t\t\t\t  <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n\t\t\t\t\t<div className=\"modal-content\">\r\n\t\t\t\t\t  <div className=\"modal-header\">\r\n\t\t\t\t\t\t<h5 className=\"modal-title\" id=\"deleteTitleConfirm\">Add New User</h5>\r\n\t\t\t\t\t\t<button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n\t\t\t\t\t\t  <span aria-hidden=\"true\">&times;</span>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t\t  <div className=\"modal-body\">\r\n\t\t\t\t\t\tEnter the email of the target user\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t\t  <div className='form-group'>\r\n\t\t\t\t\t\t<label>Email Address</label>\r\n\t\t\t\t\t\t<input type='email' className='form-control' value={this.state.addingEmail} onChange={this.emailFieldChange} placeholder='Enter email' />\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t\t  <div className=\"modal-footer\">\r\n\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-primary\" data-dismiss=\"modal\" onClick={this.modelAddEmail}>Add</button>\r\n\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-danger\" data-dismiss=\"modal\">Cancel</button>\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t  </div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default withRouter(companySettings);","import React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport { withRouter } from \"react-router-dom\";\r\n//import { ButtonGroup, ToggleButton } from 'react-bootstrap';\r\n\r\nimport Store from \"store\"\r\nimport Calendar from 'react-calendar'\r\nimport 'react-calendar/dist/Calendar.css';\r\n\r\n//import { ProgressBar } from 'react-bootstrap';\r\n\r\nimport { Line } from 'react-chartjs-2';\r\nimport { arbitraryLineData } from '../utils';\r\nimport { arbitraryLineOptions } from '../utils';\r\n\r\n// Test Data crap from that utils...\r\nimport { generateTestEHIX, generateTestEHIY } from '../utils';\r\n\r\nclass StyleButton extends React.Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.onToggle = (e) => {\r\n\t\t\te.preventDefault();\r\n\t\t\tthis.props.onToggle(this.props.value);\r\n\t\t};\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet className = 'btn btn-outline-primary';\r\n\t\tif (this.props.active) {\r\n\t\t\tclassName += ' active';\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<button className={className} onClick={this.onToggle}>\r\n\t\t\t\t{this.props.label}\r\n\t\t\t</button>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n// Hm, this may be okay? The value should be its index...?\r\nconst historyGraphTimings = [\r\n\t{label:'Max', value:0, dayLength:0},\r\n\t{label:'1Year', value:1, dayLength:365},\r\n\t{label:'6Months', value:2, dayLength:183},\r\n\t{label:'3Months', value:3, dayLength:63},\r\n\t{label:'1Months', value:4, dayLength:31},\r\n\t{label:'1Week', value:5, dayLength:7},\r\n];\r\n\r\nconst GraphTimingButtons = (props) => {\r\n\tconst currentDisplay = props.graphState;\r\n\t\r\n\treturn (\r\n\t\t<div className=\"EHIControls\">\r\n\t\t\t{historyGraphTimings.map((type) =>\r\n\t\t\t\t<StyleButton\r\n\t\t\t\t\tkey={type.label}\r\n\t\t\t\t\tactive={currentDisplay === type.value}\r\n\t\t\t\t\tlabel={type.label}\r\n\t\t\t\t\tonToggle={props.onToggle}\r\n\t\t\t\t\tvalue={type.value}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\n\r\n// This will show the EHI in chart form...\r\nconst EHIDisplay = (props) => {\r\n\t\r\n\tconst currentTimeIndex = props.timeIndex\r\n\tconst labels = props.ehiLabels\r\n\tconst data = props.ehiData\r\n\t\r\n\tlet dayCount = historyGraphTimings[currentTimeIndex].dayLength\r\n\tif (dayCount === 0) {\r\n\t\tdayCount = labels.length\r\n\t}\r\n\t\r\n\tlet ehiLabels = labels.slice(-dayCount)\r\n\tlet ehiData = {\r\n\t\tlabel:\"EHI index\",\r\n\t\t// May not have to slice the second time?\r\n\t\tdata:data.slice(-dayCount)\r\n\t}\r\n\t\r\n\tlet lineData = arbitraryLineData(ehiLabels, [ehiData])\r\n\tlet lineOptions = arbitraryLineOptions()\r\n\t\r\n\treturn (\r\n\t\t<div className=\"EHIDisplay\">\r\n\t\t\t<div className=\"row m-1\">\r\n\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\tEmployee Health Index Test Graph...\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t<Line\r\n\t\t\t\t\t\t\t\theight={150}\r\n\t\t\t\t\t\t\t\tdata={lineData} \r\n\t\t\t\t\t\t\t\toptions={lineOptions}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<GraphTimingButtons\r\n\t\t\t\t\t\t\t\tgraphState={currentTimeIndex}\r\n\t\t\t\t\t\t\t\tonToggle={props.onToggle}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\tOther stuff!\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\tIts yaboi!\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"row m-1\">\r\n\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\tEven more other stuff!\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\tIts yaboi!\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"row m-1\">\r\n\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\tOther stuff!\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\tIts yaboi!\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\tMore other stuff!\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\tIts yaboi!\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\n// This one will contain the report obtaining and showing........ Wait, its a function tho...\r\n// Well, we can store it in the cookies, and all the way up to the App.js state cant we...\r\n// Can use a state hook as well...\r\n\r\n// Can use this just for DISPLAY, while the SIDEBAR has the report buttons?\r\n// No... The report buttons would have no use in anything else...\r\nconst SummaryView = (props) => {\r\n\r\n\t\t// Move this into the render loop to realtime this on the calender...\r\n\tconst tileClassName = ({ date, view }) => {\r\n\t\r\n\t\t// Add class to tiles in month view only\r\n\t\tif (view === 'month') {\r\n\r\n\t\t\t// Check if a date React-Calendar wants to check is on the list of dates to add class to\r\n\t\t\tlet hasSummary = Math.floor(Math.random()*7)\r\n\t\t\t\r\n\t\t\tif (hasSummary === 0) {\r\n\t\t\t\treturn 'btn btn-success'\r\n\t\t\t} else if (hasSummary === 1) {\r\n\t\t\t\treturn 'btn btn-primary'\r\n\t\t\t} else if (hasSummary === 2) {\r\n\t\t\t\treturn 'btn btn-secondary'\r\n\t\t\t} else if (hasSummary === 3) {\r\n\t\t\t\treturn 'btn btn-danger'\r\n\t\t\t} else if (hasSummary === 4) {\r\n\t\t\t\treturn 'btn btn-warning'\r\n\t\t\t} else if (hasSummary === 5) {\r\n\t\t\t\treturn 'btn btn-info'\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t//return 'btn btn-outline-dark'\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"summaryView\">\r\n\t\t\t<div className=\"row m-1\">\r\n\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t<Calendar \r\n\t\t\t\t\t\tonChange={props.onPickDate}\r\n\t\t\t\t\t\tvalue={props.currentDate}\r\n\t\t\t\t\t\ttileClassName={tileClassName}\r\n\r\n\t\t\t\t\t\tminDetail={'year'}\r\n\t\t\t\t\t\tmaxDetail={'month'}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\tMore other stuff!\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\tIts yaboi!\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"row m-1\">\r\n\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\tMore other stuff!\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\tIts yaboi!\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst SuggestionView = (props) => {\r\n\r\n\treturn (\r\n\t\t<div className=\"suggestionView\">\r\n\t\t\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nclass testClass extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\t\t\t\r\n\t\t\tcurrentDate: new Date(),\r\n\t\t\t\r\n\t\t\t// The current mode of the \r\n\t\t\tEHITimespan: 0,\r\n\t\t\t\r\n\t\t\t// hmmmm\r\n\t\t\t//dateLabels: generateTestEHIX(),\r\n\t\t\t//EHISet: generateTestEHIY(),\r\n\t\t\t\r\n\t\t\tdateLabels: [],\r\n\t\t\tEHISet: [],\r\n\t\t\t\r\n\t\t\tdropMessage: 'Select Company=>',\r\n\t\t\tcompanyList: [],\r\n        };\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tthis.loadCompanyData()\r\n\t};\r\n\t\r\n\tbackButton = () => {\r\n\t\tthis.props.history.goBack()\r\n\t}\r\n\t\r\n\tchangeEHIdates = (dateRangeChoice) => {\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tEHITimespan:dateRangeChoice\r\n\t\t})\r\n\t}\r\n\t\r\n\tpickDate = (selectedDate) => {\r\n\t\tconsole.log(selectedDate)\r\n\t}\r\n\t\r\n\tsetCurrentCompany = (event) => {\r\n\t\tthis.setState(\r\n\t\t\t{dropMessage: event.target.value, currentCompany: event.target.value},\r\n\t\t\t// Changing this to use not the current company, but the value for the time being....\r\n\t\t\t// Ill change it back maybe.\r\n\t\t\tthis.loadEHIData(event.target.value)\r\n\t\t)\r\n\t}\r\n\t\r\n\tloadCompanyData = () => {\r\n\t\t// Get the list of companies from the cookies\r\n\t\tlet result = this.getCookiesListData();\r\n\t\tif (!result) {\r\n\t\t\t// If it failed, we go get it from the server...\r\n\t\t\tthis.getServerCompanyList()\r\n\t\t}\r\n\t}\r\n\t\r\n\tgetCookiesListData = () => {\r\n\t\tlet getDates = Store.get(this.props.currentUser+'-companyList')\r\n\t\t\r\n\t\ttry {\r\n\t\t\tthis.setState({companyList: getDates['theList']})\r\n\t\t\tconsole.log(\"List data was in the cookies\")\r\n\t\t\treturn true\r\n\t\t}\r\n\t\tcatch {\r\n\t\t\tconsole.log(\"Not in the cookies\")\r\n\t\t\treturn false\r\n\t\t}\r\n\t}\r\n\t\r\n\t// Get Company List from the server\r\n\tgetServerCompanyList = () => {\r\n\t\t\r\n\t\tconst config = {\r\n\t\t\theaders: { Authorization: `JWT ${this.props.authToken}` }\r\n\t\t};\r\n\t\r\n\t\taxios.get(this.props.APIHost +\"/getUsersCompanies\", config)\r\n\t\t.then( \tres => {\r\n\t\t\t\t// Should respond with a 1 length thing\r\n\t\t\t\tif (res.data.length > 0) {\r\n\t\t\t\t\t// Normal behaviour\r\n\t\t\t\t\tconsole.log(\"Got the list of companies\")\r\n\t\t\t\t\t//console.log(res)\r\n\t\t\t\t\t\r\n\t\t\t\t\t// Companies this user is 'owner' of\r\n\t\t\t\t\t//console.log(res.data[0].companyOwner)\r\n\t\t\t\t\t// Companies that this user is Allowed to see\r\n\t\t\t\t\t//console.log(res.data[0].companyAllowsView)\r\n\t\t\t\t\t// Companies this user is sent updates on\r\n\t\t\t\t\t//console.log(res.data[0].companySendsTo)\r\n\t\t\t\t\t\r\n\t\t\t\t\t// Merge these three into a single set for viewing for now?\r\n\t\t\t\t\tlet adding = []\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar index;\r\n\t\t\t\t\tfor (index in res.data[0].companyOwner) {\r\n\t\t\t\t\t\tlet name = res.data[0].companyOwner[index]\r\n\t\t\t\t\t\tif ( !adding.includes(name) ) {\r\n\t\t\t\t\t\t\tadding.push(name)\r\n\t\t\t\t\t\t\t//console.log(name)\r\n\t\t\t\t\t\t}\t\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor (index in res.data[0].companyAllowsView) {\r\n\t\t\t\t\t\tlet name = res.data[0].companyAllowsView[index]\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif ( !adding.includes(name) ) {\r\n\t\t\t\t\t\t\tadding.push(name)\r\n\t\t\t\t\t\t\t//console.log(name)\r\n\t\t\t\t\t\t}\t\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor (index in res.data[0].companySendsTo) {\r\n\t\t\t\t\t\tlet name = res.data[0].companySendsTo[index]\r\n\t\t\t\t\t\tif ( !adding.includes(name) ) {\r\n\t\t\t\t\t\t\tadding.push(name)\r\n\t\t\t\t\t\t\t//console.log(name)\r\n\t\t\t\t\t\t}\t\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tStore.set(this.props.currentUser+'-companyList', {'theList':adding})\r\n\t\t\t\t\tthis.setState({companyList: adding})\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\t// This should not trigger\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch( err => {\r\n\t\t\t\tif (err.response.status === 401) {\r\n\t\t\t\t\tthis.props.forceLogout()\r\n\t\t\t\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\t\r\n\tloadEHIData = (targetCompany) => {\r\n\t\t// Get the EHI Data from the cookies\r\n\t\tlet result = this.getCookiesEHIData(targetCompany);\r\n\t\tif (!result) {\r\n\t\t\t// If it failed, we go get it from the server...\r\n\t\t\tthis.getServerEHIData(targetCompany)\r\n\t\t}\r\n\t}\r\n\t\r\n\tgetCookiesEHIData = (targetCompany) => {\r\n\t\tlet icomingData = Store.get(\"EHI-\"+targetCompany)\r\n\t\t\r\n\t\ttry {\r\n\t\t\tlet dateSet;\r\n\t\t\tfor (dateSet in icomingData[\"days\"]) {\r\n\t\t\t\tconsole.log(dateSet)\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tlet labels = []\r\n\t\t\tlet data = []\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tdateLabels:labels,\r\n\t\t\t\tEHISet:data,\r\n\t\t\t})\r\n\t\t\treturn true\r\n\t\t}\r\n\t\tcatch{\r\n\t\t\tconsole.log(\"Nothing in the cookies!\")\r\n\t\t\treturn false\r\n\t\t}\r\n\t}\r\n\t\r\n\tgetServerEHIData = (targetCompany) => {\r\n\t\t\r\n\t\tconst config = {\r\n\t\t\theaders: { Authorization: `JWT ${this.props.authToken}` }\r\n\t\t};\r\n\t\t\r\n\t\taxios.get(this.props.APIHost +\"/getCompanyEHI?reqComp=\"+targetCompany+\"\", config)\r\n\t\t.then( \tres => {\r\n\t\t\t\t// Should respond with a 1 length thing\r\n\t\t\t\t//console.log(res)\r\n\t\t\t\tif (res.data.length > 0) {\r\n\t\t\t\t\t// Normal behaviour\r\n\t\t\t\t\tconsole.log(\"Got the company data!\")\r\n\t\t\t\t\t\r\n\t\t\t\t\tlet labels = []\r\n\t\t\t\t\tlet data = []\r\n\t\t\t\t\t\r\n\t\t\t\t\tlet index;\r\n\t\t\t\t\tfor (index in res.data[0].EHIstorage[\"days\"]) {\r\n\t\t\t\t\t\t//console.log(index)\r\n\t\t\t\t\t\t//console.log(res.data[0].EHIstorage[\"days\"][index])\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tlabels.push(index)\r\n\t\t\t\t\t\tdata.push(res.data[0].EHIstorage[\"days\"][index])\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tdateLabels:labels,\r\n\t\t\t\t\t\tEHISet:data,\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\t// This should not trigger\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch( err => {\r\n\t\t\t\tconsole.log(err)\r\n\t\t\t\tif (err.response.status === 401) {\r\n\t\t\t\t\tthis.props.forceLogout()\r\n\t\t\t\t\tthis.props.history.push(this.props.reRouteTarget)\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\t\r\n\t// Rendering this with Bootstrap React.... To see if there is anything really interesting I can do with it\r\n\t// So far it doesnt look all that different \r\n\trender() {\r\n\t\r\n\t\tlet index;\r\n\t\tvar dropDownInternal = []\r\n\t\t\r\n\t\tfor (index in this.state.companyList) {\r\n\t\t\tlet comp = this.state.companyList[index]\r\n\t\t\tdropDownInternal.push( \r\n\t\t\t\t<button className=\"dropdown-item\" key={index} onClick={this.setCurrentCompany} value={ comp }>\r\n\t\t\t\t\t{comp}\r\n\t\t\t\t</button> \r\n\t\t\t)\r\n\t\t}\r\n\t\t\t\r\n\t\treturn (\r\n\t\t\t<div className=\"testStuff\">\r\n\t\t\t\t<div className=\"container-fluid\">\r\n\t\t\t\t\t\r\n\t\t\t\t\t{/*Global row starts here!*/}\r\n\t\t\t\t\t<div className=\"row m-1\">\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t{/*This Column is the test Sidebar.... Lets add stuff for collapsing it later...*/}\r\n\t\t\t\t\t\t<div className=\"col-2 border m-1\">\r\n\t\t\t\t\t\t\t<div className=\"row m-1\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"dropdown\">\r\n\t\t\t\t\t\t\t\t\t  <button className=\"btn btn-secondary dropdown-toggle\" type=\"button\" id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n\t\t\t\t\t\t\t\t\t  {this.state.dropMessage}\r\n\t\t\t\t\t\t\t\t\t  </button>\r\n\t\t\t\t\t\t\t\t\t  <div className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\r\n\t\t\t\t\t\t\t\t\t\t{dropDownInternal}\r\n\t\t\t\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"row m-1\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<ul className=\"nav nav-tabs\">\r\n\t\t\t\t\t\t\t\t\t\t<li className=\"nav-item\">\r\n\t\t\t\t\t\t\t\t\t\t\t<a className=\"nav-link active\" data-toggle=\"tab\" href=\"#ehi\">EHI</a>\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t<li className=\"nav-item\">\r\n\t\t\t\t\t\t\t\t\t\t\t<a className=\"nav-link\" data-toggle=\"tab\" href=\"#summary\">Summary</a>\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t<li className=\"nav-item\">\r\n\t\t\t\t\t\t\t\t\t\t\t<a className=\"nav-link\" data-toggle=\"tab\" href=\"#suggestion\">Suggestion</a>\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t{/*This is the content column...*/}\r\n\t\t\t\t\t\t<div className=\"col-9\">\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t{/*This is for tabbed content...*/}\r\n\t\t\t\t\t\t\t{/*But this does not count in the back stuff... So this may be a problem in the long run*/}\r\n\t\t\t\t\t\t\t{/*Why though.... does THIS not affect the history, and yet... it did before?*/}\r\n\t\t\t\t\t\t\t{/*What did I miss here that it does that now?*/}\r\n\t\t\t\t\t\t\t<div className=\"tab-content\">\r\n\t\t\t\t\t\t\t\t<div id=\"ehi\" className=\"tab-pane active\">\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<EHIDisplay \r\n\t\t\t\t\t\t\t\t\t\ttimeIndex={this.state.EHITimespan}\r\n\t\t\t\t\t\t\t\t\t\tehiLabels={this.state.dateLabels}\r\n\t\t\t\t\t\t\t\t\t\tehiData={this.state.EHISet}\r\n\t\t\t\t\t\t\t\t\t\tonToggle={this.changeEHIdates}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div id=\"summary\" className=\"container tab-pane fade\">\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<SummaryView\r\n\t\t\t\t\t\t\t\t\t\tcurrentDate={this.state.currentDate}\r\n\t\t\t\t\t\t\t\t\t\tonPickDate={this.pickDate}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div id=\"suggestion\" className=\"container tab-pane fade\">\r\n\t\t\t\t\t\t\t\t\t<SuggestionView\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{/*This is the padding... To make sure the footer doesnt sit above the content...*/}\r\n\t\t\t\t\t<div className=\"row  my-4\">\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(testClass);","import React from \"react\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\n\nimport axios from \"axios\";\n\nimport { Navigation, Footer, Landing, SignIn, SignUp, Forgot, ViewJournals, WriteJournals, ViewCompany, SetCompany, MainMenu, Test} from \"./components\";\n\nimport Store from \"store\"\n\n//import '../node_modules/bootstrap/dist/css/bootstrap.min.css';\nimport './App.css'\n\n// Is THIS a patch for Github Pages react stuff?\n// Maybe...\n// Ill have to test this...\nconst basePath = \"/scenere\"\n\nconst hostName = \"https://cmaster.pythonanywhere.com\"\n//const hostName = \"10.0.0.60:8000\"\n\nclass App extends React.Component {\n\t\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n          \n\t\t  currentUser: undefined,\n\t\t  sessionToken: undefined,\n\n        };\n\t}\n\t\n\tcomponentDidMount() {\n\t\tthis.loadFromCookies();\n\t};\n\t\n\tloadFromCookies = () => {\n\t\tconst lastUserSet = Store.get('lastUser');\n\t\t\t\n\t\ttry{ \n\t\t\tthis.setState({ currentUser: lastUserSet.user, sessionToken: lastUserSet.session }) \n\t\t}\n\t\tcatch{\n\t\t\tconsole.log(\"User was NOT found in the storage\")\n\t\t};\n\t}\n\t\n\tsetToken = ( token, username ) => {\n\t\t// Verify this before we sent it in I guess?\n\t\tthis.setState({ sessionToken: token, currentUser: username })\n\t\t\n\t\tStore.set('lastUser', { user:username, session:token })\n\t\t\n\t\t// Return if we succeeded or not\n\t\treturn true\n\t}\n\t\n\t// Test out refreshing the token...\n\t// Should do this every page reload...\n\trefresh = () => {\n\t\tconst data = {\n\t\t\ttoken: this.state.sessionToken,\n\t\t};\n\t\t\n\t\taxios.post(hostName + \"/apiTokenRefresh/\", data)\n\t\t.then( \tres => {\n\t\t\t//console.log(res)\n\t\t\t\n\t\t\t// If we get here then we should have a new token\n\t\t\t//console.log(res.data.token)\n\t\t\tconsole.log(\"Token refreshed\")\n\t\t\t// A little bit unnecessary but hey...\n\t\t\tthis.setToken( res.data.token, this.state.currentUser)\n\t\t\t\n\t\t\treturn true\n\t\t})\n\t\t.catch( err => {\n\t\t\tconsole.log(err)\n\t\t\t// Check for a specific error?\n\t\t\t\n\t\t\tthis.logout()\n\t\t\t\n\t\t\treturn false\n\t\t});\n\t}\n\n\t// Should move this over to the UTIL...\n\tlogout = () => {\n\t\tthis.setState({ sessionToken: undefined, currentUser: undefined })\n\n\t\tStore.remove('lastUser')\n\t}\n\t\n\t// maybe I should move all the AXIOS stuff to its own file...\n\t\n\t/*\n\t<Route path={basePath+\"/test2\"} exact component={() => <Test2 \n\t\tAPIHost={hostName}\n\t\tforceLogout={this.logout}\n\t\t\n\t/>} />\n\t*/\n\t\n\trender() {\n\n\t\treturn (\n\t\t\t<Router>\n\t\t\t\t<div className=\"App\">\n\t\t\t\n\t\t\t\t\t<Navigation \n\t\t\t\t\t\tcurrentUser={this.state.currentUser}\n\t\t\t\t\t\tbasePath={basePath}\n\n\t\t\t\t\t\tclearLogin={this.setToken}\n\t\t\t\t\t/>\n\t\t\t\t\t\t\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\n\t\t\t\t\t\t<Route path={basePath+\"/test\"} exact component={() => <Test \n\t\t\t\t\t\t\t\tAPIHost={hostName}\n\t\t\t\t\t\t\t\tforceLogout={this.logout}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tcurrentUser={this.state.currentUser}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\ttokenRefresh={this.refresh}\n\t\t\t\t\t\t\t\treRouteTarget={basePath+\"/signin\"}\n\t\t\t\t\t\t\t\tauthToken={this.state.sessionToken}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t/>} />\n\t\t\t\t\t\n\t\t\t\t\t\t<Route path={basePath+\"/\"} exact component={() => <Landing \n\t\t\t\t\t\t\t\tAPIHost={hostName}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t/>} />\n\t\t\t\t\t\t<Route path={basePath+\"/signin\"} exact component={() => <SignIn \n\t\t\t\t\t\t\t\tloginSave={this.setToken}\n\t\t\t\t\t\t\t\tAPIHost={hostName}\n\n\t\t\t\t\t\t\t\treRouteTarget={basePath+\"/menu\"}\n\t\t\t\t\t\t\t\tforgotPath={basePath+\"/forgot\"}\n\t\t\t\t\t\t\t/>} />\n\t\t\t\t\t\t<Route path={basePath+\"/signup\"} exact component={() => <SignUp \n\t\t\t\t\t\t\t\tAPIHost={hostName}\n\t\t\t\t\t\t\t\treRouteTarget={basePath+\"/signin\"}\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t/>} />\n\t\t\t\t\t\t<Route path={basePath+\"/forgot\"} exact component={() => <Forgot \n\t\t\t\t\t\t\t\tAPIHost={hostName}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\treRouteTarget={basePath+\"/signin\"}\n\t\t\t\t\t\t\t/>} />\n\n\t\t\t\t\t\t<Route path={basePath+\"/menu\"} exact component={() => <MainMenu \n\t\t\t\t\t\t\t\tAPIHost={hostName}\n\t\t\t\t\t\t\t\ttokenRefresh={this.refresh}\n\t\t\t\t\t\t\t\treRouteTarget={basePath+\"/signin\"}\n\n\t\t\t\t\t\t\t\tjournalWriteDirect={basePath+\"/write\"}\n\t\t\t\t\t\t\t\tjournalReadDirect={basePath+\"/read\"}\n\t\t\t\t\t\t\t\tcompanyReadDirect={basePath+\"/companyCheck\"}\n\t\t\t\t\t\t\t\tcompanySettingDirect={basePath+\"/companySet\"}\t\n\n\t\t\t\t\t\t\t\tcurrentUser={this.state.currentUser}\n\t\t\t\t\t\t\t\tauthToken={this.state.sessionToken}\n\t\t\t\t\t\t\t/>} />\n\n\t\t\t\t\t\t<Route path={basePath+\"/read\"} exact component={() => <ViewJournals \n\t\t\t\t\t\t\t\tAPIHost={hostName}\n\t\t\t\t\t\t\t\ttokenRefresh={this.refresh}\n\t\t\t\t\t\t\t\treRouteTarget={basePath+\"/signin\"}\n\t\t\t\t\t\t\t\tforceLogout={this.logout}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tcurrentUser={this.state.currentUser}\n\t\t\t\t\t\t\t\tauthToken={this.state.sessionToken}\n\t\t\t\t\t\t\t/>} />\n\t\t\t\t\t\t<Route path={basePath+\"/write\"} exact component={() => <WriteJournals \n\t\t\t\t\t\t\t\tAPIHost={hostName}\n\t\t\t\t\t\t\t\ttokenRefresh={this.refresh}\n\t\t\t\t\t\t\t\treRouteTarget={basePath+\"/signin\"}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tauthToken={this.state.sessionToken}\n\t\t\t\t\t\t\t/>} />\n\t\t\t\t\t\t<Route path={basePath+\"/companyCheck\"} exact component={() => <ViewCompany \n\t\t\t\t\t\t\t\tAPIHost={hostName}\n\t\t\t\t\t\t\t\tforceLogout={this.logout}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tcurrentUser={this.state.currentUser}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\ttokenRefresh={this.refresh}\n\t\t\t\t\t\t\t\treRouteTarget={basePath+\"/signin\"}\n\t\t\t\t\t\t\t\tauthToken={this.state.sessionToken}\n\t\t\t\t\t\t\t/>} />\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t<Route path={basePath+\"/companySet\"} exact component={() => <SetCompany \n\t\t\t\t\t\t\t\tAPIHost={hostName}\n\t\t\t\t\t\t\t\ttokenRefresh={this.refresh}\n\t\t\t\t\t\t\t\treRouteTarget={basePath+\"/signin\"}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tauthToken={this.state.sessionToken}\n\t\t\t\t\t\t\t/>} />\n\n\t\t\t\t\t</Switch>\n\n\t\t\t\t\t<Footer \n\t\t\t\t\t\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</Router>\n\t\t);\n\t}\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nimport'bootstrap/dist/css/bootstrap.min.css';\n//import $ from'jquery';\n//import Popper from 'popper.js';\nimport'bootstrap/dist/js/bootstrap.bundle.min';\n\n//import '@trendmicro/react-sidenav/dist/react-sidenav.css';\n\n//<React.StrictMode>\n//</React.StrictMode>,\n\nReactDOM.render(\n  \n\t<App />,\n  \n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}