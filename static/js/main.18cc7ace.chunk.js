(this["webpackJsonpproject-serene"]=this["webpackJsonpproject-serene"]||[]).push([[0],{155:function(e,t,a){},375:function(e,t,a){},379:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a(2),o=a.n(n),r=a(83),c=a.n(r),i=(a(155),a(9)),l=a(10),d=a(12),h=a(11),j=a(24),b=a(7),u=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={something:null},s}return Object(l.a)(a,[{key:"render",value:function(){return Object(s.jsx)("div",{className:"navigation",children:Object(s.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)(j.b,{className:"navbar-brand",to:"/",children:"Unnamed Journaling Site"}),Object(s.jsxs)("p",{className:"text-light",children:["Current User: ",this.props.currentUser]}),Object(s.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarResponsive","aria-controls":"navbarResponsive","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(s.jsx)("span",{className:"navbar-toggler-icon"})}),Object(s.jsx)("div",{className:"collapse navbar-collapse",id:"navbarResponsive",children:Object(s.jsxs)("ul",{className:"navbar-nav ml-auto",children:[Object(s.jsx)("li",{className:"nav-item  ".concat("/"===this.props.location.pathname?"active":""),children:Object(s.jsxs)(j.b,{className:"nav-link",to:"/",children:["Landing",Object(s.jsx)("span",{className:"sr-only",children:"(current)"})]})}),Object(s.jsx)("li",{className:"nav-item  ".concat("/signup"===this.props.location.pathname?"active":""),children:Object(s.jsx)(j.b,{className:"nav-link",to:"/signup",children:"Sign Up"})}),Object(s.jsx)("li",{className:"nav-item  ".concat("/signin"===this.props.location.pathname?"active":""),children:Object(s.jsx)(j.b,{className:"nav-link",to:"/signin",children:"Sign In"})}),Object(s.jsx)("li",{className:"nav-item  ".concat("/read"===this.props.location.pathname?"active":""),children:Object(s.jsx)(j.b,{className:"nav-link",to:"/read",children:"JournalScan"})}),Object(s.jsx)("li",{className:"nav-item  ".concat("/write"===this.props.location.pathname?"active":""),children:Object(s.jsx)(j.b,{className:"nav-link",to:"/write",children:"JournalWrite"})}),Object(s.jsx)("li",{className:"nav-item  ".concat("/company"===this.props.location.pathname?"active":""),children:Object(s.jsx)(j.b,{className:"nav-link",to:"/company",children:"Company"})})]})})]})})})}}]),a}(o.a.Component),m=Object(b.f)(u),p=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={},s}return Object(l.a)(a,[{key:"render",value:function(){return Object(s.jsx)("div",{className:"footer",children:Object(s.jsx)("footer",{className:"py-3 bg-dark fixed-bottom",children:Object(s.jsx)("div",{className:"container",children:Object(s.jsx)("p",{className:"m-0 text-center text-white",children:"Copyright \xa9 Nightingale Technologies 2020"})})})})}}]),a}(o.a.Component),g=a(6),x=a.n(g),O=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).getFromCookies=function(){x.a.get("rememberSomething")},s.chartReference=o.a.createRef(),s.state={userToken:null},s}return Object(l.a)(a,[{key:"render",value:function(){return Object(s.jsx)("div",{className:"landing",children:Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)("div",{className:"row align-items-center my-5",children:Object(s.jsx)("div",{className:"col-lg-12",children:Object(s.jsx)("h3",{children:"Sample Title"})})}),Object(s.jsxs)("div",{className:"row align-items-center my-2",children:[Object(s.jsx)("div",{class:"col-lg-7",children:Object(s.jsx)("img",{class:"img-fluid rounded mb-4 mb-lg-0",src:"http://placehold.it/900x400",alt:""})}),Object(s.jsx)("div",{className:"col m-5 ",children:Object(s.jsx)("p",{children:"Explainations ahoy!"})})]})]})})}}]),a}(o.a.Component),v=a(22),f=a.n(v),y=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).loadFromCookies=function(){var e=x.a.get("rememberUser");try{s.setState({username:e.user,password:e.pass})}catch(t){}},s.userFieldChange=function(e){s.setState({username:e.target.value})},s.passFieldChange=function(e){s.setState({password:e.target.value})},s.remFieldChange=function(e){s.setState({remember:e.target.value})},s.handleSubmit=function(e){s.state.remember&&(x.a.set("rememberUser",{user:s.state.username,pass:s.state.password}),console.log("User data Stored"));var t={username:s.state.username,password:s.state.password};f.a.post("http://10.0.0.60:8000/apiTokenAuth/",t).then((function(e){s.setState({latestAttept:200});var t=s.props.tokenSetter(e.data.token,s.state.username);console.log("Success"),t?(console.log("Token registered"),s.props.history.push("/company")):console.log("Token Failed..?")})).catch((function(e){s.setState({latestAttept:400}),console.log(e),console.log("Connection failed...")})),e.preventDefault()},s.state={currentState:0,latestAttepmt:0,username:"",password:"",remember:!1},s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.loadFromCookies()}},{key:"render",value:function(){return Object(s.jsx)("div",{className:"container",children:Object(s.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(s.jsx)("h3",{children:"Sign In"}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Email Address"}),Object(s.jsx)("input",{type:"text",className:"form-control",value:this.state.username,onChange:this.userFieldChange,placeholder:"Enter email"})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Password"}),Object(s.jsx)("input",{type:"password",className:"form-control",value:this.state.password,onChange:this.passFieldChange,placeholder:"Enter password"})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("input",{type:"checkbox",className:"form-control-input",id:"customCheck1",value:this.state.remember,onChange:this.remFieldChange}),Object(s.jsx)("label",{className:"form-control-label",htmlFor:"customCheck1",children:"Remember Me"})]}),Object(s.jsx)("button",{type:"submit",className:"btn btn-dark btn-block",children:"Submit"}),Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("p",{className:"col forgot-password text-left text-dark",children:Object(s.jsx)("a",{href:"10.0.0.60:3000",children:"Sign Up"})}),Object(s.jsx)("p",{className:"col forgot-password text-right text-dark",children:Object(s.jsx)("a",{href:"10.0.0.60:3000",children:"Forgot password?"})})]})]})})}}]),a}(o.a.Component),N=Object(b.f)(y),C=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).usernameFieldChange=function(e){s.setState({username:e.target.value})},s.emailFieldChange=function(e){s.setState({email:e.target.value})},s.passFieldChange=function(e){s.setState({password:e.target.value})},s.pass2FieldChange=function(e){s.setState({password2:e.target.value})},s.firstNameFieldChange=function(e){s.setState({firstName:e.target.value})},s.lastnameFieldChange=function(e){s.setState({lastName:e.target.value})},s.checkFieldChange=function(e){s.setState({checkField:e.target.value})},s.handleSubmit=function(e){s.state.checkField&&console.log("Field was not checked");s.state.username,s.state.password,s.state.password2,s.state.email,s.state.firstName,s.state.firstName;e.preventDefault()},s.state={username:"",email:"",password:"",password2:"",firstName:"",lastName:"",checkField:!1},s}return Object(l.a)(a,[{key:"render",value:function(){return Object(s.jsx)("div",{className:"container",children:Object(s.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(s.jsx)("h3",{children:"Sign Up"}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Username"}),Object(s.jsx)("input",{type:"text",className:"form-control",value:this.state.username,onChange:this.usernameFieldChange,placeholder:"Enter Username"})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Email Address"}),Object(s.jsx)("input",{type:"email",className:"form-control",value:this.state.email,onChange:this.emailFieldChange,placeholder:"Enter email"})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Password"}),Object(s.jsx)("input",{type:"password",className:"form-control",value:this.state.password,onChange:this.passFieldChange,placeholder:"Enter password"})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Confirm Password"}),Object(s.jsx)("input",{type:"password",className:"form-control",value:this.state.password2,onChange:this.pass2FieldChange,placeholder:"Confirm password"})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"First Name"}),Object(s.jsx)("input",{type:"text",className:"form-control",value:this.state.firstName,onChange:this.firstNameFieldChange,placeholder:"First Name"})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Last Name"}),Object(s.jsx)("input",{type:"text",className:"form-control",value:this.state.lastName,onChange:this.lastnameFieldChange,placeholder:"Last Name"})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("input",{type:"checkbox",className:"form-control-input",id:"customCheck1",value:this.state.checkField,onChange:this.checkFieldChange}),Object(s.jsx)("label",{className:"form-control-label",htmlFor:"customCheck1",children:"Legal stuff? Not sure..."})]}),Object(s.jsx)("button",{type:"submit",className:"btn btn-dark btn-block",children:"Submit"}),Object(s.jsx)("p",{className:"forgot-password text-right text-dark",children:Object(s.jsx)("a",{href:"10.0.0.60:3000",children:"Already Registered?"})})]})})}}]),a}(o.a.Component),S=a(62),k=a(13),D=function(e){return{labels:["Anger","Disgust","Fear","Joy","Sadness"],datasets:[{label:"Confidence Levels",data:e,backgroundColor:"rgba(99, 255, 132, 0.2)",borderColor:"rgba(99, 255, 132, 1)",borderWidth:1}]}},w=function(e){return{labels:["Positive","Negative"],datasets:[{label:["Sentiment"],data:e,backgroundColor:["rgba(99, 255, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(99, 255, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]}},T=function(e,t){return{labels:t,datasets:[{label:"Concepts Relevance",data:e,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]}},F=function(e,t){return{labels:t,datasets:[{label:"Categories Score",data:e,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]}},E=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).loadFromCookies=function(){var e=x.a.get(s.props.currentUser+"-ValidDates");try{s.setState({validJournalScanDates:e.AIDates,validJournalDates:e.journalDates}),console.log("Got the journal data from the cookies")}catch(t){}},s.loadTestData=function(){var e,t=x.a.get("testData"),a=t.categories,n=[],o=[];for(e in a){var r=a[e];n.push(r.label),o.push(r.score)}var c=t.concepts,i=[],l=[],d=[];for(e in c){var h=c[e];i.push(h.text),l.push(h.relevance),d.push(h.dbpedia_resource)}var j=t.emotion.document.emotion,b=[j.anger,j.disgust,j.fear,j.joy,j.sadness],u=t.entities,m=[];for(e in u){var p=u[e],g=[p.emotion.anger,p.emotion.disgust,p.emotion.fear,p.emotion.joy,p.emotion.sadness],O=p.sentiment.score,v=1-Math.abs(O),f=[0,0];f=O>0?[O,v]:[v,O];var y={id:e,text:p.text,type:p.type,count:p.count,relevance:p.relevance,emotion:g,sentiment:f};m.push(y)}var N=t.keywords,C=[];for(e in N){var S=N[e],k=[S.emotion.anger,S.emotion.disgust,S.emotion.fear,S.emotion.joy,S.emotion.sadness],E=S.sentiment.score,R=1-Math.abs(E),A=[0,0];A=E>0?[E,R]:[R,E];var J={id:e,text:S.text,count:S.count,relevance:S.relevance,emotion:k,sentiment:A};C.push(J)}var U=[],M=t.relations;for(e in M){var V=M[e],L={id:e,init:V.arguments[0].text,action:V.type,target:V.arguments[1].text,score:V.score};U.push(L)}var K=t.sentiment.document.score,W=[.5*(K+1),.5*(K-1)];s.setState({dataCategories:F(o,n),dataConcepts:T(l,i),dataEmotion:D(b),dataEntities:m,dataKeywords:C,dataRelations:U,dataSentiment:w(W)})},s.saveToCookies=function(){x.a.set(s.props.currentUser+"-ValidDates",{journalDates:s.state.validJournalDates,AIDates:s.state.validJournalScanDates}),console.log("Saved to cookies!")},s.getJournalDates=function(){if(null==s.props.authToken)return console.log("Not logged in"),!1;var e={headers:{Authorization:"JWT ".concat(s.props.authToken)}};return f.a.get("http://10.0.0.60:8000/getJournalDates",e).then((function(e){console.log("Got Data!");var t=[],a=[];x.a.remove(s.props.currentUser+"-ValidDates");var n="";for(n in e.data){var o=new Date(e.data[n].createdDate),r=o.getFullYear()+"-"+o.getMonth()+"-"+(o.getDate()+1);e.data[n].hasAI?t.push(r):a.push(r)}s.setState({validJournalScanDates:t,validJournalDates:a})})).catch((function(e){console.log(e)})),!1},s.pickDate=function(e){var t=x.a.get(s.props.currentUser+"-Journal-"+e);try{console.log(t.content),console.log("Got the Journal entry from storage?!")}catch(o){if(null==s.props.authToken)return console.log("Not logged in"),!1;var a={headers:{Authorization:"JWT ".concat(s.props.authToken)}};console.log("requesting date"),s.setState({currentDate:e});var n=e.toJSON().split("T")[0];f.a.get("http://10.0.0.60:8000/getUserJournal/?reqDate="+n,a).then((function(e){e.data.length>0?(console.log("obtained a journal entry"),e.data[0].hasAI&&(console.log("Saved to the storage"),x.a.set("testData",e.data[0].AIresult),s.loadTestData()),s.setState({messages:"Showing Journal Entry for: "+s.state.currentDate.toString(),journalDisp:e.data[0].content})):(console.log("No entry for that day"),s.setState({messages:"No entry for that day",journalDisp:""}))})).catch((function(e){console.log(e)}))}},s.tileClassName=function(e){var t=e.date;if("month"===e.view){var a=t.getFullYear()+"-"+t.getMonth()+"-"+t.getDate(),n=s.state.validJournalDates.find((function(e){return e===a}));return s.state.validJournalScanDates.find((function(e){return e===a}))?"btn-dark":n?"btn-info":"btn-light"}},s.state={messages:"Waiting for user input...",journalData:"",currentDate:new Date,validJournalDates:[],validJournalScanDates:[],dataCategories:F([0],[""]),optionsCategories:{scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}]}},dataConcepts:T([0],[""]),optionsConcepts:{scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}]}},dataEntities:[],dataKeywords:[],dataRelations:[],dataEmotion:D([0]),optionsEmotions:{scale:{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}},dataSentiment:w([0]),optionsSentiment:{cutoutPercentage:50}},s.onChange=function(e){return s.setState({editorState:e})},s.setEditor=function(e){s.editor=e},s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.loadFromCookies()}},{key:"render",value:function(){var e,t=[];if(this.state.dataEntities.length>0)for(e in this.state.dataEntities){var a=this.state.dataEntities[e],n=D(a.emotion),o=w(a.sentiment);t.push(Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"row",children:a.text}),Object(s.jsx)("td",{children:a.type}),Object(s.jsx)("td",{children:a.count}),Object(s.jsx)("td",{children:a.relevance}),Object(s.jsxs)("td",{children:[" ",Object(s.jsx)(k.Radar,{ref:this.chartReference,data:n,options:this.state.optionsEmotions})," "]}),Object(s.jsxs)("td",{children:[" ",Object(s.jsx)(k.Doughnut,{ref:this.chartReference,data:o,options:this.state.optionsSentiment})," "]})]},a.id))}var r=[];if(this.state.dataKeywords.length>0)for(e in this.state.dataKeywords){var c=this.state.dataKeywords[e],i=D(c.emotion),l=w(c.sentiment);r.push(Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"row",children:c.text}),Object(s.jsx)("td",{children:c.count}),Object(s.jsx)("td",{children:Object(s.jsx)(k.Radar,{ref:this.chartReference,data:i,options:this.state.optionsEmotions})}),Object(s.jsx)("td",{children:Object(s.jsx)(k.Doughnut,{ref:this.chartReference,data:l,options:this.state.optionsSentiment})})]},c.id))}var d=[];if(this.state.dataRelations.length>0)for(e in this.state.dataRelations){var h=this.state.dataRelations[e];d.push(Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"row",children:h.init}),Object(s.jsx)("td",{children:h.action}),Object(s.jsx)("td",{children:h.target}),Object(s.jsx)("td",{children:h.score})]},h.id))}return Object(s.jsx)("div",{className:"mainView",children:Object(s.jsxs)("div",{className:"container",children:[Object(s.jsxs)("div",{className:"row ",children:[Object(s.jsx)("div",{className:"col-lg-3 border m-2",children:Object(s.jsx)("div",{children:Object(s.jsx)(S.a,{onChange:this.pickDate,value:this.state.currentDate,tileClassName:this.tileClassName,minDetail:"year",maxDetail:"month"})})}),Object(s.jsxs)("div",{className:"col border m-2",children:[Object(s.jsx)("p",{children:this.state.messages}),Object(s.jsx)("p",{children:this.state.journalDisp})]})]}),Object(s.jsxs)("div",{className:"row my-2",children:[Object(s.jsx)("div",{className:"col border mx-2",children:Object(s.jsx)(k.Radar,{ref:this.chartReference,data:this.state.dataEmotion,options:this.state.optionsEmotions})}),Object(s.jsx)("div",{className:"col border mx-2",children:Object(s.jsx)(k.Doughnut,{ref:this.chartReference,data:this.state.dataSentiment,options:this.state.optionsSentiment})})]}),Object(s.jsxs)("div",{className:"row  my-2",children:[Object(s.jsx)("div",{className:"col border mx-2",children:Object(s.jsx)(k.Bar,{ref:this.chartReference,data:this.state.dataCategories,options:this.state.optionsCategories})}),Object(s.jsx)("div",{className:"col border mx-2",children:Object(s.jsx)(k.Bar,{ref:this.chartReference,data:this.state.dataConcepts,options:this.state.optionsConcepts})})]}),Object(s.jsx)("div",{className:"row my-2",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("h3",{children:"Entities!"})})}),Object(s.jsxs)("table",{className:"table",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"col",children:"Name"}),Object(s.jsx)("th",{scope:"col",children:"Type"}),Object(s.jsx)("th",{scope:"col",children:"#Appearances"}),Object(s.jsx)("th",{scope:"col",children:"Relevance Score"}),Object(s.jsx)("th",{scope:"col",children:"Emotion"}),Object(s.jsx)("th",{scope:"col",children:"Sentiment"})]})}),Object(s.jsx)("tbody",{children:t})]}),Object(s.jsx)("div",{className:"row my-2",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("h3",{children:"Keywords!"})})}),Object(s.jsxs)("table",{className:"table",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"col",children:"Word"}),Object(s.jsx)("th",{scope:"col",children:"#Appearances"}),Object(s.jsx)("th",{scope:"col",children:"Emotion"}),Object(s.jsx)("th",{scope:"col",children:"Sentiment"})]})}),Object(s.jsx)("tbody",{children:r})]}),Object(s.jsx)("div",{className:"row my-2",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("h3",{children:"Relations!"})})}),Object(s.jsxs)("table",{className:"table",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"col",children:"Thing"}),Object(s.jsx)("th",{scope:"col",children:"Action"}),Object(s.jsx)("th",{scope:"col",children:"Target"}),Object(s.jsx)("th",{scope:"col",children:"Score"})]})}),Object(s.jsx)("tbody",{children:d})]}),Object(s.jsx)("div",{className:"row my-2",children:Object(s.jsxs)("div",{className:"col-lg-2 border mx-2",children:[Object(s.jsx)("p",{children:" Debug! "}),Object(s.jsx)("button",{onClick:this.loadTestData,children:" Load Data "}),Object(s.jsx)("button",{onClick:this.getJournalDates,children:" Get dates "}),Object(s.jsx)("button",{onClick:this.saveToCookies,children:" Save dates "}),Object(s.jsx)("button",{onClick:this.loadFromCookies,children:" Load dates "})]})}),Object(s.jsx)("div",{className:"row  my-2",children:Object(s.jsx)("p",{children:"PADDING"})})]})})}}]),a}(o.a.Component),R=a(38),A={editor:{border:"1px solid gray",minHeight:"6em"}},J=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var s;Object(i.a)(this,a),(s=t.call(this,e)).saveJournal=function(){if(null==s.props.authToken)return console.log("Not logged in"),!1;var e={headers:{Authorization:"JWT ".concat(s.props.authToken)}},t={shorthand:"Some sort of has identifier?",author:"",createdDate:s.state.currentDate.toJSON().split("T")[0],content:s.state.editorState.getCurrentContent().getPlainText()};console.log(t.content),f.a.post("http://10.0.0.60:8000/saveUserJournal/",t,e).then((function(e){console.log(e),console.log("Success")})).catch((function(e){console.log(e)}))},s.changeJournal=function(e){var t=R.ContentState.createFromText(e),a=R.EditorState.createWithContent(t);s.setState({editorState:a})},s.onBoldClick=function(){s.onChange(R.RichUtils.toggleInlineStyle(s.state.editorState,"BOLD"))},s.handleKeyCommand=function(e,t){var a=R.RichUtils.handleKeyCommand(t,e);return a?(s.onChange(a),"handled"):"not-handled"};var n=new Date;return s.state={currentDate:n,messages:"Creating journal for: "+n.toJSON().split("T")[0],editorState:R.EditorState.createEmpty(),journalPlaceolder:""},s.onChange=function(e){return s.setState({editorState:e})},s.setEditor=function(e){s.editor=e},s}return Object(l.a)(a,[{key:"render",value:function(){return Object(s.jsx)("div",{className:"makeView",children:Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:this.state.messages})}),Object(s.jsx)("div",{className:"row",children:Object(s.jsxs)("div",{className:"col border mx-2 my-2",children:[Object(s.jsx)("button",{onClick:this.onBoldClick.bind(this),children:"Bold"}),Object(s.jsx)("div",{style:A.editor,children:Object(s.jsx)(R.Editor,{ref:this.setEditor,editorState:this.state.editorState,onChange:this.onChange,handleKeyCommand:this.handleKeyCommand,placeholder:this.state.journalPlaceolder})}),Object(s.jsx)("button",{onClick:this.saveJournal,children:" Save current Journal entry "})]})})]})})}}]),a}(o.a.Component),U=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).loadTestData=function(){var e,t,a=x.a.get("testSummaryData"),n=a.categories,o=[],r=[];for(e in n){var c=n[e],i=0,l=0;for(t in c.batchData){l+=c.batchData[t].score,i+=1}l/=i,o.push(e),r.push(l)}var d,h=a.concepts,j=[],b=[],u=[];for(e in h){var m=h[e];i=0;var p=0;for(d in m.batchData)p+=m.batchData[d],i+=1;p/=i,j.push(e),b.push(p),u.push(m.dbpedia_resource)}i=0;var g=[0,0,0,0,0],O=[],v=a.emotion;for(e in v){var f=v[e],y=[f.anger,f.disgust,f.fear,f.joy,f.sadness];for(d in i+=1,g)g[d]+=y[d];O.push(y)}for(d in g)g[d]/=i;O.unshift(g);a.entities;var N=a.keywords,C=[];for(e in N){var S=N[e],k=[0,0,0,0,0],E=0,R=0;for(d in i=0,S.batchData){var A=S.batchData[d],J=[A.emotion.anger,A.emotion.disgust,A.emotion.fear,A.emotion.joy,A.emotion.sadness];for(d in k)k[d]+=J[d];E+=A.relevance,R+=A.sentiment.score,i+=1}for(d in k)k[d]/=i;var U=[.5*((R/=i)+1)/i,.5*(R-1)/i],M={id:e,text:e,count:S.totalCount,relevance:E,emotion:k,sentiment:U};C.push(M)}i=0;var V=0,L=a.sentiment;for(e in L)V+=L[e].score,i+=1;var K=[.5*(V+1)/i,.5*(V-1)/i];s.setState({dataCategories:F(r,o),dataConcepts:T(b,j),dataEmotion:D(g),dataKeywords:C,dataSentiment:w(K)})},s.getCookiesValidDates=function(){var e=x.a.get(s.props.currentUser+"-"+s.state.currentCompany+"-ValidDates");s.setState({validSummaryDates:e.dates})},s.getValidDates=function(){if(null==s.props.authToken)return console.log("Not logged in"),!1;if("None"===s.state.currentCompany)return console.log("Select Valid Company!"),!1;var e={headers:{Authorization:"JWT ".concat(s.props.authToken)}};f.a.get("http://10.0.0.60:8000/getCompanyDates?reComp="+s.state.currentCompany,e).then((function(e){var t=[];console.log("Got Valid Dates!"),x.a.remove(s.props.currentUser+"-"+s.state.currentCompany+"-ValidDates");var a="";for(a in e.data){var n=new Date(e.data[a].forDate),o=n.getFullYear()+"-"+n.getMonth()+"-"+(n.getDate()+1);t.push(o)}x.a.set(s.props.currentUser+"-"+s.state.currentCompany+"-ValidDates",{dates:t}),s.setState({validSummaryDates:t})})).catch((function(e){console.log(e)}))},s.getCompanyList=function(){if(null==s.props.authToken)return console.log("Not logged in"),!1;var e={headers:{Authorization:"JWT ".concat(s.props.authToken)}};f.a.get("http://10.0.0.60:8000/getUsersCompanies",e).then((function(e){if(e.data.length>0){console.log("Got the list of companies");var t,a=[];for(t in e.data[0].companyOwner){var n=e.data[0].companyOwner[t];a.includes(n)||a.push(n)}for(t in e.data[0].companyAllowsView){var o=e.data[0].companyAllowsView[t];a.includes(o)||a.push(o)}for(t in e.data[0].companySendsTo){var r=e.data[0].companySendsTo[t];a.includes(r)||a.push(r)}s.setState({companyList:a})}})).catch((function(e){console.log(e)}))},s.pickDate=function(e){if("None"===s.state.currentCompany)return console.log("Select Valid Company!"),!1;var t=x.a.get(s.props.currentUser+"-"+s.state.currentCompany+"-Summary-"+e);try{console.log(t.content),console.log("Got the summary entry from storage?!")}catch(o){if(null==s.props.authToken)return console.log("Not logged in"),!1;var a={headers:{Authorization:"JWT ".concat(s.props.authToken)}};console.log("requesting date"),s.setState({currentDate:e});var n=e.toJSON().split("T")[0];f.a.get("http://10.0.0.60:8000/getCompanySummary/?reqDate="+n+"&reComp="+s.state.currentCompany,a).then((function(e){e.data.length>0?(console.log("obtained a company summary"),x.a.set("testSummaryData",e.data[0].summaryResult),s.loadTestData(),s.setState({messages:"Showing "+s.state.currentCompany+": Summary Entry for: "+s.state.currentDate.toString(),companyDisp:">:("})):(console.log("No entry for that day"),s.setState({messages:"No entry for that day",companyDisp:":/"}))})).catch((function(e){console.log(e)}))}},s.tileClassName=function(e){var t=e.date;if("month"===e.view){var a=t.getFullYear()+"-"+t.getMonth()+"-"+t.getDate();return s.state.validSummaryDates.find((function(e){return e===a}))?"btn-dark":"btn-light"}},s.setCurrentCompany=function(e){s.setState({dropMessage:e.target.value,currentCompany:e.target.value})},s.state={dropMessage:"Select Company=>",currentCompany:"None",companyList:[],validSummaryDates:[],messages:"Waiting for user input...",companyDisp:"",currentDate:new Date,dataCategories:F([0],[""]),optionsCategories:{scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}]}},dataConcepts:T([0],[""]),optionsConcepts:{scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}]}},dataEntities:[],dataKeywords:[],dataRelations:[],dataEmotion:D([0]),optionsEmotions:{scale:{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}},dataSentiment:w([0]),optionsSentiment:{cutoutPercentage:50}},s}return Object(l.a)(a,[{key:"render",value:function(){var e,t=[];for(e in this.state.companyList){var a=this.state.companyList[e];t.push(Object(s.jsx)("button",{className:"dropdown-item",onClick:this.setCurrentCompany,value:a,children:a},e))}var n=[];if(this.state.dataEntities.length>0)for(e in this.state.dataEntities){var o=this.state.dataEntities[e],r=D(o.emotion),c=w(o.sentiment);n.push(Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"row",children:o.text}),Object(s.jsx)("td",{children:o.type}),Object(s.jsx)("td",{children:o.count}),Object(s.jsx)("td",{children:o.relevance}),Object(s.jsxs)("td",{children:[" ",Object(s.jsx)(k.Radar,{ref:this.chartReference,data:r,options:this.state.optionsEmotions})," "]}),Object(s.jsxs)("td",{children:[" ",Object(s.jsx)(k.Doughnut,{ref:this.chartReference,data:c,options:this.state.optionsSentiment})," "]})]},o.id))}else n.push(Object(s.jsx)("p",{children:"None Found!"}));var i=[];if(this.state.dataKeywords.length>0)for(e in this.state.dataKeywords){var l=this.state.dataKeywords[e],d=D(l.emotion),h=w(l.sentiment);i.push(Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"row",children:l.text}),Object(s.jsx)("td",{children:l.count}),Object(s.jsx)("td",{children:Object(s.jsx)(k.Radar,{ref:this.chartReference,data:d,options:this.state.optionsEmotions})}),Object(s.jsx)("td",{children:Object(s.jsx)(k.Doughnut,{ref:this.chartReference,data:h,options:this.state.optionsSentiment})})]},l.id))}else i.push(Object(s.jsx)("p",{children:"None Found!"}));var j=[];if(this.state.dataRelations.length>0)for(e in this.state.dataRelations){var b=this.state.dataRelations[e];j.push(Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"row",children:b.init}),Object(s.jsx)("td",{children:b.action}),Object(s.jsx)("td",{children:b.target}),Object(s.jsx)("td",{children:b.score})]},b.id))}else j.push(Object(s.jsx)("p",{children:"None Found!"}));return Object(s.jsx)("div",{className:"companyView",children:Object(s.jsxs)("div",{className:"container",children:[Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-lg-3 border m-2",children:Object(s.jsx)("div",{children:Object(s.jsx)(S.a,{onChange:this.pickDate,value:this.state.currentDate,tileClassName:this.tileClassName,minDetail:"year",maxDetail:"month"})})}),Object(s.jsxs)("div",{className:"col border m-2",children:[Object(s.jsx)("p",{children:this.state.messages}),Object(s.jsx)("p",{children:this.state.companyDisp})]})]}),Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"dropdown",children:[Object(s.jsx)("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:this.state.dropMessage}),Object(s.jsx)("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton",children:t})]})}),Object(s.jsxs)("div",{className:"col",children:[Object(s.jsx)("button",{onClick:this.loadTestData,children:" Get Summary Test "}),Object(s.jsx)("button",{onClick:this.getCompanyList,children:" Get Comp List "}),Object(s.jsx)("button",{onClick:this.getValidDates,children:" Get Valid Dates (server)"}),Object(s.jsx)("button",{onClick:this.getCookiesValidDates,children:" Get Valid Dates (cookies)"})]})]}),Object(s.jsxs)("div",{className:"row my-2",children:[Object(s.jsx)("div",{className:"col border mx-2",children:Object(s.jsx)(k.Radar,{ref:this.chartReference,data:this.state.dataEmotion,options:this.state.optionsEmotions})}),Object(s.jsx)("div",{className:"col border mx-2",children:Object(s.jsx)(k.Doughnut,{ref:this.chartReference,data:this.state.dataSentiment,options:this.state.optionsSentiment})})]}),Object(s.jsxs)("div",{className:"row  my-2",children:[Object(s.jsx)("div",{className:"col border mx-2",children:Object(s.jsx)(k.Bar,{ref:this.chartReference,data:this.state.dataCategories,options:this.state.optionsCategories})}),Object(s.jsx)("div",{className:"col border mx-2",children:Object(s.jsx)(k.Bar,{ref:this.chartReference,data:this.state.dataConcepts,options:this.state.optionsConcepts})})]}),Object(s.jsx)("div",{className:"row my-2",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("h3",{children:"Entities!"})})}),Object(s.jsxs)("table",{className:"table",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"col",children:"Name"}),Object(s.jsx)("th",{scope:"col",children:"Type"}),Object(s.jsx)("th",{scope:"col",children:"#Appearances"}),Object(s.jsx)("th",{scope:"col",children:"Relevance Score"}),Object(s.jsx)("th",{scope:"col",children:"Emotion"}),Object(s.jsx)("th",{scope:"col",children:"Sentiment"})]})}),Object(s.jsx)("tbody",{children:n})]}),Object(s.jsx)("div",{className:"row my-2",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("h3",{children:"Keywords!"})})}),Object(s.jsxs)("table",{className:"table",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"col",children:"Word"}),Object(s.jsx)("th",{scope:"col",children:"#Appearances"}),Object(s.jsx)("th",{scope:"col",children:"Emotion"}),Object(s.jsx)("th",{scope:"col",children:"Sentiment"})]})}),Object(s.jsx)("tbody",{children:i})]}),Object(s.jsx)("div",{className:"row my-2",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("h3",{children:"Relations!"})})}),Object(s.jsxs)("table",{className:"table",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"col",children:"Thing"}),Object(s.jsx)("th",{scope:"col",children:"Action"}),Object(s.jsx)("th",{scope:"col",children:"Target"}),Object(s.jsx)("th",{scope:"col",children:"Score"})]})}),Object(s.jsx)("tbody",{children:j})]}),Object(s.jsx)("div",{className:"row  my-2",children:Object(s.jsx)("p",{children:"PADDING"})})]})})}}]),a}(o.a.Component),M=(a(375),function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).loadFromCookies=function(){var e=x.a.get("lastUser");try{s.setState({currentUser:e.user,sessionToken:e.session})}catch(t){console.log("No user based cookies")}},s.setToken=function(e,t){return s.setState({sessionToken:e,currentUser:t}),x.a.set("lastUser",{user:t,session:e}),!0},s.state={currentUser:null,sessionToken:null},s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.loadFromCookies()}},{key:"render",value:function(){var e=this;return Object(s.jsx)(j.a,{children:Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)(m,{currentUser:this.state.currentUser}),Object(s.jsxs)(b.c,{children:[Object(s.jsx)(b.a,{path:"/",exact:!0,component:function(){return Object(s.jsx)(O,{})}}),Object(s.jsx)(b.a,{path:"/signin",exact:!0,component:function(){return Object(s.jsx)(N,{tokenSetter:e.setToken})}}),Object(s.jsx)(b.a,{path:"/signup",exact:!0,component:function(){return Object(s.jsx)(C,{})}}),Object(s.jsx)(b.a,{path:"/read",exact:!0,component:function(){return Object(s.jsx)(E,{currentUser:e.state.currentUser,authToken:e.state.sessionToken})}}),Object(s.jsx)(b.a,{path:"/write",exact:!0,component:function(){return Object(s.jsx)(J,{authToken:e.state.sessionToken})}}),Object(s.jsx)(b.a,{path:"/company",exact:!0,component:function(){return Object(s.jsx)(U,{authToken:e.state.sessionToken})}})]}),Object(s.jsx)(p,{})]})})}}]),a}(o.a.Component)),V=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,380)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,o=t.getLCP,r=t.getTTFB;a(e),s(e),n(e),o(e),r(e)}))};a(376),a(377);c.a.render(Object(s.jsx)(o.a.StrictMode,{children:Object(s.jsx)(M,{})}),document.getElementById("root")),V()}},[[379,1,2]]]);
//# sourceMappingURL=main.18cc7ace.chunk.js.map