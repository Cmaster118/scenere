(this["webpackJsonpproject-scenere"]=this["webpackJsonpproject-scenere"]||[]).push([[0],{159:function(e,t,a){},379:function(e,t,a){},383:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a(1),c=a.n(n),r=a(85),o=a.n(r),l=(a(159),a(8)),i=a(9),d=a(11),m=a(10),h=a(12),j=a(13),u=a(16),b=a.n(u),p=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).triggerLogout=function(){s.props.clearLogin()},s.state={something:null},s}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.basePath,t=null,a=null;return void 0===this.props.currentUser?(t=[Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)(h.b,{className:"nav-link",to:e+"/signup",children:"Sign Up"})},"1"),Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)(h.b,{className:"nav-link",to:e+"/signin",children:"Sign In"})},"2")],a=Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)(h.b,{className:"nav-link",to:e+"/dashboard",children:"None"})},"3")):(t=[Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)(h.b,{className:"nav-link",to:e+"/dashboard",children:"Dashboard"})},"1"),Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)(h.b,{className:"nav-link",to:e+"/",onClick:this.triggerLogout,children:"Sign Out"})},"2")],a=Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)(h.b,{className:"nav-link",to:e+"/dashboard",children:this.props.currentUser})},"5")),Object(s.jsx)("div",{className:"navigation",children:Object(s.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:Object(s.jsxs)("div",{className:"container-fluid",children:[Object(s.jsx)(h.b,{className:"navbar-brand",to:e+"/",children:"Project Scenere"}),Object(s.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarResponsive","aria-controls":"navbarResponsive","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(s.jsx)("span",{className:"navbar-toggler-icon"})}),Object(s.jsx)("div",{className:"collapse navbar-collapse",id:"navbarResponsive",children:Object(s.jsxs)("ul",{className:"navbar-nav ml-auto",children:[t,Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)("div",{className:"nav-link",children:"Current User:"})},"1"),a]})})]})})})}}]),a}(c.a.Component),g=Object(j.f)(p),v=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).state={},s}return Object(i.a)(a,[{key:"render",value:function(){return Object(s.jsx)("div",{className:"footer",children:Object(s.jsx)("footer",{className:"py-3 bg-dark fixed-bottom",children:Object(s.jsx)("div",{className:"container",children:Object(s.jsx)("p",{className:"m-0 text-center text-white",children:"Copyright \xa9 Nightingale Technologies 2021"})})})})}}]),a}(c.a.Component),x=a(6),O=a.n(x),y=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).loadFromCookies=function(){var e=O.a.get("rememberUser");try{s.setState({username:e.user,password:e.pass})}catch(t){}},s.userFieldChange=function(e){s.setState({username:e.target.value})},s.passFieldChange=function(e){s.setState({password:e.target.value})},s.remFieldChange=function(e){s.setState({remember:e.target.value})},s.handleSubmit=function(e){s.state.remember;var t={username:s.state.username,password:s.state.password};b.a.post(s.props.APIHost+"/apiTokenAuth/",t).then((function(e){s.setState({latestAttempt:200});var t=s.props.loginSave(e.data.token,s.state.username);console.log("Success"),t?(console.log("Token registered"),s.props.history.push(s.props.reRouteTarget)):console.log("Token Failed..?")})).catch((function(e){s.setState({latestAttempt:400}),console.log(e),console.log("Connection failed...")})),e.preventDefault()},s.state={currentState:0,latestAttempt:0,username:"",password:"",remember:!1},s}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.loadFromCookies()}},{key:"render",value:function(){return Object(s.jsx)("div",{className:"container",children:Object(s.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(s.jsx)("h3",{children:"Sign In"}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Email Address"}),Object(s.jsx)("input",{type:"text",className:"form-control",value:this.state.username,onChange:this.userFieldChange,placeholder:"Enter Username"})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Password"}),Object(s.jsx)("input",{type:"password",className:"form-control",value:this.state.password,onChange:this.passFieldChange,placeholder:"Enter password"})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("input",{type:"checkbox",className:"form-control-input",id:"customCheck1",value:this.state.remember,onChange:this.remFieldChange}),Object(s.jsx)("label",{className:"form-control-label",htmlFor:"customCheck1",children:"Remember Me"})]}),Object(s.jsx)("button",{type:"submit",className:"btn btn-dark btn-block",children:"Submit"}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("p",{className:"col forgot-password text-right text-dark",children:Object(s.jsx)(h.b,{className:"nav-link",to:this.props.forgotPath,children:"Forgot password?"})})})]})})}}]),a}(c.a.Component),f=Object(j.f)(y),N=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).usernameFieldChange=function(e){s.setState({username:e.target.value})},s.emailFieldChange=function(e){s.setState({email:e.target.value})},s.passFieldChange=function(e){s.setState({password:e.target.value})},s.pass2FieldChange=function(e){s.setState({password2:e.target.value})},s.firstNameFieldChange=function(e){s.setState({firstName:e.target.value})},s.lastnameFieldChange=function(e){s.setState({lastName:e.target.value})},s.checkFieldChange=function(e){s.setState({checkField:e.target.value})},s.handleSubmit=function(e){s.state.checkField&&console.log("Field was not checked");var t={username:s.state.username,password:s.state.password,password2:s.state.password2,email:s.state.email,first_name:s.state.firstName,last_name:s.state.lastName};b.a.post(s.props.APIHost+"/registerUser/",t).then((function(e){console.log("Success")})).catch((function(e){console.log(e.response.status),console.log(e.response.data),console.log(e.response.headers),console.log("Connection failed...")})),e.preventDefault()},s.state={username:"",email:"",password:"",password2:"",firstName:"",lastName:"",checkField:!1},s}return Object(i.a)(a,[{key:"render",value:function(){return Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)("button",{onClick:this.handleSubmit,children:" Boop "}),Object(s.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(s.jsx)("h3",{children:"Sign Up"}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Username"}),Object(s.jsx)("input",{type:"text",className:"form-control",value:this.state.username,onChange:this.usernameFieldChange,placeholder:"Enter Username"})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Email Address"}),Object(s.jsx)("input",{type:"email",className:"form-control",value:this.state.email,onChange:this.emailFieldChange,placeholder:"Enter email"})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Password"}),Object(s.jsx)("input",{type:"password",className:"form-control",value:this.state.password,onChange:this.passFieldChange,placeholder:"Enter password"})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Confirm Password"}),Object(s.jsx)("input",{type:"password",className:"form-control",value:this.state.password2,onChange:this.pass2FieldChange,placeholder:"Confirm password"})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"First Name"}),Object(s.jsx)("input",{type:"text",className:"form-control",value:this.state.firstName,onChange:this.firstNameFieldChange,placeholder:"First Name"})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Last Name"}),Object(s.jsx)("input",{type:"text",className:"form-control",value:this.state.lastName,onChange:this.lastnameFieldChange,placeholder:"Last Name"})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("input",{type:"checkbox",className:"form-control-input",id:"customCheck1",value:this.state.checkField,onChange:this.checkFieldChange}),Object(s.jsx)("label",{className:"form-control-label",htmlFor:"customCheck1",children:"Legal stuff? Not sure..."})]}),Object(s.jsx)("button",{type:"submit",className:"btn btn-dark btn-block",children:"Submit"})]})]})}}]),a}(c.a.Component),C=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).goSignIn=function(){s.props.history.push(s.props.reRouteTarget)},s.arePasswordsSame=function(){return s.state.password1===s.state.password2},s.swapToCode=function(){s.setState({currentState:1})},s.sendEmail=function(){s.setState({currentState:1})},s.checkValue=function(){s.setState({currentState:2})},s.checkPasswords=function(){s.arePasswordsSame()&&s.setState({currentState:3})},s.emailFieldChange=function(e){s.setState({email:e.target.value})},s.tokenFieldChange=function(e){s.setState({resetToken:e.target.value}),s.arePasswordsSame()},s.pass1FieldChange=function(e){s.setState({password1:e.target.value})},s.pass2FieldChange=function(e){s.setState({password2:e.target.value}),s.arePasswordsSame()},s.state={email:"",resetToken:"",currentState:0,password1:"",password2:"",passwordsSame:!1},s}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.setState({email:"",resetToken:"",password1:"",password2:""})}},{key:"render",value:function(){var e=null,t=null,a=null;return 0===this.state.currentState?(a=Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("p",{children:"Enter your email address. If it is in the system, we will send you an email address with a code."})})}),e=Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Email Address"}),Object(s.jsx)("input",{type:"text",className:"form-control",value:this.state.email,onChange:this.emailFieldChange,placeholder:"Enter email"})]})})}),t=[Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("button",{className:"btn btn-primary",onClick:this.sendEmail,children:"Send"})})},1),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col m-2",children:Object(s.jsx)("button",{className:"btn btn-primary",onClick:this.swapToCode,children:"Already have the code!"})})},2)]):1===this.state.currentState?(a=Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("p",{children:"Check your email. If your email is correct, then enter the code it gives you here:"})}),e=Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Reset token"}),Object(s.jsx)("input",{type:"text",className:"form-control",value:this.state.resetToken,onChange:this.tokenFieldChange,placeholder:"Enter Token"})]})}),t=Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("button",{className:"btn btn-primary",onClick:this.checkValue,children:"Check..."})})):2===this.state.currentState?(a=[Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("p",{children:" Enter your new password! "})})})],this.arePasswordsSame()||a.push(Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("p",{className:"text-danger",children:" Passwords do not match! "})})})),e=[Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("div",{className:"form-group",children:Object(s.jsx)("input",{type:"text",className:"form-control",value:this.state.resetToken,onChange:this.pass1FieldChange,placeholder:"Enter Password"})})})}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("div",{className:"form-group",children:Object(s.jsx)("input",{type:"text",className:"form-control",value:this.state.resetToken,onChange:this.pass2FieldChange,placeholder:"Re-enter Password"})})})})],t=Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("button",{className:"btn btn-primary",onClick:this.checkPasswords,children:"Check..."})})})):2===this.state.currentState&&(a=Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("p",{children:" Password has been successfullty reset! "})})}),e=null,t=Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("button",{className:"btn btn-primary",onClick:this.goSignIn,children:"Sign In!"})})})),Object(s.jsxs)("div",{className:"container-sm",children:[Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("h3",{children:" Forgot your password? "})})}),a,e,t]})}}]),a}(c.a.Component),k=Object(j.f)(C),w=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).getFromCookies=function(){O.a.get("rememberSomething")},s.chartReference=c.a.createRef(),s.state={userToken:null},s}return Object(i.a)(a,[{key:"render",value:function(){return Object(s.jsx)("div",{className:"landing",children:Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)("div",{className:"row align-items-center my-5",children:Object(s.jsx)("div",{className:"col-lg-12 border",children:Object(s.jsx)("h3",{children:"Sample Title"})})}),Object(s.jsxs)("div",{className:"row align-items-center my-2 border",children:[Object(s.jsx)("div",{className:"col-lg-7",children:Object(s.jsx)("p",{children:"Another set of explinations?"})}),Object(s.jsx)("div",{className:"col m-5 border",children:Object(s.jsx)("p",{children:"Explainations ahoy!"})})]})]})})}}]),a}(c.a.Component),S=a(64),D=(a(99),a(14)),A=a(384),T=a(385),E=function(e,t){var a=[],s=0;for(s in t)a.push({label:t[s].label,data:t[s].data,fill:!1,backgroundColor:"rgb(99, 255, 132)",borderColor:"rgba(255, 132, 99, 0.2)"});return{labels:e,datasets:a}},I=function(e){return{labels:["Joy","Anger","Sadness","Disgust","Fear"],datasets:[{label:"Confidence Levels",data:e,backgroundColor:"rgba(99, 255, 132, 0.2)",borderColor:"rgba(99, 255, 132, 1)",borderWidth:1}]}},P=function(e,t,a){return{labels:["Joy","Anger","Sadness","Disgust","Fear"],datasets:[{label:"Max",data:e,backgroundColor:"rgba(99, 255, 132, 0.2)",borderColor:"rgba(99, 255, 132, 1)",borderWidth:1},{label:"Ave",data:t,backgroundColor:"rgba(99, 132, 255, 0.2)",borderColor:"rgba(99, 132, 255, 1)",borderWidth:1},{label:"Min",data:a,backgroundColor:"rgba(255, 99, 132, 0.2)",borderColor:"rgba(255, 99, 132, 1)",borderWidth:1}]}},L=function(e,t,a){return{labels:["Value"],datasets:[{label:"Minimum",data:e,backgroundColor:"rgb(255, 99, 132)"},{label:"Average",data:t,backgroundColor:"rgb(54, 162, 235)"},{label:"Maximum",data:a,backgroundColor:"rgb(75, 192, 192)"}]}},M=function(e,t,a){return{labels:["Relevance","Sentiment"],datasets:[{label:"Minimum",data:e,backgroundColor:"rgb(255, 99, 132)"},{label:"Average",data:t,backgroundColor:"rgb(54, 162, 235)"},{label:"Maximum",data:a,backgroundColor:"rgb(75, 192, 192)"}]}},U=function(e,t,a){return{labels:["Confidence","Relevance","Sentiment"],datasets:[{label:"Minimum",data:e,backgroundColor:"rgb(255, 99, 132)"},{label:"Average",data:t,backgroundColor:"rgb(54, 162, 235)"},{label:"Maximum",data:a,backgroundColor:"rgb(75, 192, 192)"}]}},H=function(e){return[e.joy,e.anger,e.sadness,e.disgust,e.fear]},F=[{name:"Emotion",value:"emotion"},{name:"Sentiment",value:"sentiment"},{name:"Entities",value:"entities"},{name:"Keywords",value:"keywords"}],J=Object(j.f)((function(e){var t,a="Displaying Data for Journal with prompt: "+e.selectedPrompt,n=e.dataSet,c=[],r=[],o=[];if(null!==n&&void 0!==n){var l;for(l in n)void 0!==n[l].name&&c.push({name:n[l].name,value:l});if(0===c.length&&(c=[{name:"No Prompts",value:"None"}]),e.selectedAspect in n){var i=n[e.selectedAspect];switch(e.selectedAspect){case"emotion":var d=H(i.document.emotion),m=I(d),h={scale:{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}};o.push(Object(s.jsxs)("div",{className:"row m-2",children:[Object(s.jsx)("div",{className:"col-3"}),Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:"Emotion Values"}),Object(s.jsx)("div",{className:"card-body",children:Object(s.jsx)(D.Radar,{data:m,options:h})})]})}),Object(s.jsx)("div",{className:"col-3"})]},"2"));break;case"sentiment":var j=L([i.document.score]),u={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:-1,suggestedMax:1}}],xAxes:[{}]}};o.push(Object(s.jsxs)("div",{className:"row m-2",children:[Object(s.jsx)("div",{className:"col-3"}),Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:"Sentiment Values"}),Object(s.jsx)("div",{className:"card-body",children:Object(s.jsx)(D.Bar,{data:j,options:u})})]})}),Object(s.jsx)("div",{className:"col-3"})]},"2"));break;case"entities":for(t in i){var b=i[t],p=H(b.emotion),g=I(p),v={scale:{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}},x=U([b.confidence,b.relevance,b.sentiment]),O={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:-1,suggestedMax:1}}],xAxes:[{}]}};r.push(Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"row",children:b.text}),Object(s.jsx)("td",{children:b.type}),Object(s.jsx)("td",{children:b.count}),Object(s.jsx)("td",{colSpan:"3",children:Object(s.jsx)(D.Bar,{data:x,options:O})}),Object(s.jsx)("td",{children:Object(s.jsx)(D.Radar,{data:g,options:v})})]},t))}o.push(Object(s.jsxs)("table",{className:"table",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"col",children:"Name"}),Object(s.jsx)("th",{scope:"col",children:"Type"}),Object(s.jsx)("th",{scope:"col",children:"#Appearances"}),Object(s.jsx)("th",{scope:"col",children:"Confidence"}),Object(s.jsx)("th",{scope:"col",children:"Relevance"}),Object(s.jsx)("th",{scope:"col",children:"Sentiment"}),Object(s.jsx)("th",{scope:"col",children:"Emotion"})]})}),Object(s.jsx)("tbody",{children:r})]},"2"));break;case"keywords":for(t in i){var y=i[t],f=H(y.emotion),N=I(f),C={scale:{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}},k=M([y.relevance,y.sentiment]),w={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:-1,suggestedMax:1}}],xAxes:[{}]}};r.push(Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"row",children:y.text}),Object(s.jsx)("td",{children:y.count}),Object(s.jsx)("td",{colSpan:"2",children:Object(s.jsx)(D.Bar,{data:k,options:w})}),Object(s.jsx)("td",{children:Object(s.jsx)(D.Radar,{data:N,options:C})})]},t))}o.push(Object(s.jsxs)("table",{className:"table",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"col",children:"Name"}),Object(s.jsx)("th",{scope:"col",children:"#Appearances"}),Object(s.jsx)("th",{scope:"col",children:"Relevance Score"}),Object(s.jsx)("th",{scope:"col",children:"Sentiment"}),Object(s.jsx)("th",{scope:"col",children:"Emotion"})]})}),Object(s.jsx)("tbody",{children:r})]},"2"));break;default:console.log("Invalid AI selection somehow")}}else c=[{name:"No Prompts",value:"None"}]}else c=[{name:"No Prompts",value:"None"}];return Object(s.jsx)("div",{className:"mainView",children:Object(s.jsxs)("div",{className:"container",children:[Object(s.jsxs)("div",{className:"row m-2",children:[Object(s.jsx)("div",{className:"col-lg-3 m-2",children:Object(s.jsx)("div",{children:Object(s.jsx)(S.a,{onChange:e.pickDate,value:e.currentDate,tileClassName:function(t){var a=t.date;if("month"===t.view){var s=a.getFullYear()+"-"+a.getMonth()+"-"+a.getDate(),n=e.validJournalDates.find((function(e){return e===s}));if(e.validJournalScanDates.find((function(e){return e===s})))return"btn btn-success";if(n)return"btn btn-warning"}},minDetail:"year",maxDetail:"month"})})}),Object(s.jsx)("div",{className:"col m-2",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsx)("div",{children:e.displayMessage})}),Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsx)("div",{className:"row m-2",children:Object(s.jsx)("div",{className:"col"})}),Object(s.jsx)("div",{className:"row m-2",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)(A.a,{toggle:!0,children:c.map((function(t,a){return Object(s.jsx)(T.a,{type:"radio",variant:"primary",name:"radio",value:t.value,checked:e.selectedPrompt===t.value,onChange:e.setPrompt,children:t.name},a)}))})})}),Object(s.jsx)("div",{className:"row m-2",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)(A.a,{toggle:!0,children:F.map((function(t,a){return Object(s.jsx)(T.a,{type:"radio",variant:"info",name:"radio",value:t.value,checked:e.selectedAspect===t.value,onChange:e.setAI,children:t.name},a)}))})})})]})]})})]}),Object(s.jsx)("div",{className:"row m-2",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsx)("div",{children:"Journal Contents:"})}),Object(s.jsx)("div",{className:"card-body",children:Object(s.jsx)("p",{children:e.currentJournal})})]})})}),Object(s.jsx)("div",{className:"row m-2",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsx)("div",{children:a})}),Object(s.jsx)("div",{className:"card-body",children:Object(s.jsx)("p",{children:o})})]})})}),Object(s.jsx)("div",{className:"row  my-2",children:Object(s.jsx)("p",{})})]})})})),R=a(26),V=void 0,W={editor:{border:"1px solid gray",minHeight:"6em",justifyContent:"left"}},G=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).onToggle=function(t){t.preventDefault(),e.props.onToggle(e.props.style)},e}return Object(i.a)(a,[{key:"render",value:function(){var e="btn btn-outline-primary";return this.props.active&&(e+=" active"),Object(s.jsx)("button",{className:e,onClick:this.onToggle,children:this.props.label})}}]),a}(c.a.Component),B=[{label:"H1",style:"header-one"},{label:"H2",style:"header-two"},{label:"H3",style:"header-three"},{label:"H4",style:"header-four"},{label:"H5",style:"header-five"},{label:"H6",style:"header-six"},{label:"UL",style:"unordered-list-item"},{label:"OL",style:"ordered-list-item"}],Z=function(e){var t=e.editorState,a=t.getSelection(),n=t.getCurrentContent().getBlockForKey(a.getStartKey()).getType();return Object(s.jsx)("div",{className:"RichEditor-controls",children:B.map((function(t){return Object(s.jsx)(G,{active:t.style===n,label:t.label,onToggle:e.onToggle,style:t.style},t.label)}))})},z=[{label:"Bold",style:"BOLD"},{label:"Italic",style:"ITALIC"},{label:"Underline",style:"UNDERLINE"}],Y=function(e){var t=e.editorState.getCurrentInlineStyle();return Object(s.jsx)("div",{className:"RichEditor-controls",children:z.map((function(a){return Object(s.jsx)(G,{active:t.has(a.style),label:a.label,onToggle:e.onToggle,style:a.style},a.label)}))})},K=Object(j.f)((function(e){return Object(s.jsx)("div",{className:"makeView",children:Object(s.jsx)("div",{className:"container",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsx)("h4",{children:"Writing Today's Journal"})}),Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsxs)("h5",{className:"card-title",children:["Today's Prompt is: ","Open Ended"]}),Object(s.jsx)("div",{className:"row",children:Object(s.jsxs)("div",{className:"col",children:[Object(s.jsx)(Z,{editorState:e.editorState,onToggle:function(e){V.onChange(R.RichUtils.toggleBlockType(V.state.editorState,e))}}),Object(s.jsx)(Y,{editorState:e.editorState,onToggle:function(e){V.onChange(R.RichUtils.toggleInlineStyle(V.state.editorState,e))}})]})}),Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-1"}),Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("div",{style:W.editor,children:Object(s.jsx)(R.Editor,{editorState:e.editorState,onChange:e.onChange,handleKeyCommand:function(t,a){var s=R.RichUtils.handleKeyCommand(a,t);return s?(e.onChange(s),"handled"):"not-handled"},placeholder:""})})}),Object(s.jsx)("div",{className:"col-1"})]}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("button",{className:"btn btn-outline-primary",onClick:e.saveToServer,children:" Save current Journal entry "})})})]})]})})})})),q=a(386),_=[{name:"Emotion",value:"emotion"},{name:"Sentiment",value:"sentiment"},{name:"Entities",value:"entities"},{name:"Keywords",value:"keywords"}],Q=[{name:"Monday",value:"mon"},{name:"Tuesday",value:"tue"},{name:"Wednesday",value:"wed"},{name:"Thursday",value:"thu"},{name:"Friday",value:"fri"},{name:"Saturday",value:"sat"},{name:"Sunday",value:"sun"},{name:"All",value:"allDay"}],X=function(e){return[e.joy,e.anger,e.sadness,e.disgust,e.fear]},$=Object(j.f)((function(e){var t,a=[],n=e.selectedPrompt,c=e.selectedDay,r=e.selectedAspect,o=[],l=e.dataSet[c],i=[],d="not valid prompt";if(null!==l&&void 0!==l){var m;for(m in l)void 0!==l[m].name&&o.push({name:l[m].name,value:m});if(0===o.length&&(o=[{name:"No Prompts",value:"None"}]),n in l){d=l[n].name;var h=l[n].data[r],j=l[n].responsePurity;switch(i.push(Object(s.jsx)("div",{className:"row m-2",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("div",{className:"progressBar",children:Object(s.jsx)(q.a,{now:j,label:"".concat(j,"% Response Rate")})})})},"1")),r){case"emotion":var u=X(h.max),b=X(h.ave),p=X(h.min),g=P(u,b,p),v={scale:{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}},x=X(h.threshold),O={labels:["Joy","Anger","Sadness","Disgust","Fear"],datasets:[{label:"# Above Threshold",data:x,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]},y={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}]}};i.push(Object(s.jsxs)("div",{className:"row m-2",children:[Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:"Averages + Max and min?"}),Object(s.jsx)("div",{className:"card-body",children:Object(s.jsx)(D.Radar,{data:g,options:v})})]})}),Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:'"How many have hit this threshold"?'}),Object(s.jsx)("div",{className:"card-body",children:Object(s.jsx)(D.Bar,{data:O,options:y})})]})})]},"2"));break;case"sentiment":var f=L([h.min],[h.ave],[h.max]),N={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:-1,suggestedMax:1}}],xAxes:[{}]}},C=function(e){return{labels:["Positive","Negative"],datasets:[{label:"# Above Threshold",data:e,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]}}([h.thresholdPos,h.thresholdNeg]),k={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}]}};i.push(Object(s.jsxs)("div",{className:"row m-2",children:[Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:"Sentiment Values"}),Object(s.jsx)("div",{className:"card-body",children:Object(s.jsx)(D.Bar,{data:f,options:N})})]})}),Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:'"How many have hit this threshold"?'}),Object(s.jsx)("div",{className:"card-body",children:Object(s.jsx)(D.Bar,{data:C,options:k})})]})})]},"2"));break;case"entities":for(t in h){var w=h[t],E=X(w.emotion.max),I=X(w.emotion.ave),H=X(w.emotion.min),F=P(E,I,H),J={scale:{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}},R=U([w.confidence.min,w.relevance.min,w.sentiment.min],[w.confidence.ave,w.relevance.ave,w.sentiment.ave],[w.confidence.max,w.relevance.max,w.sentiment.max]),V={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:-1,suggestedMax:1}}],xAxes:[{}]}};a.push(Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"row",children:w.text}),Object(s.jsx)("td",{children:w.type}),Object(s.jsx)("td",{children:w.count}),Object(s.jsx)("td",{colSpan:"3",children:Object(s.jsx)(D.Bar,{data:R,options:V})}),Object(s.jsx)("td",{children:Object(s.jsx)(D.Radar,{data:F,options:J})})]},t))}i.push(Object(s.jsxs)("table",{className:"table",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"col",children:"Name"}),Object(s.jsx)("th",{scope:"col",children:"Type"}),Object(s.jsx)("th",{scope:"col",children:"#Appearances"}),Object(s.jsx)("th",{scope:"col",children:"Confidence"}),Object(s.jsx)("th",{scope:"col",children:"Relevance"}),Object(s.jsx)("th",{scope:"col",children:"Sentiment"}),Object(s.jsx)("th",{scope:"col",children:"Emotion"})]})}),Object(s.jsx)("tbody",{children:a})]},"2"));break;case"keywords":for(t in h){var W=h[t],G=X(W.emotion.max),B=X(W.emotion.ave),Z=X(W.emotion.min),z=P(G,B,Z),Y={scale:{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}},K=M([W.relevance.min,W.sentiment.min],[W.relevance.ave,W.sentiment.ave],[W.relevance.max,W.sentiment.max]),$={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:-1,suggestedMax:1}}],xAxes:[{}]}};a.push(Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"row",children:W.text}),Object(s.jsx)("td",{children:W.count}),Object(s.jsx)("td",{colSpan:"2",children:Object(s.jsx)(D.Bar,{data:K,options:$})}),Object(s.jsx)("td",{children:Object(s.jsx)(D.Radar,{data:z,options:Y})})]},t))}i.push(Object(s.jsxs)("table",{className:"table",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"col",children:"Name"}),Object(s.jsx)("th",{scope:"col",children:"#Appearances"}),Object(s.jsx)("th",{scope:"col",children:"Relevance Score"}),Object(s.jsx)("th",{scope:"col",children:"Sentiment"}),Object(s.jsx)("th",{scope:"col",children:"Emotion"})]})}),Object(s.jsx)("tbody",{children:a})]},"2"));break;case"relations":for(t in h){var ee=h[t],te=L([ee.score.min],[ee.score.ave],[ee.score.max]),ae={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}]}};a.push(Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"row",children:ee.count}),Object(s.jsx)("td",{children:ee.arguments[0].text}),Object(s.jsx)("td",{children:ee.type}),Object(s.jsx)("td",{children:ee.arguments[1].text}),Object(s.jsx)("td",{style:{width:"30%"},children:Object(s.jsx)(D.Bar,{data:te,options:ae})})]},t))}i.push(Object(s.jsxs)("table",{className:"table",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"col",children:"#Appearances"}),Object(s.jsx)("th",{scope:"col",children:"Actor"}),Object(s.jsx)("th",{scope:"col",children:"Action"}),Object(s.jsx)("th",{scope:"col",children:"Target"}),Object(s.jsx)("th",{scope:"col",children:"Score"})]})}),Object(s.jsx)("tbody",{children:a})]},"2"));break;default:console.log("Invalid AI selection somehow")}}}else o=[{name:"No Prompts",value:"None"}];var se="Showing Company Summary for: "+e.currentCompany,ne="For week of: "+e.anchorDate;return Object(s.jsx)("div",{className:"companyView",children:Object(s.jsxs)("div",{className:"container",children:[Object(s.jsxs)("div",{className:"row m-2",children:[Object(s.jsx)("div",{className:"col-lg-3 m-2",children:Object(s.jsx)("div",{children:Object(s.jsx)(S.a,{onChange:e.pickDate,value:e.currentDate,tileClassName:function(t){var a=t.date;if("month"===t.view){var s=a.getFullYear()+"-"+a.getMonth()+"-"+a.getDate();if(e.validSummaryDates.find((function(e){return e===s})))return"btn btn-success"}},minDetail:"year",maxDetail:"month"})})}),Object(s.jsx)("div",{className:"col m-2",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsxs)("div",{className:"card-header",children:[Object(s.jsx)("div",{children:se}),Object(s.jsx)("div",{children:ne})]}),Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsx)("div",{className:"row m-2",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)(A.a,{toggle:!0,children:Q.map((function(t,a){return Object(s.jsx)(T.a,{type:"radio",variant:"secondary",name:"radio",value:t.value,checked:e.selectedDay===t.value,onChange:e.setDay,children:t.name},a)}))})})}),Object(s.jsx)("div",{className:"row m-2",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)(A.a,{toggle:!0,children:o.map((function(t,a){return Object(s.jsx)(T.a,{type:"radio",variant:"primary",name:"radio",value:t.value,checked:e.selectedPrompt===t.value,onChange:e.setPrompt,children:t.name},a)}))})})}),Object(s.jsx)("div",{className:"row m-2",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)(A.a,{toggle:!0,children:_.map((function(t,a){return Object(s.jsx)(T.a,{type:"radio",variant:"info",name:"radio",value:t.value,checked:e.selectedAspect===t.value,onChange:e.setAI,children:t.name},a)}))})})})]})]})})]}),Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsxs)("div",{children:["Showing Data for prompt: ",d]})}),Object(s.jsx)("div",{className:"card-body",children:i})]}),Object(s.jsx)("div",{className:"row  my-2",children:Object(s.jsx)("p",{})})]})})})),ee=["Public","Private"],te=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var s;Object(l.a)(this,a),(s=t.call(this,e)).postNewCompanyData=function(){if("None"===s.state.currentCompany)return console.log("No company selected"),!1;var e={headers:{Authorization:"JWT ".concat(s.props.authToken)}},t={companyName:s.state.currentCompany,companyReName:s.state.dataCompanyName,summaryViewAccess:s.state.dataCompanyPriv,resultsSendTargets:s.state.dataCompanySendTo,privateViewingPerms:s.state.dataCompanyViewing,governedUsers:s.state.dataCompanyGoverned};b.a.post(s.props.APIHost+"/postCompanyData/",t,e).then((function(e){console.log("Success"),s.setState({dataCompanySendToDeleted:[],dataCompanyViewingDeleted:[],dataCompanyGovernedDeleted:[]})})).catch((function(e){401===e.response.status&&(s.props.forceLogout(),s.props.history.push(s.props.reRouteTarget))}))},s.getCompanyList=function(){var e={headers:{Authorization:"JWT ".concat(s.props.authToken)}};b.a.get(s.props.APIHost+"/getUsersCompanies",e).then((function(e){if(e.data.length>0){console.log("Got the list of companies");var t,a=[];for(t in e.data[0].companyOwner){var n=e.data[0].companyOwner[t];a.includes(n)||a.push(n)}s.setState({companyList:a})}})).catch((function(e){401===e.response.status&&(s.props.forceLogout(),s.props.history.push(s.props.reRouteTarget))}))},s.getCompanyData=function(e){var t={headers:{Authorization:"JWT ".concat(s.props.authToken)}};b.a.get(s.props.APIHost+"/getCompanyData?reqComp="+e,t).then((function(e){e.data.length>0&&(console.log("Got the company data!"),s.setState({dataCompanyName:e.data[0].companyName,dataCompanyPriv:ee[e.data[0].summaryViewAccess],dataCompanySendTo:e.data[0].resultsSendTargets,dataCompanyViewing:e.data[0].privateViewingPerms,dataCompanyGoverned:e.data[0].governedUsers}))})).catch((function(e){console.log(e),401===e.response.status&&(s.props.forceLogout(),s.props.history.push(s.props.reRouteTarget))}))},s.sendChange=function(e){s.setState({searchSend:e.target.value})},s.viewChange=function(e){s.setState({searchView:e.target.value})},s.govChange=function(e){s.setState({searchGov:e.target.value})},s.emailFieldChange=function(e){s.setState({addingEmail:e.target.value})},s.triggerCompanySwap=function(e){s.setState({dropMessage:e.target.value,currentCompany:e.target.value}),s.getCompanyData(e.target.value)},s.triggerModal=function(e){s.setState({clickedList:e.target.parentElement.parentElement.id,clickedIndex:e.target.parentElement.id})},s.triggerStopAdd=function(e){var t=[];"sendUsers"===e.target.parentElement.parentElement.id?((t=s.state.dataCompanySendToAdded).splice(e.target.parentElement.id,1),s.setState({dataCompanySendToAdded:t})):"viewUsers"===e.target.parentElement.parentElement.id?((t=s.state.dataCompanyViewingAdded).splice(e.target.parentElement.id,1),s.setState({dataCompanyViewingAdded:t})):"govUsers"===e.target.parentElement.parentElement.id&&((t=s.state.dataCompanyGovernedAdded).splice(e.target.parentElement.id,1),s.setState({dataCompanyGovernedAdded:t}))},s.triggerReAdd=function(e){var t=[];if("sendUsers"===e.target.parentElement.parentElement.id){t=s.state.dataCompanySendToDeleted;var a=s.state.dataCompanySendTo;a.push(t.splice(e.target.parentElement.id,1)[0]),s.setState({dataCompanySendTo:a,dataCompanySendToDeleted:t})}else if("viewUsers"===e.target.parentElement.parentElement.id){t=s.state.dataCompanyViewingDeleted;var n=s.state.dataCompanyViewing;n.push(t.splice(e.target.parentElement.id,1)[0]),s.setState({dataCompanyViewing:n,dataCompanyViewingDeleted:t})}else if("govUsers"===e.target.parentElement.parentElement.id){t=s.state.dataCompanyGovernedDeleted;var c=s.state.dataCompanyGoverned;c.push(t.splice(e.target.parentElement.id,1)[0]),s.setState({dataCompanyGoverned:c,dataCompanyGovernedDeleted:t})}},s.modelAddEmail=function(e){var t=[];"sendUsers"===s.state.clickedIndex?((t=s.state.dataCompanySendToAdded).push(s.state.addingEmail),s.setState({dataCompanySendToAdded:t})):"viewUsers"===s.state.clickedIndex?((t=s.state.dataCompanyViewingAdded).push(s.state.addingEmail),s.setState({dataCompanyViewingAdded:t})):"govUsers"===s.state.clickedIndex&&((t=s.state.dataCompanyGovernedAdded).push(s.state.addingEmail),s.setState({dataCompanyGovernedAdded:t})),s.setState({addingEmail:""})},s.modelAcceptDelete=function(e){var t=[];if("sendUsers"===s.state.clickedList){t=s.state.dataCompanySendTo;var a=s.state.dataCompanySendToDeleted;a.push(t.splice(s.state.clickedIndex,1)[0]),s.setState({dataCompanySendTo:t,dataCompanySendToDeleted:a})}else if("viewUsers"===s.state.clickedList){t=s.state.dataCompanyViewing;var n=s.state.dataCompanyViewingDeleted;n.push(t.splice(s.state.clickedIndex,1)[0]),s.setState({dataCompanyViewing:t,dataCompanyViewingDeleted:n})}else if("govUsers"===s.state.clickedList){t=s.state.dataCompanyGoverned;var c=s.state.dataCompanyGovernedDeleted;c.push(t.splice(s.state.clickedIndex,1)[0]),s.setState({dataCompanyGoverned:t,dataCompanyGovernedDeleted:c})}};var n=new Date;return s.state={currentDate:n,messages:"Hello, there is nothing yet here...",dropMessage:"Select Company=>",currentCompany:"None",companyList:[],dataCompanyName:"No Company Selected",dataCompanyPriv:"No Company Selected",dataCompanySendTo:[],dataCompanyViewing:[],dataCompanyGoverned:[],dataCompanySendToAdded:[],dataCompanyViewingAdded:[],dataCompanyGovernedAdded:[],dataCompanySendToDeleted:[],dataCompanyViewingDeleted:[],dataCompanyGovernedDeleted:[],searchSend:"",searchView:"",searchGov:"",addingEmail:"",clickedList:"",clickedIndex:-1},s}return Object(i.a)(a,[{key:"render",value:function(){var e,t=[];for(e in this.state.companyList){var a=this.state.companyList[e];t.push(Object(s.jsx)("button",{className:"dropdown-item",onClick:this.triggerCompanySwap,value:a,children:a},e))}var n=[];for(e in this.state.dataCompanySendTo){var c=this.state.dataCompanySendTo[e];void 0!==c&&c.indexOf(this.state.searchSend)>-1&&n.push(Object(s.jsxs)("li",{id:e,className:"list-group-item d-flex justify-content-between align-items-center",children:[c,Object(s.jsx)("button",{className:"btn btn-sm btn-outline-danger","data-toggle":"modal",onClick:this.triggerModal,"data-target":"#deleteConfirm",children:"x"})]},e))}var r=[];for(e in this.state.dataCompanySendToAdded){var o=this.state.dataCompanySendToAdded[e];r.push(Object(s.jsxs)("li",{id:e,className:"list-group-item d-flex justify-content-between align-items-center",children:[o,Object(s.jsx)("button",{className:"btn btn-sm btn-outline-danger",onClick:this.triggerStopAdd,children:"x"})]},e))}var l=[];for(e in this.state.dataCompanySendToDeleted){var i=this.state.dataCompanySendToDeleted[e];l.push(Object(s.jsxs)("li",{id:e,className:"list-group-item d-flex justify-content-between align-items-center",children:[i,Object(s.jsx)("button",{className:"btn btn-sm btn-outline-success",onClick:this.triggerReAdd,children:"+"})]},e))}var d=[];for(e in this.state.dataCompanyViewing){var m=this.state.dataCompanyViewing[e];m.indexOf(this.state.searchView)>-1&&d.push(Object(s.jsxs)("li",{id:e,className:"list-group-item d-flex justify-content-between align-items-center",children:[m,Object(s.jsx)("button",{className:"btn btn-sm btn-outline-danger","data-toggle":"modal",onClick:this.triggerModal,"data-target":"#deleteConfirm",children:"x"})]},e))}var h=[];for(e in this.state.dataCompanyViewingAdded){var j=this.state.dataCompanyViewingAdded[e];h.push(Object(s.jsxs)("li",{id:e,className:"list-group-item d-flex justify-content-between align-items-center",children:[j,Object(s.jsx)("button",{className:"btn btn-sm btn-outline-danger",onClick:this.triggerStopAdd,children:"x"})]},e))}var u=[];for(e in this.state.dataCompanyViewingDeleted){var b=this.state.dataCompanyViewingDeleted[e];u.push(Object(s.jsxs)("li",{id:e,className:"list-group-item d-flex justify-content-between align-items-center",children:[b,Object(s.jsx)("button",{className:"btn btn-sm btn-outline-success",onClick:this.triggerReAdd,children:"+"})]},e))}var p=[];for(e in this.state.dataCompanyGoverned){var g=this.state.dataCompanyGoverned[e];g.indexOf(this.state.searchGov)>-1&&p.push(Object(s.jsxs)("li",{id:e,className:"list-group-item d-flex justify-content-between align-items-center",children:[g,Object(s.jsx)("button",{className:"btn btn-sm btn-outline-danger","data-toggle":"modal",onClick:this.triggerModal,"data-target":"#deleteConfirm",children:"x"})]},e))}var v=[];for(e in this.state.dataCompanyGovernedAdded){var x=this.state.dataCompanyGovernedAdded[e];v.push(Object(s.jsxs)("li",{id:e,className:"list-group-item d-flex justify-content-between align-items-center",children:[x,Object(s.jsx)("button",{className:"btn btn-sm btn-outline-danger",onClick:this.triggerStopAdd,children:"x"})]},e))}var O=[];for(e in this.state.dataCompanyGovernedDeleted){var y=this.state.dataCompanyGovernedDeleted[e];O.push(Object(s.jsxs)("li",{id:e,className:"list-group-item d-flex justify-content-between align-items-center",children:[y,Object(s.jsx)("button",{className:"btn btn-sm btn-outline-success",onClick:this.triggerReAdd,children:"+"})]},e))}var f="None";return"sendUsers"===this.state.clickedList?f=this.state.dataCompanySendTo[this.state.clickedIndex]:"viewUsers"===this.state.clickedList?f=this.state.dataCompanyViewing[this.state.clickedIndex]:"govUsers"===this.state.clickedList&&(f=this.state.dataCompanyGoverned[this.state.clickedIndex]),Object(s.jsxs)("div",{className:"companySett",children:[Object(s.jsxs)("div",{className:"container",children:[Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"dropdown",children:[Object(s.jsx)("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:this.state.dropMessage}),Object(s.jsx)("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton",children:t})]})}),Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("button",{className:"btn btn-primary",onClick:this.getCompanyList,children:" Populate Company List "})}),Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("button",{className:"btn btn-primary",onClick:this.postNewCompanyData,children:"Save Changes"})})]}),Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsx)("p",{children:"Edit Company name"})}),Object(s.jsx)("div",{className:"card-body",children:Object(s.jsx)("p",{className:"card-text",children:this.state.dataCompanyName})})]})}),Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsx)("p",{children:"Private/Publix"})}),Object(s.jsx)("div",{className:"card-body",children:Object(s.jsx)("p",{className:"card-text",children:this.state.dataCompanyPriv})})]})})]}),Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsx)("p",{children:"Users Notified:"})}),Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsx)("input",{className:"form-control",id:"",type:"text",onChange:this.sendChange,placeholder:"Search..."}),Object(s.jsxs)("ul",{className:"card-text list-group",id:"sendUsers",children:[n,Object(s.jsx)("button",{type:"button",className:"list-group-item list-group-item-action active","data-toggle":"modal",onClick:this.triggerModal,"data-target":"#addNewUsers",children:"Add user +"}),Object(s.jsx)("li",{id:"remLabel",className:"list-group-item d-flex justify-content-between align-items-center",children:"Users To Remove:"},"rem"),l,Object(s.jsx)("li",{id:"addLabel",className:"list-group-item d-flex justify-content-between align-items-center",children:"Emails To Add:"},"add"),r]})]})]})}),Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsx)("p",{children:"Viewing Privilages:"})}),Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsx)("input",{className:"form-control",id:"",type:"text",onChange:this.viewChange,placeholder:"Search..."}),Object(s.jsxs)("ul",{className:"card-text list-group",id:"viewUsers",children:[d,Object(s.jsx)("button",{type:"button",className:"list-group-item list-group-item-action active","data-toggle":"modal",onClick:this.triggerModal,"data-target":"#addNewUsers",children:"Add user +"}),Object(s.jsx)("li",{id:"remLabel",className:"list-group-item d-flex justify-content-between align-items-center",children:"Users To Remove:"},"rem"),u,Object(s.jsx)("li",{id:"addLabel",className:"list-group-item d-flex justify-content-between align-items-center",children:"Emails To Add:"},"add"),h]})]})]})}),Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsx)("p",{children:"Target Users:"})}),Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsx)("input",{className:"form-control",id:"",type:"text",onChange:this.govChange,placeholder:"Search..."}),Object(s.jsxs)("ul",{className:"card-text list-group",id:"govUsers",children:[p,Object(s.jsx)("button",{type:"button",className:"list-group-item list-group-item-action active","data-toggle":"modal",onClick:this.triggerModal,"data-target":"#addNewUsers",children:"Add user +"}),Object(s.jsx)("li",{id:"remLabel",className:"list-group-item d-flex justify-content-between align-items-center",children:"Users To Remove:"},"rem"),O,Object(s.jsx)("li",{id:"addLabel",className:"list-group-item d-flex justify-content-between align-items-center",children:"Emails To Add:"},"add"),v]})]})]})})]})]}),Object(s.jsx)("div",{className:"modal fade",id:"deleteConfirm",tabIndex:"-1",role:"dialog","aria-labelledby":"deleteConfirmation","aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",id:"deleteTitleConfirm",children:"Delete Confirmation"}),Object(s.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(s.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(s.jsxs)("div",{className:"modal-body",children:["Are you SURE you want to delete user: ",f,"? They will be notified about this change."]}),Object(s.jsxs)("div",{className:"modal-footer",children:[Object(s.jsx)("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal",onClick:this.modelAcceptDelete,children:"Yes"}),Object(s.jsx)("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal",children:"No"})]})]})})}),Object(s.jsx)("div",{className:"modal fade",id:"addNewUsers",tabIndex:"-1",role:"dialog","aria-labelledby":"addNewUsersModal","aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",id:"deleteTitleConfirm",children:"Add New User"}),Object(s.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(s.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(s.jsx)("div",{className:"modal-body",children:"Enter the email of the target user"}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Email Address"}),Object(s.jsx)("input",{type:"email",className:"form-control",value:this.state.addingEmail,onChange:this.emailFieldChange,placeholder:"Enter email"})]}),Object(s.jsxs)("div",{className:"modal-footer",children:[Object(s.jsx)("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal",onClick:this.modelAddEmail,children:"Add"}),Object(s.jsx)("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal",children:"Cancel"})]})]})})})]})}}]),a}(c.a.Component),ae=(Object(j.f)(te),function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).backButton=function(){s.props.history.goBack()},s.state={example:0},s}return Object(i.a)(a,[{key:"render",value:function(){return Object(s.jsx)("div",{className:"freePages",children:Object(s.jsx)("div",{className:"container",children:Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:"Non-Authorized Pages"})})})})}}]),a}(c.a.Component)),se=Object(j.f)(ae),ne=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).backButton=function(){s.props.history.goBack()},s.state={example:0},s}return Object(i.a)(a,[{key:"render",value:function(){return Object(s.jsx)("div",{className:"authPages",children:Object(s.jsx)("div",{className:"container",children:Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:"Authorization Pages"})})})})}}]),a}(c.a.Component),ce=Object(j.f)(ne),re=function(e){return Object(s.jsx)("div",{className:"defaultView",children:Object(s.jsx)("h3",{children:"This page is empty, Select an Action from the side menu!"})})},oe=[{name:"Monday",value:"mon"},{name:"Tuesday",value:"tue"},{name:"Wednesday",value:"wed"},{name:"Thursday",value:"thu"},{name:"Friday",value:"fri"},{name:"Saturday",value:"sat"},{name:"Sunday",value:"sun"},{name:"All",value:"allDay"}],le=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).componentDidMount=function(){s.getValidJournalDates(),s.getUserCompanyList()},s.componentDidUpdate=function(e,t){},s.changeJournalContent=function(e){s.setState({journalEditorState:e})},s.changeEHIDaydates=function(e){s.setState({EHIDayTimespan:e})},s.changeEHIWeekdates=function(e){s.setState({EHIWeekTimespan:e})},s.flushStorage=function(){O.a.remove(s.props.currentUser+"-ValidDates"),O.a.remove(s.props.currentUser+"-companyList"),O.a.remove(s.props.currentUser+"-"+s.state.currentCompany+"-ValidDates"),O.a.remove(s.props.currentUser+"-"+s.state.selectedCompany+"-EHI")},s.forceLogout=function(){s.props.forceLogout(),s.props.history.push(s.props.reRouteTarget)},s.postJournal=function(){var e=s.state.currentDate,t=s.state.journalEditorState.getCurrentContent().getPlainText();Object(R.convertToRaw)(s.state.journalEditorState.getCurrentContent());!function(e,t,a,s,n,c){var r=Math.random().toString(16).substr(2,8),o={headers:{Authorization:"JWT ".concat(t)}},l={shorthand:"made from the website: "+r,author:"",forDate:a.toJSON().split("T")[0],content:s};b.a.post(e+"/saveUserJournal/",l,o).then((function(e){console.log("Success, response is: "),console.log(e)})).catch((function(e){void 0!==e&&401===e.response.status&&c()}))}(s.props.APIHost,s.props.authToken,e,t,0,s.forceLogout)},s.journalDatesCallback=function(e,t){O.a.set(s.props.currentUser+"-ValidDates",{journalDates:e,AIDates:t}),s.setState({validJournalDates:e,validJournalScanDates:t})},s.getValidJournalDates=function(){if(console.log("Running a journal dates check"),void 0!==s.props.currentUser){var e=O.a.get(s.props.currentUser+"-ValidDates");void 0===e?(console.log("Valid journal Dates were not in the cookies!"),function(e,t,a,s){var n={headers:{Authorization:"JWT ".concat(t)}};b.a.get(e+"/getJournalDates",n).then((function(e){console.log("Got Data!");var t=[],s=[],n="";for(n in e.data){var c=new Date(e.data[n].forDate),r=c.getFullYear()+"-"+c.getMonth()+"-"+(c.getDate()+1);e.data[n].hasAI?t.push(r):s.push(r)}a(s,t)})).catch((function(e){void 0!==e&&401===e.response.status&&s()}))}(s.props.APIHost,s.props.authToken,s.journalDatesCallback,s.forceLogout)):s.journalDatesCallback(e.journalDates,e.AIDates)}else console.log("Invalid User")},s.journalDataCallback=function(e,t){s.setState({journalMessage:"Showing Journal Entry for: "+s.state.currentDate.toString(),journalContent:e,selectedJournalData:t})},s.pickJournalCalenderDate=function(e){s.setState({currentDate:e}),void 0===O.a.get(s.props.currentUser+"-Journal-"+e)&&(console.log("Not in the cookies!"),function(e,t,a,s,n){var c={headers:{Authorization:"JWT ".concat(t)}};console.log("Requesting Date from Server");var r=a.toJSON().split("T")[0];b.a.get(e+"/getUserJournal/?reqDate="+r,c).then((function(e){if(e.data.length>0){console.log("obtained a journal entry");var t=e.data[0].content,a={};e.data[0].hasAI&&(a=e.data[0].AIresult),s(t,a)}else console.log("No entry for that day"),s("",{})})).catch((function(e){void 0!==e&&401===e.response.status&&n()}))}(s.props.APIHost,s.props.authToken,e,s.journalDataCallback,s.forceLogout))},s.companyListCallback=function(e){s.setState({userCompanyList:e})},s.getUserCompanyList=function(){if(void 0!==s.props.currentUser){var e=O.a.get(s.props.currentUser+"-companyList");void 0===e?(console.log("Company list was not in the cookies!"),function(e,t,a,s){var n={headers:{Authorization:"JWT ".concat(t)}};b.a.get(e+"/getUsersCompanies",n).then((function(e){if(e.data.length>0){console.log("Got the list of companies");var t,s=[];for(t in e.data[0].companyOwner){var n=e.data[0].companyOwner[t];s.includes(n)||s.push(n)}for(t in e.data[0].companyAllowsView){var c=e.data[0].companyAllowsView[t];s.includes(c)||s.push(c)}for(t in e.data[0].companySendsTo){var r=e.data[0].companySendsTo[t];s.includes(r)||s.push(r)}a(s)}})).catch((function(e){void 0!==e&&401===e.response.status&&s()}))}(s.props.APIHost,s.props.authToken,s.companyListCallback,s.forceLogout)):s.companyListCallback(e.theList)}},s.companyDatesCallback=function(e){O.a.set(s.props.currentUser+"-"+s.state.selectedCompany+"-ValidDates",{dates:e}),s.setState({validCompanySummary:e})},s.getCompanyValidDates=function(){if("None"!==s.state.selectedCompany){var e=O.a.get(s.props.currentUser+"-"+s.state.selectedCompany+"-ValidDates");void 0===e?(console.log("Company dates were not in the cookies"),function(e,t,a,s,n){var c={headers:{Authorization:"JWT ".concat(t)}};b.a.get(e+"/getCompanyWeekDates?reComp="+a,c).then((function(e){var t=[];console.log("Got Valid Dates!");var a="";for(a in e.data){var n=new Date(e.data[a].forDate),c=0;e.data[a].hasMon&&t.push(c=n.getFullYear()+"-"+n.getMonth()+"-"+(n.getDate()+1)),e.data[a].hasTue&&t.push(c=n.getFullYear()+"-"+n.getMonth()+"-"+(n.getDate()+2)),e.data[a].hasWed&&t.push(c=n.getFullYear()+"-"+n.getMonth()+"-"+(n.getDate()+3)),e.data[a].hasThu&&t.push(c=n.getFullYear()+"-"+n.getMonth()+"-"+(n.getDate()+4)),e.data[a].hasFri&&t.push(c=n.getFullYear()+"-"+n.getMonth()+"-"+(n.getDate()+5)),e.data[a].hasSat&&t.push(c=n.getFullYear()+"-"+n.getMonth()+"-"+(n.getDate()+6)),e.data[a].hasSun&&t.push(c=n.getFullYear()+"-"+n.getMonth()+"-"+(n.getDate()+7)),t.push(c)}s(t)})).catch((function(e){void 0!==e&&401===e.response.status&&n()}))}(s.props.APIHost,s.props.authToken,s.state.selectedCompany,s.companyDatesCallback,s.forceLogout)):(console.log("Company Dates WERE in the coockies!"),s.companyDatesCallback(e.dates))}else console.log("Invalid company!")},s.companyDataCallback=function(e,t){O.a.set(s.props.currentUser+"-"+s.state.selectedCompany+"-"+t+"Data",{data:e}),s.setState({companyMessage:"Showing Summary for: "+s.state.selectedCompany+" On: "+s.state.currentDate.toString(),selectedSummaryWeekData:e,currentCompanyDataDate:t,currentCompanyDataName:s.state.selectedCompany})},s.getCompanyWeeklySummary=function(e){var t=e.getDay()-1;t<0&&(t=6);var a=new Date(e.getTime());a.setDate(a.getDate()-t);var n=a.toJSON().split("T")[0];if(s.state.currentCompanyDataName===s.state.selectedCompany&&s.state.currentCompanyDataDate===n)s.setState({selectedCompanyDay:oe[t].value});else if("None"!==s.state.selectedCompany){var c=O.a.get(s.props.currentUser+"-"+s.state.selectedCompany+"-"+n+"Data");void 0===c?(console.log("Company Summary Data was not in the coockies"),function(e,t,a,s,n,c){var r=s.getDay()-1;r<0&&(r=6);var o=new Date(s.getTime());o.setDate(o.getDate()-r);var l=o.toJSON().split("T")[0],i={headers:{Authorization:"JWT ".concat(t)}};b.a.get(e+"/getCompanyWeekSummary/?reqDate="+l+"&reComp="+a,i).then((function(e){if(e.data.length>0){console.log("obtained a company summary");var t={mon:e.data[0].monResult,tue:e.data[0].tueResult,wed:e.data[0].wedResult,thu:e.data[0].thuResult,fri:e.data[0].friResult,sat:e.data[0].satResult,sun:e.data[0].sunResult,allDay:e.data[0].summaryResult};n(t,l)}else n({},l)})).catch((function(e){void 0!==e&&401===e.response.status&&c()}))}(s.props.APIHost,s.props.authToken,s.state.selectedCompany,e,s.companyDataCallback,s.forceLogout)):s.companyDataCallback(c.data,n)}else console.log("Invalid company!")},s.companyEHICallback=function(e,t,a,n){O.a.set(s.props.currentUser+"-"+s.state.selectedCompany+"-EHI",{labelsDays:e,dataDays:t,labelsWeeks:a,dataWeeks:n}),s.setState({EHIDayLabels:e,EHIDaySet:t,EHIWeekLabels:a,EHIWeekSet:n})},s.getCompanyEHIData=function(){if("None"!==s.state.selectedCompany){var e=O.a.get(s.props.currentUser+"-"+s.state.selectedCompany+"-EHI");void 0===e?(console.log("Company EHI Data was not in the coockies"),function(e,t,a,s,n){var c={headers:{Authorization:"JWT ".concat(t)}};b.a.get(e+"/getCompanyEHI?reqComp="+a,c).then((function(e){if(e.data.length>0){console.log("Got the company data!");var t,a=[],n=[],c=[],r=[];for(t in e.data[0].EHIstorage.days)a.push(t),n.push(e.data[0].EHIstorage.days[t]);for(t in e.data[0].EHIstorage.weeks)c.push(t),r.push(e.data[0].EHIstorage.days[t]);s(a,n,c,r)}})).catch((function(e){void 0!==e&&401===e.response.status&&n()}))}(s.props.APIHost,s.props.authToken,s.state.selectedCompany,s.companyEHICallback,s.forceLogout)):s.companyEHICallback(e.labelsDays,e.dataDays,e.labelsWeeks,e.dataWeeks)}else console.log("Invalid company!")},s.changeJournalPrompt=function(e){s.setState({selectedJournalPrompt:e.currentTarget.value})},s.changeJournalAspect=function(e){s.setState({selectedJournalAspect:e.currentTarget.value})},s.companySelectedChangeCallback=function(){s.getCompanyEHIData(),s.getCompanyValidDates()},s.changeSelectedCompany=function(e){s.setState({selectedCompany:e.currentTarget.value},s.companySelectedChangeCallback)},s.changeCompanyPrompt=function(e){s.setState({selectedCompanyPrompt:e.currentTarget.value})},s.changeCompanyAspect=function(e){s.setState({selectedCompanyAspect:e.currentTarget.value})},s.changeCompanyDay=function(e){s.setState({selectedCompanyDay:e.currentTarget.value})},s.state={currentDate:new Date,EHIDayTimespan:3,EHIWeekTimespan:3,EHIDayLabels:[],EHIDaySet:[],EHIWeekLabels:[],EHIWeekSet:[],selectedJournalPrompt:"p1",selectedJournalAspect:"emotion",selectedJournalData:{},validJournalDates:[],validJournalScanDates:[],journalMessage:"Choose a date to view the journal!",journalContent:"Waiting for content...",journalEditorState:R.EditorState.createEmpty(),journalPlaceholder:"",selectedCompanyDay:"mon",selectedCompanyPrompt:"p1",selectedCompanyAspect:"emotion",companyMessage:"Choose a date and company to view that summary!",selectedCompany:"None",userCompanyList:[],currentCompanyDataName:void 0,currentCompanyDataDate:void 0,selectedSummaryWeekData:{mon:{},tue:{},wed:{},thu:{},fri:{},sat:{},sun:{},allDay:{}},validCompanySummary:[]},s}return Object(i.a)(a,[{key:"render",value:function(){var e,t=this,a="Select Company =>";"None"!==this.state.selectedCompany&&(a=this.state.selectedCompany);var n=[];for(e in this.state.userCompanyList){var c=this.state.userCompanyList[e];n.push(Object(s.jsx)("button",{className:"dropdown-item",onClick:this.changeSelectedCompany,value:c,children:c},e))}return Object(s.jsx)("div",{className:"contentPages",children:Object(s.jsx)("div",{className:"container-fluid",children:Object(s.jsxs)("div",{className:"row m-1 my-5",children:[Object(s.jsxs)("div",{className:"col- m-1",children:[Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsx)("h5",{children:"Today's Date"})}),Object(s.jsx)("div",{className:"card-body",children:this.state.currentDate.toString().split("(")[0]})]})})}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsx)("h5",{children:"Journal View"})}),Object(s.jsx)("div",{className:"card-body",children:Object(s.jsxs)("div",{className:"list-group",children:[Object(s.jsx)(h.b,{className:"list-group-item",to:this.props.match.url+"/JournalWrite",children:"Write Todays Journal"}),Object(s.jsx)(h.b,{className:"list-group-item",to:this.props.match.url+"/JournalRead",children:"Review Previous Journals"})]})})]})})}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsx)("h5",{children:"Company View"})}),Object(s.jsx)("div",{className:"card-body",children:Object(s.jsxs)("div",{className:"list-group",children:[Object(s.jsx)("div",{className:"col list-group-item",children:Object(s.jsxs)("div",{className:"dropdown",children:[Object(s.jsx)("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:a}),Object(s.jsx)("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton",children:n})]})}),Object(s.jsx)(h.b,{className:"list-group-item",to:this.props.match.url+"/CompanyEHI",children:"Review Company EHI"}),Object(s.jsx)(h.b,{className:"list-group-item",to:this.props.match.url+"/CompanySummary",children:"Review Company Summaries"})]})})]})})}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:"Debug Buttons!"})}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("button",{className:"btn btn-outline-danger",onClick:this.flushStorage,children:"Flush Storage"})})})]}),Object(s.jsx)("div",{className:"col-8 border m-1",children:Object(s.jsxs)(j.c,{children:[Object(s.jsx)(j.a,{path:this.props.match.url+"/",exact:!0,component:function(){return Object(s.jsx)(re,{})}}),Object(s.jsx)(j.a,{path:this.props.match.url+"/userDetail",component:function(){return Object(s.jsx)(re,{})}}),Object(s.jsx)(j.a,{path:this.props.match.url+"/JournalWrite",component:function(){return Object(s.jsx)(K,{APIHost:t.props.APIHost,authToken:t.props.authToken,onChange:t.changeJournalContent,placeholder:t.state.journalPlaceholder,editorState:t.state.journalEditorState,saveToServer:t.postJournal})}}),Object(s.jsx)(j.a,{path:this.props.match.url+"/JournalRead",component:function(){return Object(s.jsx)(J,{currentDate:t.props.currentDate,dataSet:t.state.selectedJournalData,selectedPrompt:t.state.selectedJournalPrompt,selectedAspect:t.state.selectedJournalAspect,validJournalDates:t.state.validJournalDates,validJournalScanDates:t.state.validJournalScanDates,getJournalDates:t.getValidJournalDates,pickDate:t.pickJournalCalenderDate,displayMessage:t.state.journalMessage,currentJournal:t.state.journalContent,setPrompt:t.changeJournalPrompt,setAI:t.changeJournalAspect})}}),Object(s.jsx)(j.a,{path:this.props.match.url+"/companyDetails",component:function(){return Object(s.jsx)(re,{})}}),Object(s.jsx)(j.a,{path:this.props.match.url+"/CompanyEHI",component:function(){return Object(s.jsx)(je,{timeIndexDay:t.state.EHIDayTimespan,timeIndexWeek:t.state.EHIWeekTimespan,ehiDayLabels:t.state.EHIDayLabels,ehiDayData:t.state.EHIDaySet,ehiWeekLabels:t.state.EHIWeekLabels,ehiWeekData:t.state.EHIWeekSet,onDayToggle:t.changeEHIDaydates,onWeekToggle:t.changeEHIWeekdates})}}),Object(s.jsx)(j.a,{path:this.props.match.url+"/CompanySummary",component:function(){return Object(s.jsx)($,{currentDate:t.props.currentDate,currentCompany:t.state.currentCompanyDataName,anchorDate:t.state.currentCompanyDataDate,companyList:t.state.userCompanyList,validSummaryDates:t.state.validCompanySummary,displayMessage:t.state.companyMessage,dataSet:t.state.selectedSummaryWeekData,selectedDay:t.state.selectedCompanyDay,selectedPrompt:t.state.selectedCompanyPrompt,selectedAspect:t.state.selectedCompanyAspect,setPrompt:t.changeCompanyPrompt,setAI:t.changeCompanyAspect,setDay:t.changeCompanyDay,setCompany:t.changeSelectedCompany,loadCompanyList:t.getUserCompanyList,getValidDates:t.getCompanyValidDates,pickDate:t.getCompanyWeeklySummary})}})]})})]})})})}}]),a}(c.a.Component),ie=Object(j.f)(le),de=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).onToggle=function(t){t.preventDefault(),e.props.onToggle(e.props.value)},e}return Object(i.a)(a,[{key:"render",value:function(){var e="btn btn-outline-primary";return this.props.active&&(e+=" active"),Object(s.jsx)("button",{className:e,onClick:this.onToggle,children:this.props.label})}}]),a}(c.a.Component),me=[{label:"Max",value:0,dayLength:0,weekLength:0},{label:"1Year",value:1,dayLength:365,weekLength:52},{label:"6Months",value:2,dayLength:183,weekLength:28},{label:"3Months",value:3,dayLength:63,weekLength:13},{label:"1Months",value:4,dayLength:31,weekLength:4},{label:"1Week",value:5,dayLength:7,weekLength:1}],he=function(e){var t=e.graphState;return Object(s.jsx)("div",{className:"EHIControls",children:me.map((function(a){return Object(s.jsx)(de,{active:t===a.value,label:a.label,onToggle:e.onToggle,value:a.value},a.label)}))})},je=Object(j.f)((function(e){var t=e.timeIndexDay,a=e.timeIndexWeek,n=e.ehiDayLabels,c=e.ehiDayData,r=me[t].dayLength;0===r&&(r=n.length);var o=n.slice(-r),l={label:"EHI index",data:c.slice(-r)},i=e.ehiWeekLabels,d=e.ehiWeekData;0===(r=me[a].weekLength)&&(r=i.length);var m=i.slice(-r),h={label:"EHI index",data:d.slice(-r)};1===m.length&&(m.unshift(""),m.push(""),h.data.unshift(h.data[0]),h.data.push(h.data[0]));var j=E(o,[l]),u=E(m,[h]),b={scales:{yAxes:[{ticks:{beginAtZero:!0}}]}};return Object(s.jsx)("div",{className:"EHIDisplay",children:Object(s.jsxs)("div",{className:"row m-1",children:[Object(s.jsx)("div",{className:"col-6",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:"Employee Health Index Daily Data"}),Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsx)(D.Line,{data:j,options:b}),Object(s.jsx)(he,{graphState:t,onToggle:e.onDayToggle})]})]})}),Object(s.jsx)("div",{className:"col-6",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:"Employee Health Index Weekly Data"}),Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsx)(D.Line,{data:u,options:b}),Object(s.jsx)(he,{graphState:a,onToggle:e.onWeekToggle})]})]})})]})})})),ue=(a(379),"/scenere"),be="https://cmaster.pythonanywhere.com",pe=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).loadFromCookies=function(){var e=O.a.get("lastUser");try{s.setState({currentUser:e.user,sessionToken:e.session})}catch(t){console.log("User was NOT found in the storage")}},s.setToken=function(e,t){return s.setState({sessionToken:e,currentUser:t}),O.a.set("lastUser",{user:t,session:e}),!0},s.refresh=function(){var e={token:s.state.sessionToken};b.a.post(be+"/apiTokenRefresh/",e).then((function(e){return console.log("Token refreshed"),s.setToken(e.data.token,s.state.currentUser),!0})).catch((function(e){return console.log(e),s.logout(),!1}))},s.logout=function(){s.setState({sessionToken:void 0,currentUser:void 0}),O.a.remove("lastUser")},s.state={currentUser:void 0,sessionToken:void 0},s}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.loadFromCookies()}},{key:"render",value:function(){var e=this;return Object(s.jsx)(h.a,{children:Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)(g,{currentUser:this.state.currentUser,basePath:ue,clearLogin:this.logout}),Object(s.jsxs)(j.c,{children:[Object(s.jsx)(j.a,{path:"/scenere/",exact:!0,component:function(){return Object(s.jsx)(w,{APIHost:be})}}),Object(s.jsx)(j.a,{path:"/scenere/info",component:function(){return Object(s.jsx)(se,{APIHost:be})}}),Object(s.jsx)(j.a,{path:"/scenere/auth",component:function(){return Object(s.jsx)(ce,{APIHost:be})}}),Object(s.jsx)(j.a,{path:"/scenere/signin",exact:!0,component:function(){return Object(s.jsx)(f,{loginSave:e.setToken,APIHost:be,reRouteTarget:"/scenere/dashboard",forgotPath:"/scenere/forgot"})}}),Object(s.jsx)(j.a,{path:"/scenere/signup",exact:!0,component:function(){return Object(s.jsx)(N,{APIHost:be,reRouteTarget:"/scenere/signin"})}}),Object(s.jsx)(j.a,{path:"/scenere/forgot",exact:!0,component:function(){return Object(s.jsx)(k,{APIHost:be,reRouteTarget:"/scenere/signin"})}}),Object(s.jsx)(j.a,{path:"/scenere/dashboard",component:function(){return Object(s.jsx)(ie,{APIHost:be,tokenRefresh:e.refresh,reRouteTarget:"/scenere/signin",forceLogout:e.logout,currentUser:e.state.currentUser,authToken:e.state.sessionToken})}})]}),Object(s.jsx)(v,{})]})})}}]),a}(c.a.Component),ge=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,387)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),s(e),n(e),c(e),r(e)}))};a(380),a(381);o.a.render(Object(s.jsx)(pe,{}),document.getElementById("root")),ge()}},[[383,1,2]]]);
//# sourceMappingURL=main.df98f42a.chunk.js.map