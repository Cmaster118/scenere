(this["webpackJsonpproject-scenere"]=this["webpackJsonpproject-scenere"]||[]).push([[0],{159:function(e,t,a){},379:function(e,t,a){},383:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a(1),r=a.n(n),c=a(86),o=a.n(c),i=(a(159),a(7)),l=a(8),d=a(10),h=a(9),m=a(12),j=a(14),b=a(13),u=a.n(b),p=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).triggerLogout=function(){s.props.clearLogin()},s.state={something:null},s}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.basePath,t=null,a=null;return void 0===this.props.currentUser?(t=[Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)(m.b,{className:"nav-link",to:e+"/signup",children:"Sign Up"})},"0"),Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)(m.b,{className:"nav-link",to:e+"/signin",children:"Sign In"})},"1")],a=Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)(m.b,{className:"nav-link",to:e+"/menu",children:"None"})},"2")):(t=Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)(m.b,{className:"nav-link",to:e+"/",onClick:this.triggerLogout,children:"Sign Out"})},"3"),a=Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)(m.b,{className:"nav-link",to:e+"/menu",children:this.props.currentUser})},"4")),Object(s.jsx)("div",{className:"navigation",children:Object(s.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)(m.b,{className:"navbar-brand",to:e+"/",children:"Project Scenere"}),Object(s.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarResponsive","aria-controls":"navbarResponsive","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(s.jsx)("span",{className:"navbar-toggler-icon"})}),Object(s.jsx)("div",{className:"collapse navbar-collapse",id:"navbarResponsive",children:Object(s.jsxs)("ul",{className:"navbar-nav ml-auto",children:[Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)(m.b,{className:"nav-link",to:e+"/test",children:"!!TestDisplay 1!!"})},"30"),t,Object(s.jsx)("li",{className:"nav-link",children:"Current User:"}),a]})})]})})})}}]),a}(r.a.Component),g=Object(j.f)(p),v=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={},s}return Object(l.a)(a,[{key:"render",value:function(){return Object(s.jsx)("div",{className:"footer",children:Object(s.jsx)("footer",{className:"py-3 bg-dark fixed-bottom",children:Object(s.jsx)("div",{className:"container",children:Object(s.jsx)("p",{className:"m-0 text-center text-white",children:"Copyright \xa9 Nightingale Technologies 2020"})})})})}}]),a}(r.a.Component),x=a(3),O=a.n(x),f=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).loadFromCookies=function(){var e=O.a.get("rememberUser");try{s.setState({username:e.user,password:e.pass})}catch(t){}},s.userFieldChange=function(e){s.setState({username:e.target.value})},s.passFieldChange=function(e){s.setState({password:e.target.value})},s.remFieldChange=function(e){s.setState({remember:e.target.value})},s.handleSubmit=function(e){s.state.remember&&(O.a.set("rememberUser",{user:s.state.username,pass:s.state.password}),console.log("User data Stored"));var t={username:s.state.username,password:s.state.password};u.a.post(s.props.APIHost+"/apiTokenAuth/",t).then((function(e){s.setState({latestAttempt:200});var t=s.props.loginSave(e.data.token,s.state.username);console.log("Success"),t?(console.log("Token registered"),s.props.history.push(s.props.reRouteTarget)):console.log("Token Failed..?")})).catch((function(e){s.setState({latestAttempt:400}),console.log(e),console.log("Connection failed...")})),e.preventDefault()},s.state={currentState:0,latestAttempt:0,username:"",password:"",remember:!1},s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.loadFromCookies()}},{key:"render",value:function(){return Object(s.jsx)("div",{className:"container",children:Object(s.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(s.jsx)("h3",{children:"Sign In"}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Email Address"}),Object(s.jsx)("input",{type:"text",className:"form-control",value:this.state.username,onChange:this.userFieldChange,placeholder:"Enter Username"})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Password"}),Object(s.jsx)("input",{type:"password",className:"form-control",value:this.state.password,onChange:this.passFieldChange,placeholder:"Enter password"})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("input",{type:"checkbox",className:"form-control-input",id:"customCheck1",value:this.state.remember,onChange:this.remFieldChange}),Object(s.jsx)("label",{className:"form-control-label",htmlFor:"customCheck1",children:"Remember Me"})]}),Object(s.jsx)("button",{type:"submit",className:"btn btn-dark btn-block",children:"Submit"}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("p",{className:"col forgot-password text-right text-dark",children:Object(s.jsx)(m.b,{className:"nav-link",to:this.props.forgotPath,children:"Forgot password?"})})})]})})}}]),a}(r.a.Component),y=Object(j.f)(f),N=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).usernameFieldChange=function(e){s.setState({username:e.target.value})},s.emailFieldChange=function(e){s.setState({email:e.target.value})},s.passFieldChange=function(e){s.setState({password:e.target.value})},s.pass2FieldChange=function(e){s.setState({password2:e.target.value})},s.firstNameFieldChange=function(e){s.setState({firstName:e.target.value})},s.lastnameFieldChange=function(e){s.setState({lastName:e.target.value})},s.checkFieldChange=function(e){s.setState({checkField:e.target.value})},s.handleSubmit=function(e){s.state.checkField&&console.log("Field was not checked");var t={username:s.state.username,password:s.state.password,password2:s.state.password2,email:s.state.email,first_name:s.state.firstName,last_name:s.state.firstName};u.a.post(s.props.APIHost+"/registerUser/",t).then((function(e){s.setState({latestAttept:200}),console.log("Success")})).catch((function(e){s.setState({latestAttept:400}),console.log(e),console.log("Connection failed...")})),e.preventDefault()},s.state={username:"",email:"",password:"",password2:"",firstName:"",lastName:"",checkField:!1},s}return Object(l.a)(a,[{key:"render",value:function(){return Object(s.jsx)("div",{className:"container",children:Object(s.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(s.jsx)("h3",{children:"Sign Up"}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Username"}),Object(s.jsx)("input",{type:"text",className:"form-control",value:this.state.username,onChange:this.usernameFieldChange,placeholder:"Enter Username"})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Email Address"}),Object(s.jsx)("input",{type:"email",className:"form-control",value:this.state.email,onChange:this.emailFieldChange,placeholder:"Enter email"})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Password"}),Object(s.jsx)("input",{type:"password",className:"form-control",value:this.state.password,onChange:this.passFieldChange,placeholder:"Enter password"})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Confirm Password"}),Object(s.jsx)("input",{type:"password",className:"form-control",value:this.state.password2,onChange:this.pass2FieldChange,placeholder:"Confirm password"})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"First Name"}),Object(s.jsx)("input",{type:"text",className:"form-control",value:this.state.firstName,onChange:this.firstNameFieldChange,placeholder:"First Name"})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Last Name"}),Object(s.jsx)("input",{type:"text",className:"form-control",value:this.state.lastName,onChange:this.lastnameFieldChange,placeholder:"Last Name"})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("input",{type:"checkbox",className:"form-control-input",id:"customCheck1",value:this.state.checkField,onChange:this.checkFieldChange}),Object(s.jsx)("label",{className:"form-control-label",htmlFor:"customCheck1",children:"Legal stuff? Not sure..."})]}),Object(s.jsx)("button",{type:"submit",className:"btn btn-dark btn-block",children:"Submit"})]})})}}]),a}(r.a.Component),C=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).goSignIn=function(){s.props.history.push(s.props.reRouteTarget)},s.arePasswordsSame=function(){return s.state.password1===s.state.password2},s.swapToCode=function(){s.setState({currentState:1})},s.sendEmail=function(){s.setState({currentState:1})},s.checkValue=function(){s.setState({currentState:2})},s.checkPasswords=function(){s.arePasswordsSame()&&s.setState({currentState:3})},s.emailFieldChange=function(e){s.setState({email:e.target.value})},s.tokenFieldChange=function(e){s.setState({resetToken:e.target.value}),s.arePasswordsSame()},s.pass1FieldChange=function(e){s.setState({password1:e.target.value})},s.pass2FieldChange=function(e){s.setState({password2:e.target.value}),s.arePasswordsSame()},s.state={email:"",resetToken:"",currentState:0,password1:"",password2:"",passwordsSame:!1},s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.setState({email:""},{resetToken:""},{password1:""},{password2:""})}},{key:"render",value:function(){var e=null,t=null,a=null;return 0===this.state.currentState?(a=Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("p",{children:"Enter your email address. If it is in the system, we will send you an email address with a code."})})}),e=Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Email Address"}),Object(s.jsx)("input",{type:"text",className:"form-control",value:this.state.email,onChange:this.emailFieldChange,placeholder:"Enter email"})]})})}),t=[Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("button",{className:"btn btn-primary",onClick:this.sendEmail,children:"Send"})})}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col m-2",children:Object(s.jsx)("button",{className:"btn btn-primary",onClick:this.swapToCode,children:"Already have the code!"})})})]):1===this.state.currentState?(a=Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("p",{children:"Check your email. If your email is correct, then enter the code it gives you here:"})}),e=Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Reset token"}),Object(s.jsx)("input",{type:"text",className:"form-control",value:this.state.resetToken,onChange:this.tokenFieldChange,placeholder:"Enter Token"})]})}),t=Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("button",{className:"btn btn-primary",onClick:this.checkValue,children:"Check..."})})):2===this.state.currentState?(a=[Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("p",{children:" Enter your new password! "})})})],this.arePasswordsSame()||a.push(Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("p",{className:"text-danger",children:" Passwords do not match! "})})})),e=[Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("div",{className:"form-group",children:Object(s.jsx)("input",{type:"text",className:"form-control",value:this.state.resetToken,onChange:this.pass1FieldChange,placeholder:"Enter Password"})})})}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("div",{className:"form-group",children:Object(s.jsx)("input",{type:"text",className:"form-control",value:this.state.resetToken,onChange:this.pass2FieldChange,placeholder:"Re-enter Password"})})})})],t=Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("button",{className:"btn btn-primary",onClick:this.checkPasswords,children:"Check..."})})})):2===this.state.currentState&&(a=Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("p",{children:" Password has been successfullty reset! "})})}),e=null,t=Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("button",{className:"btn btn-primary",onClick:this.goSignIn,children:"Sign In!"})})})),Object(s.jsxs)("div",{className:"container-sm",children:[Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("h3",{children:" Forgot your password? "})})}),a,e,t]})}}]),a}(r.a.Component),k=Object(j.f)(C),w=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).getFromCookies=function(){O.a.get("rememberSomething")},s.chartReference=r.a.createRef(),s.state={userToken:null},s}return Object(l.a)(a,[{key:"render",value:function(){return Object(s.jsx)("div",{className:"landing",children:Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)("div",{className:"row align-items-center my-5",children:Object(s.jsx)("div",{className:"col-lg-12 border",children:Object(s.jsx)("h3",{children:"Sample Title"})})}),Object(s.jsxs)("div",{className:"row align-items-center my-2 border",children:[Object(s.jsx)("div",{className:"col-lg-7",children:Object(s.jsx)("p",{children:"Another set of explinations?"})}),Object(s.jsx)("div",{className:"col m-5 border",children:Object(s.jsx)("p",{children:"Explainations ahoy!"})})]})]})})}}]),a}(r.a.Component),S=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).getFromCookies=function(){O.a.get("rememberSomething")},s.chartReference=r.a.createRef(),s.state={something:null},s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){console.log("Check for login..."),void 0===this.props.currentUser&&this.props.history.push(this.props.reRouteTarget)}},{key:"render",value:function(){return Object(s.jsx)("div",{className:"mainMenu",children:Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)("div",{className:"row align-items-center my-5",children:Object(s.jsx)("div",{className:"col",children:"Welcome to this barebones dashboard lookin thing!"})}),Object(s.jsxs)("div",{className:"row align-items-center my-5",children:[Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:"Write/Edit Journal"}),Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsx)("p",{className:"card-text",children:"Click this button to write today's Journal"}),Object(s.jsx)(m.b,{className:"btn btn-primary",to:this.props.journalWriteDirect,children:"Go!"})]})]})}),Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:"View Past Journal"}),Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsx)("p",{className:"card-text",children:"View the contents and AI result of your previous Journals"}),Object(s.jsx)(m.b,{className:"btn btn-primary",to:this.props.journalReadDirect,children:"Go!"})]})]})}),Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:"View Company Summary"}),Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsx)("p",{className:"card-text",children:"View contents of Company Summaries, to which you belong."}),Object(s.jsx)(m.b,{className:"btn btn-primary",to:this.props.companyReadDirect,children:"Go!"})]})]})}),Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:"Company Edit!"}),Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsx)("p",{className:"card-text",children:"Edit Company Entiries to which you are Owner of"}),Object(s.jsx)(m.b,{className:"btn btn-primary",to:this.props.companySettingDirect,children:"Go!"})]})]})})]})]})})}}]),a}(r.a.Component),D=Object(j.f)(S),T=a(42),A=(a(67),a(15)),E=function(e){return{labels:["Anger","Disgust","Fear","Joy","Sadness"],datasets:[{label:"Confidence Levels",data:e,backgroundColor:"rgba(99, 255, 132, 0.2)",borderColor:"rgba(99, 255, 132, 1)",borderWidth:1}]}},R=function(e){return{labels:["Positive","Negative"],datasets:[{label:["Sentiment"],data:e,backgroundColor:["rgba(99, 255, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(99, 255, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]}},I=function(e,t){return{labels:t,datasets:[{label:"Concepts Relevance",data:e,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]}},L=function(e,t){return{labels:t,datasets:[{label:"Categories Score",data:e,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]}},U=function(e,t,a){return{labels:["Joy","Anger","Sadness","Disgust","Fear"],datasets:[{label:"Max",data:e,backgroundColor:"rgba(99, 255, 132, 0.2)",borderColor:"rgba(99, 255, 132, 1)",borderWidth:1},{label:"Ave",data:t,backgroundColor:"rgba(99, 132, 255, 0.2)",borderColor:"rgba(99, 132, 255, 1)",borderWidth:1},{label:"Min",data:a,backgroundColor:"rgba(255, 99, 132, 0.2)",borderColor:"rgba(255, 99, 132, 1)",borderWidth:1}]}},M=function(e,t,a){return{labels:["Value"],datasets:[{label:"Minimum",data:e,backgroundColor:"rgb(255, 99, 132)"},{label:"Average",data:t,backgroundColor:"rgb(54, 162, 235)"},{label:"Maximum",data:a,backgroundColor:"rgb(75, 192, 192)"}]}},P=function(e,t,a){return{labels:["Relevance","Sentiment"],datasets:[{label:"Minimum",data:e,backgroundColor:"rgb(255, 99, 132)"},{label:"Average",data:t,backgroundColor:"rgb(54, 162, 235)"},{label:"Maximum",data:a,backgroundColor:"rgb(75, 192, 192)"}]}},F=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).backButton=function(){s.props.history.goBack()},s.loadFromCookies=function(){var e=O.a.get(s.props.currentUser+"-ValidDates");try{return s.setState({validJournalScanDates:e.AIDates,validJournalDates:e.journalDates}),console.log("Got the journal data from the cookies"),!0}catch(t){return console.log("No cookies to load the data from"),!1}},s.loadTestData=function(){var e,t=O.a.get("testData"),a=t.categories,n=[],r=[];for(e in a){var c=a[e];n.push(c.label),r.push(c.score)}var o=t.concepts,i=[],l=[],d=[];for(e in o){var h=o[e];i.push(h.text),l.push(h.relevance),d.push(h.dbpedia_resource)}var m=t.emotion.document.emotion,j=[m.anger,m.disgust,m.fear,m.joy,m.sadness],b=t.entities,u=[];for(e in b){var p=b[e],g=[p.emotion.anger,p.emotion.disgust,p.emotion.fear,p.emotion.joy,p.emotion.sadness],v=p.sentiment.score,x=1-Math.abs(v),f=[0,0];f=v>0?[v,x]:[x,v];var y={id:e,text:p.text,type:p.type,count:p.count,relevance:p.relevance,emotion:g,sentiment:f};u.push(y)}var N=t.keywords,C=[];for(e in N){var k=N[e],w=[k.emotion.anger,k.emotion.disgust,k.emotion.fear,k.emotion.joy,k.emotion.sadness],S=k.sentiment.score,D=1-Math.abs(S),T=[0,0];T=S>0?[S,D]:[D,S];var A={id:e,text:k.text,count:k.count,relevance:k.relevance,emotion:w,sentiment:T};C.push(A)}var U=[],M=t.relations;for(e in M){var P=M[e],F={id:e,init:P.arguments[0].text,action:P.type,target:P.arguments[1].text,score:P.score};U.push(F)}var V=t.sentiment.document.score,H=[.5*(V+1),.5*(V-1)];s.setState({dataCategories:L(r,n),dataConcepts:I(l,i),dataEmotion:E(j),dataEntities:u,dataKeywords:C,dataRelations:U,dataSentiment:R(H)})},s.saveToCookies=function(){O.a.set(s.props.currentUser+"-ValidDates",{journalDates:s.state.validJournalDates,AIDates:s.state.validJournalScanDates}),console.log("Saved to cookies!")},s.getJournalDates=function(){var e={headers:{Authorization:"JWT ".concat(s.props.authToken)}};return u.a.get(s.props.APIHost+"/getJournalDates",e).then((function(e){console.log("Got Data!");var t=[],a=[];O.a.remove(s.props.currentUser+"-ValidDates");var n="";for(n in e.data){var r=new Date(e.data[n].createdDate),c=r.getFullYear()+"-"+r.getMonth()+"-"+(r.getDate()+1);e.data[n].hasAI?t.push(c):a.push(c)}s.setState({validJournalScanDates:t,validJournalDates:a}),s.saveToCookies()})).catch((function(e){401===e.response.status&&(s.props.forceLogout(),s.props.history.push(s.props.reRouteTarget))})),!1},s.pickDate=function(e){console.log("requesting date"),s.setState({currentDate:e});var t=O.a.get(s.props.currentUser+"-Journal-"+e);try{console.log(t.content),console.log("Got the Journal entry from storage?!")}catch(r){var a={headers:{Authorization:"JWT ".concat(s.props.authToken)}};console.log("requesting date"),s.setState({currentDate:e});var n=e.toJSON().split("T")[0];u.a.get(s.props.APIHost+"/getUserJournal/?reqDate="+n,a).then((function(e){e.data.length>0?(console.log("obtained a journal entry"),e.data[0].hasAI&&(console.log("Saved to the storage"),O.a.set("testData",e.data[0].AIresult),s.loadTestData()),s.setState({messages:"Showing Journal Entry for: "+s.state.currentDate.toString(),journalDisp:e.data[0].content})):(console.log("No entry for that day"),s.setState({messages:"No entry for that day",journalDisp:""}))})).catch((function(e){401===e.response.status&&(s.props.forceLogout(),s.props.history.push(s.props.reRouteTarget))}))}},s.forceCalenderUpdateTest=function(){},s.state={messages:"Waiting for user input...",journalData:"",currentDate:new Date,validJournalDates:[],validJournalScanDates:[],dataCategories:L([0],[""]),optionsCategories:{scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}]}},dataConcepts:I([0],[""]),optionsConcepts:{scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}]}},dataEntities:[],dataKeywords:[],dataRelations:[],dataEmotion:E([0]),optionsEmotions:{scale:{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}},dataSentiment:R([0]),optionsSentiment:{cutoutPercentage:50}},s.onChange=function(e){return s.setState({editorState:e})},s.setEditor=function(e){s.editor=e},s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.loadFromCookies()||this.getJournalDates()}},{key:"render",value:function(){var e,t=this,a=[];if(this.state.dataEntities.length>0)for(e in this.state.dataEntities){var n=this.state.dataEntities[e],r=E(n.emotion),c=R(n.sentiment);a.push(Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"row",children:n.text}),Object(s.jsx)("td",{children:n.type}),Object(s.jsx)("td",{children:n.count}),Object(s.jsx)("td",{children:n.relevance}),Object(s.jsxs)("td",{children:[" ",Object(s.jsx)(A.Radar,{ref:this.chartReference,data:r,options:this.state.optionsEmotions})," "]}),Object(s.jsxs)("td",{children:[" ",Object(s.jsx)(A.Doughnut,{ref:this.chartReference,data:c,options:this.state.optionsSentiment})," "]})]},n.id))}var o=[];if(this.state.dataKeywords.length>0)for(e in this.state.dataKeywords){var i=this.state.dataKeywords[e],l=E(i.emotion),d=R(i.sentiment);o.push(Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"row",children:i.text}),Object(s.jsx)("td",{children:i.count}),Object(s.jsx)("td",{children:Object(s.jsx)(A.Radar,{ref:this.chartReference,data:l,options:this.state.optionsEmotions})}),Object(s.jsx)("td",{children:Object(s.jsx)(A.Doughnut,{ref:this.chartReference,data:d,options:this.state.optionsSentiment})})]},i.id))}var h=[];if(this.state.dataRelations.length>0)for(e in this.state.dataRelations){var m=this.state.dataRelations[e];h.push(Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"row",children:m.init}),Object(s.jsx)("td",{children:m.action}),Object(s.jsx)("td",{children:m.target}),Object(s.jsx)("td",{children:m.score})]},m.id))}return Object(s.jsx)("div",{className:"mainView",children:Object(s.jsxs)("div",{className:"container",children:[Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-sm-3 m-2",children:Object(s.jsx)("button",{className:"btn btn-primary",onClick:this.backButton,children:"Go Back"})}),Object(s.jsx)("div",{className:"col-sm m-2",children:"Page Title Test!"})]}),Object(s.jsxs)("div",{className:"row ",children:[Object(s.jsx)("div",{className:"col-lg-3 border m-2",children:Object(s.jsx)("div",{children:Object(s.jsx)(T.a,{onChange:this.pickDate,value:this.state.currentDate,tileClassName:function(e){var a=e.date;if("month"===e.view){var s=a.getFullYear()+"-"+a.getMonth()+"-"+a.getDate(),n=t.state.validJournalDates.find((function(e){return e===s}));if(t.state.validJournalScanDates.find((function(e){return e===s})))return"btn btn-success";if(n)return"btn btn-warning"}},minDetail:"year",maxDetail:"month"})})}),Object(s.jsx)("div",{className:"col border m-2",children:Object(s.jsx)("div",{className:"row my-2",children:Object(s.jsxs)("div",{className:"col",children:[Object(s.jsx)("p",{children:this.state.messages}),Object(s.jsx)("p",{children:this.state.journalDisp})]})})})]}),Object(s.jsx)("div",{className:"row my-2",children:Object(s.jsxs)("div",{className:"col-lg-2",children:[Object(s.jsx)("p",{children:" Debug! "}),Object(s.jsx)("button",{onClick:this.loadTestData,children:" Load Stored AI Data "}),Object(s.jsx)("button",{onClick:this.getJournalDates,children:" Force Dates Update "})]})}),Object(s.jsxs)("div",{className:"row my-2",children:[Object(s.jsx)("div",{className:"col border mx-2",children:Object(s.jsx)(A.Radar,{ref:this.chartReference,data:this.state.dataEmotion,options:this.state.optionsEmotions})}),Object(s.jsx)("div",{className:"col border mx-2",children:Object(s.jsx)(A.Doughnut,{ref:this.chartReference,data:this.state.dataSentiment,options:this.state.optionsSentiment})})]}),Object(s.jsxs)("div",{className:"row  my-2",children:[Object(s.jsx)("div",{className:"col border mx-2",children:Object(s.jsx)(A.Bar,{ref:this.chartReference,data:this.state.dataCategories,options:this.state.optionsCategories})}),Object(s.jsx)("div",{className:"col border mx-2",children:Object(s.jsx)(A.Bar,{ref:this.chartReference,data:this.state.dataConcepts,options:this.state.optionsConcepts})})]}),Object(s.jsx)("div",{className:"row my-2",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("h3",{children:"Entities!"})})}),Object(s.jsxs)("table",{className:"table",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"col",children:"Name"}),Object(s.jsx)("th",{scope:"col",children:"Type"}),Object(s.jsx)("th",{scope:"col",children:"#Appearances"}),Object(s.jsx)("th",{scope:"col",children:"Relevance Score"}),Object(s.jsx)("th",{scope:"col",children:"Emotion"}),Object(s.jsx)("th",{scope:"col",children:"Sentiment"})]})}),Object(s.jsx)("tbody",{children:a})]}),Object(s.jsx)("div",{className:"row my-2",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("h3",{children:"Keywords!"})})}),Object(s.jsxs)("table",{className:"table",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"col",children:"Word"}),Object(s.jsx)("th",{scope:"col",children:"#Appearances"}),Object(s.jsx)("th",{scope:"col",children:"Emotion"}),Object(s.jsx)("th",{scope:"col",children:"Sentiment"})]})}),Object(s.jsx)("tbody",{children:o})]}),Object(s.jsx)("div",{className:"row my-2",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("h3",{children:"Relations!"})})}),Object(s.jsxs)("table",{className:"table",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"col",children:"Thing"}),Object(s.jsx)("th",{scope:"col",children:"Action"}),Object(s.jsx)("th",{scope:"col",children:"Target"}),Object(s.jsx)("th",{scope:"col",children:"Score"})]})}),Object(s.jsx)("tbody",{children:h})]}),Object(s.jsx)("div",{className:"row  my-2",children:Object(s.jsx)("p",{children:"PADDING"})})]})})}}]),a}(r.a.Component),V=Object(j.f)(F),H=a(29),G={editor:{border:"1px solid gray",minHeight:"6em"}},J=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).onToggle=function(t){t.preventDefault(),e.props.onToggle(e.props.style)},e}return Object(l.a)(a,[{key:"render",value:function(){var e="btn btn-outline-primary";return this.props.active&&(e+=" active"),Object(s.jsx)("button",{className:e,onClick:this.onToggle,children:this.props.label})}}]),a}(r.a.Component),B=[{label:"H1",style:"header-one"},{label:"H2",style:"header-two"},{label:"H3",style:"header-three"},{label:"H4",style:"header-four"},{label:"H5",style:"header-five"},{label:"H6",style:"header-six"},{label:"UL",style:"unordered-list-item"},{label:"OL",style:"ordered-list-item"}],W=function(e){var t=e.editorState,a=t.getSelection(),n=t.getCurrentContent().getBlockForKey(a.getStartKey()).getType();return Object(s.jsx)("div",{className:"RichEditor-controls",children:B.map((function(t){return Object(s.jsx)(J,{active:t.style===n,label:t.label,onToggle:e.onToggle,style:t.style},t.label)}))})},K=[{label:"Bold",style:"BOLD"},{label:"Italic",style:"ITALIC"},{label:"Underline",style:"UNDERLINE"}],Z=function(e){var t=e.editorState.getCurrentInlineStyle();return Object(s.jsx)("div",{className:"RichEditor-controls",children:K.map((function(a){return Object(s.jsx)(J,{active:t.has(a.style),label:a.label,onToggle:e.onToggle,style:a.style},a.label)}))})},Y=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var s;Object(i.a)(this,a),(s=t.call(this,e)).backButton=function(){s.props.history.goBack()},s.saveJournal=function(){var e=Math.random().toString(16).substr(2,8),t={headers:{Authorization:"JWT ".concat(s.props.authToken)}},a={shorthand:"made from the website: "+e,author:"",createdDate:s.state.currentDate.toJSON().split("T")[0],content:s.state.editorState.getCurrentContent().getPlainText()};u.a.post(s.props.APIHost+"/saveUserJournal/",a,t).then((function(e){console.log(e),console.log("Success")})).catch((function(e){401===e.response.status&&(s.props.forceLogout(),s.props.history.push(s.props.reRouteTarget))}))},s.loadToday=function(){var e=Object(H.convertFromRaw)(O.a.get("TodayTest"));s.setState({editorState:H.EditorState.createWithContent(e)})},s.cookieToday=function(){O.a.set("TodayTest",Object(H.convertToRaw)(s.state.editorState.getCurrentContent()))},s.onBoldClick=function(){s.onChange(H.RichUtils.toggleInlineStyle(s.state.editorState,"BOLD"))},s.toggleBlockType=function(e){s.onChange(H.RichUtils.toggleBlockType(s.state.editorState,e))},s.toggleInlineStyle=function(e){s.onChange(H.RichUtils.toggleInlineStyle(s.state.editorState,e))},s.handleKeyCommand=function(e,t){var a=H.RichUtils.handleKeyCommand(t,e);return a?(s.onChange(a),"handled"):"not-handled"};var n=new Date;return s.state={currentDate:n,messages:"Creating journal for: "+n.toJSON().split("T")[0],editorState:H.EditorState.createEmpty(),journalPlaceolder:""},s.onChange=function(e){s.setState({editorState:e})},s.setEditor=function(e){s.editor=e},s}return Object(l.a)(a,[{key:"render",value:function(){return Object(s.jsx)("div",{className:"makeView",children:Object(s.jsxs)("div",{className:"container",children:[Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-sm-3 m-2",children:Object(s.jsx)("button",{className:"btn btn-primary",onClick:this.backButton,children:"Go Back"})}),Object(s.jsx)("div",{className:"col-sm m-2",children:"Page Title Test!"})]}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:this.state.messages})}),Object(s.jsx)("div",{className:"row",children:Object(s.jsxs)("div",{className:"col border mx-2 my-2",children:[Object(s.jsx)(W,{editorState:this.state.editorState,onToggle:this.toggleBlockType}),Object(s.jsx)(Z,{editorState:this.state.editorState,onToggle:this.toggleInlineStyle}),Object(s.jsx)("div",{style:G.editor,children:Object(s.jsx)(H.Editor,{ref:this.setEditor,editorState:this.state.editorState,onChange:this.onChange,handleKeyCommand:this.handleKeyCommand,placeholder:this.state.journalPlaceolder})}),Object(s.jsx)("button",{className:"btn btn-outline-primary",onClick:this.saveJournal,children:" Save current Journal entry "}),Object(s.jsx)("button",{className:"btn btn-outline-primary",onClick:this.loadToday,children:" Load Today's Data "}),Object(s.jsx)("button",{className:"btn btn-outline-primary",onClick:this.cookieToday,children:" Cookie Today's Data "})]})})]})})}}]),a}(r.a.Component),z=Object(j.f)(Y),q=a(384),_=a(385),Q=a(386),X=[{name:"Emotion",value:"emotion"},{name:"Sentiment",value:"sentiment"},{name:"Entities",value:"entities"},{name:"Keywords",value:"keywords"}],$=[{name:"Monday",value:"mon"},{name:"Tuesday",value:"tue"},{name:"Wednesday",value:"wed"},{name:"Thursday",value:"thu"},{name:"Friday",value:"fri"},{name:"Saturday",value:"sat"},{name:"Sunday",value:"sun"},{name:"All",value:"allDay"}],ee=function(e){return[e.joy,e.anger,e.sadness,e.disgust,e.fear]},te=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).loadCompanyData=function(){s.getCookiesListData()||s.getCompanyList()},s.loadDatesData=function(){s.getCookiesValidDates()||s.getValidDates()},s.flushCookies=function(){O.a.remove(s.props.currentUser+"-companyList"),O.a.remove(s.props.currentUser+"-"+s.state.currentCompany+"-ValidDates")},s.backButton=function(){s.props.history.goBack()},s.selectPrompt=function(e){s.setState({selectedPrompt:e.currentTarget.value})},s.selectAI=function(e){s.setState({selectedAspect:e.currentTarget.value})},s.selectDay=function(e){s.setState({seletedDay:e.currentTarget.value})},s.getCompanyList=function(){var e={headers:{Authorization:"JWT ".concat(s.props.authToken)}};u.a.get(s.props.APIHost+"/getUsersCompanies",e).then((function(e){if(e.data.length>0){console.log("Got the list of companies");var t,a=[];for(t in e.data[0].companyOwner){var n=e.data[0].companyOwner[t];a.includes(n)||a.push(n)}for(t in e.data[0].companyAllowsView){var r=e.data[0].companyAllowsView[t];a.includes(r)||a.push(r)}for(t in e.data[0].companySendsTo){var c=e.data[0].companySendsTo[t];a.includes(c)||a.push(c)}O.a.set(s.props.currentUser+"-companyList",{theList:a}),s.setState({companyList:a})}})).catch((function(e){401===e.response.status&&(s.props.forceLogout(),s.props.history.push(s.props.reRouteTarget))}))},s.getCookiesListData=function(){var e=O.a.get(s.props.currentUser+"-companyList");try{return s.setState({companyList:e.theList}),!0}catch(t){return console.log("Not in the cookies"),!1}},s.getValidDates=function(){if("None"===s.state.currentCompany)return console.log("Select Valid Company!"),!1;var e={headers:{Authorization:"JWT ".concat(s.props.authToken)}};u.a.get(s.props.APIHost+"/getCompanyWeekDates?reComp="+s.state.currentCompany,e).then((function(e){var t=[];console.log("Got Valid Dates!"),O.a.remove(s.props.currentUser+"-"+s.state.currentCompany+"-ValidDates");var a="";for(a in e.data){var n=new Date(e.data[a].forDate),r=0;e.data[a].hasMon&&t.push(r=n.getFullYear()+"-"+n.getMonth()+"-"+(n.getDate()+1)),e.data[a].hasTue&&t.push(r=n.getFullYear()+"-"+n.getMonth()+"-"+(n.getDate()+2)),e.data[a].hasWed&&t.push(r=n.getFullYear()+"-"+n.getMonth()+"-"+(n.getDate()+3)),e.data[a].hasThu&&t.push(r=n.getFullYear()+"-"+n.getMonth()+"-"+(n.getDate()+4)),e.data[a].hasFri&&t.push(r=n.getFullYear()+"-"+n.getMonth()+"-"+(n.getDate()+5)),e.data[a].hasSat&&t.push(r=n.getFullYear()+"-"+n.getMonth()+"-"+(n.getDate()+6)),e.data[a].hasSun&&t.push(r=n.getFullYear()+"-"+n.getMonth()+"-"+(n.getDate()+7)),t.push(r)}O.a.set(s.props.currentUser+"-"+s.state.currentCompany+"-ValidDates",{dates:t}),s.setState({validSummaryDates:t})})).catch((function(e){401===e.response.status&&(s.props.forceLogout(),s.props.history.push(s.props.reRouteTarget))}))},s.getCookiesValidDates=function(){var e=O.a.get(s.props.currentUser+"-"+s.state.currentCompany+"-ValidDates");try{return s.setState({validSummaryDates:e.dates}),!0}catch(t){return console.log("Not in the cookies"),!1}},s.pickDate=function(e){var t=e.getDay()-1;t<0&&(t=6);var a=new Date(e.getTime());a.setDate(a.getDate()-t);var n=a.toJSON().split("T")[0];if(s.setState({currentDate:e,seletedDay:$[t].value}),s.state.dataDate!==n||s.state.dataCompany!==s.state.currentCompany){if("None"===s.state.currentCompany)return console.log("Select Valid Company!"),!1;console.log("requesting date");var r={headers:{Authorization:"JWT ".concat(s.props.authToken)}};u.a.get(s.props.APIHost+"/getCompanyWeekSummary/?reqDate="+n+"&reComp="+s.state.currentCompany,r).then((function(e){if(e.data.length>0){console.log("obtained a company summary");var t={mon:e.data[0].monResult,tue:e.data[0].tueResult,wed:e.data[0].wedResult,thu:e.data[0].thuResult,fri:e.data[0].friResult,sat:e.data[0].satResult,sun:e.data[0].sunResult,allDay:e.data[0].summaryResult};s.setState({dataSet:t,messages:"Displaying entry for week of: "+n})}else console.log("No entry for that day"),s.setState({messages:"No entry for that day"})})).catch((function(e){401===e.response.status&&(s.props.forceLogout(),s.props.history.push(s.props.reRouteTarget))}))}},s.setCurrentCompany=function(e){s.setState({dropMessage:e.target.value,currentCompany:e.target.value},s.loadDatesData)},s.state={selectedPrompt:"p1",selectedAspect:"emotion",seletedDay:"mon",currentDate:new Date,validSummaryDates:[],dropMessage:"Select Company=>",companyList:[],currentCompany:"None",dataCompany:void 0,dataDate:void 0,dataSet:{mon:{},tue:{},wed:{},thu:{},fri:{},sat:{},sun:{},allDay:{}},messages:"Waiting for Summary Weekday Selection..."},s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.loadCompanyData()}},{key:"render",value:function(){var e,t,a,n,r=this,c=[],o=this.state.selectedPrompt,i=this.state.seletedDay,l=this.state.selectedAspect,d=[],h=this.state.dataSet[i],m=[],j="not valid prompt";if(null!==h&&void 0!==h){var b;for(b in h)void 0!==h[b].name&&d.push({name:h[b].name,value:b});if(0===d.length&&(d=[{name:"No Prompts",value:"None"}]),o in h){j=h[o].name;var u=h[o].data[l],p=h[o].responsePurity;switch(m.push(Object(s.jsx)("div",{className:"row m-2",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("div",{className:"progressBar",children:Object(s.jsx)(Q.a,{now:p,label:"".concat(p,"% Response Rate")})})})},"1")),l){case"emotion":var g=ee(u.max),v=ee(u.ave),x=ee(u.min),O=U(g,v,x),f={scale:{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}},y=ee(u.threshold),N={labels:["Joy","Anger","Sadness","Disgust","Fear"],datasets:[{label:"# Above Threshold",data:y,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]},C={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}]}};m.push(Object(s.jsxs)("div",{className:"row m-2",children:[Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:"Averages + Max and min?"}),Object(s.jsx)("div",{className:"card-body",children:Object(s.jsx)(A.Radar,{ref:this.chartReference,data:O,options:f})})]})}),Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:'"How many have hit this threshold"?'}),Object(s.jsx)("div",{className:"card-body",children:Object(s.jsx)(A.Bar,{ref:this.chartReference,data:N,options:C})})]})})]},"2"));break;case"sentiment":var k=M([u.min],[u.ave],[u.max]),w={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:-1,suggestedMax:1}}],xAxes:[{}]}},S=function(e){return{labels:["Positive","Negative"],datasets:[{label:"# Above Threshold",data:e,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]}}([u.thresholdPos,u.thresholdNeg]),D={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}]}};m.push(Object(s.jsxs)("div",{className:"row m-2",children:[Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:"Sentiment Values"}),Object(s.jsx)("div",{className:"card-body",children:Object(s.jsx)(A.Bar,{ref:this.chartReference,data:k,options:w})})]})}),Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:'"How many have hit this threshold"?'}),Object(s.jsx)("div",{className:"card-body",children:Object(s.jsx)(A.Bar,{ref:this.chartReference,data:S,options:D})})]})})]},"2"));break;case"entities":for(e in u){var E=u[e],R=ee(E.emotion.max),I=ee(E.emotion.ave),L=ee(E.emotion.min),F=U(R,I,L),V={scale:{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}},H=(t=[E.confidence.min,E.relevance.min,E.sentiment.min],a=[E.confidence.ave,E.relevance.ave,E.sentiment.ave],n=[E.confidence.max,E.relevance.max,E.sentiment.max],{labels:["Confidence","Relevance","Sentiment"],datasets:[{label:"Minimum",data:t,backgroundColor:"rgb(255, 99, 132)"},{label:"Average",data:a,backgroundColor:"rgb(54, 162, 235)"},{label:"Maximum",data:n,backgroundColor:"rgb(75, 192, 192)"}]}),G={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:-1,suggestedMax:1}}],xAxes:[{}]}};c.push(Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"row",children:E.text}),Object(s.jsx)("td",{children:E.type}),Object(s.jsx)("td",{children:E.count}),Object(s.jsx)("td",{colSpan:"3",children:Object(s.jsx)(A.Bar,{ref:this.chartReference,data:H,options:G})}),Object(s.jsx)("td",{children:Object(s.jsx)(A.Radar,{ref:this.chartReference,data:F,options:V})})]},e))}m.push(Object(s.jsxs)("table",{className:"table",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"col",children:"Name"}),Object(s.jsx)("th",{scope:"col",children:"Type"}),Object(s.jsx)("th",{scope:"col",children:"#Appearances"}),Object(s.jsx)("th",{scope:"col",children:"Confidence"}),Object(s.jsx)("th",{scope:"col",children:"Relevance"}),Object(s.jsx)("th",{scope:"col",children:"Sentiment"}),Object(s.jsx)("th",{scope:"col",children:"Emotion"})]})}),Object(s.jsx)("tbody",{children:c})]},"2"));break;case"keywords":for(e in u){var J=u[e],B=ee(J.emotion.max),W=ee(J.emotion.ave),K=ee(J.emotion.min),Z=U(B,W,K),Y={scale:{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}},z=P([J.relevance.min,J.sentiment.min],[J.relevance.ave,J.sentiment.ave],[J.relevance.max,J.sentiment.max]),te={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:-1,suggestedMax:1}}],xAxes:[{}]}};c.push(Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"row",children:J.text}),Object(s.jsx)("td",{children:J.count}),Object(s.jsx)("td",{colSpan:"2",children:Object(s.jsx)(A.Bar,{ref:this.chartReference,data:z,options:te})}),Object(s.jsx)("td",{children:Object(s.jsx)(A.Radar,{ref:this.chartReference,data:Z,options:Y})})]},e))}m.push(Object(s.jsxs)("table",{className:"table",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"col",children:"Name"}),Object(s.jsx)("th",{scope:"col",children:"#Appearances"}),Object(s.jsx)("th",{scope:"col",children:"Relevance Score"}),Object(s.jsx)("th",{scope:"col",children:"Sentiment"}),Object(s.jsx)("th",{scope:"col",children:"Emotion"})]})}),Object(s.jsx)("tbody",{children:c})]},"2"));break;case"relations":for(e in u){var ae=u[e],se=M([ae.score.min],[ae.score.ave],[ae.score.max]),ne={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}]}};c.push(Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"row",children:ae.count}),Object(s.jsx)("td",{children:ae.arguments[0].text}),Object(s.jsx)("td",{children:ae.type}),Object(s.jsx)("td",{children:ae.arguments[1].text}),Object(s.jsx)("td",{style:{width:"30%"},children:Object(s.jsx)(A.Bar,{ref:this.chartReference,data:se,options:ne})})]},e))}m.push(Object(s.jsxs)("table",{className:"table",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"col",children:"#Appearances"}),Object(s.jsx)("th",{scope:"col",children:"Actor"}),Object(s.jsx)("th",{scope:"col",children:"Action"}),Object(s.jsx)("th",{scope:"col",children:"Target"}),Object(s.jsx)("th",{scope:"col",children:"Score"})]})}),Object(s.jsx)("tbody",{children:c})]},"2"));break;default:console.log("Invalid AI selection somehow")}}}else d=[{name:"No Prompts",value:"None"}];var re=[];for(e in this.state.companyList){var ce=this.state.companyList[e];re.push(Object(s.jsx)("button",{className:"dropdown-item",onClick:this.setCurrentCompany,value:ce,children:ce},e))}return Object(s.jsx)("div",{className:"companyView",children:Object(s.jsxs)("div",{className:"container",children:[Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-sm-3 m-2",children:Object(s.jsx)("button",{className:"btn btn-primary",onClick:this.backButton,children:"Go Back"})}),Object(s.jsx)("div",{className:"col-sm m-2",children:"Page Title Test!"})]}),Object(s.jsxs)("div",{className:"row m-2",children:[Object(s.jsx)("div",{className:"col-lg-3 border m-2",children:Object(s.jsx)("div",{children:Object(s.jsx)(T.a,{onChange:this.pickDate,value:this.state.currentDate,tileClassName:function(e){var t=e.date;if("month"===e.view){var a=t.getFullYear()+"-"+t.getMonth()+"-"+t.getDate();if(r.state.validSummaryDates.find((function(e){return e===a})))return"btn btn-success"}},minDetail:"year",maxDetail:"month"})})}),Object(s.jsxs)("div",{className:"col border m-2",children:[Object(s.jsxs)("div",{className:"row m-2",children:[Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"dropdown",children:[Object(s.jsx)("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:this.state.dropMessage}),Object(s.jsx)("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton",children:re})]})}),Object(s.jsxs)("div",{className:"col",children:[Object(s.jsx)("button",{className:"btn btn-outline-danger",onClick:this.loadCompanyData,children:" Reload Company Data "}),Object(s.jsx)("button",{className:"btn btn-outline-danger",onClick:this.loadDatesData,children:" Reload Dates "}),Object(s.jsx)("button",{className:"btn btn-outline-danger",onClick:this.flushCookies,children:" Flush Cookie Data "})]})]}),Object(s.jsx)("div",{className:"row m-2",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("p",{children:this.state.messages})})}),Object(s.jsx)("div",{className:"row m-2",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)(q.a,{toggle:!0,children:$.map((function(e,t){return Object(s.jsx)(_.a,{type:"radio",variant:"secondary",name:"radio",value:e.value,checked:r.state.seletedDay===e.value,onChange:r.selectDay,children:e.name},t)}))})})}),Object(s.jsx)("div",{className:"row m-2",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)(q.a,{toggle:!0,children:d.map((function(e,t){return Object(s.jsx)(_.a,{type:"radio",variant:"primary",name:"radio",value:e.value,checked:r.state.selectedPrompt===e.value,onChange:r.selectPrompt,children:e.name},t)}))})})}),Object(s.jsx)("div",{className:"row m-2",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)(q.a,{toggle:!0,children:X.map((function(e,t){return Object(s.jsx)(_.a,{type:"radio",variant:"info",name:"radio",value:e.value,checked:r.state.selectedAspect===e.value,onChange:r.selectAI,children:e.name},t)}))})})})]})]}),Object(s.jsx)("div",{className:"row m-2",children:Object(s.jsxs)("div",{className:"col",children:["Showing Data for prompt: ",j]})}),m,Object(s.jsx)("div",{className:"row  my-2",children:Object(s.jsx)("p",{})})]})})}}]),a}(r.a.Component),ae=Object(j.f)(te),se=["Public","Private"],ne=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var s;Object(i.a)(this,a),(s=t.call(this,e)).backButton=function(){s.props.history.goBack()},s.postNewCompanyData=function(){if("None"===s.state.currentCompany)return console.log("No company selected"),!1;var e={headers:{Authorization:"JWT ".concat(s.props.authToken)}},t={companyName:s.state.currentCompany,companyReName:s.state.dataCompanyName,summaryViewAccess:s.state.dataCompanyPriv,resultsSendTargets:s.state.dataCompanySendTo,privateViewingPerms:s.state.dataCompanyViewing,governedUsers:s.state.dataCompanyGoverned};u.a.post(s.props.APIHost+"/postCompanyData/",t,e).then((function(e){console.log("Success"),s.setState({dataCompanySendToDeleted:[],dataCompanyViewingDeleted:[],dataCompanyGovernedDeleted:[]})})).catch((function(e){401===e.response.status&&(s.props.forceLogout(),s.props.history.push(s.props.reRouteTarget))}))},s.getCompanyList=function(){var e={headers:{Authorization:"JWT ".concat(s.props.authToken)}};u.a.get(s.props.APIHost+"/getUsersCompanies",e).then((function(e){if(e.data.length>0){console.log("Got the list of companies");var t,a=[];for(t in e.data[0].companyOwner){var n=e.data[0].companyOwner[t];a.includes(n)||a.push(n)}s.setState({companyList:a})}})).catch((function(e){401===e.response.status&&(s.props.forceLogout(),s.props.history.push(s.props.reRouteTarget))}))},s.getCompanyData=function(e){var t={headers:{Authorization:"JWT ".concat(s.props.authToken)}};u.a.get(s.props.APIHost+"/getCompanyData?reqComp="+e,t).then((function(e){e.data.length>0&&(console.log("Got the company data!"),s.setState({dataCompanyName:e.data[0].companyName,dataCompanyPriv:se[e.data[0].summaryViewAccess],dataCompanySendTo:e.data[0].resultsSendTargets,dataCompanyViewing:e.data[0].privateViewingPerms,dataCompanyGoverned:e.data[0].governedUsers}))})).catch((function(e){console.log(e),401===e.response.status&&(s.props.forceLogout(),s.props.history.push(s.props.reRouteTarget))}))},s.sendChange=function(e){s.setState({searchSend:e.target.value})},s.viewChange=function(e){s.setState({searchView:e.target.value})},s.govChange=function(e){s.setState({searchGov:e.target.value})},s.emailFieldChange=function(e){s.setState({addingEmail:e.target.value})},s.triggerCompanySwap=function(e){s.setState({dropMessage:e.target.value,currentCompany:e.target.value}),s.getCompanyData(e.target.value)},s.triggerModal=function(e){s.setState({clickedList:e.target.parentElement.parentElement.id,clickedIndex:e.target.parentElement.id})},s.triggerStopAdd=function(e){var t=[];"sendUsers"===e.target.parentElement.parentElement.id?((t=s.state.dataCompanySendToAdded).splice(e.target.parentElement.id,1),s.setState({dataCompanySendToAdded:t})):"viewUsers"===e.target.parentElement.parentElement.id?((t=s.state.dataCompanyViewingAdded).splice(e.target.parentElement.id,1),s.setState({dataCompanyViewingAdded:t})):"govUsers"===e.target.parentElement.parentElement.id&&((t=s.state.dataCompanyGovernedAdded).splice(e.target.parentElement.id,1),s.setState({dataCompanyGovernedAdded:t}))},s.triggerReAdd=function(e){var t=[];if("sendUsers"===e.target.parentElement.parentElement.id){t=s.state.dataCompanySendToDeleted;var a=s.state.dataCompanySendTo;a.push(t.splice(e.target.parentElement.id,1)[0]),s.setState({dataCompanySendTo:a,dataCompanySendToDeleted:t})}else if("viewUsers"===e.target.parentElement.parentElement.id){t=s.state.dataCompanyViewingDeleted;var n=s.state.dataCompanyViewing;n.push(t.splice(e.target.parentElement.id,1)[0]),s.setState({dataCompanyViewing:n,dataCompanyViewingDeleted:t})}else if("govUsers"===e.target.parentElement.parentElement.id){t=s.state.dataCompanyGovernedDeleted;var r=s.state.dataCompanyGoverned;r.push(t.splice(e.target.parentElement.id,1)[0]),s.setState({dataCompanyGoverned:r,dataCompanyGovernedDeleted:t})}},s.modelAddEmail=function(e){var t=[];"sendUsers"===s.state.clickedIndex?((t=s.state.dataCompanySendToAdded).push(s.state.addingEmail),s.setState({dataCompanySendToAdded:t})):"viewUsers"===s.state.clickedIndex?((t=s.state.dataCompanyViewingAdded).push(s.state.addingEmail),s.setState({dataCompanyViewingAdded:t})):"govUsers"===s.state.clickedIndex&&((t=s.state.dataCompanyGovernedAdded).push(s.state.addingEmail),s.setState({dataCompanyGovernedAdded:t})),s.setState({addingEmail:""})},s.modelAcceptDelete=function(e){var t=[];if("sendUsers"===s.state.clickedList){t=s.state.dataCompanySendTo;var a=s.state.dataCompanySendToDeleted;a.push(t.splice(s.state.clickedIndex,1)[0]),s.setState({dataCompanySendTo:t,dataCompanySendToDeleted:a})}else if("viewUsers"===s.state.clickedList){t=s.state.dataCompanyViewing;var n=s.state.dataCompanyViewingDeleted;n.push(t.splice(s.state.clickedIndex,1)[0]),s.setState({dataCompanyViewing:t,dataCompanyViewingDeleted:n})}else if("govUsers"===s.state.clickedList){t=s.state.dataCompanyGoverned;var r=s.state.dataCompanyGovernedDeleted;r.push(t.splice(s.state.clickedIndex,1)[0]),s.setState({dataCompanyGoverned:t,dataCompanyGovernedDeleted:r})}};var n=new Date;return s.state={currentDate:n,messages:"Hello, there is nothing yet here...",dropMessage:"Select Company=>",currentCompany:"None",companyList:[],dataCompanyName:"No Company Selected",dataCompanyPriv:"No Company Selected",dataCompanySendTo:[],dataCompanyViewing:[],dataCompanyGoverned:[],dataCompanySendToAdded:[],dataCompanyViewingAdded:[],dataCompanyGovernedAdded:[],dataCompanySendToDeleted:[],dataCompanyViewingDeleted:[],dataCompanyGovernedDeleted:[],searchSend:"",searchView:"",searchGov:"",addingEmail:"",clickedList:"",clickedIndex:-1},s}return Object(l.a)(a,[{key:"render",value:function(){var e,t=[];for(e in this.state.companyList){var a=this.state.companyList[e];t.push(Object(s.jsx)("button",{className:"dropdown-item",onClick:this.triggerCompanySwap,value:a,children:a},e))}var n=[];for(e in this.state.dataCompanySendTo){var r=this.state.dataCompanySendTo[e];void 0!==r&&r.indexOf(this.state.searchSend)>-1&&n.push(Object(s.jsxs)("li",{id:e,className:"list-group-item d-flex justify-content-between align-items-center",children:[r,Object(s.jsx)("button",{className:"btn btn-sm btn-outline-danger","data-toggle":"modal",onClick:this.triggerModal,"data-target":"#deleteConfirm",children:"x"})]},e))}var c=[];for(e in this.state.dataCompanySendToAdded){var o=this.state.dataCompanySendToAdded[e];c.push(Object(s.jsxs)("li",{id:e,className:"list-group-item d-flex justify-content-between align-items-center",children:[o,Object(s.jsx)("button",{className:"btn btn-sm btn-outline-danger",onClick:this.triggerStopAdd,children:"x"})]},e))}var i=[];for(e in this.state.dataCompanySendToDeleted){var l=this.state.dataCompanySendToDeleted[e];i.push(Object(s.jsxs)("li",{id:e,className:"list-group-item d-flex justify-content-between align-items-center",children:[l,Object(s.jsx)("button",{className:"btn btn-sm btn-outline-success",onClick:this.triggerReAdd,children:"+"})]},e))}var d=[];for(e in this.state.dataCompanyViewing){var h=this.state.dataCompanyViewing[e];h.indexOf(this.state.searchView)>-1&&d.push(Object(s.jsxs)("li",{id:e,className:"list-group-item d-flex justify-content-between align-items-center",children:[h,Object(s.jsx)("button",{className:"btn btn-sm btn-outline-danger","data-toggle":"modal",onClick:this.triggerModal,"data-target":"#deleteConfirm",children:"x"})]},e))}var m=[];for(e in this.state.dataCompanyViewingAdded){var j=this.state.dataCompanyViewingAdded[e];m.push(Object(s.jsxs)("li",{id:e,className:"list-group-item d-flex justify-content-between align-items-center",children:[j,Object(s.jsx)("button",{className:"btn btn-sm btn-outline-danger",onClick:this.triggerStopAdd,children:"x"})]},e))}var b=[];for(e in this.state.dataCompanyViewingDeleted){var u=this.state.dataCompanyViewingDeleted[e];b.push(Object(s.jsxs)("li",{id:e,className:"list-group-item d-flex justify-content-between align-items-center",children:[u,Object(s.jsx)("button",{className:"btn btn-sm btn-outline-success",onClick:this.triggerReAdd,children:"+"})]},e))}var p=[];for(e in this.state.dataCompanyGoverned){var g=this.state.dataCompanyGoverned[e];g.indexOf(this.state.searchGov)>-1&&p.push(Object(s.jsxs)("li",{id:e,className:"list-group-item d-flex justify-content-between align-items-center",children:[g,Object(s.jsx)("button",{className:"btn btn-sm btn-outline-danger","data-toggle":"modal",onClick:this.triggerModal,"data-target":"#deleteConfirm",children:"x"})]},e))}var v=[];for(e in this.state.dataCompanyGovernedAdded){var x=this.state.dataCompanyGovernedAdded[e];v.push(Object(s.jsxs)("li",{id:e,className:"list-group-item d-flex justify-content-between align-items-center",children:[x,Object(s.jsx)("button",{className:"btn btn-sm btn-outline-danger",onClick:this.triggerStopAdd,children:"x"})]},e))}var O=[];for(e in this.state.dataCompanyGovernedDeleted){var f=this.state.dataCompanyGovernedDeleted[e];O.push(Object(s.jsxs)("li",{id:e,className:"list-group-item d-flex justify-content-between align-items-center",children:[f,Object(s.jsx)("button",{className:"btn btn-sm btn-outline-success",onClick:this.triggerReAdd,children:"+"})]},e))}var y="None";return"sendUsers"===this.state.clickedList?y=this.state.dataCompanySendTo[this.state.clickedIndex]:"viewUsers"===this.state.clickedList?y=this.state.dataCompanyViewing[this.state.clickedIndex]:"govUsers"===this.state.clickedList&&(y=this.state.dataCompanyGoverned[this.state.clickedIndex]),Object(s.jsxs)("div",{className:"companySett",children:[Object(s.jsxs)("div",{className:"container",children:[Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-sm-3 m-2",children:Object(s.jsx)("button",{className:"btn btn-primary",onClick:this.backButton,children:"Go Back"})}),Object(s.jsx)("div",{className:"col-sm m-2",children:"Page Title Test!"})]}),Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"dropdown",children:[Object(s.jsx)("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:this.state.dropMessage}),Object(s.jsx)("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton",children:t})]})}),Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("button",{onClick:this.getCompanyList,children:" Populate Company List "})})]}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("button",{children:[" onClick=",this.postNewCompanyData,">Save Changes"]})})}),Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsx)("p",{children:"Edit Company name"})}),Object(s.jsx)("div",{className:"card-body",children:Object(s.jsx)("p",{className:"card-text",children:this.state.dataCompanyName})})]})}),Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsx)("p",{children:"Private/Publix"})}),Object(s.jsx)("div",{className:"card-body",children:Object(s.jsx)("p",{className:"card-text",children:this.state.dataCompanyPriv})})]})})]}),Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsx)("p",{children:"Users Notified:"})}),Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsx)("input",{className:"form-control",id:"",type:"text",onChange:this.sendChange,placeholder:"Search..."}),Object(s.jsxs)("ul",{className:"card-text list-group",id:"sendUsers",children:[n,Object(s.jsx)("button",{type:"button",className:"list-group-item list-group-item-action active","data-toggle":"modal",onClick:this.triggerModal,"data-target":"#addNewUsers",children:"Add user +"}),Object(s.jsx)("li",{id:"remLabel",className:"list-group-item d-flex justify-content-between align-items-center",children:"Users To Remove:"},"rem"),i,Object(s.jsx)("li",{id:"addLabel",className:"list-group-item d-flex justify-content-between align-items-center",children:"Emails To Add:"},"add"),c]})]})]})}),Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsx)("p",{children:"Viewing Privilages:"})}),Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsx)("input",{className:"form-control",id:"",type:"text",onChange:this.viewChange,placeholder:"Search..."}),Object(s.jsxs)("ul",{className:"card-text list-group",id:"viewUsers",children:[d,Object(s.jsx)("button",{type:"button",className:"list-group-item list-group-item-action active","data-toggle":"modal",onClick:this.triggerModal,"data-target":"#addNewUsers",children:"Add user +"}),Object(s.jsx)("li",{id:"remLabel",className:"list-group-item d-flex justify-content-between align-items-center",children:"Users To Remove:"},"rem"),b,Object(s.jsx)("li",{id:"addLabel",className:"list-group-item d-flex justify-content-between align-items-center",children:"Emails To Add:"},"add"),m]})]})]})}),Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsx)("p",{children:"Target Users:"})}),Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsx)("input",{className:"form-control",id:"",type:"text",onChange:this.govChange,placeholder:"Search..."}),Object(s.jsxs)("ul",{className:"card-text list-group",id:"govUsers",children:[p,Object(s.jsx)("button",{type:"button",className:"list-group-item list-group-item-action active","data-toggle":"modal",onClick:this.triggerModal,"data-target":"#addNewUsers",children:"Add user +"}),Object(s.jsx)("li",{id:"remLabel",className:"list-group-item d-flex justify-content-between align-items-center",children:"Users To Remove:"},"rem"),O,Object(s.jsx)("li",{id:"addLabel",className:"list-group-item d-flex justify-content-between align-items-center",children:"Emails To Add:"},"add"),v]})]})]})})]})]}),Object(s.jsx)("div",{className:"modal fade",id:"deleteConfirm",tabIndex:"-1",role:"dialog","aria-labelledby":"deleteConfirmation","aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",id:"deleteTitleConfirm",children:"Delete Confirmation"}),Object(s.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(s.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(s.jsxs)("div",{className:"modal-body",children:["Are you SURE you want to delete user: ",y,"? They will be notified about this change."]}),Object(s.jsxs)("div",{className:"modal-footer",children:[Object(s.jsx)("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal",onClick:this.modelAcceptDelete,children:"Yes"}),Object(s.jsx)("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal",children:"No"})]})]})})}),Object(s.jsx)("div",{className:"modal fade",id:"addNewUsers",tabIndex:"-1",role:"dialog","aria-labelledby":"addNewUsersModal","aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",id:"deleteTitleConfirm",children:"Add New User"}),Object(s.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(s.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(s.jsx)("div",{className:"modal-body",children:"Enter the email of the target user"}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Email Address"}),Object(s.jsx)("input",{type:"email",className:"form-control",value:this.state.addingEmail,onChange:this.emailFieldChange,placeholder:"Enter email"})]}),Object(s.jsxs)("div",{className:"modal-footer",children:[Object(s.jsx)("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal",onClick:this.modelAddEmail,children:"Add"}),Object(s.jsx)("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal",children:"Cancel"})]})]})})})]})}}]),a}(r.a.Component),re=Object(j.f)(ne),ce=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).onToggle=function(t){t.preventDefault(),e.props.onToggle(e.props.value)},e}return Object(l.a)(a,[{key:"render",value:function(){var e="btn btn-outline-primary";return this.props.active&&(e+=" active"),Object(s.jsx)("button",{className:e,onClick:this.onToggle,children:this.props.label})}}]),a}(r.a.Component),oe=[{label:"Max",value:0,dayLength:0},{label:"1Year",value:1,dayLength:365},{label:"6Months",value:2,dayLength:183},{label:"3Months",value:3,dayLength:63},{label:"1Months",value:4,dayLength:31},{label:"1Week",value:5,dayLength:7}],ie=function(e){var t=e.graphState;return Object(s.jsx)("div",{className:"EHIControls",children:oe.map((function(a){return Object(s.jsx)(ce,{active:t===a.value,label:a.label,onToggle:e.onToggle,value:a.value},a.label)}))})},le=function(e){var t=e.timeIndex,a=e.ehiLabels,n=e.ehiData,r=oe[t].dayLength;0===r&&(r=a.length);var c=function(e,t){var a=[],s=0;for(s in t)a.push({label:t[s].label,data:t[s].data,fill:!1,backgroundColor:"rgb(99, 255, 132)",borderColor:"rgba(255, 132, 99, 0.2)"});return{labels:e,datasets:a}}(a.slice(-r),[{label:"EHI index",data:n.slice(-r)}]),o={scales:{yAxes:[{ticks:{beginAtZero:!0}}]}};return Object(s.jsxs)("div",{className:"EHIDisplay",children:[Object(s.jsxs)("div",{className:"row m-1",children:[Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:"Employee Health Index Test Graph..."}),Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsx)(A.Line,{height:150,data:c,options:o}),Object(s.jsx)(ie,{graphState:t,onToggle:e.onToggle})]})]})}),Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:"Other stuff!"}),Object(s.jsx)("div",{className:"card-body",children:"Its yaboi!"})]})})]}),Object(s.jsx)("div",{className:"row m-1",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:"Even more other stuff!"}),Object(s.jsx)("div",{className:"card-body",children:"Its yaboi!"})]})})}),Object(s.jsxs)("div",{className:"row m-1",children:[Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:"Other stuff!"}),Object(s.jsx)("div",{className:"card-body",children:"Its yaboi!"})]})}),Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:"More other stuff!"}),Object(s.jsx)("div",{className:"card-body",children:"Its yaboi!"})]})})]})]})},de=function(e){return Object(s.jsxs)("div",{className:"summaryView",children:[Object(s.jsxs)("div",{className:"row m-1",children:[Object(s.jsx)("div",{className:"col",children:Object(s.jsx)(T.a,{onChange:e.onPickDate,value:e.currentDate,tileClassName:function(e){e.date;if("month"===e.view){var t=Math.floor(7*Math.random());if(0===t)return"btn btn-success";if(1===t)return"btn btn-primary";if(2===t)return"btn btn-secondary";if(3===t)return"btn btn-danger";if(4===t)return"btn btn-warning";if(5===t)return"btn btn-info"}},minDetail:"year",maxDetail:"month"})}),Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:"More other stuff!"}),Object(s.jsx)("div",{className:"card-body",children:"Its yaboi!"})]})})]}),Object(s.jsx)("div",{className:"row m-1",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:"More other stuff!"}),Object(s.jsx)("div",{className:"card-body",children:"Its yaboi!"})]})})})]})},he=function(e){return Object(s.jsx)("div",{className:"suggestionView"})},me=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).backButton=function(){s.props.history.goBack()},s.changeEHIdates=function(e){s.setState({EHITimespan:e})},s.pickDate=function(e){console.log(e)},s.setCurrentCompany=function(e){s.setState({dropMessage:e.target.value,currentCompany:e.target.value},s.loadEHIData(e.target.value))},s.loadCompanyData=function(){s.getCookiesListData()||s.getServerCompanyList()},s.getCookiesListData=function(){var e=O.a.get(s.props.currentUser+"-companyList");try{return s.setState({companyList:e.theList}),console.log("List data was in the cookies"),!0}catch(t){return console.log("Not in the cookies"),!1}},s.getServerCompanyList=function(){var e={headers:{Authorization:"JWT ".concat(s.props.authToken)}};u.a.get(s.props.APIHost+"/getUsersCompanies",e).then((function(e){if(e.data.length>0){console.log("Got the list of companies");var t,a=[];for(t in e.data[0].companyOwner){var n=e.data[0].companyOwner[t];a.includes(n)||a.push(n)}for(t in e.data[0].companyAllowsView){var r=e.data[0].companyAllowsView[t];a.includes(r)||a.push(r)}for(t in e.data[0].companySendsTo){var c=e.data[0].companySendsTo[t];a.includes(c)||a.push(c)}O.a.set(s.props.currentUser+"-companyList",{theList:a}),s.setState({companyList:a})}})).catch((function(e){401===e.response.status&&(s.props.forceLogout(),s.props.history.push(s.props.reRouteTarget))}))},s.loadEHIData=function(e){s.getCookiesEHIData(e)||s.getServerEHIData(e)},s.getCookiesEHIData=function(e){var t=O.a.get("EHI-"+e);try{var a;for(a in t.days)console.log(a);return s.setState({dateLabels:[],EHISet:[]}),!0}catch(n){return console.log("Nothing in the cookies!"),!1}},s.getServerEHIData=function(e){var t={headers:{Authorization:"JWT ".concat(s.props.authToken)}};u.a.get(s.props.APIHost+"/getCompanyEHI?reqComp="+e,t).then((function(e){if(e.data.length>0){console.log("Got the company data!");var t,a=[],n=[];for(t in e.data[0].EHIstorage.days)a.push(t),n.push(e.data[0].EHIstorage.days[t]);s.setState({dateLabels:a,EHISet:n})}})).catch((function(e){console.log(e),401===e.response.status&&(s.props.forceLogout(),s.props.history.push(s.props.reRouteTarget))}))},s.state={currentDate:new Date,EHITimespan:0,dateLabels:[],EHISet:[],dropMessage:"Select Company=>",companyList:[]},s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.loadCompanyData()}},{key:"render",value:function(){var e,t=[];for(e in this.state.companyList){var a=this.state.companyList[e];t.push(Object(s.jsx)("button",{className:"dropdown-item",onClick:this.setCurrentCompany,value:a,children:a},e))}return Object(s.jsx)("div",{className:"testStuff",children:Object(s.jsxs)("div",{className:"container-fluid",children:[Object(s.jsxs)("div",{className:"row m-1",children:[Object(s.jsxs)("div",{className:"col-2 border m-1",children:[Object(s.jsx)("div",{className:"row m-1",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("div",{className:"dropdown",children:[Object(s.jsx)("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:this.state.dropMessage}),Object(s.jsx)("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton",children:t})]})})})}),Object(s.jsx)("div",{className:"row m-1",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("ul",{className:"nav nav-tabs",children:[Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)("a",{className:"nav-link active","data-toggle":"tab",href:"#ehi",children:"EHI"})}),Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)("a",{className:"nav-link","data-toggle":"tab",href:"#summary",children:"Summary"})}),Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)("a",{className:"nav-link","data-toggle":"tab",href:"#suggestion",children:"Suggestion"})})]})})})]}),Object(s.jsx)("div",{className:"col-9",children:Object(s.jsxs)("div",{className:"tab-content",children:[Object(s.jsx)("div",{id:"ehi",className:"tab-pane active",children:Object(s.jsx)(le,{timeIndex:this.state.EHITimespan,ehiLabels:this.state.dateLabels,ehiData:this.state.EHISet,onToggle:this.changeEHIdates})}),Object(s.jsx)("div",{id:"summary",className:"container tab-pane fade",children:Object(s.jsx)(de,{currentDate:this.state.currentDate,onPickDate:this.pickDate})}),Object(s.jsx)("div",{id:"suggestion",className:"container tab-pane fade",children:Object(s.jsx)(he,{})})]})})]}),Object(s.jsx)("div",{className:"row  my-4",children:Object(s.jsx)("p",{})})]})})}}]),a}(r.a.Component),je=Object(j.f)(me),be=(a(379),"/scenere"),ue="https://cmaster.pythonanywhere.com",pe=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).loadFromCookies=function(){var e=O.a.get("lastUser");try{s.setState({currentUser:e.user,sessionToken:e.session})}catch(t){console.log("User was NOT found in the storage")}},s.setToken=function(e,t){return s.setState({sessionToken:e,currentUser:t}),O.a.set("lastUser",{user:t,session:e}),!0},s.refresh=function(){var e={token:s.state.sessionToken};u.a.post(ue+"/apiTokenRefresh/",e).then((function(e){return console.log("Token refreshed"),s.setToken(e.data.token,s.state.currentUser),!0})).catch((function(e){return console.log(e),s.logout(),!1}))},s.logout=function(){s.setState({sessionToken:void 0,currentUser:void 0}),O.a.remove("lastUser")},s.state={currentUser:void 0,sessionToken:void 0},s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.loadFromCookies()}},{key:"render",value:function(){var e=this;return Object(s.jsx)(m.a,{children:Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)(g,{currentUser:this.state.currentUser,basePath:be,clearLogin:this.setToken}),Object(s.jsxs)(j.c,{children:[Object(s.jsx)(j.a,{path:"/scenere/test",exact:!0,component:function(){return Object(s.jsx)(je,{APIHost:ue,forceLogout:e.logout,currentUser:e.state.currentUser,tokenRefresh:e.refresh,reRouteTarget:"/scenere/signin",authToken:e.state.sessionToken})}}),Object(s.jsx)(j.a,{path:"/scenere/",exact:!0,component:function(){return Object(s.jsx)(w,{APIHost:ue})}}),Object(s.jsx)(j.a,{path:"/scenere/signin",exact:!0,component:function(){return Object(s.jsx)(y,{loginSave:e.setToken,APIHost:ue,reRouteTarget:"/scenere/menu",forgotPath:"/scenere/forgot"})}}),Object(s.jsx)(j.a,{path:"/scenere/signup",exact:!0,component:function(){return Object(s.jsx)(N,{APIHost:ue,reRouteTarget:"/scenere/signin"})}}),Object(s.jsx)(j.a,{path:"/scenere/forgot",exact:!0,component:function(){return Object(s.jsx)(k,{APIHost:ue,reRouteTarget:"/scenere/signin"})}}),Object(s.jsx)(j.a,{path:"/scenere/menu",exact:!0,component:function(){return Object(s.jsx)(D,{APIHost:ue,tokenRefresh:e.refresh,reRouteTarget:"/scenere/signin",journalWriteDirect:"/scenere/write",journalReadDirect:"/scenere/read",companyReadDirect:"/scenere/companyCheck",companySettingDirect:"/scenere/companySet",currentUser:e.state.currentUser,authToken:e.state.sessionToken})}}),Object(s.jsx)(j.a,{path:"/scenere/read",exact:!0,component:function(){return Object(s.jsx)(V,{APIHost:ue,tokenRefresh:e.refresh,reRouteTarget:"/scenere/signin",forceLogout:e.logout,currentUser:e.state.currentUser,authToken:e.state.sessionToken})}}),Object(s.jsx)(j.a,{path:"/scenere/write",exact:!0,component:function(){return Object(s.jsx)(z,{APIHost:ue,tokenRefresh:e.refresh,reRouteTarget:"/scenere/signin",authToken:e.state.sessionToken})}}),Object(s.jsx)(j.a,{path:"/scenere/companyCheck",exact:!0,component:function(){return Object(s.jsx)(ae,{APIHost:ue,forceLogout:e.logout,currentUser:e.state.currentUser,tokenRefresh:e.refresh,reRouteTarget:"/scenere/signin",authToken:e.state.sessionToken})}}),Object(s.jsx)(j.a,{path:"/scenere/companySet",exact:!0,component:function(){return Object(s.jsx)(re,{APIHost:ue,tokenRefresh:e.refresh,reRouteTarget:"/scenere/signin",authToken:e.state.sessionToken})}})]}),Object(s.jsx)(v,{})]})})}}]),a}(r.a.Component),ge=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,387)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,r=t.getLCP,c=t.getTTFB;a(e),s(e),n(e),r(e),c(e)}))};a(380),a(381);o.a.render(Object(s.jsx)(pe,{}),document.getElementById("root")),ge()}},[[383,1,2]]]);
//# sourceMappingURL=main.c44e1b49.chunk.js.map