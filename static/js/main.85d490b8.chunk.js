/*! For license information please see main.85d490b8.chunk.js.LICENSE.txt */
(this["webpackJsonpproject-scenere"]=this["webpackJsonpproject-scenere"]||[]).push([[0],{245:function(e,t,s){},532:function(e,t,s){},533:function(e,t,s){},537:function(e,t,s){"use strict";s.r(t);var a=s(1),r=s.n(a),n=s(42),i=s.n(n),c=(s(245),s(3)),o=s(4),l=s(6),d=s(5),h=s(8),u=s(17),j=s(550),b=s(39),m=s.n(b),p=s(235),v=s.n(p),g="https://cmaster.pythonanywhere.com",x=v.a.create({baseURL:g,withCredentials:!0}),O="",f=function(e){return O=e,!0},N=["day","week","month","year"],S=function(e){var t=e.getFullYear().toString(),s=(e.getMonth()+1).toString(),a=e.getDate().toString(),r=s.split(""),n=a.split("");return t+"-"+(r[1]?s:"0"+r[0])+"-"+(n[1]?a:"0"+n[0])},y=function(e){if(e.response){var t=e.response.status,s=e.response.data;if(401===t){for(var a in s)if("No active account found with the given credentials"===s[a])return{action:3,messages:[{mod:3,text:s[a]}]};return{action:1,messages:[{mod:1,text:"Try That Again!"}]}}if(403===t)return{action:2,messages:[{mod:-1,text:"Permission Failed"}]};if(404===t)return{action:6,messages:[{mod:1,text:"404 not found"}]};if(400===t){var r=[];for(var n in s)"username"===n?r.push({mod:1,text:String(s[n])}):"password"===n?r.push({mod:2,text:String(s[n])}):"non_field_errors"===n?r.push({mod:3,text:String(s[n])}):"email"===n?r.push({mod:4,text:String(s[n])}):"dup"===n?r.push({mod:5,text:String(s[n])}):"token"===n?r.push({mod:6,text:String(s[n])}):"invite"===n?r.push({mod:7,text:String(s[n])}):"status"===n?r.push({mod:8,text:String(s[n])}):r.push({mod:0,text:String(s[n])});return{action:3,messages:r}}return 500===t?{action:4,messages:[{mod:-1,text:"Server Error!"}]}:{action:5,messages:[{mod:-1,text:"Unhandled Response! Error!"}]}}return{action:0,messages:[{mod:-1,text:"Newtork Error"}]}},D=function(e,t,s,a,r){var n={password:s};e?n.email=t:n.username=t,x.post("/api/customGetToken/",n).then((function(e){console.log(e),a(e.data)})).catch((function(e){var t=y(e);r(t)}))},C=function(e,t){var s={headers:{Authorization:"JWT ".concat(O)}};x.get("/api/emailVerifyResend/",s).then((function(t){e()})).catch((function(e){var s=y(e);t(s)}))},w=function(e,t,s,a,r,n,i){var c=Math.random().toString(16).substr(2,8),o={headers:{Authorization:"JWT ".concat(O)}},l={};l="usr"===s?{shorthand:"WEBUSR:"+c,targetDivision:void 0,forDate:S(e),usedPromptKeyText:t,content:a,richText:r}:{shorthand:"WEBDIV"+c,targetDivision:s,forDate:S(e),usedPromptKeyText:t,content:a,richText:r},x.post("/api/saveUserJournal/",l,o).then((function(e){n(e.data)})).catch((function(e){var t=y(e);i(t)}))},E=function(e,t,s,a,r){var n={headers:{Authorization:"JWT ".concat(O)}},i={reqDiv:e,targetInvite:t,targetAction:s};x.put("/api/setDivisionInvite/",i,n).then((function(e){var t=e.data;a(t)})).catch((function(e){var t=y(e);r(t)}))},k=function(e,t,s){var a={headers:{Authorization:"JWT ".concat(O)}};x.get("/api/getDivisionData?reqDiv="+e,a).then((function(e){var s=e.data[0];t(s)})).catch((function(e){var t=y(e);s(t)}))},P=function(e,t,s){var a={headers:{Authorization:"JWT ".concat(O)}},r=e;x.put("/api/setDivisionData/",r,a).then((function(e){var s=e.data;t(s)})).catch((function(e){var t=y(e);s(t)}))},T=function(e,t,s,a){var r={headers:{Authorization:"JWT ".concat(O)}},n={targetInvite:e,targetAction:t};x.put("/api/setUserInvite/",n,r).then((function(e){var t=e.data;s(t)})).catch((function(e){var t=y(e);a(t)}))},F=function(e,t,s,a,r){var n={headers:{Authorization:"JWT ".concat(O)}};x.get("/api/searchPrompts/?queryText="+e+"&queryTypes="+t+"&queryFilters="+s,n).then((function(e){var t=e.data;a(t)})).catch((function(e){var t=y(e);r(t)}))},I=function(e,t,s,a,r,n){var i={headers:{Authorization:"JWT ".concat(O)}},c={id:t,reqDiv:s,enabledDiv:a};x.post("/api/setNonDivisionEvents/",c,i).then((function(t){var s=t.data;r(e,s)})).catch((function(e){var t=y(e);n(t)}))},L=function(e,t,s,a){var r={headers:{Authorization:"JWT ".concat(O)}},n="recent";void 0!==t&&(n=t.toJSON().split("T")[0]),x.get("/api/getDivisionWebData/?reqDiv="+e+"&reqDate="+n,r).then((function(e){s(e.data)})).catch((function(e){var t=y(e);a(t)}))},U=function(e,t,s){var a={headers:{Authorization:"JWT ".concat(O)}},r="recent";void 0!==e&&(r=e.toJSON().split("T")[0]),x.get("/api/getUserWebData/?reqDate="+r,a).then((function(e){t(e.data)})).catch((function(e){var t=y(e);s(t)}))},W=function(e,t){var s=[],a=0;for(a in t)s.push({label:t[a].label,data:t[a].data,fill:!1,backgroundColor:"rgb(99, 255, 132)",borderColor:"rgba(255, 132, 99, 0.2)"});return{labels:e,datasets:s}},A=function(e){return{labels:["Joy","Anger","Sadness","Disgust","Fear"],datasets:[{label:"Confidence Levels",data:e,backgroundColor:"rgba(99, 255, 132, 0.2)",borderColor:"rgba(99, 255, 132, 1)",borderWidth:1}]}},R=function(e,t,s){return{labels:["Joy","Anger","Sadness","Disgust","Fear"],datasets:[{label:"Max",data:e,backgroundColor:"rgba(99, 255, 132, 0.2)",borderColor:"rgba(99, 255, 132, 1)",borderWidth:1},{label:"Ave",data:t,backgroundColor:"rgba(99, 132, 255, 0.2)",borderColor:"rgba(99, 132, 255, 1)",borderWidth:1},{label:"Min",data:s,backgroundColor:"rgba(255, 99, 132, 0.2)",borderColor:"rgba(255, 99, 132, 1)",borderWidth:1}]}},J=function(e,t,s){return{labels:["Value"],datasets:[{label:"Minimum",data:e,backgroundColor:"rgb(255, 99, 132)"},{label:"Average",data:t,backgroundColor:"rgb(54, 162, 235)"},{label:"Maximum",data:s,backgroundColor:"rgb(75, 192, 192)"}]}},M=function(e,t,s){return{labels:["Relevance","Sentiment"],datasets:[{label:"Minimum",data:e,backgroundColor:"rgb(255, 99, 132)"},{label:"Average",data:t,backgroundColor:"rgb(54, 162, 235)"},{label:"Maximum",data:s,backgroundColor:"rgb(75, 192, 192)"}]}},B=function(e){return{labels:["Relevance","Sentiment"],datasets:[{label:"Value",data:e,backgroundColor:"rgb(54, 162, 235)"}]}},H=function(e){return{labels:["Confidence","Relevance","Sentiment"],datasets:[{label:"Value",data:e,backgroundColor:"rgb(54, 162, 235)"}]}},V=function(e){var t=[],s=[];for(var a in e)t.push(a),s.push(e[a]);return{labels:t,datasets:[{label:["# Obtained"],data:s,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]}},G=s(236),q=s(0),K=[0,1],z=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).setUserFlag=function(e){if("number"!==typeof e)return!1;-1===e?a.setState({showUserActions:!1,showUserEmailScan:!1}):0===e?a.setState({showUserActions:!0}):1===e&&a.setState({showUserEmailScan:!0})},a.setCompanyFlag=function(e){if("number"!==typeof e)return!1;-1===e?a.setState({showCompanyDataFlag:!1,showCompanyEmailFlag:!1,showCompanySettingsFlag:!1}):0===e?a.setState({showCompanyDataFlag:!0}):1===e?a.setState({showCompanyEmailFlag:!0}):2===e&&a.setState({showCompanySettingsFlag:!0})},a.setCompanyName=function(e){a.setState({currentCompanyName:e})},a.setUserName=function(e){a.setState({currentUserName:e})},a.disableMenu=function(){a.setState({enabled:!1})},a.activateMenu=function(e){return void 0!==K.find((function(t){return t===e}))?(a.setState({enabled:!0,displayState:e}),!0):(a.setState({enabled:!1}),!1)},a.state={enabled:!1,displayState:0,showUserActions:!0,showUserEmailScan:!1,showCompanyDataFlag:!0,showCompanyEmailFlag:!1,showCompanySettingsFlag:!1,currentCompanyName:"No Company!",currentUserName:"No User!"},a}return Object(o.a)(s,[{key:"render",value:function(){var e=[];switch(this.state.displayState){case 0:e.push(Object(q.jsx)("div",{className:"list-group-item list-group-item-secondary",children:Object(q.jsx)("h4",{children:this.state.currentUserName})},"1")),this.state.showUserActions&&e.push(Object(q.jsx)(h.b,{className:"list-group-item",to:this.props.basePath+"/dashboard/userMode/journalWrite",children:"Make Today's Journal"},"2"),Object(q.jsx)(h.b,{className:"list-group-item",to:this.props.basePath+"/dashboard/userMode/journalRead",children:"View past Journals"},"3"),Object(q.jsx)(h.b,{className:"list-group-item",to:this.props.basePath+"/dashboard/userMode/writeSuggestion",children:"Make Suggestions"},"4")),e.push(Object(q.jsx)("div",{className:"list-group-item list-group-item-secondary",children:Object(q.jsx)("h4",{children:"Email Scanning"})},"5.5")),this.state.showUserEmailScan&&e.push(Object(q.jsx)(h.b,{className:"list-group-item",to:this.props.basePath+"/dashboard/userMode/userWeb",children:"View Contact Web"},"6")),e.push(Object(q.jsx)("div",{className:"list-group-item list-group-item-secondary",children:Object(q.jsx)("h4",{children:"Settings"})},"4.5"),Object(q.jsx)(h.b,{className:"list-group-item",to:this.props.basePath+"/dashboard/userMode/userPrompts",children:"Edit Personal Events"},"5")),e.push(Object(q.jsx)(h.b,{className:"list-group-item",to:this.props.basePath+"/dashboard/userMode/userSyncSettings",children:"Sync Settings"},"7"));break;case 1:e.push(Object(q.jsx)(h.b,{className:"list-group-item list-group-item-secondary",to:this.props.basePath+"/dashboard/companyMode/companySelect",children:Object(q.jsx)("h3",{children:this.state.currentCompanyName})},"0"),Object(q.jsx)(h.b,{className:"list-group-item list-group-item-light",to:this.props.basePath+"/dashboard/companyMode/companySelect",children:Object(q.jsx)("h5",{children:"Select New Company"})},"0.5")),this.state.showCompanyDataFlag&&e.push(Object(q.jsx)(h.b,{className:"list-group-item list-group-item-light",to:this.props.basePath+"/dashboard/companyMode/companyEHI",children:"View EHI"},"1"),Object(q.jsx)(h.b,{className:"list-group-item list-group-item-light",to:this.props.basePath+"/dashboard/companyMode/companySummary",children:"View Summaries"},"2"),Object(q.jsx)(h.b,{className:"list-group-item list-group-item-light",to:this.props.basePath+"/dashboard/companyMode/companySuggestions",children:"View Suggestion Box"},"3")),this.state.showCompanyEmailFlag&&e.push(Object(q.jsx)("div",{className:"list-group-item list-group-item-secondary",children:Object(q.jsx)("h4",{children:"Email Scanning"})},"3.5"),Object(q.jsx)(h.b,{className:"list-group-item list-group-item-light",to:this.props.basePath+"/dashboard/companyMode/companyWeb",children:"View Web (Beta)"},"4")),this.state.showCompanySettingsFlag&&e.push(Object(q.jsx)("div",{className:"list-group-item list-group-item-secondary",children:Object(q.jsx)("h4",{children:"Settings"})},"4.5"),Object(q.jsx)(h.b,{className:"list-group-item list-group-item-light",to:this.props.basePath+"/dashboard/companyMode/companyPrompts",children:"Edit Prompt Events"},"5"),Object(q.jsx)(h.b,{className:"list-group-item list-group-item-light",to:this.props.basePath+"/dashboard/companyMode/companyInvites",children:"User Invites"},"6"),Object(q.jsx)(h.b,{className:"list-group-item list-group-item-light",to:this.props.basePath+"/dashboard/companyMode/companyPerms",children:"Permission Settings"},"7"),Object(q.jsx)(h.b,{className:"list-group-item list-group-item-light",to:this.props.basePath+"/dashboard/companyMode/companySettings",children:"Misc. Settings"},"8"));break;default:e.push(Object(q.jsx)("div",{className:"list-group",children:"Invalid Menu! Oops!"}))}return Object(q.jsx)("div",{className:"menuContainer",children:this.state.enabled&&Object(q.jsx)(G.slide,{children:Object(q.jsxs)("div",{className:"list-group",children:[Object(q.jsx)(h.b,{className:"list-group-item list-group-item-dark",to:this.props.basePath+"/dashboard",children:"Dashboard"}),e]})})})}}]),s}(r.a.Component),Y=function(e){var t=e;return t>7?t=7:t<1&&(t=1),t},Z=function(e){var t=0,s=0,a=e;a>1?a=1:a<-1&&(a=-1),e<0?t=Math.floor(255*-e):s=Math.floor(255*e);var r=t.toString(16);t<15&&(r="0"+r);var n=s.toString(16);s<15&&(n="0"+n);var i=(0).toString(16);return"#"+r+n+(i="0"+i)},X={nodes:{mass:1.1,shape:"box",chosen:{node:function(e,t,s,a){e.shadow=!0,e.color="#AAFFAA"},label:function(e,t,s,a){e.mod="bold"}}},edges:{color:"#000000",arrowStrikethrough:!0,smooth:{type:"dynamic"},chosen:{edge:function(e,t,s,a){e.shadow=!0},label:function(e,t,s,a){e.size=20,e.mod="bold"}}},layout:{hierarchical:!1},interaction:{hover:!0,dragNodes:!0},physics:{solver:"barnesHut",maxVelocity:50,minVelocity:.1},height:"500px"},_=s(548),Q=s(549),$=s(539),ee=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).state={},a}return Object(o.a)(s,[{key:"render",value:function(){return Object(q.jsx)("div",{className:"showingWebData",children:Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsxs)(_.a,{children:[Object(q.jsx)(_.a.Toggle,{as:Q.a.Header,className:"border btn btn-outline-dark btn-block",variant:"link",eventKey:"open",children:Object(q.jsxs)("div",{className:"row",children:[Object(q.jsx)("div",{className:"col-1"}),Object(q.jsx)("div",{className:"col",children:"What am I looking at here?"}),Object(q.jsx)("div",{className:"col-1",children:Object(q.jsx)($.a,{})})]})}),Object(q.jsx)(_.a.Collapse,{eventKey:"open",className:"border",children:Object(q.jsxs)("div",{className:"row",children:[Object(q.jsx)("div",{className:"col"}),Object(q.jsxs)("div",{className:"col-",children:[Object(q.jsxs)("p",{children:["This is a ",Object(q.jsx)("u",{children:"'Contact Web'"})]}),Object(q.jsx)("p",{children:"Users can sync their Microsoft accounts to their Scenere account"}),Object(q.jsxs)("p",{children:["They can have their outgoing work emails scanned and the results tallied and displayed here",Object(q.jsx)("br",{}),'If you would like, press "Load Example data" to see what one looks like']}),Object(q.jsx)("h5",{children:Object(q.jsx)("u",{children:"The legend is as follows:"})}),Object(q.jsxs)("ul",{children:[Object(q.jsx)("li",{children:"White labels are a tracked user"}),Object(q.jsx)("li",{children:"Red labels are untracked users"}),Object(q.jsxs)("li",{children:["The arrows are average sentiment/Number of emails",Object(q.jsx)("br",{}),"Color and size is according to those values"]})]})]}),Object(q.jsx)("div",{className:"col"})]})})]})})})})}}]),s}(r.a.Component),te=(r.a.Component,function(e){var t=m.a.get(e);if(void 0===t)return 0;if(void 0===t.data)return m.a.remove(e),2;var s=t.expiryDate;return Date.now()>s?(m.a.remove(e),1):t.data}),se=function(e,t,s){try{var a=new Date;0===s?a.setHours(a.getHours()+6):1===s?a.setDate(a.getDate()+1):2===s?a.setDate(a.getDate()+7):a.setSeconds(a.getSeconds()+90);var r={expiryDate:a.getTime(),data:t};m.a.set(e,r)}catch(n){return!1}return!0},ae=function(e){m.a.remove(e)},re="SignIn",ne=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).resetErrors=function(){a.setState({usernameError:!1,passwordError:!1,isWrongError:!1,networkError:!1,miscError:!1})},a.userFieldChange=function(e){a.setState({username:e.target.value}),a.resetErrors()},a.emailFieldChange=function(e){a.setState({email:e.target.value}),a.resetErrors()},a.passFieldChange=function(e){a.setState({password:e.target.value}),a.resetErrors()},a.remFieldChange=function(e){a.setState({remember:!a.state.remember}),a.resetErrors()},a.handleSubmitFailure=function(e){var t=!1,s=!1,r=!1,n=!1,i=!1,c=!1;if(0===e.action)t=!0;else if(3===e.action)for(var o in e.messages)1===e.messages[o].mod?s=!0:2===e.messages[o].mod?r=!0:3===e.messages[o].mod?n=!0:i=!0;else(4===e.action||5===e.action)&&(c=!0);a.props.debugSet(re,"Failed!",String(e.action)),a.setState({networkError:t,usernameError:s,passwordError:r,isWrongError:n,unhandledError:i,serverError:c,signInState:3})},a.handleSubmitSuccess=function(e){var t=e.access,s=a.state.username;a.state.signInEmailMode&&(s=a.state.email),a.props.loginSave(t,s,a.state.remember)?(a.props.debugSet(re,"Function","Login Success"),a.props.history.push(a.props.reRouteTarget)):a.setState({signInState:3})},a.handleSubmit=function(e){var t=a.state.username;a.state.signInEmailMode&&(t=a.state.email),D(a.state.signInEmailMode,t,a.state.password,a.handleSubmitSuccess,a.handleSubmitFailure),a.setState({signInState:1}),e.preventDefault()},a.state={signInState:0,usernameError:!1,emailError:!1,passwordError:!1,isWrongError:!1,networkError:!1,miscError:!1,signInEmailMode:!1,email:"",username:"",password:"",remember:!1},a}return Object(o.a)(s,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e="";(this.state.emailError||this.state.isWrongError)&&(e="bg-warning");var t="";(this.state.usernameError||this.state.isWrongError)&&(t="bg-warning");var s="";(this.state.passwordError||this.state.isWrongError)&&(s="bg-warning");var a=1===this.state.signInState;return Object(q.jsxs)("div",{className:"container text-center",children:[Object(q.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(q.jsx)("h3",{children:"Sign In"}),Object(q.jsx)("p",{className:"text-danger",children:this.state.isWrongError?"Email and/or Password are incorrect":""}),this.state.signInEmailMode?Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("label",{children:"Email"}),Object(q.jsx)("input",{type:"text",className:"form-control "+e,value:this.state.email,onChange:this.emailFieldChange,placeholder:"Enter Email"}),Object(q.jsx)("p",{className:"text-danger",children:this.state.emailError?"Email cant be blank":""})]}):Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("label",{children:"Username"}),Object(q.jsx)("input",{type:"text",className:"form-control "+t,value:this.state.username,onChange:this.userFieldChange,placeholder:"Enter Username"}),Object(q.jsx)("p",{className:"text-danger",children:this.state.usernameError?"Username cant be blank":""})]}),Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("label",{children:"Password"}),Object(q.jsx)("input",{type:"password",className:"form-control "+s,value:this.state.password,onChange:this.passFieldChange,placeholder:"Enter password"}),Object(q.jsx)("p",{className:"text-danger",children:this.state.passwordError?"Password cannot be blank":""})]}),Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("label",{className:"form-control-label",htmlFor:"customCheck1",children:"Keep Me Logged In"}),Object(q.jsx)("input",{type:"checkbox",className:"form-control-input",id:"customCheck1",value:this.state.remember,onChange:this.remFieldChange})]}),this.state.miscError?Object(q.jsx)("p",{className:"text-danger border",children:"Unknown Error"}):void 0,this.state.networkError?Object(q.jsx)("p",{className:"bg-warning text-danger border",children:"Server cannot be reached!"}):void 0,Object(q.jsx)("button",{type:"submit",className:"btn btn-dark btn-block",children:"Submit"}),Object(q.jsxs)("div",{className:"row",children:[Object(q.jsx)("div",{className:"col"}),Object(q.jsx)("div",{className:"col"}),Object(q.jsx)("div",{className:"col"}),Object(q.jsx)("p",{className:"col forgot-password text-dark",children:Object(q.jsx)(h.b,{className:"nav-link border",to:this.props.forgotPath,children:"Forgot password?"})})]})]}),Object(q.jsxs)(j.a,{show:a,variant:"warning",children:[Object(q.jsx)(j.a.Heading,{children:"Waiting"}),Object(q.jsx)("hr",{}),Object(q.jsx)("p",{children:"Waiting for server..."}),Object(q.jsx)("hr",{})]})]})}}]),s}(r.a.Component),ie=Object(u.f)(ne),ce=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).usernameFieldChange=function(e){a.setState({username:e.target.value})},a.emailFieldChange=function(e){a.setState({email:e.target.value})},a.passFieldChange=function(e){a.setState({password:e.target.value,passwordError:e.target.value!==a.state.password2,passwordErrorDetail:"Passwords do not match!"})},a.pass2FieldChange=function(e){a.setState({password2:e.target.value,passwordError:e.target.value!==a.state.password,passwordErrorDetail:"Passwords do not match!"})},a.firstNameFieldChange=function(e){a.setState({firstName:e.target.value})},a.lastnameFieldChange=function(e){a.setState({lastName:e.target.value})},a.checkFieldChange=function(e){a.setState({checkField:e.target.value})},a.nowSendEmailFailure=function(){console.log("Oh no. We failed"),a.props.history.push(a.props.reRouteTarget),a.setState({nowSendEmailState:3})},a.nowSendEmailCallback=function(){a.props.history.push(a.props.reRouteTarget),a.setState({nowSendEmailState:2})},a.nowSendEmail=function(){C(a.nowSendEmailCallback,a.nowSendEmailFailure),a.setState({nowSendEmailState:1})},a.nowSignInFailure=function(){console.log("Sign in failed, I dont even know what to do here... Normal errors dont work here..."),a.props.history.push(a.props.reRouteTarget),a.setState({nowSignInState:3})},a.nowSignInCallback=function(e){a.props.loginSave(e,a.state.username,!1)?(console.log("Token registered"),a.nowSendEmail()):(console.log("Token Failed..?"),a.props.history.push(a.props.reRouteTarget)),a.setState({nowSignInState:2})},a.nowSignIn=function(){D(!1,a.state.username,a.state.password,a.nowSignInCallback,a.nowSignInFailure),a.setState({nowSignInState:1})},a.handleSignUpSubmitFailure=function(e){var t=!1,s=!1,r="",n=!1,i="",c=!1,o="",l=!1,d=!1;if(0===e.action)t=!0;else if(3===e.action)for(var h in e.messages)1===e.messages[h].mod?(s=!0,r=e.messages[h].text):2===e.messages[h].mod?(n=!0,i=e.messages[h].text):4===e.messages[h].mod?(c=!0,o="Email is taken!"):l=!0;else(4===e.action||5===e.action)&&(d=!0);a.setState({networkError:t,usernameError:s,usernameErrorDetail:r,passwordError:n,passwordErrorDetail:i,emailError:c,emailErrorDetail:o,unhandledError:l,serverError:d,handleSignUpSubmitState:3})},a.handleSignUpSubmitCallback=function(e){201===e&&(console.log("Successful Sign up, now signing in..."),a.nowSignIn(),a.setState({handleSignUpSubmitState:2}))},a.handleSignUpSubmit=function(e){a.state.checkField?(!function(e,t,s,a,r,n,i,c){var o={username:e,password:t,password2:s,email:a,first_name:r,last_name:n};x.post("/api/registerUser/",o).then((function(e){var t=e.status;i(t)})).catch((function(e){var t=y(e);c(t)}))}(a.state.username,a.state.password,a.state.password2,a.state.email,a.state.firstName,a.state.lastName,a.handleSignUpSubmitCallback,a.handleSignUpSubmitFailure),a.setState({handleSignUpSubmitState:1,legalError:!1})):(console.log("Field was not checked"),a.setState({legalError:!0})),e.preventDefault()},a.state={username:"",email:"",password:"",password2:"",firstName:"",lastName:"",networkError:!1,usernameError:!1,usernameErrorDetail:"Username is unavalible",emailError:!1,emailErrorDetail:"Email is invalid/taken",passwordError:!1,passwordErrorDetail:"Passwords do not match!",unhandledError:!1,serverError:!1,checkField:!1,nowSendEmailState:0,nowSignInState:0,handleSignUpSubmitState:0,legalError:!1},a}return Object(o.a)(s,[{key:"render",value:function(){var e="form-control";this.state.usernameError&&(e+=" bg-warning");var t="form-control";this.state.emailError&&(t+=" bg-warning");var s="form-control";this.state.passwordError&&(s+=" bg-warning");var a=this.state.legalError,r=1===this.state.handleSignUpSubmitState;return Object(q.jsx)("div",{className:"signUp",children:Object(q.jsxs)("div",{className:"container",children:[Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsx)("h3",{children:"Sign Up"})})}),Object(q.jsxs)("form",{onSubmit:this.handleSignUpSubmit,children:[Object(q.jsxs)("div",{id:"align-left",children:[Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("label",{id:"label-left",children:"Username"}),Object(q.jsx)("input",{type:"text",className:e,value:this.state.username,onChange:this.usernameFieldChange,placeholder:"Enter Username"}),Object(q.jsx)("p",{className:"text-danger",children:this.state.usernameError?this.state.usernameErrorDetail:""})]})})}),Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("label",{id:"align-left",children:"Email Address"}),Object(q.jsx)("input",{type:"email",className:t,value:this.state.email,onChange:this.emailFieldChange,placeholder:"Enter email"}),Object(q.jsx)("p",{className:"text-danger",children:this.state.emailError?this.state.emailErrorDetail:""})]})})}),Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("label",{id:"align-left",children:"Password"}),Object(q.jsx)("input",{type:"password",className:s,value:this.state.password,onChange:this.passFieldChange,placeholder:"Enter password"})]})})}),Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("label",{id:"align-left",children:"Confirm Password"}),Object(q.jsx)("input",{type:"password",className:s,value:this.state.password2,onChange:this.pass2FieldChange,placeholder:"Confirm password"}),Object(q.jsx)("p",{className:"text-danger",children:this.state.passwordError?this.state.passwordErrorDetail:""})]})})}),Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("label",{id:"align-left",children:"First Name"}),Object(q.jsx)("input",{type:"text",className:"form-control",value:this.state.firstName,onChange:this.firstNameFieldChange,placeholder:"First Name"})]})})}),Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("label",{id:"align-left",children:"Last Name"}),Object(q.jsx)("input",{type:"text",className:"form-control",value:this.state.lastName,onChange:this.lastnameFieldChange,placeholder:"Last Name"})]})})})]}),Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("input",{type:"checkbox",className:"form-control-input",id:"customCheck1",value:this.state.checkField,onChange:this.checkFieldChange}),Object(q.jsx)("label",{className:"form-control-label",htmlFor:"customCheck1",children:"Legal stuff?"})]})})}),Object(q.jsx)("div",{className:"row",children:Object(q.jsxs)("div",{className:"col",children:[this.state.networkError?Object(q.jsx)("p",{className:"bg-warning text-danger border",children:"Server cannot be reached!"}):void 0,Object(q.jsx)("button",{type:"submit",className:"btn btn-dark btn-block",children:"Submit"})]})})]}),Object(q.jsxs)(j.a,{show:a,variant:"danger",children:[Object(q.jsx)(j.a.Heading,{children:"Warning"}),Object(q.jsx)("hr",{}),Object(q.jsx)("p",{children:"You have to accept the non-existant legal documents"}),Object(q.jsx)("hr",{})]}),Object(q.jsxs)(j.a,{show:r,variant:"warning",children:[Object(q.jsx)(j.a.Heading,{children:"Waiting"}),Object(q.jsx)("hr",{}),Object(q.jsx)("p",{children:"This should display while waiting for the return"}),Object(q.jsx)("hr",{})]}),Object(q.jsx)("div",{className:"row my-5",children:Object(q.jsx)("div",{className:"col"})})]})})}}]),s}(r.a.Component),oe=Object(u.f)(ce),le=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).goSignIn=function(){a.props.history.push(a.props.reRouteTarget)},a.arePasswordsSame=function(){return a.state.password1===a.state.password2},a.swapToCode=function(){a.setState({currentState:1,generalErrorDetail:[]})},a.forceSwapForTesting=function(e){a.setState({currentState:Number(e.target.value),generalErrorDetail:[],sendEmailState:0,validateCodeState:0,submitPasswordState:0})},a.sendEmailSuccess=function(e,t){a.setState({currentState:1,generalErrorDetail:[],sendEmailState:2})},a.sendEmailFailure=function(e){var t=[];if(0===e.action);else if(2===e.action);else if(3===e.action)for(var s in e.messages)t.push(e.messages[s].text);else 4===e.action||e.action;a.setState({generalErrorDetail:t,sendEmailState:3})},a.sendEmail=function(){!function(e,t,s){var a={targetEmail:e};x.post("/api/nonAuthPassword/sendEmail/",a).then((function(e){t(e.status)})).catch((function(e){var t=y(e);s(t)}))}(a.state.email,a.sendEmailSuccess,a.sendEmailFailure),a.setState({sendEmailState:1})},a.checkTokenFailure=function(e){var t=[];if(0===e.action);else if(2===e.action);else if(3===e.action)for(var s in e.messages)t.push(e.messages[s].text);else 4===e.action||e.action;a.setState({generalErrorDetail:t,validateCodeState:3})},a.checkTokenSuccess=function(e){a.setState({currentState:2,generalErrorDetail:[],validateCodeState:2})},a.checkToken=function(){var e,t,s;e=a.state.resetToken,t=a.checkTokenSuccess,s=a.checkTokenFailure,x.get("/api/nonAuthPassword/validate/?token="+e,{}).then((function(e){t(e.status)})).catch((function(e){var t=y(e);s(t)})),a.setState({generalErrorDetail:[],validateCodeState:1,submitPasswordState:0})},a.submitPasswordFailure=function(e){var t=[],s=2;if(0===e.action);else if(2===e.action);else if(3===e.action)for(var r in e.messages)t.push(e.messages[r].text);else 4===e.action||5===e.action||6===e.action&&(t.push("Token was not found!"),s=1);a.setState({generalErrorDetail:t,currentState:s,submitPasswordState:3})},a.submitPasswordSuccess=function(e){a.setState({currentState:3,generalErrorDetail:[],submitPasswordState:2})},a.submitPasswords=function(){a.arePasswordsSame()&&(!function(e,t,s,a,r){var n={password:t,password2:s,passToken:e};x.put("/api/nonAuthPassword/Change/",n).then((function(e){a(e.status)})).catch((function(e){var t=y(e);r(t)}))}(a.state.resetToken,a.state.password1,a.state.password2,a.submitPasswordSuccess,a.submitPasswordFailure),a.setState({submitPasswordState:1}))},a.emailFieldChange=function(e){a.setState({email:e.target.value})},a.tokenFieldChange=function(e){a.setState({resetToken:e.target.value})},a.pass1FieldChange=function(e){a.setState({password1:e.target.value})},a.pass2FieldChange=function(e){a.setState({password2:e.target.value,passwordsSameError:e.target.value!==a.state.password1})},a.state={currentState:0,email:"",resetToken:"",password1:"",password2:"",passwordsSameError:!1,generalErrorDetail:[],uncaughtError:!0,sendEmailState:0,validateCodeState:0,submitPasswordState:0},a}return Object(o.a)(s,[{key:"componentDidMount",value:function(){this.setState({email:"",resetToken:"",password1:"",password2:""})}},{key:"render",value:function(){var e=null,t=null,s=null;0===this.state.currentState?(s=Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsx)("p",{children:"Enter your email address. If it is in the system, we will send you an email address with a code."})})}),e=Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("label",{children:"Email Address"}),Object(q.jsx)("input",{type:"email",className:"form-control",value:this.state.email,onChange:this.emailFieldChange,placeholder:"Enter email"})]})})}),t=[Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsx)("button",{className:"btn btn-primary",onClick:this.sendEmail,children:"Send"})})},1),Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col m-2",children:Object(q.jsx)("button",{className:"btn btn-primary",onClick:this.swapToCode,children:"Already have the code!"})})},2)]):1===this.state.currentState?(s=Object(q.jsx)("div",{className:"col",children:Object(q.jsx)("p",{children:"Check your email. If your email is correct, then enter the code it gives you here:"})}),e=Object(q.jsx)("div",{className:"col",children:Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("label",{children:"Reset token"}),Object(q.jsx)("input",{type:"text",className:"form-control",value:this.state.resetToken,onChange:this.tokenFieldChange,placeholder:"Enter Token"})]})}),t=Object(q.jsx)("div",{className:"col",children:Object(q.jsx)("button",{className:"btn btn-primary",onClick:this.checkToken,children:"Check Code"})})):2===this.state.currentState?(s=[Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsx)("p",{children:" Enter your new password! "})})},1)],this.state.passwordsSameError&&s.push(Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsx)("p",{className:"text-danger",children:" Passwords do not match! "})})},2)),e=[Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsx)("div",{className:"form-group",children:Object(q.jsx)("input",{type:"password",className:"form-control",value:this.state.password1,onChange:this.pass1FieldChange,placeholder:"Enter Password"})})})},3),Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsx)("div",{className:"form-group",children:Object(q.jsx)("input",{type:"password",className:"form-control",value:this.state.password2,onChange:this.pass2FieldChange,placeholder:"Re-enter Password"})})})},4)],t=Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsx)("button",{className:"btn btn-primary",onClick:this.submitPasswords,children:"Submit"})})})):3===this.state.currentState&&(s=Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsx)("p",{children:" Password has been successfullty reset! "})})}),e=null,t=Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsx)("button",{className:"btn btn-primary",onClick:this.goSignIn,children:"Sign In!"})})}));var a=1===this.state.sendEmailState||1===this.state.validateCodeState||1===this.state.submitPasswordState,r=3===this.state.sendEmailState||3===this.state.validateCodeState||3===this.state.submitPasswordState,n=0,i=[];for(var c in this.state.generalErrorDetail)i.push(Object(q.jsx)("div",{children:this.state.generalErrorDetail[c]},n)),n++;return 0===i.length&&(i="Unknown Error!"),Object(q.jsxs)("div",{className:"container-sm",children:[Object(q.jsx)("button",{className:"btn btn-outline-secondary",onClick:this.forceSwapForTesting,value:0,children:"T0"}),Object(q.jsx)("button",{className:"btn btn-outline-secondary",onClick:this.forceSwapForTesting,value:1,children:"T1"}),Object(q.jsx)("button",{className:"btn btn-outline-secondary",onClick:this.forceSwapForTesting,value:2,children:"T2"}),Object(q.jsx)("button",{className:"btn btn-outline-secondary",onClick:this.forceSwapForTesting,value:3,children:"T3"}),Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsx)("h3",{children:" Forgot your password? "})})}),s,e,t,Object(q.jsxs)(j.a,{show:a,variant:"warning",children:[Object(q.jsx)(j.a.Heading,{children:"Waiting"}),Object(q.jsx)("hr",{}),Object(q.jsx)("p",{children:"Waiting for server response for submission..."}),Object(q.jsx)("hr",{})]}),Object(q.jsxs)(j.a,{show:!1,variant:"success",children:[Object(q.jsx)(j.a.Heading,{children:"Waiting"}),Object(q.jsx)("hr",{}),Object(q.jsx)("p",{children:"This should display if we got a success"}),Object(q.jsx)("hr",{})]}),Object(q.jsxs)(j.a,{show:r,variant:"danger",children:[Object(q.jsx)(j.a.Heading,{children:"Error!"}),Object(q.jsx)("hr",{}),Object(q.jsx)("p",{children:i}),Object(q.jsx)("hr",{})]})]})}}]),s}(r.a.Component),de=Object(u.f)(le),he=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).tokenFieldChange=function(e){a.setState({token:e.target.value})},a.gotoDash=function(){a.props.history.push(a.props.reRouteSuccessTarget)},a.handleVerifyFailure=function(e){var t=!1,s="";if(0===e.action);else if(2===e.action);else if(3===e.action)for(var r in e.messages)1===e.messages[r].mod&&(t=!0,s=e.messages[r].text);else 4===e.action||e.action;a.setState({tokenError:t,tokenErrorDetail:s,validateStatus:3})},a.handleVerifyCallback=function(e,t){200===e&&(console.log("Successful Verification!"),a.setState({done:!0,validateStatus:2}))},a.handleVerifySubmit=function(e){!function(e,t,s){var a={headers:{Authorization:"JWT ".concat(O)}};x.get("/api/emailActivate/?token="+e,a).then((function(e){t(e.status,e.data)})).catch((function(e){var t=y(e);s(t)}))}(a.state.token,a.handleVerifyCallback,a.handleVerifyFailure),a.setState({validateStatus:1}),e.preventDefault()},a.reSendEmailFailure=function(e){0===e.action||(2===e.action?a.props.refreshToken(a.reSendEmail):3===e.action||4===e.action||e.action),a.setState({sendEmailStatus:3})},a.reSendEmailCallback=function(){a.setState({resend:"A new code has been sent!",sendEmailStatus:2})},a.reSendEmail=function(){C(a.reSendEmailCallback,a.reSendEmailFailure),a.setState({sendEmailStatus:1})},a.state={token:"",tokenError:!1,tokenErrorDetail:"???",done:!1,resend:"",validateStatus:0,sendEmailStatus:0},a}return Object(o.a)(s,[{key:"render",value:function(){var e="form-control";this.state.tokenError&&(e+=" bg-warning");var t=[];t=this.state.done?Object(q.jsxs)("div",{children:[Object(q.jsx)("div",{className:"row",children:Object(q.jsxs)("div",{className:"col",children:[Object(q.jsx)("h3",{children:"Thank you!"}),Object(q.jsx)("p",{children:"Account has been activated! Press here to go to the dashboard:"})]})}),Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsx)("button",{className:"btn btn-dark",onClick:this.gotoDash,children:"To the Dashboard!"})})})]}):Object(q.jsxs)("div",{children:[Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsx)("h3",{children:"Activate your account"})})}),Object(q.jsx)("form",{onSubmit:this.handleVerifySubmit,children:Object(q.jsxs)("div",{id:"align-left",children:[Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsx)("p",{children:" Check your email, you should have received a code, enter it here and your account will be activated!"})})}),Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("label",{id:"label-left",children:"Enter token here:"}),Object(q.jsx)("input",{type:"text",className:e,value:this.state.username,onChange:this.tokenFieldChange,placeholder:"Token"}),Object(q.jsx)("p",{className:"text-danger",children:this.state.tokenError?this.state.tokenErrorDetail:""})]})})}),Object(q.jsx)("div",{className:"row my-2",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsx)("button",{type:"submit",className:"btn btn-dark btn-block",children:"Submit"})})})]})}),Object(q.jsx)("div",{className:"row my-2",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsx)("button",{onClick:this.reSendEmail,className:"btn btn-dark btn-block",children:"Re-send Activation code"})})}),Object(q.jsx)("div",{className:"row my-2",children:Object(q.jsx)("div",{className:"col",children:this.state.resend})})]});var s=1===this.state.validateStatus||1===this.state.sendEmailStatus,a=2===this.state.validateStatus||2===this.state.sendEmailStatus,r=3===this.state.validateStatus||3===this.state.sendEmailStatus;return Object(q.jsx)("div",{className:"signUp",children:Object(q.jsxs)("div",{className:"container",children:[t,Object(q.jsxs)(j.a,{show:s,variant:"warning",children:[Object(q.jsx)(j.a.Heading,{children:"Waiting"}),Object(q.jsx)("hr",{}),Object(q.jsx)("p",{children:"Waiting for server response for submission..."}),Object(q.jsx)("hr",{})]}),Object(q.jsxs)(j.a,{show:a,variant:"success",children:[Object(q.jsx)(j.a.Heading,{children:"Waiting"}),Object(q.jsx)("hr",{}),Object(q.jsx)("p",{children:"This should display if we got a success"}),Object(q.jsx)("hr",{})]}),Object(q.jsxs)(j.a,{show:r,variant:"danger",children:[Object(q.jsx)(j.a.Heading,{children:"Error!"}),Object(q.jsx)("hr",{}),Object(q.jsx)("p",{children:"This should display if we got an error"}),Object(q.jsx)("hr",{})]})]})})}}]),s}(r.a.Component),ue=Object(u.f)(he),je=function(e){return Object(q.jsx)("header",{className:"header",children:Object(q.jsx)("div",{className:"intro",children:Object(q.jsx)("div",{className:"overlay",children:Object(q.jsx)("div",{className:"container",children:Object(q.jsx)("div",{className:"row",children:Object(q.jsxs)("div",{className:"col col-md-offset-2 intro-text",children:[Object(q.jsx)("h1",{children:"Project Scenere"}),Object(q.jsx)("h5",{children:"Welcome to the Alpha!"})]})})})})})})},be=s(540),me=s(541),pe=s(542),ve=s(543),ge=function(e){return Object(q.jsx)("div",{className:"text-center",id:"features",children:Object(q.jsxs)("div",{className:"container",children:[Object(q.jsx)("div",{className:"row m-3",children:Object(q.jsxs)("div",{className:"col",children:[Object(q.jsx)("h2",{className:"section-title",children:"Features"}),Object(q.jsx)("p",{className:"text-muted section-subtitle",children:"Lorem ipsum"})]})}),Object(q.jsxs)("div",{className:"row my-2",children:[Object(q.jsxs)("div",{className:"col-sm-6 col-md-6 col-lg-3",children:[Object(q.jsxs)("div",{className:"row",children:[Object(q.jsx)("div",{className:"col"}),Object(q.jsx)("div",{className:"col",children:Object(q.jsx)(be.a,{className:"iconBG",color:"white",size:72})}),Object(q.jsx)("div",{className:"col"})]}),Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsx)("h3",{children:"Feature Title"})})}),Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("p",{className:"col text-muted",children:"Lorem ipsum dolor sit amet placerat facilisis felis mi in tempus eleifend pellentesque natoque etiam."})})]}),Object(q.jsxs)("div",{className:"col-sm-6 col-md-6 col-lg-3",children:[Object(q.jsxs)("div",{className:"row",children:[Object(q.jsx)("div",{className:"col"}),Object(q.jsx)("div",{className:"col",children:Object(q.jsx)(me.a,{className:"iconBG",color:"white",size:72})}),Object(q.jsx)("div",{className:"col"})]}),Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsx)("h3",{children:"Feature Title"})})}),Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("p",{className:"col text-muted",children:"Lorem ipsum dolor sit amet placerat facilisis felis mi in tempus eleifend pellentesque natoque etiam."})})]}),Object(q.jsxs)("div",{className:"col-sm-6 col-md-6 col-lg-3",children:[Object(q.jsxs)("div",{className:"row",children:[Object(q.jsx)("div",{className:"col"}),Object(q.jsx)("div",{className:"col",children:Object(q.jsx)(pe.a,{className:"iconBG",color:"white",size:72})}),Object(q.jsx)("div",{className:"col"})]}),Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsx)("h3",{children:"Feature Title"})})}),Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("p",{className:"col text-muted",children:"Lorem ipsum dolor sit amet placerat facilisis felis mi in tempus eleifend pellentesque natoque etiam."})})]}),Object(q.jsxs)("div",{className:"col-sm-6 col-md-6 col-lg-3",children:[Object(q.jsxs)("div",{className:"row",children:[Object(q.jsx)("div",{className:"col"}),Object(q.jsx)("div",{className:"col",children:Object(q.jsx)(ve.a,{className:"iconBG",color:"white",size:72})}),Object(q.jsx)("div",{className:"col"})]}),Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsx)("h3",{children:"Feature Title"})})}),Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("p",{className:"col text-muted",children:"Lorem ipsum dolor sit amet placerat facilisis felis mi in tempus eleifend pellentesque natoque etiam."})})]})]})]})})},xe=function(e){return Object(q.jsx)("div",{id:"about",children:Object(q.jsxs)("div",{className:"container",children:[Object(q.jsx)("div",{className:"row m-4",children:Object(q.jsxs)("div",{className:"col",children:[Object(q.jsx)("h2",{className:"section-title",children:"About Us"}),Object(q.jsx)("p",{className:"text-muted section-subtitle",children:"Lorem ipsum"})]})}),Object(q.jsx)("div",{className:"row m-4",children:Object(q.jsx)("div",{className:"col text-muted",children:"Lorem ipsum dolor sit amet placerat facilisis felis mi in tempus eleifend pellentesque natoque etiam."})}),Object(q.jsx)("div",{className:"row m-4",children:Object(q.jsx)("h5",{className:"col about-subsection",children:"Title of Subsection"})}),Object(q.jsxs)("div",{className:"row my-2 about-text text-muted",children:[Object(q.jsx)("div",{className:"col",children:Object(q.jsxs)("ul",{children:[Object(q.jsx)("li",{children:"Lorem ipsum dolor sit amet"}),Object(q.jsx)("li",{children:"Lorem ipsum dolor sit amet"}),Object(q.jsx)("li",{children:"Lorem ipsum dolor sit amet"}),Object(q.jsx)("li",{children:"Lorem ipsum dolor sit amet"})]})}),Object(q.jsx)("div",{className:"col list-style",children:Object(q.jsxs)("ul",{children:[Object(q.jsx)("li",{children:"Lorem ipsum dolor sit amet"}),Object(q.jsx)("li",{children:"Lorem ipsum dolor sit amet"}),Object(q.jsx)("li",{children:"Lorem ipsum dolor sit amet"}),Object(q.jsx)("li",{children:"Lorem ipsum dolor sit amet"})]})})]})]})})},Oe=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).emailFieldChange=function(e){a.setState({email:e.target.value})},a.callbackFailure=function(){a.setState({handleEmailStatus:3})},a.callbackSuccess=function(){a.setState({handleEmailStatus:2})},a.handleSubmit=function(e){""!==a.state.email&&(!function(e,t,s){var a={email:e};x.post("/api/sendBetaEmail/",a).then((function(e){e.status})).catch((function(e){var t=y(e);s(t)}))}(a.state.email,a.callbackSuccess,a.callbackFailure),e.preventDefault(),a.setState({handleEmailStatus:1}))},a.state={email:"",handleEmailStatus:0},a}return Object(o.a)(s,[{key:"render",value:function(){return Object(q.jsx)("div",{id:"contact",children:Object(q.jsxs)("div",{className:"container",children:[Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsxs)("div",{children:[Object(q.jsx)("h2",{children:"Beta Request"}),Object(q.jsx)("p",{children:"Interested in beta testing? Enter you email below"})]})})}),Object(q.jsx)("form",{onSubmit:this.handleSubmit,children:Object(q.jsxs)("div",{className:"row",children:[Object(q.jsx)("div",{className:"col",children:Object(q.jsx)("div",{className:"form-group",children:Object(q.jsx)("input",{type:"email",className:"form-control",value:this.state.email,onChange:this.emailFieldChange,placeholder:"Enter email"})})}),Object(q.jsxs)("div",{className:"col",children:[Object(q.jsx)("label",{}),Object(q.jsx)("button",{type:"submit",className:"btn btn-dark btn-block",children:"Send!"})]})]})})]})})}}]),s}(r.a.Component),fe=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).firstNameFieldChange=function(e){a.setState({firstName:e.target.value})},a.lastnameFieldChange=function(e){a.setState({lastName:e.target.value})},a.emailFieldChange=function(e){a.setState({email:e.target.value})},a.companyFieldChange=function(e){a.setState({company:e.target.value})},a.contentFieldChange=function(e){a.setState({content:e.target.value})},a.callbackFailure=function(){a.setState({emailContactState:3})},a.callbackSuccess=function(){a.setState({emailContactState:2})},a.handleSubmit=function(e){""!==a.state.email&&(!function(e,t,s,a,r,n,i){var c={firstName:e,lastName:t,email:s,company:a,content:r};x.post("/api/sendContactEmail/",c).then((function(e){e.status})).catch((function(e){var t=y(e);i(t)}))}(a.state.firstName,a.state.lastName,a.state.email,a.state.company,a.state.content,a.callbackSuccess,a.callbackFailure),e.preventDefault(),a.setState({emailContactState:1}))},a.state={firstName:"",lastName:"",email:"",company:"",content:"",emailContactState:0},a}return Object(o.a)(s,[{key:"render",value:function(){return Object(q.jsx)("div",{id:"contact",children:Object(q.jsxs)("div",{className:"container",children:[Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsxs)("div",{children:[Object(q.jsx)("h2",{children:"Contact Us"}),Object(q.jsx)("p",{children:"Lorem ipsum dolor sit amet placerat"})]})})}),Object(q.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(q.jsxs)("div",{className:"row",children:[Object(q.jsx)("div",{className:"col",children:Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("label",{children:"First Name"}),Object(q.jsx)("input",{type:"text",className:"form-control",value:this.state.firstName,onChange:this.firstNameFieldChange,placeholder:"First Name"})]})}),Object(q.jsx)("div",{className:"col",children:Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("label",{children:"Last Name"}),Object(q.jsx)("input",{type:"text",className:"form-control",value:this.state.lastName,onChange:this.lastnameFieldChange,placeholder:"Last Name"})]})})]}),Object(q.jsxs)("div",{className:"row",children:[Object(q.jsx)("div",{className:"col",children:Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("label",{children:"Email Address"}),Object(q.jsx)("input",{type:"email",className:"form-control",value:this.state.email,onChange:this.emailFieldChange,placeholder:"Enter email"})]})}),Object(q.jsx)("div",{className:"col",children:Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("label",{children:"Company"}),Object(q.jsx)("input",{type:"text",className:"form-control",value:this.state.company,onChange:this.companyFieldChange,placeholder:"Company Name"})]})})]}),Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("label",{children:"Content"}),Object(q.jsx)("textarea",{type:"text",className:"form-control",value:this.state.content,onChange:this.contentFieldChange,placeholder:"Content"})]})})}),Object(q.jsx)("div",{className:"row my-1",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsx)("button",{type:"submit",className:"btn btn-dark btn-block",children:"Send Message"})})})]})]})})}}]),s}(r.a.Component),Ne=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).triggerLogout=function(){a.props.debugSet("NavBar","Manual Logout","Triggered"),a.props.logout(),a.props.history.push(a.props.reRouteSignIn)},a.state={},a}return Object(o.a)(s,[{key:"render",value:function(){var e=null,t=null;return void 0===this.props.currentUser?e=[Object(q.jsx)("li",{className:"nav-item",children:Object(q.jsx)(h.b,{className:"nav-link",to:this.props.reRouteSignUp,children:"Sign Up"})},"1"),Object(q.jsx)("li",{className:"nav-item",children:Object(q.jsx)(h.b,{className:"nav-link",to:this.props.reRouteSignIn,children:"Sign In"})},"2")]:(e=[Object(q.jsx)("li",{className:"nav-item",children:Object(q.jsx)(h.b,{className:"nav-link",to:this.props.reRouteDashboard,children:"Dashboard"})},"1")],t=Object(q.jsxs)("div",{className:"dropdown",children:[Object(q.jsx)("div",{className:"nav-link",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:this.props.currentUser}),Object(q.jsxs)("div",{className:"dropdown-menu dropdown-menu-right","aria-labelledby":"dropdownMenuButton",children:[Object(q.jsx)(h.b,{className:"dropdown-item",to:this.props.reRouteUserInvites,children:"Invites"}),Object(q.jsx)(h.b,{className:"dropdown-item",to:this.props.reRouteUserSecurity,children:"Security"}),Object(q.jsx)(h.b,{className:"dropdown-item",to:this.props.reRouteUserPermissions,children:"Permissions"}),Object(q.jsx)(h.b,{className:"dropdown-item",to:this.props.reRouteLanding,onClick:this.triggerLogout,children:"Sign Out"})]})]},"5")),Object(q.jsx)("div",{className:"navigation",children:Object(q.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:Object(q.jsxs)("div",{className:"container-fluid",children:[Object(q.jsx)(h.b,{className:"navbar-brand",to:this.props.reRouteLanding,children:"Project Scenere"}),Object(q.jsx)("div",{className:"dropdown"}),Object(q.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarResponsive","aria-controls":"navbarResponsive","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(q.jsx)("span",{className:"navbar-toggler-icon"})}),Object(q.jsx)("div",{className:"collapse navbar-collapse",id:"navbarResponsive",children:Object(q.jsxs)("ul",{className:"navbar-nav ml-auto",children:[e,t]})})]})})})}}]),s}(r.a.Component),Se=Object(u.f)(Ne),ye=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).checkDebugFlag=function(){return a.state.debugFlag},a.changeFlag=function(e){return"boolean"===typeof e&&(a.setState({debugFlag:e}),!0)},a.clearDebug=function(){a.setState({debugDisplay:{}})},a.clearPage=function(e){var t=a.state.debugDisplay;t[e]={},a.setState({debugDisplay:t})},a.changeKey=function(e,t,s){if(!a.state.debugFlag)return!1;var r=a.state.debugDisplay;return e in r||(r[e]={}),r[e][t]=s,a.setState({debugDisplay:r}),!0},a.buttonTrigger=function(){a.changeFlag(!a.state.debugFlag)},a.state={ENABLEBUTTON:!1,debugFlag:!1,debugDisplay:{}},a}return Object(o.a)(s,[{key:"render",value:function(){var e=[];if(this.state.debugFlag){var t=0;for(var s in this.state.debugDisplay){var a=[Object(q.jsxs)("div",{className:"row",children:[Object(q.jsx)("div",{className:"col",children:Object(q.jsx)("u",{children:"Name"})}),Object(q.jsx)("div",{className:"col",children:Object(q.jsx)("u",{children:"Value"})})]},t++)];for(var r in this.state.debugDisplay[s])"string"===typeof r&&"object"!==typeof this.state.debugDisplay[s][r]&&(a.push(Object(q.jsxs)("div",{className:"row",children:[Object(q.jsx)("div",{className:"col",children:r}),Object(q.jsx)("div",{className:"col",children:this.state.debugDisplay[s][r]})]},t)),t+=1);e.push(Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsxs)(_.a,{children:[Object(q.jsx)(_.a.Toggle,{as:Q.a.Header,className:"border",variant:"link",eventKey:"key"+t,children:s}),Object(q.jsx)(_.a.Collapse,{eventKey:"key"+t,children:Object(q.jsx)("div",{children:a})})]})})},s)),t+=1}}var n="btn btn-secondary";this.state.debugFlag||(n="btn btn-outline-secondary");var i=this.state.ENABLEBUTTON&&this.state.debugFlag;return Object(q.jsx)("div",{className:"footer fixed-bottom",children:Object(q.jsx)("footer",{className:"py-3 bg-dark",children:Object(q.jsx)("div",{className:"container",children:Object(q.jsxs)("div",{className:"row",children:[this.state.debugFlag?Object(q.jsx)("div",{className:"col",children:Object(q.jsxs)(_.a,{className:"text-white",children:[Object(q.jsx)(_.a.Toggle,{as:Q.a.Header,className:"border",variant:"link",eventKey:"opener",children:"Debug Mode"}),Object(q.jsx)(_.a.Collapse,{eventKey:"opener",children:Object(q.jsx)("div",{children:e})})]})}):Object(q.jsx)("div",{className:"col",children:Object(q.jsx)("p",{className:"m-0 text-center text-white",children:"Nightingale Technologies 2021"})}),i&&Object(q.jsx)("div",{className:"col-",children:Object(q.jsx)("button",{className:"btn btn-outline-secondary",onClick:this.clearDebug,children:"c"})}),this.state.ENABLEBUTTON&&Object(q.jsx)("div",{className:"col-",children:Object(q.jsx)("button",{className:n,onClick:this.buttonTrigger,children:"."})})]})})})})}}]),s}(r.a.Component),De=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).state={},a}return Object(o.a)(s,[{key:"render",value:function(){return Object(q.jsxs)("div",{className:"freePages",children:[Object(q.jsx)(je,{}),Object(q.jsx)(Oe,{}),Object(q.jsx)(ge,{}),Object(q.jsx)(xe,{}),Object(q.jsx)(fe,{})]})}}]),s}(r.a.Component),Ce=Object(u.f)(De),we=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).backButton=function(){a.props.history.goBack()},a.state={example:0},a}return Object(o.a)(s,[{key:"render",value:function(){return Object(q.jsx)("div",{className:"authPages",children:Object(q.jsx)("div",{className:"container",children:Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:"Authorization Pages"})})})})}}]),s}(r.a.Component),Ee=(Object(u.f)(we),"Content Common"),ke="Content Common",Pe=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).componentDidMount=function(){-1===a.state.currentDivisionID&&a.props.changeCompanyMenuItems(-1),a.checkParentIsLoaded()||(a.waitForParent=setInterval(a.checkParentIsLoaded,100))},a.triggerLogout=function(e){console.log(e),a.props.logout(),a.props.debugSet(Ee,"Logout Trigger",e),a.props.history.push(a.props.reRouteSignIn)},a.clearCompanyData=function(){a.setState({EHIData:[],currentCompanyDataName:void 0,currentCompanyDataType:void 0,selectedSummaryWeekData:{},validCompanySummaryDates:[],selectedSuggestDay:!1,selectedSuggestDayData:[],validDivisionSuggestionDates:[]})},a.checkParentIsLoaded=function(){return a.props.parentHasLoaded?(clearInterval(a.waitForParent),a.loadData(),!0):void 0===a.props.currentUser&&void 0},a.loadFromLocalStorage=function(){te(a.props.currentUser+"/lastGotCompany");a.setState({pageIsLoaded:!0})},a.loadData=function(){a.props.changeUserMenuItems(-1),a.checkActiveUser()},a.loadOtherData=function(){a.getJournalPrompts(),a.getValidDates(),a.getValidWebDates(),a.getUserCompanyPermsApp(),a.getSearchFilters(),a.setState({pageIsLoaded:!0})},a.getValidDates=function(){a.getValidJournalDates(),a.getValidNonJournalDates()},a.filtersFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return a.props.debugSet(Ee,"Refresh Triggered","Filters Get"),void a.props.refreshToken(a.loadOtherData);2===e.action||3===e.action||4===e.action||e.action}a.props.debugSet(Ee,"Get Filters","FAILURE"),t=e.messages,a.setState({getFiltersErrors:t,getFiltersStatus:3})},a.filtersCallback=function(e){a.props.debugSet(Ee,"Get Filters",Number(e.length)),a.setState({validFilters:e,getFiltersStatus:2})},a.getSearchFilters=function(){if(void 0!==a.props.currentUser){!function(e,t){var s={headers:{Authorization:"JWT ".concat(O)}};x.get("/api/getValidFilters/",s).then((function(t){var s=[];for(var a in t.data)s.push(t.data[a].name);e(s)})).catch((function(e){var s=y(e);t(s)}))}(a.filtersCallback,a.filtersFailure),a.setState({getFiltersStatus:1})}else a.triggerLogout("GetSearchFilters")},a.journalPromptsFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return a.props.debugSet(Ee,"Refresh Triggered","Journal Prompts"),void a.props.refreshToken(a.loadOtherData);2===e.action||3===e.action||4===e.action||e.action}a.props.debugSet(Ee,"Get Journals","FAILURE"),t=e.messages,a.setState({journalPromptsErrors:t,getJournalPromptsStatus:3})},a.journalPromptsCallback=function(e){a.props.debugSet(Ee,"Get Journals",Number(e.length)),a.setState({journalValidPrompts:e,getJournalPromptsStatus:2})},a.getJournalPrompts=function(){if(void 0!==a.props.currentUser){!function(e,t){var s={headers:{Authorization:"JWT ".concat(O)}};x.get("/api/getValidPrompts/",s).then((function(t){e(t.data)})).catch((function(e){var s=y(e);t(s)}))}(a.journalPromptsCallback,a.journalPromptsFailure),a.setState({getJournalPromptsStatus:1})}else a.triggerLogout("GetJournalPrompts")},a.checkActiveUserFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return a.props.debugSet(Ee,"Refresh Triggered","Active User"),void a.props.refreshToken(a.loadData);2===e.action||3===e.action||4===e.action||e.action}a.props.debugSet(Ee,"Active User","Error"),t=e.messages,a.setState({checkActiveUserStatus:3,checkActiveUserError:t})},a.checkActiveUserCallback=function(e){!0===e?(a.props.changeUserMenuItems(0),a.setState({checkActiveUserStatus:2}),a.props.debugSet(Ee,"Active User","True"),a.loadOtherData()):(a.props.debugSet(Ee,"Active User","False"),a.props.history.push(a.props.activateRedirect))},a.checkActiveUser=function(){void 0!==a.props.currentUser?(!function(e,t){var s={headers:{Authorization:"JWT ".concat(O),"Content-Type":"application/json",accept:"application/json"}};x.get("/api/userIsActive/",s).then((function(t){e(t.data[0].isActive)})).catch((function(e){var s=y(e);t(s)}))}(a.checkActiveUserCallback,a.checkActiveUserFailure),a.setState({checkActiveUserStatus:1})):a.triggerLogout("CheckActiveUser")},a.getValidWebDatesFailure=function(e){var t;if(0===e.action);else if(1===e.action)return a.props.debugSet(Ee,"Refresh Triggered","Web Dates"),void a.props.refreshToken(a.loadOtherData);a.props.debugSet(Ee,"Get Valid Webs","Failure"),t=e.messages,a.setState({getValidWebDatesStatus:3,getValidWebDatesError:t})},a.getValidWebDatesCallback=function(e){a.props.debugSet(Ee,"Get Valid Webs",Number(e.length)),e.length>0&&a.props.changeUserMenuItems(1),a.setState({validUserWebDates:e,getValidWebDatesStatus:2})},a.getValidWebDates=function(){if(void 0!==a.props.currentUser){!function(e,t){var s={headers:{Authorization:"JWT ".concat(O)}};x.get("/api/getUserWebDates/",s).then((function(t){e(t.data)})).catch((function(e){var s=y(e);t(s)}))}(a.getValidWebDatesCallback,a.getValidWebDatesFailure),a.setState({getValidWebDatesStatus:1})}else a.triggerLogout("GetValidWebDates")},a.journalDatesFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return a.props.debugSet(Ee,"Refresh Triggered","Journal Dates"),void a.props.refreshToken(a.loadOtherData);2===e.action||3===e.action||4===e.action||e.action}a.props.debugSet(Ee,"Get Journal Dates","Error"),t=e.messages,a.setState({getJournalDatesStatus:3,getJournalDatesError:t})},a.journalDatesCallback=function(e,t){var s="",r=0;for(s in e)r+=1;for(s in t)r+=1;a.props.debugSet(Ee,"Get Journal Dates",r),a.setState({validJournalDates:e,validJournalScanDates:t,getJournalDatesStatus:2})},a.getValidJournalDates=function(){if(void 0!==a.props.currentUser){!function(e,t){var s={headers:{Authorization:"JWT ".concat(O)}};x.get("/api/getJournalDates/",s).then((function(t){var s=new Date,a=s.getFullYear()+"-"+s.getMonth()+"-"+s.getDate(),r=[],n=[];for(var i in t.data){var c=new Date(t.data[i].forDate),o=c.getFullYear()+"-"+c.getMonth()+"-"+(c.getDate()+1);null===t.data[i].targetDivision&&(t.data[i].targetDivision="usr"),t.data[i].hasAI?(o in r?t.data[i].targetDivision in r[o]?r[o][t.data[i].targetDivision].push(t.data[i].usedPromptKey):r[o][t.data[i].targetDivision]=[t.data[i].usedPromptKey]:(r[o]={},r[o][t.data[i].targetDivision]=[t.data[i].usedPromptKey]),a===o&&("today"in r?t.data[i].targetDivision in r.today?r.today[t.data[i].targetDivision].push(t.data[i].usedPromptKey):r.today[t.data[i].targetDivision]=[t.data[i].usedPromptKey]:(r.today={},r.today[t.data[i].targetDivision]=[t.data[i].usedPromptKey]))):(o in n?t.data[i].targetDivision in n[o]?n[o][t.data[i].targetDivision].push(t.data[i].usedPromptKey):n[o][t.data[i].targetDivision]=[t.data[i].usedPromptKey]:(n[o]={},n[o][t.data[i].targetDivision]=[t.data[i].usedPromptKey]),a===o&&("today"in n?t.data[i].targetDivision in n.today?n.today[t.data[i].targetDivision].push(t.data[i].usedPromptKey):n.today[t.data[i].targetDivision]=[t.data[i].usedPromptKey]:(n.today={},n.today[t.data[i].targetDivision]=[t.data[i].usedPromptKey])))}e(n,r)})).catch((function(e){var s=y(e);t(s)}))}(a.journalDatesCallback,a.journalDatesFailure),a.setState({getJournalDatesStatus:1})}else a.triggerLogout("GetValidJournalDates")},a.nonJournalDatesFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return a.props.debugSet(Ee,"Refresh Triggered","Multi Choice Dates"),void a.props.refreshToken(a.loadOtherData);2===e.action||3===e.action||4===e.action||e.action}a.props.debugSet(Ee,"Get Multi Choice Dates","Error"),t=e.messages,a.setState({getNonJournalDatesStatus:3,getNonJournalDatesError:t})},a.nonJournalDatesCallback=function(e){var t="",s=0;for(t in e)s+=1;a.props.debugSet(Ee,"Get Multi Choice Dates",s),a.setState({validNonJournalDates:e,getNonJournalDatesStatus:2})},a.getValidNonJournalDates=function(){if(void 0!==a.props.currentUser){!function(e,t){var s={headers:{Authorization:"JWT ".concat(O)}};x.get("/api/getNonJournalDates/",s).then((function(t){var s=new Date,a=s.getFullYear()+"-"+s.getMonth()+"-"+s.getDate(),r=[];for(var n in t.data){var i=new Date(t.data[n].forDate),c=i.getFullYear()+"-"+i.getMonth()+"-"+(i.getDate()+1);null===t.data[n].targetDivision&&(t.data[n].targetDivision="usr"),c in r?t.data[n].targetDivision in r[c]?r[c][t.data[n].targetDivision].push(t.data[n].usedPromptKey):r[c][t.data[n].targetDivision]=[t.data[n].usedPromptKey]:(r[c]={},r[c][t.data[n].targetDivision]=[t.data[n].usedPromptKey]),a===c&&("today"in r?t.data[n].targetDivision in r.today?r.today[t.data[n].targetDivision].push(t.data[n].usedPromptKey):r.today[t.data[n].targetDivision]=[t.data[n].usedPromptKey]:(r.today={},r.today[t.data[n].targetDivision]=[t.data[n].usedPromptKey]))}e(r)})).catch((function(e){var s=y(e);t(s)}))}(a.nonJournalDatesCallback,a.nonJournalDatesFailure),a.setState({getNonJournalDatesStatus:1})}else a.triggerLogout("GetValidNon-JournalDates")},a.companyListFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return a.props.debugSet(Ee,"Refresh Triggered","Get Company List"),void a.props.refreshToken(a.loadOtherData);2===e.action||3===e.action||4===e.action||e.action}a.props.debugSet(Ee,"Get Permissions","Error"),t=e.messages,a.setState({getUserCompanyPermsAppStatus:3,getUserCompanyPermsAppError:t})},a.companyListCallback=function(e){a.setState({userLoadedCompanyList:e,getUserCompanyPermsAppStatus:2});var t=0,s=-1;for(var r in e){var n=e[r].perm.indexOf(0),i=e[r].perm.indexOf(1);(n>-1||i>-1)&&(t+=1,s=i,n>-1&&(s=n))}a.props.debugSet(Ee,"Get Permissions",Number(e.length)),1===t&&t>-1&&a.getCompanyDataRequest(e[s])},a.getUserCompanyPermsApp=function(){if(void 0!==a.props.currentUser){!function(e,t,s){var a={headers:{Authorization:"JWT ".concat(O)}};x.get("/api/getUsersPermissionTree/?reqPerms="+e,a).then((function(e){t(e.data.divList)})).catch((function(e){var t=y(e);s(t)}))}(["admin","view","send","gov"],a.companyListCallback,a.companyListFailure),a.setState({getUserCompanyPermsAppStatus:1})}else a.triggerLogout("GetUserCompanyPerms")},a.companyDatesFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return a.props.debugSet(ke,"Refresh Triggered","Division Dates"),void a.props.refreshToken(a.getThatData);2===e.action||3===e.action||4===e.action||e.action}a.props.debugSet(ke,"Get Division Dates","FAILURE"),t=e.messages,a.setState({getCompanyValidDatesStatus:3,getCompanyValidDatesError:t})},a.companyDatesCallback=function(e){var t=0;for(var s in e)t+=e[s].length;a.props.debugSet(ke,"Get Division Dates",t),a.setState({validCompanySummaryDates:e,getCompanyValidDatesStatus:2})},a.getCompanyValidDates=function(){if(-1!==a.state.currentDivisionID){!function(e,t,s){var a={headers:{Authorization:"JWT ".concat(O)}};x.get("/api/getCompanyDates/?reqDiv="+e,a).then((function(e){var s={},a="";for(a in e.data){var r=N[e.data[a].summaryType];r in s||(s[r]=[]),s[r].push({date:e.data[a].forDate,num:e.data[a].hasPrompts})}t(s)})).catch((function(e){var t=y(e);s(t)}))}(a.state.currentDivisionID,a.companyDatesCallback,a.companyDatesFailure),a.setState({getCompanyValidDatesStatus:1})}},a.companySuggestionDateFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return a.props.debugSet(ke,"Refresh Triggered","Division Suggesstion Dates"),void a.props.refreshToken(a.getThatData);2===e.action||3===e.action||4===e.action||e.action}a.props.debugSet(ke,"Get Division Suggestion Dates","FAILURE"),t=e.messages,a.setState({getCompanyValidSuggestionDatesStatus:3,getCompanyValidSuggestionDatesError:t})},a.companySuggestionDateCallback=function(e){a.props.debugSet(ke,"Get Division Suggestion Dates",Number(e.length)),a.setState({validDivisionSuggestionDates:e,getCompanyValidSuggestionDatesStatus:2})},a.getCompanyValidSuggestionDates=function(){if(-1!==a.state.currentDivisionID){!function(e,t,s){var a={headers:{Authorization:"JWT ".concat(O)}};x.get("/api/getCompanySuggestionDates/?reqDiv="+e,a).then((function(e){var s=[],a="";for(a in e.data){var r=new Date(e.data[a]),n=r.getFullYear()+"-"+r.getMonth()+"-"+(r.getDate()+1);s.push(n)}t(s)})).catch((function(e){var t=y(e);s(t)}))}(a.state.currentDivisionID,a.companySuggestionDateCallback,a.companySuggestionDateFailure),a.setState({getCompanyValidSuggestionDatesStatus:1})}},a.companySuggestionDataFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return a.props.debugSet(ke,"Refresh Triggered","Company Suggestions"),void a.props.refreshToken(a.tokenHasRefreshed);2===e.action||3===e.action||4===e.action||e.action}a.props.debugSet(ke,"Get Division Suggestion Data","Failure"),t=e.messages,a.setState({getCompanySuggestionDataStatus:3,getCompanySuggestionDataError:t})},a.companySuggestionDataCallback=function(e,t){a.props.debugSet(ke,"Get Division Suggestion Data","Got Data");var s=new Date(e);a.setState({selectedSuggestDay:s,selectedSuggestDayData:t,getCompanySuggestionDataStatus:2})},a.getCompanySuggestionData=function(e){if(-1!==a.state.currentDivisionID){a.setState({getCompanySuggestionData:e});!function(e,t,s,a){var r={headers:{Authorization:"JWT ".concat(O)}},n=t.toJSON().split("T")[0];x.get("/api/getCompanySuggestionData/?reqDiv="+e+"&reqDate="+n,r).then((function(e){s(t,e.data)})).catch((function(e){var t=y(e);a(t)}))}(a.state.currentDivisionID,e,a.companySuggestionDataCallback,a.companySuggestionDataFailure),a.setState({getCompanySuggestionDataStatus:1})}else a.setState({})},a.companyDataFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return a.props.debugSet(ke,"Refresh Triggered","Division Summary Data"),void a.props.refreshToken(a.tokenHasRefreshed);2===e.action||3===e.action||4===e.action||e.action}a.props.debugSet(ke,"Get Division Summary Data","Failure"),t=e.messages,a.setState({getCompanyWeeklySummaryStatus:3,getCompanyWeeklySummaryError:t})},a.companyDataCallback=function(e,t){a.props.debugSet(ke,"Get Division Summary Data","Success"),a.setState({companyMessage:"Showing Summary for: "+a.state.currentDivisionID+" On: "+a.state.selectedCompanyDate.toString(),selectedSummaryWeekData:e,currentCompanyDataType:t,currentCompanyDataName:a.state.currentDivisionName,currentCompanyDataID:a.state.currentDivisionID,getCompanyWeeklySummaryStatus:2})},a.getCompanyWeeklySummary=function(e){if(-1!==a.state.currentDivisionID){!function(e,t,s,a,r){var n=new Date(s.getTime()).toJSON().split("T")[0],i={headers:{Authorization:"JWT ".concat(O)}};x.get("/api/getCompanySummary/?reqDate="+n+"&reqDiv="+e+"&type="+t,i).then((function(e){a(e.data[0],t)})).catch((function(e){var t=y(e);r(t)}))}(a.state.currentDivisionID,0,e,a.companyDataCallback,a.companyDataFailure),a.setState({getCompanyWeeklySummaryStatus:1,selectedCompanyDate:e,currentCompanyDataName:void 0,currentCompanyDataType:void 0,selectedSummaryWeekData:{}})}},a.tokenHasRefreshed=function(){},a.companyEHIFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return a.props.debugSet(ke,"Refresh Triggered","Division EHI"),void a.props.refreshToken(a.getThatData);2===e.action||3===e.action||4===e.action||e.action}a.props.debugSet(ke,"Get Division EHI","Failure"),t=e.messages,a.setState({getCompanyEHIDataStatus:3,getCompanyEHIDataError:t})},a.companyEHICallback=function(e){a.props.debugSet(ke,"Get Division EHI","Success"),a.setState({EHIData:e,getCompanyEHIDataStatus:2})},a.getCompanyEHIData=function(){if(-1!==a.state.currentDivisionID){!function(e,t,s){var a={headers:{Authorization:"JWT ".concat(O)}};x.get("/api/getCompanyEHI/?reqDiv="+e,a).then((function(e){e.data.length>0?t(e.data[0].EHIstorage):s()})).catch((function(e){var t=y(e);s(t)}))}(a.state.currentDivisionID,a.companyEHICallback,a.companyEHIFailure),a.setState({getCompanyEHIDataStatus:1})}},a.getDivisionWebDatesFailure=function(e){if(0===e.action);else{if(1===e.action)return a.props.debugSet(ke,"Refresh Triggered","Division Web Dates"),void a.props.refreshToken(a.getDivisionWebDates);e.action}a.props.debugSet(ke,"Get Division Web Dates","Failure"),a.setState({getDatesWebStatus:3,getDatesWebError:e.messages})},a.getDivisionWebDatesCallback=function(e){e.length>0&&a.props.changeCompanyMenuItems(1),a.props.debugSet(ke,"Get Division Web Dates",Number(e.length)),a.setState({validDivisionWebDates:e,getDatesWebStatus:2})},a.getDivisionWebDates=function(){if(-1!==a.props.currentDivisionID){!function(e,t,s){var a={headers:{Authorization:"JWT ".concat(O)}};x.get("/api/getDivisionWebDates/?reqDiv="+e,a).then((function(e){t(e.data)})).catch((function(e){var t=y(e);s(t)}))}(a.state.currentDivisionID,a.getDivisionWebDatesCallback,a.getDivisionWebDatesFailure),a.setState({getDatesWebStatus:1})}else a.props.history.push(a.props.reRouteTarget)},a.getThatData=function(){a.clearCompanyData(),a.getCompanyEHIData(),a.getCompanyValidDates(),a.getCompanyValidSuggestionDates(),a.getDivisionWebDates()},a.getCompanyDataRequest=function(e){a.props.changeCompanyMenuItems(-1);var t=e.perm.indexOf(0)>-1,s=e.perm.indexOf(1)>-1;t?(a.props.changeCompanyMenuItems(0),a.props.changeCompanyMenuItems(2)):s&&a.props.changeCompanyMenuItems(0),se(a.props.currentUser+"/lastGotCompany",e,1),t||s?(a.setState({currentDivisionName:e.name,currentDivisionID:e.id,currentDivisionPerms:e.perm},a.getThatData),a.props.changeMenuCompanyName(e.name)):a.setState({getCompanyDataStatus:!1})},a.changeCompanyPrompt=function(e){a.setState({selectedCompanyPrompt:e.currentTarget.value})},a.changeCompanyAspect=function(e){a.setState({selectedCompanyAspect:e.currentTarget.value})},a.changeCompanyDay=function(e){a.setState({selectedCompanyDay:e.currentTarget.value})},a.reloadPage=function(){a.loadData()},a.state={currentDate:new Date,validJournalDates:[],validJournalScanDates:[],selectedCompanyDate:new Date,selectedSuggestionDate:new Date,EHIData:[],selectedCompanyDay:"mon",selectedCompanyPrompt:"misc",selectedCompanyAspect:"emotion",companyMessage:"Choose a date and company to view that summary!",currentDivisionID:-1,currentDivisionName:"None",currentCompanyDataName:void 0,currentCompanyDataType:void 0,selectedSummaryWeekData:{},validCompanySummaryDates:[],selectedSuggestDay:!1,selectedSuggestDayData:[],validDivisionSuggestionDates:[],validDivisionWebDates:[],getDatesWebStatus:0,getDatesWebError:[],lastGovernedCompanyRequestStatus:void 0,userLoadedCompanyList:[],checkActiveUserStatus:0,checkActiveUserError:[],getJournalDatesStatus:0,getJournalDatesError:[],getUserCompanyPermsAppStatus:0,getUserCompanyPermsAppError:[],getCompanyValidDatesStatus:0,getCompanyValidDatesError:[],getCompanyValidSuggestionDatesStatus:0,getCompanyValidSuggestionDatesError:[],getCompanyEHIDataStatus:0,getCompanyEHIDataError:[],getCompanySuggestionDataStatus:0,getCompanySuggestionDataError:[],getCompanyWeeklySummaryStatus:0,getCompanyWeeklySummaryError:[],getCompanyDataStatus:!0,journalValidUserPrompts:[],journalValidPrompts:[],journalPromptsErrors:[],getJournalPromptsStatus:0,validNonJournalDates:[],getNonJournalDatesError:[],getNonJournalDatesStatus:0,validUserWebDates:{},getValidWebDatesStatus:[],getValidWebDatesError:0,validFilters:[],getFiltersErrors:[],getFiltersStatus:0,pageIsLoaded:!1},a.waitForParent=void 0,a}return Object(o.a)(s,[{key:"render",value:function(){var e=this,t=1===this.state.getJournalPromptsStatus||1===this.state.checkActiveUserStatus||1===this.state.getJournalDatesStatus||1===this.state.getUserCompanyPermsAppStatus;return Object(q.jsxs)("div",{className:"contentPages",children:[t&&Object(q.jsx)(Is,{}),Object(q.jsxs)("div",{className:"container-fluid",children:[!t&&Object(q.jsxs)(u.c,{children:[Object(q.jsx)(u.a,{path:this.props.match.url,exact:!0,component:function(){return Object(q.jsx)(Ie,{toUserPage:e.props.match.url+"/userMode/journalWrite",toCompanyPage:e.props.match.url+"/companyMode/companySelect",journalValidPrompts:e.state.journalValidPrompts,userLoadedCompanyList:e.state.userLoadedCompanyList,validNonJournalDates:e.state.validNonJournalDates,validJournalDates:e.state.validJournalDates,validJournalScanDates:e.state.validJournalScanDates,reloadPage:e.reloadPage})}}),Object(q.jsx)(u.a,{path:this.props.match.url+"/userMode",component:function(){return Object(q.jsx)(Vt,{reRouteUser:e.props.reRouteUser,getValidDates:e.getValidDates,currentDate:e.state.currentDate,refreshToken:e.props.refreshToken,currentUser:e.props.currentUser,loadCompanyData:e.loadOtherData,validUserWebDates:e.state.validUserWebDates,validNonJournalDates:e.state.validNonJournalDates,validJournalDates:e.state.validJournalDates,validJournalScanDates:e.state.validJournalScanDates,lastGovernedCompanyRequestStatus:e.state.lastGovernedCompanyRequestStatus,disableMenu:e.props.disableMenu,activateUserMenu:e.props.activateUserMenu,userLoadedCompanyList:e.state.userLoadedCompanyList,journalValidPrompts:e.state.journalValidPrompts,journalPromptsErrors:e.state.journalPromptsErrors,validFilters:e.state.validFilters,debugSet:e.props.debugSet})}}),Object(q.jsx)(u.a,{path:this.props.match.url+"/companyMode",component:function(){return Object(q.jsx)(Ps,{refreshToken:e.props.refreshToken,parentHasLoaded:e.state.pageIsLoaded,currentUser:e.props.currentUser,reRouteCompany:e.props.reRouteCompany,userLoadedCompanyList:e.state.userLoadedCompanyList,resetCompanySelectStatus:e.resetCompanySelectStatus,currentDate:e.state.currentDate,currentDivisionName:e.state.currentDivisionName,getCompanyDataRequest:e.getCompanyDataRequest,currentDivisionID:e.state.currentDivisionID,selectedCompanyDate:e.state.selectedCompanyDate,validDivisionWebDates:e.state.validDivisionWebDates,validDivisionSuggestionDates:e.state.validDivisionSuggestionDates,selectedSuggestDay:e.state.selectedSuggestDay,selectedSuggestDayData:e.state.selectedSuggestDayData,getCompanySuggestionData:e.getCompanySuggestionData,EHIData:e.state.EHIData,currentCompanyDataName:e.state.currentCompanyDataName,currentCompanyDataType:e.state.currentCompanyDataType,validCompanySummaryDates:e.state.validCompanySummaryDates,companyMessage:e.state.companyMessage,selectedSummaryWeekData:e.state.selectedSummaryWeekData,selectedCompanyDay:e.state.selectedCompanyDay,selectedCompanyPrompt:e.state.selectedCompanyPrompt,selectedCompanyAspect:e.state.selectedCompanyAspect,changeCompanyPrompt:e.changeCompanyPrompt,changeCompanyAspect:e.changeCompanyAspect,changeCompanyDay:e.changeCompanyDay,changeSelectedCompany:e.changeSelectedCompany,getCompanyValidDates:e.getCompanyValidDates,getCompanyWeeklySummary:e.getCompanyWeeklySummary,loadCompanyData:e.loadFromLocalStorage,disableMenu:e.props.disableMenu,activateCompanyMenu:e.props.activateCompanyMenu,getCompanyDataStatus:e.state.getCompanyDataStatus,getCompanyValidDatesStatus:e.state.getCompanyValidDatesStatus,getCompanyValidDatesError:e.state.getCompanyValidDatesError,getCompanyValidSuggestionDatesStatus:e.state.getCompanyValidSuggestionDatesStatus,getCompanyValidSuggestionDatesError:e.state.getCompanyValidSuggestionDatesError,getCompanyEHIDataStatus:e.state.getCompanyEHIDataStatus,getCompanyEHIDataError:e.state.getCompanyEHIDataError,getCompanySuggestionDataStatus:e.state.getCompanySuggestionDataStatus,getCompanySuggestionDataError:e.state.getCompanySuggestionDataError,getCompanyWeeklySummaryStatus:e.state.getCompanyWeeklySummaryStatus,getCompanyWeeklySummaryError:e.state.getCompanyWeeklySummaryError,getDatesWebStatus:e.state.getDatesWebStatus,getDatesWebError:e.state.getDatesWebError,validFilters:e.state.validFilters,debugSet:e.props.debugSet})}})]}),Object(q.jsx)("div",{className:"container",children:Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsxs)(j.a,{show:t,variant:"warning",children:[Object(q.jsx)(j.a.Heading,{children:"Waiting"}),Object(q.jsx)("hr",{}),Object(q.jsx)("p",{children:"Waiting for server..."}),Object(q.jsx)("hr",{})]})})})})]})]})}}]),s}(r.a.Component),Te=Object(u.f)(Pe),Fe=(r.a.Component,function(e,t,s,a,r){var n=!1,i=e.id;if(void 0!==s&&void 0!==s.today&&i in s.today)for(var c in s.today[i])if(null!==s.today[i][c]&&t===s.today[i][c].identifier){n=!0;break}if(void 0!==a&&void 0!==a.today&&i in a.today)for(var o in a.today[i])if(null!==a.today[i][o]&&t===a.today[i][o].identifier){n=!0;break}if(void 0!==r&&void 0!==r.today&&i in r.today)for(var l in r.today[i])if(null!==r.today[i][l]&&t===r.today[i][l].identifier){n=!0;break}return n}),Ie=Object(u.f)((function(e){var t=0;for(var s in e.journalValidPrompts)if(void 0!==e.journalValidPrompts[s]){var a="usr";for(var r in e.journalValidPrompts[s].typeFlag||(a=e.journalValidPrompts[s].divTarget),e.journalValidPrompts[s].promptSet){var n=e.journalValidPrompts[s].promptSet[r].identifier;Fe(a,n,e.validNonJournalDates,e.validJournalDates,e.validJournalScanDates)||t++}}var i=0;for(var c in e.userLoadedCompanyList)for(var o in e.userLoadedCompanyList[c].perm)if(0===e.userLoadedCompanyList[c].perm[o]||1===e.userLoadedCompanyList[c].perm[o]){i++;break}var l=Object(q.jsxs)("div",{children:[Object(q.jsxs)("div",{className:"list-group-item",children:[Object(q.jsx)("b",{children:t})," Prompts left for Today"]}),Object(q.jsx)(h.b,{className:"btn btn-primary btn-block",to:e.toUserPage,children:"Change To User Mode"})]}),d=Object(q.jsx)("div",{children:"Empty!"});d=i>0?Object(q.jsxs)("div",{children:[Object(q.jsxs)("div",{className:"list-group-item",children:[Object(q.jsx)("b",{children:i})," Viewable Divisions"]}),Object(q.jsx)(h.b,{className:"btn btn-primary btn-block",to:e.toCompanyPage,children:"Change To Company Mode"})]}):Object(q.jsx)("div",{className:"list-group-item",children:"Nothing Viewable!"});return Object(q.jsx)("div",{className:"defaultView",children:Object(q.jsxs)("div",{className:"container",children:[Object(q.jsxs)("div",{className:"mt-5",children:[Object(q.jsx)("div",{className:"row my-3",children:Object(q.jsx)("div",{className:"col m-1",children:Object(q.jsx)("div",{className:"card shadow",children:Object(q.jsx)("div",{className:"card-header",children:Object(q.jsx)("h4",{children:"Dashboard"})})})})}),Object(q.jsxs)("div",{className:"row my-3",children:[Object(q.jsx)("div",{className:"col m-1",children:Object(q.jsx)("div",{className:"card shadow",children:Object(q.jsx)("div",{className:"card-body",children:l})})}),Object(q.jsx)("div",{className:"col m-1",children:Object(q.jsx)("div",{className:"card shadow",children:Object(q.jsx)("div",{className:"card-body",children:d})})})]}),Object(q.jsx)("div",{className:"row my-3",children:Object(q.jsx)("div",{className:"col m-1",children:Object(q.jsx)("div",{className:"card shadow",children:Object(q.jsx)("div",{className:"card-body",children:Object(q.jsx)("h5",{children:Object(q.jsx)("u",{children:Object(q.jsx)("button",{className:"btn btn-primary",onClick:e.reloadPage,children:"Refresh Data"})})})})})})})]}),!1]})})})),Le=s(15),Ue=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).state={btnLen:2},a}return Object(o.a)(s,[{key:"render",value:function(){var e="",t="";this.props.activePage<=0&&(e="disabled"),this.props.activePage>=this.props.totalLoaded/this.props.numPerPage-1&&(t="disabled");for(var s=[],a=-this.state.btnLen;a<=this.state.btnLen;a++){var r="",n=a+this.props.activePage;n<0||n>=this.props.totalLoaded/this.props.numPerPage||(0===a&&(r="active "),s.push(Object(q.jsx)("button",{className:"btn btn-outline-primary "+r,value:n,onClick:this.props.changeToNum,children:n},a)))}return Object(q.jsx)("div",{className:"paginator",children:Object(q.jsx)("div",{className:"container",children:Object(q.jsx)("div",{className:"row",children:Object(q.jsxs)("div",{className:"col",children:[Object(q.jsx)("button",{className:"btn btn-outline-primary "+e,value:"bck",onClick:this.props.changePrevNext,children:"Prev"}),s,Object(q.jsx)("button",{className:"btn btn-outline-primary "+t,value:"fwd",onClick:this.props.changePrevNext,children:"Next"})]})})})})}}]),s}(r.a.Component),We={editor:{border:"1px solid gray",minHeight:"6em",textAlign:"left"}},Ae=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){var e;return Object(c.a)(this,s),(e=t.call(this)).onToggle=function(t){t.preventDefault(),e.props.onToggle(e.props.style)},e}return Object(o.a)(s,[{key:"render",value:function(){var e="btn btn-outline-primary";return this.props.active&&(e+=" active"),Object(q.jsx)("button",{className:e,onMouseDown:this.onToggle,children:this.props.label})}}]),s}(r.a.Component),Re=[{label:"H1",style:"header-one"},{label:"H2",style:"header-two"},{label:"H3",style:"header-three"},{label:"H4",style:"header-four"},{label:"H5",style:"header-five"},{label:"H6",style:"header-six"},{label:"UL",style:"unordered-list-item"},{label:"OL",style:"ordered-list-item"}],Je=function(e){var t=e.editorState,s=t.getSelection(),a=t.getCurrentContent().getBlockForKey(s.getStartKey()).getType();return Object(q.jsx)("div",{className:"RichEditor-controls",children:Re.map((function(t){return Object(q.jsx)(Ae,{active:t.style===a,label:t.label,onToggle:e.onToggle,style:t.style},t.label)}))})},Me=[{label:"Bold",style:"BOLD"},{label:"Italic",style:"ITALIC"},{label:"Underline",style:"UNDERLINE"}],Be=function(e){var t=e.editorState.getCurrentInlineStyle();return Object(q.jsx)("div",{className:"RichEditor-controls",children:Me.map((function(s){return Object(q.jsx)(Ae,{active:t.has(s.style),label:s.label,onToggle:e.onToggle,style:s.style},s.label)}))})},He=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).initializeSubList=function(){var e=[];for(var t in a.props.userLoadedCompanyList){var s=-1;for(var r in a.props.userLoadedCompanyList[t].perm)3===a.props.userLoadedCompanyList[t].perm[r]&&(s=3);s>=0&&s<4&&e.push(a.props.userLoadedCompanyList[t])}return e},a.toggleBlockType=function(e){a.props.onChange(Le.RichUtils.toggleBlockType(a.props.editorState,e))},a.toggleInlineStyle=function(e){a.props.onChange(Le.RichUtils.toggleInlineStyle(a.props.editorState,e))},a.handleKeyCommand=function(e,t){var s=Le.RichUtils.handleKeyCommand(t,e);return s?(a.props.onChange(s),"handled"):"not-handled"},a.changePageTo=function(e){var t=Number(e.target.value);a.setState({pageNum:t})},a.changePageFwdBck=function(e){var t=Number(a.state.pageNum);if("fwd"===e.target.value){if((t+=1)>a.state.subList.length/a.state.numPerPage)return}else if("bck"===e.target.value&&(t-=1)<0)return;a.setState({pageNum:t})},a.setCompany=function(e){a.props.setSuggestionDivision(Number(e.target.value))},a.state={pageNum:0,numPerPage:3,numChooseLimit:5,subList:a.initializeSubList()},a.focusMe=function(){return a.refs.editor.focus()},a}return Object(o.a)(s,[{key:"render",value:function(){var e=[],t="No Valid Company!",s=0;for(var a in this.props.userLoadedCompanyList)this.props.currentDivisionID===this.props.userLoadedCompanyList[a].id&&(t=this.props.userLoadedCompanyList[a].name,this.props.userLoadedCompanyList[a].perm.indexOf(3)&&(s=1));for(var r=0;r<this.state.numPerPage;r++){var n=r+this.state.pageNum*this.state.numPerPage;n>this.state.subList.length||n<0||void 0!==this.state.subList[n]&&e.push(Object(q.jsxs)("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[Object(q.jsx)("div",{className:"col",children:this.state.subList[n].fullname}),Object(q.jsx)("div",{className:"col-2",children:Object(q.jsx)("button",{className:"btn btn-primary",value:this.state.subList[n].id,onClick:this.setCompany,children:"Choose!"})})]},r))}0===e.length&&e.push(Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:"The Server has reported you are not the governed user for any companies!"})},"0"));var i="btn ";i+=s>0?"btn-success":"btn-danger";var c="";!1===this.props.lastRequestStatus&&(c=" bg-danger");var o=1===this.props.postSuggestionStatus,l=2===this.props.postSuggestionStatus,d=3===this.props.postSuggestionStatus,h=[];for(var u in this.props.suggestionErrors)h.push(this.props.suggestionErrors[u].text);return 0===h.length&&h.push("Unknown!"),Object(q.jsx)("div",{className:"makeView",children:Object(q.jsxs)("div",{className:"container-fluid",children:[Object(q.jsx)("div",{className:"row my-2",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsxs)("div",{className:"card shadow",children:[Object(q.jsx)("div",{className:"card-header",children:Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col my-2",children:Object(q.jsx)("div",{className:c,children:Object(q.jsx)("h4",{children:Object(q.jsx)("u",{children:"Which Company Part Is This For?"})})})})})}),Object(q.jsxs)("div",{className:"card-body",children:[Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsx)("ul",{className:"list-group",children:e})})}),Object(q.jsx)(Ue,{activePage:this.state.pageNum,changePrevNext:this.changePageFwdBck,changeToNum:this.changePageTo,totalLoaded:this.state.subList.length,numPerPage:this.state.numPerPage})]})]})})}),Object(q.jsx)("div",{className:"row my-2",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsxs)("div",{className:"card shadow",children:[Object(q.jsxs)("div",{className:"card-header",children:[Object(q.jsx)("h4",{children:Object(q.jsx)("u",{children:"Writing Suggestion for:"})}),Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col my-2",children:Object(q.jsx)("div",{className:c,children:Object(q.jsx)("h5",{children:Object(q.jsx)("b",{children:t})})})})})]}),Object(q.jsxs)("div",{className:"card-body",children:[Object(q.jsx)("div",{className:"row",children:Object(q.jsxs)("div",{className:"col",children:[Object(q.jsx)(Je,{editorState:this.props.editorState,onToggle:this.toggleBlockType}),Object(q.jsx)(Be,{editorState:this.props.editorState,onToggle:this.toggleInlineStyle})]})}),Object(q.jsxs)("div",{className:"row",children:[Object(q.jsx)("div",{className:"col-1"}),Object(q.jsx)("div",{className:"col",onClick:this.focusMe,children:Object(q.jsx)("div",{id:"align-left",children:Object(q.jsx)("div",{style:We.editor,children:Object(q.jsx)(Le.Editor,{editorState:this.props.editorState,onChange:this.props.onChange,handleKeyCommand:this.handleKeyCommand,spellCheck:!0,placeholder:"",ref:"editor"})})})}),Object(q.jsx)("div",{className:"col-1"})]}),Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsx)("button",{className:i,onMouseDown:this.props.saveToServer,children:" Save Suggestion "})})})]})]})})}),Object(q.jsxs)(j.a,{show:o,variant:"warning",children:[Object(q.jsx)(j.a.Heading,{children:"Waiting"}),Object(q.jsx)("hr",{}),Object(q.jsx)("p",{children:"Waiting for server response..."}),Object(q.jsx)("hr",{})]}),Object(q.jsxs)(j.a,{show:l,variant:"success",children:[Object(q.jsx)(j.a.Heading,{children:"Success!"}),Object(q.jsx)("hr",{}),Object(q.jsx)("p",{children:"Successfully submitted suggestion!"}),Object(q.jsx)("hr",{})]}),Object(q.jsxs)(j.a,{show:d,variant:"danger",children:[Object(q.jsx)(j.a.Heading,{children:"Error!"}),Object(q.jsx)("hr",{}),Object(q.jsx)("p",{children:h}),Object(q.jsx)("hr",{})]})]})})}}]),s}(r.a.Component),Ve=Object(u.f)(He),Ge="User Profile",qe=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).initAdmin=function(){var e=[];for(var t in a.props.userLoadedCompanyList)a.props.userLoadedCompanyList[t].perm.indexOf(0)>-1&&e.push(a.props.userLoadedCompanyList[t]);return e},a.initViews=function(){var e=[];for(var t in a.props.userLoadedCompanyList)a.props.userLoadedCompanyList[t].perm.indexOf(1)>-1&&e.push(a.props.userLoadedCompanyList[t]);return e},a.initSends=function(){var e=[];for(var t in a.props.userLoadedCompanyList)a.props.userLoadedCompanyList[t].perm.indexOf(2)>-1&&e.push(a.props.userLoadedCompanyList[t]);return e},a.initGovs=function(){var e=[];for(var t in a.props.userLoadedCompanyList)a.props.userLoadedCompanyList[t].perm.indexOf(3)>-1&&e.push(a.props.userLoadedCompanyList[t]);return e},a.setCurrentData=function(e){var t=Number(e.target.value),s="No Name!",r=[],n=[],i=[];switch(e.target.name){case"gov":r.push(a.state.govSubList[t].id),s=a.state.govSubList[t].fullname;break;case"sen":n.push(a.state.viewSubList[t].id),s=a.state.viewSubList[t].fullname;break;case"admSen":n.push(a.state.adminSubList[t].id),s=a.state.adminSubList[t].fullname;break;case"vie":i.push(a.state.viewSubList[t].id),s=a.state.viewSubList[t].fullname;break;default:console.log("Failed to have the correct name")}a.setState({delGoverns:r,togSends:n,delViews:i,selectedName:s})},a.setFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return a.props.debugSet(Ge,"Refresh Triggered","Save Profile Changes"),void a.props.refreshToken(a.saveChanges());2===e.action||3===e.action||4===e.action||e.action}a.props.debugSet(Ge,"Save Changes","Failure"),t=e.messages,a.setState({saveChangesError:t,saveChangesStatus:3})},a.setSuccess=function(e){a.props.debugSet(Ge,"Save Changes","Success"),a.props.triggerRefresh(),a.setState({saveChangesStatus:2})},a.saveChanges=function(){!function(e,t,s){var a={headers:{Authorization:"JWT ".concat(O)}},r=e;x.put("/api/setUserProfileData/",r,a).then((function(e){var s=e.data;t(s)})).catch((function(e){var t=y(e);s(t)}))}({delViews:a.state.delViews,togEmails:a.state.togSends,delGoverns:a.state.delGoverns},a.setSuccess,a.setFailure),a.setState({delGoverns:[],togSends:[],delViews:[],selectedName:"No Name!",saveChangesStatus:1})},a.state={delViews:[],togSends:[],delGoverns:[],adminSubList:a.initAdmin(),viewSubList:a.initViews(),sendSubList:a.initSends(),govSubList:a.initGovs(),selectedName:"No Name!",saveChangesStatus:0,saveChangesError:[]},a}return Object(o.a)(s,[{key:"render",value:function(){var e=[];for(var t in this.state.adminSubList){var s="Off",a="badge-danger",r=this.state.sendSubList.indexOf(this.state.adminSubList[t]);r>=0&&(s="On",a="badge-success");var n="";(r=this.state.togSends.indexOf(this.state.adminSubList[t].id))>=0&&(n="bg-warning"),(r=this.state.delViews.indexOf(this.state.adminSubList[t].id))>=0&&(n="bg-danger"),e.push(Object(q.jsxs)("li",{className:"list-group-item d-flex justify-content-around "+n,children:[Object(q.jsx)("div",{className:"col alignOverride",children:this.state.adminSubList[t].fullname}),Object(q.jsx)("div",{className:"col",children:"Admin"}),Object(q.jsx)("div",{className:"col-2",children:Object(q.jsx)("button",{className:"badge "+a+" badge-pill",name:"admSen",value:t,"data-toggle":"modal","data-target":"#viewToggleConfirm",onClick:this.setCurrentData,children:s})}),Object(q.jsx)("div",{className:"col-1",children:Object(q.jsx)("button",{className:"badge badge-secondary badge-pill",name:"adm",value:t,"data-toggle":"modal","data-target":"#deleteConfirm",onClick:this.setCurrentData,disabled:!0,children:"X"})})]},t))}for(var i in this.state.viewSubList){var c="Off",o="badge-danger",l=this.state.sendSubList.indexOf(this.state.viewSubList[i]);l>=0&&(c="On",o="badge-success");var d="";(l=this.state.togSends.indexOf(this.state.viewSubList[i].id))>=0&&(d="bg-warning"),(l=this.state.delViews.indexOf(this.state.viewSubList[i].id))>=0&&(d="bg-danger"),e.push(Object(q.jsxs)("li",{className:"list-group-item d-flex justify-content-around "+d,children:[Object(q.jsx)("div",{className:"col alignOverride",children:this.state.viewSubList[i].fullname}),Object(q.jsx)("div",{className:"col",children:"Viewer"}),Object(q.jsx)("div",{className:"col-2",children:Object(q.jsx)("button",{className:"badge "+o+" badge-pill",name:"sen",value:i,"data-toggle":"modal","data-target":"#viewToggleConfirm",onClick:this.setCurrentData,children:c})}),Object(q.jsx)("div",{className:"col-1",children:Object(q.jsx)("button",{className:"badge badge-danger badge-pill",name:"vie",value:i,"data-toggle":"modal","data-target":"#deleteConfirm",onClick:this.setCurrentData,children:"X"})})]},i))}0===e.length&&e.push(Object(q.jsx)("li",{className:"list-group-item d-flex justify-content-around",children:"None!"},0));var h=[];if(this.state.govSubList.length>0)for(var u in this.state.govSubList){var b="";this.state.delGoverns.indexOf(this.state.govSubList[u].id)>=0&&(b="bg-danger"),h.push(Object(q.jsxs)("li",{className:"list-group-item d-flex justify-content-around "+b,children:[Object(q.jsx)("div",{className:"col alignOverride",children:this.state.govSubList[u].fullname}),Object(q.jsx)("div",{className:"col-1",children:Object(q.jsx)("button",{className:"badge badge-danger badge-pill",name:"gov",value:u,"data-toggle":"modal","data-target":"#deleteConfirm",onClick:this.setCurrentData,children:"X"})})]},u))}else h.push(Object(q.jsx)("li",{className:"list-group-item d-flex justify-content-around",children:"None!"},0));var m=1===this.state.saveChangesStatus,p=3===this.state.saveChangesStatus,v=[];for(var g in this.state.saveChangesError)v.push(this.state.saveChangesError[g].text);return 0===v.length&&v.push("Unknown!"),Object(q.jsx)("div",{className:"defaultView",children:Object(q.jsxs)("div",{className:"container",children:[Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsxs)("div",{className:"card shadow",children:[Object(q.jsx)("div",{className:"card-header",children:Object(q.jsx)("h5",{children:"Companies you can View data for"})}),Object(q.jsx)("div",{className:"card-body",children:Object(q.jsxs)("ul",{className:"list-group",children:[Object(q.jsxs)("li",{className:"list-group-item d-flex justify-content-around",children:[Object(q.jsx)("div",{className:"col alignOverride",children:"Company Division Name"}),Object(q.jsx)("div",{className:"col",children:"Type"}),Object(q.jsx)("div",{className:"col-2",children:"Notifications"}),Object(q.jsx)("div",{className:"col-1"})]},-1),e]})})]})})}),Object(q.jsx)("div",{className:"row",children:Object(q.jsxs)("div",{className:"col",children:[Object(q.jsxs)("div",{className:"card shadow",children:[Object(q.jsx)("div",{className:"card-header",children:Object(q.jsx)("h5",{children:"Companies getting your Journal Info"})}),Object(q.jsx)("div",{className:"card-body",children:Object(q.jsx)("ul",{className:"list-group",children:h})})]}),Object(q.jsxs)(j.a,{show:m,variant:"warning",children:[Object(q.jsx)(j.a.Heading,{children:"Waiting"}),Object(q.jsx)("hr",{}),Object(q.jsx)("p",{children:"Waiting for server response..."}),Object(q.jsx)("hr",{})]}),Object(q.jsxs)(j.a,{show:!1,variant:"success",children:[Object(q.jsx)(j.a.Heading,{children:"Success!"}),Object(q.jsx)("hr",{}),Object(q.jsx)("p",{children:"Success!"}),Object(q.jsx)("hr",{})]}),Object(q.jsxs)(j.a,{show:p,variant:"danger",children:[Object(q.jsx)(j.a.Heading,{children:"Danger!"}),Object(q.jsx)("hr",{}),Object(q.jsx)("p",{children:v}),Object(q.jsx)("hr",{})]})]})}),Object(q.jsx)("div",{className:"modal fade",id:"deleteConfirm",tabIndex:"-1",role:"dialog","aria-labelledby":"deleteConfirmation","aria-hidden":"true",children:Object(q.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:Object(q.jsxs)("div",{className:"modal-content",children:[Object(q.jsxs)("div",{className:"modal-header",children:[Object(q.jsx)("h5",{className:"modal-title",id:"deleteTitleConfirm",children:"Delete Confirmation"}),Object(q.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(q.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(q.jsxs)("div",{className:"modal-body",children:[Object(q.jsx)("div",{children:"Are you SURE you want to revoke permission for:"}),Object(q.jsxs)("div",{children:[this.state.selectedName,"?"]}),Object(q.jsx)("div",{children:"You will need to be invited back!"})]}),Object(q.jsxs)("div",{className:"modal-footer",children:[Object(q.jsx)("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal",onClick:this.saveChanges,children:"Yes"}),Object(q.jsx)("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal",children:"No"})]})]})})}),Object(q.jsx)("div",{className:"modal fade",id:"viewToggleConfirm",tabIndex:"-1",role:"dialog","aria-labelledby":"viewToggleConfirm","aria-hidden":"true",children:Object(q.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:Object(q.jsxs)("div",{className:"modal-content",children:[Object(q.jsxs)("div",{className:"modal-header",children:[Object(q.jsx)("h5",{className:"modal-title",id:"deleteTitleConfirm",children:"Toggle Notification Confirmation"}),Object(q.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(q.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(q.jsxs)("div",{className:"modal-body",children:[Object(q.jsx)("div",{children:"Are you SURE you want to toggle notifications for:"}),Object(q.jsxs)("div",{children:[this.state.selectedName,"?"]})]}),Object(q.jsxs)("div",{className:"modal-footer",children:[Object(q.jsx)("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal",onClick:this.saveChanges,children:"Yes"}),Object(q.jsx)("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal",children:"No"})]})]})})})]})})}}]),s}(r.a.Component),Ke=Object(u.f)(qe),ze=s(37),Ye=(s(58),s(16)),Ze=s(544),Xe=s(545),_e=s(551),Qe=function(e){return[e.joy,e.anger,e.sadness,e.disgust,e.fear]},$e=[{name:"Emotion",value:"emotion"},{name:"Sentiment",value:"sentiment"},{name:"Entities",value:"entities"},{name:"Keywords",value:"keywords"}],et={editor:{minHeight:"6em",textAlign:"left"}},tt=function(e){var t=[];for(var s in e.promptQuestions){var a="outline-";Number(e.selected)===Number(s)&&(a=""),t.push(Object(q.jsx)("button",{type:"button",value:s,className:"btn disabled btn-"+a+"primary",children:e.promptQuestions[s]},s))}return Object(q.jsx)("div",{className:"MultiIteration",children:t})},st=function(e){var t=["outline-","outline-","outline-","outline-","outline-","outline-"];e.selected>=0&&e.selected<t.length&&(t[e.selected]="");var s=[];for(var a in t)s.push(Object(q.jsx)("button",{type:"button",value:a,className:"btn disabled btn-"+t[a]+"primary",children:a},a));return Object(q.jsx)("div",{className:"RatingIteration",children:s})},at=function(e){var t=["outline-","outline-","outline-","outline-","outline-"];e.selected>=0&&e.selected<t.length&&(t[e.selected]="");var s=[];for(var a in t)s.push(Object(q.jsx)("button",{type:"button",value:a,className:"btn disabled btn-"+t[a]+"primary",children:a-2},a));return Object(q.jsxs)("div",{className:"LikertIteration",children:[Object(q.jsx)("span",{className:"btn btn-link disabled",disabled:!0,children:"Highly Disagree"}),s,Object(q.jsx)("span",{className:"btn btn-link disabled",disabled:!0,children:"Highly Agree"})]})},rt=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).setAspect=function(e){a.setState({selectedAspect:e.currentTarget.value})},a.state={selectedAspect:"emotion"},a}return Object(o.a)(s,[{key:"render",value:function(){var e=this,t=Le.EditorState.createEmpty();if(null!==this.props.richText){var s=Object(Le.convertFromRaw)(this.props.richText);t=Le.EditorState.createWithContent(s)}var a=[],r=[],n=this.props.AIresults;if(null!==n&&void 0!==n&&this.state.selectedAspect in n){var i=n[this.state.selectedAspect];switch(this.state.selectedAspect){case"emotion":var c=Qe(i.document.emotion),o=A(c),l={scale:{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}};a.push(Object(q.jsxs)(Ze.a,{bordered:!0,responsive:!0,children:[Object(q.jsx)("thead",{children:Object(q.jsx)("tr",{children:Object(q.jsx)("th",{scope:"col",children:"Whole Journal Emotion Data"})})}),Object(q.jsx)("tbody",{children:Object(q.jsx)("tr",{children:Object(q.jsx)("td",{children:Object(q.jsx)(Ye.Radar,{data:o,options:l})})},0)})]},"1"));break;case"sentiment":var d={labels:["Value"],datasets:[{label:"Value",data:[i.document.score],backgroundColor:"rgb(54, 162, 235)"}]},h={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:-1,suggestedMax:1}}],xAxes:[{}]}};a.push(Object(q.jsxs)(Ze.a,{bordered:!0,responsive:!0,children:[Object(q.jsx)("thead",{children:Object(q.jsx)("tr",{children:Object(q.jsx)("th",{scope:"col",children:"Whole Journal Sentiment Data"})})}),Object(q.jsx)("tbody",{children:Object(q.jsx)("tr",{children:Object(q.jsx)("td",{children:Object(q.jsx)(Ye.Bar,{data:d,options:h})})},0)})]},"1"));break;case"entities":for(var u in i){var j=i[u],b=Qe(j.emotion),m=A(b),p={scale:{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}},v=H([j.confidence,j.relevance,j.sentiment.score]),g={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:-1,suggestedMax:1}}],xAxes:[{}]}};r.push(Object(q.jsxs)("tr",{children:[Object(q.jsx)("th",{scope:"row",children:j.text}),Object(q.jsx)("td",{children:j.type}),Object(q.jsx)("td",{children:j.count}),Object(q.jsx)("td",{colSpan:"3",children:Object(q.jsx)(Ye.Bar,{data:v,options:g})}),Object(q.jsx)("td",{children:Object(q.jsx)(Ye.Radar,{data:m,options:p})})]},u))}0===r.length&&r.push(Object(q.jsx)("tr",{children:Object(q.jsx)("td",{colSpan:"7",children:'"Nothing!"'})},0)),a.push(Object(q.jsxs)(Ze.a,{bordered:!0,responsive:!0,children:[Object(q.jsx)("thead",{children:Object(q.jsxs)("tr",{children:[Object(q.jsx)("th",{scope:"col",children:"Name"}),Object(q.jsx)("th",{scope:"col",children:"Type"}),Object(q.jsx)("th",{scope:"col",children:"#Appearances"}),Object(q.jsx)("th",{scope:"col",children:"Confidence"}),Object(q.jsx)("th",{scope:"col",children:"Relevance"}),Object(q.jsx)("th",{scope:"col",children:"Sentiment"}),Object(q.jsx)("th",{scope:"col",children:"Emotion"})]})}),Object(q.jsx)("tbody",{children:r})]},"2"));break;case"keywords":for(var x in i){var O=i[x],f=Qe(O.emotion),N=A(f),S={scale:{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}},y=B([O.relevance,O.sentiment.score]),D={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:-1,suggestedMax:1}}],xAxes:[{}]}};r.push(Object(q.jsxs)("tr",{children:[Object(q.jsx)("th",{scope:"row",children:O.text}),Object(q.jsx)("td",{children:O.count}),Object(q.jsx)("td",{colSpan:"2",children:Object(q.jsx)(Ye.Bar,{data:y,options:D})}),Object(q.jsx)("td",{children:Object(q.jsx)(Ye.Radar,{data:N,options:S})})]},x))}0===r.length&&r.push(Object(q.jsx)("tr",{children:Object(q.jsx)("td",{colSpan:"5",children:'"Nothing!"'})},0)),a.push(Object(q.jsxs)(Ze.a,{bordered:!0,responsive:!0,children:[Object(q.jsx)("thead",{children:Object(q.jsxs)("tr",{children:[Object(q.jsx)("th",{scope:"col",children:"Name"}),Object(q.jsx)("th",{scope:"col",children:"#Appearances"}),Object(q.jsx)("th",{scope:"col",children:"Relevance Score"}),Object(q.jsx)("th",{scope:"col",children:"Sentiment"}),Object(q.jsx)("th",{scope:"col",children:"Emotion"})]})}),Object(q.jsx)("tbody",{children:r})]},"3"));break;default:console.log("Invalid AI selection somehow")}}return 0===a.length&&a.push("Nothing to display!"),Object(q.jsx)("div",{className:"JournalIteration",children:Object(q.jsxs)(_.a,{children:[Object(q.jsx)(_.a.Toggle,{as:Q.a.Header,variant:"link",eventKey:"0",children:Object(q.jsx)("div",{style:et.editor,children:Object(q.jsx)(Le.Editor,{editorState:t,placeholder:"Nothing Here!",readOnly:!0})})}),Object(q.jsx)(_.a.Collapse,{eventKey:"0",children:Object(q.jsx)(Q.a,{children:Object(q.jsxs)(Q.a.Body,{children:[Object(q.jsx)("div",{className:"row my-2",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsx)(Xe.a,{toggle:!0,children:$e.map((function(t,s){return Object(q.jsx)(_e.a,{type:"radio",variant:"info",name:"radio",value:t.value,checked:e.state.selectedAspect===t.value,onChange:e.setAspect,children:t.name},s)}))})})}),Object(q.jsx)("hr",{}),Object(q.jsx)("div",{className:"row my-2",children:Object(q.jsx)("div",{className:"col",children:a})})]})})})]})})}}]),s}(r.a.Component),nt=Object(u.f)((function(e){var t=[];for(var s in e.viewJournalData)if(e.viewJournalData[s].onlyDivision)if(null===e.viewJournalData[s].targetDivision){var a=!1;for(var r in t)if(-1===t[r].id){a=!0;break}a||t.push({divisionName:"User",id:-1})}else{var n=!1;for(var i in t)if(t[i].id===e.viewJournalData[s].targetDivision.id){n=!0;break}n||t.push(e.viewJournalData[s].targetDivision)}else{var c=!1;for(var o in t)if(-1===t[o].id){c=!0;break}c||t.push({divisionName:"Uncategorized",id:-1})}for(var l in e.viewNonJournalData)if(e.viewNonJournalData[l].onlyDivision)if(null===e.viewNonJournalData[l].targetDivision){var d=!1;for(var h in t)if(-1===t[h].id){d=!0;break}d||t.push({divisionName:"User",id:-1})}else{var u=!1;for(var b in t)if(t[b].id===e.viewNonJournalData[l].targetDivision.id){u=!0;break}u||t.push(e.viewNonJournalData[l].targetDivision)}else{var m=!1;for(var p in t)if(-1===t[p].id){m=!0;break}m||t.push({divisionName:"Uncategorized",id:-1})}var v=[];for(var g in t){var x="btn btn-outline-secondary";String(e.selectedJournalViewDiv)===g&&(x="btn btn-secondary"),v.push(Object(q.jsx)("button",{className:x,value:g,onClick:e.changeSelectedJournalViewDiv,children:t[g].divisionName},g))}0===v.length&&v.push(Object(q.jsx)("div",{className:"btn btn-outline-secondary",children:"Nothing!"},0));var O=-1;e.selectedJournalViewDiv>=0&&e.selectedJournalViewDiv<t.length&&(O=t[e.selectedJournalViewDiv].id);var f=[];for(var N in e.viewNonJournalData){try{if(e.viewNonJournalData[N].targetDivision.id!==O)continue}catch(U){if(-1!==O)continue}var S="No Prompt Data!",y="Prompt Showing Error!";if(null!==e.viewNonJournalData[N].usedPromptKey){switch(S=e.viewNonJournalData[N].usedPromptKey.text,e.viewNonJournalData[N].usedPromptKey.promptType){case 1:y=Object(q.jsx)(at,{selected:e.viewNonJournalData[N].chosenValue});break;case 2:y=Object(q.jsx)(st,{selected:e.viewNonJournalData[N].chosenValue});break;case 3:y=Object(q.jsx)(tt,{promptQuestions:e.viewNonJournalData[N].usedPromptKey.promptChoices,selected:e.viewNonJournalData[N].chosenValue})}f.push(Object(q.jsx)("div",{className:"row",children:Object(q.jsxs)("div",{className:"col",children:[Object(q.jsx)("h5",{children:S}),Object(q.jsx)("div",{children:y}),Object(q.jsx)("hr",{})]})},N))}}for(var D in e.viewJournalData){try{if(e.viewJournalData[D].targetDivision.id!==O)continue}catch(W){if(-1!==O)continue}var C="No Prompt Data!",w="No Prompt!";if(null===e.viewJournalData[D].usedPromptKey||(C=e.viewJournalData[D].usedPromptKey.text,0===e.viewJournalData[D].usedPromptKey.promptType)){try{w=Object(q.jsx)(rt,{content:e.viewJournalData[D].content,richText:e.viewJournalData[D].richText,hasAI:e.viewJournalData[D].hasAI,AIresults:e.viewJournalData[D].AIresult})}catch(A){console.log("MISSING A JOURNAL'S CONTENT!")}var E=f.length;f.push(Object(q.jsx)("div",{className:"row",children:Object(q.jsxs)("div",{className:"col",children:[Object(q.jsx)("h5",{children:C}),Object(q.jsx)("div",{children:w}),Object(q.jsx)("hr",{})]})},D+E))}}var k=1===e.pickJournalCalenderDateStatus||1===e.pickNonJournalCalenderDateStatus,P=3===e.pickJournalCalenderDateStatus||3===e.pickNonJournalCalenderDateStatus,T=!1,F=[];for(var I in e.journalViewErrors)1!==e.journalViewErrors[I].mod||T||(T=!0,F.push(e.journalViewErrors[I].text));for(var L in e.nonJournalViewErrors)1!==e.nonJournalViewErrors[L].mod||T||(T=!0,F.push(e.nonJournalViewErrors[L].text));return 0===F.length&&F.push("Unknown!"),Object(q.jsx)("div",{className:"mainView",children:Object(q.jsxs)("div",{className:"container-fluid justify-content-center",children:[Object(q.jsx)("div",{className:"row m-2 justify-content-center",children:Object(q.jsx)("div",{className:"col- m-2 ",children:Object(q.jsx)("div",{children:Object(q.jsx)(ze.a,{className:"shadow",onChange:e.pickDate,value:e.currentDate,tileClassName:function(t){var s=t.date;if("month"===t.view){var a=s.getFullYear()+"-"+s.getMonth()+"-"+s.getDate(),r=!1,n=!1;for(var i in e.validJournalDates)if(a===i){n=!0;break}for(var c in e.validJournalScanDates)if(a===c){r=!0;break}if(!n)for(var o in e.validNonJournalDates)if(a===o){n=!0;break}if(r)return"btn btn-success";if(n)return"btn btn-warning"}},minDetail:"year",maxDetail:"month"})})})}),Object(q.jsx)("div",{className:"row m-2",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsxs)("div",{className:"card shadow",children:[Object(q.jsxs)("div",{className:"card-header",children:["Prompt Data for ",e.currentDate.toString()]}),Object(q.jsxs)("div",{className:"card-body",children:[Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:"Select a Division:"})}),Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:v})}),Object(q.jsx)("hr",{}),f]})]})})}),Object(q.jsxs)(j.a,{show:k,variant:"warning",children:[Object(q.jsx)(j.a.Heading,{children:"Waiting"}),Object(q.jsx)("hr",{}),Object(q.jsx)("p",{children:"Waiting for server response..."}),Object(q.jsx)("hr",{})]}),Object(q.jsxs)(j.a,{show:!1,variant:"success",children:[Object(q.jsx)(j.a.Heading,{children:"Success!"}),Object(q.jsx)("hr",{}),Object(q.jsx)("p",{children:"Successfully obtained data!"}),Object(q.jsx)("hr",{})]}),Object(q.jsxs)(j.a,{show:P,variant:"danger",children:[Object(q.jsx)(j.a.Heading,{children:"Error!"}),Object(q.jsx)("hr",{}),Object(q.jsx)("p",{children:F}),Object(q.jsx)("hr",{})]})]})})})),it={editor:{border:"1px solid gray",minHeight:"6em",textAlign:"left"}},ct="Journal Make",ot=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){var e;return Object(c.a)(this,s),(e=t.call(this)).onToggle=function(t){t.preventDefault(),e.props.onToggle(e.props.style)},e}return Object(o.a)(s,[{key:"render",value:function(){var e="btn btn-outline-primary";return this.props.active&&(e+=" active"),Object(q.jsx)("button",{className:e,onMouseDown:this.onToggle,children:this.props.label})}}]),s}(r.a.Component),lt=[{label:"H1",style:"header-one"},{label:"H2",style:"header-two"},{label:"H3",style:"header-three"},{label:"H4",style:"header-four"},{label:"H5",style:"header-five"},{label:"H6",style:"header-six"}],dt=function(e){var t=e.editorState,s=t.getSelection(),a=t.getCurrentContent().getBlockForKey(s.getStartKey()).getType();return Object(q.jsx)("div",{className:"RichEditor-controls",children:lt.map((function(t){return Object(q.jsx)(ot,{active:t.style===a,label:t.label,onToggle:e.onToggle,style:t.style},t.label)}))})},ht=[{label:"Bold",style:"BOLD"},{label:"Italic",style:"ITALIC"},{label:"Underline",style:"UNDERLINE"}],ut=function(e){var t=e.editorState.getCurrentInlineStyle();return Object(q.jsx)("div",{className:"RichEditor-controls",children:ht.map((function(s){return Object(q.jsx)(ot,{active:t.has(s.style),label:s.label,onToggle:e.onToggle,style:s.style},s.label)}))})},jt=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).loadData=function(){if(void 0!==a.props.initialSave)return a.props.initialSave.data},a.selectMulti=function(e){a.setState({selected:e.target.value}),a.props.saveTo(a.props.targetDiv,a.props.id,3,e.target.value)},a.state={selected:a.loadData()},a}return Object(o.a)(s,[{key:"render",value:function(){var e="",t="primary";this.props.alreadyDone&&(e=" disabled",t="danger");var s=[];for(var a in this.props.choices){var r="";this.state.selected===a&&(r="active"),s.push(Object(q.jsx)("button",{type:"button",onClick:this.selectMulti,value:a,className:"btn btn-outline-"+t+" "+r+e,children:this.props.choices[a]},a))}return Object(q.jsxs)("div",{className:"RatingIteration",children:[this.props.alreadyDone&&Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col text-warning",children:"Already Submitted!"})}),Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsx)("div",{className:"btn-group",role:"group","aria-label":"...",children:s})})})]})}}]),s}(r.a.Component),bt=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).loadData=function(){return void 0!==a.props.initialSave?a.props.initialSave.data:-1},a.selectRating=function(e){var t=Number(e.target.value);a.setState({selected:t}),a.props.saveTo(a.props.targetDiv,a.props.id,2,t)},a.state={selected:a.loadData()},a}return Object(o.a)(s,[{key:"render",value:function(){var e=["","","","","",""];this.state.selected>=0&&this.state.selected<e.length&&(e[this.state.selected]="active");var t="",s="primary";this.props.alreadyDone&&(t=" disabled",s="danger");var a=[];for(var r in e)a.push(Object(q.jsx)("button",{type:"button",onClick:this.selectRating,value:r,className:"btn btn-outline-"+s+" "+e[r]+t,children:r},r));return Object(q.jsxs)("div",{className:"RatingIteration",children:[this.props.alreadyDone&&Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col text-success",children:"Already Submitted!"})}),Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsx)("div",{className:"btn-group",role:"group","aria-label":"...",children:a})})})]})}}]),s}(r.a.Component),mt=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).loadData=function(){return void 0!==a.props.initialSave?a.props.initialSave.data:-1},a.selectLikert=function(e){var t=Number(e.target.value);a.setState({selected:t}),a.props.saveTo(a.props.targetDiv,a.props.id,1,t)},a.state={selected:a.loadData()},a}return Object(o.a)(s,[{key:"render",value:function(){var e=["","","","",""];this.state.selected>=0&&this.state.selected<e.length&&(e[this.state.selected]="active");var t="",s="primary";this.props.alreadyDone&&(t=" disabled",s="danger ");var a=[];for(var r in e)a.push(Object(q.jsx)("button",{type:"button",onClick:this.selectLikert,value:r,className:"btn btn-outline-"+s+" "+e[r]+t,children:r-2},r));return Object(q.jsxs)("div",{className:"LikertIteration",children:[this.props.alreadyDone&&Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col text-warning",children:"Already Submitted!"})}),Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsxs)("div",{className:"btn-group",role:"group","aria-label":"...",children:[Object(q.jsx)("span",{className:"btn btn-link disabled",disabled:!0,children:"Highly Disagree"}),a,Object(q.jsx)("span",{className:"btn btn-link disabled",disabled:!0,children:"Highly Agree"})]})})})]})}}]),s}(r.a.Component),pt=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).loadData=function(){return void 0!==a.props.initialSave?Le.EditorState.createWithContent(Object(Le.convertFromRaw)(a.props.initialSave.data.block)):Le.EditorState.createEmpty()},a.onChange=function(e){a.setState({editorState:e}),a.props.saveTo(a.props.targetDiv,a.props.id,0,{raw:e.getCurrentContent().getPlainText(),block:Object(Le.convertToRaw)(e.getCurrentContent())})},a.toggleBlockType=function(e){a.onChange(Le.RichUtils.toggleBlockType(a.state.editorState,e))},a.toggleInlineStyle=function(e){a.onChange(Le.RichUtils.toggleInlineStyle(a.state.editorState,e))},a.handleKeyCommand=function(e,t){var s=Le.RichUtils.handleKeyCommand(t,e);return s?(a.onChange(s),"handled"):"not-handled"},a.state={lastTargetDiv:e.targetDiv,lastPromptID:e.id,lastInitialSave:e.initialSave,editorState:a.loadData()},a.focusMe=function(e){return a.refs.editor.focus()},a.onToggle=function(e){e.preventDefault()},a}return Object(o.a)(s,[{key:"render",value:function(){var e="";return this.props.alreadyDone&&(e="Journal Already Submitted!"),Object(q.jsxs)("div",{className:"journalIteratorContainer",children:[this.props.alreadyDone&&Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col text-warning",children:"Already Submitted!"})}),!this.props.alreadyDone&&Object(q.jsx)("div",{className:"row",children:Object(q.jsxs)("div",{className:"col",children:[Object(q.jsx)(dt,{editorState:this.state.editorState,onToggle:this.toggleBlockType}),Object(q.jsx)(ut,{editorState:this.state.editorState,onToggle:this.toggleInlineStyle})]})}),Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",onClick:this.focusMe,children:Object(q.jsx)("div",{id:"align-left",children:Object(q.jsx)("div",{style:it.editor,children:Object(q.jsx)(Le.Editor,{editorState:this.state.editorState,onChange:this.onChange,handleKeyCommand:this.handleKeyCommand,spellCheck:!0,placeholder:e,readOnly:this.props.alreadyDone,ref:"editor"})})})})})]})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t.lastPromptID!==e.id||t.lastTargetDiv!==e.targetDiv?void 0!==e.initialSave?{editorState:Le.EditorState.createWithContent(Object(Le.convertFromRaw)(e.initialSave.data.block)),lastPromptID:e.id,lastTargetDiv:e.targetDiv}:{editorState:Le.EditorState.createEmpty(),lastPromptID:e.id,lastTargetDiv:e.targetDiv}:{editorState:t.editorState}}}]),s}(r.a.Component),vt=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).journalPostFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return a.props.debugSet(ct,"Refresh Triggered","Journal Posting"),void a.props.refreshToken(a.saveCurrent);2===e.action||3===e.action||4===e.action||e.action}a.props.debugSet(ct,"Journal Posting","Failure"),t=e.messages,a.setState({journalErrors:t,postJournalStatus:3})},a.journalPostCallback=function(e){a.props.debugSet(ct,"Journal Posting","Success"),a.setState({journalErrors:[],postJournalStatus:2})},a.postJournal=function(e,t,s){var r=a.props.currentDate,n=t.raw,i=t.block;if(void 0!==e)w(r,e,s,n,i,a.journalPostCallback,a.journalPostFailure);else{w(r,"none",s,n,i,a.journalPostCallback,a.journalPostFailure)}a.setState({postJournalStatus:1})},a.nonJournalPostFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return a.props.debugSet(ct,"Refresh Triggered","Multi Choice Posting"),void a.props.refreshToken(a.saveCurrent);2===e.action||3===e.action||4===e.action||e.action}a.props.debugSet(ct,"Multi Choice Posting","Failure"),t=e.messages,a.setState({nonJournalErrors:t,postNonJournalStatus:3})},a.nonJournalPostCallback=function(e){a.props.debugSet(ct,"Multi Choice Posting","Success"),a.setState({journalErrors:[],postNonJournalStatus:2})},a.postNonJournal=function(e,t,s){var r=a.props.currentDate;void 0!==e?(!function(e,t,s,a,r,n){var i=Math.random().toString(16).substr(2,8),c={headers:{Authorization:"JWT ".concat(O)}},o={};o="usr"===s?{shorthand:"WEBUSR"+i,targetDivision:void 0,forDate:S(e),usedPromptKeyText:t,chosenValue:a}:{shorthand:"WEBDiv:"+i,targetDivision:s,forDate:S(e),usedPromptKeyText:t,chosenValue:a},x.post("/api/saveUserNonJournal/",o,c).then((function(e){r(e.data)})).catch((function(e){var t=y(e);n(t)}))}(r,e,s,t,a.nonJournalPostCallback,a.nonJournalPostFailure),a.setState({postNonJournalStatus:1})):a.setState({nonJournalErrors:[{mod:-1,text:"Invalid prompt id!"}],postNonJournalStatus:3})},a.checkDataSet=function(){var e=te("promptDataSaved-"+a.props.currentUser);if(0===e);else if(2===e);else if(1!==e)return e;return{}},a.savePromptData=function(e,t,s,r){var n={};for(var i in a.state.promptData)n[i]=a.state.promptData[i];e in n||(n[e]={}),t in n[e]||(n[e][t]={}),n[e][t]={type:s,data:r},a.setState({promptData:n}),se("promptDataSaved-"+a.props.currentUser,n,0)},a.saveCurrent=function(){var e=-1;if(a.props.promptList.length>0&&a.state.selectedDivision>=0&&a.state.selectedDivision<a.props.promptList.length){e=a.props.promptList[a.state.selectedDivision].typeFlag?"usr":a.props.promptList[a.state.selectedDivision].divTarget.id;for(var t in a.state.promptData[e]){a.checkIfDoneToday(e,t)||void 0!==a.state.promptData[e][t]&&(0===a.state.promptData[e][t].type?a.postJournal(t,a.state.promptData[e][t].data,e):a.postNonJournal(t,a.state.promptData[e][t].data,e),1)}}},a.selectDisplayButton=function(e){a.setState({selectedDivision:Number(e.target.value),journalErrors:[],postJournalStatus:0,nonJournalErrors:[],postNonJournalStatus:0})},a.checkIfDoneToday=function(e,t){var s=!1;if(void 0!==a.props.nonJournalPromptsDone.today&&e in a.props.nonJournalPromptsDone.today)for(var r in a.props.nonJournalPromptsDone.today[e])if(null!==a.props.nonJournalPromptsDone.today[e][r]&&t===a.props.nonJournalPromptsDone.today[e][r].identifier){s=!0;break}if(void 0!==a.props.journalPromptsDone.today&&e in a.props.journalPromptsDone.today)for(var n in a.props.journalPromptsDone.today[e])if(null!==a.props.journalPromptsDone.today[e][n]&&t===a.props.journalPromptsDone.today[e][n].identifier){s=!0;break}if(void 0!==a.props.journalScanPromptsDone.today&&e in a.props.journalScanPromptsDone.today)for(var i in a.props.journalScanPromptsDone.today[e])if(null!==a.props.journalScanPromptsDone.today[e][i]&&t===a.props.journalScanPromptsDone.today[e][i].identifier){s=!0;break}return s},a.state={promptData:a.checkDataSet(),selectedDivision:0,journalErrors:[],postJournalStatus:0,nonJournalErrors:[],postNonJournalStatus:0},a}return Object(o.a)(s,[{key:"render",value:function(){var e=[],t="None Selected!",s=-1;this.props.promptList.length>0&&this.state.selectedDivision>=0&&this.state.selectedDivision<this.props.promptList.length&&(this.props.promptList[this.state.selectedDivision].typeFlag?(t="Prompts For You",s="usr"):(t="Prompts for "+this.props.promptList[this.state.selectedDivision].divTarget.divisionName,s=this.props.promptList[this.state.selectedDivision].divTarget.id),e=this.props.promptList[this.state.selectedDivision].promptSet);var a=[];for(var r in this.props.promptList)if(this.props.promptList[r].typeFlag){var n=this.props.promptList[r].userTarget,i="btn btn-outline-secondary";String(this.state.selectedDivision)===r&&(i="btn btn-secondary"),a.push(Object(q.jsx)("button",{className:i,value:r,onClick:this.selectDisplayButton,children:n},r))}else{var c=this.props.promptList[r].divTarget,o="btn btn-outline-secondary";String(this.state.selectedDivision)===r&&(o="btn btn-secondary"),a.push(Object(q.jsx)("button",{className:o,value:r,onClick:this.selectDisplayButton,children:c.divisionName},r))}var l=[];for(var d in e){var h="Prompt Showing Error!",u=e[d].identifier,b=this.checkIfDoneToday(s,u),m=this.state.promptData[s],p=void 0;try{p=m[u]}catch(P){}switch(e[d].promptType){case 0:h=Object(q.jsx)(pt,{initialSave:p,id:u,targetDiv:s,saveTo:this.savePromptData,alreadyDone:b});break;case 1:h=Object(q.jsx)(mt,{initialSave:p,id:u,targetDiv:s,saveTo:this.savePromptData,alreadyDone:b});break;case 2:h=Object(q.jsx)(bt,{initialSave:p,id:u,targetDiv:s,saveTo:this.savePromptData,alreadyDone:b});break;case 3:h=Object(q.jsx)(jt,{choices:e[d].promptChoices,initialSave:p,id:u,targetDiv:s,saveTo:this.savePromptData,alreadyDone:b});break;default:h="Prompt Showing Error!"}l.push(Object(q.jsxs)("div",{children:[Object(q.jsx)("div",{className:"row my-3",children:Object(q.jsxs)("div",{className:"col",children:[Object(q.jsx)("h5",{children:e[d].text}),Object(q.jsx)("div",{children:h})]})}),Object(q.jsx)("hr",{})]},d))}if(0===l.length){var v="none",g=!1;for(var x in this.props.nonJournalPromptsDone.today)if(v===this.props.nonJournalPromptsDone.today[x]){g=!0;break}for(var O in this.props.journalPromptsDone.today)if(v===this.props.journalPromptsDone.today[O]){g=!0;break}for(var f in this.props.journalScanPromptsDone.today)if(v===this.props.journalScanPromptsDone.today[f]){g=!0;break}var N=this.state.promptData[s],S=void 0;try{S=N.none}catch(T){}l.push(Object(q.jsxs)("div",{children:[Object(q.jsx)("div",{className:"row my-3",children:Object(q.jsxs)("div",{className:"col",children:[Object(q.jsx)("h5",{children:"No Prompts! have a free Open Ended Journal!"}),Object(q.jsx)("div",{children:Object(q.jsx)(pt,{initialSave:S,id:v,targetDiv:"usr",saveTo:this.savePromptData,alreadyDone:g})})]})}),Object(q.jsx)("hr",{})]},0))}var y=1===this.state.postJournalStatus||1===this.state.postNonJournalStatus,D=2===this.state.postJournalStatus||2===this.state.postNonJournalStatus,C=3===this.state.postJournalStatus||3===this.state.postNonJournalStatus,w=[];for(var E in this.state.journalErrors)w.push(this.state.journalErrors[E].text);for(var k in this.state.nonJournalErrors)w.push(this.state.nonJournalErrors[k].text);return 0===w.length&&w.push("Unknown!"),Object(q.jsx)("div",{className:"makeView",children:Object(q.jsxs)("div",{className:"container-fluid",children:[Object(q.jsxs)("div",{className:"card shadow",children:[Object(q.jsxs)("div",{className:"card-header",children:[Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsx)("h5",{children:t})})}),Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:a})})]}),Object(q.jsxs)("div",{className:"card-body",children:[l,Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsx)("button",{className:"btn btn-outline-primary",onMouseDown:this.saveCurrent,children:" Post! "})})})]})]}),Object(q.jsxs)(j.a,{show:y,variant:"warning",children:[Object(q.jsx)(j.a.Heading,{children:"Waiting"}),Object(q.jsx)("hr",{}),Object(q.jsx)("p",{children:"Waiting for server response..."}),Object(q.jsx)("hr",{})]}),Object(q.jsxs)(j.a,{show:D,variant:"success",children:[Object(q.jsx)(j.a.Heading,{children:"Success!"}),Object(q.jsx)("hr",{}),Object(q.jsx)("p",{children:"Entries Posted!"}),Object(q.jsx)("hr",{})]}),Object(q.jsxs)(j.a,{show:C,variant:"danger",children:[Object(q.jsx)(j.a.Heading,{children:"Error!"}),Object(q.jsx)("hr",{}),Object(q.jsx)("p",{children:w}),Object(q.jsx)("hr",{})]})]})})}}]),s}(r.a.Component),gt=Object(u.f)(vt),xt=s(546),Ot="User Prompts",ft=["Never","Always","On Monday","On Tuesday","On Wednesday","On Thursday","On Friday","On Saturday","On Sunday"],Nt=["Open","Likert","Rating","Multi","Boolean"],St=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).state={btnLen:2},a}return Object(o.a)(s,[{key:"render",value:function(){var e="",t="";this.props.activePage<=0&&(e="disabled"),this.props.activePage>=this.props.totalLoaded/this.props.numPerPage-1&&(t="disabled");for(var s=[],a=-this.state.btnLen;a<=this.state.btnLen;a++){var r="",n=a+this.props.activePage;n<0||n>=this.props.totalLoaded/this.props.numPerPage||(0===a&&(r="active "),s.push(Object(q.jsx)("button",{className:"btn btn-outline-primary "+r,value:n,onClick:this.props.changeToNum,children:n},a)))}return Object(q.jsx)("div",{className:"paginator",children:Object(q.jsx)("div",{className:"container",children:Object(q.jsx)("div",{className:"row",children:Object(q.jsxs)("div",{className:"col",children:[Object(q.jsx)("button",{className:"btn btn-outline-primary "+e,value:"bck",onClick:this.props.changePrevNext,children:"Prev"}),s,Object(q.jsx)("button",{className:"btn btn-outline-primary "+t,value:"fwd",onClick:this.props.changePrevNext,children:"Next"})]})})})})}}]),s}(r.a.Component),yt=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).initTypeFlags=function(){for(var e=[],t=0;t<Nt.length;t++)e.push(!0);return e},a.initNameFlags=function(){for(var e=[],t=0;t<a.props.validFilters.length;t++)e.push(!1);return e},a.setLastClickedEvent=function(e){a.setState({lastClickedEventIndex:Number(e.target.value)})},a.changeInput=function(e){a.setState({searchText:e.target.value})},a.changeFilterType1=function(e){var t=a.state.filterTypeFlags.slice();t[Number(e.target.value)]=!t[Number(e.target.value)],a.setState({filterTypeFlags:t})},a.changeFilterType2=function(e){var t=a.state.filterNameFlags.slice();t[Number(e.target.value)]=!t[Number(e.target.value)],a.setState({filterNameFlags:t})},a.getEventsFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return a.props.debugSet(Ot,"Refresh Triggered","Get Division Events"),void a.props.refreshToken(a.getEvents);2===e.action||3===e.action||4===e.action||e.action}a.props.debugSet(Ot,"Get Division Events","Failure"),t=e.messages,a.setState({getEventsStatus:3,getEventsError:t})},a.getEventsSuccess=function(e){var t=[];for(var s in e)e[s].creatorUser===a.props.currentUser&&t.push(e[s]);a.props.debugSet(Ot,"Get Division Events","Success"),a.setState({eventsGlobBin:[],eventsUserBin:t,getEventsStatus:2})},a.getEvents=function(){if(void 0!==a.props.currentUser){!function(e,t,s){var a={headers:{Authorization:"JWT ".concat(O)}};x.get("/api/getUserEvents/",a).then((function(e){var s=e.data;for(var a in s)s[a].isSaved=!0;t(s)})).catch((function(e){var t=y(e);s(t)}))}(a.props.currentUser,a.getEventsSuccess,a.getEventsFailure),a.setState({getEventsStatus:1})}},a.createEvent=function(){var e=a.state.eventsUserBin.slice();e.push({id:-1,triggerType:0,promptPool:[],sharingEnabled:!0,usedByUser:!1,isSaved:!1}),a.setState({eventsUserBin:e})},a.enabledUserFieldChange=function(e){var t=a.state.eventsUserBin.slice();t[e.target.name].usedByUser=!t[e.target.name].usedByUser,t[e.target.name].isSaved=!1,a.setState({eventsUserBin:t})},a.changePageTo=function(e){var t=Number(e.target.value);a.setState({pageNum:t})},a.changePageFwdBck=function(e){var t=Number(a.state.pageNum);if("fwd"===e.target.value){if((t+=1)>a.state.promptsBin.length/a.state.numPerPage)return}else if("bck"===e.target.value&&(t-=1)<0)return;a.setState({pageNum:t})},a.changeTrigger=function(e){var t=e.target.name.split(","),s=a.state.eventsUserBin.slice();s[t[0]].triggerType=Number(t[1]),s[t[0]].isSaved=!1,a.setState({eventsUserBin:s})},a.setLastClickedEvent=function(e){a.setState({lastClickedEventIndex:Number(e.target.value)})},a.deleteEventFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return a.props.debugSet(Ot,"Refresh Triggered","Delete Events"),void a.props.refreshToken(a.tokenHasRefreshedError);2===e.action||3===e.action||4===e.action||e.action}a.props.debugSet(Ot,"Delete Events","Failure"),t=e.messages,a.setState({deleteEventStatus:3,deleteEventError:t})},a.deleteEventCallback=function(e,t){var s=Number(e),r=a.state.eventsUserBin.slice();r.splice(s,1),a.props.debugSet(Ot,"Delete Events","Success"),a.setState({eventsUserBin:r}),0!==t&&a.setState({deleteEventStatus:2})},a.deleteEvent=function(e){var t=a.state.eventsUserBin[Number(e.target.value)],s=t.id;t.isSaved?(!function(e,t,s,a){var r={headers:{Authorization:"JWT ".concat(O)}},n={id:t};x.post("/api/deleteUserEvents/",n,r).then((function(t){var a=t.data;s(e,a)})).catch((function(e){var t=y(e);a(t)}))}(Number(e.target.value),s,a.deleteEventCallback,a.deleteEventFailure),a.setState({deleteEventStatus:1})):a.deleteEventCallback(Number(e.target.value),0)},a.deleteEventPrompt=function(e){var t=Number(e.target.name),s=Number(e.target.value),r=a.state.eventsUserBin.slice();r[t].promptPool.splice(s,1),r[t].isSaved=!1,a.setState({eventsUserBin:r})},a.saveEventsFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return a.props.debugSet(Ot,"Refresh Triggered","Get Division Events"),void a.props.refreshToken(a.tokenHasRefreshedError);2===e.action||3===e.action||4===e.action||e.action}a.props.debugSet(Ot,"Save Division Events","Failure"),t=e.messages,a.setState({saveEventStatus:3,saveEventError:t})},a.saveEventsSuccess=function(e,t){if(!a.state.eventsUserBin[e].isSaved){var s=a.state.eventsUserBin.slice();s[e].id=Number(t.split(":")[1]),s[e].isSaved=!0,a.setState({eventsUserBin:s})}a.props.debugSet(Ot,"Save Division Events","Success"),a.setState({saveEventStatus:2})},a.saveUserEvent=function(e){var t=a.state.eventsUserBin[e.target.value],s=t.id,r=t.triggerType,n=t.usedByUser,i=t.sharingEnabled,c=[];for(var o in t.promptPool)c.push(t.promptPool[o].identifier);!function(e,t,s,a,r,n,i,c){var o={headers:{Authorization:"JWT ".concat(O)}},l={id:t,enabledDiv:s,sharingEnabled:a,triggerType:r,promptSet:n};x.post("/api/setUserEvents/",l,o).then((function(t){var s=t.data;i(e,s)})).catch((function(e){var t=y(e);c(t)}))}(Number(e.target.value),s,n,i,r,c,a.saveEventsSuccess,a.saveEventsFailure),a.setState({saveEventStatus:0})},a.searchForPromptsFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return a.props.debugSet(Ot,"Refresh Triggered","Search Prompts"),void a.props.refreshToken(a.searchForPrompts);2===e.action||3===e.action||4===e.action||e.action}a.props.debugSet(Ot,"Search Prompts","Failure"),t=e.messages,a.setState({searchForStatus:3,searchForError:t})},a.searchForPromptsCallback=function(e){a.props.debugSet(Ot,"Search Prompts","Success"),a.setState({promptsBin:e,hasSent:!0,searchForStatus:2})},a.searchForPrompts=function(){var e=[];for(var t in a.state.filterTypeFlags)a.state.filterTypeFlags[t]&&e.push(t);var s=[];for(var r in a.state.filterNameFlags)a.state.filterNameFlags[r]&&s.push(a.props.validFilters[r]);F(a.state.searchText,e,s,a.searchForPromptsCallback,a.searchForPromptsFailure),a.setState({searchForStatus:1})},a.addingEventPrompt=function(e){var t=a.state.eventsUserBin.slice(),s=Number(e.target.value),r=a.state.lastClickedEventIndex;if(r>=0){var n=0;void 0===t[r].promptPool.find((function(e){return e.identifier===a.state.promptsBin[s].identifier}))?(t[r].isSaved=!1,t[r].promptPool.push(a.state.promptsBin[s]),n=1):n=2,a.setState({eventsUserBin:t,addedPrompt:n})}},a.state={eventsGlobBin:[],eventsUserBin:[],promptsBin:[],pageNum:0,numPerPage:5,searchText:"",filterTypeFlags:a.initTypeFlags(),filterNameFlags:a.initNameFlags(),hasSent:!1,lastClickedEventIndex:-1,addedPrompt:0,getEventsStatus:0,getEventsError:[],saveEventStatus:0,saveEventError:[],searchForStatus:0,searchForError:[],deleteEventStatus:0,deleteEventError:[]},a}return Object(o.a)(s,[{key:"componentDidMount",value:function(){this.getEvents()}},{key:"render",value:function(){var e=this,t=[],s=function(s){var a=e.state.eventsUserBin[s],r=[];for(var n in a.promptPool){var i=a.promptPool[n].text.substring(0,12)+"...";r.push(Object(q.jsxs)("tr",{children:[Object(q.jsx)("th",{scope:"row",children:Object(q.jsx)("button",{className:"btn btn-outline-secondary","data-toggle":"collapse","data-target":"#displayPromptCollapse"+s+n,children:i})}),Object(q.jsx)("td",{children:Nt[a.promptPool[n].promptType]}),Object(q.jsx)("th",{children:Object(q.jsx)("button",{className:"close",type:"button",value:n,name:s,onClick:e.deleteEventPrompt,"aria-label":"Close",children:"\xd7"})})]},n),Object(q.jsx)("tr",{children:Object(q.jsx)("th",{scope:"row",colSpan:"4",className:"collapse",id:"displayPromptCollapse"+s+n,children:a.promptPool[n].text})},1+n+a.promptPool.length))}0===r.length&&r.push(Object(q.jsx)("tr",{children:Object(q.jsx)("th",{scope:"row",colSpan:"4",children:"Nothing here!"})},0));var c=!a.isSaved,o=0;try{o=a.promptPool.length}catch(l){}t.push(Object(q.jsx)("div",{className:"col-sm-12 col-md-12 col-lg-6 col-xl",children:Object(q.jsxs)("div",{className:"card",children:[Object(q.jsxs)("div",{className:"card-header",children:[c&&Object(q.jsx)("div",{className:"text-danger",children:"Unsaved Changes!"}),"Delete",Object(q.jsx)("button",{className:"badge badge-danger badge-pill",name:"test",value:s,onClick:e.deleteEvent,children:"X"})]}),Object(q.jsxs)("div",{className:"card-body",children:[Object(q.jsxs)("div",{className:"row",children:[Object(q.jsx)("div",{className:"col"}),Object(q.jsx)("div",{className:"col-",children:"Trigger Type:"}),Object(q.jsx)("div",{className:"col-",children:Object(q.jsxs)("div",{className:"dropdown",children:[Object(q.jsx)("div",{className:"btn btn-secondary mx-2",type:"button",id:"EventButton"+s,"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:ft[a.triggerType]}),Object(q.jsx)("div",{className:"dropdown-menu","aria-labelledby":"EventButton"+s,children:ft.map((function(t,a){return Object(q.jsx)("div",{children:Object(q.jsx)("button",{className:"dropdown-item",name:[s,a],onClick:e.changeTrigger,children:t})},a)}))})]})}),Object(q.jsx)("div",{className:"col"})]}),Object(q.jsxs)("div",{className:"row m-1",children:[Object(q.jsx)("div",{className:"col"}),Object(q.jsxs)("div",{className:"col-",children:[Object(q.jsx)("b",{children:Object(q.jsx)("u",{children:Object(q.jsx)("i",{children:o})})})," Prompts"]}),Object(q.jsx)("div",{className:"col- mx-2",children:Object(q.jsx)("button",{className:"btn btn-secondary",type:"button","data-toggle":"collapse","data-target":"#collapse"+s,"aria-expanded":"false","aria-controls":"collapse"+s,children:"Edit"})}),Object(q.jsx)("div",{className:"col"})]}),Object(q.jsxs)("div",{className:"row",children:[Object(q.jsx)("div",{className:"col"}),Object(q.jsx)("div",{className:"col",children:Object(q.jsxs)("div",{className:"custom-control custom-checkbox",children:[Object(q.jsx)("input",{type:"checkbox",className:"custom-control-input",id:"customCheckUser"+s,name:s,value:a.usedByUser,onChange:e.enabledUserFieldChange,checked:a.usedByUser}),Object(q.jsx)("label",{className:"custom-control-label",htmlFor:"customCheckUser"+s,children:"Enabled"})]})}),Object(q.jsx)("div",{className:"col"})]}),Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsx)("button",{className:"btn btn-primary",value:s,onClick:e.saveUserEvent,children:"Save"})})})]}),Object(q.jsx)("div",{className:"collapse",id:"collapse"+s,children:Object(q.jsxs)("div",{className:"card card-body",children:[Object(q.jsxs)("table",{className:"table",children:[Object(q.jsx)("thead",{children:Object(q.jsxs)("tr",{children:[Object(q.jsx)("th",{scope:"col",children:"Text"}),Object(q.jsx)("th",{scope:"col",children:"Type"}),Object(q.jsx)("th",{scope:"col",children:"Delete"})]})}),Object(q.jsx)("tbody",{children:r})]},"1"),Object(q.jsx)("button",{className:"btn btn-primary",value:s,onClick:e.setLastClickedEvent,"data-toggle":"modal","data-target":"#addPrompts",children:"Add New Prompt"})]})})]})},s))};for(var a in this.state.eventsUserBin)s(a);0===t.length&&t.push(Object(q.jsx)("div",{className:"col",children:"Nothing Here!"},0));var r=[];if(this.state.promptsBin.length>0)for(var n=0;n<this.state.numPerPage;n++){var i=n+this.state.pageNum*this.state.numPerPage;if(i>=this.state.promptsBin.length)break;var c=this.state.promptsBin[i].text.substring(0,12)+"...",o=[];for(var l in this.state.promptsBin[i].promptFilterTags)o.push(Object(q.jsx)("div",{className:"col border",children:Object(q.jsx)("div",{className:"my-1",children:this.state.promptsBin[i].promptFilterTags[l].name})}));0===o.length&&o.push(Object(q.jsx)("div",{className:"col- list-group-item",children:"No Filters!"})),r.push(Object(q.jsxs)("tr",{children:[Object(q.jsx)("th",{scope:"row",children:Object(q.jsx)("button",{className:"btn btn-outline-secondary","data-toggle":"collapse","data-target":"#collapseFullText"+i,children:c})}),Object(q.jsx)("td",{children:Nt[this.state.promptsBin[i].promptType]}),Object(q.jsx)("td",{children:Object(q.jsx)("button",{className:"btn btn-outline-secondary","data-toggle":"collapse","data-target":"#collapseFilters"+i,children:this.state.promptsBin[i].promptFilterTags.length})}),Object(q.jsx)("th",{children:Object(q.jsx)("button",{className:"btn btn-outline-secondary",value:i,onClick:this.addingEventPrompt,children:"+"})})]},i),Object(q.jsx)("tr",{children:Object(q.jsx)("th",{scope:"row",colSpan:"4",className:"collapse",id:"collapseFullText"+i,children:this.state.promptsBin[i].text})},1+i+this.state.promptsBin.length),Object(q.jsx)("tr",{children:Object(q.jsx)("th",{scope:"row",colSpan:"4",className:"collapse",id:"collapseFilters"+i,children:Object(q.jsxs)("div",{className:"row",children:[Object(q.jsx)("div",{className:"col"}),o,Object(q.jsx)("div",{className:"col"})]})})},2+i+2*this.state.promptsBin.length))}else this.state.hasSent?r.push(Object(q.jsx)("tr",{children:Object(q.jsx)("th",{scope:"row",colSpan:"4",children:"No Results!"})},0)):r.push(Object(q.jsx)("tr",{children:Object(q.jsx)("th",{scope:"row",colSpan:"4",children:"Waiting for Search!"})},0));var d=1===this.state.getEventsStatus||1===this.state.saveEventStatus||1===this.state.deleteEventStatus,h=2===this.state.saveEventStatus||2===this.state.deleteEventStatus,u=3===this.state.getEventsStatus||3===this.state.saveEventStatus||3===this.state.deleteEventStatus,b=[];for(var m in Nt){var p="btn-outline-success";this.state.filterTypeFlags[m]&&(p="btn-success"),b.push(Object(q.jsx)("div",{className:"col-",children:Object(q.jsx)("button",{className:"btn "+p,value:m,onClick:this.changeFilterType1,children:Nt[m]},m)},m))}var v=[];for(var g in this.props.validFilters){var x="btn-outline-success";this.state.filterNameFlags[g]&&(x="btn-success"),v.push(Object(q.jsx)("div",{className:"col-",children:Object(q.jsx)("button",{className:"btn "+x,value:g,onClick:this.changeFilterType2,children:this.props.validFilters[g]},g)},g))}return Object(q.jsxs)("div",{className:"PromptDisplay",children:[d&&Object(q.jsx)(Is,{}),Object(q.jsxs)("div",{className:"container-fluid",children:[!d&&Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsxs)("div",{className:"card shadow",children:[Object(q.jsx)("div",{className:"card-header",children:Object(q.jsx)("h5",{children:"Your Personal Prompts"})}),Object(q.jsxs)("div",{className:"card-body",children:[Object(q.jsx)("div",{className:"row",children:t}),Object(q.jsx)("div",{className:"row my-2",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsx)("button",{className:"btn btn-primary",onClick:this.createEvent,children:"Create Event"})})})]})]})})}),Object(q.jsxs)(j.a,{show:d,variant:"warning",children:[Object(q.jsx)(j.a.Heading,{children:"Waiting"}),Object(q.jsx)("hr",{}),Object(q.jsx)("p",{children:"Waiting for server response..."}),Object(q.jsx)("hr",{})]}),Object(q.jsxs)(j.a,{show:h,variant:"success",children:[Object(q.jsx)(j.a.Heading,{children:"Success!"}),Object(q.jsx)("hr",{}),Object(q.jsxs)("p",{children:["Successfully changed data!",Object(q.jsx)("br",{}),"Your prompts will be updated on next refresh"]}),Object(q.jsx)("hr",{})]}),Object(q.jsxs)(j.a,{show:u,variant:"danger",children:[Object(q.jsx)(j.a.Heading,{children:"Error!"}),Object(q.jsx)("hr",{}),Object(q.jsx)("p",{children:["Network Error"]}),Object(q.jsx)("hr",{})]}),Object(q.jsx)("div",{className:"modal fade",id:"addPrompts",tabIndex:"-1",role:"dialog","aria-labelledby":"promptAdder","aria-hidden":"true",children:Object(q.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:Object(q.jsxs)("div",{className:"modal-content",children:[Object(q.jsxs)("div",{className:"modal-header",children:[Object(q.jsx)("h5",{className:"modal-title",children:"Adding Prompts"}),Object(q.jsx)("button",{type:"btn btn-danger",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(q.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(q.jsxs)("div",{className:"modal-body",children:[Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsxs)("div",{className:"input-group rounded",children:[Object(q.jsx)("input",{type:"search",className:"form-control rounded",placeholder:"Search Text","aria-label":"Search","aria-describedby":"search-addon",onChange:this.changeInput}),Object(q.jsx)("button",{className:"input-group-text border-0",id:"search-addon",onClick:this.searchForPrompts,children:Object(q.jsx)(xt.a,{className:"iconBG",color:"black",size:16})})]})})}),Object(q.jsx)("div",{className:"row",children:Object(q.jsxs)("div",{className:"col",children:[Object(q.jsx)("button",{className:"btn btn-outline-secondary","data-toggle":"collapse","data-target":"#displaySearchCollapse",children:"Advanced Search"}),Object(q.jsx)("hr",{}),Object(q.jsxs)("div",{className:"collapse",id:"displaySearchCollapse",children:[Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsx)("u",{children:"Filters:"})})}),Object(q.jsxs)("div",{className:"row",children:[Object(q.jsx)("div",{className:"col"}),b,Object(q.jsx)("div",{className:"col"})]}),Object(q.jsxs)("div",{className:"row",children:[Object(q.jsx)("div",{className:"col"}),v,Object(q.jsx)("div",{className:"col"})]}),Object(q.jsx)("hr",{})]})]})}),Object(q.jsxs)("table",{className:"table",children:[Object(q.jsx)("thead",{children:Object(q.jsxs)("tr",{children:[Object(q.jsx)("th",{scope:"col",children:"Text"}),Object(q.jsx)("th",{scope:"col",children:"Type"}),Object(q.jsx)("th",{scope:"col",children:"Filter(s)"}),Object(q.jsx)("th",{scope:"col",children:"Add"})]})}),Object(q.jsx)("tbody",{children:r})]},"1"),1===this.state.addedPrompt&&Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col text-success",children:"Added!"})}),2===this.state.addedPrompt&&Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col text-warning",children:"Already on the list!"})})]}),Object(q.jsx)("div",{className:"modal-footer",children:Object(q.jsx)(St,{activePage:this.state.pageNum,changePrevNext:this.changePageFwdBck,changeToNum:this.changePageTo,totalLoaded:this.state.promptsBin.length,numPerPage:this.state.numPerPage})})]})})})]})]})}}]),s}(r.a.Component),Dt=Object(u.f)(yt),Ct="User Security",wt=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).oldPasswordChange=function(e){a.setState({oldPassword:e.target.value,oldPasswordError:!1})},a.newPasswordChange=function(e){a.setState({newPassword:e.target.value,newPasswordError:!1})},a.newPassword2Change=function(e){a.setState({newPassword2:e.target.value,newPasswordError:!1})},a.newEmailChange=function(e){a.setState({newEmail:e.target.value})},a.newNewFirstChange=function(e){a.setState({newFirstName:e.target.value})},a.newLastNameChange=function(e){a.setState({newLastName:e.target.value})},a.getDataFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return a.props.debugSet(Ct,"Refresh Triggered","Get User Details"),void a.props.refreshToken(a.getCurrentData);2===e.action||3===e.action||4===e.action||e.action}a.props.debugSet(Ct,"Get Security Data","Failure"),t=e.messages,a.setState({getCurrentDataError:t,getCurrentDataStatus:3})},a.getDataSuccess=function(e){a.props.debugSet(Ct,"Get Security Data","Success"),a.setState({getCurrentDataStatus:2})},a.getCurrentData=function(){!function(e,t){var s={headers:{Authorization:"JWT ".concat(O)}};x.get("/api/getUserDetails/",s).then((function(t){var s=t.data;e(s)})).catch((function(e){var s=y(e);t(s)}))}(a.getDataSuccess,a.getDataFailure),a.setState({getCurrentDataStatus:1})},a.changeEmailFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return a.props.refreshToken(a.changeEmail),void a.props.debugSet(Ct,"Refresh Triggered","Change Email");2===e.action||3===e.action||4===e.action||e.action}a.props.debugSet(Ct,"Change Email","Failure"),t=e.messages,a.setState({changeGeneralError:t,changeEmailStatus:3})},a.changeEmailSuccess=function(e){a.props.debugSet(Ct,"Change Email","Success"),a.setState({changeEmailStatus:2})},a.changeEmail=function(){0},a.changeNameFailure=function(e){var t;if(0===e.action);else if(1===e.action)return a.props.refreshToken(a.changeName),void a.props.debugSet(Ct,"Refresh Triggered","Change Name");a.props.debugSet(Ct,"Change Name","Failure"),t=e.messages,a.setState({changeGeneralError:t,changeNameStatus:3})},a.changeNameSuccess=function(e){a.props.debugSet(Ct,"Change Name","Success"),a.setState({changeNameStatus:2})},a.changeName=function(){!function(e,t,s,a){var r={headers:{Authorization:"JWT ".concat(O)}},n={first_name:e,last_name:t};x.put("/api/updateUserName/",n,r).then((function(e){var t=e.data;s(t)})).catch((function(e){var t=y(e);a(t)}))}(a.state.newFirstName,a.state.newLastName,a.changeNameSuccess,a.changeNameFailure),a.setState({newFirstName:"",newLastName:"",changeNameStatus:1})},a.changePasswordFailure=function(e){var t=!1,s=!1,r="";if(0===e.action);else{if(1===e.action)return a.props.debugSet(Ct,"Refresh Triggered","Change Password"),void a.props.refreshToken(a.changePassword);if(3===e.action)for(var n in e.messages)2===e.messages[n].mod&&(s=!0,r=e.messages[n].text);else 6===e.action&&(t=!0)}a.props.debugSet(Ct,"Change Password","Failure"),a.setState({oldPasswordError:t,newPasswordError:s,newPasswordErrorMessage:r,changePasswordStatus:3})},a.changePasswordSuccess=function(e){a.props.debugSet(Ct,"Change Password","Success"),a.setState({oldPassword:"",newPassword:"",newPassword2:"",oldPasswordError:!1,newPasswordError:!1,changePasswordStatus:2})},a.changePassword=function(){a.state.newPassword.length<8||a.state.newPassword2<8?a.setState({newPasswordError:!0,newPasswordErrorMessage:"Passwords are too short!"}):a.state.newPassword===a.state.newPassword2?(!function(e,t,s,a,r){var n={headers:{Authorization:"JWT ".concat(O)}},i={oldPassword:e,password:t,password2:s};x.put("/api/updateUserPassword/",i,n).then((function(e){var t=e.data;a(t)})).catch((function(e){var t=y(e);r(t)}))}(a.state.oldPassword,a.state.newPassword,a.state.newPassword2,a.changePasswordSuccess,a.changePasswordFailure),a.setState({oldPasswordError:!1,newPasswordError:!1,changePasswordStatus:1})):a.setState({newPasswordError:!0,newPasswordErrorMessage:"Passwords do not match!"})},a.state={currentEmail:"No Data!",currentFirstName:"No Data!",currentLastName:"No Data!",newEmail:"",newFirstName:"",newLastName:"",oldPassword:[],newPassword:[],newPassword2:[],getCurrentDataStatus:0,changePasswordStatus:0,changeNameStatus:0,changeEmailStatus:0,getCurrentDataError:[],changeGeneralError:[],oldPasswordError:!1,newPasswordError:!1,newPasswordErrorMessage:"New Password Error Stuff"},a}return Object(o.a)(s,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e="form-control",t="form-control";this.state.oldPasswordError&&(t+=" bg-warning");var s="form-control";this.state.newPasswordError&&(s+=" bg-warning");var a=1===this.state.getCurrentDataStatus,r=2===this.state.changePasswordStatus,n=3===this.state.getCurrentDataStatus,i=[];for(var c in this.state.getCurrentDataError)i.push(this.state.getCurrentDataError[c].text);for(var o in this.state.changeGeneralError)i.push(this.state.changeGeneralError[o].text);return 0===i.length&&i.push("Unknown!"),Object(q.jsxs)("div",{className:"userSecurty",children:[Object(q.jsxs)("div",{className:"container",children:[Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsxs)("div",{className:"card shadow",children:[Object(q.jsx)("div",{className:"card-header",children:Object(q.jsx)("h5",{children:"Edit User Security Details"})}),Object(q.jsx)("div",{className:"card-body",children:Object(q.jsx)("div",{className:"list-group",children:Object(q.jsxs)(_.a,{children:[Object(q.jsx)(_.a.Toggle,{as:Q.a.Header,className:"border btn btn-outline-dark btn-block",variant:"link",eventKey:"email",children:Object(q.jsxs)("div",{className:"row",children:[Object(q.jsx)("div",{className:"col-1"}),Object(q.jsx)("div",{className:"col",children:"Change Email"}),Object(q.jsx)("div",{className:"col-1",children:Object(q.jsx)($.a,{})})]})}),Object(q.jsx)(_.a.Collapse,{className:"border",eventKey:"email",children:Object(q.jsx)("div",{children:Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:"Under Construction!"})})})}),Object(q.jsx)(_.a.Toggle,{as:Q.a.Header,className:"border btn btn-outline-dark btn-block",variant:"link",eventKey:"user",children:Object(q.jsxs)("div",{className:"row",children:[Object(q.jsx)("div",{className:"col-1"}),Object(q.jsx)("div",{className:"col",children:"Change Username"}),Object(q.jsx)("div",{className:"col-1",children:Object(q.jsx)($.a,{})})]})}),Object(q.jsx)(_.a.Collapse,{className:"border",eventKey:"user",children:Object(q.jsx)("div",{children:Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:"Under Construction!"})})})}),Object(q.jsx)(_.a.Toggle,{as:Q.a.Header,className:"border btn btn-outline-dark btn-block",variant:"link",eventKey:"open",children:Object(q.jsxs)("div",{className:"row",children:[Object(q.jsx)("div",{className:"col-1"}),Object(q.jsx)("div",{className:"col",children:"Change Password"}),Object(q.jsx)("div",{className:"col-1",children:Object(q.jsx)($.a,{})})]})}),Object(q.jsx)(_.a.Collapse,{className:"border",eventKey:"open",children:Object(q.jsxs)("div",{children:[Object(q.jsxs)("div",{className:"form-group m-3",children:[Object(q.jsx)("label",{children:Object(q.jsx)("h5",{children:Object(q.jsx)("u",{children:"Old Password"})})}),Object(q.jsx)("input",{type:"password",className:t,value:this.state.oldPassword,onChange:this.oldPasswordChange,placeholder:"Enter password"}),Object(q.jsx)("p",{className:"text-danger",children:this.state.oldPasswordError?"Invalid Password!":""})]}),Object(q.jsxs)("div",{className:"form-group m-3",children:[Object(q.jsx)("label",{children:Object(q.jsx)("h5",{children:Object(q.jsx)("u",{children:"New Password"})})}),Object(q.jsx)("input",{type:"password",className:s,value:this.state.newPassword,onChange:this.newPasswordChange,placeholder:"Enter password"})]}),Object(q.jsxs)("div",{className:"form-group m-3",children:[Object(q.jsx)("label",{children:Object(q.jsx)("h5",{children:Object(q.jsx)("u",{children:"New Password (again)"})})}),Object(q.jsx)("input",{type:"password",className:s,value:this.state.newPassword2,onChange:this.newPassword2Change,placeholder:"Enter password"}),Object(q.jsx)("p",{className:"text-danger",children:this.state.newPasswordError?this.state.newPasswordErrorMessage:""})]}),Object(q.jsx)("button",{type:"button",className:"mb-3 btn btn-outline-primary",onClick:this.changePassword,children:"Change Password"})]})})]})})})]})})}),Object(q.jsxs)(j.a,{show:a,variant:"warning",children:[Object(q.jsx)(j.a.Heading,{children:"Waiting"}),Object(q.jsx)("hr",{}),Object(q.jsx)("p",{children:"Waiting for server response..."}),Object(q.jsx)("hr",{})]}),Object(q.jsxs)(j.a,{show:r,variant:"success",children:[Object(q.jsx)(j.a.Heading,{children:"Success!"}),Object(q.jsx)("hr",{}),Object(q.jsx)("p",{children:"Success!"}),Object(q.jsx)("hr",{})]}),Object(q.jsxs)(j.a,{show:n,variant:"danger",children:[Object(q.jsx)(j.a.Heading,{children:"Danger!"}),Object(q.jsx)("hr",{}),Object(q.jsx)("p",{children:i}),Object(q.jsx)("hr",{})]})]}),Object(q.jsx)("div",{className:"modal fade",id:"changeNameModal",tabIndex:"-1",role:"dialog","aria-labelledby":"changeNameModal","aria-hidden":"true",children:Object(q.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:Object(q.jsxs)("div",{className:"modal-content",children:[Object(q.jsxs)("div",{className:"modal-header",children:[Object(q.jsx)("h5",{className:"modal-title",id:"deleteTitleConfirm",children:"Change Name"}),Object(q.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(q.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(q.jsxs)("div",{className:"modal-body",children:[Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("label",{id:"align-left",children:"New First Name"}),Object(q.jsx)("input",{type:"text",className:e,value:this.state.newFirstName,onChange:this.newNewFirstChange,placeholder:"Enter New First Name"})]}),Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("label",{id:"align-left",children:"New Last Name"}),Object(q.jsx)("input",{type:"text",className:e,value:this.state.newLastName,onChange:this.newLastNameChange,placeholder:"Enter New Last Name"})]})]}),Object(q.jsxs)("div",{className:"modal-footer",children:[Object(q.jsx)("button",{type:"button",className:"btn btn-outline-secondary","data-dismiss":"modal",onClick:this.changeName,children:"Change Name"}),Object(q.jsx)("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal",children:"Cancel"})]})]})})})]})}}]),s}(r.a.Component),Et=Object(u.f)(wt),kt=["Invalid","Admin User","Viewing User","Governed User"],Pt="User Invites",Tt=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).getUserInvitesFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return a.props.debugSet(Pt,"Refresh Triggered","User Invites"),void a.props.refreshToken(a.getUserInvites);2===e.action||3===e.action||4===e.action||e.action}a.props.debugSet(Pt,"User Invites","Failure"),t=e.messages,a.setState({getUserInvitesErrors:t,getUserInvitesStatus:3})},a.getUserInvitesSuccess=function(e){var t=[],s=[];for(var r in e)1===e[r].whoIsOrigin?s.push(e[r]):2===e[r].whoIsOrigin&&t.push(e[r]);a.props.debugSet(Pt,"User Invites","Success"),a.setState({invitePendingList:s,inviteActiveList:t,getUserInvitesStatus:2})},a.getUserInvites=function(){!function(e,t){var s={headers:{Authorization:"JWT ".concat(O)}};x.get("/api/getUsersInvites",s).then((function(t){var s=t.data;e(s)})).catch((function(e){var s=y(e);t(s)}))}(a.getUserInvitesSuccess,a.getUserInvitesFailure),a.setState({getUserInvitesStatus:1})},a.inviteFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return a.props.debugSet(Pt,"Refresh Triggered","Submit Code"),void a.props.refreshToken(a.submitCode);if(2===e.action);else if(3===e.action)for(var s in e.messages)5===e.messages[s].mod||6===e.messages[s].mod||e.messages[s].mod;else 4===e.action||e.action}a.props.debugSet(Pt,"Submit Code","False"),t=e.messages,a.setState({submitCodeErrors:t,submitCodeStatus:3})},a.inviteSuccess=function(e){a.props.debugSet(Pt,"Submit Code","Success"),a.setState({submitCodeStatus:2})},a.submitCode=function(){!function(e,t,s){var a={headers:{Authorization:"JWT ".concat(O)}};x.get("/api/useDivisionInvite?joinCode="+e,a).then((function(e){var s=e.data;t(s)})).catch((function(e){var t=y(e);s(t)}))}(a.state.inviteCode,a.inviteSuccess,a.inviteFailure),a.setState({submitCodeStatus:1})},a.spendInviteFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return a.props.debugSet(Pt,"Refresh Triggered","Spend Invite"),void a.props.refreshToken(a.baseTryAgain);2===e.action||3===e.action||4===e.action||e.action}t=e.messages,a.props.debugSet(Pt,"Spend Invite","Success"),a.getUserInvites(),a.props.triggerRefresh(),a.setState({spendInviteErrors:t,spendInviteStatus:3})},a.spendInviteSuccess=function(e){a.props.debugSet(Pt,"Spend Invite","Success"),a.getUserInvites(),a.props.triggerRefresh(),a.setState({spendInviteStatus:2})},a.inviteYes=function(e){var t=e.target.value;T(t,1,a.spendInviteSuccess,a.spendInviteFailure),a.setState({spendInviteStatus:1})},a.inviteNo=function(e){var t=e.target.value;T(t,0,a.spendInviteSuccess,a.spendInviteFailure),a.setState({spendInviteStatus:1})},a.codeFieldChange=function(e){a.setState({inviteCode:e.target.value})},a.baseTryAgain=function(){console.log("Put Some 'Uh Oh, try again' thing here")},a.state={inviteCode:"",invitePendingList:[],inviteActiveList:[],getUserInvitesStatus:0,submitCodeStatus:0,spendInviteStatus:0,getUserInvitesErrors:[],submitCodeErrors:[],spendInviteErrors:[]},a}return Object(o.a)(s,[{key:"componentDidMount",value:function(){this.getUserInvites()}},{key:"render",value:function(){var e=1===this.state.getUserInvitesStatus||1===this.state.spendInviteStatus||1===this.state.submitCodeStatus,t=2===this.state.submitCodeStatus,s=3===this.state.getUserInvitesStatus||3===this.state.spendInviteStatus||3===this.state.submitCodeStatus,a=[];for(var r in this.state.getUserInvitesErrors)a.push(this.state.getUserInvitesErrors[r].text);for(var n in this.state.submitCodeErrors)a.push(this.state.submitCodeErrors[n].text);for(var i in this.state.spendInviteErrors)a.push(this.state.spendInviteErrors[i].text);0===a.length&&a.push("Unknown!");var c=[];for(var o in this.state.invitePendingList){c.push(Object(q.jsxs)("li",{className:"list-group-item d-flex justify-content-around",children:[Object(q.jsx)("div",{className:"col alignOverride",children:this.state.invitePendingList[o].inviteDivision}),Object(q.jsx)("div",{className:"col alignOverride",children:kt[this.state.invitePendingList[o].targetRole]}),Object(q.jsx)("div",{className:"col-2"}),Object(q.jsx)("div",{className:"col-1"})]},o))}0===c.length&&c.push(Object(q.jsx)("li",{className:"list-group-item",children:"No Invites!"},0));var l=[];for(var d in this.state.inviteActiveList){l.push(Object(q.jsxs)("li",{className:"list-group-item d-flex justify-content-around",children:[Object(q.jsx)("div",{className:"col alignOverride",children:this.state.inviteActiveList[d].inviteDivision}),Object(q.jsx)("div",{className:"col alignOverride",children:kt[this.state.inviteActiveList[d].targetRole]}),Object(q.jsx)("div",{className:"col-2",children:Object(q.jsx)("button",{className:"badge badge-success badge-pill",value:this.state.inviteActiveList[d].id,onClick:this.inviteYes,children:"/"})}),Object(q.jsx)("div",{className:"col-1",children:Object(q.jsx)("button",{className:"badge badge-danger badge-pill",value:this.state.inviteActiveList[d].id,onClick:this.inviteNo,children:"X"})})]},d))}return 0===l.length&&l.push(Object(q.jsx)("li",{className:"list-group-item",children:"No Invites!"},0)),Object(q.jsx)("div",{className:"userInvite",children:Object(q.jsxs)("div",{className:"container",children:[e&&Object(q.jsx)(Is,{}),!e&&Object(q.jsxs)("div",{children:[Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsxs)("div",{className:"card shadow",children:[Object(q.jsx)("div",{className:"card-header",children:Object(q.jsx)("h5",{children:"Enter Invite Code"})}),Object(q.jsx)("div",{className:"card-body",children:Object(q.jsxs)("div",{className:"list-group",children:[Object(q.jsx)("div",{className:"list-group-item",children:Object(q.jsx)("input",{type:"text",className:"form-control",value:this.state.inviteCode,onChange:this.codeFieldChange,placeholder:"Enter Code"})}),Object(q.jsx)("div",{className:"list-group-item",children:Object(q.jsx)("button",{className:"btn btn-primary",onClick:this.submitCode,children:"Submit"})})]})})]})})}),Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsxs)("div",{className:"card shadow",children:[Object(q.jsx)("div",{className:"card-header",children:Object(q.jsx)("h5",{children:"Current Sent Pending Invites"})}),Object(q.jsx)("div",{className:"card-body",children:Object(q.jsxs)("ul",{className:"list-group",children:[Object(q.jsx)("li",{className:"list-group-item",children:Object(q.jsxs)("div",{className:"row",children:[Object(q.jsx)("div",{className:"col-1"}),Object(q.jsx)("div",{className:"col alignOverride",children:Object(q.jsx)("u",{children:"Division name"})}),Object(q.jsx)("div",{className:"col alignOverride",children:Object(q.jsx)("u",{children:"Target Role"})}),Object(q.jsx)("div",{className:"col-2"}),Object(q.jsx)("div",{className:"col-1"})]})},-1),c]})})]})})}),Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsxs)("div",{className:"card shadow",children:[Object(q.jsx)("div",{className:"card-header",children:Object(q.jsx)("h5",{children:"Current Company Invites"})}),Object(q.jsx)("div",{className:"card-body",children:Object(q.jsxs)("ul",{className:"list-group",children:[Object(q.jsx)("li",{className:"list-group-item",children:Object(q.jsxs)("div",{className:"row",children:[Object(q.jsx)("div",{className:"col-1"}),Object(q.jsx)("div",{className:"col alignOverride",children:Object(q.jsx)("u",{children:"Division name"})}),Object(q.jsx)("div",{className:"col alignOverride",children:Object(q.jsx)("u",{children:"Target Role"})}),Object(q.jsx)("div",{className:"col-2"}),Object(q.jsx)("div",{className:"col-1"})]})},-1),l]})})]})})})]}),Object(q.jsxs)(j.a,{show:e,variant:"warning",children:[Object(q.jsx)(j.a.Heading,{children:"Waiting"}),Object(q.jsx)("hr",{}),Object(q.jsx)("p",{children:"Waiting for response..."}),Object(q.jsx)("hr",{})]}),Object(q.jsxs)(j.a,{show:t,variant:"success",children:[Object(q.jsx)(j.a.Heading,{children:"Success!"}),Object(q.jsx)("hr",{}),Object(q.jsx)("p",{children:"Successfully Send Invite!"}),Object(q.jsx)("hr",{})]}),Object(q.jsxs)(j.a,{show:s,variant:"danger",children:[Object(q.jsx)(j.a.Heading,{children:"Error!"}),Object(q.jsx)("hr",{}),Object(q.jsx)("p",{children:a}),Object(q.jsx)("hr",{})]})]})})}}]),s}(r.a.Component),Ft=Object(u.f)(Tt),It=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).state={},a}return Object(o.a)(s,[{key:"render",value:function(){return Object(q.jsx)("div",{className:"userSyncSettings",children:Object(q.jsx)("div",{className:"container",children:Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsxs)("div",{className:"card shadow",children:[Object(q.jsx)("div",{className:"card-header",children:"Email Sync Settings"}),Object(q.jsx)("div",{className:"card-body",children:Object(q.jsxs)("ul",{className:"list-group",children:[Object(q.jsx)("div",{className:"list-group-item",children:"Explination under construction..."}),Object(q.jsx)("div",{className:"list-group-item",children:Object(q.jsx)("a",{href:g+"/syncHome",children:"To the Email Sync Page!"})})]})})]})})})})})}}]),s}(r.a.Component),Lt=Object(u.f)(It),Ut=s(97),Wt=s.n(Ut),At="User Webs",Rt=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).GenerateTestInfo=function(){for(var e=[],t=Math.floor(Math.random()*(a.state.maxNodes-a.state.minNodes)+a.state.minNodes),s=1;s<t;s++)e.push({dispName:"Other User "+s,to:s,sentiment:Math.random()*(a.state.maxSenti-a.state.minSenti)+a.state.minSenti,freq:Math.random()*(a.state.maxFreq-a.state.minFreq)+a.state.minFreq});return[{id:0,name:"This Users Name",isTracked:!0,toSet:e}]},a.timedRefresh=function(){},a.GenerateGraph=function(e){var t={nodes:[],edges:[]};for(var s in e){var a="#000000",r="#FFF0F0";for(var n in e[s].isTracked&&(r="#FFFFFF"),t.nodes.push({id:e[s].id,label:e[s].name,color:{border:a,background:r}}),e[s].toSet){t.edges.push({from:e[s].id,to:e[s].toSet[n].to,label:(Math.floor(100*e[s].toSet[n].sentiment)/100).toString()+", "+Math.floor(e[s].toSet[n].freq).toString(),width:Y(e[s].toSet[n].freq),color:Z(e[s].toSet[n].sentiment)});var i=!1;for(var c in t.nodes)if(t.nodes[c].id===e[s].toSet[n].to){i=!0;break}i||t.nodes.push({id:e[s].toSet[n].to,label:e[s].toSet[n].dispName,color:{border:a,background:"#FFF0F0"}})}}return t},a.selectStuffPrimary=function(e){},a.getUserWebFailure=function(e){if(0===e.action);else{if(1===e.action)return a.props.debugSet(At,"Refresh Triggered","Get User Web"),void a.props.refreshToken(a.getUserWebRecent);e.action}a.props.debugSet(At,"Get User Web","Failure"),a.setState({getWebStatus:3,getDatesWebError:e.messages})},a.getUserWebCallback=function(e){console.log(e);var t=[];e.length>0&&(t=e[0].webStructure),a.props.debugSet(At,"Get User Web","Success"),a.setState({loadedData:t,graphDataPrimary:a.GenerateGraph(t),loadedDataDate:e[0].forDate,getWebStatus:2})},a.getUserWebRecent=function(){if(-1!==a.props.currentDivisionID){U(void 0,a.getUserWebCallback,a.getUserWebFailure),a.setState({getWebStatus:1})}else a.props.history.push(a.props.reRouteTarget)},a.getUserWebPreviousFailure=function(e){if(0===e.action);else{if(1===e.action)return a.props.debugSet(At,"Refresh Triggered","Get User Web"),void a.props.refreshToken(a.timedRefresh);e.action}a.props.debugSet(At,"Get User Web","Failure"),a.setState({getWebStatus:3,getDatesWebError:e.messages})},a.getUserWebPreviousCallback=function(e){var t=[],s="Unknown";e.length>0&&(t=e[0].webStructure,s=e[0].forDate),a.props.debugSet(At,"Get User Web","Success"),a.setState({loadedData:t,graphDataPrimary:a.GenerateGraph(t),loadedDataDate:s,getWebStatus:2})},a.getUserWebPrevious=function(e){if(-1!==a.props.currentDivisionID){U(e,a.getUserWebPreviousCallback,a.getUserWebPreviousFailure),a.setState({getWebStatus:1})}else a.props.history.push(a.props.reRouteTarget)},a.pickDate=function(e){a.setState({selectedWebDay:e}),a.getUserWebPrevious(e)},a.loadData=function(){var e=a.GenerateTestInfo();a.setState({loadedDataDate:"Current",loadedData:e.length,graphDataPrimary:a.GenerateGraph(e)})},a.maxNodeFieldChange=function(e){a.setState({maxNodes:Number(e.target.value)})},a.minNodeFieldChange=function(e){a.setState({minNodes:Number(e.target.value)})},a.maxSentiFieldChange=function(e){a.setState({maxSenti:Number(e.target.value)})},a.minSentiFieldChange=function(e){a.setState({minSenti:Number(e.target.value)})},a.maxFreqFieldChange=function(e){a.setState({maxFreq:Number(e.target.value)})},a.minFreqFieldChange=function(e){a.setState({minFreq:Number(e.target.value)})},a.state={maxNodes:20,minNodes:0,maxSenti:1,minSenti:-1,maxFreq:7,minFreq:0,loadedDataDate:"None",loadedData:[],graphDataPrimary:a.GenerateGraph([]),selectedNodes:["None"],getWebStatus:0,getDatesWebStatus:0,getDatesWebError:[],selectedWebDay:new Date},a}return Object(o.a)(s,[{key:"render",value:function(){var e=this,t={select:this.selectStuffPrimary},s=0===this.state.getWebStatus,a=1===this.state.getWebStatus,r=2===this.state.getWebStatus,n=3===this.state.getWebStatus,i="No Data!";"Current"!==this.state.loadedDataDate&&(i="Showing Web From: "+this.state.loadedDataDate);var c=[];for(var o in this.state.getDatesWebError)c.push(Object(q.jsx)("div",{children:this.state.getDatesWebError[o].text}));return Object(q.jsxs)("div",{className:"UserWebStuff bg-secondary",children:[Object(q.jsxs)("div",{className:"container bg-light border shadow",children:[Object(q.jsx)("div",{className:"row my-3",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsx)("button",{className:"btn btn-dark",onClick:this.getUserWebRecent,children:"Load Most Recent Web From Server"})})}),Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsxs)(_.a,{children:[Object(q.jsx)(_.a.Toggle,{as:Q.a.Header,className:"border btn btn-outline-dark btn-block",variant:"link",eventKey:"open",children:Object(q.jsxs)("div",{className:"row",children:[Object(q.jsx)("div",{className:"col-1"}),Object(q.jsx)("div",{className:"col",children:"Get a Previous Web"}),Object(q.jsx)("div",{className:"col-1",children:Object(q.jsx)($.a,{})})]})}),Object(q.jsx)(_.a.Collapse,{eventKey:"open",children:Object(q.jsxs)("div",{className:"row",children:[Object(q.jsx)("div",{className:"col"}),Object(q.jsx)("div",{className:"col-",children:Object(q.jsx)(ze.a,{onChange:this.pickDate,value:this.state.selectedWebDay,tileClassName:function(t){var s=t.date,a=t.view,r=!1,n=String(s.getFullYear()),i=String(s.getMonth()+1);i<10&&(i="0"+i);var c=String(s.getDate());c<10&&(c="0"+c);var o=n+"-"+i+"-"+c;if("month"===a)try{r=e.props.validUserWebDates.find((function(e){return e.forDate===o}))}catch(l){}if(r)return"btn btn-success"},minDetail:"year",maxDetail:"month"})}),Object(q.jsx)("div",{className:"col"})]})})]})})}),Object(q.jsx)("div",{className:"row my-3",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsxs)(_.a,{children:[Object(q.jsx)(_.a.Toggle,{as:Q.a.Header,className:"border btn btn-outline-dark btn-block",variant:"link",eventKey:"open",children:Object(q.jsxs)("div",{className:"row",children:[Object(q.jsx)("div",{className:"col-1"}),Object(q.jsx)("div",{className:"col",children:"Create a Test Web"}),Object(q.jsx)("div",{className:"col-1",children:Object(q.jsx)($.a,{})})]})}),Object(q.jsx)(_.a.Collapse,{eventKey:"open",children:Object(q.jsxs)("div",{children:[Object(q.jsx)("div",{className:"row my-2",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("label",{id:"label-left",children:"Max Nodes"}),Object(q.jsx)("input",{type:"number",className:"form-control",value:this.state.maxNodes,onChange:this.maxNodeFieldChange,placeholder:"Enter Max Node Number"}),Object(q.jsx)("label",{id:"label-left",children:"Min Nodes"}),Object(q.jsx)("input",{type:"number",className:"form-control",value:this.state.minNodes,onChange:this.minNodeFieldChange,placeholder:"Enter Min Node Number"})]})})}),Object(q.jsx)("div",{className:"row my-2",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("label",{id:"label-left",children:"Max Sentiment"}),Object(q.jsx)("input",{type:"number",className:"form-control",value:this.state.maxSenti,onChange:this.maxSentiFieldChange,placeholder:"Enter Max Sentiment"}),Object(q.jsx)("label",{id:"label-left",children:"Min Seniment"}),Object(q.jsx)("input",{type:"number",className:"form-control",value:this.state.minSenti,onChange:this.minSentiFieldChange,placeholder:"Enter Min Sentiment"})]})})}),Object(q.jsx)("div",{className:"row my-2",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("label",{id:"label-left",children:"Max Email Amount"}),Object(q.jsx)("input",{type:"number",className:"form-control",value:this.state.maxFreq,onChange:this.maxFreqFieldChange,placeholder:"Enter Max Email Amount"}),Object(q.jsx)("label",{id:"label-left",children:"Min Email Amount"}),Object(q.jsx)("input",{type:"number",className:"form-control",value:this.state.minFreq,onChange:this.minFreqFieldChange,placeholder:"Enter Min Email Amount"})]})})}),Object(q.jsxs)("div",{className:"row",children:[Object(q.jsx)("div",{className:"col"}),Object(q.jsx)("div",{className:"col-",children:Object(q.jsx)("button",{className:"btn btn-secondary",onClick:this.loadData,children:"Create Data!"})}),Object(q.jsx)("div",{className:"col"})]})]})})]})})}),Object(q.jsx)("div",{className:"border",children:0===this.state.loadedData.length?Object(q.jsxs)("div",{className:"row my-5",children:[s&&Object(q.jsx)("div",{className:"col",children:"Waiting for signal to get data"}),a&&Object(q.jsx)("div",{className:"col",children:"Getting Data..."}),r&&Object(q.jsx)("div",{className:"col",children:"Server reported no web!"})]}):Object(q.jsx)("div",{children:Object(q.jsxs)("div",{children:[Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsx)("u",{children:i})})}),Object(q.jsx)(Wt.a,{graph:this.state.graphDataPrimary,options:X,events:t,getNetwork:function(e){}})]})})}),Object(q.jsx)(ee,{}),Object(q.jsx)("div",{className:"row my-2"})]}),Object(q.jsxs)(j.a,{show:a,variant:"warning",children:[Object(q.jsx)(j.a.Heading,{children:"Waiting"}),Object(q.jsx)("hr",{}),Object(q.jsx)("p",{children:"Waiting for server..."}),Object(q.jsx)("hr",{})]}),Object(q.jsxs)(j.a,{show:n,variant:"danger",children:[Object(q.jsx)(j.a.Heading,{children:"Error!"}),Object(q.jsx)("hr",{}),c,Object(q.jsx)("hr",{})]})]})}}]),s}(r.a.Component),Jt=Object(u.f)(Rt),Mt="User Core",Bt=function(e){return Object(q.jsx)("div",{className:"defaultView",children:Object(q.jsx)("h3",{children:"404! You have selected and invalid page"})})},Ht=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).initializeSuggestionDivision=function(){var e=[];for(var t in a.props.userLoadedCompanyList){var s=-1;for(var r in a.props.userLoadedCompanyList[t].perm)3===a.props.userLoadedCompanyList[t].perm[r]&&(s=3);s>=0&&s<4&&e.push(a.props.userLoadedCompanyList[t])}return 1===e.length?e[0].id:-1},a.changeSuggestionContent=function(e){a.setState({suggestionEditorState:e})},a.suggestionPostFailureCallback=function(e){var t;if(0===e.action);else{if(1===e.action)return a.props.refreshToken(a.postSuggestion),void a.props.debugSet(Mt,"Refresh Triggered","Post Suggestion");2===e.action||3===e.action||4===e.action||e.action}a.props.debugSet(Mt,"Post Suggestion","Failure"),t=e.messages,a.setState({suggestionErrors:t,postSuggestionStatus:3})},a.suggestionPostCallback=function(e){a.props.debugSet(Mt,"Post Suggestion","Success"),a.setState({suggestionErrors:[],postSuggestionStatus:2})},a.postSuggestion=function(){var e=a.props.currentDate,t=a.state.suggestionEditorState.getCurrentContent().getPlainText(),s=Object(Le.convertToRaw)(a.state.suggestionEditorState.getCurrentContent()),r=a.state.currentSuggestionDivision;-1!==r?(!function(e,t,s,a,r,n){var i={headers:{Authorization:"JWT ".concat(O)}},c={reqDiv:t,targetDivision:t,createdDate:S(e),content:s,richText:a};x.post("/api/saveNewSuggestion/",c,i).then((function(e){r(e.data)})).catch((function(e){var t=y(e);n(t)}))}(e,r,t,s,a.suggestionPostCallback,a.suggestionPostFailureCallback),a.setState({postSuggestionStatus:1})):(console.log("Not allowed!"),a.setState({suggestionErrors:["You need to select a company!"]}))},a.refreshCompleted=function(){console.log("Put a Please Try again thing on the UI")},a.journalDataFailure=function(e){var t;0===e.action||(1===e.action?(a.props.refreshToken(a.refreshCompleted),a.props.debugSet(Mt,"Refresh Triggered","Get Journal Data")):2===e.action||3===e.action||4===e.action||e.action),a.props.debugSet(Mt,"Get Journal Data","Failure"),t=e.messages,a.setState({journalViewErrors:t,pickJournalCalenderDateStatus:3})},a.journalDataCallback=function(e){a.props.debugSet(Mt,"Get Journal Data","Success"),a.setState({viewJournalData:e,pickJournalCalenderDateStatus:2})},a.nonJournalDataFailure=function(e){var t=e.messages;0===e.action||(1===e.action?(a.props.refreshToken(a.refreshCompleted),a.props.debugSet(Mt,"Refresh Triggered","Get Multi Choice Data")):2===e.action||3===e.action||4===e.action||e.action),a.props.debugSet(Mt,"Get Multi Choice Data","Failure"),a.setState({nonJournalViewErrors:t,pickNonJournalCalenderDateStatus:3})},a.nonJournalDataCallback=function(e){a.props.debugSet(Mt,"Get Multi Choice Data","Success"),a.setState({viewNonJournalData:e,pickNonJournalCalenderDateStatus:2})},a.pickJournalCalenderDate=function(e){a.setState({selectedJournalDate:e});!function(e,t,s){var a={headers:{Authorization:"JWT ".concat(O)}},r=e.toJSON().split("T")[0];x.get("/api/getUserJournal/?reqDate="+r,a).then((function(e){t(e.data)})).catch((function(e){var t=y(e);s(t)}))}(e,a.journalDataCallback,a.journalDataFailure),function(e,t,s){var a={headers:{Authorization:"JWT ".concat(O)}},r=e.toJSON().split("T")[0];x.get("/api/getUserNonJournal/?reqDate="+r,a).then((function(e){t(e.data)})).catch((function(e){var t=y(e);s(t)}))}(e,a.nonJournalDataCallback,a.nonJournalDataFailure),a.setState({pickJournalCalenderDateStatus:1,pickNonJournalCalenderDateStatus:1,viewJournalData:[],viewNonJournalData:[]})},a.setSuggestionDivision=function(e){a.setState({currentSuggestionDivision:e})},a.changeSelectedJournalViewDiv=function(e){a.setState({selectedJournalViewDiv:e.target.value})},a.state={selectedJournalDate:new Date,selectedJournalViewDiv:0,journalValidPrompts:[],journalMessage:"Choose a date to view the journal!",journalContent:"Waiting for content...",viewJournalData:[],viewNonJournalData:[],suggestionEditorState:Le.EditorState.createEmpty(),suggestionErrors:[],journalViewErrors:[],nonJournalViewErrors:[],journalPromptsErrors:[],currentSuggestionDivision:a.initializeSuggestionDivision(),postSuggestionStatus:0,pickJournalCalenderDateStatus:0,pickNonJournalCalenderDateStatus:0},a}return Object(o.a)(s,[{key:"componentDidMount",value:function(){this.props.activateUserMenu(1)}},{key:"componentWillUnmount",value:function(){this.props.disableMenu()}},{key:"render",value:function(){var e=this,t=[];for(var s in this.state.journalPromptsErrors)t.push(this.state.journalPromptsErrors[s].text);return 0===t.length&&t.push("Unknown!"),Object(q.jsx)("div",{className:"contentPages",children:Object(q.jsx)("div",{className:"container",children:Object(q.jsx)("div",{className:"row m-1 my-5",children:Object(q.jsx)("div",{className:"col m-1",children:Object(q.jsxs)(u.c,{children:[Object(q.jsx)(u.a,{path:this.props.match.url+"/journalWrite",component:function(){return Object(q.jsx)(gt,{refreshToken:e.props.refreshToken,currentDate:e.props.currentDate,getValidDates:e.props.getValidDates,promptList:e.props.journalValidPrompts,nonJournalPromptsDone:e.props.validNonJournalDates,journalPromptsDone:e.props.validJournalDates,journalScanPromptsDone:e.props.validJournalScanDates,currentUser:e.props.currentUser,debugSet:e.props.debugSet})}}),Object(q.jsx)(u.a,{path:this.props.match.url+"/journalRead",component:function(){return Object(q.jsx)(nt,{currentDate:e.state.selectedJournalDate,viewJournalData:e.state.viewJournalData,viewNonJournalData:e.state.viewNonJournalData,validNonJournalDates:e.props.validNonJournalDates,validJournalDates:e.props.validJournalDates,validJournalScanDates:e.props.validJournalScanDates,pickDate:e.pickJournalCalenderDate,selectedJournalViewDiv:e.state.selectedJournalViewDiv,changeSelectedJournalViewDiv:e.changeSelectedJournalViewDiv,journalViewErrors:e.state.journalViewErrors,nonJournalViewErrors:e.state.nonJournalViewErrors,pickJournalCalenderDateStatus:e.state.pickJournalCalenderDateStatus,pickNonJournalCalenderDateStatus:e.state.pickNonJournalCalenderDateStatus})}}),Object(q.jsx)(u.a,{path:this.props.match.url+"/writeSuggestion",component:function(){return Object(q.jsx)(Ve,{userLoadedCompanyList:e.props.userLoadedCompanyList,lastRequestStatus:e.props.lastGovernedCompanyRequestStatus,setSuggestionDivision:e.setSuggestionDivision,currentDivisionID:e.state.currentSuggestionDivision,onChange:e.changeSuggestionContent,editorState:e.state.suggestionEditorState,saveToServer:e.postSuggestion,suggestionErrors:e.state.suggestionErrors,postSuggestionStatus:e.state.postSuggestionStatus,debugSet:e.props.debugSet})}}),Object(q.jsx)(u.a,{path:this.props.match.url+"/userPermissions",component:function(){return Object(q.jsx)(Ke,{currentUser:e.props.currentUser,userLoadedCompanyList:e.props.userLoadedCompanyList,triggerRefresh:e.props.loadCompanyData,refreshToken:e.props.refreshToken,debugSet:e.props.debugSet})}}),Object(q.jsx)(u.a,{path:this.props.match.url+"/userSecurity",component:function(){return Object(q.jsx)(Et,{refreshToken:e.props.refreshToken,debugSet:e.props.debugSet})}}),Object(q.jsx)(u.a,{path:this.props.match.url+"/userInvite",component:function(){return Object(q.jsx)(Ft,{triggerRefresh:e.props.loadCompanyData,refreshToken:e.props.refreshToken,debugSet:e.props.debugSet})}}),Object(q.jsx)(u.a,{path:this.props.match.url+"/userWeb",component:function(){return Object(q.jsx)(Jt,{triggerRefresh:e.props.loadCompanyData,refreshToken:e.props.refreshToken,validUserWebDates:e.props.validUserWebDates,debugSet:e.props.debugSet})}}),Object(q.jsx)(u.a,{path:this.props.match.url+"/userSyncSettings",component:function(){return Object(q.jsx)(Lt,{refreshToken:e.props.refreshToken})}}),Object(q.jsx)(u.a,{path:this.props.match.url+"/userPrompts",component:function(){return Object(q.jsx)(Dt,{currentUser:e.props.currentUser,refreshToken:e.props.refreshToken,validFilters:e.props.validFilters,debugSet:e.props.debugSet})}}),Object(q.jsx)(u.a,{path:this.props.match.url+"/",component:function(){return Object(q.jsx)(Bt,{})}})]})})})})})}}]),s}(r.a.Component),Vt=Object(u.f)(Ht),Gt=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){var e;return Object(c.a)(this,s),(e=t.call(this)).onToggle=function(t){t.preventDefault(),e.props.onToggle(e.props.value)},e}return Object(o.a)(s,[{key:"render",value:function(){var e="btn btn-outline-primary";return this.props.active&&(e+=" active"),Object(q.jsx)("button",{className:e,onClick:this.onToggle,children:this.props.label})}}]),s}(r.a.Component),qt=[{label:"Max",value:0,dayLength:0,weekLength:0},{label:"1Year",value:1,dayLength:365,weekLength:52},{label:"6Months",value:2,dayLength:183,weekLength:28},{label:"3Months",value:3,dayLength:63,weekLength:13},{label:"1Months",value:4,dayLength:31,weekLength:4},{label:"1Week",value:5,dayLength:7,weekLength:1}],Kt=function(e){var t=e.graphState;return Object(q.jsx)("div",{className:"EHIControls",children:qt.map((function(s){return Object(q.jsx)(Gt,{active:t===s.value,label:s.label,onToggle:e.onToggle,value:s.value},s.label)}))})},zt=Object(u.f)((function(e){var t=e.timeIndex,s=[],a=[];for(var r in e.EHIData)a.push({name:r,value:r});0===a.length&&a.push({name:"No Prompts!",value:"none"});var n=e.EHIselectedPrompt,i=e.EHIselectedTimescale,c=[];if(void 0!==e.EHIData[n]){for(var o in e.EHIData[n])s.push({name:o,value:o});void 0!==e.EHIData[n][i]&&(c=e.EHIData[n][i])}0===s.length&&s.push({name:"Nothing to select!",value:"none"});var l=[],d=[],h={scales:{yAxes:[{ticks:{beginAtZero:!0}}]}},u=W([],[[]]);if(void 0!==c){for(var j in c)l.push(j),d.push(c[j]);var b=qt[t].dayLength;0===b&&(b=l.length);var m=l.slice(-b),p={label:"EHI index",data:d.slice(-b)};u=W(m,[p])}return Object(q.jsx)("div",{className:"EHIDisplay",children:Object(q.jsxs)("div",{className:"container-fluid",children:[Object(q.jsx)("div",{className:"row m-1",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsxs)("div",{className:"card shadow",children:[Object(q.jsx)("div",{className:"card-header",children:"EHI Controls V1"}),Object(q.jsxs)("div",{className:"card-body",children:[Object(q.jsx)("div",{className:"row m-2",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsx)(Xe.a,{toggle:!0,children:a.map((function(t,s){return Object(q.jsx)(_e.a,{type:"radio",variant:"primary",name:"radio",value:t.value,checked:n===t.value,onChange:e.EHISetPrompt,children:t.name},s)}))})})}),Object(q.jsx)("div",{className:"row m-2",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsx)(Xe.a,{toggle:!0,children:s.map((function(t,s){return Object(q.jsx)(_e.a,{type:"radio",variant:"secondary",name:"radio",value:t.value,checked:i===t.value,onChange:e.EHISetTimescale,children:t.name},s)}))})})})]})]})})}),Object(q.jsx)("div",{className:"row m-1",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsxs)("div",{className:"card shadow",children:[Object(q.jsxs)("div",{className:"card-header",children:[Object(q.jsx)("div",{children:Object(q.jsx)("i",{children:Object(q.jsx)("b",{children:"Employee Health Index:"})})}),Object(q.jsxs)("div",{children:["Prompt: ",n]}),Object(q.jsxs)("div",{children:["Scale: ",i]})]}),Object(q.jsxs)("div",{className:"card-body",children:[Object(q.jsx)(Ye.Line,{data:u,options:h}),Object(q.jsx)(Kt,{graphState:t,onToggle:e.EHITimeToggle})]})]})})})]})})})),Yt=["Invalid","Admin","Allowed to View","Governed User"],Zt="Division Invites",Xt=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).tiggerReload=function(){a.getDivisionData(),a.getDivisionsInvites()},a.getFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return a.props.debugSet(Zt,"Refresh Triggered","Get Division Data"),void a.props.refreshToken(a.getDivisionData);2===e.action||3===e.action||4===e.action||e.action}a.props.debugSet(Zt,"Get Division Data","Failure"),t=e.messages,a.setState({getDivisionDataError:t,getDivisionDataStatus:3})},a.getSuccess=function(e){a.props.debugSet(Zt,"Get Division Data","Success"),a.setState({companyFullName:e.fullPathName,divisionName:e.divisionName,inviteCode:e.inviteCode,getDivisionDataStatus:2})},a.getDivisionData=function(){if(a.props.currentDivisionID>=0){k(a.props.currentDivisionID,a.getSuccess,a.getFailure),a.setState({getDivisionDataStatus:1})}},a.getInvitesFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return a.props.debugSet(Zt,"Refresh Triggered","Get Division Invites"),void a.props.refreshToken(a.getDivisionsInvites);2===e.action||3===e.action||4===e.action||e.action}a.props.debugSet(Zt,"Get Division Invites","Failure"),t=e.messages,a.setState({getInvitesStatus:3,getInvitesError:t})},a.getInvitesSuccess=function(e){var t=[],s=[];for(var r in e)2===e[r].whoIsOrigin?s.push(e[r]):1===e[r].whoIsOrigin&&t.push(e[r]);a.props.debugSet(Zt,"Get Division Invites","Success"),a.setState({invitePendingList:s,inviteActiveList:t,getInvitesStatus:2})},a.getDivisionsInvites=function(){if(a.props.currentDivisionID>=0){!function(e,t,s){var a={headers:{Authorization:"JWT ".concat(O)}};x.get("/api/getDivisionInvites/?reqDiv="+e,a).then((function(e){var s=e.data;t(s)})).catch((function(e){var t=y(e);s(t)}))}(a.props.currentDivisionID,a.getInvitesSuccess,a.getInvitesFailure),a.setState({getInvitesStatus:1})}},a.inviteFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return a.props.debugSet(Zt,"Refresh Triggered","Create Division Invites"),void a.props.refreshToken(a.tokenHasRefreshed);2===e.action||3===e.action||4===e.action||e.action}a.props.debugSet(Zt,"Create Division Invites","Failure"),t=e.messages,a.setState({createInvitesStatus:3,createInvitesError:t})},a.inviteSuccess=function(e){a.props.debugSet(Zt,"Create Division Invites","Success"),a.setState({createInvitesStatus:2})},a.inviteUser=function(e){!function(e,t,s,a,r){var n={headers:{Authorization:"JWT ".concat(O)}},i={reqDiv:e,targetUser:t,targetAction:s};x.post("/api/createDivisionInvite/",i,n).then((function(e){var t=e.data;a(t)})).catch((function(e){var t=y(e);r(t)}))}(a.props.currentDivisionID,a.state.targetUser,a.state.targetRole,a.inviteSuccess,a.inviteFailure),a.setState({createInvitesStatus:1})},a.spendInviteFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return a.props.debugSet(Zt,"Refresh Triggered","Spend Division Invites"),void a.props.refreshToken(a.tokenHasRefreshed);2===e.action||3===e.action||4===e.action||e.action}a.props.debugSet(Zt,"Spend Division Invites","Failure"),t=e.messages,a.setState({useInvitesStatus:3,useInvitesError:t}),a.getDivisionsInvites()},a.spendInviteSuccessYes=function(e){a.props.debugSet(Zt,"Spend Division Invites","Success"),a.tiggerReload(),a.setState({successType:0,useInvitesStatus:2})},a.inviteYes=function(e){console.log("Accept");var t=e.target.value;E(a.props.currentDivisionID,t,1,a.spendInviteSuccessYes,a.spendInviteFailure),a.setState({successType:-1,useInvitesStatus:1})},a.spendInviteSuccessNo=function(e){a.props.debugSet(Zt,"Spend Division Invites","Success"),a.tiggerReload(),a.setState({successType:1,useInvitesStatus:2})},a.inviteNo=function(e){console.log("Deny");var t=e.target.value;E(a.props.currentDivisionID,t,0,a.spendInviteSuccessNo,a.spendInviteFailure),a.setState({successType:-1,useInvitesStatus:1})},a.userFieldChange=function(e){a.setState({targetUser:e.target.value})},a.triggerDropdown=function(e){a.setState({targetRole:e.target.value})},a.tokenHasRefreshed=function(){console.log("Show a 'try again' here")},a.state={inviteCode:"No Data",targetUser:"",targetRole:"",invitePendingList:[],inviteActiveList:[],companyFullName:"No Data",divisionName:"No Data",getDivisionDataStatus:0,getDivisionDataError:[],getInvitesStatus:0,getInvitesError:[],createInvitesStatus:0,createInvitesError:[],useInvitesStatus:0,useInvitesError:[],successType:-1},a}return Object(o.a)(s,[{key:"componentDidMount",value:function(){this.tiggerReload()}},{key:"render",value:function(){var e=[];for(var t in this.state.invitePendingList){e.push(Object(q.jsxs)("li",{className:"list-group-item d-flex justify-content-around",children:[Object(q.jsx)("div",{className:"col",children:this.state.invitePendingList[t].inviteDivision}),Object(q.jsx)("div",{className:"col",children:Yt[this.state.invitePendingList[t].targetRole]}),Object(q.jsx)("div",{className:"col-2",children:Object(q.jsx)("button",{className:"badge badge-success badge-pill",value:this.state.invitePendingList[t].id,onClick:this.inviteYes,children:"/"})}),Object(q.jsx)("div",{className:"col-1",children:Object(q.jsx)("button",{className:"badge badge-danger badge-pill",value:this.state.invitePendingList[t].id,onClick:this.inviteNo,children:"X"})})]},t))}0===e.length&&e.push(Object(q.jsx)("li",{className:"list-group-item",children:"No Pending Invites!"},0));var s=[];for(var a in this.state.inviteActiveList){s.push(Object(q.jsxs)("li",{className:"list-group-item d-flex justify-content-around",children:[Object(q.jsx)("div",{className:"col",children:this.state.inviteActiveList[a].inviteDivision}),Object(q.jsx)("div",{className:"col",children:Yt[this.state.inviteActiveList[a].targetRole]}),Object(q.jsx)("div",{className:"col-2",children:Object(q.jsx)("button",{className:"badge badge-success badge-pill",value:this.state.inviteActiveList[a].id,onClick:this.inviteYes,children:"/"})}),Object(q.jsx)("div",{className:"col-1",children:Object(q.jsx)("button",{className:"badge badge-danger badge-pill",value:this.state.inviteActiveList[a].id,onClick:this.inviteNo,children:"X"})})]},a))}0===s.length&&s.push(Object(q.jsx)("li",{className:"list-group-item",children:"No Invites!"},0));var r="Select Role =>";""!==this.state.targetRole&&(r=Yt[this.state.targetRole]);var n=1===this.state.getDivisionDataStatus||1===this.state.getInvitesStatus||1===this.state.useInvitesStatus||2===this.state.createInvitesStatus,i=2===this.state.useInvitesStatus&&0===this.state.successType,c=2===this.state.useInvitesStatus&&1===this.state.successType,o=2===this.state.createInvitesStatus,l=3===this.state.getDivisionDataStatus||3===this.state.getInvitesStatus||3===this.state.useInvitesStatus||3===this.state.createInvitesStatus,d=[];for(var h in this.state.getDivisionDataError)d.push(this.state.getDivisionDataError[h].text);for(var u in this.state.getInvitesError)d.push(this.state.getInvitesError[u].text);for(var b in this.state.createInvitesError)d.push(this.state.createInvitesError[b].text);for(var m in this.state.useInvitesError)d.push(this.state.useInvitesError[m].text);return 0===d.length&&d.push("Unknown!"),Object(q.jsx)("div",{className:"companySett",children:Object(q.jsxs)("div",{className:"container-fluid",children:[Object(q.jsxs)("div",{className:"row",children:[Object(q.jsx)("div",{className:"col",children:Object(q.jsxs)("div",{className:"card shadow",children:[Object(q.jsx)("div",{className:"card-header",children:Object(q.jsx)("h5",{children:"Invites for this division:"})}),Object(q.jsx)("div",{className:"card-body",children:this.state.companyFullName})]})}),Object(q.jsx)("div",{className:"col",children:Object(q.jsxs)("div",{className:"card shadow",children:[Object(q.jsx)("div",{className:"card-header",children:Object(q.jsx)("h5",{children:"Invite Code"})}),Object(q.jsx)("div",{className:"card-body",children:this.state.inviteCode})]})})]}),Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col-md-12 col-lg",children:Object(q.jsxs)("div",{className:"card shadow",children:[Object(q.jsx)("div",{className:"card-header",children:Object(q.jsx)("h5",{children:"Pending Invites List"})}),Object(q.jsx)("div",{className:"card-body",children:Object(q.jsxs)("ul",{className:"list-group",children:[Object(q.jsx)("li",{className:"list-group-item",children:Object(q.jsxs)("div",{className:"row",children:[Object(q.jsx)("div",{className:"col-1"}),Object(q.jsx)("div",{className:"col alignOverride",children:Object(q.jsx)("u",{children:"User Name"})}),Object(q.jsx)("div",{className:"col alignOverride",children:Object(q.jsx)("u",{children:"Target Role"})}),Object(q.jsx)("div",{className:"col-2"}),Object(q.jsx)("div",{className:"col-1"})]})},-1),e]})})]})})}),Object(q.jsxs)("div",{className:"row",children:[Object(q.jsx)("div",{className:"col-md-12 col-lg",children:Object(q.jsxs)("div",{className:"card shadow",children:[Object(q.jsx)("div",{className:"card-header",children:Object(q.jsx)("h5",{children:"Invites List"})}),Object(q.jsx)("div",{className:"card-body",children:Object(q.jsxs)("ul",{className:"list-group",children:[Object(q.jsx)("li",{className:"list-group-item",children:Object(q.jsxs)("div",{className:"row",children:[Object(q.jsx)("div",{className:"col-1"}),Object(q.jsx)("div",{className:"col alignOverride",children:Object(q.jsx)("u",{children:"User Name"})}),Object(q.jsx)("div",{className:"col alignOverride",children:Object(q.jsx)("u",{children:"Target Role"})}),Object(q.jsx)("div",{className:"col-2"}),Object(q.jsx)("div",{className:"col-1"})]})},-1),s]})})]})}),Object(q.jsx)("div",{className:"col-md-12 col-lg",children:Object(q.jsxs)("div",{className:"card shadow",children:[Object(q.jsx)("div",{className:"card-header",children:Object(q.jsx)("h5",{children:"Invite User"})}),Object(q.jsxs)("div",{className:"card-body",children:[Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsx)("input",{type:"text",className:"form-control",value:this.state.targetUser,onChange:this.userFieldChange,placeholder:"Enter Username or Email"})})}),Object(q.jsxs)("div",{className:"row",children:[Object(q.jsx)("div",{className:"col",children:Object(q.jsxs)("div",{className:"dropdown",children:[Object(q.jsx)("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:r}),Object(q.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuLink",children:[Object(q.jsx)("button",{className:"dropdown-item",value:"1",onClick:this.triggerDropdown,children:"Admin"}),Object(q.jsx)("button",{className:"dropdown-item",value:"2",onClick:this.triggerDropdown,children:"Allowed to View"}),Object(q.jsx)("button",{className:"dropdown-item",value:"3",onClick:this.triggerDropdown,children:"Governed User"})]})]})}),Object(q.jsx)("div",{className:"col",children:Object(q.jsx)("button",{className:"btn btn-primary",onClick:this.inviteUser,children:"Invite"})})]})]})]})})]}),Object(q.jsxs)(j.a,{show:n,variant:"warning",children:[Object(q.jsx)(j.a.Heading,{children:"Waiting"}),Object(q.jsx)("hr",{}),Object(q.jsx)("p",{children:"Waiting for server response..."}),Object(q.jsx)("hr",{})]}),Object(q.jsxs)(j.a,{show:i,variant:"success",children:[Object(q.jsx)(j.a.Heading,{children:"Success!"}),Object(q.jsx)("hr",{}),Object(q.jsx)("p",{children:"Successfully Accepted Invite!"}),Object(q.jsx)("hr",{})]}),Object(q.jsxs)(j.a,{show:c,variant:"success",children:[Object(q.jsx)(j.a.Heading,{children:"Success!"}),Object(q.jsx)("hr",{}),Object(q.jsx)("p",{children:"Successfully Rejected Invite!"}),Object(q.jsx)("hr",{})]}),Object(q.jsxs)(j.a,{show:o,variant:"success",children:[Object(q.jsx)(j.a.Heading,{children:"Success!"}),Object(q.jsx)("hr",{}),Object(q.jsx)("p",{children:"Successfully Sent Invite!"}),Object(q.jsx)("hr",{})]}),Object(q.jsxs)(j.a,{show:l,variant:"danger",children:[Object(q.jsx)(j.a.Heading,{children:"Error!"}),Object(q.jsx)("hr",{}),Object(q.jsx)("p",{children:"Failed with general error!"}),Object(q.jsx)("hr",{})]})]})})}}]),s}(r.a.Component),_t=Object(u.f)(Xt),Qt="Division Permissions",$t=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).tiggerReload=function(){a.getDivisionData()},a.getFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return a.props.debugSet(Qt,"Refresh Triggered","Get Division Permissions"),void a.props.refreshToken(a.getDivisionData);2===e.action||3===e.action||4===e.action||e.action}a.props.debugSet(Qt,"Get Division Permissions","Failure"),t=e.messages,a.setState({getPermissionsStatus:3,getPermissionsError:t})},a.getSuccess=function(e){a.props.debugSet(Qt,"Get Division Permissions","Success"),a.setState({companyFullName:e.fullPathName,divisionName:e.divisionName,numChild:e.getNumChildUsers,admins:e.adminAccountNames,views:e.privateViewingNames,sends:e.resultsSendTargetsNames,governs:e.governedUsersNames,adminsIDs:e.adminAccounts,viewsIDs:e.privateViewingPerms,sendsIDs:e.resultsSendTargets,governsIDs:e.governedUsers,delAdmins:[],delViews:[],delSends:[],delGoverns:[],getPermissionsStatus:2})},a.getDivisionData=function(){if(a.props.currentDivisionID>=0){k(a.props.currentDivisionID,a.getSuccess,a.getFailure),a.setState({getPermissionsStatus:1})}},a.setFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return a.props.debugSet(Qt,"Refresh Triggered","Set Division Permissions"),void a.props.refreshToken(a.saveChanges);2===e.action||3===e.action||4===e.action||e.action}a.props.debugSet(Qt,"Set Division Permissions","Failure"),t=e.messages,a.setState({setPermissionsStatus:3,setPermissionsError:t})},a.setSuccess=function(e){a.props.debugSet(Qt,"Set Division Permissions","Success"),a.props.triggerRefresh(),a.setState({setPermissionsStatus:2})},a.saveChanges=function(){var e={reqDiv:a.props.currentDivisionID,chName:"",delAdmins:a.state.delAdmins,delViews:a.state.delViews,delEmails:a.state.delSends,delGovern:a.state.delGoverns};P(e,a.setSuccess,a.setFailure),a.setState({setPermissionsStatus:1})},a.toggleDelete=function(e){var t=e.target.value.split(","),s=Number(t[0]),r=Number(t[1]),n="No Name!",i=[],c=[],o=[],l=[];switch(e.target.name){case"adm":i.push(r),n=a.state.admins[s];break;case"vie":c.push(r),n=a.state.views[s];break;case"sen":o.push(r),n=a.state.sends[s];break;case"gov":l.push(r),n=a.state.governs[s];break;default:console.log("Failed to have the correct name")}a.setState({delAdmins:i,delViews:c,delSends:o,delGoverns:l,selectedName:n})},a.state={companyFullName:"No Data",divisionName:"No Data",adminsIDs:[],viewsIDs:[],sendsIDs:[],governsIDs:[],admins:[],views:[],sends:[],governs:[],delAdmins:[],delViews:[],delSends:[],delGoverns:[],numChild:0,getPermissionsStatus:0,getPermissionsError:[],setPermissionsStatus:0,setPermissionsError:[]},a}return Object(o.a)(s,[{key:"componentDidMount",value:function(){this.tiggerReload()}},{key:"render",value:function(){var e=[];for(var t in this.state.admins){var s="";this.state.delAdmins.indexOf(this.state.adminsIDs[t])>=0&&(s="bg-warning"),e.push(Object(q.jsx)("li",{className:"list-group-item d-flex justify-content-around"+s,children:this.state.admins[t]},t))}0===this.state.admins.length&&e.push(Object(q.jsx)("li",{className:"list-group-item",children:"No Users!"},0));var a=[];for(var r in this.state.views){var n="";this.state.delViews.indexOf(this.state.viewsIDs[r])>=0&&(n="bg-warning"),a.push(Object(q.jsxs)("li",{className:"list-group-item d-flex justify-content-around "+n,children:[this.state.views[r],Object(q.jsx)("button",{className:"badge badge-danger badge-pill",name:"vie",value:[r,this.state.viewsIDs[r]],"data-toggle":"modal","data-target":"#deleteConfirm",onClick:this.toggleDelete,children:"X"})]},r))}0===this.state.views.length&&a.push(Object(q.jsx)("li",{className:"list-group-item",children:"No Users!"},0));var i=[];for(var c in this.state.sends){var o="";this.state.delSends.indexOf(this.state.sendsIDs[c])>=0&&(o="bg-warning"),i.push(Object(q.jsx)("li",{className:"list-group-item d-flex justify-content-around "+o,children:this.state.sends[c]},c))}0===this.state.sends.length&&i.push(Object(q.jsx)("li",{className:"list-group-item",children:"No Users!"},0));var l=[];for(var d in this.state.governs){var h="";this.state.delGoverns.indexOf(this.state.governsIDs[d])>=0&&(h="bg-warning"),l.push(Object(q.jsxs)("li",{className:"list-group-item d-flex justify-content-around "+h,children:[this.state.governs[d],Object(q.jsx)("button",{className:"badge badge-danger badge-pill",name:"gov",value:[d,this.state.governsIDs[d]],"data-toggle":"modal","data-target":"#deleteConfirm",onClick:this.toggleDelete,children:"X"})]},d))}0===this.state.governs.length&&l.push(Object(q.jsx)("li",{className:"list-group-item",children:"No Users!"},0)),l.push(Object(q.jsxs)("li",{className:"list-group-item",children:["And ",this.state.numChild," others in child nodes"]},"end"));var u=1===this.state.setPermissionsStatus||1===this.state.getPermissionsStatus,b=2===this.state.setPermissionsStatus,m=3===this.state.setPermissionsStatus||3===this.state.getPermissionsStatus,p=[];for(var v in this.state.getPermissionsError)p.push(this.state.getPermissionsError[v].text);for(var g in this.state.getPermissionsError)p.push(this.state.getPermissionsError[g].text);return 0===p.length&&p.push("Unknown!"),Object(q.jsx)("div",{className:"companySett",children:Object(q.jsxs)("div",{className:"container-fluid",children:[Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsxs)("div",{className:"card shadow",children:[Object(q.jsx)("div",{className:"card-header",children:Object(q.jsx)("h5",{children:"Changing Permissions for:"})}),Object(q.jsx)("div",{className:"card-body",children:this.state.companyFullName})]})})}),Object(q.jsxs)("div",{className:"row",children:[Object(q.jsx)("div",{className:"col",children:Object(q.jsxs)("div",{className:"card shadow",children:[Object(q.jsx)("div",{className:"card-header",children:Object(q.jsx)("h5",{children:"Administrators"})}),Object(q.jsx)("div",{className:"card-body",children:e})]})}),Object(q.jsx)("div",{className:"col",children:Object(q.jsxs)("div",{className:"card shadow",children:[Object(q.jsx)("div",{className:"card-header",children:Object(q.jsx)("h5",{children:"Viewing Privilages:"})}),Object(q.jsx)("div",{className:"card-body",children:Object(q.jsx)("ul",{children:a})})]})})]}),Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsxs)("div",{className:"card shadow",children:[Object(q.jsx)("div",{className:"card-header",children:Object(q.jsx)("h5",{children:"Target Users:"})}),Object(q.jsx)("div",{className:"card-body",children:Object(q.jsx)("ul",{children:l})})]})})}),Object(q.jsxs)(j.a,{show:u,variant:"warning",children:[Object(q.jsx)(j.a.Heading,{children:"Waiting"}),Object(q.jsx)("hr",{}),Object(q.jsx)("p",{children:"Waiting for server response..."}),Object(q.jsx)("hr",{})]}),Object(q.jsxs)(j.a,{show:b,variant:"success",children:[Object(q.jsx)(j.a.Heading,{children:"Success!"}),Object(q.jsx)("hr",{}),Object(q.jsx)("p",{children:"Successfull!"}),Object(q.jsx)("hr",{})]}),Object(q.jsxs)(j.a,{show:m,variant:"danger",children:[Object(q.jsx)(j.a.Heading,{children:"Error!"}),Object(q.jsx)("hr",{}),Object(q.jsx)("p",{children:p}),Object(q.jsx)("hr",{})]}),Object(q.jsx)("div",{className:"modal fade",id:"deleteConfirm",tabIndex:"-1",role:"dialog","aria-labelledby":"deleteConfirmation","aria-hidden":"true",children:Object(q.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:Object(q.jsxs)("div",{className:"modal-content",children:[Object(q.jsxs)("div",{className:"modal-header",children:[Object(q.jsx)("h5",{className:"modal-title",id:"deleteTitleConfirm",children:"Delete Confirmation"}),Object(q.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(q.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(q.jsxs)("div",{className:"modal-body",children:[Object(q.jsx)("div",{children:"Are you SURE you want to revoke permission for:"}),Object(q.jsxs)("div",{children:[this.state.selectedName,"?"]}),Object(q.jsx)("div",{children:"You will need to reinvite the user!"})]}),Object(q.jsxs)("div",{className:"modal-footer",children:[Object(q.jsx)("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal",onClick:this.saveChanges,children:"Yes"}),Object(q.jsx)("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal",children:"No"})]})]})})})]})})}}]),s}(r.a.Component),es=Object(u.f)($t),ts=["Public","Private","Governed Users"],ss="Division Settings",as=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).tiggerReload=function(){a.getDivisionData()},a.getFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return a.props.debugSet(ss,"Refresh Triggered","Get Division Data"),void a.props.refreshToken(a.getDivisionData);2===e.action||3===e.action||4===e.action||e.action}a.props.debugSet(ss,"Get Division Data","Failure"),t=e.messages,a.setState({getSettingsStatus:3,getSettingsError:t})},a.getSuccess=function(e){a.props.debugSet(ss,"Get Division Data","Success"),a.setState({companyFullName:e.fullPathName,divisionName:e.divisionName,expiryDate:e.getCompanyExpiryDate,viewPerms:e.summaryViewAccess,getSettingsStatus:2})},a.getDivisionData=function(){if(a.props.currentDivisionID>=0){k(a.props.currentDivisionID,a.getSuccess,a.getFailure),a.setState({getSettingsStatus:1})}},a.setFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return a.props.debugSet(ss,"Refresh Triggered","Get Division Data Settings"),void a.props.refreshToken(a.saveChanges);2===e.action||3===e.action||4===e.action||e.action}a.props.debugSet(ss,"Get Division Data Settings","Failure"),t=e.messages,a.setState({saveChangesStatus:3,saveChangesError:t})},a.setSuccess=function(e){a.props.debugSet(ss,"Get Division Data Settings","Success"),a.props.triggerRefresh(),a.setState({saveChangesStatus:2})},a.saveChanges=function(){var e={reqDiv:a.props.currentDivisionID,chName:""};P(e,a.setSuccess,a.setFailure),a.setState({saveChangesStatus:1})},a.divisionFieldChange=function(e){a.setState({divisionName:e.target.value})},a.triggerDropdown=function(e){a.setState({viewPerms:e.target.name})},a.state={newViewPerms:0,viewPerms:-1,expiryDate:"No Data",companyFullName:"No Data",divisionName:"No Data",getSettingsStatus:0,getSettingsError:[],saveChangesStatus:0,saveChangesError:[]},a}return Object(o.a)(s,[{key:"componentDidMount",value:function(){this.tiggerReload()}},{key:"render",value:function(){var e=1===this.state.getSettingsStatus,t=3===this.state.getSettingsStatus,s=[];for(var a in this.state.getSettingsError)s.push(this.state.getSettingsError[a].text);return 0===s.length&&s.push("Unknown!"),Object(q.jsx)("div",{className:"companySett",children:Object(q.jsxs)("div",{className:"container-fluid",children:[Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsxs)("div",{className:"card shadow",children:[Object(q.jsx)("div",{className:"card-header",children:Object(q.jsx)("h5",{children:"Full Company Path"})}),Object(q.jsx)("div",{className:"card-body",children:this.state.companyFullName})]})})}),Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsxs)("div",{className:"card shadow",children:[Object(q.jsx)("div",{className:"card-header",children:Object(q.jsx)("h5",{children:"Change Division Name"})}),Object(q.jsx)("div",{className:"card-body",children:Object(q.jsx)("div",{children:Object(q.jsx)("input",{type:"text",className:"form-control",value:this.state.divisionName,onChange:this.divisionFieldChange,placeholder:"No Name?!"})})})]})})}),Object(q.jsxs)("div",{className:"row",children:[Object(q.jsx)("div",{className:"col",children:Object(q.jsxs)("div",{className:"card shadow",children:[Object(q.jsx)("div",{className:"card-header",children:Object(q.jsx)("h5",{children:"Viewing Permissions"})}),Object(q.jsx)("div",{className:"card-body",children:Object(q.jsxs)("div",{className:"dropdown",children:[Object(q.jsx)("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:ts[this.state.viewPerms]}),Object(q.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuLink",children:[Object(q.jsx)("button",{className:"dropdown-item",name:"0",onClick:this.triggerDropdown,children:"Public"}),Object(q.jsx)("button",{className:"dropdown-item",name:"1",onClick:this.triggerDropdown,children:"Private"}),Object(q.jsx)("button",{className:"dropdown-item",name:"2",onClick:this.triggerDropdown,children:"Governed Users"})]})]})})]})}),Object(q.jsx)("div",{className:"col",children:Object(q.jsxs)("div",{className:"card shadow",children:[Object(q.jsx)("div",{className:"card-header",children:Object(q.jsx)("h5",{children:"Subscription Expiry"})}),Object(q.jsx)("div",{className:"card-body d-inline-flex justify-content-around",children:this.state.expiryDate})]})})]}),Object(q.jsx)("button",{className:"btn btn-primary",onClick:this.saveChanges,disabled:!0,children:"Save Changes"}),Object(q.jsxs)(j.a,{show:e,variant:"warning",children:[Object(q.jsx)(j.a.Heading,{children:"Waiting"}),Object(q.jsx)("hr",{}),Object(q.jsx)("p",{children:"Waiting for server response..."}),Object(q.jsx)("hr",{})]}),Object(q.jsxs)(j.a,{show:!1,variant:"success",children:[Object(q.jsx)(j.a.Heading,{children:"Success!"}),Object(q.jsx)("hr",{}),Object(q.jsx)("p",{children:"Successfully obtained data!"}),Object(q.jsx)("hr",{})]}),Object(q.jsxs)(j.a,{show:t,variant:"danger",children:[Object(q.jsx)(j.a.Heading,{children:"Error!"}),Object(q.jsx)("hr",{}),Object(q.jsx)("p",{children:s}),Object(q.jsx)("hr",{})]})]})})}}]),s}(r.a.Component),rs=Object(u.f)(as),ns=["Admin","Viewer","Governer"],is=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).state={btnLen:2},a}return Object(o.a)(s,[{key:"render",value:function(){var e="",t="";this.props.activePage<=0&&(e="disabled"),this.props.activePage>=this.props.totalLoaded/this.props.numPerPage-1&&(t="disabled");for(var s=[],a=-this.state.btnLen;a<=this.state.btnLen;a++){var r="",n=a+this.props.activePage;n<0||n>=this.props.totalLoaded/this.props.numPerPage||(0===a&&(r="active "),s.push(Object(q.jsx)("button",{className:"btn btn-outline-primary "+r,value:n,onClick:this.props.changeToNum,children:n},a)))}return Object(q.jsx)("div",{className:"paginator",children:Object(q.jsx)("div",{className:"container",children:Object(q.jsx)("div",{className:"row",children:Object(q.jsxs)("div",{className:"col",children:[Object(q.jsx)("button",{className:"btn btn-outline-primary "+e,value:"bck",onClick:this.props.changePrevNext,children:"Prev"}),s,Object(q.jsx)("button",{className:"btn btn-outline-primary "+t,value:"fwd",onClick:this.props.changePrevNext,children:"Next"})]})})})})}}]),s}(r.a.Component),cs=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).initializeSubList=function(){var e=[];for(var t in a.props.userLoadedCompanyList){var s=-1;for(var r in a.props.userLoadedCompanyList[t].perm)0===a.props.userLoadedCompanyList[t].perm[r]?s=0:1===a.props.userLoadedCompanyList[t].perm[r]&&0!==s&&(s=1);s>=0&&s<4&&e.push([a.props.userLoadedCompanyList[t],s])}return e},a.getData=function(e){a.props.getDataRequest(a.props.userLoadedCompanyList[e.target.value])},a.changePageTo=function(e){var t=Number(e.target.value);a.setState({pageNum:t})},a.changePageFwdBck=function(e){var t=Number(a.state.pageNum);if("fwd"===e.target.value){if((t+=1)>a.state.subList.length/a.state.numPerPage)return}else if("bck"===e.target.value&&(t-=1)<0)return;a.setState({pageNum:t})},a.state={pageNum:0,numPerPage:10,numChooseLimit:5,subList:a.initializeSubList()},a}return Object(o.a)(s,[{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){for(var e=[],t=0;t<this.state.numPerPage;t++){var s=t+this.state.pageNum*this.state.numPerPage;s>this.state.subList.length||s<0||void 0!==this.state.subList[s]&&e.push(Object(q.jsxs)("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[Object(q.jsx)("div",{className:"col",children:this.state.subList[s][0].fullname}),Object(q.jsx)("div",{className:"col",children:ns[this.state.subList[s][1]]}),Object(q.jsx)("div",{className:"col-2",children:Object(q.jsx)("button",{className:"btn btn-primary",value:s,onClick:this.getData,children:"GET!"})})]},t))}0===e.length&&e.push(Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:"Server Reported no valid Companies to select!"})},"0"));var a=1===this.props.getCompanyValidDatesStatus||1===this.props.getCompanyValidSuggestionDatesStatus||1===this.props.getCompanyEHIDataStatus,r=2===this.props.getCompanyValidDatesStatus||2===this.props.getCompanyValidSuggestionDatesStatus||2===this.props.getCompanyEHIDataStatus,n=3===this.props.getCompanyValidDatesStatus||3===this.props.getCompanyValidSuggestionDatesStatus||3===this.props.getCompanyEHIDataStatus,i=[];for(var c in this.props.getCompanyEHIDataError)i.push(this.props.getCompanyEHIDataError[c].text);for(var o in this.props.getCompanyValidSuggestionDatesError)i.push(this.props.getCompanyValidSuggestionDatesError[o].text);for(var l in this.props.getCompanyValidDatesError)i.push(this.props.getCompanyValidDatesError[l].text);return 0===i.length&&i.push("Unknown!"),Object(q.jsx)("div",{className:"testPages",children:Object(q.jsxs)("div",{className:"container-fluid",children:[Object(q.jsx)("div",{className:"row my-2",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsxs)("div",{className:"card shadow",children:[Object(q.jsx)("div",{className:"card-header",children:Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col my-2",children:Object(q.jsx)("h3",{children:"Your Company Divisions"})})})}),Object(q.jsxs)("div",{className:"card-body",children:[Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsx)("ul",{className:"list-group",children:e})})}),Object(q.jsx)(is,{activePage:this.state.pageNum,changePrevNext:this.changePageFwdBck,changeToNum:this.changePageTo,totalLoaded:this.state.subList.length,numPerPage:this.state.numPerPage})]})]})})}),Object(q.jsxs)(j.a,{show:a,variant:"warning",children:[Object(q.jsx)(j.a.Heading,{children:"Waiting"}),Object(q.jsx)("hr",{}),Object(q.jsx)("p",{children:"Waiting for server response..."}),Object(q.jsx)("hr",{})]}),Object(q.jsxs)(j.a,{show:r,variant:"success",children:[Object(q.jsx)(j.a.Heading,{children:"Success!"}),Object(q.jsx)("hr",{}),Object(q.jsxs)("p",{children:["Division Data for ",this.props.currentDivisionName," is Ready!"]}),Object(q.jsx)("hr",{})]}),Object(q.jsxs)(j.a,{show:n,variant:"danger",children:[Object(q.jsx)(j.a.Heading,{children:"Error!"}),Object(q.jsx)("hr",{}),Object(q.jsx)("p",{children:"Failure to get the data!"}),Object(q.jsx)("hr",{})]})]})})}}]),s}(r.a.Component),os=Object(u.f)(cs),ls=Object(u.f)((function(e){var t=0,s=[];for(var a in e.dataSet)s.push(Object(q.jsx)("div",{className:"row m-2",children:Object(q.jsx)("div",{className:"col border",children:e.dataSet[a].content})},t)),t+=1;0===s.length&&(s.push(Object(q.jsx)("div",{className:"row m-2",children:Object(q.jsx)("div",{className:"col",children:"No data to show!"})},t)),t+=1),!1===e.dataDay&&(s=[Object(q.jsx)("div",{className:"row m-2",children:Object(q.jsx)("div",{className:"col",children:"No Day Selected!"})},t)]);var r=void 0;!1===e.currentDate&&(r=new Date);var n=1===e.getCompanySuggestionDataStatus,i=3===e.getCompanySuggestionDataStatus,c=[];for(var o in e.getCompanySuggestionDataError)c.push(e.getCompanySuggestionDataError[o].text);return 0===c.length&&c.push("Unknown!"),Object(q.jsx)("div",{className:"testPages",children:Object(q.jsxs)("div",{className:"container-fluid",children:[Object(q.jsxs)("div",{className:"row m-2",children:[Object(q.jsx)("div",{className:"col- m-2",children:Object(q.jsx)(ze.a,{className:"shadow",onChange:e.pickDate,value:r,tileClassName:function(t){var s=t.date;if("month"===t.view){var a=s.getFullYear()+"-"+s.getMonth()+"-"+s.getDate();if(e.validDays.find((function(e){return e===a})))return"btn btn-success"}},minDetail:"year",maxDetail:"month"})}),Object(q.jsx)("div",{className:"col-md-12 col-lg-6 m-2",children:Object(q.jsxs)("div",{className:"card shadow",children:[Object(q.jsx)("div",{className:"card-header",children:Object(q.jsxs)("div",{children:["Suggestions for Date: ",e.dataDay&&e.dataDay.toString()]})}),Object(q.jsx)("div",{className:"card-body",children:s})]})})]}),Object(q.jsxs)(j.a,{show:n,variant:"warning",children:[Object(q.jsx)(j.a.Heading,{children:"Waiting"}),Object(q.jsx)("hr",{}),Object(q.jsx)("p",{children:"Waiting for server response..."}),Object(q.jsx)("hr",{})]}),Object(q.jsxs)(j.a,{show:!1,variant:"success",children:[Object(q.jsx)(j.a.Heading,{children:"Success!"}),Object(q.jsx)("hr",{}),Object(q.jsx)("p",{children:"Successfully obtained data!"}),Object(q.jsx)("hr",{})]}),Object(q.jsxs)(j.a,{show:i,variant:"danger",children:[Object(q.jsx)(j.a.Heading,{children:"Error!"}),Object(q.jsx)("hr",{}),Object(q.jsx)("p",{children:c}),Object(q.jsx)("hr",{})]})]})})})),ds=s(552),hs=[{name:"Emotion",value:"emotion"},{name:"Sentiment",value:"sentiment"},{name:"Entities",value:"entities"},{name:"Keywords",value:"keywords"}],us=["Daily","Weekly","Monthy","Annual"],js=function(e){return[e.joy,e.anger,e.sadness,e.disgust,e.fear]},bs=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).changeSelected=function(e){a.setState({selected:e.target.id})},a.state={selected:"frequencyPercent"},a}return Object(o.a)(s,[{key:"render",value:function(){var e=this.props.dataSet.responsePurity,t=[];for(var s in this.props.givenPrompt.promptChoices)t.push(Object(q.jsx)("div",{children:s+": "+this.props.givenPrompt.promptChoices[s]},s));var a={},r=[];for(var n in this.props.dataSet.data){var i="outline-";if(this.state.selected===n)for(var c in i="",this.props.givenPrompt.promptChoices)c in this.props.dataSet.data[n]?a[c]=this.props.dataSet.data[n][c]:a[c]=0;r.push(Object(q.jsx)("div",{className:"btn btn-"+i+"primary",id:n,onClick:this.changeSelected,children:n},n))}var o=V(a),l={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:0}}]}};return Object(q.jsx)("div",{className:"MultiIteration",children:Object(q.jsxs)(_.a,{children:[Object(q.jsxs)(_.a.Toggle,{as:Q.a.Header,variant:"link",eventKey:"0",children:[Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:this.props.givenPrompt.text})},"0"),Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsx)("div",{className:"progressBar",children:Object(q.jsx)(ds.a,{now:e,label:"".concat(e,"% Response Rate")})})})},"1")]}),Object(q.jsx)(_.a.Collapse,{eventKey:"0",children:Object(q.jsx)(Q.a,{children:Object(q.jsxs)(Q.a.Body,{children:[r,Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsx)(Ye.Bar,{data:o,options:l})})}),Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:t})})]})})})]})})}}]),s}(r.a.Component),ms=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).changeSelected=function(e){a.setState({selected:e.target.id})},a.state={selected:"frequencyPercent"},a}return Object(o.a)(s,[{key:"render",value:function(){var e=this.props.dataSet.responsePurity,t={},s=[],a=["Ext Dis","Dis","Neu","Agr","Ext Agr"];for(var r in this.props.dataSet.data){var n="outline-";if(this.state.selected===r)for(var i in n="",a)i in this.props.dataSet.data[r]?t[i]=this.props.dataSet.data[r][i]:t[i]=0;s.push(Object(q.jsx)("div",{className:"btn btn-"+n+"primary",id:r,onClick:this.changeSelected,children:r},r))}var c=V(t),o={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:0}}]}};return Object(q.jsx)("div",{className:"LikertIteration",children:Object(q.jsxs)(_.a,{children:[Object(q.jsxs)(_.a.Toggle,{as:Q.a.Header,variant:"link",eventKey:"0",children:[Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:this.props.givenPrompt.text})},"0"),Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsx)("div",{className:"progressBar",children:Object(q.jsx)(ds.a,{now:e,label:"".concat(e,"% Response Rate")})})})},"1")]}),Object(q.jsx)(_.a.Collapse,{eventKey:"0",children:Object(q.jsx)(Q.a,{children:Object(q.jsxs)(Q.a.Body,{children:[s,Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsx)(Ye.Bar,{data:c,options:o})})})]})})})]})})}}]),s}(r.a.Component),ps=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).changeSelected=function(e){a.setState({selected:e.target.id})},a.state={selected:"frequencyPercent"},a}return Object(o.a)(s,[{key:"render",value:function(){var e={},t=[];for(var s in this.props.dataSet.data){var a="outline-";if(this.state.selected===s){a="";for(var r=1;r<=10;r++)r in this.props.dataSet.data[s]?e[r]=this.props.dataSet.data[s][r]:e[r]=0}t.push(Object(q.jsx)("div",{className:"btn btn-"+a+"primary",id:s,onClick:this.changeSelected,children:s},s))}var n=this.props.dataSet.responsePurity,i=V(e),c={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:0}}]}};return Object(q.jsx)("div",{className:"RatingIteration",children:Object(q.jsxs)(_.a,{children:[Object(q.jsxs)(_.a.Toggle,{as:Q.a.Header,variant:"link",eventKey:"0",children:[Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:this.props.givenPrompt.text})},"0"),Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsx)("div",{className:"progressBar",children:Object(q.jsx)(ds.a,{now:n,label:"".concat(n,"% Response Rate")})})})},"1")]}),Object(q.jsx)(_.a.Collapse,{eventKey:"0",children:Object(q.jsx)(Q.a,{children:Object(q.jsxs)(Q.a.Body,{children:[t,Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsx)(Ye.Bar,{data:i,options:c})})})]})})})]})})}}]),s}(r.a.Component),vs=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).setAspect=function(e){a.setState({selectedAspect:e.currentTarget.value})},a.state={selectedAspect:"emotion"},a}return Object(o.a)(s,[{key:"render",value:function(){var e=this,t=this.props.dataSet.responsePurity;t<0&&(t=0);var s,a,r,n=this.props.dataSet.data[this.state.selectedAspect],i=[],c=[];if(null!==n&&void 0!==n)try{switch(this.state.selectedAspect){case"emotion":var o=js(n.max),l=js(n.ave),d=js(n.min),h=R(o,l,d),u={scale:{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}},j=js(n.threshold),b={labels:["Joy","Anger","Sadness","Disgust","Fear"],datasets:[{label:"# Above Threshold",data:j,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]},m={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}]}};i.push(Object(q.jsxs)(Ze.a,{bordered:!0,responsive:!0,children:[Object(q.jsx)("thead",{children:Object(q.jsxs)("tr",{children:[Object(q.jsx)("th",{scope:"col",children:"Emotion Data"}),Object(q.jsx)("th",{scope:"col",children:"Num Journals in data"})]})}),Object(q.jsx)("tbody",{children:Object(q.jsxs)("tr",{children:[Object(q.jsxs)("th",{scope:"row",children:[" ",Object(q.jsx)(Ye.Radar,{data:h,options:u})," "]}),Object(q.jsxs)("td",{children:[" ",Object(q.jsx)(Ye.Bar,{data:b,options:m})," "]})]},0)})]},"2"));break;case"sentiment":var p=J([n.min],[n.ave],[n.max]),v={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:-1,suggestedMax:1}}],xAxes:[{}]}},g=function(e){return{labels:["Positive","Negative"],datasets:[{label:"# Above Threshold",data:e,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]}}([n.thresholdPos,n.thresholdNeg]),x={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}]}};i.push(Object(q.jsxs)(Ze.a,{bordered:!0,responsive:!0,children:[Object(q.jsx)("thead",{children:Object(q.jsxs)("tr",{children:[Object(q.jsx)("th",{scope:"col",children:"Sentiment Values"}),Object(q.jsx)("th",{scope:"col",children:"Num Journals in data"})]})}),Object(q.jsx)("tbody",{children:Object(q.jsxs)("tr",{children:[Object(q.jsx)("th",{scope:"row",children:Object(q.jsx)(Ye.Bar,{data:p,options:v})}),Object(q.jsx)("td",{children:Object(q.jsx)(Ye.Bar,{data:g,options:x})})]},0)})]},"2"));break;case"entities":for(var O in n){var f=n[O],N=js(f.emotion.max),S=js(f.emotion.ave),y=js(f.emotion.min),D=R(N,S,y),C={scale:{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}},w=(s=[f.confidence.min,f.relevance.min,f.sentiment.min],a=[f.confidence.ave,f.relevance.ave,f.sentiment.ave],r=[f.confidence.max,f.relevance.max,f.sentiment.max],{labels:["Confidence","Relevance","Sentiment"],datasets:[{label:"Minimum",data:s,backgroundColor:"rgb(255, 99, 132)"},{label:"Average",data:a,backgroundColor:"rgb(54, 162, 235)"},{label:"Maximum",data:r,backgroundColor:"rgb(75, 192, 192)"}]}),E={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:-1,suggestedMax:1}}],xAxes:[{}]}};c.push(Object(q.jsxs)("tr",{children:[Object(q.jsx)("th",{scope:"row",children:f.text}),Object(q.jsx)("td",{children:f.type}),Object(q.jsx)("td",{children:f.count}),Object(q.jsx)("td",{colSpan:"3",children:Object(q.jsx)(Ye.Bar,{data:w,options:E})}),Object(q.jsx)("td",{children:Object(q.jsx)(Ye.Radar,{data:D,options:C})})]},O))}0===c.length&&c.push(Object(q.jsx)("tr",{children:Object(q.jsx)("td",{colSpan:"7",children:'"Nothing!"'})},0)),i.push(Object(q.jsxs)(Ze.a,{bordered:!0,responsive:!0,children:[Object(q.jsx)("thead",{children:Object(q.jsxs)("tr",{children:[Object(q.jsx)("th",{scope:"col",children:"Name"}),Object(q.jsx)("th",{scope:"col",children:"Type"}),Object(q.jsx)("th",{scope:"col",children:"#Appearances"}),Object(q.jsx)("th",{scope:"col",children:"Confidence"}),Object(q.jsx)("th",{scope:"col",children:"Relevance"}),Object(q.jsx)("th",{scope:"col",children:"Sentiment"}),Object(q.jsx)("th",{scope:"col",children:"Emotion"})]})}),Object(q.jsx)("tbody",{children:c})]},"2"));break;case"keywords":for(var k in n){var P=n[k],T=js(P.emotion.max),F=js(P.emotion.ave),I=js(P.emotion.min),L=R(T,F,I),U={scale:{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}},W=M([P.relevance.min,P.sentiment.min],[P.relevance.ave,P.sentiment.ave],[P.relevance.max,P.sentiment.max]),A={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:-1,suggestedMax:1}}],xAxes:[{}]}};c.push(Object(q.jsxs)("tr",{children:[Object(q.jsx)("th",{scope:"row",children:P.text}),Object(q.jsx)("td",{children:P.count}),Object(q.jsx)("td",{colSpan:"2",children:Object(q.jsx)(Ye.Bar,{data:W,options:A})}),Object(q.jsx)("td",{children:Object(q.jsx)(Ye.Radar,{data:L,options:U})})]},k))}0===c.length&&c.push(Object(q.jsx)("tr",{children:Object(q.jsx)("td",{colSpan:"5",children:'"Nothing!"'})},0)),i.push(Object(q.jsxs)(Ze.a,{bordered:!0,responsive:!0,children:[Object(q.jsx)("thead",{children:Object(q.jsxs)("tr",{children:[Object(q.jsx)("th",{scope:"col",children:"Name"}),Object(q.jsx)("th",{scope:"col",children:"#Appearances"}),Object(q.jsx)("th",{scope:"col",children:"Relevance Score"}),Object(q.jsx)("th",{scope:"col",children:"Sentiment"}),Object(q.jsx)("th",{scope:"col",children:"Emotion"})]})}),Object(q.jsx)("tbody",{children:c})]},"2"));break;case"relations":for(var B in n){var H=n[B],V=J([H.score.min],[H.score.ave],[H.score.max]),G={scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1}}]}};c.push(Object(q.jsxs)("tr",{children:[Object(q.jsx)("th",{scope:"row",children:H.count}),Object(q.jsx)("td",{children:H.arguments[0].text}),Object(q.jsx)("td",{children:H.type}),Object(q.jsx)("td",{children:H.arguments[1].text}),Object(q.jsx)("td",{style:{width:"30%"},children:Object(q.jsx)(Ye.Bar,{data:V,options:G})})]},B))}0===c.length&&c.push(Object(q.jsx)("tr",{children:Object(q.jsx)("th",{scope:"row",children:'"Nothing!"'})},0)),i.push(Object(q.jsxs)(Ze.a,{bordered:!0,responsive:!0,children:[Object(q.jsx)("thead",{children:Object(q.jsxs)("tr",{children:[Object(q.jsx)("th",{scope:"col",children:"#Appearances"}),Object(q.jsx)("th",{scope:"col",children:"Actor"}),Object(q.jsx)("th",{scope:"col",children:"Action"}),Object(q.jsx)("th",{scope:"col",children:"Target"}),Object(q.jsx)("th",{scope:"col",children:"Score"})]})}),Object(q.jsx)("tbody",{children:c})]},"2"));break;default:console.log("Invalid AI selection somehow")}}catch(K){i.push(Object(q.jsx)("div",{className:"row m-2 border",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsx)("p",{children:"There was no data to read!"})})},"2"))}else i.push(Object(q.jsx)("div",{className:"row m-2 border",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsx)("p",{children:"There was no data to read!"})})},"2"));return Object(q.jsx)("div",{className:"JournalIteration",children:Object(q.jsxs)(_.a,{children:[Object(q.jsxs)(_.a.Toggle,{as:Q.a.Header,variant:"link",eventKey:"0",children:[Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:this.props.givenPrompt.text})},"0"),Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsx)("div",{className:"progressBar",children:Object(q.jsx)(ds.a,{now:t,label:"".concat(t,"% Response Rate")})})})},"1")]}),Object(q.jsx)(_.a.Collapse,{eventKey:"0",children:Object(q.jsx)(Q.a,{children:Object(q.jsxs)(Q.a.Body,{children:[Object(q.jsx)("div",{className:"row my-2",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsx)(Xe.a,{toggle:!0,children:hs.map((function(t,s){return Object(q.jsx)(_e.a,{type:"radio",variant:"info",name:"radio",value:t.value,checked:e.state.selectedAspect===t.value,onChange:e.setAspect,children:t.name},s)}))})})}),Object(q.jsx)("hr",{}),i]})})})]})})}}]),s}(r.a.Component),gs=Object(u.f)((function(e){var t=[],s=e.currentDate;if(void 0!==e.dataSet){s=e.dataSet.forDate;var a=0,r=function(s){var r=-1,n={text:"No Text!"};try{r=(n=e.dataSet.promptList.find((function(e){return e.identifier===s}))).promptType}catch(c){}var i="No Prompt!";switch(r){case 0:i=Object(q.jsx)(vs,{givenPrompt:n,dataSet:e.dataSet.summaryResult[s]});break;case 1:i=Object(q.jsx)(ms,{givenPrompt:n,dataSet:e.dataSet.summaryResult[s]});break;case 2:i=Object(q.jsx)(ps,{givenPrompt:n,dataSet:e.dataSet.summaryResult[s]});break;case 3:i=Object(q.jsx)(bs,{givenPrompt:n,dataSet:e.dataSet.summaryResult[s]});break;default:i=i=Object(q.jsx)(vs,{givenPrompt:{text:"No Prompt!"},dataSet:e.dataSet.summaryResult[s]})}t.push(Object(q.jsx)("div",{className:"row",children:Object(q.jsxs)("div",{className:"col",children:[Object(q.jsx)("div",{children:i}),Object(q.jsx)("hr",{})]})},a)),a+=1};for(var n in e.dataSet.summaryResult)r(n)}0===t.length&&t.push(Object(q.jsx)("div",{className:"row",children:Object(q.jsxs)("div",{className:"col",children:[Object(q.jsx)("div",{children:"No Data to Display!"}),Object(q.jsx)("hr",{})]})},0));var i="Showing Company Summary for: "+e.currentCompany,c="For Date: "+s,o="Summary Type: "+us[e.summaryType],l=1===e.getCompanyWeeklySummaryStatus,d=3===e.getCompanyWeeklySummaryStatus;l&&(i="Please Wait...",c="Loading",o="...");var h=[];for(var u in e.getCompanyWeeklySummaryError)h.push(e.getCompanyWeeklySummaryError[u].text);return 0===h.length&&h.push("Unknown!"),Object(q.jsx)("div",{className:"companyView",children:Object(q.jsxs)("div",{className:"container-fluid",children:[Object(q.jsx)("div",{className:"row m-2 justify-content-center",children:Object(q.jsx)("div",{className:"col- m-2",children:Object(q.jsx)("div",{children:Object(q.jsx)(ze.a,{className:"shadow",onChange:e.pickDate,value:e.currentDate,tileClassName:function(t){var s=t.date,a=t.view,r=!1,n=0,i=String(s.getFullYear()),c=String(s.getMonth()+1);c<10&&(c="0"+c);var o=String(s.getDate());o<10&&(o="0"+o);var l=i+"-"+c+"-"+o;if("month"===a)try{n=(r=e.validSummaryDates.day.find((function(e){return e.date===l}))).num}catch(d){}if(r)return n>0?"btn btn-success":"btn btn-warning"},minDetail:"year",maxDetail:"month"})})})}),Object(q.jsx)("div",{className:"row m-2",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsxs)("div",{className:"card shadow",children:[Object(q.jsxs)("div",{className:"card-header",children:[Object(q.jsx)("div",{children:i}),Object(q.jsx)("div",{children:c}),Object(q.jsx)("div",{children:o})]}),Object(q.jsx)("div",{className:"card-body",children:t})]})})}),Object(q.jsxs)(j.a,{show:l,variant:"warning",children:[Object(q.jsx)(j.a.Heading,{children:"Waiting"}),Object(q.jsx)("hr",{}),Object(q.jsx)("p",{children:"Waiting for server response..."}),Object(q.jsx)("hr",{})]}),Object(q.jsxs)(j.a,{show:!1,variant:"success",children:[Object(q.jsx)(j.a.Heading,{children:"Success!"}),Object(q.jsx)("hr",{}),Object(q.jsx)("p",{children:"Successfully obtained data!"}),Object(q.jsx)("hr",{})]}),Object(q.jsxs)(j.a,{show:d,variant:"danger",children:[Object(q.jsx)(j.a.Heading,{children:"Error!"}),Object(q.jsx)("hr",{}),Object(q.jsx)("p",{children:h}),Object(q.jsx)("hr",{})]})]})})})),xs="Division Prompts",Os=["Never","Always","On Monday","On Tuesday","On Wednesday","On Thursday","On Friday","On Saturday","On Sunday"],fs=["Open","Likert","Rating","Multi","Boolean"],Ns=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).state={btnLen:2},a}return Object(o.a)(s,[{key:"render",value:function(){var e="",t="";this.props.activePage<=0&&(e="disabled"),this.props.activePage>=this.props.totalLoaded/this.props.numPerPage-1&&(t="disabled");for(var s=[],a=-this.state.btnLen;a<=this.state.btnLen;a++){var r="",n=a+this.props.activePage;n<0||n>=this.props.totalLoaded/this.props.numPerPage||(0===a&&(r="active "),s.push(Object(q.jsx)("button",{className:"btn btn-outline-primary "+r,value:n,onClick:this.props.changeToNum,children:n},a)))}return Object(q.jsx)("div",{className:"paginator",children:Object(q.jsx)("div",{className:"container",children:Object(q.jsx)("div",{className:"row",children:Object(q.jsxs)("div",{className:"col",children:[Object(q.jsx)("button",{className:"btn btn-outline-primary "+e,value:"bck",onClick:this.props.changePrevNext,children:"Prev"}),s,Object(q.jsx)("button",{className:"btn btn-outline-primary "+t,value:"fwd",onClick:this.props.changePrevNext,children:"Next"})]})})})})}}]),s}(r.a.Component),Ss=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).initTypeFlags=function(){for(var e=[],t=0;t<fs.length;t++)e.push(!0);return e},a.initNameFlags=function(){for(var e=[],t=0;t<a.props.validFilters.length;t++)e.push(!1);return e},a.changeFilterType1=function(e){var t=a.state.filterTypeFlags.slice();t[Number(e.target.value)]=!t[Number(e.target.value)],a.setState({filterTypeFlags:t})},a.changeFilterType2=function(e){var t=a.state.filterNameFlags.slice();t[Number(e.target.value)]=!t[Number(e.target.value)],a.setState({filterNameFlags:t})},a.setLastClickedEvent=function(e){a.setState({lastClickedEventIndex:Number(e.target.value)})},a.getEventsFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return a.props.debugSet(xs,"Refresh Triggered","Get Division Events"),void a.props.refreshToken(a.getEvents);2===e.action||3===e.action||4===e.action||e.action}a.props.debugSet(xs,"Get Division Events","Failure"),t=e.messages,a.setState({getEventsStatus:3,getEventsError:t})},a.getEventsSuccess=function(e){var t=[],s=[],r=[];for(var n in e)null===e[n].creatorCompany?t.push(e[n]):e[n].creatorDivision===a.props.currentDivisionID?r.push(e[n]):(e[n].sharingEnabled||e[n].usedBy)&&s.push(e[n]);a.props.debugSet(xs,"Get Division Events","Success"),a.setState({eventsGlobBin:t,eventsCompBin:s,eventsDivBin:r,getEventsStatus:2})},a.getEvents=function(){if(-1!==a.props.currentDivisionID){!function(e,t,s){var a={headers:{Authorization:"JWT ".concat(O)}};x.get("/api/getDivisionEvents/?reqDiv="+e,a).then((function(e){var s=e.data;for(var a in s)s[a].isSaved=!0;t(s)})).catch((function(e){var t=y(e);s(t)}))}(a.props.currentDivisionID,a.getEventsSuccess,a.getEventsFailure),a.setState({getEventsStatus:1})}else a.props.history.push(a.props.redirectErrorPath)},a.saveEventsFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return a.props.debugSet(xs,"Refresh Triggered","Get Division Events"),void a.props.refreshToken(a.tokenHasRefreshedError);2===e.action||3===e.action||4===e.action||e.action}a.props.debugSet(xs,"Save Division Events","Failure"),t=e.messages,a.setState({saveEventStatus:3,saveEventError:t})},a.saveEventsSuccess=function(e,t){if(!a.state.eventsDivBin[e].isSaved){var s=a.state.eventsDivBin.slice();s[e].id=Number(t.split(":")[1]),s[e].isSaved=!0,a.setState({eventsDivBin:s})}a.props.debugSet(xs,"Save Division Events","Success"),a.setState({saveEventStatus:2})},a.saveDivEvent=function(e){var t=a.state.eventsDivBin[e.target.value],s=t.id,r=t.triggerType,n=t.usedBy,i=t.sharingEnabled,c=[];for(var o in t.promptPool)c.push(t.promptPool[o].identifier);!function(e,t,s,a,r,n,i,c,o){var l={headers:{Authorization:"JWT ".concat(O)}},d={id:t,reqDiv:s,enabledDiv:a,sharingEnabled:r,triggerType:n,promptSet:i};x.post("/api/setDivisionEvents/",d,l).then((function(t){var s=t.data;c(e,s)})).catch((function(e){var t=y(e);o(t)}))}(Number(e.target.value),s,a.props.currentDivisionID,n,i,r,c,a.saveEventsSuccess,a.saveEventsFailure),a.setState({saveEventStatus:0})},a.saveNonDivEventsFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return a.props.debugSet(xs,"Refresh Triggered","Save Non-Division Data"),void a.props.refreshToken(a.tokenHasRefreshedError);2===e.action||3===e.action||4===e.action||e.action}a.props.debugSet(xs,"Save Non-Division Events","Success"),t=e.messages,a.setState({saveEventStatus:3,saveEventError:t})},a.saveGlobventsSuccess=function(e,t){a.props.debugSet(xs,"Save Non-Division Events","Success");var s=a.state.eventsGlobBin.slice();s[e].isSaved=!0,a.setState({saveEventStatus:2,eventsGlobBin:s})},a.saveCompEventsSuccess=function(e,t){a.props.debugSet(xs,"Save Non-Division Events","Success");var s=a.state.eventsCompBin.slice();s[e].isSaved=!0,a.setState({saveEventStatus:2,eventsCompBin:s})},a.saveGlobEvent=function(e){var t=a.state.eventsGlobBin[e.target.value],s=t.id,r=t.usedBy;I(Number(e.target.value),s,a.props.currentDivisionID,r,a.saveGlobventsSuccess,a.saveNonDivEventsFailure),a.setState({saveEventStatus:0})},a.saveCompEvent=function(e){var t=a.state.eventsCompBin[e.target.value],s=t.id,r=t.usedBy;I(Number(e.target.value),s,a.props.currentDivisionID,r,a.saveCompEventsSuccess,a.saveNonDivEventsFailure),a.setState({saveEventStatus:0})},a.searchForPromptsFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return a.props.debugSet(xs,"Refresh Triggered","Search Prompts"),void a.props.refreshToken(a.searchForPrompts);2===e.action||3===e.action||4===e.action||e.action}a.props.debugSet(xs,"Search Prompts","Failure"),t=e.messages,a.setState({searchForStatus:3,searchForError:t})},a.searchForPromptsCallback=function(e){a.props.debugSet(xs,"Search Prompts","Success"),a.setState({promptsBin:e,hasSent:!0,searchForStatus:2})},a.searchForPrompts=function(){var e=[];for(var t in a.state.filterTypeFlags)a.state.filterTypeFlags[t]&&e.push(t);var s=[];for(var r in a.state.filterNameFlags)a.state.filterNameFlags[r]&&s.push(a.props.validFilters[r]);F(a.state.searchText,e,s,a.searchForPromptsCallback,a.searchForPromptsFailure),a.setState({searchForStatus:1})},a.deleteEventFailure=function(e){var t;if(0===e.action);else{if(1===e.action)return a.props.debugSet(xs,"Refresh Triggered","Delete Events"),void a.props.refreshToken(a.tokenHasRefreshedError);2===e.action||3===e.action||4===e.action||e.action}a.props.debugSet(xs,"Delete Events","Failure"),t=e.messages,a.setState({deleteEventStatus:3,deleteEventError:t})},a.deleteEventCallback=function(e,t){var s=Number(e),r=a.state.eventsDivBin.slice();r.splice(s,1),a.props.debugSet(xs,"Delete Events","Success"),a.setState({eventsDivBin:r}),0!==t&&a.setState({deleteEventStatus:2})},a.deleteEvent=function(e){var t=a.state.eventsDivBin[Number(e.target.value)],s=t.id;t.isSaved?(!function(e,t,s,a,r){var n={headers:{Authorization:"JWT ".concat(O)}},i={id:t,reqDiv:s};x.post("/api/deleteDivisionEvents/",i,n).then((function(t){var s=t.data;a(e,s)})).catch((function(e){var t=y(e);r(t)}))}(Number(e.target.value),s,a.props.currentDivisionID,a.deleteEventCallback,a.deleteEventFailure),a.setState({deleteEventStatus:1})):a.deleteEventCallback(Number(e.target.value),0)},a.createEvent=function(){var e=a.state.eventsDivBin.slice();e.push({id:-1,triggerType:0,promptPool:[],sharingEnabled:!0,usedBy:!1,isSaved:!1}),a.setState({eventsDivBin:e})},a.changeInput=function(e){a.setState({searchText:e.target.value})},a.deleteEventPrompt=function(e){var t=Number(e.target.name),s=Number(e.target.value),r=a.state.eventsDivBin.slice();r[t].promptPool.splice(s,1),r[t].isSaved=!1,a.setState({eventsDivBin:r})},a.addingEventPrompt=function(e){var t=Number(e.target.value),s=a.state.lastClickedEventIndex;if(s>=0){var r=a.state.eventsDivBin.slice(),n=0;void 0===r[s].promptPool.find((function(e){return e.identifier===a.state.promptsBin[t].identifier}))?(r[s].isSaved=!1,r[s].promptPool.push(a.state.promptsBin[t]),n=1):n=2,a.setState({eventsDivBin:r,addedPrompt:n})}},a.changeTrigger=function(e){var t=e.target.name.split(","),s=a.state.eventsDivBin.slice();s[t[0]].triggerType=Number(t[1]),s[t[0]].isSaved=!1,a.setState({eventsDivBin:s})},a.enabledGlobalFieldChange=function(e){var t=a.state.eventsGlobBin.slice();t[e.target.name].usedBy=!t[e.target.name].usedBy,t[e.target.name].isSaved=!1,a.setState({eventsGlobBin:t})},a.enabledCompanyFieldChange=function(e){var t=a.state.eventsCompBin.slice();t[e.target.name].usedBy=!t[e.target.name].usedBy,t[e.target.name].isSaved=!1,a.setState({eventsCompBin:t})},a.enabledDivisionFieldChange=function(e){var t=a.state.eventsDivBin.slice();t[e.target.name].usedBy=!t[e.target.name].usedBy,t[e.target.name].isSaved=!1,a.setState({eventsDivBin:t})},a.enabledDivisionFieldChangeSuper=function(e){var t=a.state.eventsDivBin.slice();t[e.target.name].sharingEnabled=!t[e.target.name].sharingEnabled,t[e.target.name].isSaved=!1,a.setState({eventsDivBin:t})},a.changePageTo=function(e){var t=Number(e.target.value);a.setState({pageNum:t})},a.changePageFwdBck=function(e){var t=Number(a.state.pageNum);if("fwd"===e.target.value){if((t+=1)>a.state.promptsBin.length/a.state.numPerPage)return}else if("bck"===e.target.value&&(t-=1)<0)return;a.setState({pageNum:t})},a.tokenHasRefreshedError=function(){console.log("Try again, the token needed to be refreshed...")},a.state={eventsGlobBin:[],eventsCompBin:[],eventsDivBin:[],promptsBin:[],filterTypeFlags:a.initTypeFlags(),filterNameFlags:a.initNameFlags(),pageNum:0,numPerPage:5,searchText:"",searchType:"text",hasSent:!1,lastClickedEventIndex:-1,addedPrompt:0,getEventsStatus:0,getEventsError:[],saveEventStatus:0,saveEventError:[],searchForStatus:0,searchForError:[],deleteEventStatus:0,deleteEventError:[]},a}return Object(o.a)(s,[{key:"componentDidMount",value:function(){this.getEvents()}},{key:"render",value:function(){var e=this,t=1===this.state.getEventsStatus||1===this.state.saveEventStatus||1===this.state.deleteEventStatus,s=2===this.state.saveEventStatus||2===this.state.deleteEventStatus,a=3===this.state.getEventsStatus||3===this.state.saveEventStatus||3===this.state.deleteEventStatus,r=[];for(var n in this.state.getEventsError)r.push(this.state.getEventsError[n].text);for(var i in this.state.saveEventError)r.push(this.state.saveEventError[i].text);for(var c in this.state.deleteEventError)r.push(this.state.deleteEventError[c].text);for(var o in this.state.searchForError)r.push(this.state.searchForError[o].text);0===r.length&&r.push("Unknown!");var l=[];for(var d in this.state.eventsGlobBin){var h=this.state.eventsGlobBin[d],u=[];for(var b in h.promptPool){var m=h.promptPool[b].text.substring(0,12)+"...";u.push(Object(q.jsxs)("tr",{children:[Object(q.jsx)("th",{scope:"row",children:Object(q.jsx)("button",{className:"btn btn-outline-secondary","data-toggle":"collapse","data-target":"#displayGlobPromptCollapse"+d+b,children:m})}),Object(q.jsx)("td",{children:h.promptPool[b].identifier}),Object(q.jsx)("td",{children:fs[h.promptPool[b].promptType]})]},b),Object(q.jsx)("tr",{children:Object(q.jsx)("th",{scope:"row",colSpan:"4",className:"collapse",id:"displayGlobPromptCollapse"+d+b,children:h.promptPool[b].text})},1+b+h.promptPool.length))}0===u.length&&u.push(Object(q.jsx)("tr",{children:Object(q.jsx)("th",{scope:"row",colSpan:"4",children:"Nothing here!"})},0));var p=!h.isSaved;l.push(Object(q.jsx)("div",{className:"col-sm-12 col-md-12 col-lg-6 col-xl",children:Object(q.jsxs)("div",{className:"card",children:[Object(q.jsx)("div",{className:"card-header",children:p&&Object(q.jsx)("div",{className:"text-danger",children:"Unsaved Changes!"})}),Object(q.jsxs)("div",{className:"card-body",children:[Object(q.jsx)("div",{className:"row",children:Object(q.jsxs)("div",{className:"col",children:["Trigger Type: ",Os[h.triggerType]]})}),Object(q.jsx)("div",{className:"row m-1",children:Object(q.jsxs)("div",{className:"col",children:[Object(q.jsx)("b",{children:Object(q.jsx)("u",{children:Object(q.jsx)("i",{children:h.promptPool.length})})})," Prompts",Object(q.jsx)("button",{className:"btn btn-secondary","data-toggle":"collapse","data-target":"#globCollapse"+d,"aria-expanded":"false","aria-controls":"globCollapse"+d,children:"Show"})]})}),Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsxs)("div",{className:"custom-control custom-checkbox",children:[Object(q.jsx)("input",{type:"checkbox",className:"custom-control-input",id:"customCheckGlob"+d,name:d,value:h.usedBy,onChange:this.enabledGlobalFieldChange,checked:h.usedBy}),Object(q.jsx)("label",{className:"custom-control-label",htmlFor:"customCheckGlob"+d,children:"Enabled For This Division"})]})})}),Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsxs)("div",{className:"custom-control custom-checkbox",children:[Object(q.jsx)("input",{type:"checkbox",className:"custom-control-input",id:"customCheckGlob2"+d,name:d,value:h.sharingEnabled,checked:h.sharingEnabled,disabled:!0}),Object(q.jsx)("label",{className:"custom-control-label",htmlFor:"customCheckGlob2"+d,children:"Is Shared"})]})})}),Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsx)("button",{className:"btn btn-primary",value:d,onClick:this.saveGlobEvent,children:"Save Changes"})})}),Object(q.jsx)("div",{className:"collapse",id:"globCollapse"+d,children:Object(q.jsx)("div",{className:"card card-body",children:Object(q.jsxs)("table",{className:"table",children:[Object(q.jsx)("thead",{children:Object(q.jsxs)("tr",{children:[Object(q.jsx)("th",{scope:"col",children:"Text"}),Object(q.jsx)("th",{scope:"col",children:"Type"}),Object(q.jsx)("th",{scope:"col",children:"Delete"})]})}),Object(q.jsx)("tbody",{children:u})]},"1")})})]})]})},d))}var v=[];for(var g in this.state.eventsCompBin){var x=this.state.eventsCompBin[g],O=[];for(var f in x.promptPool){var N=x.promptPool[f].text.substring(0,12)+"...";O.push(Object(q.jsxs)("tr",{children:[Object(q.jsx)("th",{scope:"row",children:Object(q.jsx)("button",{className:"btn btn-outline-secondary","data-toggle":"collapse","data-target":"#displayCompPromptCollapse"+g+f,children:N})}),Object(q.jsx)("td",{children:x.promptPool[f].identifier}),Object(q.jsx)("td",{children:fs[x.promptPool[f].promptType]})]},f),Object(q.jsx)("tr",{children:Object(q.jsx)("th",{scope:"row",colSpan:"4",className:"collapse",id:"displayCompPromptCollapse"+g+f,children:x.promptPool[f].text})},1+f+x.promptPool.length))}0===O.length&&O.push(Object(q.jsx)("tr",{children:Object(q.jsx)("th",{scope:"row",colSpan:"4",children:"Nothing here!"})},0));var S=!x.isSaved;v.push(Object(q.jsx)("div",{className:"col-sm-12 col-md-12 col-lg-6 col-xl",children:Object(q.jsxs)("div",{className:"card",children:[Object(q.jsx)("div",{className:"card-header",children:S&&Object(q.jsx)("div",{className:"text-danger",children:"Unsaved Changes!"})}),Object(q.jsxs)("div",{className:"card-body",children:[Object(q.jsx)("div",{className:"row",children:Object(q.jsxs)("div",{className:"col",children:["Trigger Type: ",Os[x.triggerType]]})}),Object(q.jsx)("div",{className:"row m-1",children:Object(q.jsxs)("div",{className:"col",children:[Object(q.jsx)("b",{children:Object(q.jsx)("u",{children:Object(q.jsx)("i",{children:x.promptPool.length})})})," Prompts",Object(q.jsx)("button",{className:"btn btn-secondary",type:"button","data-toggle":"collapse","data-target":"#compCollapse"+g,"aria-expanded":"false","aria-controls":"compCollapse"+g,children:"Show"})]})}),Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsxs)("div",{className:"custom-control custom-checkbox",children:[Object(q.jsx)("input",{type:"checkbox",className:"custom-control-input",id:"customCheckComp"+g,name:g,value:x.usedBy,onChange:this.enabledCompanyFieldChange,checked:x.usedBy}),Object(q.jsx)("label",{className:"custom-control-label",htmlFor:"customCheckComp"+g,children:"Enabled For This Division"})]})})}),Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsxs)("div",{className:"custom-control custom-checkbox",children:[Object(q.jsx)("input",{type:"checkbox",className:"custom-control-input",id:"customCheckComp2"+g,name:g,value:x.sharingEnabled,checked:x.sharingEnabled,disabled:!0}),Object(q.jsx)("label",{className:"custom-control-label",htmlFor:"customCheckComp2"+g,children:"Is Shared"})]})})}),Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsx)("button",{className:"btn btn-primary",value:g,onClick:this.saveCompEvent,children:"Save Changes"})})}),Object(q.jsx)("div",{className:"collapse",id:"compCollapse"+g,children:Object(q.jsx)("div",{className:"card card-body",children:Object(q.jsxs)("table",{className:"table",children:[Object(q.jsx)("thead",{children:Object(q.jsxs)("tr",{children:[Object(q.jsx)("th",{scope:"col",children:"Text"}),Object(q.jsx)("th",{scope:"col",children:"Type"}),Object(q.jsx)("th",{scope:"col",children:"Delete"})]})}),Object(q.jsx)("tbody",{children:O})]},"1")})})]})]})},g))}0===v.length&&v.push(Object(q.jsx)("div",{className:"col",children:"Nothing Here!"},1));var y=[],D=function(t){var s=e.state.eventsDivBin[t],a=[];for(var r in s.promptPool){var n=s.promptPool[r].text.substring(0,12)+"...";a.push(Object(q.jsxs)("tr",{children:[Object(q.jsx)("th",{scope:"row",children:Object(q.jsx)("button",{className:"btn btn-outline-secondary","data-toggle":"collapse","data-target":"#displayPromptCollapse"+t+r,children:n})}),Object(q.jsx)("td",{children:s.promptPool[r].identifier}),Object(q.jsx)("td",{children:fs[s.promptPool[r].promptType]}),Object(q.jsx)("th",{children:Object(q.jsx)("button",{className:"close",type:"button",value:r,name:t,onClick:e.deleteEventPrompt,"aria-label":"Close",children:"\xd7"})})]},r),Object(q.jsx)("tr",{children:Object(q.jsx)("th",{scope:"row",colSpan:"4",className:"collapse",id:"displayPromptCollapse"+t+r,children:s.promptPool[r].text})},1+r+s.promptPool.length))}0===a.length&&a.push(Object(q.jsx)("tr",{children:Object(q.jsx)("th",{scope:"row",colSpan:"4",children:"Nothing here!"})},0));var i=!s.isSaved;y.push(Object(q.jsx)("div",{className:"col-sm-12 col-md-12 col-lg-6 col-xl-6",children:Object(q.jsxs)("div",{className:"card",children:[Object(q.jsxs)("div",{className:"card-header",children:[i&&Object(q.jsx)("div",{className:"text-danger",children:"Unsaved Changes!"}),"Delete",Object(q.jsx)("button",{className:"badge badge-danger badge-pill",name:"test",value:t,onClick:e.deleteEvent,children:"X"})]}),Object(q.jsxs)("div",{className:"card-body",children:[Object(q.jsxs)("div",{className:"row",children:[Object(q.jsx)("div",{className:"col"}),Object(q.jsx)("div",{className:"col-",children:"Trigger Type:"}),Object(q.jsx)("div",{className:"col",children:Object(q.jsxs)("div",{className:"dropdown",children:[Object(q.jsx)("div",{className:"btn btn-secondary mx-2",type:"button",id:"EventButton"+t,"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:Os[s.triggerType]}),Object(q.jsx)("div",{className:"dropdown-menu","aria-labelledby":"EventButton"+t,children:Os.map((function(s,a){return Object(q.jsx)("div",{children:Object(q.jsx)("button",{className:"dropdown-item",name:[t,a],onClick:e.changeTrigger,children:s})},a)}))})]})}),Object(q.jsx)("div",{className:"col"})]}),Object(q.jsxs)("div",{className:"row m-1",children:[Object(q.jsx)("div",{className:"col"}),Object(q.jsxs)("div",{className:"col-",children:[Object(q.jsx)("b",{children:Object(q.jsx)("u",{children:Object(q.jsx)("i",{children:s.promptPool.length})})})," Prompts"]}),Object(q.jsx)("div",{className:"col- mx-2",children:Object(q.jsx)("button",{className:"btn btn-secondary",type:"button","data-toggle":"collapse","data-target":"#divCollapse"+t,"aria-expanded":"false","aria-controls":"divCollapse"+t,children:"Edit"})}),Object(q.jsx)("div",{className:"col"})]}),Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsxs)("div",{className:"custom-control custom-checkbox",children:[Object(q.jsx)("input",{type:"checkbox",className:"custom-control-input",id:"customCheckDiv"+t,name:t,value:s.usedBy,onChange:e.enabledDivisionFieldChange,checked:s.usedBy}),Object(q.jsx)("label",{className:"custom-control-label",htmlFor:"customCheckDiv"+t,children:"Enabled For This Division"})]})})}),Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsxs)("div",{className:"custom-control custom-checkbox",children:[Object(q.jsx)("input",{type:"checkbox",className:"custom-control-input",id:"customCheckDiv2"+t,name:t,value:s.sharingEnabled,onChange:e.enabledDivisionFieldChangeSuper,checked:s.sharingEnabled}),Object(q.jsx)("label",{className:"custom-control-label",htmlFor:"customCheckDiv2"+t,children:"Allow Other Divisions To Use"})]})})}),Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsx)("button",{className:"btn btn-primary",value:t,onClick:e.saveDivEvent,children:"Save"})})}),Object(q.jsx)("div",{className:"collapse",id:"divCollapse"+t,children:Object(q.jsxs)("div",{className:"card card-body",children:[Object(q.jsxs)("table",{className:"table",children:[Object(q.jsx)("thead",{children:Object(q.jsxs)("tr",{children:[Object(q.jsx)("th",{scope:"col",children:"Text"}),Object(q.jsx)("th",{scope:"col",children:"Type"}),Object(q.jsx)("th",{scope:"col",children:"Delete"})]})}),Object(q.jsx)("tbody",{children:a})]},"1"),Object(q.jsx)("button",{className:"btn btn-primary",value:t,onClick:e.setLastClickedEvent,"data-toggle":"modal","data-target":"#addPrompts",children:"Add New Prompt"})]})})]})]})},t))};for(var C in this.state.eventsDivBin)D(C);0===y.length&&y.push(Object(q.jsx)("div",{className:"col",children:"Nothing Here!"},0));var w=[];if(this.state.promptsBin.length>0)for(var E=0;E<this.state.numPerPage;E++){var k=E+this.state.pageNum*this.state.numPerPage;if(k>=this.state.promptsBin.length)break;var P=this.state.promptsBin[k].text.substring(0,12)+"...",T=[];for(var F in this.state.promptsBin[k].promptFilterTags)T.push(Object(q.jsx)("div",{className:"col border",children:Object(q.jsx)("div",{className:"my-1",children:this.state.promptsBin[k].promptFilterTags[F].name})}));0===T.length&&T.push(Object(q.jsx)("div",{className:"col- list-group-item",children:"No Filters!"})),w.push(Object(q.jsxs)("tr",{children:[Object(q.jsx)("th",{scope:"row",children:Object(q.jsx)("button",{className:"btn btn-outline-secondary","data-toggle":"collapse","data-target":"#collapseFullText"+k,children:P})}),Object(q.jsx)("td",{children:fs[this.state.promptsBin[k].promptType]}),Object(q.jsx)("td",{children:Object(q.jsx)("button",{className:"btn btn-outline-secondary","data-toggle":"collapse","data-target":"#collapseFilters"+k,children:this.state.promptsBin[k].promptFilterTags.length})}),Object(q.jsx)("th",{children:Object(q.jsx)("button",{className:"btn btn-outline-secondary",value:k,onClick:this.addingEventPrompt,children:"+"})})]},k),Object(q.jsx)("tr",{children:Object(q.jsx)("th",{scope:"row",colSpan:"4",className:"collapse",id:"collapseFullText"+k,children:this.state.promptsBin[k].text})},1+k+this.state.promptsBin.length),Object(q.jsx)("tr",{children:Object(q.jsx)("th",{scope:"row",colSpan:"4",className:"collapse",id:"collapseFilters"+k,children:Object(q.jsxs)("div",{className:"row",children:[Object(q.jsx)("div",{className:"col"}),T,Object(q.jsx)("div",{className:"col"})]})})},2+k+2*this.state.promptsBin.length))}else this.state.hasSent?w.push(Object(q.jsx)("tr",{children:Object(q.jsx)("th",{scope:"row",colSpan:"4",children:"No Results!"})},0)):w.push(Object(q.jsx)("tr",{children:Object(q.jsx)("th",{scope:"row",colSpan:"4",children:"Waiting for Search!"})},0));var I=[];for(var L in fs){var U="btn-outline-success";this.state.filterTypeFlags[L]&&(U="btn-success"),I.push(Object(q.jsx)("div",{className:"col-",children:Object(q.jsx)("button",{className:"btn "+U,value:L,onClick:this.changeFilterType1,children:fs[L]},L)},L))}var W=[];for(var A in this.props.validFilters){var R="btn-outline-success";this.state.filterNameFlags[A]&&(R="btn-success"),W.push(Object(q.jsx)("div",{className:"col-",children:Object(q.jsx)("button",{className:"btn "+R,value:A,onClick:this.changeFilterType2,children:this.props.validFilters[A]},A)},A))}return Object(q.jsxs)("div",{className:"PromptDisplay",children:[t&&Object(q.jsx)(Is,{}),Object(q.jsxs)("div",{className:"container-fluid",children:[!t&&Object(q.jsxs)("div",{children:[Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsxs)("div",{className:"card shadow",children:[Object(q.jsx)("div",{className:"card-header",children:Object(q.jsx)("h5",{children:"This Division's Events"})}),Object(q.jsxs)("div",{className:"card-body",children:[Object(q.jsx)("div",{className:"row",children:y}),Object(q.jsx)("div",{className:"row my-2",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsx)("button",{className:"btn btn-primary",onClick:this.createEvent,children:"Create Event"})})})]})]})})}),Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsxs)("div",{className:"card shadow",children:[Object(q.jsx)("div",{className:"card-header",children:Object(q.jsx)("h5",{children:"This Company's Shared Events"})}),Object(q.jsx)("div",{className:"card-body",children:Object(q.jsx)("div",{className:"row",children:v})})]})})})]}),Object(q.jsxs)(j.a,{show:t,variant:"warning",children:[Object(q.jsx)(j.a.Heading,{children:"Waiting"}),Object(q.jsx)("hr",{}),Object(q.jsx)("p",{children:"Waiting for server response..."}),Object(q.jsx)("hr",{})]}),Object(q.jsxs)(j.a,{show:s,variant:"success",children:[Object(q.jsx)(j.a.Heading,{children:"Success!"}),Object(q.jsx)("hr",{}),Object(q.jsxs)("p",{children:["Successfully obtained data or saved!",Object(q.jsx)("br",{}),"Your prompts will be updated on next refresh"]}),Object(q.jsx)("hr",{})]}),Object(q.jsxs)(j.a,{show:a,variant:"danger",children:[Object(q.jsx)(j.a.Heading,{children:"Error!"}),Object(q.jsx)("hr",{}),Object(q.jsx)("p",{children:r}),Object(q.jsx)("hr",{})]}),Object(q.jsx)("div",{className:"modal fade",id:"addPrompts",tabIndex:"-1",role:"dialog","aria-labelledby":"promptAdder","aria-hidden":"true",children:Object(q.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:Object(q.jsxs)("div",{className:"modal-content",children:[Object(q.jsxs)("div",{className:"modal-header",children:[Object(q.jsx)("h5",{className:"modal-title",children:"Adding Prompts"}),Object(q.jsx)("button",{type:"btn btn-danger",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(q.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(q.jsxs)("div",{className:"modal-body",children:[Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsxs)("div",{className:"input-group rounded",children:[Object(q.jsx)("input",{type:"search",className:"form-control rounded",placeholder:"Search Text","aria-label":"Search","aria-describedby":"search-addon",onChange:this.changeInput}),Object(q.jsx)("button",{className:"input-group-text border-0",id:"search-addon",onClick:this.searchForPrompts,children:Object(q.jsx)(xt.a,{className:"iconBG",color:"black",size:16})})]})})}),Object(q.jsx)("div",{className:"row",children:Object(q.jsxs)("div",{className:"col",children:[Object(q.jsx)("button",{className:"btn btn-outline-secondary","data-toggle":"collapse","data-target":"#displaySearchCollapse",children:"Advanced Search"}),Object(q.jsx)("hr",{}),Object(q.jsxs)("div",{className:"collapse",id:"displaySearchCollapse",children:[Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsx)("u",{children:"Filters:"})})}),Object(q.jsxs)("div",{className:"row",children:[Object(q.jsx)("div",{className:"col"}),I,Object(q.jsx)("div",{className:"col"})]}),Object(q.jsxs)("div",{className:"row",children:[Object(q.jsx)("div",{className:"col"}),W,Object(q.jsx)("div",{className:"col"})]}),Object(q.jsx)("hr",{})]})]})}),Object(q.jsxs)("table",{className:"table",children:[Object(q.jsx)("thead",{children:Object(q.jsxs)("tr",{children:[Object(q.jsx)("th",{scope:"col",children:"Text"}),Object(q.jsx)("th",{scope:"col",children:"Type"}),Object(q.jsx)("th",{scope:"col",children:"Filter(s)"}),Object(q.jsx)("th",{scope:"col",children:"Add"})]})}),Object(q.jsx)("tbody",{children:w})]},"1"),1===this.state.addedPrompt&&Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col text-success",children:"Added!"})}),2===this.state.addedPrompt&&Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col text-warning",children:"Already on the list!"})})]}),Object(q.jsx)("div",{className:"modal-footer",children:Object(q.jsx)(Ns,{activePage:this.state.pageNum,changePrevNext:this.changePageFwdBck,changeToNum:this.changePageTo,totalLoaded:this.state.promptsBin.length,numPerPage:this.state.numPerPage})})]})})})]})]})}}]),s}(r.a.Component),ys=Object(u.f)(Ss),Ds="Division Webs",Cs=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).componentDidMount=function(){},a.checkParentIsLoaded=function(){return!!a.props.parentHasLoaded&&(clearInterval(a.waitForParent),console.log("Web Has Finished Loading!"),!0)},a.loadFromLocalStorage=function(){a.setState({pageIsLoaded:!0})},a.GenerateTestInfo=function(){for(var e=[],t=Math.random()*(a.state.maxNodes-a.state.minNodes)+a.state.maxNodes,s=0;s<t;s++){for(var r=[],n=Math.floor(Math.random()*(1+a.state.maxRels-a.state.minRels)+a.state.minRels),i=0;i<n;i++)r.push({to:Math.floor(Math.random()*t),sentiment:Math.random()*(a.state.maxSenti-a.state.minSenti)+a.state.minSenti,freq:Math.floor(Math.random()*(1+a.state.maxFreq-a.state.minFreq)+a.state.minFreq)});var c=Math.random()>.5;e.push({id:s,name:"Random name "+s,isTracked:c,toSet:r})}return e},a.GenerateGraph=function(e){var t={nodes:[],edges:[]};for(var s in e){var a="#FFF0F0";for(var r in e[s].isTracked&&(a="#FFFFFF"),t.nodes.push({id:e[s].id,label:e[s].name,color:{border:"#000000",background:a}}),e[s].toSet)t.edges.push({from:e[s].id,to:e[s].toSet[r].to,label:(Math.floor(100*e[s].toSet[r].sentiment)/100).toString()+", "+Math.floor(e[s].toSet[r].freq).toString(),width:Y(e[s].toSet[r].freq),color:Z(e[s].toSet[r].sentiment)})}return t},a.selectStuffPrimary=function(e){var t=e.nodes,s=e.edges,r=-1;if(t.length>0){var n=[];for(var i in t)n.push(Object(q.jsx)("div",{children:a.state.graphDataPrimary.nodes[t[i]].label},i)),r=t[i];a.setState({selectedNodes:n})}else a.setState({selectedNodes:["None"]});if(s.length>0){var c=[],o=[];for(var l in s)for(var d in a.state.graphDataPrimary.edges){var h=a.state.graphDataPrimary.edges[d].id;if(s[l]===h){r===a.state.graphDataPrimary.edges[d].to&&c.push(Object(q.jsx)("div",{children:Object(q.jsxs)("div",{className:"row",children:[Object(q.jsx)("div",{className:"col"}),Object(q.jsx)("div",{className:"col",children:a.state.graphDataPrimary.nodes[a.state.graphDataPrimary.edges[d].from].label}),Object(q.jsx)("div",{className:"col",children:a.state.graphDataPrimary.edges[d].label}),Object(q.jsx)("div",{className:"col"})]})},l)),r===a.state.graphDataPrimary.edges[d].from&&o.push(Object(q.jsx)("div",{children:Object(q.jsxs)("div",{className:"row",children:[Object(q.jsx)("div",{className:"col"}),Object(q.jsx)("div",{className:"col",children:a.state.graphDataPrimary.nodes[a.state.graphDataPrimary.edges[d].to].label}),Object(q.jsx)("div",{className:"col",children:a.state.graphDataPrimary.edges[d].label}),Object(q.jsx)("div",{className:"col"})]})},l));break}}0===c.length&&(c=["None"]),0===o.length&&(o=["None"]),a.setState({selectedToEdges:c,selectedFromEdges:o})}else a.setState({selectedToEdges:["None"],selectedFromEdges:["None"]})},a.timedRefresh=function(){},a.getCompanyWebFailure=function(e){if(0===e.action);else{if(1===e.action)return a.props.debugSet(Ds,"Refresh Triggered","Get Division Web"),void a.props.refreshToken(a.getCompanyWebRecent);e.action}a.props.debugSet(Ds,"Get Division Web","Failure"),a.setState({getWebStatus:3,getDatesWebError:e.messages})},a.getCompanyWebCallback=function(e){var t=[];e.length>0&&(t=e[0].webStructure),a.props.debugSet(Ds,"Get Division Web","Success"),a.setState({loadedData:t,graphDataPrimary:a.GenerateGraph(t),loadedDataDate:e[0].forDate,getWebStatus:2})},a.getCompanyWebRecent=function(){if(-1!==a.props.currentDivisionID){L(a.props.currentDivisionID,void 0,a.getCompanyWebCallback,a.getCompanyWebFailure),a.setState({getWebStatus:1})}else a.props.history.push(a.props.reRouteTarget)},a.getCompanyWebPreviousFailure=function(e){if(0===e.action);else{if(1===e.action)return a.props.debugSet(Ds,"Refresh Triggered","Get Division Web"),void a.props.refreshToken(a.timedRefresh);e.action}a.props.debugSet(Ds,"Get Division Web","Failure"),a.setState({getWebStatus:3,getDatesWebError:e.messages})},a.getCompanyWebPreviousCallback=function(e){var t=[],s="Unknown";e.length>0&&(t=e[0].webStructure,s=e[0].forDate),a.props.debugSet(Ds,"Get Division Web","Success"),a.setState({loadedData:t,graphDataPrimary:a.GenerateGraph(t),loadedDataDate:s,getWebStatus:2})},a.getCompanyWebPrevious=function(e){if(-1!==a.props.currentDivisionID){L(a.props.currentDivisionID,e,a.getCompanyWebPreviousCallback,a.getCompanyWebPreviousFailure),a.setState({getWebStatus:1})}else a.props.history.push(a.props.reRouteTarget)},a.pickDate=function(e){a.setState({selectedWebDay:e}),a.getCompanyWebPrevious(e)},a.loadData=function(){var e=a.GenerateTestInfo();a.setState({loadedDataDate:"Current",loadedData:e,graphDataPrimary:a.GenerateGraph(e)})},a.maxNodeFieldChange=function(e){a.setState({maxNodes:Number(e.target.value)})},a.minNodeFieldChange=function(e){a.setState({minNodes:Number(e.target.value)})},a.maxRelsFieldChange=function(e){a.setState({maxRels:Number(e.target.value)})},a.minRelsFieldChange=function(e){a.setState({minRels:Number(e.target.value)})},a.maxSentiFieldChange=function(e){a.setState({maxSenti:Number(e.target.value)})},a.minSentiFieldChange=function(e){a.setState({minSenti:Number(e.target.value)})},a.maxFreqFieldChange=function(e){a.setState({maxFreq:Number(e.target.value)})},a.minFreqFieldChange=function(e){a.setState({minFreq:Number(e.target.value)})},a.state={maxNodes:20,minNodes:5,maxRels:5,minRels:0,maxSenti:1,minSenti:-1,maxFreq:7,minFreq:0,loadedDataDate:"None",loadedData:[],graphDataPrimary:a.GenerateGraph([]),selectedNodes:["None"],selectedToEdges:["None"],selectedFromEdges:["None"],getWebStatus:0,getDatesWebStatus:0,getDatesWebError:[],selectedWebDay:new Date,pageIsLoaded:!1},a.waitForParent=void 0,a}return Object(o.a)(s,[{key:"render",value:function(){var e=this,t={click:this.selectStuffPrimary},s=0===this.state.getWebStatus,a=1===this.state.getWebStatus,r=2===this.state.getWebStatus,n=3===this.state.getWebStatus,i="No Data!";"None"!==this.state.loadedDataDate&&(i="Showing Web From: "+this.state.loadedDataDate);var c;c=this.state.selectedNodes;var o;o=this.state.selectedToEdges;var l;l=this.state.selectedFromEdges;var d=[];for(var h in this.state.getDatesWebError)d.push(Object(q.jsx)("div",{children:this.state.getDatesWebError[h].text}));return Object(q.jsxs)("div",{className:"companyWebPage bg-secondary",children:[Object(q.jsxs)("div",{className:"container bg-light border shadow",children:[Object(q.jsx)("div",{className:"row my-3",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsx)("button",{className:"btn btn-dark",onClick:this.getCompanyWebRecent,children:"Load Most Recent Web From Server"})})}),Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsxs)(_.a,{children:[Object(q.jsx)(_.a.Toggle,{as:Q.a.Header,className:"border btn btn-outline-dark btn-block",variant:"link",eventKey:"open",children:Object(q.jsxs)("div",{className:"row",children:[Object(q.jsx)("div",{className:"col-1"}),Object(q.jsx)("div",{className:"col",children:"Get a Previous Web"}),Object(q.jsx)("div",{className:"col-1",children:Object(q.jsx)($.a,{})})]})}),Object(q.jsx)(_.a.Collapse,{eventKey:"open",children:Object(q.jsxs)("div",{className:"row",children:[Object(q.jsx)("div",{className:"col"}),Object(q.jsx)("div",{className:"col-",children:Object(q.jsx)(ze.a,{onChange:this.pickDate,value:this.state.selectedWebDay,tileClassName:function(t){var s=t.date,a=t.view,r=!1,n=String(s.getFullYear()),i=String(s.getMonth()+1);i<10&&(i="0"+i);var c=String(s.getDate());c<10&&(c="0"+c);var o=n+"-"+i+"-"+c;if("month"===a)try{r=e.props.validDivisionWebDates.find((function(e){return e.forDate===o}))}catch(l){}if(r)return"btn btn-success"},minDetail:"year",maxDetail:"month"})}),Object(q.jsx)("div",{className:"col"})]})})]})})}),Object(q.jsx)("div",{className:"row my-3",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsxs)(_.a,{children:[Object(q.jsx)(_.a.Toggle,{as:Q.a.Header,className:"border btn btn-outline-dark btn-block",variant:"link",eventKey:"open",children:Object(q.jsxs)("div",{className:"row",children:[Object(q.jsx)("div",{className:"col-1"}),Object(q.jsx)("div",{className:"col",children:"Create a Test Web"}),Object(q.jsx)("div",{className:"col-1",children:Object(q.jsx)($.a,{})})]})}),Object(q.jsx)(_.a.Collapse,{eventKey:"open",children:Object(q.jsxs)("div",{children:[Object(q.jsx)("div",{className:"row my-2",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("label",{id:"label-left",children:"Max Nodes"}),Object(q.jsx)("input",{type:"number",className:"form-control",value:this.state.maxNodes,onChange:this.maxNodeFieldChange,placeholder:"Enter Max Node Number"}),Object(q.jsx)("label",{id:"label-left",children:"Min Nodes"}),Object(q.jsx)("input",{type:"number",className:"form-control",value:this.state.minNodes,onChange:this.minNodeFieldChange,placeholder:"Enter Min Node Number"})]})})}),Object(q.jsx)("div",{className:"row my-2",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("label",{id:"label-left",children:"Max Relations"}),Object(q.jsx)("input",{type:"number",className:"form-control",value:this.state.maxRels,onChange:this.maxRelsFieldChange,placeholder:"Enter Max Relations Number"}),Object(q.jsx)("label",{id:"label-left",children:"Min Relations"}),Object(q.jsx)("input",{type:"number",className:"form-control",value:this.state.minRels,onChange:this.minRelsFieldChange,placeholder:"Enter Min Relations Number"})]})})}),Object(q.jsx)("div",{className:"row my-2",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("label",{id:"label-left",children:"Max Sentiment"}),Object(q.jsx)("input",{type:"number",className:"form-control",value:this.state.maxSenti,onChange:this.maxSentiFieldChange,placeholder:"Enter Max Sentiment"}),Object(q.jsx)("label",{id:"label-left",children:"Min Seniment"}),Object(q.jsx)("input",{type:"number",className:"form-control",value:this.state.minSenti,onChange:this.minSentiFieldChange,placeholder:"Enter Min Sentiment"})]})})}),Object(q.jsx)("div",{className:"row my-2",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("label",{id:"label-left",children:"Max Email Amount"}),Object(q.jsx)("input",{type:"number",className:"form-control",value:this.state.maxFreq,onChange:this.maxFreqFieldChange,placeholder:"Enter Max Email Amount"}),Object(q.jsx)("label",{id:"label-left",children:"Min Email Amount"}),Object(q.jsx)("input",{type:"number",className:"form-control",value:this.state.minFreq,onChange:this.minFreqFieldChange,placeholder:"Enter Min Email Amount"})]})})}),Object(q.jsxs)("div",{className:"row",children:[Object(q.jsx)("div",{className:"col"}),Object(q.jsx)("div",{className:"col-",children:Object(q.jsx)("button",{className:"btn btn-secondary",onClick:this.loadData,children:"Create Data!"})}),Object(q.jsx)("div",{className:"col"})]})]})})]})})}),Object(q.jsx)("div",{className:"border",children:0===this.state.loadedData.length?Object(q.jsxs)("div",{className:"row my-5",children:[s&&Object(q.jsx)("div",{className:"col",children:"Waiting for signal to get data"}),a&&Object(q.jsx)("div",{className:"col",children:"Getting Data..."}),r&&Object(q.jsx)("div",{className:"col",children:"Server reported no web!"})]}):Object(q.jsxs)("div",{children:[Object(q.jsxs)("div",{children:[Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsx)("u",{children:i})})}),Object(q.jsx)(Wt.a,{graph:this.state.graphDataPrimary,options:X,events:t,getNetwork:function(e){}})]}),Object(q.jsxs)("div",{className:"border-top",children:[Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsx)("u",{children:"Selected Node(s):"})})}),Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:c})})]}),Object(q.jsxs)("div",{className:"border-top",children:[Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsx)("u",{children:"Edge(s) coming TO this one:"})})}),Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:o})})]}),Object(q.jsxs)("div",{className:"border-top",children:[Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsx)("u",{children:"Edge(s) coming FROM this one:"})})}),Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:l})})]})]})}),Object(q.jsx)(ee,{}),Object(q.jsx)("div",{className:"row my-2"})]}),Object(q.jsxs)(j.a,{show:a,variant:"warning",children:[Object(q.jsx)(j.a.Heading,{children:"Waiting"}),Object(q.jsx)("hr",{}),Object(q.jsx)("p",{children:"Waiting for server..."}),Object(q.jsx)("hr",{})]}),Object(q.jsxs)(j.a,{show:n,variant:"danger",children:[Object(q.jsx)(j.a.Heading,{children:"Error!"}),Object(q.jsx)("hr",{}),d,Object(q.jsx)("hr",{})]})]})}}]),s}(r.a.Component),ws=Object(u.f)(Cs),Es=function(e){return Object(q.jsx)("div",{className:"defaultView",children:Object(q.jsx)("h3",{children:"404! You have selected and invalid page"})})},ks=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).checkParentIsLoaded=function(){return!!a.props.parentHasLoaded&&(clearInterval(a.waitForParent),console.log("Company page Finished Loading!"),a.setState({pageIsLoaded:!0}),!0)},a.changeEHIPrompt=function(e){a.setState({EHISelectedPrompt:e.currentTarget.value})},a.changeEHITimescale=function(e){a.setState({EHISelectedTimescale:e.currentTarget.value})},a.EHITimeToggle=function(e){a.setState({EHITimespan:e})},a.state={EHITimespan:3,EHISelectedPrompt:"none",EHISelectedTimescale:"none",companySelectPage:1,pageIsLoaded:!1},a.waitForParent=void 0,a}return Object(o.a)(s,[{key:"componentDidMount",value:function(){this.props.activateCompanyMenu(1)}},{key:"componentWillUnmount",value:function(){this.props.disableMenu()}},{key:"render",value:function(){var e=this;return Object(q.jsx)("div",{className:"contentPages",children:Object(q.jsx)("div",{className:"container",children:Object(q.jsx)("div",{className:"row m-1 my-5",children:Object(q.jsx)("div",{className:"col m-1",children:Object(q.jsxs)(u.c,{children:[Object(q.jsx)(u.a,{path:this.props.match.url+"/companySelect",exact:!0,component:function(){return Object(q.jsx)(os,{companySelectPage:e.state.companySelectPage,currentDivisionName:e.props.currentDivisionName,userLoadedCompanyList:e.props.userLoadedCompanyList,getDataRequest:e.props.getCompanyDataRequest,getCompanyDataStatus:e.props.getCompanyDataStatus,getCompanyValidDatesStatus:e.props.getCompanyValidDatesStatus,getCompanyValidDatesError:e.props.getCompanyValidDatesError,getCompanyValidSuggestionDatesStatus:e.props.getCompanyValidSuggestionDatesStatus,getCompanyValidSuggestionDatesError:e.props.getCompanyValidSuggestionDatesError,getCompanyEHIDataStatus:e.props.getCompanyEHIDataStatus,getCompanyEHIDataError:e.props.getCompanyEHIDataError,getDatesWebStatus:e.props.getDatesWebStatus,getDatesWebError:e.props.getDatesWebError})}}),Object(q.jsx)(u.a,{path:this.props.match.url+"/companyInvites",component:function(){return Object(q.jsx)(_t,{currentDivisionID:e.props.currentDivisionID,triggerRefresh:e.props.loadCompanyData,refreshToken:e.props.refreshToken,debugSet:e.props.debugSet})}}),Object(q.jsx)(u.a,{path:this.props.match.url+"/companyPerms",component:function(){return Object(q.jsx)(es,{currentDivisionID:e.props.currentDivisionID,triggerRefresh:e.props.loadCompanyData,refreshToken:e.props.refreshToken,debugSet:e.props.debugSet})}}),Object(q.jsx)(u.a,{path:this.props.match.url+"/companySettings",component:function(){return Object(q.jsx)(rs,{currentDivisionID:e.props.currentDivisionID,triggerRefresh:e.props.loadCompanyData,refreshToken:e.props.refreshToken,debugSet:e.props.debugSet})}}),Object(q.jsx)(u.a,{path:this.props.match.url+"/companySuggestions",component:function(){return Object(q.jsx)(ls,{currentDate:e.props.selectedSuggestDay,parentHasLoaded:e.state.pageIsLoaded,validDays:e.props.validDivisionSuggestionDates,dataDay:e.props.selectedSuggestDay,dataSet:e.props.selectedSuggestDayData,pickDate:e.props.getCompanySuggestionData,currentDivisionID:e.props.currentDivisionID,getCompanySuggestionDataStatus:e.props.getCompanySuggestionDataStatus,getCompanySuggestionDataError:e.props.getCompanySuggestionDataError})}}),Object(q.jsx)(u.a,{path:this.props.match.url+"/companyEHI",component:function(){return Object(q.jsx)(zt,{currentDivisionID:e.props.currentDivisionID,timeIndex:e.state.EHITimespan,EHIData:e.props.EHIData,EHIselectedPrompt:e.state.EHISelectedPrompt,EHIselectedTimescale:e.state.EHISelectedTimescale,EHISetPrompt:e.changeEHIPrompt,EHISetTimescale:e.changeEHITimescale,EHITimeToggle:e.EHITimeToggle})}}),Object(q.jsx)(u.a,{path:this.props.match.url+"/companySummary",component:function(){return Object(q.jsx)(gs,{currentDate:e.props.selectedCompanyDate,parentHasLoaded:e.state.pageIsLoaded,currentCompany:e.props.currentCompanyDataName,summaryType:e.props.currentCompanyDataType,validSummaryDates:e.props.validCompanySummaryDates,displayMessage:e.props.companyMessage,dataSet:e.props.selectedSummaryWeekData,selectedDay:e.props.selectedCompanyDay,selectedPrompt:e.props.selectedCompanyPrompt,selectedAspect:e.props.selectedCompanyAspect,setPrompt:e.props.changeCompanyPrompt,setAI:e.props.changeCompanyAspect,setDay:e.props.changeCompanyDay,setCompany:e.props.changeSelectedCompany,getValidDates:e.props.getCompanyValidDates,pickDate:e.props.getCompanyWeeklySummary,getCompanyWeeklySummaryStatus:e.props.getCompanyWeeklySummaryStatus,getCompanyWeeklySummaryError:e.props.getCompanyWeeklySummaryError})}}),Object(q.jsx)(u.a,{path:this.props.match.url+"/companyPrompts",component:function(){return Object(q.jsx)(ys,{refreshToken:e.props.refreshToken,currentDivisionID:e.props.currentDivisionID,redirectErrorPath:e.props.match.url+"/companySelect",validFilters:e.props.validFilters,debugSet:e.props.debugSet})}}),Object(q.jsx)(u.a,{path:this.props.match.url+"/companyWeb",component:function(){return Object(q.jsx)(ws,{refreshToken:e.props.refreshToken,parentHasLoaded:e.state.pageIsLoaded,currentUser:e.props.currentUser,currentDivisionName:e.props.currentDivisionName,currentDivisionID:e.props.currentDivisionID,reRouteTarget:e.props.match.url+"/companySelect",validDivisionWebDates:e.props.validDivisionWebDates,debugSet:e.props.debugSet})}}),Object(q.jsx)(u.a,{path:this.props.match.url+"/",component:function(){return Object(q.jsx)(Es,{})}})]})})})})})}}]),s}(r.a.Component),Ps=Object(u.f)(ks),Ts=s(547),Fs=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).state={},a}return Object(o.a)(s,[{key:"render",value:function(){return Object(q.jsx)("div",{className:"showingWebData",children:Object(q.jsx)("div",{className:"row my-3",children:Object(q.jsxs)("div",{className:"col",children:[Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:"Loading..."})}),Object(q.jsx)("div",{className:"row",children:Object(q.jsx)("div",{className:"col",children:Object(q.jsx)(Ts.a,{animation:"border",variant:"primary"})})})]})})})}}]),s}(r.a.Component),Is=Object(u.f)(Fs),Ls=(s(532),s(533),"/scenere"),Us="AppLevel",Ws=!1,As=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).timedRefresh=function(){},a.checkDebugFlag=function(){try{a.refs.debug.checkDebugFlag()}catch(e){}},a.clearDebugPage=function(e){try{a.refs.debug.clearPage(e)}catch(t){}},a.changeDebugKey=function(e,t,s){try{a.refs.debug.changeKey(e,t,s)}catch(r){}},a.disableMenu=function(){try{a.refs.sidebar.disableMenu()}catch(e){}},a.activateUserMenu=function(){try{a.refs.sidebar.activateMenu(0)}catch(e){}},a.activateCompanyMenu=function(){try{a.refs.sidebar.activateMenu(1)}catch(e){}},a.changeUserMenuItems=function(e){try{a.refs.sidebar.setUserFlag(e)}catch(t){}},a.changeCompanyMenuItems=function(e){try{a.refs.sidebar.setCompanyFlag(e)}catch(t){}},a.changeMenuUserName=function(e){try{a.refs.sidebar.setUserName(e)}catch(t){}},a.changeMenuCompanyName=function(e){try{a.refs.sidebar.setCompanyName(e)}catch(t){}},a.loadFromLocalStorage=function(){var e=te("lastUser");0===e||1===e||2===e?a.setState({pageIsLoaded:!0}):(a.changeMenuUserName(e.user),a.login(e.lastAccess,e.user,!0))},a.silentTokenUpdate=function(e){return f(e)},a.killAccessToken=function(){f("")},a.login=function(e,t,s){return a.changeMenuUserName(t),!0===s&&se("lastUser",{user:t,lastAccess:e},2),!!a.silentTokenUpdate(e)&&(a.setState({currentUser:t,rememberMe:s,pageIsLoaded:!0}),a.timerSet=setInterval(a.timedRefreshToken,78e4),!0)},a.refreshFailure=function(e,t){a.changeDebugKey(Us,"Refresh Status","Failed!"),a.logout(),Ws=!1},a.refreshCallback=function(e,t){a.changeDebugKey(Us,"Refresh Status","Success!"),a.silentTokenUpdate(e.access),Ws=!1,t()},a.silentRefreshToken=function(e){!function(e,t,s){var a={headers:{Authorization:"JWT ".concat(O)}};x.post("/api/customRefreshToken/",{},a).then((function(t){e(t.data,s)})).catch((function(e){var s=y(e);t(s)}))}(a.refreshCallback,a.refreshFailure,e)},a.timedRefreshToken=function(){a.changeDebugKey(Us,"Refresh Triggered","Time Based"),a.silentRefreshToken(a.timedRefresh)},a.triggerSilentRefreshToken=function(e){void 0===a.state.currentUser||Ws||(a.silentRefreshToken(e),Ws=!0)},a.deleteServerCookiesFailure=function(e){},a.deleteServerCookiesCallback=function(e){},a.deleteServerCookies=function(){!function(e,t){var s={headers:{Authorization:"JWT ".concat(O)}};x.post("/api/customDeleteToken/",{},s).then((function(t){e(t.data)})).catch((function(e){var s=y(e);t(s)}))}(a.deleteServerCookiesCallback,a.deleteServerCookiesFailure)},a.logout=function(){a.changeDebugKey(Us,"Logout function","Triggered"),a.deleteServerCookies(),clearInterval(a.timerSet),a.changeMenuUserName("No User"),a.silentTokenUpdate(void 0),ae("lastUser"),ae(a.state.currentUser+"/lastGotCompany"),ae(a.state.currentUser+"/lastUser"),a.setState({currentUser:void 0})},a.state={currentUser:void 0,rememberMe:!1,pageIsLoaded:!1},a.timerSet=void 0,a}return Object(o.a)(s,[{key:"componentDidMount",value:function(){m.a.each((function(e,t){var s=e.expiryDate;Date.now()>s&&m.a.remove(t)})),this.loadFromLocalStorage()}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerSet)}},{key:"render",value:function(){var e=this;return Object(q.jsx)(h.a,{children:Object(q.jsxs)("div",{className:"App",children:[Object(q.jsx)(z,{ref:"sidebar",basePath:Ls}),Object(q.jsx)(Se,{currentUser:this.state.currentUser,logout:this.logout,reRouteSignIn:"/scenere/signin",reRouteSignUp:"/scenere/signup",reRouteLanding:"/scenere/",reRouteDashboard:"/scenere/dashboard",reRouteUserInvites:"/scenere/dashboard/userMode/userInvite",reRouteUserSecurity:"/scenere/dashboard/userMode/userSecurity",reRouteUserPermissions:"/scenere/dashboard/userMode/userPermissions",debugSet:this.changeDebugKey}),Object(q.jsxs)(u.c,{children:[Object(q.jsx)(u.a,{path:"/scenere/",exact:!0,component:function(){return Object(q.jsx)(Ce,{})}}),Object(q.jsx)(u.a,{path:"/scenere/signin",exact:!0,component:function(){return Object(q.jsx)(ie,{loginSave:e.login,reRouteTarget:"/scenere/dashboard",forgotPath:"/scenere/forgot",debugSet:e.changeDebugKey})}}),Object(q.jsx)(u.a,{path:"/scenere/signup",exact:!0,component:function(){return Object(q.jsx)(oe,{reRouteTarget:"/scenere/verify",loginSave:e.login,authToken:e.state.accessToken})}}),Object(q.jsx)(u.a,{path:"/scenere/verify",exact:!0,component:function(){return Object(q.jsx)(ue,{authToken:e.state.accessToken,refreshToken:e.triggerSilentRefreshToken,reRouteTarget:"/scenere/signin",reRouteSuccessTarget:"/scenere/dashboard"})}}),Object(q.jsx)(u.a,{path:"/scenere/forgot",exact:!0,component:function(){return Object(q.jsx)(de,{reRouteTarget:"/scenere/signin"})}}),Object(q.jsx)(u.a,{path:"/scenere/contact",exact:!0,component:function(){return Object(q.jsx)(fe,{})}}),Object(q.jsx)(u.a,{path:"/scenere/dashboard",component:function(){return Object(q.jsx)(Te,{activateRedirect:"/scenere/verify",parentHasLoaded:e.state.pageIsLoaded,refreshToken:e.triggerSilentRefreshToken,logout:e.logout,currentUser:e.state.currentUser,authToken:e.state.accessToken,reRouteSignIn:"/scenere/signin",reRouteCompany:"/scenere/dashboard",reRouteUser:"/scenere/dashboard",disableMenu:e.disableMenu,activateUserMenu:e.activateUserMenu,changeUserMenuItems:e.changeUserMenuItems,activateCompanyMenu:e.activateCompanyMenu,changeMenuCompanyName:e.changeMenuCompanyName,changeCompanyMenuItems:e.changeCompanyMenuItems,debugSet:e.changeDebugKey})}})]}),Object(q.jsx)("div",{className:"row m-5"}),Object(q.jsx)(ye,{ref:"debug",debugFlag:this.state.debugMode,debugDisplay:this.state.debugDisplay})]})})}}]),s}(r.a.Component),Rs=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,553)).then((function(t){var s=t.getCLS,a=t.getFID,r=t.getFCP,n=t.getLCP,i=t.getTTFB;s(e),a(e),r(e),n(e),i(e)}))};s(534),s(535);i.a.render(Object(q.jsx)(As,{}),document.getElementById("root")),Rs()}},[[537,1,2]]]);
//# sourceMappingURL=main.85d490b8.chunk.js.map